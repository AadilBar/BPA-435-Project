function uY(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ET={exports:{}},g0={},CT={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function dY(){if(SO)return un;SO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function S(Y,oe,ke){this.props=Y,this.context=oe,this.refs=b,this.updater=ke||v}S.prototype.isReactComponent={},S.prototype.setState=function(Y,oe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,oe,"setState")},S.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function _(){}_.prototype=S.prototype;function w(Y,oe,ke){this.props=Y,this.context=oe,this.refs=b,this.updater=ke||v}var C=w.prototype=new _;C.constructor=w,y(C,S.prototype),C.isPureReactComponent=!0;var A=Array.isArray,R=Object.prototype.hasOwnProperty,O={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function z(Y,oe,ke){var he,Se={},Fe=null,Pe=null;if(oe!=null)for(he in oe.ref!==void 0&&(Pe=oe.ref),oe.key!==void 0&&(Fe=""+oe.key),oe)R.call(oe,he)&&!L.hasOwnProperty(he)&&(Se[he]=oe[he]);var me=arguments.length-2;if(me===1)Se.children=ke;else if(1<me){for(var ve=Array(me),Ve=0;Ve<me;Ve++)ve[Ve]=arguments[Ve+2];Se.children=ve}if(Y&&Y.defaultProps)for(he in me=Y.defaultProps,me)Se[he]===void 0&&(Se[he]=me[he]);return{$$typeof:t,type:Y,key:Fe,ref:Pe,props:Se,_owner:O.current}}function N(Y,oe){return{$$typeof:t,type:Y.type,key:oe,ref:Y.ref,props:Y.props,_owner:Y._owner}}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function B(Y){var oe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ke){return oe[ke]})}var H=/\/+/g;function J(Y,oe){return typeof Y=="object"&&Y!==null&&Y.key!=null?B(""+Y.key):oe.toString(36)}function Z(Y,oe,ke,he,Se){var Fe=typeof Y;(Fe==="undefined"||Fe==="boolean")&&(Y=null);var Pe=!1;if(Y===null)Pe=!0;else switch(Fe){case"string":case"number":Pe=!0;break;case"object":switch(Y.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=Y,Se=Se(Pe),Y=he===""?"."+J(Pe,0):he,A(Se)?(ke="",Y!=null&&(ke=Y.replace(H,"$&/")+"/"),Z(Se,oe,ke,"",function(Ve){return Ve})):Se!=null&&(k(Se)&&(Se=N(Se,ke+(!Se.key||Pe&&Pe.key===Se.key?"":(""+Se.key).replace(H,"$&/")+"/")+Y)),oe.push(Se)),1;if(Pe=0,he=he===""?".":he+":",A(Y))for(var me=0;me<Y.length;me++){Fe=Y[me];var ve=he+J(Fe,me);Pe+=Z(Fe,oe,ke,ve,Se)}else if(ve=p(Y),typeof ve=="function")for(Y=ve.call(Y),me=0;!(Fe=Y.next()).done;)Fe=Fe.value,ve=he+J(Fe,me++),Pe+=Z(Fe,oe,ke,ve,Se);else if(Fe==="object")throw oe=String(Y),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Pe}function $(Y,oe,ke){if(Y==null)return Y;var he=[],Se=0;return Z(Y,he,"","",function(Fe){return oe.call(ke,Fe,Se++)}),he}function K(Y){if(Y._status===-1){var oe=Y._result;oe=oe(),oe.then(function(ke){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ke)},function(ke){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ke)}),Y._status===-1&&(Y._status=0,Y._result=oe)}if(Y._status===1)return Y._result.default;throw Y._result}var W={current:null},V={transition:null},X={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:V,ReactCurrentOwner:O};function te(){throw Error("act(...) is not supported in production builds of React.")}return un.Children={map:$,forEach:function(Y,oe,ke){$(Y,function(){oe.apply(this,arguments)},ke)},count:function(Y){var oe=0;return $(Y,function(){oe++}),oe},toArray:function(Y){return $(Y,function(oe){return oe})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},un.Component=S,un.Fragment=n,un.Profiler=r,un.PureComponent=w,un.StrictMode=i,un.Suspense=l,un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,un.act=te,un.cloneElement=function(Y,oe,ke){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var he=y({},Y.props),Se=Y.key,Fe=Y.ref,Pe=Y._owner;if(oe!=null){if(oe.ref!==void 0&&(Fe=oe.ref,Pe=O.current),oe.key!==void 0&&(Se=""+oe.key),Y.type&&Y.type.defaultProps)var me=Y.type.defaultProps;for(ve in oe)R.call(oe,ve)&&!L.hasOwnProperty(ve)&&(he[ve]=oe[ve]===void 0&&me!==void 0?me[ve]:oe[ve])}var ve=arguments.length-2;if(ve===1)he.children=ke;else if(1<ve){me=Array(ve);for(var Ve=0;Ve<ve;Ve++)me[Ve]=arguments[Ve+2];he.children=me}return{$$typeof:t,type:Y.type,key:Se,ref:Fe,props:he,_owner:Pe}},un.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},un.createElement=z,un.createFactory=function(Y){var oe=z.bind(null,Y);return oe.type=Y,oe},un.createRef=function(){return{current:null}},un.forwardRef=function(Y){return{$$typeof:a,render:Y}},un.isValidElement=k,un.lazy=function(Y){return{$$typeof:d,_payload:{_status:-1,_result:Y},_init:K}},un.memo=function(Y,oe){return{$$typeof:c,type:Y,compare:oe===void 0?null:oe}},un.startTransition=function(Y){var oe=V.transition;V.transition={};try{Y()}finally{V.transition=oe}},un.unstable_act=te,un.useCallback=function(Y,oe){return W.current.useCallback(Y,oe)},un.useContext=function(Y){return W.current.useContext(Y)},un.useDebugValue=function(){},un.useDeferredValue=function(Y){return W.current.useDeferredValue(Y)},un.useEffect=function(Y,oe){return W.current.useEffect(Y,oe)},un.useId=function(){return W.current.useId()},un.useImperativeHandle=function(Y,oe,ke){return W.current.useImperativeHandle(Y,oe,ke)},un.useInsertionEffect=function(Y,oe){return W.current.useInsertionEffect(Y,oe)},un.useLayoutEffect=function(Y,oe){return W.current.useLayoutEffect(Y,oe)},un.useMemo=function(Y,oe){return W.current.useMemo(Y,oe)},un.useReducer=function(Y,oe,ke){return W.current.useReducer(Y,oe,ke)},un.useRef=function(Y){return W.current.useRef(Y)},un.useState=function(Y){return W.current.useState(Y)},un.useSyncExternalStore=function(Y,oe,ke){return W.current.useSyncExternalStore(Y,oe,ke)},un.useTransition=function(){return W.current.useTransition()},un.version="18.3.1",un}var wO;function Yg(){return wO||(wO=1,CT.exports=dY()),CT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function fY(){if(EO)return g0;EO=1;var t=Yg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,h={},p=null,v=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(v=l.ref);for(d in l)i.call(l,d)&&!s.hasOwnProperty(d)&&(h[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:e,type:a,key:p,ref:v,props:h,_owner:r.current}}return g0.Fragment=n,g0.jsx=o,g0.jsxs=o,g0}var CO;function hY(){return CO||(CO=1,ET.exports=fY()),ET.exports}var E=hY(),U=Yg();const rt=Bx(U),TO=uY({__proto__:null,default:rt},[U]);var C1={},TT={exports:{}},Zs={},MT={exports:{}},AT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function pY(){return MO||(MO=1,function(t){function e(V,X){var te=V.length;V.push(X);e:for(;0<te;){var Y=te-1>>>1,oe=V[Y];if(0<r(oe,X))V[Y]=X,V[te]=oe,te=Y;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var X=V[0],te=V.pop();if(te!==X){V[0]=te;e:for(var Y=0,oe=V.length,ke=oe>>>1;Y<ke;){var he=2*(Y+1)-1,Se=V[he],Fe=he+1,Pe=V[Fe];if(0>r(Se,te))Fe<oe&&0>r(Pe,Se)?(V[Y]=Pe,V[Fe]=te,Y=Fe):(V[Y]=Se,V[he]=te,Y=he);else if(Fe<oe&&0>r(Pe,te))V[Y]=Pe,V[Fe]=te,Y=Fe;else break e}}return X}function r(V,X){var te=V.sortIndex-X.sortIndex;return te!==0?te:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var X=n(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=V)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function A(V){if(b=!1,C(V),!y)if(n(l)!==null)y=!0,K(R);else{var X=n(c);X!==null&&W(A,X.startTime-V)}}function R(V,X){y=!1,b&&(b=!1,_(z),z=-1),v=!0;var te=p;try{for(C(X),h=n(l);h!==null&&(!(h.expirationTime>X)||V&&!B());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var oe=Y(h.expirationTime<=X);X=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&i(l),C(X)}else i(l);h=n(l)}if(h!==null)var ke=!0;else{var he=n(c);he!==null&&W(A,he.startTime-X),ke=!1}return ke}finally{h=null,p=te,v=!1}}var O=!1,L=null,z=-1,N=5,k=-1;function B(){return!(t.unstable_now()-k<N)}function H(){if(L!==null){var V=t.unstable_now();k=V;var X=!0;try{X=L(!0,V)}finally{X?J():(O=!1,L=null)}}else O=!1}var J;if(typeof w=="function")J=function(){w(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=H,J=function(){$.postMessage(null)}}else J=function(){S(H,0)};function K(V){L=V,O||(O=!0,J())}function W(V,X){z=S(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,K(R))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var te=p;p=X;try{return V()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=p;p=V;try{return X()}finally{p=te}},t.unstable_scheduleCallback=function(V,X,te){var Y=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Y+te:Y):te=Y,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=te+oe,V={id:d++,callback:X,priorityLevel:V,startTime:te,expirationTime:oe,sortIndex:-1},te>Y?(V.sortIndex=te,e(c,V),n(l)===null&&V===n(c)&&(b?(_(z),z=-1):b=!0,W(A,te-Y))):(V.sortIndex=oe,e(l,V),y||v||(y=!0,K(R))),V},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(V){var X=p;return function(){var te=p;p=X;try{return V.apply(this,arguments)}finally{p=te}}}}(AT)),AT}var AO;function mY(){return AO||(AO=1,MT.exports=pY()),MT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function gY(){if(PO)return Zs;PO=1;var t=Yg(),e=mY();function n(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,x=1;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(r[u]=f,u=0;u<f.length;u++)i.add(f[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(u){return l.call(h,u)?!0:l.call(d,u)?!1:c.test(u)?h[u]=!0:(d[u]=!0,!1)}function v(u,f,x,M){if(x!==null&&x.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return M?!1:x!==null?!x.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function y(u,f,x,M){if(f===null||typeof f>"u"||v(u,f,x,M))return!0;if(M)return!1;if(x!==null)switch(x.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function b(u,f,x,M,I,F,G){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=M,this.attributeNamespace=I,this.mustUseProperty=x,this.propertyName=u,this.type=f,this.sanitizeURL=F,this.removeEmptyString=G}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){S[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];S[f]=new b(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){S[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){S[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){S[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){S[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){S[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){S[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){S[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function w(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(_,w);S[f]=new b(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(_,w);S[f]=new b(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(_,w);S[f]=new b(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){S[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){S[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function C(u,f,x,M){var I=S.hasOwnProperty(f)?S[f]:null;(I!==null?I.type!==0:M||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(y(f,x,I,M)&&(x=null),M||I===null?p(f)&&(x===null?u.removeAttribute(f):u.setAttribute(f,""+x)):I.mustUseProperty?u[I.propertyName]=x===null?I.type===3?!1:"":x:(f=I.attributeName,M=I.attributeNamespace,x===null?u.removeAttribute(f):(I=I.type,x=I===3||I===4&&x===!0?"":""+x,M?u.setAttributeNS(M,f,x):u.setAttribute(f,x))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),O=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),V=Symbol.iterator;function X(u){return u===null||typeof u!="object"?null:(u=V&&u[V]||u["@@iterator"],typeof u=="function"?u:null)}var te=Object.assign,Y;function oe(u){if(Y===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);Y=f&&f[1]||""}return`
`+Y+u}var ke=!1;function he(u,f){if(!u||ke)return"";ke=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var M=Ee}Reflect.construct(u,[],f)}else{try{f.call()}catch(Ee){M=Ee}u.call(f.prototype)}else{try{throw Error()}catch(Ee){M=Ee}u()}}catch(Ee){if(Ee&&M&&typeof Ee.stack=="string"){for(var I=Ee.stack.split(`
`),F=M.stack.split(`
`),G=I.length-1,se=F.length-1;1<=G&&0<=se&&I[G]!==F[se];)se--;for(;1<=G&&0<=se;G--,se--)if(I[G]!==F[se]){if(G!==1||se!==1)do if(G--,se--,0>se||I[G]!==F[se]){var ae=`
`+I[G].replace(" at new "," at ");return u.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",u.displayName)),ae}while(1<=G&&0<=se);break}}}finally{ke=!1,Error.prepareStackTrace=x}return(u=u?u.displayName||u.name:"")?oe(u):""}function Se(u){switch(u.tag){case 5:return oe(u.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return u=he(u.type,!1),u;case 11:return u=he(u.type.render,!1),u;case 1:return u=he(u.type,!0),u;default:return""}}function Fe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case L:return"Fragment";case O:return"Portal";case N:return"Profiler";case z:return"StrictMode";case J:return"Suspense";case Z:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case B:return(u.displayName||"Context")+".Consumer";case k:return(u._context.displayName||"Context")+".Provider";case H:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case $:return f=u.displayName||null,f!==null?f:Fe(u.type)||"Memo";case K:f=u._payload,u=u._init;try{return Fe(u(f))}catch{}}return null}function Pe(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(f);case 8:return f===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function me(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ve(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ve(u){var f=ve(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),M=""+u[f];if(!u.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var I=x.get,F=x.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return I.call(this)},set:function(G){M=""+G,F.call(this,G)}}),Object.defineProperty(u,f,{enumerable:x.enumerable}),{getValue:function(){return M},setValue:function(G){M=""+G},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function lt(u){u._valueTracker||(u._valueTracker=Ve(u))}function ee(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var x=f.getValue(),M="";return u&&(M=ve(u)?u.checked?"true":"false":u.value),u=M,u!==x?(f.setValue(u),!0):!1}function Re(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ue(u,f){var x=f.checked;return te({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??u._wrapperState.initialChecked})}function tt(u,f){var x=f.defaultValue==null?"":f.defaultValue,M=f.checked!=null?f.checked:f.defaultChecked;x=me(f.value!=null?f.value:x),u._wrapperState={initialChecked:M,initialValue:x,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ae(u,f){f=f.checked,f!=null&&C(u,"checked",f,!1)}function Tt(u,f){Ae(u,f);var x=me(f.value),M=f.type;if(x!=null)M==="number"?(x===0&&u.value===""||u.value!=x)&&(u.value=""+x):u.value!==""+x&&(u.value=""+x);else if(M==="submit"||M==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?ct(u,f.type,x):f.hasOwnProperty("defaultValue")&&ct(u,f.type,me(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function nt(u,f,x){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var M=f.type;if(!(M!=="submit"&&M!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,x||f===u.value||(u.value=f),u.defaultValue=f}x=u.name,x!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,x!==""&&(u.name=x)}function ct(u,f,x){(f!=="number"||Re(u.ownerDocument)!==u)&&(x==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+x&&(u.defaultValue=""+x))}var ie=Array.isArray;function q(u,f,x,M){if(u=u.options,f){f={};for(var I=0;I<x.length;I++)f["$"+x[I]]=!0;for(x=0;x<u.length;x++)I=f.hasOwnProperty("$"+u[x].value),u[x].selected!==I&&(u[x].selected=I),I&&M&&(u[x].defaultSelected=!0)}else{for(x=""+me(x),f=null,I=0;I<u.length;I++){if(u[I].value===x){u[I].selected=!0,M&&(u[I].defaultSelected=!0);return}f!==null||u[I].disabled||(f=u[I])}f!==null&&(f.selected=!0)}}function _e(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Ne(u,f){var x=f.value;if(x==null){if(x=f.children,f=f.defaultValue,x!=null){if(f!=null)throw Error(n(92));if(ie(x)){if(1<x.length)throw Error(n(93));x=x[0]}f=x}f==null&&(f=""),x=f}u._wrapperState={initialValue:me(x)}}function Ie(u,f){var x=me(f.value),M=me(f.defaultValue);x!=null&&(x=""+x,x!==u.value&&(u.value=x),f.defaultValue==null&&u.defaultValue!==x&&(u.defaultValue=x)),M!=null&&(u.defaultValue=""+M)}function ze(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function Mt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?Mt(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var ut,Vt=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,x,M,I){MSApp.execUnsafeLocalFunction(function(){return u(f,x,M,I)})}:u}(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=ut.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function We(u,f){if(f){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=f;return}}u.textContent=f}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ln=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(u){ln.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),st[f]=st[u]})});function Lt(u,f,x){return f==null||typeof f=="boolean"||f===""?"":x||typeof f!="number"||f===0||st.hasOwnProperty(u)&&st[u]?(""+f).trim():f+"px"}function mt(u,f){u=u.style;for(var x in f)if(f.hasOwnProperty(x)){var M=x.indexOf("--")===0,I=Lt(x,f[x],M);x==="float"&&(x="cssFloat"),M?u.setProperty(x,I):u[x]=I}}var jt=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qt(u,f){if(f){if(jt[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Ln(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ue=null;function $e(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oe=null,Le=null,Ye=null;function It(u){if(u=Sa(u)){if(typeof Oe!="function")throw Error(n(280));var f=u.stateNode;f&&(f=Jp(f),Oe(u.stateNode,u.type,f))}}function on(u){Le?Ye?Ye.push(u):Ye=[u]:Le=u}function ii(){if(Le){var u=Le,f=Ye;if(Ye=Le=null,It(u),f)for(u=0;u<f.length;u++)It(f[u])}}function Ii(u,f){return u(f)}function gn(){}var Kr=!1;function Jr(u,f,x){if(Kr)return u(f,x);Kr=!0;try{return Ii(u,f,x)}finally{Kr=!1,(Le!==null||Ye!==null)&&(gn(),ii())}}function cl(u,f){var x=u.stateNode;if(x===null)return null;var M=Jp(x);if(M===null)return null;x=M[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(u=u.type,M=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!M;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(n(231,f,typeof x));return x}var uo=!1;if(a)try{var da={};Object.defineProperty(da,"passive",{get:function(){uo=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{uo=!1}function rf(u,f,x,M,I,F,G,se,ae){var Ee=Array.prototype.slice.call(arguments,3);try{f.apply(x,Ee)}catch(je){this.onError(je)}}var Uo=!1,fa=null,fo=!1,ul=null,gp={onError:function(u){Uo=!0,fa=u}};function vp(u,f,x,M,I,F,G,se,ae){Uo=!1,fa=null,rf.apply(gp,arguments)}function bv(u,f,x,M,I,F,G,se,ae){if(vp.apply(this,arguments),Uo){if(Uo){var Ee=fa;Uo=!1,fa=null}else throw Error(n(198));fo||(fo=!0,ul=Ee)}}function ha(u){var f=u,x=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(x=f.return),u=f.return;while(u)}return f.tag===3?x:null}function yp(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function Q(u){if(ha(u)!==u)throw Error(n(188))}function de(u){var f=u.alternate;if(!f){if(f=ha(u),f===null)throw Error(n(188));return f!==u?null:u}for(var x=u,M=f;;){var I=x.return;if(I===null)break;var F=I.alternate;if(F===null){if(M=I.return,M!==null){x=M;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===x)return Q(I),u;if(F===M)return Q(I),f;F=F.sibling}throw Error(n(188))}if(x.return!==M.return)x=I,M=F;else{for(var G=!1,se=I.child;se;){if(se===x){G=!0,x=I,M=F;break}if(se===M){G=!0,M=I,x=F;break}se=se.sibling}if(!G){for(se=F.child;se;){if(se===x){G=!0,x=F,M=I;break}if(se===M){G=!0,M=F,x=I;break}se=se.sibling}if(!G)throw Error(n(189))}}if(x.alternate!==M)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?u:f}function be(u){return u=de(u),u!==null?we(u):null}function we(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=we(u);if(f!==null)return f;u=u.sibling}return null}var pe=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,dt=e.unstable_shouldYield,xt=e.unstable_requestPaint,Je=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,Pt=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,jn=e.unstable_LowPriority,Tn=e.unstable_IdlePriority,Jn=null,vt=null;function Qe(u){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Jn,u,void 0,(u.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Qr,zt=Math.log,Hn=Math.LN2;function Qr(u){return u>>>=0,u===0?32:31-(zt(u)/Hn|0)|0}var di=64,_i=4194304;function In(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Zr(u,f){var x=u.pendingLanes;if(x===0)return 0;var M=0,I=u.suspendedLanes,F=u.pingedLanes,G=x&268435455;if(G!==0){var se=G&~I;se!==0?M=In(se):(F&=G,F!==0&&(M=In(F)))}else G=x&~I,G!==0?M=In(G):F!==0&&(M=In(F));if(M===0)return 0;if(f!==0&&f!==M&&(f&I)===0&&(I=M&-M,F=f&-f,I>=F||I===16&&(F&4194240)!==0))return f;if((M&4)!==0&&(M|=x&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=M;0<f;)x=31-cn(f),I=1<<x,M|=u[x],f&=~I;return M}function Tu(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(u,f){for(var x=u.suspendedLanes,M=u.pingedLanes,I=u.expirationTimes,F=u.pendingLanes;0<F;){var G=31-cn(F),se=1<<G,ae=I[G];ae===-1?((se&x)===0||(se&M)!==0)&&(I[G]=Tu(se,f)):ae<=f&&(u.expiredLanes|=se),F&=~se}}function dl(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function es(){var u=di;return di<<=1,(di&4194240)===0&&(di=64),u}function Mu(u){for(var f=[],x=0;31>x;x++)f.push(u);return f}function sf(u,f,x){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-cn(f),u[f]=x}function XC(u,f){var x=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<x;){var I=31-cn(x),F=1<<I;f[I]=0,M[I]=-1,u[I]=-1,x&=~F}}function Au(u,f){var x=u.entangledLanes|=f;for(u=u.entanglements;x;){var M=31-cn(x),I=1<<M;I&f|u[M]&f&&(u[M]|=f),x&=~I}}var _n=0;function Pu(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var of,Sv,N_,xp,_p,rc=!1,bp=[],Bo=null,nn=null,pa=null,sc=new Map,Ru=new Map,fl=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(u,f){switch(u){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":sc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(f.pointerId)}}function oc(u,f,x,M,I,F){return u===null||u.nativeEvent!==F?(u={blockedOn:f,domEventName:x,eventSystemFlags:M,nativeEvent:F,targetContainers:[I]},f!==null&&(f=Sa(f),f!==null&&Sv(f)),u):(u.eventSystemFlags|=M,f=u.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),u)}function KC(u,f,x,M,I){switch(f){case"focusin":return Bo=oc(Bo,u,f,x,M,I),!0;case"dragenter":return nn=oc(nn,u,f,x,M,I),!0;case"mouseover":return pa=oc(pa,u,f,x,M,I),!0;case"pointerover":var F=I.pointerId;return sc.set(F,oc(sc.get(F)||null,u,f,x,M,I)),!0;case"gotpointercapture":return F=I.pointerId,Ru.set(F,oc(Ru.get(F)||null,u,f,x,M,I)),!0}return!1}function Sp(u){var f=xl(u.target);if(f!==null){var x=ha(f);if(x!==null){if(f=x.tag,f===13){if(f=yp(x),f!==null){u.blockedOn=f,_p(u.priority,function(){N_(x)});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function wp(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var x=Hs(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(x===null){x=u.nativeEvent;var M=new x.constructor(x.type,x);ue=M,x.target.dispatchEvent(M),ue=null}else return f=Sa(x),f!==null&&Sv(f),u.blockedOn=x,!1;f.shift()}return!0}function af(u,f,x){wp(u)&&x.delete(f)}function Vo(){rc=!1,Bo!==null&&wp(Bo)&&(Bo=null),nn!==null&&wp(nn)&&(nn=null),pa!==null&&wp(pa)&&(pa=null),sc.forEach(af),Ru.forEach(af)}function lf(u,f){u.blockedOn===f&&(u.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vo)))}function cf(u){function f(I){return lf(I,u)}if(0<bp.length){lf(bp[0],u);for(var x=1;x<bp.length;x++){var M=bp[x];M.blockedOn===u&&(M.blockedOn=null)}}for(Bo!==null&&lf(Bo,u),nn!==null&&lf(nn,u),pa!==null&&lf(pa,u),sc.forEach(f),Ru.forEach(f),x=0;x<fl.length;x++)M=fl[x],M.blockedOn===u&&(M.blockedOn=null);for(;0<fl.length&&(x=fl[0],x.blockedOn===null);)Sp(x),x.blockedOn===null&&fl.shift()}var Or=A.ReactCurrentBatchConfig,js=!0;function Ep(u,f,x,M){var I=_n,F=Or.transition;Or.transition=null;try{_n=1,Cp(u,f,x,M)}finally{_n=I,Or.transition=F}}function wv(u,f,x,M){var I=_n,F=Or.transition;Or.transition=null;try{_n=4,Cp(u,f,x,M)}finally{_n=I,Or.transition=F}}function Cp(u,f,x,M){if(js){var I=Hs(u,f,x,M);if(I===null)Gp(u,f,M,Tp,x),Ui(u,M);else if(KC(I,u,f,x,M))M.stopPropagation();else if(Ui(u,M),f&4&&-1<YC.indexOf(u)){for(;I!==null;){var F=Sa(I);if(F!==null&&of(F),F=Hs(u,f,x,M),F===null&&Gp(u,f,M,Tp,x),F===I)break;I=F}I!==null&&M.stopPropagation()}else Gp(u,f,M,null,x)}}var Tp=null;function Hs(u,f,x,M){if(Tp=null,u=$e(M),u=xl(u),u!==null)if(f=ha(u),f===null)u=null;else if(x=f.tag,x===13){if(u=yp(f),u!==null)return u;u=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return Tp=u,null}function O_(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case Pt:return 1;case bt:return 4;case hn:case jn:return 16;case Tn:return 536870912;default:return 16}default:return 16}}var ho=null,Ev=null,ts=null;function uf(){if(ts)return ts;var u,f=Ev,x=f.length,M,I="value"in ho?ho.value:ho.textContent,F=I.length;for(u=0;u<x&&f[u]===I[u];u++);var G=x-u;for(M=1;M<=G&&f[x-M]===I[F-M];M++);return ts=I.slice(u,1<M?1-M:void 0)}function ac(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function ma(){return!0}function Mp(){return!1}function Lr(u){function f(x,M,I,F,G){this._reactName=x,this._targetInst=I,this.type=M,this.nativeEvent=F,this.target=G,this.currentTarget=null;for(var se in u)u.hasOwnProperty(se)&&(x=u[se],this[se]=x?x(F):F[se]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ma:Mp,this.isPropagationStopped=Mp,this}return te(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),f}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=Lr(lc),cc=te({},lc,{view:0,detail:0}),Iu=Lr(cc),ns,Ws,Gs,ku=te({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Gs&&(Gs&&u.type==="mousemove"?(ns=u.screenX-Gs.screenX,Ws=u.screenY-Gs.screenY):Ws=ns=0,Gs=u),ns)},movementY:function(u){return"movementY"in u?u.movementY:Ws}}),Cv=Lr(ku),ga=te({},ku,{dataTransfer:0}),hl=Lr(ga),Ap=te({},cc,{relatedTarget:0}),Pp=Lr(Ap),Rp=te({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Lr(Rp),D_=te({},lc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Tv=Lr(D_),Ip=te({},lc,{data:0}),Mv=Lr(Ip),F_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Av[u])?!!f[u]:!1}function pl(){return Nu}var kp=te({},cc,{key:function(u){if(u.key){var f=F_[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=ac(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?z_[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(u){return u.type==="keypress"?ac(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ac(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Np=Lr(kp),$s=te({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=Lr($s),uc=te({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),va=Lr(uc),ya=te({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),dc=Lr(ya),U_=te({},ku,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Pv=Lr(U_),Rv=[9,13,27,32],Dr=a&&"CompositionEvent"in window,ar=null;a&&"documentMode"in document&&(ar=document.documentMode);var ri=a&&"TextEvent"in window&&!ar,Ou=a&&(!Dr||ar&&8<ar&&11>=ar),qs=" ",Iv=!1;function kv(u,f){switch(u){case"keyup":return Rv.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ml=!1;function B_(u,f){switch(u){case"compositionend":return Op(f);case"keypress":return f.which!==32?null:(Iv=!0,qs);case"textInput":return u=f.data,u===qs&&Iv?null:u;default:return null}}function ff(u,f){if(ml)return u==="compositionend"||!Dr&&kv(u,f)?(u=uf(),ts=Ev=ho=null,ml=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ou&&f.locale!=="ko"?null:f.data;default:return null}}var Lu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Lu[u.type]:f==="textarea"}function Du(u,f,x,M){on(M),f=$p(f,"onChange"),0<f.length&&(x=new df("onChange","change",null,x,M),u.push({event:x,listeners:f}))}var gl=null,Fu=null;function V_(u){Vu(u,0)}function xa(u){var f=bi(u);if(ee(f))return u}function j_(u,f){if(u==="change")return f}var zu=!1;if(a){var is;if(a){var fc="oninput"in document;if(!fc){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),fc=typeof hc.oninput=="function"}is=fc}else is=!1;zu=is&&(!document.documentMode||9<document.documentMode)}function po(){gl&&(gl.detachEvent("onpropertychange",Dp),Fu=gl=null)}function Dp(u){if(u.propertyName==="value"&&xa(Fu)){var f=[];Du(f,Fu,u,$e(u)),Jr(V_,f)}}function Uu(u,f,x){u==="focusin"?(po(),gl=f,Fu=x,gl.attachEvent("onpropertychange",Dp)):u==="focusout"&&po()}function H_(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return xa(Fu)}function Nv(u,f){if(u==="click")return xa(f)}function fi(u,f){if(u==="input"||u==="change")return xa(f)}function Fp(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ws=typeof Object.is=="function"?Object.is:Fp;function pc(u,f){if(ws(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var x=Object.keys(u),M=Object.keys(f);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var I=x[M];if(!l.call(f,I)||!ws(u[I],f[I]))return!1}return!0}function hf(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Es(u,f){var x=hf(u);u=0;for(var M;x;){if(x.nodeType===3){if(M=u+x.textContent.length,u<=f&&M>=f)return{node:x,offset:f-u};u=M}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=hf(x)}}function mc(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?mc(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function hi(){for(var u=window,f=Re();f instanceof u.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)u=f.contentWindow;else break;f=Re(u.document)}return f}function Gi(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function $i(u){var f=hi(),x=u.focusedElem,M=u.selectionRange;if(f!==x&&x&&x.ownerDocument&&mc(x.ownerDocument.documentElement,x)){if(M!==null&&Gi(x)){if(f=M.start,u=M.end,u===void 0&&(u=f),"selectionStart"in x)x.selectionStart=f,x.selectionEnd=Math.min(u,x.value.length);else if(u=(f=x.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var I=x.textContent.length,F=Math.min(M.start,I);M=M.end===void 0?F:Math.min(M.end,I),!u.extend&&F>M&&(I=M,M=F,F=I),I=Es(x,F);var G=Es(x,M);I&&G&&(u.rangeCount!==1||u.anchorNode!==I.node||u.anchorOffset!==I.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(f=f.createRange(),f.setStart(I.node,I.offset),u.removeAllRanges(),F>M?(u.addRange(f),u.extend(G.node,G.offset)):(f.setEnd(G.node,G.offset),u.addRange(f)))}}for(f=[],u=x;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<f.length;x++)u=f[x],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var zp=a&&"documentMode"in document&&11>=document.documentMode,jo=null,gc=null,pf=null,qi=!1;function Up(u,f,x){var M=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;qi||jo==null||jo!==Re(M)||(M=jo,"selectionStart"in M&&Gi(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),pf&&pc(pf,M)||(pf=M,M=$p(gc,"onSelect"),0<M.length&&(f=new df("onSelect","select",null,f,x),u.push({event:f,listeners:M}),f.target=jo)))}function Bu(u,f){var x={};return x[u.toLowerCase()]=f.toLowerCase(),x["Webkit"+u]="webkit"+f,x["Moz"+u]="moz"+f,x}var vl={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},mo={},go={};a&&(go=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Ho(u){if(mo[u])return mo[u];if(!vl[u])return u;var f=vl[u],x;for(x in f)if(f.hasOwnProperty(x)&&x in go)return mo[u]=f[x];return u}var mf=Ho("animationend"),gf=Ho("animationiteration"),Ov=Ho("animationstart"),Lv=Ho("transitionend"),Dv=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(u,f){Dv.set(u,f),s(f,[u])}for(var Bp=0;Bp<Fv.length;Bp++){var vf=Fv[Bp],yf=vf.toLowerCase(),W_=vf[0].toUpperCase()+vf.slice(1);_a(yf,"on"+W_)}_a(mf,"onAnimationEnd"),_a(gf,"onAnimationIteration"),_a(Ov,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(Lv,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function jp(u,f,x){var M=u.type||"unknown-event";u.currentTarget=x,bv(M,f,void 0,u),u.currentTarget=null}function Vu(u,f){f=(f&4)!==0;for(var x=0;x<u.length;x++){var M=u[x],I=M.event;M=M.listeners;e:{var F=void 0;if(f)for(var G=M.length-1;0<=G;G--){var se=M[G],ae=se.instance,Ee=se.currentTarget;if(se=se.listener,ae!==F&&I.isPropagationStopped())break e;jp(I,se,Ee),F=ae}else for(G=0;G<M.length;G++){if(se=M[G],ae=se.instance,Ee=se.currentTarget,se=se.listener,ae!==F&&I.isPropagationStopped())break e;jp(I,se,Ee),F=ae}}}if(fo)throw u=ul,fo=!1,ul=null,u}function Wn(u,f){var x=f[xc];x===void 0&&(x=f[xc]=new Set);var M=u+"__bubble";x.has(M)||(Wp(f,u,2,!1),x.add(M))}function Hp(u,f,x){var M=0;f&&(M|=4),Wp(x,u,M,f)}var xf="_reactListening"+Math.random().toString(36).slice(2);function ju(u){if(!u[xf]){u[xf]=!0,i.forEach(function(x){x!=="selectionchange"&&(Vp.has(x)||Hp(x,!1,u),Hp(x,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[xf]||(f[xf]=!0,Hp("selectionchange",!1,f))}}function Wp(u,f,x,M){switch(O_(f)){case 1:var I=Ep;break;case 4:I=wv;break;default:I=Cp}x=I.bind(null,f,x,u),I=void 0,!uo||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),M?I!==void 0?u.addEventListener(f,x,{capture:!0,passive:I}):u.addEventListener(f,x,!0):I!==void 0?u.addEventListener(f,x,{passive:I}):u.addEventListener(f,x,!1)}function Gp(u,f,x,M,I){var F=M;if((f&1)===0&&(f&2)===0&&M!==null)e:for(;;){if(M===null)return;var G=M.tag;if(G===3||G===4){var se=M.stateNode.containerInfo;if(se===I||se.nodeType===8&&se.parentNode===I)break;if(G===4)for(G=M.return;G!==null;){var ae=G.tag;if((ae===3||ae===4)&&(ae=G.stateNode.containerInfo,ae===I||ae.nodeType===8&&ae.parentNode===I))return;G=G.return}for(;se!==null;){if(G=xl(se),G===null)return;if(ae=G.tag,ae===5||ae===6){M=F=G;continue e}se=se.parentNode}}M=M.return}Jr(function(){var Ee=F,je=$e(x),He=[];e:{var Be=Dv.get(u);if(Be!==void 0){var pt=df,_t=u;switch(u){case"keypress":if(ac(x)===0)break e;case"keydown":case"keyup":pt=Np;break;case"focusin":_t="focus",pt=Pp;break;case"focusout":_t="blur",pt=Pp;break;case"beforeblur":case"afterblur":pt=Pp;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=va;break;case mf:case gf:case Ov:pt=L_;break;case Lv:pt=dc;break;case"scroll":pt=Iu;break;case"wheel":pt=Pv;break;case"copy":case"cut":case"paste":pt=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Ss}var St=(f&4)!==0,Vi=!St&&u==="scroll",ge=St?Be!==null?Be+"Capture":null:Be;St=[];for(var le=Ee,ye;le!==null;){ye=le;var Xe=ye.stateNode;if(ye.tag===5&&Xe!==null&&(ye=Xe,ge!==null&&(Xe=cl(le,ge),Xe!=null&&St.push(Hu(le,Xe,ye)))),Vi)break;le=le.return}0<St.length&&(Be=new pt(Be,_t,null,x,je),He.push({event:Be,listeners:St}))}}if((f&7)===0){e:{if(Be=u==="mouseover"||u==="pointerover",pt=u==="mouseout"||u==="pointerout",Be&&x!==ue&&(_t=x.relatedTarget||x.fromElement)&&(xl(_t)||_t[Cs]))break e;if((pt||Be)&&(Be=je.window===je?je:(Be=je.ownerDocument)?Be.defaultView||Be.parentWindow:window,pt?(_t=x.relatedTarget||x.toElement,pt=Ee,_t=_t?xl(_t):null,_t!==null&&(Vi=ha(_t),_t!==Vi||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(pt=null,_t=Ee),pt!==_t)){if(St=Cv,Xe="onMouseLeave",ge="onMouseEnter",le="mouse",(u==="pointerout"||u==="pointerover")&&(St=Ss,Xe="onPointerLeave",ge="onPointerEnter",le="pointer"),Vi=pt==null?Be:bi(pt),ye=_t==null?Be:bi(_t),Be=new St(Xe,le+"leave",pt,x,je),Be.target=Vi,Be.relatedTarget=ye,Xe=null,xl(je)===Ee&&(St=new St(ge,le+"enter",_t,x,je),St.target=ye,St.relatedTarget=Vi,Xe=St),Vi=Xe,pt&&_t)t:{for(St=pt,ge=_t,le=0,ye=St;ye;ye=vc(ye))le++;for(ye=0,Xe=ge;Xe;Xe=vc(Xe))ye++;for(;0<le-ye;)St=vc(St),le--;for(;0<ye-le;)ge=vc(ge),ye--;for(;le--;){if(St===ge||ge!==null&&St===ge.alternate)break t;St=vc(St),ge=vc(ge)}St=null}else St=null;pt!==null&&G_(He,Be,pt,St,!1),_t!==null&&Vi!==null&&G_(He,Vi,_t,St,!0)}}e:{if(Be=Ee?bi(Ee):window,pt=Be.nodeName&&Be.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Be.type==="file")var Ct=j_;else if(Lp(Be))if(zu)Ct=fi;else{Ct=H_;var kt=Uu}else(pt=Be.nodeName)&&pt.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(Ct=Nv);if(Ct&&(Ct=Ct(u,Ee))){Du(He,Ct,x,je);break e}kt&&kt(u,Be,Ee),u==="focusout"&&(kt=Be._wrapperState)&&kt.controlled&&Be.type==="number"&&ct(Be,"number",Be.value)}switch(kt=Ee?bi(Ee):window,u){case"focusin":(Lp(kt)||kt.contentEditable==="true")&&(jo=kt,gc=Ee,pf=null);break;case"focusout":pf=gc=jo=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":qi=!1,Up(He,x,je);break;case"selectionchange":if(zp)break;case"keydown":case"keyup":Up(He,x,je)}var Nt;if(Dr)e:{switch(u){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else ml?kv(u,x)&&(Ht="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(Ht="onCompositionStart");Ht&&(Ou&&x.locale!=="ko"&&(ml||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&ml&&(Nt=uf()):(ho=je,Ev="value"in ho?ho.value:ho.textContent,ml=!0)),kt=$p(Ee,Ht),0<kt.length&&(Ht=new Mv(Ht,u,null,x,je),He.push({event:Ht,listeners:kt}),Nt?Ht.data=Nt:(Nt=Op(x),Nt!==null&&(Ht.data=Nt)))),(Nt=ri?B_(u,x):ff(u,x))&&(Ee=$p(Ee,"onBeforeInput"),0<Ee.length&&(je=new Mv("onBeforeInput","beforeinput",null,x,je),He.push({event:je,listeners:Ee}),je.data=Nt))}Vu(He,f)})}function Hu(u,f,x){return{instance:u,listener:f,currentTarget:x}}function $p(u,f){for(var x=f+"Capture",M=[];u!==null;){var I=u,F=I.stateNode;I.tag===5&&F!==null&&(I=F,F=cl(u,x),F!=null&&M.unshift(Hu(u,F,I)),F=cl(u,f),F!=null&&M.push(Hu(u,F,I))),u=u.return}return M}function vc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function G_(u,f,x,M,I){for(var F=f._reactName,G=[];x!==null&&x!==M;){var se=x,ae=se.alternate,Ee=se.stateNode;if(ae!==null&&ae===M)break;se.tag===5&&Ee!==null&&(se=Ee,I?(ae=cl(x,F),ae!=null&&G.unshift(Hu(x,ae,se))):I||(ae=cl(x,F),ae!=null&&G.push(Hu(x,ae,se)))),x=x.return}G.length!==0&&u.push({event:f,listeners:G})}var JC=/\r\n?/g,$_=/\u0000|\uFFFD/g;function zv(u){return(typeof u=="string"?u:""+u).replace(JC,`
`).replace($_,"")}function _f(u,f,x){if(f=zv(f),zv(u)!==f&&x)throw Error(n(425))}function bf(){}var Wu=null,Uv=null;function Bv(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Vv=typeof setTimeout=="function"?setTimeout:void 0,jv=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(u){return qp.resolve(null).then(u).catch(q_)}:Vv;function q_(u){setTimeout(function(){throw u})}function Xp(u,f){var x=f,M=0;do{var I=x.nextSibling;if(u.removeChild(x),I&&I.nodeType===8)if(x=I.data,x==="/$"){if(M===0){u.removeChild(I),cf(f);return}M--}else x!=="$"&&x!=="$?"&&x!=="$!"||M++;x=I}while(x);cf(f)}function ba(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function Hv(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return u;f--}else x==="/$"&&f++}u=u.previousSibling}return null}var yc=Math.random().toString(36).slice(2),Bi="__reactFiber$"+yc,Gu="__reactProps$"+yc,Cs="__reactContainer$"+yc,xc="__reactEvents$"+yc,Yp="__reactListeners$"+yc,Kp="__reactHandles$"+yc;function xl(u){var f=u[Bi];if(f)return f;for(var x=u.parentNode;x;){if(f=x[Cs]||x[Bi]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(u=Hv(u);u!==null;){if(x=u[Bi])return x;u=Hv(u)}return f}u=x,x=u.parentNode}return null}function Sa(u){return u=u[Bi]||u[Cs],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function bi(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Jp(u){return u[Gu]||null}var Wv=[],Xi=-1;function mi(u){return{current:u}}function Gn(u){0>Xi||(u.current=Wv[Xi],Wv[Xi]=null,Xi--)}function Un(u,f){Xi++,Wv[Xi]=u.current,u.current=f}var wa={},lr=mi(wa),Fr=mi(!1),Ea=wa;function _c(u,f){var x=u.type.contextTypes;if(!x)return wa;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var I={},F;for(F in x)I[F]=f[F];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=I),I}function br(u){return u=u.childContextTypes,u!=null}function Sf(){Gn(Fr),Gn(lr)}function Gv(u,f,x){if(lr.current!==wa)throw Error(n(168));Un(lr,f),Un(Fr,x)}function wf(u,f,x){var M=u.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return x;M=M.getChildContext();for(var I in M)if(!(I in f))throw Error(n(108,Pe(u)||"Unknown",I));return te({},x,M)}function bc(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||wa,Ea=lr.current,Un(lr,u),Un(Fr,Fr.current),!0}function $v(u,f,x){var M=u.stateNode;if(!M)throw Error(n(169));x?(u=wf(u,f,Ea),M.__reactInternalMemoizedMergedChildContext=u,Gn(Fr),Gn(lr),Un(lr,u)):Gn(Fr),Un(Fr,x)}var vo=null,Ef=!1,Qp=!1;function Cf(u){vo===null?vo=[u]:vo.push(u)}function X_(u){Ef=!0,Cf(u)}function Wo(){if(!Qp&&vo!==null){Qp=!0;var u=0,f=_n;try{var x=vo;for(_n=1;u<x.length;u++){var M=x[u];do M=M(!0);while(M!==null)}vo=null,Ef=!1}catch(I){throw vo!==null&&(vo=vo.slice(u+1)),pe(Pt,Wo),I}finally{_n=f,Qp=!1}}return null}var Sc=[],rs=0,Zp=null,em=0,zr=[],Yi=0,wc=null,Ze=1,Xs="";function Ca(u,f){Sc[rs++]=em,Sc[rs++]=Zp,Zp=u,em=f}function qv(u,f,x){zr[Yi++]=Ze,zr[Yi++]=Xs,zr[Yi++]=wc,wc=u;var M=Ze;u=Xs;var I=32-cn(M)-1;M&=~(1<<I),x+=1;var F=32-cn(f)+I;if(30<F){var G=I-I%5;F=(M&(1<<G)-1).toString(32),M>>=G,I-=G,Ze=1<<32-cn(f)+I|x<<I|M,Xs=F+u}else Ze=1<<F|x<<I|M,Xs=u}function Xv(u){u.return!==null&&(Ca(u,1),qv(u,1,0))}function Ta(u){for(;u===Zp;)Zp=Sc[--rs],Sc[rs]=null,em=Sc[--rs],Sc[rs]=null;for(;u===wc;)wc=zr[--Yi],zr[Yi]=null,Xs=zr[--Yi],zr[Yi]=null,Ze=zr[--Yi],zr[Yi]=null}var cr=null,Ur=null,Qn=!1,Ys=null;function Yv(u,f){var x=Yo(5,null,null,0);x.elementType="DELETED",x.stateNode=f,x.return=u,f=u.deletions,f===null?(u.deletions=[x],u.flags|=16):f.push(x)}function Kv(u,f){switch(u.tag){case 5:var x=u.type;return f=f.nodeType!==1||x.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,cr=u,Ur=ba(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,cr=u,Ur=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(x=wc!==null?{id:Ze,overflow:Xs}:null,u.memoizedState={dehydrated:f,treeContext:x,retryLane:1073741824},x=Yo(18,null,null,0),x.stateNode=f,x.return=u,u.child=x,cr=u,Ur=null,!0):!1;default:return!1}}function tm(u){return(u.mode&1)!==0&&(u.flags&128)===0}function nm(u){if(Qn){var f=Ur;if(f){var x=f;if(!Kv(u,f)){if(tm(u))throw Error(n(418));f=ba(x.nextSibling);var M=cr;f&&Kv(u,f)?Yv(M,x):(u.flags=u.flags&-4097|2,Qn=!1,cr=u)}}else{if(tm(u))throw Error(n(418));u.flags=u.flags&-4097|2,Qn=!1,cr=u}}}function im(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;cr=u}function $u(u){if(u!==cr)return!1;if(!Qn)return im(u),Qn=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!Bv(u.type,u.memoizedProps)),f&&(f=Ur)){if(tm(u))throw Jv(),Error(n(418));for(;f;)Yv(u,f),f=ba(f.nextSibling)}if(im(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"){if(f===0){Ur=ba(u.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++}u=u.nextSibling}Ur=null}}else Ur=cr?ba(u.stateNode.nextSibling):null;return!0}function Jv(){for(var u=Ur;u;)u=ba(u.nextSibling)}function _l(){Ur=cr=null,Qn=!1}function qu(u){Ys===null?Ys=[u]:Ys.push(u)}var ZC=A.ReactCurrentBatchConfig;function Tf(u,f,x){if(u=x.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var M=x.stateNode}if(!M)throw Error(n(147,u));var I=M,F=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===F?f.ref:(f=function(G){var se=I.refs;G===null?delete se[F]:se[F]=G},f._stringRef=F,f)}if(typeof u!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,u))}return u}function Mf(u,f){throw u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function Qv(u){var f=u._init;return f(u._payload)}function Zv(u){function f(ge,le){if(u){var ye=ge.deletions;ye===null?(ge.deletions=[le],ge.flags|=16):ye.push(le)}}function x(ge,le){if(!u)return null;for(;le!==null;)f(ge,le),le=le.sibling;return null}function M(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function I(ge,le){return ge=rd(ge,le),ge.index=0,ge.sibling=null,ge}function F(ge,le,ye){return ge.index=ye,u?(ye=ge.alternate,ye!==null?(ye=ye.index,ye<le?(ge.flags|=2,le):ye):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function G(ge){return u&&ge.alternate===null&&(ge.flags|=2),ge}function se(ge,le,ye,Xe){return le===null||le.tag!==6?(le=yT(ye,ge.mode,Xe),le.return=ge,le):(le=I(le,ye),le.return=ge,le)}function ae(ge,le,ye,Xe){var Ct=ye.type;return Ct===L?je(ge,le,ye.props.children,Xe,ye.key):le!==null&&(le.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===K&&Qv(Ct)===le.type)?(Xe=I(le,ye.props),Xe.ref=Tf(ge,le,ye),Xe.return=ge,Xe):(Xe=v1(ye.type,ye.key,ye.props,null,ge.mode,Xe),Xe.ref=Tf(ge,le,ye),Xe.return=ge,Xe)}function Ee(ge,le,ye,Xe){return le===null||le.tag!==4||le.stateNode.containerInfo!==ye.containerInfo||le.stateNode.implementation!==ye.implementation?(le=xT(ye,ge.mode,Xe),le.return=ge,le):(le=I(le,ye.children||[]),le.return=ge,le)}function je(ge,le,ye,Xe,Ct){return le===null||le.tag!==7?(le=Wf(ye,ge.mode,Xe,Ct),le.return=ge,le):(le=I(le,ye),le.return=ge,le)}function He(ge,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return le=yT(""+le,ge.mode,ye),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case R:return ye=v1(le.type,le.key,le.props,null,ge.mode,ye),ye.ref=Tf(ge,null,le),ye.return=ge,ye;case O:return le=xT(le,ge.mode,ye),le.return=ge,le;case K:var Xe=le._init;return He(ge,Xe(le._payload),ye)}if(ie(le)||X(le))return le=Wf(le,ge.mode,ye,null),le.return=ge,le;Mf(ge,le)}return null}function Be(ge,le,ye,Xe){var Ct=le!==null?le.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Ct!==null?null:se(ge,le,""+ye,Xe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:return ye.key===Ct?ae(ge,le,ye,Xe):null;case O:return ye.key===Ct?Ee(ge,le,ye,Xe):null;case K:return Ct=ye._init,Be(ge,le,Ct(ye._payload),Xe)}if(ie(ye)||X(ye))return Ct!==null?null:je(ge,le,ye,Xe,null);Mf(ge,ye)}return null}function pt(ge,le,ye,Xe,Ct){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ge=ge.get(ye)||null,se(le,ge,""+Xe,Ct);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case R:return ge=ge.get(Xe.key===null?ye:Xe.key)||null,ae(le,ge,Xe,Ct);case O:return ge=ge.get(Xe.key===null?ye:Xe.key)||null,Ee(le,ge,Xe,Ct);case K:var kt=Xe._init;return pt(ge,le,ye,kt(Xe._payload),Ct)}if(ie(Xe)||X(Xe))return ge=ge.get(ye)||null,je(le,ge,Xe,Ct,null);Mf(le,Xe)}return null}function _t(ge,le,ye,Xe){for(var Ct=null,kt=null,Nt=le,Ht=le=0,Cr=null;Nt!==null&&Ht<ye.length;Ht++){Nt.index>Ht?(Cr=Nt,Nt=null):Cr=Nt.sibling;var Mn=Be(ge,Nt,ye[Ht],Xe);if(Mn===null){Nt===null&&(Nt=Cr);break}u&&Nt&&Mn.alternate===null&&f(ge,Nt),le=F(Mn,le,Ht),kt===null?Ct=Mn:kt.sibling=Mn,kt=Mn,Nt=Cr}if(Ht===ye.length)return x(ge,Nt),Qn&&Ca(ge,Ht),Ct;if(Nt===null){for(;Ht<ye.length;Ht++)Nt=He(ge,ye[Ht],Xe),Nt!==null&&(le=F(Nt,le,Ht),kt===null?Ct=Nt:kt.sibling=Nt,kt=Nt);return Qn&&Ca(ge,Ht),Ct}for(Nt=M(ge,Nt);Ht<ye.length;Ht++)Cr=pt(Nt,ge,Ht,ye[Ht],Xe),Cr!==null&&(u&&Cr.alternate!==null&&Nt.delete(Cr.key===null?Ht:Cr.key),le=F(Cr,le,Ht),kt===null?Ct=Cr:kt.sibling=Cr,kt=Cr);return u&&Nt.forEach(function(sd){return f(ge,sd)}),Qn&&Ca(ge,Ht),Ct}function St(ge,le,ye,Xe){var Ct=X(ye);if(typeof Ct!="function")throw Error(n(150));if(ye=Ct.call(ye),ye==null)throw Error(n(151));for(var kt=Ct=null,Nt=le,Ht=le=0,Cr=null,Mn=ye.next();Nt!==null&&!Mn.done;Ht++,Mn=ye.next()){Nt.index>Ht?(Cr=Nt,Nt=null):Cr=Nt.sibling;var sd=Be(ge,Nt,Mn.value,Xe);if(sd===null){Nt===null&&(Nt=Cr);break}u&&Nt&&sd.alternate===null&&f(ge,Nt),le=F(sd,le,Ht),kt===null?Ct=sd:kt.sibling=sd,kt=sd,Nt=Cr}if(Mn.done)return x(ge,Nt),Qn&&Ca(ge,Ht),Ct;if(Nt===null){for(;!Mn.done;Ht++,Mn=ye.next())Mn=He(ge,Mn.value,Xe),Mn!==null&&(le=F(Mn,le,Ht),kt===null?Ct=Mn:kt.sibling=Mn,kt=Mn);return Qn&&Ca(ge,Ht),Ct}for(Nt=M(ge,Nt);!Mn.done;Ht++,Mn=ye.next())Mn=pt(Nt,ge,Ht,Mn.value,Xe),Mn!==null&&(u&&Mn.alternate!==null&&Nt.delete(Mn.key===null?Ht:Mn.key),le=F(Mn,le,Ht),kt===null?Ct=Mn:kt.sibling=Mn,kt=Mn);return u&&Nt.forEach(function(cY){return f(ge,cY)}),Qn&&Ca(ge,Ht),Ct}function Vi(ge,le,ye,Xe){if(typeof ye=="object"&&ye!==null&&ye.type===L&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:e:{for(var Ct=ye.key,kt=le;kt!==null;){if(kt.key===Ct){if(Ct=ye.type,Ct===L){if(kt.tag===7){x(ge,kt.sibling),le=I(kt,ye.props.children),le.return=ge,ge=le;break e}}else if(kt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===K&&Qv(Ct)===kt.type){x(ge,kt.sibling),le=I(kt,ye.props),le.ref=Tf(ge,kt,ye),le.return=ge,ge=le;break e}x(ge,kt);break}else f(ge,kt);kt=kt.sibling}ye.type===L?(le=Wf(ye.props.children,ge.mode,Xe,ye.key),le.return=ge,ge=le):(Xe=v1(ye.type,ye.key,ye.props,null,ge.mode,Xe),Xe.ref=Tf(ge,le,ye),Xe.return=ge,ge=Xe)}return G(ge);case O:e:{for(kt=ye.key;le!==null;){if(le.key===kt)if(le.tag===4&&le.stateNode.containerInfo===ye.containerInfo&&le.stateNode.implementation===ye.implementation){x(ge,le.sibling),le=I(le,ye.children||[]),le.return=ge,ge=le;break e}else{x(ge,le);break}else f(ge,le);le=le.sibling}le=xT(ye,ge.mode,Xe),le.return=ge,ge=le}return G(ge);case K:return kt=ye._init,Vi(ge,le,kt(ye._payload),Xe)}if(ie(ye))return _t(ge,le,ye,Xe);if(X(ye))return St(ge,le,ye,Xe);Mf(ge,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,le!==null&&le.tag===6?(x(ge,le.sibling),le=I(le,ye),le.return=ge,ge=le):(x(ge,le),le=yT(ye,ge.mode,Xe),le.return=ge,ge=le),G(ge)):x(ge,le)}return Vi}var Ec=Zv(!0),Af=Zv(!1),Cc=mi(null),Tc=null,Ma=null,Xu=null;function Mc(){Xu=Ma=Tc=null}function Pf(u){var f=Cc.current;Gn(Cc),u._currentValue=f}function Rf(u,f,x){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===x)break;u=u.return}}function bl(u,f){Tc=u,Xu=Ma=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(Qt=!0),u.firstContext=null)}function Ts(u){var f=u._currentValue;if(Xu!==u)if(u={context:u,memoizedValue:f,next:null},Ma===null){if(Tc===null)throw Error(n(308));Ma=u,Tc.dependencies={lanes:0,firstContext:u}}else Ma=Ma.next=u;return f}var Aa=null;function e0(u){Aa===null?Aa=[u]:Aa.push(u)}function If(u,f,x,M){var I=f.interleaved;return I===null?(x.next=x,e0(f)):(x.next=I.next,I.next=x),f.interleaved=x,yo(u,M)}function yo(u,f){u.lanes|=f;var x=u.alternate;for(x!==null&&(x.lanes|=f),x=u,u=u.return;u!==null;)u.childLanes|=f,x=u.alternate,x!==null&&(x.childLanes|=f),x=u,u=u.return;return x.tag===3?x.stateNode:null}var Dn=!1;function Jt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Si(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Fn(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function si(u,f,x){var M=u.updateQueue;if(M===null)return null;if(M=M.shared,(wn&2)!==0){var I=M.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),M.pending=f,yo(u,x)}return I=M.interleaved,I===null?(f.next=f,e0(M)):(f.next=I.next,I.next=f),M.interleaved=f,yo(u,x)}function Sr(u,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194240)!==0)){var M=f.lanes;M&=u.pendingLanes,x|=M,f.lanes=x,Au(u,x)}}function Ac(u,f){var x=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var I=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var G={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};F===null?I=F=G:F=F.next=G,x=x.next}while(x!==null);F===null?I=F=f:F=F.next=f}else I=F=f;x={baseState:M.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:M.shared,effects:M.effects},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=f}function gi(u,f,x,M){var I=u.updateQueue;Dn=!1;var F=I.firstBaseUpdate,G=I.lastBaseUpdate,se=I.shared.pending;if(se!==null){I.shared.pending=null;var ae=se,Ee=ae.next;ae.next=null,G===null?F=Ee:G.next=Ee,G=ae;var je=u.alternate;je!==null&&(je=je.updateQueue,se=je.lastBaseUpdate,se!==G&&(se===null?je.firstBaseUpdate=Ee:se.next=Ee,je.lastBaseUpdate=ae))}if(F!==null){var He=I.baseState;G=0,je=Ee=ae=null,se=F;do{var Be=se.lane,pt=se.eventTime;if((M&Be)===Be){je!==null&&(je=je.next={eventTime:pt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var _t=u,St=se;switch(Be=f,pt=x,St.tag){case 1:if(_t=St.payload,typeof _t=="function"){He=_t.call(pt,He,Be);break e}He=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=St.payload,Be=typeof _t=="function"?_t.call(pt,He,Be):_t,Be==null)break e;He=te({},He,Be);break e;case 2:Dn=!0}}se.callback!==null&&se.lane!==0&&(u.flags|=64,Be=I.effects,Be===null?I.effects=[se]:Be.push(se))}else pt={eventTime:pt,lane:Be,tag:se.tag,payload:se.payload,callback:se.callback,next:null},je===null?(Ee=je=pt,ae=He):je=je.next=pt,G|=Be;if(se=se.next,se===null){if(se=I.shared.pending,se===null)break;Be=se,se=Be.next,Be.next=null,I.lastBaseUpdate=Be,I.shared.pending=null}}while(!0);if(je===null&&(ae=He),I.baseState=ae,I.firstBaseUpdate=Ee,I.lastBaseUpdate=je,f=I.shared.interleaved,f!==null){I=f;do G|=I.lane,I=I.next;while(I!==f)}else F===null&&(I.shared.lanes=0);Bf|=G,u.lanes=G,u.memoizedState=He}}function Yu(u,f,x){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var M=u[f],I=M.callback;if(I!==null){if(M.callback=null,M=x,typeof I!="function")throw Error(n(191,I));I.call(M)}}}var Go={},Ms=mi(Go),Pc=mi(Go),Pa=mi(Go);function ki(u){if(u===Go)throw Error(n(174));return u}function kf(u,f){switch(Un(Pa,f),Un(Pc,u),Un(Ms,Go),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:it(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=it(f,u)}Gn(Ms),Un(Ms,f)}function Sl(){Gn(Ms),Gn(Pc),Gn(Pa)}function Rc(u){ki(Pa.current);var f=ki(Ms.current),x=it(f,u.type);f!==x&&(Un(Pc,u),Un(Ms,x))}function Ku(u){Pc.current===u&&(Gn(Ms),Gn(Pc))}var Zn=mi(0);function xo(u){for(var f=u;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ju=[];function $o(){for(var u=0;u<Ju.length;u++)Ju[u]._workInProgressVersionPrimary=null;Ju.length=0}var Ic=A.ReactCurrentDispatcher,kc=A.ReactCurrentBatchConfig,Ra=0,$n=null,vi=null,bn=null,_o=!1,wr=!1,wl=0,ss=0;function ur(){throw Error(n(321))}function Nf(u,f){if(f===null)return!1;for(var x=0;x<f.length&&x<u.length;x++)if(!ws(u[x],f[x]))return!1;return!0}function Of(u,f,x,M,I,F){if(Ra=F,$n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ic.current=u===null||u.memoizedState===null?t1:n1,u=x(M,I),wr){F=0;do{if(wr=!1,wl=0,25<=F)throw Error(n(301));F+=1,bn=vi=null,f.updateQueue=null,Ic.current=i1,u=x(M,I)}while(wr)}if(Ic.current=um,f=vi!==null&&vi.next!==null,Ra=0,bn=vi=$n=null,_o=!1,f)throw Error(n(300));return u}function t0(){var u=wl!==0;return wl=0,u}function dr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?$n.memoizedState=bn=u:bn=bn.next=u,bn}function As(){if(vi===null){var u=$n.alternate;u=u!==null?u.memoizedState:null}else u=vi.next;var f=bn===null?$n.memoizedState:bn.next;if(f!==null)bn=f,vi=u;else{if(u===null)throw Error(n(310));vi=u,u={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},bn===null?$n.memoizedState=bn=u:bn=bn.next=u}return bn}function Qu(u,f){return typeof f=="function"?f(u):f}function Lf(u){var f=As(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=u;var M=vi,I=M.baseQueue,F=x.pending;if(F!==null){if(I!==null){var G=I.next;I.next=F.next,F.next=G}M.baseQueue=I=F,x.pending=null}if(I!==null){F=I.next,M=M.baseState;var se=G=null,ae=null,Ee=F;do{var je=Ee.lane;if((Ra&je)===je)ae!==null&&(ae=ae.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),M=Ee.hasEagerState?Ee.eagerState:u(M,Ee.action);else{var He={lane:je,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ae===null?(se=ae=He,G=M):ae=ae.next=He,$n.lanes|=je,Bf|=je}Ee=Ee.next}while(Ee!==null&&Ee!==F);ae===null?G=M:ae.next=se,ws(M,f.memoizedState)||(Qt=!0),f.memoizedState=M,f.baseState=G,f.baseQueue=ae,x.lastRenderedState=M}if(u=x.interleaved,u!==null){I=u;do F=I.lane,$n.lanes|=F,Bf|=F,I=I.next;while(I!==u)}else I===null&&(x.lanes=0);return[f.memoizedState,x.dispatch]}function Ia(u){var f=As(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=u;var M=x.dispatch,I=x.pending,F=f.memoizedState;if(I!==null){x.pending=null;var G=I=I.next;do F=u(F,G.action),G=G.next;while(G!==I);ws(F,f.memoizedState)||(Qt=!0),f.memoizedState=F,f.baseQueue===null&&(f.baseState=F),x.lastRenderedState=F}return[F,M]}function n0(){}function i0(u,f){var x=$n,M=As(),I=f(),F=!ws(M.memoizedState,I);if(F&&(M.memoizedState=I,Qt=!0),M=M.queue,o0(Y_.bind(null,x,M,u),[u]),M.getSnapshot!==f||F||bn!==null&&bn.memoizedState.tag&1){if(x.flags|=2048,bo(9,Df.bind(null,x,M,I,f),void 0,null),Er===null)throw Error(n(349));(Ra&30)!==0||rm(x,f,I)}return I}function rm(u,f,x){u.flags|=16384,u={getSnapshot:f,value:x},f=$n.updateQueue,f===null?(f={lastEffect:null,stores:null},$n.updateQueue=f,f.stores=[u]):(x=f.stores,x===null?f.stores=[u]:x.push(u))}function Df(u,f,x,M){f.value=x,f.getSnapshot=M,K_(f)&&r0(u)}function Y_(u,f,x){return x(function(){K_(f)&&r0(u)})}function K_(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!ws(u,x)}catch{return!0}}function r0(u){var f=yo(u,1);f!==null&&Da(f,u,1,-1)}function s0(u){var f=dr();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:u},f.queue=u,u=u.dispatch=Nc.bind(null,$n,u),[f.memoizedState,u]}function bo(u,f,x,M){return u={tag:u,create:f,destroy:x,deps:M,next:null},f=$n.updateQueue,f===null?(f={lastEffect:null,stores:null},$n.updateQueue=f,f.lastEffect=u.next=u):(x=f.lastEffect,x===null?f.lastEffect=u.next=u:(M=x.next,x.next=u,u.next=M,f.lastEffect=u)),u}function J_(){return As().memoizedState}function qo(u,f,x,M){var I=dr();$n.flags|=u,I.memoizedState=bo(1|f,x,void 0,M===void 0?null:M)}function Ff(u,f,x,M){var I=As();M=M===void 0?null:M;var F=void 0;if(vi!==null){var G=vi.memoizedState;if(F=G.destroy,M!==null&&Nf(M,G.deps)){I.memoizedState=bo(f,x,F,M);return}}$n.flags|=u,I.memoizedState=bo(1|f,x,F,M)}function Br(u,f){return qo(8390656,8,u,f)}function o0(u,f){return Ff(2048,8,u,f)}function a0(u,f){return Ff(4,2,u,f)}function Q_(u,f){return Ff(4,4,u,f)}function Z_(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function l0(u,f,x){return x=x!=null?x.concat([u]):null,Ff(4,4,Z_.bind(null,f,u),x)}function sm(){}function e1(u,f){var x=As();f=f===void 0?null:f;var M=x.memoizedState;return M!==null&&f!==null&&Nf(f,M[1])?M[0]:(x.memoizedState=[u,f],u)}function Ps(u,f){var x=As();f=f===void 0?null:f;var M=x.memoizedState;return M!==null&&f!==null&&Nf(f,M[1])?M[0]:(u=u(),x.memoizedState=[u,f],u)}function om(u,f,x){return(Ra&21)===0?(u.baseState&&(u.baseState=!1,Qt=!0),u.memoizedState=x):(ws(x,f)||(x=es(),$n.lanes|=x,Bf|=x,u.baseState=!0),f)}function eT(u,f){var x=_n;_n=x!==0&&4>x?x:4,u(!0);var M=kc.transition;kc.transition={};try{u(!1),f()}finally{_n=x,kc.transition=M}}function ka(){return As().memoizedState}function am(u,f,x){var M=nd(u);if(x={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null},zf(u))lm(f,x);else if(x=If(u,f,x,M),x!==null){var I=Is();Da(x,u,M,I),cm(x,f,M)}}function Nc(u,f,x){var M=nd(u),I={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null};if(zf(u))lm(f,I);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=f.lastRenderedReducer,F!==null))try{var G=f.lastRenderedState,se=F(G,x);if(I.hasEagerState=!0,I.eagerState=se,ws(se,G)){var ae=f.interleaved;ae===null?(I.next=I,e0(f)):(I.next=ae.next,ae.next=I),f.interleaved=I;return}}catch{}finally{}x=If(u,f,I,M),x!==null&&(I=Is(),Da(x,u,M,I),cm(x,f,M))}}function zf(u){var f=u.alternate;return u===$n||f!==null&&f===$n}function lm(u,f){wr=_o=!0;var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}function cm(u,f,x){if((x&4194240)!==0){var M=f.lanes;M&=u.pendingLanes,x|=M,f.lanes=x,Au(u,x)}}var um={readContext:Ts,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},t1={readContext:Ts,useCallback:function(u,f){return dr().memoizedState=[u,f===void 0?null:f],u},useContext:Ts,useEffect:Br,useImperativeHandle:function(u,f,x){return x=x!=null?x.concat([u]):null,qo(4194308,4,Z_.bind(null,f,u),x)},useLayoutEffect:function(u,f){return qo(4194308,4,u,f)},useInsertionEffect:function(u,f){return qo(4,2,u,f)},useMemo:function(u,f){var x=dr();return f=f===void 0?null:f,u=u(),x.memoizedState=[u,f],u},useReducer:function(u,f,x){var M=dr();return f=x!==void 0?x(f):f,M.memoizedState=M.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},M.queue=u,u=u.dispatch=am.bind(null,$n,u),[M.memoizedState,u]},useRef:function(u){var f=dr();return u={current:u},f.memoizedState=u},useState:s0,useDebugValue:sm,useDeferredValue:function(u){return dr().memoizedState=u},useTransition:function(){var u=s0(!1),f=u[0];return u=eT.bind(null,u[1]),dr().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,x){var M=$n,I=dr();if(Qn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=f(),Er===null)throw Error(n(349));(Ra&30)!==0||rm(M,f,x)}I.memoizedState=x;var F={value:x,getSnapshot:f};return I.queue=F,Br(Y_.bind(null,M,F,u),[u]),M.flags|=2048,bo(9,Df.bind(null,M,F,x,f),void 0,null),x},useId:function(){var u=dr(),f=Er.identifierPrefix;if(Qn){var x=Xs,M=Ze;x=(M&~(1<<32-cn(M)-1)).toString(32)+x,f=":"+f+"R"+x,x=wl++,0<x&&(f+="H"+x.toString(32)),f+=":"}else x=ss++,f=":"+f+"r"+x.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},n1={readContext:Ts,useCallback:e1,useContext:Ts,useEffect:o0,useImperativeHandle:l0,useInsertionEffect:a0,useLayoutEffect:Q_,useMemo:Ps,useReducer:Lf,useRef:J_,useState:function(){return Lf(Qu)},useDebugValue:sm,useDeferredValue:function(u){var f=As();return om(f,vi.memoizedState,u)},useTransition:function(){var u=Lf(Qu)[0],f=As().memoizedState;return[u,f]},useMutableSource:n0,useSyncExternalStore:i0,useId:ka,unstable_isNewReconciler:!1},i1={readContext:Ts,useCallback:e1,useContext:Ts,useEffect:o0,useImperativeHandle:l0,useInsertionEffect:a0,useLayoutEffect:Q_,useMemo:Ps,useReducer:Ia,useRef:J_,useState:function(){return Ia(Qu)},useDebugValue:sm,useDeferredValue:function(u){var f=As();return vi===null?f.memoizedState=u:om(f,vi.memoizedState,u)},useTransition:function(){var u=Ia(Qu)[0],f=As().memoizedState;return[u,f]},useMutableSource:n0,useSyncExternalStore:i0,useId:ka,unstable_isNewReconciler:!1};function Ks(u,f){if(u&&u.defaultProps){f=te({},f),u=u.defaultProps;for(var x in u)f[x]===void 0&&(f[x]=u[x]);return f}return f}function Uf(u,f,x,M){f=u.memoizedState,x=x(M,f),x=x==null?f:te({},f,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var dm={isMounted:function(u){return(u=u._reactInternals)?ha(u)===u:!1},enqueueSetState:function(u,f,x){u=u._reactInternals;var M=Is(),I=nd(u),F=Fn(M,I);F.payload=f,x!=null&&(F.callback=x),f=si(u,F,I),f!==null&&(Da(f,u,I,M),Sr(f,u,I))},enqueueReplaceState:function(u,f,x){u=u._reactInternals;var M=Is(),I=nd(u),F=Fn(M,I);F.tag=1,F.payload=f,x!=null&&(F.callback=x),f=si(u,F,I),f!==null&&(Da(f,u,I,M),Sr(f,u,I))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var x=Is(),M=nd(u),I=Fn(x,M);I.tag=2,f!=null&&(I.callback=f),f=si(u,I,M),f!==null&&(Da(f,u,M,x),Sr(f,u,M))}};function r1(u,f,x,M,I,F,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,F,G):f.prototype&&f.prototype.isPureReactComponent?!pc(x,M)||!pc(I,F):!0}function m(u,f,x){var M=!1,I=wa,F=f.contextType;return typeof F=="object"&&F!==null?F=Ts(F):(I=br(f)?Ea:lr.current,M=f.contextTypes,F=(M=M!=null)?_c(u,I):wa),f=new f(x,F),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dm,u.stateNode=f,f._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=I,u.__reactInternalMemoizedMaskedChildContext=F),f}function g(u,f,x,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,M),f.state!==u&&dm.enqueueReplaceState(f,f.state,null)}function T(u,f,x,M){var I=u.stateNode;I.props=x,I.state=u.memoizedState,I.refs={},Jt(u);var F=f.contextType;typeof F=="object"&&F!==null?I.context=Ts(F):(F=br(f)?Ea:lr.current,I.context=_c(u,F)),I.state=u.memoizedState,F=f.getDerivedStateFromProps,typeof F=="function"&&(Uf(u,f,F,x),I.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(f=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),f!==I.state&&dm.enqueueReplaceState(I,I.state,null),gi(u,x,I,M),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308)}function P(u,f){try{var x="",M=f;do x+=Se(M),M=M.return;while(M);var I=x}catch(F){I=`
Error generating stack: `+F.message+`
`+F.stack}return{value:u,source:f,stack:I,digest:null}}function D(u,f,x){return{value:u,source:null,stack:x??null,digest:f??null}}function j(u,f){try{console.error(f.value)}catch(x){setTimeout(function(){throw x})}}var re=typeof WeakMap=="function"?WeakMap:Map;function ce(u,f,x){x=Fn(-1,x),x.tag=3,x.payload={element:null};var M=f.value;return x.callback=function(){d1||(d1=!0,uT=M),j(u,f)},x}function Me(u,f,x){x=Fn(-1,x),x.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var I=f.value;x.payload=function(){return M(I)},x.callback=function(){j(u,f)}}var F=u.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(x.callback=function(){j(u,f),typeof M!="function"&&(ed===null?ed=new Set([this]):ed.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),x}function Ge(u,f,x){var M=u.pingCache;if(M===null){M=u.pingCache=new re;var I=new Set;M.set(f,I)}else I=M.get(f),I===void 0&&(I=new Set,M.set(f,I));I.has(x)||(I.add(x),u=QX.bind(null,u,f,x),f.then(u,u))}function gt(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function Wt(u,f,x,M,I){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(f=Fn(-1,1),f.tag=2,si(x,f,1))),x.lanes|=1),u):(u.flags|=65536,u.lanes=I,u)}var Rt=A.ReactCurrentOwner,Qt=!1;function ft(u,f,x,M){f.child=u===null?Af(f,null,x,M):Ec(f,u.child,x,M)}function fr(u,f,x,M,I){x=x.render;var F=f.ref;return bl(f,I),M=Of(u,f,x,M,F,I),x=t0(),u!==null&&!Qt?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~I,Oc(u,f,I)):(Qn&&x&&Xv(f),f.flags|=1,ft(u,f,M,I),f.child)}function Rs(u,f,x,M,I){if(u===null){var F=x.type;return typeof F=="function"&&!vT(F)&&F.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(f.tag=15,f.type=F,xe(u,f,F,M,I)):(u=v1(x.type,null,M,f,f.mode,I),u.ref=f.ref,u.return=f,f.child=u)}if(F=u.child,(u.lanes&I)===0){var G=F.memoizedProps;if(x=x.compare,x=x!==null?x:pc,x(G,M)&&u.ref===f.ref)return Oc(u,f,I)}return f.flags|=1,u=rd(F,M),u.ref=f.ref,u.return=f,f.child=u}function xe(u,f,x,M,I){if(u!==null){var F=u.memoizedProps;if(pc(F,M)&&u.ref===f.ref)if(Qt=!1,f.pendingProps=M=F,(u.lanes&I)!==0)(u.flags&131072)!==0&&(Qt=!0);else return f.lanes=u.lanes,Oc(u,f,I)}return ot(u,f,x,M,I)}function fe(u,f,x){var M=f.pendingProps,I=M.children,F=u!==null?u.memoizedState:null;if(M.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(hm,So),So|=x;else{if((x&1073741824)===0)return u=F!==null?F.baseLanes|x:x,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,Un(hm,So),So|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=F!==null?F.baseLanes:x,Un(hm,So),So|=M}else F!==null?(M=F.baseLanes|x,f.memoizedState=null):M=x,Un(hm,So),So|=M;return ft(u,f,I,x),f.child}function Ce(u,f){var x=f.ref;(u===null&&x!==null||u!==null&&u.ref!==x)&&(f.flags|=512,f.flags|=2097152)}function ot(u,f,x,M,I){var F=br(x)?Ea:lr.current;return F=_c(f,F),bl(f,I),x=Of(u,f,x,M,F,I),M=t0(),u!==null&&!Qt?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~I,Oc(u,f,I)):(Qn&&M&&Xv(f),f.flags|=1,ft(u,f,x,I),f.child)}function wt(u,f,x,M,I){if(br(x)){var F=!0;bc(f)}else F=!1;if(bl(f,I),f.stateNode===null)o1(u,f),m(f,x,M),T(f,x,M,I),M=!0;else if(u===null){var G=f.stateNode,se=f.memoizedProps;G.props=se;var ae=G.context,Ee=x.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ts(Ee):(Ee=br(x)?Ea:lr.current,Ee=_c(f,Ee));var je=x.getDerivedStateFromProps,He=typeof je=="function"||typeof G.getSnapshotBeforeUpdate=="function";He||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(se!==M||ae!==Ee)&&g(f,G,M,Ee),Dn=!1;var Be=f.memoizedState;G.state=Be,gi(f,M,G,I),ae=f.memoizedState,se!==M||Be!==ae||Fr.current||Dn?(typeof je=="function"&&(Uf(f,x,je,M),ae=f.memoizedState),(se=Dn||r1(f,x,se,M,Be,ae,Ee))?(He||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=ae),G.props=M,G.state=ae,G.context=Ee,M=se):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{G=f.stateNode,Si(u,f),se=f.memoizedProps,Ee=f.type===f.elementType?se:Ks(f.type,se),G.props=Ee,He=f.pendingProps,Be=G.context,ae=x.contextType,typeof ae=="object"&&ae!==null?ae=Ts(ae):(ae=br(x)?Ea:lr.current,ae=_c(f,ae));var pt=x.getDerivedStateFromProps;(je=typeof pt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(se!==He||Be!==ae)&&g(f,G,M,ae),Dn=!1,Be=f.memoizedState,G.state=Be,gi(f,M,G,I);var _t=f.memoizedState;se!==He||Be!==_t||Fr.current||Dn?(typeof pt=="function"&&(Uf(f,x,pt,M),_t=f.memoizedState),(Ee=Dn||r1(f,x,Ee,M,Be,_t,ae)||!1)?(je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(M,_t,ae),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(M,_t,ae)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||se===u.memoizedProps&&Be===u.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===u.memoizedProps&&Be===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=_t),G.props=M,G.state=_t,G.context=ae,M=Ee):(typeof G.componentDidUpdate!="function"||se===u.memoizedProps&&Be===u.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===u.memoizedProps&&Be===u.memoizedState||(f.flags|=1024),M=!1)}return Xt(u,f,x,M,F,I)}function Xt(u,f,x,M,I,F){Ce(u,f);var G=(f.flags&128)!==0;if(!M&&!G)return I&&$v(f,x,!1),Oc(u,f,F);M=f.stateNode,Rt.current=f;var se=G&&typeof x.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,u!==null&&G?(f.child=Ec(f,u.child,null,F),f.child=Ec(f,null,se,F)):ft(u,f,se,F),f.memoizedState=M.state,I&&$v(f,x,!0),f.child}function Gt(u){var f=u.stateNode;f.pendingContext?Gv(u,f.pendingContext,f.pendingContext!==f.context):f.context&&Gv(u,f.context,!1),kf(u,f.containerInfo)}function xn(u,f,x,M,I){return _l(),qu(I),f.flags|=256,ft(u,f,x,M),f.child}var Ni={dehydrated:null,treeContext:null,retryLane:0};function vn(u){return{baseLanes:u,cachePool:null,transitions:null}}function Na(u,f,x){var M=f.pendingProps,I=Zn.current,F=!1,G=(f.flags&128)!==0,se;if((se=G)||(se=u!==null&&u.memoizedState===null?!1:(I&2)!==0),se?(F=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(I|=1),Un(Zn,I&1),u===null)return nm(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(G=M.children,u=M.fallback,F?(M=f.mode,F=f.child,G={mode:"hidden",children:G},(M&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=G):F=y1(G,M,0,null),u=Wf(u,M,x,null),F.return=f,u.return=f,F.sibling=u,f.child=F,f.child.memoizedState=vn(x),f.memoizedState=Ni,u):c0(f,G));if(I=u.memoizedState,I!==null&&(se=I.dehydrated,se!==null))return BX(u,f,G,M,se,I,x);if(F){F=M.fallback,G=f.mode,I=u.child,se=I.sibling;var ae={mode:"hidden",children:M.children};return(G&1)===0&&f.child!==I?(M=f.child,M.childLanes=0,M.pendingProps=ae,f.deletions=null):(M=rd(I,ae),M.subtreeFlags=I.subtreeFlags&14680064),se!==null?F=rd(se,F):(F=Wf(F,G,x,null),F.flags|=2),F.return=f,M.return=f,M.sibling=F,f.child=M,M=F,F=f.child,G=u.child.memoizedState,G=G===null?vn(x):{baseLanes:G.baseLanes|x,cachePool:null,transitions:G.transitions},F.memoizedState=G,F.childLanes=u.childLanes&~x,f.memoizedState=Ni,M}return F=u.child,u=F.sibling,M=rd(F,{mode:"visible",children:M.children}),(f.mode&1)===0&&(M.lanes=x),M.return=f,M.sibling=null,u!==null&&(x=f.deletions,x===null?(f.deletions=[u],f.flags|=16):x.push(u)),f.child=M,f.memoizedState=null,M}function c0(u,f){return f=y1({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function s1(u,f,x,M){return M!==null&&qu(M),Ec(f,u.child,null,x),u=c0(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function BX(u,f,x,M,I,F,G){if(x)return f.flags&256?(f.flags&=-257,M=D(Error(n(422))),s1(u,f,G,M)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(F=M.fallback,I=f.mode,M=y1({mode:"visible",children:M.children},I,0,null),F=Wf(F,I,G,null),F.flags|=2,M.return=f,F.return=f,M.sibling=F,f.child=M,(f.mode&1)!==0&&Ec(f,u.child,null,G),f.child.memoizedState=vn(G),f.memoizedState=Ni,F);if((f.mode&1)===0)return s1(u,f,G,null);if(I.data==="$!"){if(M=I.nextSibling&&I.nextSibling.dataset,M)var se=M.dgst;return M=se,F=Error(n(419)),M=D(F,M,void 0),s1(u,f,G,M)}if(se=(G&u.childLanes)!==0,Qt||se){if(M=Er,M!==null){switch(G&-G){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(M.suspendedLanes|G))!==0?0:I,I!==0&&I!==F.retryLane&&(F.retryLane=I,yo(u,I),Da(M,u,I,-1))}return gT(),M=D(Error(n(421))),s1(u,f,G,M)}return I.data==="$?"?(f.flags|=128,f.child=u.child,f=ZX.bind(null,u),I._reactRetry=f,null):(u=F.treeContext,Ur=ba(I.nextSibling),cr=f,Qn=!0,Ys=null,u!==null&&(zr[Yi++]=Ze,zr[Yi++]=Xs,zr[Yi++]=wc,Ze=u.id,Xs=u.overflow,wc=f),f=c0(f,M.children),f.flags|=4096,f)}function GN(u,f,x){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),Rf(u.return,f,x)}function tT(u,f,x,M,I){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:I}:(F.isBackwards=f,F.rendering=null,F.renderingStartTime=0,F.last=M,F.tail=x,F.tailMode=I)}function $N(u,f,x){var M=f.pendingProps,I=M.revealOrder,F=M.tail;if(ft(u,f,M.children,x),M=Zn.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&GN(u,x,f);else if(u.tag===19)GN(u,x,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(Un(Zn,M),(f.mode&1)===0)f.memoizedState=null;else switch(I){case"forwards":for(x=f.child,I=null;x!==null;)u=x.alternate,u!==null&&xo(u)===null&&(I=x),x=x.sibling;x=I,x===null?(I=f.child,f.child=null):(I=x.sibling,x.sibling=null),tT(f,!1,I,x,F);break;case"backwards":for(x=null,I=f.child,f.child=null;I!==null;){if(u=I.alternate,u!==null&&xo(u)===null){f.child=I;break}u=I.sibling,I.sibling=x,x=I,I=u}tT(f,!0,x,null,F);break;case"together":tT(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function o1(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Oc(u,f,x){if(u!==null&&(f.dependencies=u.dependencies),Bf|=f.lanes,(x&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,x=rd(u,u.pendingProps),f.child=x,x.return=f;u.sibling!==null;)u=u.sibling,x=x.sibling=rd(u,u.pendingProps),x.return=f;x.sibling=null}return f.child}function VX(u,f,x){switch(f.tag){case 3:Gt(f),_l();break;case 5:Rc(f);break;case 1:br(f.type)&&bc(f);break;case 4:kf(f,f.stateNode.containerInfo);break;case 10:var M=f.type._context,I=f.memoizedProps.value;Un(Cc,M._currentValue),M._currentValue=I;break;case 13:if(M=f.memoizedState,M!==null)return M.dehydrated!==null?(Un(Zn,Zn.current&1),f.flags|=128,null):(x&f.child.childLanes)!==0?Na(u,f,x):(Un(Zn,Zn.current&1),u=Oc(u,f,x),u!==null?u.sibling:null);Un(Zn,Zn.current&1);break;case 19:if(M=(x&f.childLanes)!==0,(u.flags&128)!==0){if(M)return $N(u,f,x);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Un(Zn,Zn.current),M)break;return null;case 22:case 23:return f.lanes=0,fe(u,f,x)}return Oc(u,f,x)}var qN,nT,XN,YN;qN=function(u,f){for(var x=f.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},nT=function(){},XN=function(u,f,x,M){var I=u.memoizedProps;if(I!==M){u=f.stateNode,ki(Ms.current);var F=null;switch(x){case"input":I=Ue(u,I),M=Ue(u,M),F=[];break;case"select":I=te({},I,{value:void 0}),M=te({},M,{value:void 0}),F=[];break;case"textarea":I=_e(u,I),M=_e(u,M),F=[];break;default:typeof I.onClick!="function"&&typeof M.onClick=="function"&&(u.onclick=bf)}qt(x,M);var G;x=null;for(Ee in I)if(!M.hasOwnProperty(Ee)&&I.hasOwnProperty(Ee)&&I[Ee]!=null)if(Ee==="style"){var se=I[Ee];for(G in se)se.hasOwnProperty(G)&&(x||(x={}),x[G]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(r.hasOwnProperty(Ee)?F||(F=[]):(F=F||[]).push(Ee,null));for(Ee in M){var ae=M[Ee];if(se=I!=null?I[Ee]:void 0,M.hasOwnProperty(Ee)&&ae!==se&&(ae!=null||se!=null))if(Ee==="style")if(se){for(G in se)!se.hasOwnProperty(G)||ae&&ae.hasOwnProperty(G)||(x||(x={}),x[G]="");for(G in ae)ae.hasOwnProperty(G)&&se[G]!==ae[G]&&(x||(x={}),x[G]=ae[G])}else x||(F||(F=[]),F.push(Ee,x)),x=ae;else Ee==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,se=se?se.__html:void 0,ae!=null&&se!==ae&&(F=F||[]).push(Ee,ae)):Ee==="children"?typeof ae!="string"&&typeof ae!="number"||(F=F||[]).push(Ee,""+ae):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ee)?(ae!=null&&Ee==="onScroll"&&Wn("scroll",u),F||se===ae||(F=[])):(F=F||[]).push(Ee,ae))}x&&(F=F||[]).push("style",x);var Ee=F;(f.updateQueue=Ee)&&(f.flags|=4)}},YN=function(u,f,x,M){x!==M&&(f.flags|=4)};function u0(u,f){if(!Qn)switch(u.tailMode){case"hidden":f=u.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function os(u){var f=u.alternate!==null&&u.alternate.child===u.child,x=0,M=0;if(f)for(var I=u.child;I!==null;)x|=I.lanes|I.childLanes,M|=I.subtreeFlags&14680064,M|=I.flags&14680064,I.return=u,I=I.sibling;else for(I=u.child;I!==null;)x|=I.lanes|I.childLanes,M|=I.subtreeFlags,M|=I.flags,I.return=u,I=I.sibling;return u.subtreeFlags|=M,u.childLanes=x,f}function jX(u,f,x){var M=f.pendingProps;switch(Ta(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(f),null;case 1:return br(f.type)&&Sf(),os(f),null;case 3:return M=f.stateNode,Sl(),Gn(Fr),Gn(lr),$o(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&($u(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ys!==null&&(hT(Ys),Ys=null))),nT(u,f),os(f),null;case 5:Ku(f);var I=ki(Pa.current);if(x=f.type,u!==null&&f.stateNode!=null)XN(u,f,x,M,I),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(n(166));return os(f),null}if(u=ki(Ms.current),$u(f)){M=f.stateNode,x=f.type;var F=f.memoizedProps;switch(M[Bi]=f,M[Gu]=F,u=(f.mode&1)!==0,x){case"dialog":Wn("cancel",M),Wn("close",M);break;case"iframe":case"object":case"embed":Wn("load",M);break;case"video":case"audio":for(I=0;I<yl.length;I++)Wn(yl[I],M);break;case"source":Wn("error",M);break;case"img":case"image":case"link":Wn("error",M),Wn("load",M);break;case"details":Wn("toggle",M);break;case"input":tt(M,F),Wn("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!F.multiple},Wn("invalid",M);break;case"textarea":Ne(M,F),Wn("invalid",M)}qt(x,F),I=null;for(var G in F)if(F.hasOwnProperty(G)){var se=F[G];G==="children"?typeof se=="string"?M.textContent!==se&&(F.suppressHydrationWarning!==!0&&_f(M.textContent,se,u),I=["children",se]):typeof se=="number"&&M.textContent!==""+se&&(F.suppressHydrationWarning!==!0&&_f(M.textContent,se,u),I=["children",""+se]):r.hasOwnProperty(G)&&se!=null&&G==="onScroll"&&Wn("scroll",M)}switch(x){case"input":lt(M),nt(M,F,!0);break;case"textarea":lt(M),ze(M);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(M.onclick=bf)}M=I,f.updateQueue=M,M!==null&&(f.flags|=4)}else{G=I.nodeType===9?I:I.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Mt(x)),u==="http://www.w3.org/1999/xhtml"?x==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof M.is=="string"?u=G.createElement(x,{is:M.is}):(u=G.createElement(x),x==="select"&&(G=u,M.multiple?G.multiple=!0:M.size&&(G.size=M.size))):u=G.createElementNS(u,x),u[Bi]=f,u[Gu]=M,qN(u,f,!1,!1),f.stateNode=u;e:{switch(G=Ln(x,M),x){case"dialog":Wn("cancel",u),Wn("close",u),I=M;break;case"iframe":case"object":case"embed":Wn("load",u),I=M;break;case"video":case"audio":for(I=0;I<yl.length;I++)Wn(yl[I],u);I=M;break;case"source":Wn("error",u),I=M;break;case"img":case"image":case"link":Wn("error",u),Wn("load",u),I=M;break;case"details":Wn("toggle",u),I=M;break;case"input":tt(u,M),I=Ue(u,M),Wn("invalid",u);break;case"option":I=M;break;case"select":u._wrapperState={wasMultiple:!!M.multiple},I=te({},M,{value:void 0}),Wn("invalid",u);break;case"textarea":Ne(u,M),I=_e(u,M),Wn("invalid",u);break;default:I=M}qt(x,I),se=I;for(F in se)if(se.hasOwnProperty(F)){var ae=se[F];F==="style"?mt(u,ae):F==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&Vt(u,ae)):F==="children"?typeof ae=="string"?(x!=="textarea"||ae!=="")&&We(u,ae):typeof ae=="number"&&We(u,""+ae):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(r.hasOwnProperty(F)?ae!=null&&F==="onScroll"&&Wn("scroll",u):ae!=null&&C(u,F,ae,G))}switch(x){case"input":lt(u),nt(u,M,!1);break;case"textarea":lt(u),ze(u);break;case"option":M.value!=null&&u.setAttribute("value",""+me(M.value));break;case"select":u.multiple=!!M.multiple,F=M.value,F!=null?q(u,!!M.multiple,F,!1):M.defaultValue!=null&&q(u,!!M.multiple,M.defaultValue,!0);break;default:typeof I.onClick=="function"&&(u.onclick=bf)}switch(x){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return os(f),null;case 6:if(u&&f.stateNode!=null)YN(u,f,u.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(n(166));if(x=ki(Pa.current),ki(Ms.current),$u(f)){if(M=f.stateNode,x=f.memoizedProps,M[Bi]=f,(F=M.nodeValue!==x)&&(u=cr,u!==null))switch(u.tag){case 3:_f(M.nodeValue,x,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&_f(M.nodeValue,x,(u.mode&1)!==0)}F&&(f.flags|=4)}else M=(x.nodeType===9?x:x.ownerDocument).createTextNode(M),M[Bi]=f,f.stateNode=M}return os(f),null;case 13:if(Gn(Zn),M=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Qn&&Ur!==null&&(f.mode&1)!==0&&(f.flags&128)===0)Jv(),_l(),f.flags|=98560,F=!1;else if(F=$u(f),M!==null&&M.dehydrated!==null){if(u===null){if(!F)throw Error(n(318));if(F=f.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[Bi]=f}else _l(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;os(f),F=!1}else Ys!==null&&(hT(Ys),Ys=null),F=!0;if(!F)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=x,f):(M=M!==null,M!==(u!==null&&u.memoizedState!==null)&&M&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(Zn.current&1)!==0?hr===0&&(hr=3):gT())),f.updateQueue!==null&&(f.flags|=4),os(f),null);case 4:return Sl(),nT(u,f),u===null&&ju(f.stateNode.containerInfo),os(f),null;case 10:return Pf(f.type._context),os(f),null;case 17:return br(f.type)&&Sf(),os(f),null;case 19:if(Gn(Zn),F=f.memoizedState,F===null)return os(f),null;if(M=(f.flags&128)!==0,G=F.rendering,G===null)if(M)u0(F,!1);else{if(hr!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(G=xo(u),G!==null){for(f.flags|=128,u0(F,!1),M=G.updateQueue,M!==null&&(f.updateQueue=M,f.flags|=4),f.subtreeFlags=0,M=x,x=f.child;x!==null;)F=x,u=M,F.flags&=14680066,G=F.alternate,G===null?(F.childLanes=0,F.lanes=u,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=G.childLanes,F.lanes=G.lanes,F.child=G.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=G.memoizedProps,F.memoizedState=G.memoizedState,F.updateQueue=G.updateQueue,F.type=G.type,u=G.dependencies,F.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),x=x.sibling;return Un(Zn,Zn.current&1|2),f.child}u=u.sibling}F.tail!==null&&Je()>pm&&(f.flags|=128,M=!0,u0(F,!1),f.lanes=4194304)}else{if(!M)if(u=xo(G),u!==null){if(f.flags|=128,M=!0,x=u.updateQueue,x!==null&&(f.updateQueue=x,f.flags|=4),u0(F,!0),F.tail===null&&F.tailMode==="hidden"&&!G.alternate&&!Qn)return os(f),null}else 2*Je()-F.renderingStartTime>pm&&x!==1073741824&&(f.flags|=128,M=!0,u0(F,!1),f.lanes=4194304);F.isBackwards?(G.sibling=f.child,f.child=G):(x=F.last,x!==null?x.sibling=G:f.child=G,F.last=G)}return F.tail!==null?(f=F.tail,F.rendering=f,F.tail=f.sibling,F.renderingStartTime=Je(),f.sibling=null,x=Zn.current,Un(Zn,M?x&1|2:x&1),f):(os(f),null);case 22:case 23:return mT(),M=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(f.flags|=8192),M&&(f.mode&1)!==0?(So&1073741824)!==0&&(os(f),f.subtreeFlags&6&&(f.flags|=8192)):os(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function HX(u,f){switch(Ta(f),f.tag){case 1:return br(f.type)&&Sf(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Sl(),Gn(Fr),Gn(lr),$o(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Ku(f),null;case 13:if(Gn(Zn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));_l()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Gn(Zn),null;case 4:return Sl(),null;case 10:return Pf(f.type._context),null;case 22:case 23:return mT(),null;case 24:return null;default:return null}}var a1=!1,as=!1,WX=typeof WeakSet=="function"?WeakSet:Set,yt=null;function fm(u,f){var x=u.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(M){Oi(u,f,M)}else x.current=null}function iT(u,f,x){try{x()}catch(M){Oi(u,f,M)}}var KN=!1;function GX(u,f){if(Wu=js,u=hi(),Gi(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var M=x.getSelection&&x.getSelection();if(M&&M.rangeCount!==0){x=M.anchorNode;var I=M.anchorOffset,F=M.focusNode;M=M.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var G=0,se=-1,ae=-1,Ee=0,je=0,He=u,Be=null;t:for(;;){for(var pt;He!==x||I!==0&&He.nodeType!==3||(se=G+I),He!==F||M!==0&&He.nodeType!==3||(ae=G+M),He.nodeType===3&&(G+=He.nodeValue.length),(pt=He.firstChild)!==null;)Be=He,He=pt;for(;;){if(He===u)break t;if(Be===x&&++Ee===I&&(se=G),Be===F&&++je===M&&(ae=G),(pt=He.nextSibling)!==null)break;He=Be,Be=He.parentNode}He=pt}x=se===-1||ae===-1?null:{start:se,end:ae}}else x=null}x=x||{start:0,end:0}}else x=null;for(Uv={focusedElem:u,selectionRange:x},js=!1,yt=f;yt!==null;)if(f=yt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,yt=u;else for(;yt!==null;){f=yt;try{var _t=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var St=_t.memoizedProps,Vi=_t.memoizedState,ge=f.stateNode,le=ge.getSnapshotBeforeUpdate(f.elementType===f.type?St:Ks(f.type,St),Vi);ge.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var ye=f.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Xe){Oi(f,f.return,Xe)}if(u=f.sibling,u!==null){u.return=f.return,yt=u;break}yt=f.return}return _t=KN,KN=!1,_t}function d0(u,f,x){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var I=M=M.next;do{if((I.tag&u)===u){var F=I.destroy;I.destroy=void 0,F!==void 0&&iT(f,x,F)}I=I.next}while(I!==M)}}function l1(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&u)===u){var M=x.create;x.destroy=M()}x=x.next}while(x!==f)}}function rT(u){var f=u.ref;if(f!==null){var x=u.stateNode;switch(u.tag){case 5:u=x;break;default:u=x}typeof f=="function"?f(u):f.current=u}}function JN(u){var f=u.alternate;f!==null&&(u.alternate=null,JN(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[Bi],delete f[Gu],delete f[xc],delete f[Yp],delete f[Kp])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function QN(u){return u.tag===5||u.tag===3||u.tag===4}function ZN(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||QN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function sT(u,f,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?x.nodeType===8?x.parentNode.insertBefore(u,f):x.insertBefore(u,f):(x.nodeType===8?(f=x.parentNode,f.insertBefore(u,x)):(f=x,f.appendChild(u)),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=bf));else if(M!==4&&(u=u.child,u!==null))for(sT(u,f,x),u=u.sibling;u!==null;)sT(u,f,x),u=u.sibling}function oT(u,f,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?x.insertBefore(u,f):x.appendChild(u);else if(M!==4&&(u=u.child,u!==null))for(oT(u,f,x),u=u.sibling;u!==null;)oT(u,f,x),u=u.sibling}var Vr=null,Oa=!1;function Zu(u,f,x){for(x=x.child;x!==null;)eO(u,f,x),x=x.sibling}function eO(u,f,x){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Jn,x)}catch{}switch(x.tag){case 5:as||fm(x,f);case 6:var M=Vr,I=Oa;Vr=null,Zu(u,f,x),Vr=M,Oa=I,Vr!==null&&(Oa?(u=Vr,x=x.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)):Vr.removeChild(x.stateNode));break;case 18:Vr!==null&&(Oa?(u=Vr,x=x.stateNode,u.nodeType===8?Xp(u.parentNode,x):u.nodeType===1&&Xp(u,x),cf(u)):Xp(Vr,x.stateNode));break;case 4:M=Vr,I=Oa,Vr=x.stateNode.containerInfo,Oa=!0,Zu(u,f,x),Vr=M,Oa=I;break;case 0:case 11:case 14:case 15:if(!as&&(M=x.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){I=M=M.next;do{var F=I,G=F.destroy;F=F.tag,G!==void 0&&((F&2)!==0||(F&4)!==0)&&iT(x,f,G),I=I.next}while(I!==M)}Zu(u,f,x);break;case 1:if(!as&&(fm(x,f),M=x.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=x.memoizedProps,M.state=x.memoizedState,M.componentWillUnmount()}catch(se){Oi(x,f,se)}Zu(u,f,x);break;case 21:Zu(u,f,x);break;case 22:x.mode&1?(as=(M=as)||x.memoizedState!==null,Zu(u,f,x),as=M):Zu(u,f,x);break;default:Zu(u,f,x)}}function tO(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var x=u.stateNode;x===null&&(x=u.stateNode=new WX),f.forEach(function(M){var I=eY.bind(null,u,M);x.has(M)||(x.add(M),M.then(I,I))})}}function La(u,f){var x=f.deletions;if(x!==null)for(var M=0;M<x.length;M++){var I=x[M];try{var F=u,G=f,se=G;e:for(;se!==null;){switch(se.tag){case 5:Vr=se.stateNode,Oa=!1;break e;case 3:Vr=se.stateNode.containerInfo,Oa=!0;break e;case 4:Vr=se.stateNode.containerInfo,Oa=!0;break e}se=se.return}if(Vr===null)throw Error(n(160));eO(F,G,I),Vr=null,Oa=!1;var ae=I.alternate;ae!==null&&(ae.return=null),I.return=null}catch(Ee){Oi(I,f,Ee)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)nO(f,u),f=f.sibling}function nO(u,f){var x=u.alternate,M=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(La(f,u),El(u),M&4){try{d0(3,u,u.return),l1(3,u)}catch(St){Oi(u,u.return,St)}try{d0(5,u,u.return)}catch(St){Oi(u,u.return,St)}}break;case 1:La(f,u),El(u),M&512&&x!==null&&fm(x,x.return);break;case 5:if(La(f,u),El(u),M&512&&x!==null&&fm(x,x.return),u.flags&32){var I=u.stateNode;try{We(I,"")}catch(St){Oi(u,u.return,St)}}if(M&4&&(I=u.stateNode,I!=null)){var F=u.memoizedProps,G=x!==null?x.memoizedProps:F,se=u.type,ae=u.updateQueue;if(u.updateQueue=null,ae!==null)try{se==="input"&&F.type==="radio"&&F.name!=null&&Ae(I,F),Ln(se,G);var Ee=Ln(se,F);for(G=0;G<ae.length;G+=2){var je=ae[G],He=ae[G+1];je==="style"?mt(I,He):je==="dangerouslySetInnerHTML"?Vt(I,He):je==="children"?We(I,He):C(I,je,He,Ee)}switch(se){case"input":Tt(I,F);break;case"textarea":Ie(I,F);break;case"select":var Be=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!F.multiple;var pt=F.value;pt!=null?q(I,!!F.multiple,pt,!1):Be!==!!F.multiple&&(F.defaultValue!=null?q(I,!!F.multiple,F.defaultValue,!0):q(I,!!F.multiple,F.multiple?[]:"",!1))}I[Gu]=F}catch(St){Oi(u,u.return,St)}}break;case 6:if(La(f,u),El(u),M&4){if(u.stateNode===null)throw Error(n(162));I=u.stateNode,F=u.memoizedProps;try{I.nodeValue=F}catch(St){Oi(u,u.return,St)}}break;case 3:if(La(f,u),El(u),M&4&&x!==null&&x.memoizedState.isDehydrated)try{cf(f.containerInfo)}catch(St){Oi(u,u.return,St)}break;case 4:La(f,u),El(u);break;case 13:La(f,u),El(u),I=u.child,I.flags&8192&&(F=I.memoizedState!==null,I.stateNode.isHidden=F,!F||I.alternate!==null&&I.alternate.memoizedState!==null||(cT=Je())),M&4&&tO(u);break;case 22:if(je=x!==null&&x.memoizedState!==null,u.mode&1?(as=(Ee=as)||je,La(f,u),as=Ee):La(f,u),El(u),M&8192){if(Ee=u.memoizedState!==null,(u.stateNode.isHidden=Ee)&&!je&&(u.mode&1)!==0)for(yt=u,je=u.child;je!==null;){for(He=yt=je;yt!==null;){switch(Be=yt,pt=Be.child,Be.tag){case 0:case 11:case 14:case 15:d0(4,Be,Be.return);break;case 1:fm(Be,Be.return);var _t=Be.stateNode;if(typeof _t.componentWillUnmount=="function"){M=Be,x=Be.return;try{f=M,_t.props=f.memoizedProps,_t.state=f.memoizedState,_t.componentWillUnmount()}catch(St){Oi(M,x,St)}}break;case 5:fm(Be,Be.return);break;case 22:if(Be.memoizedState!==null){sO(He);continue}}pt!==null?(pt.return=Be,yt=pt):sO(He)}je=je.sibling}e:for(je=null,He=u;;){if(He.tag===5){if(je===null){je=He;try{I=He.stateNode,Ee?(F=I.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(se=He.stateNode,ae=He.memoizedProps.style,G=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,se.style.display=Lt("display",G))}catch(St){Oi(u,u.return,St)}}}else if(He.tag===6){if(je===null)try{He.stateNode.nodeValue=Ee?"":He.memoizedProps}catch(St){Oi(u,u.return,St)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===u)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===u)break e;for(;He.sibling===null;){if(He.return===null||He.return===u)break e;je===He&&(je=null),He=He.return}je===He&&(je=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:La(f,u),El(u),M&4&&tO(u);break;case 21:break;default:La(f,u),El(u)}}function El(u){var f=u.flags;if(f&2){try{e:{for(var x=u.return;x!==null;){if(QN(x)){var M=x;break e}x=x.return}throw Error(n(160))}switch(M.tag){case 5:var I=M.stateNode;M.flags&32&&(We(I,""),M.flags&=-33);var F=ZN(u);oT(u,F,I);break;case 3:case 4:var G=M.stateNode.containerInfo,se=ZN(u);sT(u,se,G);break;default:throw Error(n(161))}}catch(ae){Oi(u,u.return,ae)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function $X(u,f,x){yt=u,iO(u)}function iO(u,f,x){for(var M=(u.mode&1)!==0;yt!==null;){var I=yt,F=I.child;if(I.tag===22&&M){var G=I.memoizedState!==null||a1;if(!G){var se=I.alternate,ae=se!==null&&se.memoizedState!==null||as;se=a1;var Ee=as;if(a1=G,(as=ae)&&!Ee)for(yt=I;yt!==null;)G=yt,ae=G.child,G.tag===22&&G.memoizedState!==null?oO(I):ae!==null?(ae.return=G,yt=ae):oO(I);for(;F!==null;)yt=F,iO(F),F=F.sibling;yt=I,a1=se,as=Ee}rO(u)}else(I.subtreeFlags&8772)!==0&&F!==null?(F.return=I,yt=F):rO(u)}}function rO(u){for(;yt!==null;){var f=yt;if((f.flags&8772)!==0){var x=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:as||l1(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!as)if(x===null)M.componentDidMount();else{var I=f.elementType===f.type?x.memoizedProps:Ks(f.type,x.memoizedProps);M.componentDidUpdate(I,x.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var F=f.updateQueue;F!==null&&Yu(f,F,M);break;case 3:var G=f.updateQueue;if(G!==null){if(x=null,f.child!==null)switch(f.child.tag){case 5:x=f.child.stateNode;break;case 1:x=f.child.stateNode}Yu(f,G,x)}break;case 5:var se=f.stateNode;if(x===null&&f.flags&4){x=se;var ae=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&x.focus();break;case"img":ae.src&&(x.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ee=f.alternate;if(Ee!==null){var je=Ee.memoizedState;if(je!==null){var He=je.dehydrated;He!==null&&cf(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}as||f.flags&512&&rT(f)}catch(Be){Oi(f,f.return,Be)}}if(f===u){yt=null;break}if(x=f.sibling,x!==null){x.return=f.return,yt=x;break}yt=f.return}}function sO(u){for(;yt!==null;){var f=yt;if(f===u){yt=null;break}var x=f.sibling;if(x!==null){x.return=f.return,yt=x;break}yt=f.return}}function oO(u){for(;yt!==null;){var f=yt;try{switch(f.tag){case 0:case 11:case 15:var x=f.return;try{l1(4,f)}catch(ae){Oi(f,x,ae)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var I=f.return;try{M.componentDidMount()}catch(ae){Oi(f,I,ae)}}var F=f.return;try{rT(f)}catch(ae){Oi(f,F,ae)}break;case 5:var G=f.return;try{rT(f)}catch(ae){Oi(f,G,ae)}}}catch(ae){Oi(f,f.return,ae)}if(f===u){yt=null;break}var se=f.sibling;if(se!==null){se.return=f.return,yt=se;break}yt=f.return}}var qX=Math.ceil,c1=A.ReactCurrentDispatcher,aT=A.ReactCurrentOwner,Xo=A.ReactCurrentBatchConfig,wn=0,Er=null,Ki=null,jr=0,So=0,hm=mi(0),hr=0,f0=null,Bf=0,u1=0,lT=0,h0=null,Js=null,cT=0,pm=1/0,Lc=null,d1=!1,uT=null,ed=null,f1=!1,td=null,h1=0,p0=0,dT=null,p1=-1,m1=0;function Is(){return(wn&6)!==0?Je():p1!==-1?p1:p1=Je()}function nd(u){return(u.mode&1)===0?1:(wn&2)!==0&&jr!==0?jr&-jr:ZC.transition!==null?(m1===0&&(m1=es()),m1):(u=_n,u!==0||(u=window.event,u=u===void 0?16:O_(u.type)),u)}function Da(u,f,x,M){if(50<p0)throw p0=0,dT=null,Error(n(185));sf(u,x,M),((wn&2)===0||u!==Er)&&(u===Er&&((wn&2)===0&&(u1|=x),hr===4&&id(u,jr)),Qs(u,M),x===1&&wn===0&&(f.mode&1)===0&&(pm=Je()+500,Ef&&Wo()))}function Qs(u,f){var x=u.callbackNode;or(u,f);var M=Zr(u,u===Er?jr:0);if(M===0)x!==null&&qe(x),u.callbackNode=null,u.callbackPriority=0;else if(f=M&-M,u.callbackPriority!==f){if(x!=null&&qe(x),f===1)u.tag===0?X_(lO.bind(null,u)):Cf(lO.bind(null,u)),QC(function(){(wn&6)===0&&Wo()}),x=null;else{switch(Pu(M)){case 1:x=Pt;break;case 4:x=bt;break;case 16:x=hn;break;case 536870912:x=Tn;break;default:x=hn}x=gO(x,aO.bind(null,u))}u.callbackPriority=f,u.callbackNode=x}}function aO(u,f){if(p1=-1,m1=0,(wn&6)!==0)throw Error(n(327));var x=u.callbackNode;if(mm()&&u.callbackNode!==x)return null;var M=Zr(u,u===Er?jr:0);if(M===0)return null;if((M&30)!==0||(M&u.expiredLanes)!==0||f)f=g1(u,M);else{f=M;var I=wn;wn|=2;var F=uO();(Er!==u||jr!==f)&&(Lc=null,pm=Je()+500,jf(u,f));do try{KX();break}catch(se){cO(u,se)}while(!0);Mc(),c1.current=F,wn=I,Ki!==null?f=0:(Er=null,jr=0,f=hr)}if(f!==0){if(f===2&&(I=dl(u),I!==0&&(M=I,f=fT(u,I))),f===1)throw x=f0,jf(u,0),id(u,M),Qs(u,Je()),x;if(f===6)id(u,M);else{if(I=u.current.alternate,(M&30)===0&&!XX(I)&&(f=g1(u,M),f===2&&(F=dl(u),F!==0&&(M=F,f=fT(u,F))),f===1))throw x=f0,jf(u,0),id(u,M),Qs(u,Je()),x;switch(u.finishedWork=I,u.finishedLanes=M,f){case 0:case 1:throw Error(n(345));case 2:Hf(u,Js,Lc);break;case 3:if(id(u,M),(M&130023424)===M&&(f=cT+500-Je(),10<f)){if(Zr(u,0)!==0)break;if(I=u.suspendedLanes,(I&M)!==M){Is(),u.pingedLanes|=u.suspendedLanes&I;break}u.timeoutHandle=Vv(Hf.bind(null,u,Js,Lc),f);break}Hf(u,Js,Lc);break;case 4:if(id(u,M),(M&4194240)===M)break;for(f=u.eventTimes,I=-1;0<M;){var G=31-cn(M);F=1<<G,G=f[G],G>I&&(I=G),M&=~F}if(M=I,M=Je()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*qX(M/1960))-M,10<M){u.timeoutHandle=Vv(Hf.bind(null,u,Js,Lc),M);break}Hf(u,Js,Lc);break;case 5:Hf(u,Js,Lc);break;default:throw Error(n(329))}}}return Qs(u,Je()),u.callbackNode===x?aO.bind(null,u):null}function fT(u,f){var x=h0;return u.current.memoizedState.isDehydrated&&(jf(u,f).flags|=256),u=g1(u,f),u!==2&&(f=Js,Js=x,f!==null&&hT(f)),u}function hT(u){Js===null?Js=u:Js.push.apply(Js,u)}function XX(u){for(var f=u;;){if(f.flags&16384){var x=f.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var M=0;M<x.length;M++){var I=x[M],F=I.getSnapshot;I=I.value;try{if(!ws(F(),I))return!1}catch{return!1}}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function id(u,f){for(f&=~lT,f&=~u1,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var x=31-cn(f),M=1<<x;u[x]=-1,f&=~M}}function lO(u){if((wn&6)!==0)throw Error(n(327));mm();var f=Zr(u,0);if((f&1)===0)return Qs(u,Je()),null;var x=g1(u,f);if(u.tag!==0&&x===2){var M=dl(u);M!==0&&(f=M,x=fT(u,M))}if(x===1)throw x=f0,jf(u,0),id(u,f),Qs(u,Je()),x;if(x===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Hf(u,Js,Lc),Qs(u,Je()),null}function pT(u,f){var x=wn;wn|=1;try{return u(f)}finally{wn=x,wn===0&&(pm=Je()+500,Ef&&Wo())}}function Vf(u){td!==null&&td.tag===0&&(wn&6)===0&&mm();var f=wn;wn|=1;var x=Xo.transition,M=_n;try{if(Xo.transition=null,_n=1,u)return u()}finally{_n=M,Xo.transition=x,wn=f,(wn&6)===0&&Wo()}}function mT(){So=hm.current,Gn(hm)}function jf(u,f){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;if(x!==-1&&(u.timeoutHandle=-1,jv(x)),Ki!==null)for(x=Ki.return;x!==null;){var M=x;switch(Ta(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Sf();break;case 3:Sl(),Gn(Fr),Gn(lr),$o();break;case 5:Ku(M);break;case 4:Sl();break;case 13:Gn(Zn);break;case 19:Gn(Zn);break;case 10:Pf(M.type._context);break;case 22:case 23:mT()}x=x.return}if(Er=u,Ki=u=rd(u.current,null),jr=So=f,hr=0,f0=null,lT=u1=Bf=0,Js=h0=null,Aa!==null){for(f=0;f<Aa.length;f++)if(x=Aa[f],M=x.interleaved,M!==null){x.interleaved=null;var I=M.next,F=x.pending;if(F!==null){var G=F.next;F.next=I,M.next=G}x.pending=M}Aa=null}return u}function cO(u,f){do{var x=Ki;try{if(Mc(),Ic.current=um,_o){for(var M=$n.memoizedState;M!==null;){var I=M.queue;I!==null&&(I.pending=null),M=M.next}_o=!1}if(Ra=0,bn=vi=$n=null,wr=!1,wl=0,aT.current=null,x===null||x.return===null){hr=1,f0=f,Ki=null;break}e:{var F=u,G=x.return,se=x,ae=f;if(f=jr,se.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Ee=ae,je=se,He=je.tag;if((je.mode&1)===0&&(He===0||He===11||He===15)){var Be=je.alternate;Be?(je.updateQueue=Be.updateQueue,je.memoizedState=Be.memoizedState,je.lanes=Be.lanes):(je.updateQueue=null,je.memoizedState=null)}var pt=gt(G);if(pt!==null){pt.flags&=-257,Wt(pt,G,se,F,f),pt.mode&1&&Ge(F,Ee,f),f=pt,ae=Ee;var _t=f.updateQueue;if(_t===null){var St=new Set;St.add(ae),f.updateQueue=St}else _t.add(ae);break e}else{if((f&1)===0){Ge(F,Ee,f),gT();break e}ae=Error(n(426))}}else if(Qn&&se.mode&1){var Vi=gt(G);if(Vi!==null){(Vi.flags&65536)===0&&(Vi.flags|=256),Wt(Vi,G,se,F,f),qu(P(ae,se));break e}}F=ae=P(ae,se),hr!==4&&(hr=2),h0===null?h0=[F]:h0.push(F),F=G;do{switch(F.tag){case 3:F.flags|=65536,f&=-f,F.lanes|=f;var ge=ce(F,ae,f);Ac(F,ge);break e;case 1:se=ae;var le=F.type,ye=F.stateNode;if((F.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(ed===null||!ed.has(ye)))){F.flags|=65536,f&=-f,F.lanes|=f;var Xe=Me(F,se,f);Ac(F,Xe);break e}}F=F.return}while(F!==null)}fO(x)}catch(Ct){f=Ct,Ki===x&&x!==null&&(Ki=x=x.return);continue}break}while(!0)}function uO(){var u=c1.current;return c1.current=um,u===null?um:u}function gT(){(hr===0||hr===3||hr===2)&&(hr=4),Er===null||(Bf&268435455)===0&&(u1&268435455)===0||id(Er,jr)}function g1(u,f){var x=wn;wn|=2;var M=uO();(Er!==u||jr!==f)&&(Lc=null,jf(u,f));do try{YX();break}catch(I){cO(u,I)}while(!0);if(Mc(),wn=x,c1.current=M,Ki!==null)throw Error(n(261));return Er=null,jr=0,hr}function YX(){for(;Ki!==null;)dO(Ki)}function KX(){for(;Ki!==null&&!dt();)dO(Ki)}function dO(u){var f=mO(u.alternate,u,So);u.memoizedProps=u.pendingProps,f===null?fO(u):Ki=f,aT.current=null}function fO(u){var f=u;do{var x=f.alternate;if(u=f.return,(f.flags&32768)===0){if(x=jX(x,f,So),x!==null){Ki=x;return}}else{if(x=HX(x,f),x!==null){x.flags&=32767,Ki=x;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{hr=6,Ki=null;return}}if(f=f.sibling,f!==null){Ki=f;return}Ki=f=u}while(f!==null);hr===0&&(hr=5)}function Hf(u,f,x){var M=_n,I=Xo.transition;try{Xo.transition=null,_n=1,JX(u,f,x,M)}finally{Xo.transition=I,_n=M}return null}function JX(u,f,x,M){do mm();while(td!==null);if((wn&6)!==0)throw Error(n(327));x=u.finishedWork;var I=u.finishedLanes;if(x===null)return null;if(u.finishedWork=null,u.finishedLanes=0,x===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var F=x.lanes|x.childLanes;if(XC(u,F),u===Er&&(Ki=Er=null,jr=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||f1||(f1=!0,gO(hn,function(){return mm(),null})),F=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||F){F=Xo.transition,Xo.transition=null;var G=_n;_n=1;var se=wn;wn|=4,aT.current=null,GX(u,x),nO(x,u),$i(Uv),js=!!Wu,Uv=Wu=null,u.current=x,$X(x),xt(),wn=se,_n=G,Xo.transition=F}else u.current=x;if(f1&&(f1=!1,td=u,h1=I),F=u.pendingLanes,F===0&&(ed=null),Qe(x.stateNode),Qs(u,Je()),f!==null)for(M=u.onRecoverableError,x=0;x<f.length;x++)I=f[x],M(I.value,{componentStack:I.stack,digest:I.digest});if(d1)throw d1=!1,u=uT,uT=null,u;return(h1&1)!==0&&u.tag!==0&&mm(),F=u.pendingLanes,(F&1)!==0?u===dT?p0++:(p0=0,dT=u):p0=0,Wo(),null}function mm(){if(td!==null){var u=Pu(h1),f=Xo.transition,x=_n;try{if(Xo.transition=null,_n=16>u?16:u,td===null)var M=!1;else{if(u=td,td=null,h1=0,(wn&6)!==0)throw Error(n(331));var I=wn;for(wn|=4,yt=u.current;yt!==null;){var F=yt,G=F.child;if((yt.flags&16)!==0){var se=F.deletions;if(se!==null){for(var ae=0;ae<se.length;ae++){var Ee=se[ae];for(yt=Ee;yt!==null;){var je=yt;switch(je.tag){case 0:case 11:case 15:d0(8,je,F)}var He=je.child;if(He!==null)He.return=je,yt=He;else for(;yt!==null;){je=yt;var Be=je.sibling,pt=je.return;if(JN(je),je===Ee){yt=null;break}if(Be!==null){Be.return=pt,yt=Be;break}yt=pt}}}var _t=F.alternate;if(_t!==null){var St=_t.child;if(St!==null){_t.child=null;do{var Vi=St.sibling;St.sibling=null,St=Vi}while(St!==null)}}yt=F}}if((F.subtreeFlags&2064)!==0&&G!==null)G.return=F,yt=G;else e:for(;yt!==null;){if(F=yt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:d0(9,F,F.return)}var ge=F.sibling;if(ge!==null){ge.return=F.return,yt=ge;break e}yt=F.return}}var le=u.current;for(yt=le;yt!==null;){G=yt;var ye=G.child;if((G.subtreeFlags&2064)!==0&&ye!==null)ye.return=G,yt=ye;else e:for(G=le;yt!==null;){if(se=yt,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:l1(9,se)}}catch(Ct){Oi(se,se.return,Ct)}if(se===G){yt=null;break e}var Xe=se.sibling;if(Xe!==null){Xe.return=se.return,yt=Xe;break e}yt=se.return}}if(wn=I,Wo(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Jn,u)}catch{}M=!0}return M}finally{_n=x,Xo.transition=f}}return!1}function hO(u,f,x){f=P(x,f),f=ce(u,f,1),u=si(u,f,1),f=Is(),u!==null&&(sf(u,1,f),Qs(u,f))}function Oi(u,f,x){if(u.tag===3)hO(u,u,x);else for(;f!==null;){if(f.tag===3){hO(f,u,x);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ed===null||!ed.has(M))){u=P(x,u),u=Me(f,u,1),f=si(f,u,1),u=Is(),f!==null&&(sf(f,1,u),Qs(f,u));break}}f=f.return}}function QX(u,f,x){var M=u.pingCache;M!==null&&M.delete(f),f=Is(),u.pingedLanes|=u.suspendedLanes&x,Er===u&&(jr&x)===x&&(hr===4||hr===3&&(jr&130023424)===jr&&500>Je()-cT?jf(u,0):lT|=x),Qs(u,f)}function pO(u,f){f===0&&((u.mode&1)===0?f=1:(f=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var x=Is();u=yo(u,f),u!==null&&(sf(u,f,x),Qs(u,x))}function ZX(u){var f=u.memoizedState,x=0;f!==null&&(x=f.retryLane),pO(u,x)}function eY(u,f){var x=0;switch(u.tag){case 13:var M=u.stateNode,I=u.memoizedState;I!==null&&(x=I.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(n(314))}M!==null&&M.delete(f),pO(u,x)}var mO;mO=function(u,f,x){if(u!==null)if(u.memoizedProps!==f.pendingProps||Fr.current)Qt=!0;else{if((u.lanes&x)===0&&(f.flags&128)===0)return Qt=!1,VX(u,f,x);Qt=(u.flags&131072)!==0}else Qt=!1,Qn&&(f.flags&1048576)!==0&&qv(f,em,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;o1(u,f),u=f.pendingProps;var I=_c(f,lr.current);bl(f,x),I=Of(null,f,M,u,I,x);var F=t0();return f.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,br(M)?(F=!0,bc(f)):F=!1,f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Jt(f),I.updater=dm,f.stateNode=I,I._reactInternals=f,T(f,M,u,x),f=Xt(null,f,M,!0,F,x)):(f.tag=0,Qn&&F&&Xv(f),ft(null,f,I,x),f=f.child),f;case 16:M=f.elementType;e:{switch(o1(u,f),u=f.pendingProps,I=M._init,M=I(M._payload),f.type=M,I=f.tag=nY(M),u=Ks(M,u),I){case 0:f=ot(null,f,M,u,x);break e;case 1:f=wt(null,f,M,u,x);break e;case 11:f=fr(null,f,M,u,x);break e;case 14:f=Rs(null,f,M,Ks(M.type,u),x);break e}throw Error(n(306,M,""))}return f;case 0:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Ks(M,I),ot(u,f,M,I,x);case 1:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Ks(M,I),wt(u,f,M,I,x);case 3:e:{if(Gt(f),u===null)throw Error(n(387));M=f.pendingProps,F=f.memoizedState,I=F.element,Si(u,f),gi(f,M,null,x);var G=f.memoizedState;if(M=G.element,F.isDehydrated)if(F={element:M,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},f.updateQueue.baseState=F,f.memoizedState=F,f.flags&256){I=P(Error(n(423)),f),f=xn(u,f,M,x,I);break e}else if(M!==I){I=P(Error(n(424)),f),f=xn(u,f,M,x,I);break e}else for(Ur=ba(f.stateNode.containerInfo.firstChild),cr=f,Qn=!0,Ys=null,x=Af(f,null,M,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(_l(),M===I){f=Oc(u,f,x);break e}ft(u,f,M,x)}f=f.child}return f;case 5:return Rc(f),u===null&&nm(f),M=f.type,I=f.pendingProps,F=u!==null?u.memoizedProps:null,G=I.children,Bv(M,I)?G=null:F!==null&&Bv(M,F)&&(f.flags|=32),Ce(u,f),ft(u,f,G,x),f.child;case 6:return u===null&&nm(f),null;case 13:return Na(u,f,x);case 4:return kf(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Ec(f,null,M,x):ft(u,f,M,x),f.child;case 11:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Ks(M,I),fr(u,f,M,I,x);case 7:return ft(u,f,f.pendingProps,x),f.child;case 8:return ft(u,f,f.pendingProps.children,x),f.child;case 12:return ft(u,f,f.pendingProps.children,x),f.child;case 10:e:{if(M=f.type._context,I=f.pendingProps,F=f.memoizedProps,G=I.value,Un(Cc,M._currentValue),M._currentValue=G,F!==null)if(ws(F.value,G)){if(F.children===I.children&&!Fr.current){f=Oc(u,f,x);break e}}else for(F=f.child,F!==null&&(F.return=f);F!==null;){var se=F.dependencies;if(se!==null){G=F.child;for(var ae=se.firstContext;ae!==null;){if(ae.context===M){if(F.tag===1){ae=Fn(-1,x&-x),ae.tag=2;var Ee=F.updateQueue;if(Ee!==null){Ee=Ee.shared;var je=Ee.pending;je===null?ae.next=ae:(ae.next=je.next,je.next=ae),Ee.pending=ae}}F.lanes|=x,ae=F.alternate,ae!==null&&(ae.lanes|=x),Rf(F.return,x,f),se.lanes|=x;break}ae=ae.next}}else if(F.tag===10)G=F.type===f.type?null:F.child;else if(F.tag===18){if(G=F.return,G===null)throw Error(n(341));G.lanes|=x,se=G.alternate,se!==null&&(se.lanes|=x),Rf(G,x,f),G=F.sibling}else G=F.child;if(G!==null)G.return=F;else for(G=F;G!==null;){if(G===f){G=null;break}if(F=G.sibling,F!==null){F.return=G.return,G=F;break}G=G.return}F=G}ft(u,f,I.children,x),f=f.child}return f;case 9:return I=f.type,M=f.pendingProps.children,bl(f,x),I=Ts(I),M=M(I),f.flags|=1,ft(u,f,M,x),f.child;case 14:return M=f.type,I=Ks(M,f.pendingProps),I=Ks(M.type,I),Rs(u,f,M,I,x);case 15:return xe(u,f,f.type,f.pendingProps,x);case 17:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Ks(M,I),o1(u,f),f.tag=1,br(M)?(u=!0,bc(f)):u=!1,bl(f,x),m(f,M,I),T(f,M,I,x),Xt(null,f,M,!0,u,x);case 19:return $N(u,f,x);case 22:return fe(u,f,x)}throw Error(n(156,f.tag))};function gO(u,f){return pe(u,f)}function tY(u,f,x,M){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yo(u,f,x,M){return new tY(u,f,x,M)}function vT(u){return u=u.prototype,!(!u||!u.isReactComponent)}function nY(u){if(typeof u=="function")return vT(u)?1:0;if(u!=null){if(u=u.$$typeof,u===H)return 11;if(u===$)return 14}return 2}function rd(u,f){var x=u.alternate;return x===null?(x=Yo(u.tag,f,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=f,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&14680064,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,f=u.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x}function v1(u,f,x,M,I,F){var G=2;if(M=u,typeof u=="function")vT(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case L:return Wf(x.children,I,F,f);case z:G=8,I|=8;break;case N:return u=Yo(12,x,f,I|2),u.elementType=N,u.lanes=F,u;case J:return u=Yo(13,x,f,I),u.elementType=J,u.lanes=F,u;case Z:return u=Yo(19,x,f,I),u.elementType=Z,u.lanes=F,u;case W:return y1(x,I,F,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case k:G=10;break e;case B:G=9;break e;case H:G=11;break e;case $:G=14;break e;case K:G=16,M=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return f=Yo(G,x,f,I),f.elementType=u,f.type=M,f.lanes=F,f}function Wf(u,f,x,M){return u=Yo(7,u,M,f),u.lanes=x,u}function y1(u,f,x,M){return u=Yo(22,u,M,f),u.elementType=W,u.lanes=x,u.stateNode={isHidden:!1},u}function yT(u,f,x){return u=Yo(6,u,null,f),u.lanes=x,u}function xT(u,f,x){return f=Yo(4,u.children!==null?u.children:[],u.key,f),f.lanes=x,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function iY(u,f,x,M,I){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=M,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function _T(u,f,x,M,I,F,G,se,ae){return u=new iY(u,f,x,se,ae),f===1?(f=1,F===!0&&(f|=8)):f=0,F=Yo(3,null,null,f),u.current=F,F.stateNode=u,F.memoizedState={element:M,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jt(F),u}function rY(u,f,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:M==null?null:""+M,children:u,containerInfo:f,implementation:x}}function vO(u){if(!u)return wa;u=u._reactInternals;e:{if(ha(u)!==u||u.tag!==1)throw Error(n(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(br(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(u.tag===1){var x=u.type;if(br(x))return wf(u,x,f)}return f}function yO(u,f,x,M,I,F,G,se,ae){return u=_T(x,M,!0,u,I,F,G,se,ae),u.context=vO(null),x=u.current,M=Is(),I=nd(x),F=Fn(M,I),F.callback=f??null,si(x,F,I),u.current.lanes=I,sf(u,I,M),Qs(u,M),u}function x1(u,f,x,M){var I=f.current,F=Is(),G=nd(I);return x=vO(x),f.context===null?f.context=x:f.pendingContext=x,f=Fn(F,G),f.payload={element:u},M=M===void 0?null:M,M!==null&&(f.callback=M),u=si(I,f,G),u!==null&&(Da(u,I,G,F),Sr(u,I,G)),G}function _1(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function xO(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<f?x:f}}function bT(u,f){xO(u,f),(u=u.alternate)&&xO(u,f)}function sY(){return null}var _O=typeof reportError=="function"?reportError:function(u){console.error(u)};function ST(u){this._internalRoot=u}b1.prototype.render=ST.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));x1(u,f,null,null)},b1.prototype.unmount=ST.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;Vf(function(){x1(null,u,null,null)}),f[Cs]=null}};function b1(u){this._internalRoot=u}b1.prototype.unstable_scheduleHydration=function(u){if(u){var f=xp();u={blockedOn:null,target:u,priority:f};for(var x=0;x<fl.length&&f!==0&&f<fl[x].priority;x++);fl.splice(x,0,u),x===0&&Sp(u)}};function wT(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function S1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function bO(){}function oY(u,f,x,M,I){if(I){if(typeof M=="function"){var F=M;M=function(){var Ee=_1(G);F.call(Ee)}}var G=yO(f,M,u,0,null,!1,!1,"",bO);return u._reactRootContainer=G,u[Cs]=G.current,ju(u.nodeType===8?u.parentNode:u),Vf(),G}for(;I=u.lastChild;)u.removeChild(I);if(typeof M=="function"){var se=M;M=function(){var Ee=_1(ae);se.call(Ee)}}var ae=_T(u,0,!1,null,null,!1,!1,"",bO);return u._reactRootContainer=ae,u[Cs]=ae.current,ju(u.nodeType===8?u.parentNode:u),Vf(function(){x1(f,ae,x,M)}),ae}function w1(u,f,x,M,I){var F=x._reactRootContainer;if(F){var G=F;if(typeof I=="function"){var se=I;I=function(){var ae=_1(G);se.call(ae)}}x1(f,G,u,I)}else G=oY(x,f,u,I,M);return _1(G)}of=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var x=In(f.pendingLanes);x!==0&&(Au(f,x|1),Qs(f,Je()),(wn&6)===0&&(pm=Je()+500,Wo()))}break;case 13:Vf(function(){var M=yo(u,1);if(M!==null){var I=Is();Da(M,u,1,I)}}),bT(u,1)}},Sv=function(u){if(u.tag===13){var f=yo(u,134217728);if(f!==null){var x=Is();Da(f,u,134217728,x)}bT(u,134217728)}},N_=function(u){if(u.tag===13){var f=nd(u),x=yo(u,f);if(x!==null){var M=Is();Da(x,u,f,M)}bT(u,f)}},xp=function(){return _n},_p=function(u,f){var x=_n;try{return _n=u,f()}finally{_n=x}},Oe=function(u,f,x){switch(f){case"input":if(Tt(u,x),f=x.name,x.type==="radio"&&f!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<x.length;f++){var M=x[f];if(M!==u&&M.form===u.form){var I=Jp(M);if(!I)throw Error(n(90));ee(M),Tt(M,I)}}}break;case"textarea":Ie(u,x);break;case"select":f=x.value,f!=null&&q(u,!!x.multiple,f,!1)}},Ii=pT,gn=Vf;var aY={usingClientEntryPoint:!1,Events:[Sa,bi,Jp,on,ii,pT]},m0={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lY={bundleType:m0.bundleType,version:m0.version,rendererPackageName:m0.rendererPackageName,rendererConfig:m0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=be(u),u===null?null:u.stateNode},findFiberByHostInstance:m0.findFiberByHostInstance||sY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E1.isDisabled&&E1.supportsFiber)try{Jn=E1.inject(lY),vt=E1}catch{}}return Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aY,Zs.createPortal=function(u,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wT(f))throw Error(n(200));return rY(u,f,null,x)},Zs.createRoot=function(u,f){if(!wT(u))throw Error(n(299));var x=!1,M="",I=_O;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(M=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),f=_T(u,1,!1,null,null,x,!1,M,I),u[Cs]=f.current,ju(u.nodeType===8?u.parentNode:u),new ST(f)},Zs.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=be(f),u=u===null?null:u.stateNode,u},Zs.flushSync=function(u){return Vf(u)},Zs.hydrate=function(u,f,x){if(!S1(f))throw Error(n(200));return w1(null,u,f,!0,x)},Zs.hydrateRoot=function(u,f,x){if(!wT(u))throw Error(n(405));var M=x!=null&&x.hydratedSources||null,I=!1,F="",G=_O;if(x!=null&&(x.unstable_strictMode===!0&&(I=!0),x.identifierPrefix!==void 0&&(F=x.identifierPrefix),x.onRecoverableError!==void 0&&(G=x.onRecoverableError)),f=yO(f,null,u,1,x??null,I,!1,F,G),u[Cs]=f.current,ju(u),M)for(u=0;u<M.length;u++)x=M[u],I=x._getVersion,I=I(x._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[x,I]:f.mutableSourceEagerHydrationData.push(x,I);return new b1(f)},Zs.render=function(u,f,x){if(!S1(f))throw Error(n(200));return w1(null,u,f,!1,x)},Zs.unmountComponentAtNode=function(u){if(!S1(u))throw Error(n(40));return u._reactRootContainer?(Vf(function(){w1(null,null,u,!1,function(){u._reactRootContainer=null,u[Cs]=null})}),!0):!1},Zs.unstable_batchedUpdates=pT,Zs.unstable_renderSubtreeIntoContainer=function(u,f,x,M){if(!S1(x))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return w1(u,f,x,!1,M)},Zs.version="18.3.1-next-f1338f8080-20240426",Zs}var RO;function oV(){if(RO)return TT.exports;RO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),TT.exports=gY(),TT.exports}var IO;function vY(){if(IO)return C1;IO=1;var t=oV();return C1.createRoot=t.createRoot,C1.hydrateRoot=t.hydrateRoot,C1}var yY=vY();function xY(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function hy(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,a=U.createContext(o);a.displayName=e;function l(){var d;const c=U.useContext(a);if(!c&&n){const h=new Error(s??xY(i,r));throw h.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,h,l),h}return c}return[a.Provider,l,a]}function _Y(...t){return function(...n){t.forEach(i=>i==null?void 0:i(...n))}}const bY=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),SY=/^on[A-Z]/;function Vy(...t){let e={};for(let n of t){for(let i in e){if(SY.test(i)&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=_Y(e[i],n[i]);continue}if(i==="className"||i==="class"){e[i]=bY(e[i],n[i]);continue}if(i==="style"){e[i]=Object.assign({},e[i]??{},n[i]??{});continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}const la=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" "),wY=Object.freeze({}),EY=Object.freeze({});function aV(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var CY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,TY=aV(function(t){return CY.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function MY(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AY(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PY=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AY(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=MY(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),ds="-ms-",RS="-moz-",kn="-webkit-",lV="comm",sR="rule",oR="decl",RY="@import",cV="@keyframes",IY="@layer",kY=Math.abs,fE=String.fromCharCode,NY=Object.assign;function OY(t,e){return qr(t,0)^45?(((e<<2^qr(t,0))<<2^qr(t,1))<<2^qr(t,2))<<2^qr(t,3):0}function uV(t){return t.trim()}function LY(t,e){return(t=e.exec(t))?t[0]:t}function Nn(t,e,n){return t.replace(e,n)}function QA(t,e){return t.indexOf(e)}function qr(t,e){return t.charCodeAt(e)|0}function jy(t,e,n){return t.slice(e,n)}function Al(t){return t.length}function aR(t){return t.length}function T1(t,e){return e.push(t),t}function DY(t,e){return t.map(e).join("")}var hE=1,Ag=1,dV=0,so=0,Zi=0,Kg="";function pE(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:hE,column:Ag,length:o,return:""}}function v0(t,e){return NY(pE("",null,null,"",null,null,0),t,{length:-t.length},e)}function FY(){return Zi}function zY(){return Zi=so>0?qr(Kg,--so):0,Ag--,Zi===10&&(Ag=1,hE--),Zi}function Io(){return Zi=so<dV?qr(Kg,so++):0,Ag++,Zi===10&&(Ag=1,hE++),Zi}function Dl(){return qr(Kg,so)}function Jb(){return so}function Vx(t,e){return jy(Kg,t,e)}function Hy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fV(t){return hE=Ag=1,dV=Al(Kg=t),so=0,[]}function hV(t){return Kg="",t}function Qb(t){return uV(Vx(so-1,ZA(t===91?t+2:t===40?t+1:t)))}function UY(t){for(;(Zi=Dl())&&Zi<33;)Io();return Hy(t)>2||Hy(Zi)>3?"":" "}function BY(t,e){for(;--e&&Io()&&!(Zi<48||Zi>102||Zi>57&&Zi<65||Zi>70&&Zi<97););return Vx(t,Jb()+(e<6&&Dl()==32&&Io()==32))}function ZA(t){for(;Io();)switch(Zi){case t:return so;case 34:case 39:t!==34&&t!==39&&ZA(Zi);break;case 40:t===41&&ZA(t);break;case 92:Io();break}return so}function VY(t,e){for(;Io()&&t+Zi!==57;)if(t+Zi===84&&Dl()===47)break;return"/*"+Vx(e,so-1)+"*"+fE(t===47?t:Io())}function jY(t){for(;!Hy(Dl());)Io();return Vx(t,so)}function HY(t){return hV(Zb("",null,null,null,[""],t=fV(t),0,[0],t))}function Zb(t,e,n,i,r,s,o,a,l){for(var c=0,d=0,h=o,p=0,v=0,y=0,b=1,S=1,_=1,w=0,C="",A=r,R=s,O=i,L=C;S;)switch(y=w,w=Io()){case 40:if(y!=108&&qr(L,h-1)==58){QA(L+=Nn(Qb(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:L+=Qb(w);break;case 9:case 10:case 13:case 32:L+=UY(y);break;case 92:L+=BY(Jb()-1,7);continue;case 47:switch(Dl()){case 42:case 47:T1(WY(VY(Io(),Jb()),e,n),l);break;default:L+="/"}break;case 123*b:a[c++]=Al(L)*_;case 125*b:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+d:_==-1&&(L=Nn(L,/\f/g,"")),v>0&&Al(L)-h&&T1(v>32?NO(L+";",i,n,h-1):NO(Nn(L," ","")+";",i,n,h-2),l);break;case 59:L+=";";default:if(T1(O=kO(L,e,n,c,d,r,a,C,A=[],R=[],h),s),w===123)if(d===0)Zb(L,e,O,O,A,s,h,a,R);else switch(p===99&&qr(L,3)===110?100:p){case 100:case 108:case 109:case 115:Zb(t,O,O,i&&T1(kO(t,O,O,0,0,r,a,C,r,A=[],h),R),r,R,h,a,i?A:R);break;default:Zb(L,O,O,O,[""],R,0,a,R)}}c=d=v=0,b=_=1,C=L="",h=o;break;case 58:h=1+Al(L),v=y;default:if(b<1){if(w==123)--b;else if(w==125&&b++==0&&zY()==125)continue}switch(L+=fE(w),w*b){case 38:_=d>0?1:(L+="\f",-1);break;case 44:a[c++]=(Al(L)-1)*_,_=1;break;case 64:Dl()===45&&(L+=Qb(Io())),p=Dl(),d=h=Al(C=L+=jY(Jb())),w++;break;case 45:y===45&&Al(L)==2&&(b=0)}}return s}function kO(t,e,n,i,r,s,o,a,l,c,d){for(var h=r-1,p=r===0?s:[""],v=aR(p),y=0,b=0,S=0;y<i;++y)for(var _=0,w=jy(t,h+1,h=kY(b=o[y])),C=t;_<v;++_)(C=uV(b>0?p[_]+" "+w:Nn(w,/&\f/g,p[_])))&&(l[S++]=C);return pE(t,e,n,r===0?sR:a,l,c,d)}function WY(t,e,n){return pE(t,e,n,lV,fE(FY()),jy(t,2,-2),0)}function NO(t,e,n,i){return pE(t,e,n,oR,jy(t,0,i),jy(t,i+1,-1),i)}function gg(t,e){for(var n="",i=aR(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function GY(t,e,n,i){switch(t.type){case IY:if(t.children.length)break;case RY:case oR:return t.return=t.return||t.value;case lV:return"";case cV:return t.return=t.value+"{"+gg(t.children,i)+"}";case sR:t.value=t.props.join(",")}return Al(n=gg(t.children,i))?t.return=t.value+"{"+n+"}":""}function $Y(t){var e=aR(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function qY(t){return function(e){e.root||(e=e.return)&&t(e)}}var XY=function(e,n,i){for(var r=0,s=0;r=s,s=Dl(),r===38&&s===12&&(n[i]=1),!Hy(s);)Io();return Vx(e,so)},YY=function(e,n){var i=-1,r=44;do switch(Hy(r)){case 0:r===38&&Dl()===12&&(n[i]=1),e[i]+=XY(so-1,n,i);break;case 2:e[i]+=Qb(r);break;case 4:if(r===44){e[++i]=Dl()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=fE(r)}while(r=Io());return e},KY=function(e,n){return hV(YY(fV(e),n))},OO=new WeakMap,JY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OO.get(i))&&!r){OO.set(e,!0);for(var s=[],o=KY(n,s),a=i.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},QY=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pV(t,e){switch(OY(t,e)){case 5103:return kn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kn+t+RS+t+ds+t+t;case 6828:case 4268:return kn+t+ds+t+t;case 6165:return kn+t+ds+"flex-"+t+t;case 5187:return kn+t+Nn(t,/(\w+).+(:[^]+)/,kn+"box-$1$2"+ds+"flex-$1$2")+t;case 5443:return kn+t+ds+"flex-item-"+Nn(t,/flex-|-self/,"")+t;case 4675:return kn+t+ds+"flex-line-pack"+Nn(t,/align-content|flex-|-self/,"")+t;case 5548:return kn+t+ds+Nn(t,"shrink","negative")+t;case 5292:return kn+t+ds+Nn(t,"basis","preferred-size")+t;case 6060:return kn+"box-"+Nn(t,"-grow","")+kn+t+ds+Nn(t,"grow","positive")+t;case 4554:return kn+Nn(t,/([^-])(transform)/g,"$1"+kn+"$2")+t;case 6187:return Nn(Nn(Nn(t,/(zoom-|grab)/,kn+"$1"),/(image-set)/,kn+"$1"),t,"")+t;case 5495:case 3959:return Nn(t,/(image-set\([^]*)/,kn+"$1$`$1");case 4968:return Nn(Nn(t,/(.+:)(flex-)?(.*)/,kn+"box-pack:$3"+ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kn+t+t;case 4095:case 3583:case 4068:case 2532:return Nn(t,/(.+)-inline(.+)/,kn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Al(t)-1-e>6)switch(qr(t,e+1)){case 109:if(qr(t,e+4)!==45)break;case 102:return Nn(t,/(.+:)(.+)-([^]+)/,"$1"+kn+"$2-$3$1"+RS+(qr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~QA(t,"stretch")?pV(Nn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(qr(t,e+1)!==115)break;case 6444:switch(qr(t,Al(t)-3-(~QA(t,"!important")&&10))){case 107:return Nn(t,":",":"+kn)+t;case 101:return Nn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kn+(qr(t,14)===45?"inline-":"")+"box$3$1"+kn+"$2$3$1"+ds+"$2box$3")+t}break;case 5936:switch(qr(t,e+11)){case 114:return kn+t+ds+Nn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kn+t+ds+Nn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kn+t+ds+Nn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kn+t+ds+t+t}return t}var ZY=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case oR:e.return=pV(e.value,e.length);break;case cV:return gg([v0(e,{value:Nn(e.value,"@","@"+kn)})],r);case sR:if(e.length)return DY(e.props,function(s){switch(LY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gg([v0(e,{props:[Nn(s,/:(read-\w+)/,":"+RS+"$1")]})],r);case"::placeholder":return gg([v0(e,{props:[Nn(s,/:(plac\w+)/,":"+kn+"input-$1")]}),v0(e,{props:[Nn(s,/:(plac\w+)/,":"+RS+"$1")]}),v0(e,{props:[Nn(s,/:(plac\w+)/,ds+"input-$1")]})],r)}return""})}},eK=[ZY],tK=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(b){var S=b.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var r=e.stylisPlugins||eK,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var S=b.getAttribute("data-emotion").split(" "),_=1;_<S.length;_++)s[S[_]]=!0;a.push(b)});var l,c=[JY,QY];{var d,h=[GY,qY(function(b){d.insert(b)})],p=$Y(c.concat(r,h)),v=function(S){return gg(HY(S),p)};l=function(S,_,w,C){d=w,v(S?S+"{"+_.styles+"}":_.styles),C&&(y.inserted[_.name]=!0)}}var y={key:n,sheet:new PY({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y};function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fh.apply(null,arguments)}var PT={exports:{}},zn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function nK(){if(LO)return zn;LO=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function C(R){if(typeof R=="object"&&R!==null){var O=R.$$typeof;switch(O){case e:switch(R=R.type,R){case l:case c:case i:case s:case r:case h:return R;default:switch(R=R&&R.$$typeof,R){case a:case d:case y:case v:case o:return R;default:return O}}case n:return O}}}function A(R){return C(R)===c}return zn.AsyncMode=l,zn.ConcurrentMode=c,zn.ContextConsumer=a,zn.ContextProvider=o,zn.Element=e,zn.ForwardRef=d,zn.Fragment=i,zn.Lazy=y,zn.Memo=v,zn.Portal=n,zn.Profiler=s,zn.StrictMode=r,zn.Suspense=h,zn.isAsyncMode=function(R){return A(R)||C(R)===l},zn.isConcurrentMode=A,zn.isContextConsumer=function(R){return C(R)===a},zn.isContextProvider=function(R){return C(R)===o},zn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},zn.isForwardRef=function(R){return C(R)===d},zn.isFragment=function(R){return C(R)===i},zn.isLazy=function(R){return C(R)===y},zn.isMemo=function(R){return C(R)===v},zn.isPortal=function(R){return C(R)===n},zn.isProfiler=function(R){return C(R)===s},zn.isStrictMode=function(R){return C(R)===r},zn.isSuspense=function(R){return C(R)===h},zn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===i||R===c||R===s||R===r||R===h||R===p||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===v||R.$$typeof===o||R.$$typeof===a||R.$$typeof===d||R.$$typeof===S||R.$$typeof===_||R.$$typeof===w||R.$$typeof===b)},zn.typeOf=C,zn}var DO;function iK(){return DO||(DO=1,PT.exports=nK()),PT.exports}var RT,FO;function rK(){if(FO)return RT;FO=1;var t=iK(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=i,s[t.Memo]=r;function o(y){return t.isMemo(y)?r:s[y.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;function v(y,b,S){if(typeof b!="string"){if(p){var _=h(b);_&&_!==p&&v(y,_,S)}var w=l(b);c&&(w=w.concat(c(b)));for(var C=o(y),A=o(b),R=0;R<w.length;++R){var O=w[R];if(!n[O]&&!(S&&S[O])&&!(A&&A[O])&&!(C&&C[O])){var L=d(b,O);try{a(y,O,L)}catch{}}}}return y}return RT=v,RT}rK();var sK=!0;function mV(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var lR=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||sK===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},cR=function(e,n,i){lR(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function oK(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lK=/[A-Z]|^ms/g,cK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gV=function(e){return e.charCodeAt(1)===45},zO=function(e){return e!=null&&typeof e!="boolean"},IT=aV(function(t){return gV(t)?t:t.replace(lK,"-$&").toLowerCase()}),UO=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(cK,function(i,r,s){return Pl={name:r,styles:s,next:Pl},r})}return aK[e]!==1&&!gV(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wy(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return Pl={name:r.name,styles:r.styles,next:Pl},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Pl={name:o.name,styles:o.styles,next:Pl},o=o.next;var a=s.styles+";";return a}return uK(t,e,n)}case"function":{if(t!==void 0){var l=Pl,c=n(t);return Pl=l,Wy(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function uK(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Wy(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?i+=s+"{"+e[a]+"}":zO(a)&&(i+=IT(s)+":"+UO(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)zO(o[l])&&(i+=IT(s)+":"+UO(s,o[l])+";");else{var c=Wy(t,e,o);switch(s){case"animation":case"animationName":{i+=IT(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var BO=/label:\s*([^\s;{]+)\s*(;|$)/g,Pl;function mE(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";Pl=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=Wy(n,e,s);else{var o=s;r+=o[0]}for(var a=1;a<t.length;a++)if(r+=Wy(n,e,t[a]),i){var l=s;r+=l[a]}BO.lastIndex=0;for(var c="",d;(d=BO.exec(r))!==null;)c+="-"+d[1];var h=oK(r)+c;return{name:h,styles:r,next:Pl}}var dK=function(e){return e()},vV=TO.useInsertionEffect?TO.useInsertionEffect:!1,yV=vV||dK,VO=vV||U.useLayoutEffect,xV=U.createContext(typeof HTMLElement<"u"?tK({key:"css"}):null);xV.Provider;var uR=function(e){return U.forwardRef(function(n,i){var r=U.useContext(xV);return e(n,r,i)})},dR=U.createContext({}),fR={}.hasOwnProperty,e2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fK=function(e,n){var i={};for(var r in n)fR.call(n,r)&&(i[r]=n[r]);return i[e2]=e,i},hK=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return lR(n,i,r),yV(function(){return cR(n,i,r)}),null},pK=uR(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[e2],s=[i],o="";typeof t.className=="string"?o=mV(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=mE(s,void 0,U.useContext(dR));o+=e.key+"-"+a.name;var l={};for(var c in t)fR.call(t,c)&&c!=="css"&&c!==e2&&(l[c]=t[c]);return l.className=o,n&&(l.ref=n),U.createElement(U.Fragment,null,U.createElement(hK,{cache:e,serialized:a,isStringTag:typeof r=="string"}),U.createElement(r,l))}),mK=pK,jO=function(e,n){var i=arguments;if(n==null||!fR.call(n,"css"))return U.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=mK,s[1]=fK(e,n);for(var o=2;o<r;o++)s[o]=i[o];return U.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(jO||(jO={}));var HO=uR(function(t,e){var n=t.styles,i=mE([n],void 0,U.useContext(dR)),r=U.useRef();return VO(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),r.current=[o,a],function(){o.flush()}},[e]),VO(function(){var s=r.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(i.next!==void 0&&cR(e,i.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function gK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return mE(e)}function _V(){var t=gK.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function vK(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function yK(...t){return e=>{t.forEach(n=>{vK(n,e)})}}function jx(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function xK(t){return t.default||t}const to=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),$l=t=>typeof t=="string",hR=t=>typeof t=="function";function _K(t){var n;const e=U.version;return!$l(e)||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const[bK,gE]=hy({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function SK(t){const{value:e,children:n}=t;return E.jsxs(bK,{value:e,children:[!e._config.disableLayers&&E.jsx(HO,{styles:e.layers.atRule}),E.jsx(HO,{styles:e._global}),n]})}const wK=(t,e)=>{const n={},i={},r=Object.keys(t);for(const s of r)e(s)?i[s]=t[s]:n[s]=t[s];return[i,n]},vg=(t,e)=>{const n=hR(e)?e:i=>e.includes(i);return wK(t,n)},EK=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function CK(t){return typeof t=="string"&&EK.has(t)}function TK(t,e,n){const{css:i,isValidProperty:r}=gE(),{children:s,...o}=t,a=U.useMemo(()=>{const[p,v]=vg(o,w=>n(w,e.variantKeys)),[y,b]=vg(v,e.variantKeys),[S,_]=vg(b,r);return{forwardedProps:p,variantProps:y,styleProps:S,elementProps:_}},[e.variantKeys,n,o,r]),{css:l,...c}=a.styleProps,d=U.useMemo(()=>{const p={...a.variantProps};return e.variantKeys.includes("colorPalette")||(p.colorPalette=o.colorPalette),e.variantKeys.includes("orientation")||(p.orientation=o.orientation),e(p)},[e,a.variantProps,o.colorPalette,o.orientation]);return{styles:U.useMemo(()=>i(d,...MK(l),c),[i,d,l,c]),props:{...a.forwardedProps,...a.elementProps,children:s}}}const MK=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),AK=xK(TY),PK=AK,RK=t=>t!=="theme",IK=(t,e,n)=>{let i;if(e){const r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?s=>t.__emotion_forwardProp(s)&&r(s):r}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i};let kK=typeof document<"u";const WO=({cache:t,serialized:e,isStringTag:n})=>{lR(t,e,n);const i=yV(()=>cR(t,e,n));if(!kK&&i!==void 0){let r=e.name,s=e.next;for(;s!==void 0;)r=la(r,s.name),s=s.next;return E.jsx("style",{"data-emotion":la(t.key,r),dangerouslySetInnerHTML:{__html:i},nonce:t.sheet.nonce})}return null},NK=(t,e={},n={})=>{const i=t.__emotion_real===t,r=i&&t.__emotion_base||t;let s,o;n!==void 0&&(s=n.label,o=n.target);let a=[];const l=uR((c,d,h)=>{var Z;const{cva:p,isValidProperty:v}=gE(),y=e.__cva__?e:p(e),b=LK(t.__emotion_cva,y),S=$=>(K,W)=>$.includes(K)?!0:!(W!=null&&W.includes(K))&&!v(K);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=S(n.forwardProps));const _=($,K)=>{const W=typeof t=="string"&&t.charCodeAt(0)>96?PK:RK,V=!(K!=null&&K.includes($))&&!v($);return W($)&&V},w=IK(t,n,i)||_,C=U.useMemo(()=>Object.assign({},n.defaultProps,jx(c)),[c]),{props:A,styles:R}=TK(C,b,w);let O="",L=[R],z=A;if(A.theme==null){z={};for(let $ in A)z[$]=A[$];z.theme=U.useContext(dR)}typeof A.className=="string"?O=mV(d.registered,L,A.className):A.className!=null&&(O=la(O,A.className));const N=mE(a.concat(L),d.registered,z);O=la(O,`${d.key}-${N.name}`),o!==void 0&&(O=la(O,o));const k=!w("as");let B=k&&A.as||r,H={};for(let $ in A)if(!(k&&$==="as")){if(CK($)){const K=$.replace("html","").toLowerCase();H[K]=A[$];continue}w($)&&(H[$]=A[$])}H.className=O.trim(),H.ref=h;const J=n.forwardAsChild||((Z=n.forwardProps)==null?void 0:Z.includes("asChild"));if(A.asChild&&!J){const $=U.Children.only(A.children);B=$.type,H.children=null,Reflect.deleteProperty(H,"asChild"),H=Vy(H,$.props),H.ref=yK(h,_K($))}return H.as&&J?(H.as=void 0,E.jsxs(U.Fragment,{children:[E.jsx(WO,{cache:d,serialized:N,isStringTag:typeof B=="string"}),E.jsx(B,{asChild:!0,...H,children:E.jsx(A.as,{children:H.children})})]})):E.jsxs(U.Fragment,{children:[E.jsx(WO,{cache:d,serialized:N,isStringTag:typeof B=="string"}),E.jsx(B,{...H})]})});return l.displayName=s!==void 0?s:`chakra(${typeof r=="string"?r:r.displayName||r.name||"Component"})`,l.__emotion_real=l,l.__emotion_base=r,l.__emotion_forwardProp=n.shouldForwardProp,l.__emotion_cva=e,Object.defineProperty(l,"toString",{value(){return`.${o}`}}),l},kT=NK.bind(),NT=new Map,OK=new Proxy(kT,{apply(t,e,n){return kT(...n)},get(t,e){return NT.has(e)||NT.set(e,kT(e)),NT.get(e)}}),Do=OK,LK=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e);function DK(t){const{key:e,recipe:n}=t,i=gE();return U.useMemo(()=>{const r=n||(e!=null?i.getRecipe(e):{});return i.cva(structuredClone(r))},[e,n,i])}const FK=t=>t.charAt(0).toUpperCase()+t.slice(1);function Hx(t){const{key:e,recipe:n}=t,i=FK(e||n.className||"Component"),[r,s]=hy({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`});function o(c){const{unstyled:d,...h}=c,p=DK({key:e,recipe:h.recipe||n}),[v,y]=U.useMemo(()=>p.splitVariantProps(h),[p,h]);return{styles:d?wY:p(v),className:p.className,props:y}}const a=(c,d)=>{const h=Do(c,{},d),p=U.forwardRef((v,y)=>{const b=s(),S=U.useMemo(()=>Vy(b,v),[v,b]),{styles:_,className:w,props:C}=o(S);return E.jsx(h,{...C,ref:y,css:[_,S.css],className:la(w,S.className)})});return p.displayName=c.displayName||c.name,p};function l(){return r}return{withContext:a,PropsProvider:r,withPropsProvider:l,usePropsContext:s,useRecipeResult:o}}var GO=t=>Math.max(0,Math.min(1,t)),zK=(t,e)=>t.map((n,i)=>t[(Math.max(e,0)+i)%t.length]),bV=()=>{},vE=t=>typeof t=="object"&&t!==null,UK=2147483647,Yt=t=>t?"":void 0,t2=t=>t?"true":void 0,BK=1,VK=9,jK=11,ys=t=>vE(t)&&t.nodeType===BK&&typeof t.nodeName=="string",pR=t=>vE(t)&&t.nodeType===VK,HK=t=>vE(t)&&t===t.window,SV=t=>ys(t)?t.localName||"":"#document";function WK(t){return["html","body","#document"].includes(SV(t))}var GK=t=>vE(t)&&t.nodeType!==void 0,Gy=t=>GK(t)&&t.nodeType===jK&&"host"in t,$K=t=>ys(t)&&t.localName==="input",qK=t=>ys(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,XK=/(textarea|select)/;function wV(t){if(t==null||!ys(t))return!1;try{return $K(t)&&t.selectionStart!=null||XK.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Pg(t,e){var i;if(!t||!e||!ys(t)||!ys(e))return!1;const n=(i=e.getRootNode)==null?void 0:i.call(e);if(t===e||t.contains(e))return!0;if(n&&Gy(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function ua(t){return pR(t)?t:HK(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function YK(t){return ua(t).documentElement}function xs(t){var e;return Gy(t)?xs(t.host):pR(t)?t.defaultView??window:ys(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function EV(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function KK(t){if(SV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gy(t)&&t.host||YK(t);return Gy(e)?e.host:e}var OT=new WeakMap;function mR(t){return OT.has(t)||OT.set(t,xs(t).getComputedStyle(t)),OT.get(t)}var gR=()=>typeof document<"u";function JK(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function QK(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var vR=t=>gR()&&t.test(JK()),ZK=t=>gR()&&t.test(QK()),eJ=t=>gR()&&t.test(navigator.vendor),CV=()=>vR(/^Mac/),TV=()=>nJ()&&eJ(/apple/i),tJ=()=>ZK(/firefox\//i),nJ=()=>vR(/mac|iphone|ipad|ipod/i),yR=()=>vR(/iP(hone|ad|od)|iOS/);function iJ(t){var e,n,i;return((e=t.composedPath)==null?void 0:e.call(t))??((i=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n))}function sa(t){const e=iJ(t);return(e==null?void 0:e[0])??t.target}function MV(t){return lJ(t).isComposing}var n2=t=>t.button===0,rJ=t=>t.button===2||CV()&&t.ctrlKey&&t.button===0,i2=t=>t.ctrlKey||t.altKey||t.metaKey,sJ=t=>"touches"in t&&t.touches.length>0,oJ={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},$O={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function aJ(t,e={}){const{dir:n="ltr",orientation:i="horizontal"}=e;let r=t.key;return r=oJ[r]??r,n==="rtl"&&i==="horizontal"&&r in $O&&(r=$O[r]),r}function lJ(t){return t.nativeEvent??t}var cJ=new Set(["PageUp","PageDown"]),uJ=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function AV(t){return t.ctrlKey||t.metaKey?.1:cJ.has(t.key)||t.shiftKey&&uJ.has(t.key)?10:1}function xR(t,e="client"){const n=sJ(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Ti=(t,e,n,i)=>{const r=typeof t=="function"?t():t;return r==null||r.addEventListener(e,n,i),()=>{r==null||r.removeEventListener(e,n,i)}};function dJ(t,e){const{type:n="HTMLInputElement",property:i="value"}=e,r=xs(t)[n].prototype;return Object.getOwnPropertyDescriptor(r,i)??{}}function fJ(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function Wx(t,e,n="value"){var r;if(!t)return;const i=fJ(t);i&&((r=dJ(t,{type:i,property:n}).set)==null||r.call(t,e)),t.setAttribute(n,e)}function PV(t,e){const{value:n,bubbles:i=!0}=e;if(!t)return;const r=xs(t);t instanceof r.HTMLInputElement&&(Wx(t,`${n}`),t.dispatchEvent(new r.Event("input",{bubbles:i})))}function hJ(t){return pJ(t)?t.form:t.closest("form")}function pJ(t){return t.matches("textarea, input, select, button")}function mJ(t,e){if(!t)return;const n=hJ(t),i=r=>{r.defaultPrevented||e()};return n==null||n.addEventListener("reset",i,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",i)}function gJ(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const i=xs(n),r=new i.MutationObserver(()=>e(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function yE(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:i}=e,r=[mJ(t,i),gJ(t,n)];return()=>r.forEach(s=>s==null?void 0:s())}var RV=t=>ys(t)&&t.tagName==="IFRAME",vJ=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),yJ=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,_R="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",IV=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(_R));(e==!0||e=="if-empty"&&n.length===0)&&ys(t)&&Pd(t)&&n.unshift(t);const r=n.filter(Pd);return r.forEach((s,o)=>{if(RV(s)&&s.contentDocument){const a=s.contentDocument.body;r.splice(o,1,...IV(a))}}),r};function Pd(t){return!t||t.closest("[inert]")?!1:t.matches(_R)&&qK(t)}function bR(t,e){if(!t)return[];const i=Array.from(t.querySelectorAll(_R)).filter(dh);return i.forEach((r,s)=>{if(RV(r)&&r.contentDocument){const o=r.contentDocument.body,a=bR(o);i.splice(s,1,...a)}}),i.length,i}function dh(t){return t!=null&&t.tabIndex>0?!0:Pd(t)&&!yJ(t)}function y0(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||wV(t))&&!vJ(t)?0:t.tabIndex}function SR(t){const{root:e,getInitialEl:n,filter:i,enabled:r=!0}=t;if(!r)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!s){const o=bR(e);s=i?o.filter(i)[0]:o[0]}return s||e||void 0}function kV(t){const e=new Set;function n(i){const r=globalThis.requestAnimationFrame(i);e.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(t)),function(){e.forEach(r=>r())}}function Bn(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e==null||e()}}function xJ(t,e,n){const i=Bn(()=>{t.removeEventListener(e,r,!0),n()}),r=()=>{i(),n()};return t.addEventListener(e,r,{once:!0,capture:!0}),i}function _J(t,e){if(!t)return;const{attributes:n,callback:i}=e,r=t.ownerDocument.defaultView||window,s=new r.MutationObserver(o=>{for(const a of o)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&i(a)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function wR(t,e){const{defer:n}=e,i=n?Bn:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(_J(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function bJ(t){const e=()=>t.click();tJ()?xJ(t,"keyup",e):queueMicrotask(e)}function IS(t){const e=KK(t);return WK(e)?ua(e).body:ys(e)&&ER(e)?e:IS(e)}function NV(t,e=[]){const n=IS(t),i=n===t.ownerDocument.body,r=xs(n);return i?e.concat(r,r.visualViewport||[],ER(n)?n:[]):e.concat(n,NV(n,[]))}var SJ=/auto|scroll|overlay|hidden|clip/;function ER(t){const e=xs(t),{overflow:n,overflowX:i,overflowY:r,display:s}=e.getComputedStyle(t);return SJ.test(n+r+i)&&!["inline","contents"].includes(s)}function wJ(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function OV(t,e){const{rootEl:n,...i}=e||{};!t||!n||!ER(n)||!wJ(n)||t.scrollIntoView(i)}function CR(t,e){const{left:n,top:i,width:r,height:s}=e.getBoundingClientRect(),o={x:t.x-n,y:t.y-i},a={x:GO(o.x/r),y:GO(o.y/s)};function l(c={}){const{dir:d="ltr",orientation:h="horizontal",inverted:p}=c,v=typeof p=="object"?p.x:p,y=typeof p=="object"?p.y:p;return h==="horizontal"?d==="rtl"||v?1-a.x:a.x:y?1-a.y:a.y}return{offset:o,percent:a,getPercentValue:l}}function EJ(t,e){const n=t.body,i="pointerLockElement"in t||"mozPointerLockElement"in t,r=()=>!!t.pointerLockElement;function s(){}function o(l){r(),console.error("PointerLock error occurred:",l),t.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch{}const a=[Ti(t,"pointerlockchange",s,!1),Ti(t,"pointerlockerror",o,!1)];return()=>{a.forEach(l=>l()),t.exitPointerLock()}}var eg="default",r2="",eS=new WeakMap;function CJ(t={}){const{target:e,doc:n}=t,i=n??document,r=i.documentElement;return yR()?(eg==="default"&&(r2=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),eg="disabled"):e&&(eS.set(e,e.style.userSelect),e.style.userSelect="none"),()=>TJ({target:e,doc:i})}function TJ(t={}){const{target:e,doc:n}=t,r=(n??document).documentElement;if(yR()){if(eg!=="disabled")return;eg="restoring",setTimeout(()=>{kV(()=>{eg==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=r2||""),r2="",eg="default")})},300)}else if(e&&eS.has(e)){const s=eS.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),eS.delete(e)}}function LV(t={}){const{defer:e,target:n,...i}=t,r=e?Bn:o=>o(),s=[];return s.push(r(()=>{const o=typeof n=="function"?n():n;s.push(CJ({...i,target:o}))})),()=>{s.forEach(o=>o==null?void 0:o())}}function DV(t,e){const{onPointerMove:n,onPointerUp:i}=e,s=[Ti(t,"pointermove",o=>{const a=xR(o),l=Math.sqrt(a.x**2+a.y**2),c=o.pointerType==="touch"?10:5;if(!(l<c)){if(o.pointerType==="mouse"&&o.button===0){i();return}n({point:a,event:o})}},!1),Ti(t,"pointerup",i,!1),Ti(t,"pointercancel",i,!1),Ti(t,"contextmenu",i,!1),LV({doc:t})];return()=>{s.forEach(o=>o())}}function $y(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}var TR=t=>t.id;function MJ(t,e,n=TR){return t.find(i=>n(i)===e)}function MR(t,e,n=TR){const i=MJ(t,e,n);return i?t.indexOf(i):-1}function AJ(t,e,n=!0){let i=MR(t,e);return i=n?(i+1)%t.length:Math.min(i+1,t.length-1),t[i]}function PJ(t,e,n=!0){let i=MR(t,e);return i===-1?n?t[t.length-1]:null:(i=n?(i-1+t.length)%t.length:Math.max(0,i-1),t[i])}var RJ=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),IJ=t=>{var e;return RJ(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},kJ=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function NJ(t,e,n,i=TR){const r=n?MR(t,n,i):-1;let s=n?zK(t,r):t;return e.length===1&&(s=s.filter(a=>i(a)!==n)),s.find(a=>kJ(IJ(a),e))}function kS(t,e){if(!t)return bV;const n=Object.keys(e).reduce((i,r)=>(i[r]=t.style.getPropertyValue(r),i),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function OJ(t,e,n){if(!t)return bV;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{t.style.setProperty(e,i),t.style.length===0&&t.removeAttribute("style")}}function LJ(t,e){const{state:n,activeId:i,key:r,timeout:s=350,itemToId:o}=e,a=n.keysSoFar+r,c=a.length>1&&Array.from(a).every(y=>y===a[0])?a[0]:a;let d=t.slice();const h=NJ(d,c,i,o);function p(){clearTimeout(n.timer),n.timer=-1}function v(y){n.keysSoFar=y,p(),y!==""&&(n.timer=+setTimeout(()=>{v(""),p()},s))}return v(a),h}var AR=Object.assign(LJ,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:DJ});function DJ(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var FJ=1e3/60;function zJ(t,e){const n=t();if(ys(n)&&n.isConnected)return e(n),()=>{};{const i=setInterval(()=>{const r=t();ys(r)&&r.isConnected&&(e(r),clearInterval(i))},FJ);return()=>clearInterval(i)}}function UJ(t,e){const n=[];return t==null||t.forEach(i=>{const r=zJ(i,e);n.push(r)}),()=>{n.forEach(i=>i())}}function BJ(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Su(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,a=U.createContext(o);a.displayName=e;function l(){var d;const c=U.useContext(a);if(!c&&n){const h=new Error(s??BJ(i,r));throw h.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,h,l),h}return c}return[a.Provider,l,a]}const[OLe,PR]=Su({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function RR(...t){return e=>{const n=[];for(const i of t)if(typeof i=="function"){const r=i(e);typeof r=="function"&&n.push(r)}else i&&(i.current=e);if(n.length)return()=>{for(const i of n)i()}}}function VJ(t){return t?Array.isArray(t)?t:[t]:[]}var IR=t=>t[0],kR=t=>t[t.length-1],jJ=(t,e)=>t.indexOf(e)!==-1,FV=(t,...e)=>t.concat(e),zV=(t,...e)=>t.filter(n=>!e.includes(n)),qO=(t,e)=>jJ(t,e)?zV(t,e):FV(t,e);function UV(t,e,n={}){const{step:i=1,loop:r=!0}=n,s=e+i,o=t.length,a=o-1;return e===-1?i>0?0:a:s<0?r?a:0:s>=o?r?0:e>o?o:e:s}function HJ(t,e,n={}){return t[UV(t,e,n)]}function WJ(t,e,n={}){const{step:i=1,loop:r=!0}=n;return UV(t,e,{step:-i,loop:r})}function GJ(t,e,n={}){return t[WJ(t,e,n)]}var XO=t=>(t==null?void 0:t.constructor.name)==="Array",$J=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Jg(t[n],e[n]))return!1;return!0},Jg=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(XO(t)&&XO(e))return $J(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<i;r++){const s=n[r];if(!Jg(t[s],e[s]))return!1}return!0},qJ=t=>Array.isArray(t),XJ=t=>t!=null&&typeof t=="object",LT=t=>XJ(t)&&!qJ(t),tS=t=>typeof t=="string",tg=t=>typeof t=="function",YJ=t=>t==null,DT=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),KJ=Function.prototype.toString;KJ.call(Object);var JJ=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,QJ=t=>t(),ZJ=()=>{},NS=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},BV=(t,e)=>{var n;try{return t()}catch(i){return i instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,i,BV)),e==null?void 0:e()}},{floor:s2,abs:OS,round:xE,min:eQ,max:tQ,pow:nQ,sign:iQ}=Math,ey=t=>Number.isNaN(t),su=t=>ey(t)?0:t,VV=(t,e)=>(t%e+e)%e,rQ=(t,e)=>(t%e+e)%e,sQ=(t,e,n)=>t===0?n:e[t-1],oQ=(t,e,n)=>t===e.length-1?n:e[t+1],aQ=(t,e)=>su(t)>=e,lQ=(t,e)=>su(t)<=e,cQ=(t,e,n)=>su(t)>=e&&su(t)<=n,uQ=(t,e,n)=>xE((su(t)-e)/n)*n+e,Ir=(t,e,n)=>eQ(tQ(su(t),e),n),_E=(t,e,n)=>(su(t)-e)/(n-e),NR=(t,e,n,i)=>Ir(uQ(t*(n-e)+e,e,i),e,n),M1=(t,e)=>{let n=t,i=e.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){let o=nQ(10,s);n=xE(n*o)/o}return n},py=(t,e)=>typeof e=="number"?s2(t*e+.5)/e:xE(t),qy=(t,e,n,i)=>{e=Number(e),n=Number(n);let r=(t-(ey(e)?0:e))%i,s=M1(OS(r)*2>=i?t+iQ(r)*(i-OS(r)):t-r,i);return ey(e)?!ey(n)&&s>n&&(s=e+s2(M1((n-e)/i,i))*i):s<e?s=e:!ey(n)&&s>n&&(s=e+s2(M1((n-e)/i,i))*i),M1(s,i)},ty=(t,e,n)=>t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)];function jV(t,e){const n=sQ(t,e.values,e.min),i=oQ(t,e.values,e.max);let r=e.values.slice();return function(o){let a=qy(o,n,i,e.step);return r=ty(r,t,o),r[t]=a,r}}function dQ(t,e){const n=e.values[t]+e.step;return jV(t,e)(n)}function fQ(t,e){const n=e.values[t]-e.step;return jV(t,e)(n)}var hQ=(t,e)=>{let n=t.findIndex(s=>e-s<0);if(n===0)return n;if(n===-1)return t.length-1;let i=t[n-1],r=t[n];return OS(i-e)<OS(r-e)?n-1:n},HV=(t,e,n,i)=>t.map((r,s)=>({min:s===0?e:t[s-1]+i,max:s===t.length-1?n:t[s+1]-i,value:r})),o2=(t,e)=>{const[n,i]=t,[r,s]=e;return o=>n===i||r===s?r:r+(s-r)/(i-n)*(o-n)},ci=(t,e=0,n=10)=>{const i=Math.pow(n,e);return xE(t*i)/i},YO=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},WV=(t,e,n)=>{let i=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const r=10**Math.max(YO(t),YO(n));t=Math.round(t*r),n=Math.round(n*r),i=e==="+"?t+n:t-n,i/=r}return i},pQ=(t,e)=>WV(su(t),"+",e),mQ=(t,e)=>WV(su(t),"-",e),KO=t=>t!=null?`${t}px`:void 0;function OR(t){if(!gQ(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const r=t[i];r!==void 0&&(n[i]=OR(r))}return n}var gQ=t=>t&&typeof t=="object"&&t.constructor===Object;function LS(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function vQ(t,e){if(t==null)throw new Error(e)}var yQ=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),xQ=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,JO=t=>{const e={};let n;for(;n=xQ.exec(t);)e[n[1]]=n[2];return e},_Q=(t,e)=>{if(tS(t)){if(tS(e))return`${t};${e}`;t=JO(t)}else tS(e)&&(e=JO(e));return Object.assign({},t??{},e??{})};function On(...t){let e={};for(let n of t){for(let i in e){if(i.startsWith("on")&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=NS(n[i],e[i]);continue}if(i==="className"||i==="class"){e[i]=yQ(e[i],n[i]);continue}if(i==="style"){e[i]=_Q(e[i],n[i]);continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}function QO(t,e,n){let i=[],r;return s=>{const o=t(s);return(o.length!==i.length||o.some((l,c)=>!Jg(i[c],l)))&&(i=o,r=e(...o)),r}}function np(){return{and:(...t)=>function(n){return t.every(i=>n.guard(i))},or:(...t)=>function(n){return t.some(i=>n.guard(i))},not:t=>function(n){return!n.guard(t)}}}function bQ(){return{guards:np(),createMachine:t=>t,choose:t=>function({choose:n}){var i;return(i=n(t))==null?void 0:i.actions}}}var Km=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(Km||{}),FT="__init__";function SQ(t){const e=()=>{var a;return((a=t.getRootNode)==null?void 0:a.call(t))??document},n=()=>ua(e()),i=()=>n().defaultView??window,r=()=>EV(e());return{...t,getRootNode:e,getDoc:n,getWin:i,getActiveElement:r,isActiveElement:a=>a===r(),getById:a=>e().getElementById(a)}}function wQ(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const zT=t=>{const e=U.memo(U.forwardRef((n,i)=>{const{asChild:r,children:s,...o}=n;if(!r)return U.createElement(t,{...o,ref:i},s);const a=U.Children.only(s);if(!U.isValidElement(a))return null;const l=wQ(a);return U.cloneElement(a,{...On(o,a.props),ref:i?RR(i,l):l})}));return e.displayName=t.displayName||t.name,e},EQ=()=>{const t=new Map;return new Proxy(zT,{apply(e,n,i){return zT(i[0])},get(e,n){const i=n;return t.has(i)||t.set(i,zT(i)),t.get(i)}})},Kn=EQ(),qd=()=>(t,e)=>e.reduce((n,i)=>{const[r,s]=n,o=i;return s[o]!==void 0&&(r[o]=s[o]),delete s[o],[r,s]},[{},{...t}]),GV=t=>qd()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function CQ(t){return new Proxy({},{get(e,n){return n==="style"?i=>t({style:i}).style:t}})}var an=()=>t=>Array.from(new Set(t));function TQ(t,e){const{state:n,send:i,context:r}=t,s=n.matches("mounted","unmountSuspended");return{skip:!r.get("initial"),present:s,setNode(o){o&&i({type:"NODE.SET",node:o})},unmount(){i({type:"UNMOUNT"})}}}var MQ={props({props:t}){return{...t,present:!!t.present}},initialState({prop:t}){return t("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:t}){return{unmountAnimationName:t(()=>({defaultValue:null})),prevAnimationName:t(()=>({defaultValue:null})),present:t(()=>({defaultValue:!1})),initial:t(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:t,action:e,prop:n}){t([()=>n("present")],()=>{e(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:t})=>{t.get("initial")||queueMicrotask(()=>{t.set("initial",!0)})},clearInitial:({context:t})=>{t.set("initial",!1)},cleanupNode:({refs:t})=>{t.set("node",null),t.set("styles",null)},invokeOnExitComplete:({prop:t})=>{var e;(e=t("onExitComplete"))==null||e()},setNode:({refs:t,event:e})=>{t.set("node",e.node)},setStyles:({refs:t,event:e})=>{t.set("styles",mR(e.node))},syncPresence:({context:t,refs:e,send:n,prop:i})=>{const r=i("present");if(r)return n({type:"MOUNT",src:"presence.changed"});const s=e.get("node");if(!r&&(s==null?void 0:s.ownerDocument.visibilityState)==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});Bn(()=>{var a,l;const o=A1(e.get("styles"));t.set("unmountAnimationName",o),o==="none"||o===t.get("prevAnimationName")||((a=e.get("styles"))==null?void 0:a.display)==="none"||((l=e.get("styles"))==null?void 0:l.animationDuration)==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:t,refs:e})=>{Bn(()=>{t.set("prevAnimationName",A1(e.get("styles")))})},clearPrevAnimationName:({context:t})=>{t.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:t,refs:e,send:n})=>{const i=e.get("node");if(!i)return;const r=a=>{var c,d;(((d=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:d[0])??a.target)===i&&t.set("prevAnimationName",A1(e.get("styles")))},s=a=>{const l=A1(e.get("styles"));sa(a)===i&&l===t.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};i.addEventListener("animationstart",r),i.addEventListener("animationcancel",s),i.addEventListener("animationend",s);const o=kS(i,{animationFillMode:"forwards"});return()=>{i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",s),i.removeEventListener("animationend",s),kV(()=>o())}}}}};function A1(t){return(t==null?void 0:t.animationName)||"none"}an()(["onExitComplete","present","immediate"]);var bE=oV(),$V=typeof globalThis.document<"u"?U.useLayoutEffect:U.useEffect;function ZO(t){const e=t().value??t().defaultValue,n=t().isEqual??Object.is,[i]=U.useState(e),[r,s]=U.useState(i),o=t().value!==void 0,a=U.useRef(r);a.current=o?t().value:r;const l=U.useRef(a.current);$V(()=>{l.current=a.current},[r,t().value]);const c=h=>{var y,b;const p=l.current,v=tg(h)?h(p):h;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:v,prev:p}),o||s(v),n(v,p)||(b=(y=t()).onChange)==null||b.call(y,v,p)};function d(){return o?t().value:r}return{initial:i,ref:a,get:d,set(h){(t().sync?bE.flushSync:QJ)(()=>c(h))},invoke(h,p){var v,y;(y=(v=t()).onChange)==null||y.call(v,h,p)},hash(h){var p,v;return((v=(p=t()).hash)==null?void 0:v.call(p,h))??String(h)}}}function AQ(t){const e=U.useRef(t);return{get(n){return e.current[n]},set(n,i){e.current[n]=i}}}var PQ=(t,e)=>{const n=U.useRef(!1),i=U.useRef(!1);U.useEffect(()=>{if(n.current&&i.current)return e();i.current=!0},[...(t??[]).map(r=>typeof r=="function"?r():r)]),U.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function SE(t,e={}){var B,H,J,Z;const n=U.useMemo(()=>{const{id:$,ids:K,getRootNode:W}=e;return SQ({id:$,ids:K,getRootNode:W})},[e]),i=(...$)=>{t.debug&&console.log(...$)},r=((B=t.props)==null?void 0:B.call(t,{props:OR(e),scope:n}))??e,s=RQ(r),o=(H=t.context)==null?void 0:H.call(t,{prop:s,bindable:ZO,scope:n,flush:eL,getContext(){return l},getComputed(){return R},getRefs(){return b}}),a=qV(o),l={get($){var K;return(K=a.current)==null?void 0:K[$].ref.current},set($,K){var W;(W=a.current)==null||W[$].set(K)},initial($){var K;return(K=a.current)==null?void 0:K[$].initial},hash($){var W,V;const K=(W=a.current)==null?void 0:W[$].get();return(V=a.current)==null?void 0:V[$].hash(K)}},c=U.useRef(new Map),d=U.useRef(null),h=U.useRef(null),p=U.useRef({type:""}),v=()=>({...p.current,current(){return p.current},previous(){return h.current}}),y=()=>({...O,matches(...$){return $.includes(O.ref.current)},hasTag($){var K,W;return!!((W=(K=t.states[O.ref.current])==null?void 0:K.tags)!=null&&W.includes($))}}),b=AQ(((J=t.refs)==null?void 0:J.call(t,{prop:s,context:l}))??{}),S=()=>({state:y(),context:l,event:v(),prop:s,send:k,action:_,guard:w,track:PQ,refs:b,computed:R,flush:eL,scope:n,choose:A}),_=$=>{const K=tg($)?$(S()):$;if(!K)return;const W=K.map(V=>{var te,Y;const X=(Y=(te=t.implementations)==null?void 0:te.actions)==null?void 0:Y[V];return X||LS(`[zag-js] No implementation found for action "${JSON.stringify(V)}"`),X});for(const V of W)V==null||V(S())},w=$=>{var K,W;return tg($)?$(S()):(W=(K=t.implementations)==null?void 0:K.guards)==null?void 0:W[$](S())},C=$=>{const K=tg($)?$(S()):$;if(!K)return;const W=K.map(X=>{var Y,oe;const te=(oe=(Y=t.implementations)==null?void 0:Y.effects)==null?void 0:oe[X];return te||LS(`[zag-js] No implementation found for effect "${JSON.stringify(X)}"`),te}),V=[];for(const X of W){const te=X==null?void 0:X(S());te&&V.push(te)}return()=>V.forEach(X=>X==null?void 0:X())},A=$=>VJ($).find(K=>{let W=!K.guard;return tS(K.guard)?W=!!w(K.guard):tg(K.guard)&&(W=K.guard(S())),W}),R=$=>{vQ(t.computed,"[zag-js] No computed object found on machine");const K=t.computed[$];return K({context:l,event:v(),prop:s,refs:b,scope:n,computed:R})},O=ZO(()=>({defaultValue:t.initialState({prop:s}),onChange($,K){var V,X,te,Y;if(K){const oe=c.current.get(K);oe==null||oe(),c.current.delete(K)}K&&_((V=t.states[K])==null?void 0:V.exit),_((X=d.current)==null?void 0:X.actions);const W=C((te=t.states[$])==null?void 0:te.effects);if(W&&c.current.set($,W),K===FT){_(t.entry);const oe=C(t.effects);oe&&c.current.set(FT,oe)}_((Y=t.states[$])==null?void 0:Y.entry)}})),L=U.useRef(void 0),z=U.useRef(Km.NotStarted);$V(()=>{queueMicrotask(()=>{const W=z.current===Km.Started;z.current=Km.Started,i(W?"rehydrating...":"initializing...");const V=L.current??O.initial;O.invoke(V,W?O.get():FT)});const $=c.current,K=O.ref.current;return()=>{i("unmounting..."),L.current=K,z.current=Km.Stopped,$.forEach(W=>W==null?void 0:W()),c.current=new Map,d.current=null,queueMicrotask(()=>{_(t.exit)})}},[]);const N=()=>"ref"in O?O.ref.current:O.get(),k=$=>{queueMicrotask(()=>{var Y,oe;if(z.current!==Km.Started)return;h.current=p.current,p.current=$,i("send",$);let K=N();const W=((Y=t.states[K].on)==null?void 0:Y[$.type])??((oe=t.on)==null?void 0:oe[$.type]),V=A(W);if(!V)return;d.current=V;const X=V.target??K;i("transition",V);const te=X!==K;te?bE.flushSync(()=>O.set(X)):V.reenter&&!te?O.invoke(K,K):_(V.actions??[])})};return(Z=t.watch)==null||Z.call(t,S()),{state:y(),send:k,context:l,prop:s,scope:n,refs:b,computed:R,event:v(),getStatus:()=>z.current}}function qV(t){const e=U.useRef(t);return e.current=t,e}function RQ(t){const e=qV(t);return function(i){return e.current[i]}}function eL(t){queueMicrotask(()=>{bE.flushSync(()=>t())})}var LR=CQ(t=>t);function IQ(t,e={}){const{sync:n=!1}=e,i=kQ(t);return U.useCallback((...r)=>{var s;return n?queueMicrotask(()=>{var o;return(o=i.current)==null?void 0:o.call(i,...r)}):(s=i.current)==null?void 0:s.call(i,...r)},[n,i])}function kQ(t){const e=U.useRef(t);return e.current=t,e}const DR=(t={})=>{const{lazyMount:e,unmountOnExit:n,present:i,...r}=t,s=U.useRef(!1),o={...r,present:i,onExitComplete:IQ(t.onExitComplete)},a=SE(MQ,o),l=TQ(a);l.present&&(s.current=!0);const c=!l.present&&!s.current&&e||n&&!l.present&&s.current,d=()=>({"data-state":i?"open":"closed",hidden:!l.present});return{ref:l.setNode,getPresenceProps:d,present:l.present,unmounted:c}},[XV,FR]=Su({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});var Kt=(t,e=[])=>({parts:(...n)=>{if(NQ(e))return Kt(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Kt(t,[...e,...n]),rename:n=>Kt(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${gm(t)}"][data-part="${gm(i)}"]`,`& [data-scope="${gm(t)}"][data-part="${gm(i)}"]`].join(", "),attrs:{"data-scope":gm(t),"data-part":gm(i)}}}),{})}),gm=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),NQ=t=>t.length===0,YV=Kt("collapsible").parts("root","trigger","content","indicator");YV.build();an()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const[LLe,wE]=Su({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});var OQ=Object.defineProperty,LQ=(t,e,n)=>e in t?OQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zR=(t,e,n)=>LQ(t,e+"",n),DQ=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0},UR=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,n){const i=n??this.getChannelValue(e),{minValue:r,maxValue:s}=this.getChannelRange(e);return _E(i,r,s)}getChannelPercentValue(e,n){const{minValue:i,maxValue:r,step:s}=this.getChannelRange(e),o=NR(n,i,r,s);return qy(o,i,r,s)}withChannelValue(e,n){const{minValue:i,maxValue:r}=this.getChannelRange(e);if(e in this){let s=this.clone();return s[e]=Ir(n,i,r),s}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:n,yChannel:i}=e,r=n||this.getChannels().find(a=>a!==i),s=i||this.getChannels().find(a=>a!==r),o=this.getChannels().find(a=>a!==r&&a!==s);return{xChannel:r,yChannel:s,zChannel:o}}incrementChannel(e,n){const{minValue:i,maxValue:r,step:s}=this.getChannelRange(e),o=qy(Ir(this.getChannelValue(e)+n,i,r),i,r,s);return this.withChannelValue(e,o)}decrementChannel(e,n){return this.incrementChannel(e,-n)}isEqual(e){return DQ(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},KV=class nS extends UR{constructor(e,n,i,r){super(),this.red=e,this.green=n,this.blue=i,this.alpha=r}static parse(e){let n=[];if(/^#[\da-f]+$/i.test(e)&&[4,5,7,9].includes(e.length)){const r=(e.length<6?e.replace(/[^#]/gi,"$&$&"):e).slice(1).split("");for(;r.length>0;)n.push(parseInt(r.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const i=e.match(/^rgba?\((.*)\)$/);return i!=null&&i[1]&&(n=i[1].split(",").map(r=>Number(r.trim())).map((r,s)=>Ir(r,0,s<3?255:1))),n.length<3?void 0:new nS(n[0],n[1],n[2],n[3]??1)}toString(e){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,i=this.blue/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=s-r,a=s===0?0:o/s;let l=0;if(o!==0){switch(s){case e:l=(n-i)/o+(n<i?6:0);break;case n:l=(i-e)/o+2;break;case i:l=(e-n)/o+4;break}l/=6}return new jR(ci(l*360,2),ci(a*100,2),ci(s*100,2),ci(this.alpha,2))}toHSL(){const e=this.red/255,n=this.green/255,i=this.blue/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=(s+r)/2,a=s-r;let l=-1,c=-1;if(a===0)l=c=0;else{switch(c=a/(o<.5?s+r:2-s-r),s){case e:l=(n-i)/a+(n<i?6:0);break;case n:l=(i-e)/a+2;break;case i:l=(e-n)/a+4;break}l/=6}return new VR(ci(l*360,2),ci(c*100,2),ci(o*100,2),ci(this.alpha,2))}clone(){return new nS(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let i=this.getChannelFormatOptions(e),r=this.getChannelValue(e);return new Intl.NumberFormat(n,i).format(r)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return nS.colorChannels}};zR(KV,"colorChannels",["red","green","blue"]);var BR=KV,FQ=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,JV=class iS extends UR{constructor(e,n,i,r){super(),this.hue=e,this.saturation=n,this.lightness=i,this.alpha=r}static parse(e){let n;if(n=e.match(FQ)){const[i,r,s,o]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new iS(VV(i,360),Ir(r,0,100),Ir(s,0,100),Ir(o??1,0,1))}}toString(e){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${ci(this.saturation,2)}%, ${ci(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${ci(this.saturation,2)}%, ${ci(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,i=n+e*Math.min(n,1-n);return e=i===0?0:2*(1-n/i),new jR(ci(this.hue,2),ci(e*100,2),ci(i*100,2),ci(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,i=this.lightness/100,r=n*Math.min(i,1-i),s=(o,a=(o+e/30)%12)=>i-r*Math.max(Math.min(a-3,9-a,1),-1);return new BR(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),ci(this.alpha,2))}clone(){return new iS(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let i=this.getChannelFormatOptions(e),r=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(r/=100),new Intl.NumberFormat(n,i).format(r)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return iS.colorChannels}};zR(JV,"colorChannels",["hue","saturation","lightness"]);var VR=JV,zQ=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,QV=class rS extends UR{constructor(e,n,i,r){super(),this.hue=e,this.saturation=n,this.brightness=i,this.alpha=r}static parse(e){let n;if(n=e.match(zQ)){const[i,r,s,o]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new rS(VV(i,360),Ir(r,0,100),Ir(s,0,100),Ir(o??1,0,1))}}toString(e){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${ci(this.saturation,2)}%, ${ci(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${ci(this.saturation,2)}%, ${ci(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,i=n*(1-e/2);return e=i===0||i===1?0:(n-i)/Math.min(i,1-i),new VR(ci(this.hue,2),ci(e*100,2),ci(i*100,2),ci(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,i=this.brightness/100,r=(s,o=(s+e/60)%6)=>i-n*i*Math.max(Math.min(o,4-o,1),0);return new BR(Math.round(r(5)*255),Math.round(r(3)*255),Math.round(r(1)*255),ci(this.alpha,2))}clone(){return new rS(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let i=this.getChannelFormatOptions(e),r=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(r/=100),new Intl.NumberFormat(n,i).format(r)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return rS.colorChannels}};zR(QV,"colorChannels",["hue","saturation","brightness"]);var jR=QV,UQ="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",BQ=t=>{const e=new Map,n=t.split(",");for(let i=0;i<n.length;i++){const[r,s]=n[i].split(":");e.set(r,`#${s}`),r.includes("gray")&&e.set(r.replace("gray","grey"),`#${s}`)}return e},tL=BQ(UQ),DS=t=>{var n;if(tL.has(t))return DS(tL.get(t));const e=BR.parse(t)||jR.parse(t)||VR.parse(t);if(!e){const i=new Error("Invalid color value: "+t);throw(n=Error.captureStackTrace)==null||n.call(Error,i,DS),i}return e};const VQ=["top","right","bottom","left"],Fd=Math.min,Ao=Math.max,FS=Math.round,P1=Math.floor,Fl=t=>({x:t,y:t}),jQ={left:"right",right:"left",bottom:"top",top:"bottom"},HQ={start:"end",end:"start"};function a2(t,e,n){return Ao(t,Fd(e,n))}function ou(t,e){return typeof t=="function"?t(e):t}function au(t){return t.split("-")[0]}function Qg(t){return t.split("-")[1]}function HR(t){return t==="x"?"y":"x"}function WR(t){return t==="y"?"height":"width"}function zd(t){return["top","bottom"].includes(au(t))?"y":"x"}function GR(t){return HR(zd(t))}function WQ(t,e,n){n===void 0&&(n=!1);const i=Qg(t),r=GR(t),s=WR(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zS(o)),[o,zS(o)]}function GQ(t){const e=zS(t);return[l2(t),e,l2(e)]}function l2(t){return t.replace(/start|end/g,e=>HQ[e])}function $Q(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function qQ(t,e,n,i){const r=Qg(t);let s=$Q(au(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(l2)))),s}function zS(t){return t.replace(/left|right|bottom|top/g,e=>jQ[e])}function XQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZV(t){return typeof t!="number"?XQ(t):{top:t,right:t,bottom:t,left:t}}function US(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function nL(t,e,n){let{reference:i,floating:r}=t;const s=zd(e),o=GR(e),a=WR(o),l=au(e),c=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let v;switch(l){case"top":v={x:d,y:i.y-r.height};break;case"bottom":v={x:d,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:h};break;case"left":v={x:i.x-r.width,y:h};break;default:v={x:i.x,y:i.y}}switch(Qg(e)){case"start":v[o]-=p*(n&&c?-1:1);break;case"end":v[o]+=p*(n&&c?-1:1);break}return v}const YQ=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=nL(c,i,l),p=i,v={},y=0;for(let b=0;b<a.length;b++){const{name:S,fn:_}=a[b],{x:w,y:C,data:A,reset:R}=await _({x:d,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,h=C??h,v={...v,[S]:{...v[S],...A}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):R.rects),{x:d,y:h}=nL(c,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:r,middlewareData:v}};async function Xy(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=ou(e,t),y=ZV(v),S=a[p?h==="floating"?"reference":"floating":h],_=US(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},R=US(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:l}):w);return{top:(_.top-R.top+y.top)/A.y,bottom:(R.bottom-_.bottom+y.bottom)/A.y,left:(_.left-R.left+y.left)/A.x,right:(R.right-_.right+y.right)/A.x}}const KQ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=ou(t,e)||{};if(c==null)return{};const h=ZV(d),p={x:n,y:i},v=GR(r),y=WR(v),b=await o.getDimensions(c),S=v==="y",_=S?"top":"left",w=S?"bottom":"right",C=S?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[v]-p[v]-s.floating[y],R=p[v]-s.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=O?O[C]:0;(!L||!await(o.isElement==null?void 0:o.isElement(O)))&&(L=a.floating[C]||s.floating[y]);const z=A/2-R/2,N=L/2-b[y]/2-1,k=Fd(h[_],N),B=Fd(h[w],N),H=k,J=L-b[y]-B,Z=L/2-b[y]/2+z,$=a2(H,Z,J),K=!l.arrow&&Qg(r)!=null&&Z!==$&&s.reference[y]/2-(Z<H?k:B)-b[y]/2<0,W=K?Z<H?Z-H:Z-J:0;return{[v]:p[v]+W,data:{[v]:$,centerOffset:Z-$-W,...K&&{alignmentOffset:W}},reset:K}}}),JQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,...S}=ou(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=au(r),w=zd(a),C=au(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=p||(C||!b?[zS(a)]:GQ(a)),O=y!=="none";!p&&O&&R.push(...qQ(a,b,y,A));const L=[a,...R],z=await Xy(e,S),N=[];let k=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&N.push(z[_]),h){const Z=WQ(r,o,A);N.push(z[Z[0]],z[Z[1]])}if(k=[...k,{placement:r,overflows:N}],!N.every(Z=>Z<=0)){var B,H;const Z=(((B=s.flip)==null?void 0:B.index)||0)+1,$=L[Z];if($)return{data:{index:Z,overflows:k},reset:{placement:$}};let K=(H=k.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:H.placement;if(!K)switch(v){case"bestFit":{var J;const W=(J=k.filter(V=>{if(O){const X=zd(V.placement);return X===w||X==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(X=>X>0).reduce((X,te)=>X+te,0)]).sort((V,X)=>V[1]-X[1])[0])==null?void 0:J[0];W&&(K=W);break}case"initialPlacement":K=a;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function iL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rL(t){return VQ.some(e=>t[e]>=0)}const QQ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=ou(t,e);switch(i){case"referenceHidden":{const s=await Xy(e,{...r,elementContext:"reference"}),o=iL(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rL(o)}}}case"escaped":{const s=await Xy(e,{...r,altBoundary:!0}),o=iL(s,n.floating);return{data:{escapedOffsets:o,escaped:rL(o)}}}default:return{}}}}};async function ZQ(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=au(n),a=Qg(n),l=zd(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=ou(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),l?{x:v*d,y:p*c}:{x:p*c,y:v*d}}const eZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await ZQ(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},tZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:_,y:w}=S;return{x:_,y:w}}},...l}=ou(t,e),c={x:n,y:i},d=await Xy(e,l),h=zd(au(r)),p=HR(h);let v=c[p],y=c[h];if(s){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",w=v+d[S],C=v-d[_];v=a2(w,v,C)}if(o){const S=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=y+d[S],C=y-d[_];y=a2(w,y,C)}const b=a.fn({...e,[p]:v,[h]:y});return{...b,data:{x:b.x-n,y:b.y-i,enabled:{[p]:s,[h]:o}}}}}},nZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ou(t,e),d={x:n,y:i},h=zd(r),p=HR(h);let v=d[p],y=d[h];const b=ou(a,e),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const C=p==="y"?"height":"width",A=s.reference[p]-s.floating[C]+S.mainAxis,R=s.reference[p]+s.reference[C]-S.mainAxis;v<A?v=A:v>R&&(v=R)}if(c){var _,w;const C=p==="y"?"width":"height",A=["top","left"].includes(au(r)),R=s.reference[h]-s.floating[C]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:S.crossAxis),O=s.reference[h]+s.reference[C]+(A?0:((w=o.offset)==null?void 0:w[h])||0)-(A?S.crossAxis:0);y<R?y=R:y>O&&(y=O)}return{[p]:v,[h]:y}}}},iZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ou(t,e),d=await Xy(e,c),h=au(r),p=Qg(r),v=zd(r)==="y",{width:y,height:b}=s.floating;let S,_;h==="top"||h==="bottom"?(S=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,S=p==="end"?"top":"bottom");const w=b-d.top-d.bottom,C=y-d.left-d.right,A=Fd(b-d[S],w),R=Fd(y-d[_],C),O=!e.middlewareData.shift;let L=A,z=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=C),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(L=w),O&&!p){const k=Ao(d.left,0),B=Ao(d.right,0),H=Ao(d.top,0),J=Ao(d.bottom,0);v?z=y-2*(k!==0||B!==0?k+B:Ao(d.left,d.right)):L=b-2*(H!==0||J!==0?H+J:Ao(d.top,d.bottom))}await l({...e,availableWidth:z,availableHeight:L});const N=await o.getDimensions(a.floating);return y!==N.width||b!==N.height?{reset:{rects:!0}}:{}}}};function EE(){return typeof window<"u"}function Zg(t){return e6(t)?(t.nodeName||"").toLowerCase():"#document"}function ko(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xl(t){var e;return(e=(e6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function e6(t){return EE()?t instanceof Node||t instanceof ko(t).Node:!1}function Ja(t){return EE()?t instanceof Element||t instanceof ko(t).Element:!1}function ql(t){return EE()?t instanceof HTMLElement||t instanceof ko(t).HTMLElement:!1}function sL(t){return!EE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ko(t).ShadowRoot}function Gx(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Qa(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function rZ(t){return["table","td","th"].includes(Zg(t))}function CE(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $R(t){const e=qR(),n=Ja(t)?Qa(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function sZ(t){let e=Ud(t);for(;ql(e)&&!Rg(e);){if($R(e))return e;if(CE(e))return null;e=Ud(e)}return null}function qR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rg(t){return["html","body","#document"].includes(Zg(t))}function Qa(t){return ko(t).getComputedStyle(t)}function TE(t){return Ja(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ud(t){if(Zg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sL(t)&&t.host||Xl(t);return sL(e)?e.host:e}function t6(t){const e=Ud(t);return Rg(e)?t.ownerDocument?t.ownerDocument.body:t.body:ql(e)&&Gx(e)?e:t6(e)}function Yy(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=t6(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=ko(r);if(s){const a=c2(o);return e.concat(o,o.visualViewport||[],Gx(r)?r:[],a&&n?Yy(a):[])}return e.concat(r,Yy(r,[],n))}function c2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function n6(t){const e=Qa(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ql(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=FS(n)!==s||FS(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function XR(t){return Ja(t)?t:t.contextElement}function yg(t){const e=XR(t);if(!ql(e))return Fl(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=n6(e);let o=(s?FS(n.width):n.width)/i,a=(s?FS(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oZ=Fl(0);function i6(t){const e=ko(t);return!qR()||!e.visualViewport?oZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aZ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ko(t)?!1:e}function zh(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=XR(t);let o=Fl(1);e&&(i?Ja(i)&&(o=yg(i)):o=yg(t));const a=aZ(s,n,i)?i6(s):Fl(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const p=ko(s),v=i&&Ja(i)?ko(i):i;let y=p,b=c2(y);for(;b&&i&&v!==y;){const S=yg(b),_=b.getBoundingClientRect(),w=Qa(b),C=_.left+(b.clientLeft+parseFloat(w.paddingLeft))*S.x,A=_.top+(b.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=C,c+=A,y=ko(b),b=c2(y)}}return US({width:d,height:h,x:l,y:c})}function YR(t,e){const n=TE(t).scrollLeft;return e?e.left+n:zh(Xl(t)).left+n}function r6(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:YR(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function lZ(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=Xl(i),a=e?CE(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Fl(1);const d=Fl(0),h=ql(i);if((h||!h&&!s)&&((Zg(i)!=="body"||Gx(o))&&(l=TE(i)),ql(i))){const v=zh(i);c=yg(i),d.x=v.x+i.clientLeft,d.y=v.y+i.clientTop}const p=o&&!h&&!s?r6(o,l,!0):Fl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function cZ(t){return Array.from(t.getClientRects())}function uZ(t){const e=Xl(t),n=TE(t),i=t.ownerDocument.body,r=Ao(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Ao(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+YR(t);const a=-n.scrollTop;return Qa(i).direction==="rtl"&&(o+=Ao(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function dZ(t,e){const n=ko(t),i=Xl(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=qR();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function fZ(t,e){const n=zh(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=ql(t)?yg(t):Fl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function oL(t,e,n){let i;if(e==="viewport")i=dZ(t,n);else if(e==="document")i=uZ(Xl(t));else if(Ja(e))i=fZ(e,n);else{const r=i6(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return US(i)}function s6(t,e){const n=Ud(t);return n===e||!Ja(n)||Rg(n)?!1:Qa(n).position==="fixed"||s6(n,e)}function hZ(t,e){const n=e.get(t);if(n)return n;let i=Yy(t,[],!1).filter(a=>Ja(a)&&Zg(a)!=="body"),r=null;const s=Qa(t).position==="fixed";let o=s?Ud(t):t;for(;Ja(o)&&!Rg(o);){const a=Qa(o),l=$R(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Gx(o)&&!l&&s6(t,o))?i=i.filter(d=>d!==o):r=a,o=Ud(o)}return e.set(t,i),i}function pZ(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?CE(e)?[]:hZ(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,d)=>{const h=oL(e,d,r);return c.top=Ao(h.top,c.top),c.right=Fd(h.right,c.right),c.bottom=Fd(h.bottom,c.bottom),c.left=Ao(h.left,c.left),c},oL(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mZ(t){const{width:e,height:n}=n6(t);return{width:e,height:n}}function gZ(t,e,n){const i=ql(e),r=Xl(e),s=n==="fixed",o=zh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Fl(0);if(i||!i&&!s)if((Zg(e)!=="body"||Gx(r))&&(a=TE(e)),i){const p=zh(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else r&&(l.x=YR(r));const c=r&&!i&&!s?r6(r,a):Fl(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function UT(t){return Qa(t).position==="static"}function aL(t,e){if(!ql(t)||Qa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Xl(t)===n&&(n=n.ownerDocument.body),n}function o6(t,e){const n=ko(t);if(CE(t))return n;if(!ql(t)){let r=Ud(t);for(;r&&!Rg(r);){if(Ja(r)&&!UT(r))return r;r=Ud(r)}return n}let i=aL(t,e);for(;i&&rZ(i)&&UT(i);)i=aL(i,e);return i&&Rg(i)&&UT(i)&&!$R(i)?n:i||sZ(t)||n}const vZ=async function(t){const e=this.getOffsetParent||o6,n=this.getDimensions,i=await n(t.floating);return{reference:gZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function yZ(t){return Qa(t).direction==="rtl"}const xZ={convertOffsetParentRelativeRectToViewportRelativeRect:lZ,getDocumentElement:Xl,getClippingRect:pZ,getOffsetParent:o6,getElementRects:vZ,getClientRects:cZ,getDimensions:mZ,getScale:yg,isElement:Ja,isRTL:yZ};function a6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _Z(t,e){let n=null,i;const r=Xl(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:v}=c;if(a||e(),!p||!v)return;const y=P1(h),b=P1(r.clientWidth-(d+p)),S=P1(r.clientHeight-(h+v)),_=P1(d),C={rootMargin:-y+"px "+-b+"px "+-S+"px "+-_+"px",threshold:Ao(0,Fd(1,l))||1};let A=!0;function R(O){const L=O[0].intersectionRatio;if(L!==l){if(!A)return o();L?o(!1,L):i=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!a6(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(R,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(t)}return o(!0),s}function bZ(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=XR(t),d=r||s?[...c?Yy(c):[],...Yy(e)]:[];d.forEach(_=>{r&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const h=c&&a?_Z(c,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(_=>{let[w]=_;w&&w.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let y,b=l?zh(t):null;l&&S();function S(){const _=zh(t);b&&!a6(b,_)&&n(),b=_,y=requestAnimationFrame(S)}return n(),()=>{var _;d.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(_=v)==null||_.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const SZ=eZ,wZ=tZ,EZ=JQ,CZ=iZ,TZ=QQ,MZ=KQ,AZ=nZ,PZ=(t,e,n)=>{const i=new Map,r={platform:xZ,...n},s={...r.platform,_c:i};return YQ(t,e,{...r,platform:s})};function lL(t=0,e=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,i);const r={x:t,y:e,width:n,height:i,top:e,right:t+n,bottom:e+i,left:t};return{...r,toJSON:()=>r}}function RZ(t){if(!t)return lL();const{x:e,y:n,width:i,height:r}=t;return lL(e,n,i,r)}function IZ(t,e){return{contextElement:ys(t)?t:void 0,getBoundingClientRect:()=>{const n=t,i=e==null?void 0:e(n);return i||!n?RZ(i):n.getBoundingClientRect()}}}var cL=t=>({variable:t,reference:`var(${t})`}),l6={transformOrigin:cL("--transform-origin"),arrowOffset:cL("--arrow-offset")},kZ=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),NZ={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:i}=n,r=kZ(i)[t],{floating:s}=e;return s.style.setProperty(l6.transformOrigin.variable,r),{data:{transformOrigin:r}}}},OZ={name:"rects",fn({rects:t}){return{data:t}}},LZ=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:i,y:r}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:i!=null?`${i}px`:"",top:r!=null?`${r}px`:"",[s]:`calc(100% + ${l6.arrowOffset.reference})`}),{}}}};function DZ(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function FZ(t){return t.split("-")[0]}var zZ={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function uL(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function c6(t){return JJ(t.boundary)}function UZ(t,e){if(t)return MZ({element:t,padding:e.arrowPadding})}function BZ(t,e){if(!YJ(e.offset??e.gutter))return SZ(({placement:n})=>{var c,d;const i=((t==null?void 0:t.clientHeight)||0)/2,r=((c=e.offset)==null?void 0:c.mainAxis)??e.gutter,s=typeof r=="number"?r+i:r??i,{hasAlign:o}=DZ(n),a=o?void 0:e.shift,l=((d=e.offset)==null?void 0:d.crossAxis)??a;return OR({crossAxis:l,mainAxis:s,alignmentAxis:e.shift})})}function VZ(t){if(t.flip)return EZ({boundary:c6(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function jZ(t){if(!(!t.slide&&!t.overlap))return wZ({boundary:c6(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:AZ()})}function HZ(t){return CZ({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:i,availableWidth:r}){const s=e.floating,o=Math.round(n.reference.width);r=Math.floor(r),i=Math.floor(i),s.style.setProperty("--reference-width",`${o}px`),s.style.setProperty("--available-width",`${r}px`),s.style.setProperty("--available-height",`${i}px`)}})}function WZ(t){var e;if(t.hideWhenDetached)return TZ({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function GZ(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function $Z(t,e,n={}){const i=IZ(t,n.getAnchorRect);if(!e||!i)return;const r=Object.assign({},zZ,n),s=e.querySelector("[data-part=arrow]"),o=[BZ(s,r),VZ(r),jZ(r),UZ(s,r),LZ(s),NZ,HZ(r),WZ(r),OZ],{placement:a,strategy:l,onComplete:c,onPositioned:d}=r,h=async()=>{var A;if(!i||!e)return;const b=await PZ(i,e,{placement:a,middleware:o,strategy:l});c==null||c(b),d==null||d({placed:!0});const S=xs(e),_=uL(S,b.x),w=uL(S,b.y);e.style.setProperty("--x",`${_}px`),e.style.setProperty("--y",`${w}px`),r.hideWhenDetached&&(((A=b.middlewareData.hide)==null?void 0:A.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const C=e.firstElementChild;if(C){const R=mR(C);e.style.setProperty("--z-index",R.zIndex)}},p=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:h}),d==null||d({placed:!0})):await h()},v=GZ(r.listeners),y=r.listeners?bZ(i,e,p,v):ZJ;return p(),()=>{y==null||y(),d==null||d({placed:!1})}}function lu(t,e,n={}){const{defer:i,...r}=n,s=i?Bn:a=>a(),o=[];return o.push(s(()=>{const a=typeof t=="function"?t():t,l=typeof e=="function"?e():e;o.push($Z(a,l,r))})),()=>{o.forEach(a=>a==null?void 0:a())}}function qZ(t){const e={each(n){var i;for(let r=0;r<((i=t.frames)==null?void 0:i.length);r+=1){const s=t.frames[r];s&&n(s)}},addEventListener(n,i,r){return e.each(s=>{try{s.document.addEventListener(n,i,r)}catch{}}),()=>{try{e.removeEventListener(n,i,r)}catch{}}},removeEventListener(n,i,r){e.each(s=>{try{s.document.removeEventListener(n,i,r)}catch{}})}};return e}function XZ(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,i,r)=>{try{e==null||e.addEventListener(n,i,r)}catch{}return()=>{try{e==null||e.removeEventListener(n,i,r)}catch{}}},removeEventListener:(n,i,r)=>{try{e==null||e.removeEventListener(n,i,r)}catch{}}}}var dL="pointerdown.outside",fL="focus.outside";function YZ(t){for(const e of t)if(ys(e)&&Pd(e))return!0;return!1}var u6=t=>"clientY"in t;function KZ(t,e){if(!u6(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function JZ(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function hL(t,e){if(!e||!u6(t))return!1;const n=e.scrollHeight>e.clientHeight,i=n&&t.clientX>e.offsetLeft+e.clientWidth,r=e.scrollWidth>e.clientWidth,s=r&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(r?16:0)},a={x:t.clientX,y:t.clientY};return JZ(o,a)?i||s:!1}function QZ(t,e){const{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:o}=e;if(!t)return;const a=ua(t),l=xs(t),c=qZ(l),d=XZ(l);function h(_){const w=sa(_);if(!ys(w)||!w.isConnected||Pg(t,w)||KZ(t,_))return!1;const C=a.querySelector(`[aria-controls="${t.id}"]`);if(C){const R=IS(C);if(hL(_,R))return!1}const A=IS(t);return hL(_,A)?!1:!(n!=null&&n(w))}const p=new Set;function v(_){function w(){var R;const C=o?Bn:O=>O(),A=((R=_.composedPath)==null?void 0:R.call(_))??[_.target];C(()=>{if(!(!t||!h(_))){if(r||s){const O=NS(r,s);t.addEventListener(dL,O,{once:!0})}pL(t,dL,{bubbles:!1,cancelable:!0,detail:{originalEvent:_,contextmenu:rJ(_),focusable:YZ(A)}})}})}_.pointerType==="touch"?(p.forEach(C=>C()),p.add(Ti(a,"click",w,{once:!0})),p.add(d.addEventListener("click",w,{once:!0})),p.add(c.addEventListener("click",w,{once:!0}))):w()}const y=new Set,b=setTimeout(()=>{y.add(Ti(a,"pointerdown",v,!0)),y.add(d.addEventListener("pointerdown",v,!0)),y.add(c.addEventListener("pointerdown",v,!0))},0);function S(_){(o?Bn:C=>C())(()=>{if(!(!t||!h(_))){if(i||s){const C=NS(i,s);t.addEventListener(fL,C,{once:!0})}pL(t,fL,{bubbles:!1,cancelable:!0,detail:{originalEvent:_,contextmenu:!1,focusable:Pd(sa(_))}})}})}return y.add(Ti(a,"focusin",S,!0)),y.add(d.addEventListener("focusin",S,!0)),y.add(c.addEventListener("focusin",S,!0)),()=>{clearTimeout(b),p.forEach(_=>_()),y.forEach(_=>_())}}function ZZ(t,e){const{defer:n}=e,i=n?Bn:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(QZ(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function pL(t,e,n){const i=t.ownerDocument.defaultView||window,r=new i.CustomEvent(e,n);return t.dispatchEvent(r)}function eee(t,e){const n=i=>{i.key==="Escape"&&(i.isComposing||e==null||e(i))};return Ti(ua(t),"keydown",n,{capture:!0})}var Ha={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var i;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>Pg(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Pg(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(i=>i.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},mL;function gL(){Ha.layers.forEach(({node:t})=>{t.style.pointerEvents=Ha.isBelowPointerBlockingLayer(t)?"none":"auto"})}function tee(t){t.style.pointerEvents=""}function nee(t,e){const n=ua(t),i=[];if(Ha.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(mL=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const r=UJ(e,s=>{i.push(kS(s,{pointerEvents:"auto"}))});i.push(r)}return()=>{Ha.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=mL,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function iee(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){LS("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:i,pointerBlocking:r,exclude:s,debug:o}=e,a={dismiss:i,node:t,pointerBlocking:r};Ha.add(a),gL();function l(v){var b,S;const y=sa(v.detail.originalEvent);Ha.isBelowPointerBlockingLayer(t)||Ha.isInBranch(y)||((b=e.onPointerDownOutside)==null||b.call(e,v),(S=e.onInteractOutside)==null||S.call(e,v),!v.defaultPrevented&&(o&&console.log("onPointerDownOutside:",v.detail.originalEvent),i==null||i()))}function c(v){var b,S;const y=sa(v.detail.originalEvent);Ha.isInBranch(y)||((b=e.onFocusOutside)==null||b.call(e,v),(S=e.onInteractOutside)==null||S.call(e,v),!v.defaultPrevented&&(o&&console.log("onFocusOutside:",v.detail.originalEvent),i==null||i()))}function d(v){var y;Ha.isTopMost(t)&&((y=e.onEscapeKeyDown)==null||y.call(e,v),!v.defaultPrevented&&i&&(v.preventDefault(),i()))}function h(v){var _;if(!t)return!1;const y=typeof s=="function"?s():s,b=Array.isArray(y)?y:[y],S=(_=e.persistentElements)==null?void 0:_.map(w=>w()).filter(ys);return S&&b.push(...S),b.some(w=>Pg(w,v))||Ha.isInNestedLayer(t,v)}const p=[r?nee(t,e.persistentElements):void 0,eee(t,d),ZZ(t,{exclude:h,onFocusOutside:c,onPointerDownOutside:l,defer:e.defer})];return()=>{Ha.remove(t),gL(),tee(t),p.forEach(v=>v==null?void 0:v())}}function $x(t,e){const{defer:n}=e,i=n?Bn:s=>s(),r=[];return r.push(i(()=>{const s=tg(t)?t():t;r.push(iee(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}var d6=Kt("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);d6.build();var ree=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},see=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},oee=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},aee=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},lee=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},cee=t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},uee=t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},dee=t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},fee=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:i.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},hee=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:i.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},sS=t=>t.getById(aee(t)),pee=t=>t.getById(dee(t)),mee=(t,e)=>t.getById(hee(t,e)),gee=t=>t.getById(cee(t)),vL=t=>t.getById(ree(t)),vee=t=>t.getById(uee(t)),yee=(t,e)=>{const n=vee(t);if(!n)return;const{percent:i}=CR(e,n);return i},xee=t=>t.getById(see(t)),BT=t=>t.getById(oee(t)),_ee=t=>t.getById(lee(t)),bee=(t,e)=>t.getById(fee(t,e)),See=(t,e,n)=>{const i=bee(t,n);if(!i)return;const{percent:r}=CR(e,i);return r},wee=t=>[...$y(sS(t),"input[data-channel]"),...$y(xee(t),"input[data-channel]")];function Eee(t,e){if(e==null)return"";if(e==="hex")return t.toString("hex");if(e==="css")return t.toString("css");if(e in t)return t.getChannelValue(e).toString();const n=t.getFormat()==="hsla";switch(e){case"hue":return n?t.toFormat("hsla").getChannelValue("hue").toString():t.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?t.toFormat("hsla").getChannelValue("saturation").toString():t.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return t.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return t.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return t.toFormat("rgba").getChannelValue(e).toString();default:return t.getChannelValue(e).toString()}}var yL=t=>DS(t),{and:Cee}=np();Cee("isOpenControlled","closeOnSelect");function xL(t,e,n){const i=wee(t);Bn(()=>{i.forEach(r=>{const s=r.dataset.channel;Wx(r,Eee(n||e,s))})})}function Tee(t,e){const n=gee(t);n&&Bn(()=>Wx(n,e))}an()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);an()(["xChannel","yChannel"]);an()(["channel","orientation"]);an()(["value","disabled"]);an()(["value","respectAlpha"]);an()(["size"]);const[f6,Mee]=Su({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),h6=t=>qd()(t,["lazyMount","unmountOnExit"]);var p6=Kt("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");p6.build();var m6=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},g6=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,e))??`accordion:${t.id}:trigger:${e}`},Aee=t=>t.getById(m6(t)),ME=t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(m6(t))}']:not([disabled])`;return $y(Aee(t),n)},Pee=t=>IR(ME(t)),Ree=t=>kR(ME(t)),Iee=(t,e)=>AJ(ME(t),g6(t,e)),kee=(t,e)=>PJ(ME(t),g6(t,e)),{and:Nee,not:Oee}=np();Nee("isExpanded","canToggle"),Oee("isExpanded");an()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);an()(["value","disabled"]);var v6=Kt("avatar").parts("root","image","fallback");v6.build();an()(["dir","id","ids","onStatusChange","getRootNode"]);function Lee(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function Dee(t){return!(t.metaKey||!CV()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var Fee=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function zee(t,e,n){const i=n?sa(n):null,r=xs(i);return t=t||i instanceof r.HTMLInputElement&&!Fee.has(i==null?void 0:i.type)||i instanceof r.HTMLTextAreaElement||i instanceof r.HTMLElement&&i.isContentEditable,!(t&&e==="keyboard"&&n instanceof r.KeyboardEvent&&!Reflect.has(Uee,n.key))}var ip=null,u2=new Set,my=new Map,Uh=!1,d2=!1,Uee={Tab:!0,Escape:!0};function AE(t,e){for(let n of u2)n(t,e)}function BS(t){Uh=!0,Dee(t)&&(ip="keyboard",AE("keyboard",t))}function ia(t){ip="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Uh=!0,AE("pointer",t))}function y6(t){Lee(t)&&(Uh=!0,ip="virtual")}function x6(t){const e=sa(t);e===xs(e)||e===ua(e)||(!Uh&&!d2&&(ip="virtual",AE("virtual",t)),Uh=!1,d2=!1)}function _6(){Uh=!1,d2=!0}function Bee(t){if(typeof window>"u"||my.get(xs(t)))return;const e=xs(t),n=ua(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){ip="virtual",AE("virtual",null),Uh=!0,i.apply(this,arguments)},n.addEventListener("keydown",BS,!0),n.addEventListener("keyup",BS,!0),n.addEventListener("click",y6,!0),e.addEventListener("focus",x6,!0),e.addEventListener("blur",_6,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",ia,!0),n.addEventListener("pointermove",ia,!0),n.addEventListener("pointerup",ia,!0)):(n.addEventListener("mousedown",ia,!0),n.addEventListener("mousemove",ia,!0),n.addEventListener("mouseup",ia,!0)),e.addEventListener("beforeunload",()=>{Vee(t)},{once:!0}),my.set(e,{focus:i})}var Vee=(t,e)=>{const n=xs(t),i=ua(t);my.has(n)&&(n.HTMLElement.prototype.focus=my.get(n).focus,i.removeEventListener("keydown",BS,!0),i.removeEventListener("keyup",BS,!0),i.removeEventListener("click",y6,!0),n.removeEventListener("focus",x6,!0),n.removeEventListener("blur",_6,!1),typeof n.PointerEvent<"u"?(i.removeEventListener("pointerdown",ia,!0),i.removeEventListener("pointermove",ia,!0),i.removeEventListener("pointerup",ia,!0)):(i.removeEventListener("mousedown",ia,!0),i.removeEventListener("mousemove",ia,!0),i.removeEventListener("mouseup",ia,!0)),my.delete(n))};function _L(){return ip==="keyboard"}function jee(t={}){const{isTextInput:e,autoFocus:n,onChange:i,root:r}=t;Bee(r),i==null||i({isFocusVisible:n||_L(),modality:ip});const s=(o,a)=>{zee(!!e,o,a)&&(i==null||i({isFocusVisible:_L(),modality:o}))};return u2.add(s),()=>{u2.delete(s)}}var b6=Kt("checkbox").parts("root","label","control","indicator");b6.build();an()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const Hee=b6.extendWith("group"),[FLe,S6]=Su({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),Wee=d6.extendWith("view");var Gee=Object.defineProperty,$ee=(t,e,n)=>e in t?Gee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ei=(t,e,n)=>$ee(t,typeof e!="symbol"?e+"":e,n),oS={itemToValue(t){return typeof t=="string"?t:LT(t)&&DT(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:LT(t)&&DT(t,"label")?t.label:oS.itemToValue(t)},isItemDisabled(t){return LT(t)&&DT(t,"disabled")?!!t.disabled:!1}},w6=class{constructor(t){this.options=t,ei(this,"items"),ei(this,"isEqual",e=>Jg(this.items,e.items)),ei(this,"setItems",e=>{this.items=Array.from(e)}),ei(this,"getValues",(e=this.items)=>Array.from(e).map(n=>this.getItemValue(n)).filter(Boolean)),ei(this,"find",e=>{if(e==null)return null;const n=this.items.findIndex(i=>this.getItemValue(i)===e);return n!=null?this.items[n]:null}),ei(this,"findMany",e=>Array.from(e).map(n=>this.find(n)).filter(n=>n!=null)),ei(this,"at",e=>this.items[e]??null),ei(this,"sortFn",(e,n)=>{const i=this.indexOf(e),r=this.indexOf(n);return(i??0)-(r??0)}),ei(this,"sort",e=>[...e].sort(this.sortFn.bind(this))),ei(this,"getItemValue",e=>{var n,i;return e==null?null:((i=(n=this.options).itemToValue)==null?void 0:i.call(n,e))??oS.itemToValue(e)}),ei(this,"getItemDisabled",e=>{var n,i;return e==null?!1:((i=(n=this.options).isItemDisabled)==null?void 0:i.call(n,e))??oS.isItemDisabled(e)}),ei(this,"stringifyItem",e=>{var n,i;return e==null?null:((i=(n=this.options).itemToString)==null?void 0:i.call(n,e))??oS.itemToString(e)}),ei(this,"stringify",e=>e==null?null:this.stringifyItem(this.find(e))),ei(this,"stringifyItems",(e,n=", ")=>Array.from(e).map(i=>this.stringifyItem(i)).filter(Boolean).join(n)),ei(this,"stringifyMany",(e,n)=>this.stringifyItems(this.findMany(e),n)),ei(this,"has",e=>this.indexOf(e)!==-1),ei(this,"hasItem",e=>e==null?!1:this.has(this.getItemValue(e))),ei(this,"getNextValue",(e,n=1,i=!1)=>{let r=this.indexOf(e);if(r===-1)return null;for(r=i?Math.min(r+n,this.size-1):r+n;r<=this.size&&this.getItemDisabled(this.at(r));)r++;return this.getItemValue(this.at(r))}),ei(this,"getPreviousValue",(e,n=1,i=!1)=>{let r=this.indexOf(e);if(r===-1)return null;for(r=i?Math.max(r-n,0):r-n;r>=0&&this.getItemDisabled(this.at(r));)r--;return this.getItemValue(this.at(r))}),ei(this,"indexOf",e=>e==null?-1:this.items.findIndex(n=>this.getItemValue(n)===e)),ei(this,"getByText",(e,n)=>{let i=n!=null?Xee(this.items,this.indexOf(n)):this.items;return e.length===1&&(i=i.filter(s=>this.getItemValue(s)!==n)),i.find(s=>qee(this.stringifyItem(s),e))}),ei(this,"search",(e,n)=>{const{state:i,currentValue:r,timeout:s=350}=n,o=i.keysSoFar+e,l=o.length>1&&Array.from(o).every(v=>v===o[0])?o[0]:o,c=this.getByText(l,r),d=this.getItemValue(c);function h(){clearTimeout(i.timer),i.timer=-1}function p(v){i.keysSoFar=v,h(),v!==""&&(i.timer=+setTimeout(()=>{p(""),h()},s))}return p(o),d}),ei(this,"insertBefore",(e,n)=>{const i=this.indexOf(e);i!==-1&&this.items.splice(i,0,n)}),ei(this,"insertAfter",(e,n)=>{const i=this.indexOf(e);i!==-1&&this.items.splice(i+1,0,n)}),ei(this,"reorder",(e,n)=>{if(e===-1||n===-1||e===n)return;const[i]=this.items.splice(e,1);this.items.splice(n,0,i)}),ei(this,"toString",()=>{let e="";for(const n of this.items){const i=this.getItemValue(n),r=this.stringifyItem(n),s=this.getItemDisabled(n),o=[i,r,s].filter(Boolean).join(":");e+=o+","}return e}),ei(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*this.items}},qee=(t,e)=>!!(t!=null&&t.toLowerCase().startsWith(e.toLowerCase())),Xee=(t,e)=>t.map((n,i)=>t[(Math.max(e,0)+i)%t.length]),vm=new WeakMap,R1=new WeakMap,I1={},VT=0,E6=t=>t&&(t.host||E6(t.parentNode)),Yee=(t,e)=>e.map(n=>{if(t.contains(n))return n;const i=E6(n);return i&&t.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Kee=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Jee=(t,e)=>{const{parentNode:n,markerName:i,controlAttribute:r}=e,s=Yee(n,Array.isArray(t)?t:[t]);I1[i]||(I1[i]=new WeakMap);const o=I1[i],a=[],l=new Set,c=new Set(s),d=p=>{!p||l.has(p)||(l.add(p),d(p.parentNode))};s.forEach(d);const h=p=>{!p||c.has(p)||Array.prototype.forEach.call(p.children,v=>{if(l.has(v))h(v);else try{if(Kee(v))return;const b=v.getAttribute(r)==="true",S=(vm.get(v)||0)+1,_=(o.get(v)||0)+1;vm.set(v,S),o.set(v,_),a.push(v),S===1&&b&&R1.set(v,!0),_===1&&v.setAttribute(i,""),b||v.setAttribute(r,"true")}catch(y){console.error("[zag-js > ariaHidden] cannot operate on ",v,y)}})};return h(n),l.clear(),VT++,()=>{a.forEach(p=>{const v=vm.get(p)-1,y=o.get(p)-1;vm.set(p,v),o.set(p,y),v||(R1.has(p)||p.removeAttribute(r),R1.delete(p)),y||p.removeAttribute(i)}),VT--,VT||(vm=new WeakMap,vm=new WeakMap,R1=new WeakMap,I1={})}},Qee=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Zee=(t,e=Qee(t),n="data-aria-hidden")=>{if(e)return Jee(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},ete=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function tte(t,e={}){const{defer:n=!0}=e,i=n?ete:s=>s(),r=[];return r.push(i(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&r.push(Zee(o))})),()=>{r.forEach(s=>s==null?void 0:s())}}const[C6,Xd]=Su({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),T6=U.forwardRef((t,e)=>{const n=Xd(),i=Mee(),r=DR({...i,present:n.open}),s=On(n.getBackdropProps(),r.getPresenceProps(),t);return r.unmounted?null:E.jsx(Kn.div,{...s,ref:RR(r.ref,e)})});T6.displayName="DialogBackdrop";const M6=U.forwardRef((t,e)=>{const n=Xd(),i=On(n.getCloseTriggerProps(),t);return E.jsx(Kn.button,{...i,ref:e})});M6.displayName="DialogCloseTrigger";const A6=U.forwardRef((t,e)=>{const n=Xd(),i=FR(),r=On(n.getContentProps(),i.getPresenceProps(),t);return i.unmounted?null:E.jsx(Kn.div,{...r,ref:RR(i.ref,e)})});A6.displayName="DialogContent";const P6=U.forwardRef((t,e)=>{const n=Xd(),i=On(n.getDescriptionProps(),t);return E.jsx(Kn.div,{...i,ref:e})});P6.displayName="DialogDescription";const R6=U.forwardRef((t,e)=>{const n=Xd(),i=On(n.getPositionerProps(),t);return FR().unmounted?null:E.jsx(Kn.div,{...i,ref:e})});R6.displayName="DialogPositioner";var nte=Object.defineProperty,ite=(t,e,n)=>e in t?nte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wi=(t,e,n)=>ite(t,typeof e!="symbol"?e+"":e,n),bL={activateTrap(t,e){if(t.length>0){const i=t[t.length-1];i!==e&&i.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},rte=[],ste=class{constructor(t,e){wi(this,"trapStack"),wi(this,"config"),wi(this,"doc"),wi(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),wi(this,"listenerCleanups",[]),wi(this,"handleFocus",i=>{const r=sa(i),s=this.findContainerIndex(r,i)>=0;if(s||pR(r))s&&(this.state.mostRecentlyFocusedNode=r);else{i.stopImmediatePropagation();let o,a=!0;if(this.state.mostRecentlyFocusedNode)if(y0(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){const d=c.findIndex(h=>h===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<c.length&&(o=c[d+1],a=!1):d-1>=0&&(o=c[d-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>y0(c)>0))||(a=!1);else a=!1;a&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),wi(this,"handlePointerDown",i=>{const r=sa(i);if(!(this.findContainerIndex(r,i)>=0)){if(_0(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}_0(this.config.allowOutsideClick,i)||i.preventDefault()}}),wi(this,"handleClick",i=>{const r=sa(i);this.findContainerIndex(r,i)>=0||_0(this.config.clickOutsideDeactivates,i)||_0(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),wi(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;const r=this.config.isKeyBackward(i),s=this.findNextNavNode({event:i,isBackward:r});if(!s)return;x0(i)&&i.preventDefault(),this.tryFocus(s)}}),wi(this,"handleEscapeKey",i=>{ote(i)&&_0(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),wi(this,"_mutationObserver"),wi(this,"setupMutationObserver",()=>{const i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(r=>{r.some(o=>Array.from(o.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),wi(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(r=>{var s;(s=this._mutationObserver)==null||s.observe(r,{subtree:!0,childList:!0})})}),wi(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Pd(i))if(this.findContainerIndex(this.doc.activeElement)>=0)i=this.doc.activeElement;else{const r=this.state.tabbableGroups[0];i=r&&r.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),wi(this,"tryFocus",i=>{if(i!==!1&&i!==EV(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,ate(i)&&i.select()}}),wi(this,"deactivate",i=>{if(!this.state.active)return this;const r={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...i};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),bL.deactivateTrap(this.trapStack,this);const s=this.getOption(r,"onDeactivate"),o=this.getOption(r,"onPostDeactivate"),a=this.getOption(r,"checkCanReturnFocus"),l=this.getOption(r,"returnFocus","returnFocusOnDeactivate");s==null||s();const c=()=>{SL(()=>{if(l){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}o==null||o()})};if(l&&a){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(d).then(c,c),this}return c(),this}),wi(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;const r=this.getOption(i,"onPause"),s=this.getOption(i,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),wi(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;const r=this.getOption(i,"onUnpause"),s=this.getOption(i,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),wi(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),wi(this,"getReturnFocusNode",i=>{const r=this.getNodeForOption("setReturnFocus",{params:[i]});return r||(r===!1?!1:i)}),wi(this,"getOption",(i,r,s)=>i&&i[r]!==void 0?i[r]:this.config[s||r]),wi(this,"getNodeForOption",(i,{hasFallback:r=!1,params:s=[]}={})=>{let o=this.config[i];if(typeof o=="function"&&(o=o(...s)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let a=o;if(typeof o=="string"){try{a=this.doc.querySelector(o)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!r)throw new Error(`\`${i}\` as selector refers to no known node`)}return a}),wi(this,"findNextNavNode",i=>{const{event:r,isBackward:s=!1}=i,o=i.target||sa(r);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(o,r),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>o===h);if(d<0&&((c==null?void 0:c.container)===o||Pd(o)&&!dh(o)&&!(c!=null&&c.nextTabbableNode(o,!1)))&&(d=l),d>=0){const h=d===0?this.state.tabbableGroups.length-1:d-1,p=this.state.tabbableGroups[h];a=y0(o)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else x0(r)||(a=c==null?void 0:c.nextTabbableNode(o,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>o===h);if(d<0&&((c==null?void 0:c.container)===o||Pd(o)&&!dh(o)&&!(c!=null&&c.nextTabbableNode(o)))&&(d=l),d>=0){const h=d===this.state.tabbableGroups.length-1?0:d+1,p=this.state.tabbableGroups[h];a=y0(o)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else x0(r)||(a=c==null?void 0:c.nextTabbableNode(o))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=e.trapStack||rte;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(i){return x0(i)&&!i.shiftKey},isKeyBackward(i){return x0(i)&&i.shiftKey},...e};this.doc=n.document||ua(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:r})=>i.contains(t)||(n==null?void 0:n.includes(i))||r.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=bR(t),n=IV(t),i=e.length>0?e[0]:void 0,r=e.length>0?e[e.length-1]:void 0,s=n.find(c=>dh(c)),o=n.slice().reverse().find(c=>dh(c)),a=!!e.find(c=>y0(c)>0);function l(c,d=!0){const h=e.indexOf(c);return h<0?d?n.slice(n.indexOf(c)+1).find(p=>dh(p)):n.slice(0,n.indexOf(c)).reverse().find(p=>dh(p)):e[h+(d?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:i,lastTabbableNode:r,firstDomTabbableNode:s,lastDomTabbableNode:o,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return bL.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?SL(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Ti(this.doc,"focusin",this.handleFocus,!0),Ti(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Ti(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Ti(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Ti(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Ti(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),i=this.getOption(t,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const r=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return i?(i(this.state.containers.concat()).then(r,r),this):(r(),this)}},x0=t=>t.key==="Tab",_0=(t,...e)=>typeof t=="function"?t(...e):t,ote=t=>!t.isComposing&&t.key==="Escape",SL=t=>setTimeout(t,0),ate=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function lte(t,e={}){let n;const i=Bn(()=>{const r=typeof t=="function"?t():t;if(r){n=new ste(r,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:r,...e,document:ua(r)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),i()}}var jT="data-scroll-lock";function cte(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function ute(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:r}=e;if(r.hasAttribute(jT))return;r.setAttribute(jT,"");const o=n.innerWidth-i.clientWidth,a=()=>OJ(i,"--scrollbar-width",`${o}px`),l=cte(i),c=()=>kS(r,{overflow:"hidden",[l]:`${o}px`}),d=()=>{const{scrollX:p,scrollY:v,visualViewport:y}=n,b=(y==null?void 0:y.offsetLeft)??0,S=(y==null?void 0:y.offsetTop)??0,_=kS(r,{position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(S))}px`,left:`${-(p-Math.floor(b))}px`,right:"0",[l]:`${o}px`});return()=>{_==null||_(),n.scrollTo({left:p,top:v,behavior:"instant"})}},h=[a(),yR()?d():c()];return()=>{h.forEach(p=>p==null?void 0:p()),r.removeAttribute(jT)}}var KR=Kt("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Gf=KR.build(),I6=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},k6=t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},f2=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},N6=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},h2=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},p2=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},O6=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},k1=t=>t.getById(f2(t)),dte=t=>t.getById(I6(t)),fte=t=>t.getById(k6(t)),hte=t=>t.getById(N6(t)),pte=t=>t.getById(h2(t)),mte=t=>t.getById(p2(t)),gte=t=>t.getById(O6(t));function vte(t,e){const{state:n,send:i,context:r,prop:s,scope:o}=t,a=s("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&i({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return e.button({...Gf.trigger.attrs,dir:s("dir"),id:N6(o),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":f2(o),onClick(c){c.defaultPrevented||i({type:"TOGGLE"})}})},getBackdropProps(){return e.element({...Gf.backdrop.attrs,dir:s("dir"),hidden:!l,id:k6(o),"data-state":l?"open":"closed"})},getPositionerProps(){return e.element({...Gf.positioner.attrs,dir:s("dir"),id:I6(o),style:{pointerEvents:l?void 0:"none"}})},getContentProps(){const c=r.get("rendered");return e.element({...Gf.content.attrs,dir:s("dir"),role:s("role"),hidden:!l,id:f2(o),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":a||void 0,"aria-labelledby":a||!c.title?void 0:h2(o),"aria-describedby":c.description?p2(o):void 0})},getTitleProps(){return e.element({...Gf.title.attrs,dir:s("dir"),id:h2(o)})},getDescriptionProps(){return e.element({...Gf.description.attrs,dir:s("dir"),id:p2(o)})},getCloseTriggerProps(){return e.button({...Gf.closeTrigger.attrs,dir:s("dir"),id:O6(o),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),i({type:"CLOSE"}))}})}}}var yte={props({props:t,scope:e}){const n=t.role==="alertdialog";return{role:"dialog",modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:n?()=>gte(e):void 0,...t}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{rendered:t(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:t,action:e,prop:n}){t([()=>n("open")],()=>{e(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackDismissableElement({scope:t,send:e,prop:n}){return $x(()=>k1(t),{defer:!0,pointerBlocking:n("modal"),exclude:[hte(t)],onInteractOutside(r){var s;(s=n("onInteractOutside"))==null||s(r),n("closeOnInteractOutside")||r.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onEscapeKeyDown(r){var s;(s=n("onEscapeKeyDown"))==null||s(r),n("closeOnEscape")||r.preventDefault()},onDismiss(){e({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:t,prop:e}){if(e("preventScroll"))return ute(t.getDoc())},trapFocus({scope:t,prop:e}){return!e("trapFocus")||!e("modal")?void 0:lte(()=>k1(t),{preventScroll:!0,returnFocusOnDeactivate:!!e("restoreFocus"),initialFocus:e("initialFocusEl"),setReturnFocus:i=>{var r;return((r=e("finalFocusEl"))==null?void 0:r())??i}})},hideContentBelow({scope:t,prop:e}){return e("modal")?tte(()=>[k1(t)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:t,scope:e}){Bn(()=>{t.set("rendered",{title:!!pte(e),description:!!mte(e)})})},syncZIndex({scope:t}){Bn(()=>{const e=k1(t);if(!e)return;const n=mR(e);[dte(t),fte(t)].forEach(r=>{r==null||r.style.setProperty("--z-index",n.zIndex)})})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},toggleVisibility({prop:t,send:e,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}};an()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const xte=t=>{const e=U.useId(),{getRootNode:n}=wE(),{dir:i}=PR(),r={id:e,getRootNode:n,dir:i,...t},s=SE(yte,r);return vte(s,LR)},_te=t=>{const[e,{children:n,...i}]=GV(t),[r]=h6(e),s=xte(i),o=DR(On({present:s.open},e));return E.jsx(C6,{value:s,children:E.jsx(f6,{value:r,children:E.jsx(XV,{value:o,children:n})})})},bte=t=>{const[e,{value:n,children:i}]=GV(t),[r]=h6(e),s=DR(On({present:n.open},e));return E.jsx(C6,{value:n,children:E.jsx(f6,{value:r,children:E.jsx(XV,{value:s,children:i})})})},L6=U.forwardRef((t,e)=>{const n=Xd(),i=On(n.getTitleProps(),t);return E.jsx(Kn.h2,{...i,ref:e})});L6.displayName="DialogTitle";const D6=U.forwardRef((t,e)=>{const n=Xd(),i=FR(),r=On({...n.getTriggerProps(),"aria-controls":i.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return E.jsx(Kn.button,{...r,ref:e})});D6.displayName="DialogTrigger";var F6=Kt("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");F6.build();an()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const z6=Kt("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");z6.build();const U6=Kt("fieldset").parts("root","errorText","helperText","legend");U6.build();var B6=Kt("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");B6.build();an()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);an()(["file"]);var V6=Kt("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");V6.build();var Ste=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},wte=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},Ete=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},HT=t=>t.getById(Ste(t)),Cte=t=>t.getById(wte(t)),wL=t=>t.getById(Ete(t)),{not:N1,and:EL}=np();EL("isOpenControlled",N1("isPointer")),N1("isPointer"),EL("isOpenControlled",N1("isPointer")),N1("isPointer");an()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);var ny=(t,e)=>({x:t,y:e});function Tte(t){const{x:e,y:n,width:i,height:r}=t,s=e+i/2,o=n+r/2;return{x:e,y:n,width:i,height:r,minX:e,minY:n,maxX:e+i,maxY:n+r,midX:s,midY:o,center:ny(s,o)}}function Mte(t){const e=ny(t.minX,t.minY),n=ny(t.maxX,t.minY),i=ny(t.maxX,t.maxY),r=ny(t.minX,t.maxY);return{top:e,right:n,bottom:i,left:r}}function Ate(t,e){const n=Tte(t),{top:i,right:r,left:s,bottom:o}=Mte(n),[a]=e.split("-");return{top:[s,i,r,o],right:[i,r,o,s],bottom:[i,s,o,r],left:[r,i,s,o]}[a]}function Pte(t,e){const{x:n,y:i}=e;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,d=t[o].y;l>i!=d>i&&n<(c-a)*(i-l)/(d-l)+a&&(r=!r)}return r}var j6=Kt("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");j6.build();var H6=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},Rte=t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},W6=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},Ite=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},m2=(t,e)=>`${t.id}/${e}`,$f=t=>(t==null?void 0:t.dataset.value)??null,vd=t=>t.getById(W6(t)),CL=t=>t.getById(Ite(t)),O1=t=>t.getById(H6(t)),kte=(t,e)=>e?t.getById(m2(t,e)):null,TL=t=>t.getById(Rte(t)),qx=t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(W6(t))}]:not([data-disabled])`;return $y(vd(t),n)},Nte=t=>IR(qx(t)),Ote=t=>kR(qx(t)),JR=(t,e)=>e?t.id===e||t.dataset.value===e:!1,Lte=(t,e)=>{const n=qx(t),i=n.findIndex(r=>JR(r,e.value));return HJ(n,i,{loop:e.loop??e.loopFocus})},Dte=(t,e)=>{const n=qx(t),i=n.findIndex(r=>JR(r,e.value));return GJ(n,i,{loop:e.loop??e.loopFocus})},Fte=(t,e)=>{const n=qx(t),i=n.find(r=>JR(r,e.value));return AR(n,{state:e.typeaheadState,key:e.key,activeId:(i==null?void 0:i.id)??null})},zte=t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},Ute="menu:select";function Bte(t,e){if(!t)return;const n=xs(t),i=new n.CustomEvent(Ute,{detail:{value:e}});t.dispatchEvent(i)}var{not:Ko,and:ym,or:Vte}=np();Ko("isSubmenu"),Vte("isOpenAutoFocusEvent","isArrowDownEvent"),ym(Ko("isTriggerItem"),"isOpenControlled"),Ko("isTriggerItem"),ym("isSubmenu","isOpenControlled"),Ko("isPointerSuspended"),ym(Ko("isPointerSuspended"),Ko("isTriggerItem")),ym(Ko("isTriggerItemHighlighted"),Ko("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),ym(Ko("isTriggerItemHighlighted"),Ko("isHighlightedItemEditable"),"closeOnSelect"),ym(Ko("isTriggerItemHighlighted"),Ko("isHighlightedItemEditable"));function ML(t){let e=t.parent;for(;e&&e.computed("isSubmenu");)e=e.refs.get("parent");e==null||e.send({type:"CLOSE"})}function jte(t,e){return t?Pte(t,e):!1}function Hte(t,e,n){const i=Object.keys(t).length>0;if(!e)return null;if(!i)return m2(n,e);for(const r in t){const s=t[r],o=H6(s.scope);if(o===e)return o}return m2(n,e)}an()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);an()(["closeOnSelect","disabled","value","valueText"]);an()(["htmlFor"]);an()(["id"]);an()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const[G6,rp]=Su({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),$6=U.forwardRef((t,e)=>{const n=rp(),i=On(n.getControlProps(),t);return E.jsx(Kn.div,{...i,ref:e})});$6.displayName="NumberInputControl";const q6=U.forwardRef((t,e)=>{const n=rp(),i=On(n.getDecrementTriggerProps(),t);return E.jsx(Kn.button,{...i,ref:e})});q6.displayName="NumberInputDecrementTrigger";const X6=U.forwardRef((t,e)=>{const n=rp(),i=On(n.getIncrementTriggerProps(),t);return E.jsx(Kn.button,{...i,ref:e})});X6.displayName="NumberInputIncrementTrigger";const Y6=U.forwardRef((t,e)=>{const n=rp(),i=On(n.getInputProps(),t),r=S6();return E.jsx(Kn.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...i,ref:e})});Y6.displayName="NumberInputInput";const K6=U.forwardRef((t,e)=>{const n=rp(),i=On(n.getLabelProps(),t);return E.jsx(Kn.label,{...i,ref:e})});K6.displayName="NumberInputLabel";let WT=new Map,g2=!1;try{g2=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let VS=!1;try{VS=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const J6={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class Wte{format(e){let n="";if(!g2&&this.options.signDisplay!=null?n=$te(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!VS){var i;let{unit:r,unitDisplay:s="short",locale:o}=this.resolvedOptions();if(!r)return n;let a=(i=J6[r])===null||i===void 0?void 0:i[s];n+=a[o]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)}  ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(n);return[...i.map(s=>({...s,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...r.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!g2&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!VS&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=Gte(e,n),this.options=n}}function Gte(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!VS){var i;let{unit:o,unitDisplay:a="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=J6[o])===null||i===void 0)&&i[a]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let r=t+(e?Object.entries(e).sort((o,a)=>o[0]<a[0]?-1:1).join():"");if(WT.has(r))return WT.get(r);let s=new Intl.NumberFormat(t,e);return WT.set(r,s),s}function $te(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let i=!1;if(e==="always"?i=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let r=t.format(-n),s=t.format(n),o=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}const qte=new RegExp("^.*\\(.*\\).*$"),Xte=["latn","arab","hanidec","deva","beng"];class Q6{parse(e){return GT(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,i){return GT(this.locale,this.options,e).isValidPartialNumber(e,n,i)}getNumberingSystem(e){return GT(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const AL=new Map;function GT(t,e,n){let i=PL(t,e);if(!t.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let r of Xte)if(r!==i.options.numberingSystem){let s=PL(t+(t.includes("-u-")?"-nu-":"-u-nu-")+r,e);if(s.isValidPartialNumber(n))return s}}return i}function PL(t,e){let n=t+(e?Object.entries(e).sort((r,s)=>r[0]<s[0]?-1:1).join():""),i=AL.get(n);return i||(i=new Yte(t,e),AL.set(n,i)),i}class Yte{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=L1(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,o>-1&&(n=`-${n}`)}let i=n?+n:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var r,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new Q6(this.locale,o).parse(new Wte(this.locale,o).format(i))}return this.options.currencySign==="accounting"&&qte.test(e)&&(i=-1*i),i}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("",this.symbols.decimal)),this.symbols.group&&(e=L1(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=L1(e,".","")),e}isValidPartialNumber(e,n=-1/0,i=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&i>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=L1(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=Jte(e,this.formatter,this.options,n);var i,r;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const RL=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Kte=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Jte(t,e,n,i){var r,s,o,a;let l=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=l.formatToParts(-10000.111),d=l.formatToParts(10000.111),h=Kte.map(k=>l.formatToParts(k));var p;let v=(p=(r=c.find(k=>k.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&p!==void 0?p:"-",y=(s=d.find(k=>k.type==="plusSign"))===null||s===void 0?void 0:s.value;!y&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(y="+");let S=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(k=>k.type==="decimal"))===null||o===void 0?void 0:o.value,_=(a=c.find(k=>k.type==="group"))===null||a===void 0?void 0:a.value,w=c.filter(k=>!RL.has(k.type)).map(k=>IL(k.value)),C=h.flatMap(k=>k.filter(B=>!RL.has(B.type)).map(B=>IL(B.value))),A=[...new Set([...w,...C])].sort((k,B)=>B.length-k.length),R=A.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${A.join("|")}|[\\p{White_Space}]`,"gu"),O=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),L=new Map(O.map((k,B)=>[k,B])),z=new RegExp(`[${O.join("")}]`,"g");return{minusSign:v,plusSign:y,decimal:S,group:_,literals:R,numeral:z,index:k=>String(L.get(k))}}function L1(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function IL(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Z6=Kt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),od=Z6.build(),Qte=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},iy=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},e8=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},t8=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},Zte=t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},n8=t=>`number-input:${t.id}:cursor`,ene=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},ry=t=>t.getById(iy(t)),tne=t=>t.getById(e8(t)),nne=t=>t.getById(t8(t)),i8=t=>t.getDoc().getElementById(n8(t)),ine=(t,e)=>{let n=null;return e==="increment"&&(n=tne(t)),e==="decrement"&&(n=nne(t)),n},rne=(t,e)=>{if(!TV())return ane(t,e),()=>{var n;(n=i8(t))==null||n.remove()}},sne=t=>{const e=t.getDoc(),n=e.documentElement,i=e.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},one=(t,e)=>{const{point:n,isRtl:i,event:r}=e,s=t.getWin(),o=py(r.movementX,s.devicePixelRatio),a=py(r.movementY,s.devicePixelRatio);let l=o>0?"increment":o<0?"decrement":null;i&&l==="increment"&&(l="decrement"),i&&l==="decrement"&&(l="increment");const c={x:n.x+o,y:n.y+a},d=s.innerWidth,h=py(7.5,s.devicePixelRatio);return c.x=rQ(c.x+h,d)-h,{hint:l,point:c}},ane=(t,e)=>{const n=t.getDoc(),i=n.createElement("div");i.className="scrubber--cursor",i.id=n8(t),Object.assign(i.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:UK,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),i.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(i)};function lne(t,e){const{state:n,send:i,prop:r,scope:s,computed:o}=t,a=n.hasTag("focus"),l=o("isDisabled"),c=r("readOnly"),d=o("isValueEmpty"),h=o("isOutOfRange")||!!r("invalid"),p=l||!o("canIncrement")||c,v=l||!o("canDecrement")||c,y=r("translations");return{focused:a,invalid:h,empty:d,value:o("formattedValue"),valueAsNumber:o("valueAsNumber"),setValue(b){i({type:"VALUE.SET",value:b})},clearValue(){i({type:"VALUE.CLEAR"})},increment(){i({type:"VALUE.INCREMENT"})},decrement(){i({type:"VALUE.DECREMENT"})},setToMax(){i({type:"VALUE.SET",value:r("max")})},setToMin(){i({type:"VALUE.SET",value:r("min")})},focus(){var b;(b=ry(s))==null||b.focus()},getRootProps(){return e.element({id:Qte(s),...od.root.attrs,dir:r("dir"),"data-disabled":Yt(l),"data-focus":Yt(a),"data-invalid":Yt(h)})},getLabelProps(){return e.label({...od.label.attrs,dir:r("dir"),"data-disabled":Yt(l),"data-focus":Yt(a),"data-invalid":Yt(h),id:ene(s),htmlFor:iy(s)})},getControlProps(){return e.element({...od.control.attrs,dir:r("dir"),role:"group","aria-disabled":l,"data-focus":Yt(a),"data-disabled":Yt(l),"data-invalid":Yt(h),"aria-invalid":t2(h)})},getValueTextProps(){return e.element({...od.valueText.attrs,dir:r("dir"),"data-disabled":Yt(l),"data-invalid":Yt(h),"data-focus":Yt(a)})},getInputProps(){return e.input({...od.input.attrs,dir:r("dir"),name:r("name"),form:r("form"),id:iy(s),role:"spinbutton",defaultValue:o("formattedValue"),pattern:r("pattern"),inputMode:r("inputMode"),"aria-invalid":t2(h),"data-invalid":Yt(h),disabled:l,"data-disabled":Yt(l),readOnly:c,required:r("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":r("min"),"aria-valuemax":r("max"),"aria-valuenow":Number.isNaN(o("valueAsNumber"))?void 0:o("valueAsNumber"),"aria-valuetext":o("valueText"),onFocus(){i({type:"INPUT.FOCUS"})},onBlur(){i({type:"INPUT.BLUR"})},onInput(b){i({type:"INPUT.CHANGE",target:b.currentTarget,hint:"set"})},onBeforeInput(b){try{const{selectionStart:S,selectionEnd:_,value:w}=b.currentTarget,C=w.slice(0,S)+(b.data??"")+w.slice(_);o("parser").isValidPartialNumber(C)||b.preventDefault()}catch{}},onKeyDown(b){if(b.defaultPrevented||c||MV(b))return;const S=AV(b)*r("step"),w={ArrowUp(){i({type:"INPUT.ARROW_UP",step:S}),b.preventDefault()},ArrowDown(){i({type:"INPUT.ARROW_DOWN",step:S}),b.preventDefault()},Home(){i2(b)||(i({type:"INPUT.HOME"}),b.preventDefault())},End(){i2(b)||(i({type:"INPUT.END"}),b.preventDefault())},Enter(){i({type:"INPUT.ENTER"})}}[b.key];w==null||w(b)}})},getDecrementTriggerProps(){return e.button({...od.decrementTrigger.attrs,dir:r("dir"),id:t8(s),disabled:v,"data-disabled":Yt(v),"aria-label":y.decrementLabel,type:"button",tabIndex:-1,"aria-controls":iy(s),onPointerDown(b){var S;v||!n2(b)||(i({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:b.pointerType}),b.pointerType==="mouse"&&b.preventDefault(),b.pointerType==="touch"&&((S=b.currentTarget)==null||S.focus({preventScroll:!0})))},onPointerUp(b){i({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:b.pointerType})},onPointerLeave(){v||i({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...od.incrementTrigger.attrs,dir:r("dir"),id:e8(s),disabled:p,"data-disabled":Yt(p),"aria-label":y.incrementLabel,type:"button",tabIndex:-1,"aria-controls":iy(s),onPointerDown(b){var S;p||!n2(b)||(i({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:b.pointerType}),b.pointerType==="mouse"&&b.preventDefault(),b.pointerType==="touch"&&((S=b.currentTarget)==null||S.focus({preventScroll:!0})))},onPointerUp(b){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:b.pointerType})},onPointerLeave(b){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:b.pointerType})}})},getScrubberProps(){return e.element({...od.scrubber.attrs,dir:r("dir"),"data-disabled":Yt(l),id:Zte(s),role:"presentation",onMouseDown(b){if(l)return;const S=xR(b),w=xs(b.currentTarget).devicePixelRatio;S.x=S.x-py(7.5,w),S.y=S.y-py(7.5,w),i({type:"SCRUBBER.PRESS_DOWN",point:S}),b.preventDefault()},style:{cursor:l?void 0:"ew-resize"}})}}}function cne(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:i}=t,r=i.substring(0,e),s=i.substring(n);return{start:e,end:n,value:i,beforeTxt:r,afterTxt:s}}catch{}}function une(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:i="",afterTxt:r="",start:s}=e;let o=n.length;if(n.endsWith(r))o=n.length-r.length;else if(n.startsWith(i))o=i.length;else if(s!=null){const a=i[s-1],l=n.indexOf(a,s-1);l!==-1&&(o=l+1)}t.setSelectionRange(o,o)}catch{}}}var dne=(t,e={})=>new Intl.NumberFormat(t,e),fne=(t,e={})=>new Q6(t,e),$T=(t,e)=>{const{prop:n,computed:i}=e;return n("formatOptions")?i("parser").parse(String(t)):parseFloat(t)},qf=(t,e)=>{const{prop:n,computed:i}=e;return Number.isNaN(t)?"":n("formatOptions")?i("formatter").format(t):t.toString()},hne=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return(e==null?void 0:e.style)==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:pne,guards:mne,createMachine:gne}=bQ(),{not:kL,and:NL}=mne,vne=gne({props({props:t}){const e=hne(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(i){var o;const r=n(),s=$T(i,{computed:r,prop:t});(o=t("onValueChange"))==null||o({value:i,valueAsNumber:s})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(i){return i?`x:${i.x}, y:${i.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>$T(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>qf(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>lQ(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>aQ(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!cQ(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,i;return(i=(n=t("translations")).valueText)==null?void 0:i.call(n,e.get("value"))},formatter:QO(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>dne(t,e)),parser:QO(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>fne(t,e))},watch({track:t,action:e,context:n,computed:i,prop:r}){t([()=>n.get("value"),()=>r("locale")],()=>{e(["syncInputElement"])}),t([()=>i("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:NL("clampValueOnBlur",kL("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:kL("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:pne([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:NL("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=ry(e);return yE(n,{onFieldsetDisabledChange(i){t.set("fieldsetDisabled",i)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return rne(e,n)},preventTextSelection({scope:t}){return sne(t)},trackButtonDisabled({context:t,scope:e,send:n}){const i=t.get("hint"),r=ine(e,i);return wR(r,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const i=ry(t);if(!i||!t.isActiveElement(i)||!n("allowMouseWheel"))return;function r(s){s.preventDefault();const o=Math.sign(s.deltaY)*-1;o===1?e({type:"VALUE.INCREMENT"}):o===-1&&e({type:"VALUE.DECREMENT"})}return Ti(i,"wheel",r,{passive:!1})},activatePointerLock({scope:t}){if(!TV())return EJ(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:i}){const r=t.getDoc();function s(a){const l=n.get("scrubberCursorPoint"),c=i("isRtl"),d=one(t,{point:l,isRtl:c,event:a});d.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:d.hint,point:d.point})}function o(){e({type:"SCRUBBER.POINTER_UP"})}return NS(Ti(r,"mousemove",s,!1),Ti(r,"mouseup",o,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=ry(t);t.isActiveElement(n)||Bn(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:i}){let r=pQ(i("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(r=Ir(r,n("min"),n("max"))),t.set("value",qf(r,{computed:i,prop:n}))},decrement({context:t,event:e,prop:n,computed:i}){let r=mQ(i("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(r=Ir(r,n("min"),n("max"))),t.set("value",qf(r,{computed:i,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const i=Ir(n("valueAsNumber"),e("min"),e("max"));t.set("value",qf(i,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:i}){let r=$T(e.value,{computed:i,prop:n});n("allowOverflow")||(r=Ir(r,n("min"),n("max"))),t.set("value",qf(r,{computed:i,prop:n}))},setValue({context:t,event:e}){var i;const n=((i=e.target)==null?void 0:i.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const i=qf(e("max"),{computed:n,prop:e});t.set("value",i)},decrementToMin({context:t,prop:e,computed:n}){const i=qf(e("min"),{computed:n,prop:e});t.set("value",i)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var r;if(n.type==="INPUT.CHANGE")return;const i=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(r=e("onValueInvalid"))==null||r({reason:i,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:i}){const r=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),s=ry(i),o=cne(s);Bn(()=>{Wx(s,r),une(s,o)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=i8(e),i=t.get("scrubberCursorPoint");!n||!i||(n.style.transform=`translate3d(${i.x}px, ${i.y}px, 0px)`)}}}});an()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const yne=t=>{const e=U.useId(),{getRootNode:n}=wE(),{dir:i,locale:r}=PR(),s=S6(),o={id:e,ids:{label:s==null?void 0:s.ids.label,input:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,required:s==null?void 0:s.required,invalid:s==null?void 0:s.invalid,dir:i,locale:r,getRootNode:n,...t},a=SE(vne,o);return lne(a,LR)},r8=U.forwardRef((t,e)=>{const[n,i]=qd()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),r=yne(n),s=On(r.getRootProps(),i);return E.jsx(G6,{value:r,children:E.jsx(Kn.div,{...s,ref:e})})});r8.displayName="NumberInputRoot";const s8=U.forwardRef((t,e)=>{const[{value:n},i]=qd()(t,["value"]),r=On(n.getRootProps(),i);return E.jsx(G6,{value:n,children:E.jsx(Kn.div,{...r,ref:e})})});s8.displayName="NumberInputRootProvider";const o8=U.forwardRef((t,e)=>{const n=rp(),i=On(n.getScrubberProps(),t);return E.jsx(Kn.div,{...i,ref:e})});o8.displayName="NumberInputScrubber";const a8=U.forwardRef((t,e)=>{const{children:n,...i}=t,r=rp(),s=On(r.getValueTextProps(),i);return E.jsx(Kn.span,{...s,ref:e,children:n||r.value})});a8.displayName="NumberInputValueText";var l8=Kt("pinInput").parts("root","label","input","control");l8.build();an()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var c8=Kt("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");c8.build();an()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);const xne=t=>{var l;const{children:e,disabled:n}=t,[i,r]=U.useState((l=t.container)==null?void 0:l.current),s=U.useSyncExternalStore(bne,()=>!1,()=>!0),{getRootNode:o}=wE();if(U.useEffect(()=>{r(()=>{var c;return(c=t.container)==null?void 0:c.current})},[t.container]),s||n)return E.jsx(E.Fragment,{children:e});const a=i??_ne(o);return E.jsx(E.Fragment,{children:U.Children.map(e,c=>bE.createPortal(c,a))})},_ne=t=>{const e=t==null?void 0:t(),n=e.getRootNode();return Gy(n)?n:ua(e).body},bne=()=>()=>{};var QR=Kt("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");QR.build();an()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var u8=Kt("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");u8.build();an()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var ZR=Kt("radio-group").parts("root","label","item","itemText","itemControl","indicator");ZR.build();an()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);an()(["value","disabled","invalid"]);var d8=Kt("rating-group").parts("root","label","item","control");d8.build();an()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);an()(["index"]);const f8=ZR.rename("segment-group");f8.build();var h8=Kt("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");h8.build();var p8=t=>new w6(t);p8.empty=()=>new w6({items:[]});var Sne=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},wne=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},Ene=t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},Cne=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`select:${t.id}:option:${e}`},Tne=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},Mne=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},qT=t=>t.getById(Tne(t)),b0=t=>t.getById(Sne(t)),D1=t=>t.getById(wne(t)),Ane=t=>t.getById(Ene(t)),OL=t=>t.getById(Mne(t)),Pne=(t,e)=>t.getById(Cne(t,e)),{and:S0,not:Xf,or:Rne}=np();Rne("isTriggerArrowDownEvent","isTriggerEnterEvent"),S0(Xf("multiple"),"hasSelectedItems"),Xf("multiple"),S0(Xf("multiple"),"hasSelectedItems"),Xf("multiple"),Xf("multiple"),Xf("multiple"),Xf("multiple"),S0("closeOnSelect","isOpenControlled"),S0("hasHighlightedItem","loop","isLastItemHighlighted"),S0("hasHighlightedItem","loop","isFirstItemHighlighted");an()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","defaultOpen","open","composite","positioning","required","readOnly","scrollToIndexFn","value","defaultValue","defaultHighlightedValue"]);an()(["item","persistFocus"]);an()(["id"]);an()(["htmlFor"]);const[m8,Yl]=Su({name:"SliderContext",hookName:"useSliderContext",providerName:"<SliderProvider />"}),g8=U.forwardRef((t,e)=>{const n=Yl(),i=On(n.getControlProps(),t);return E.jsx(Kn.div,{...i,ref:e})});g8.displayName="SliderControl";const[Ine,v8]=Su({name:"SliderThumbPropsContext",hookName:"useSliderThumbPropsContext",providerName:"<SliderThumbPropsProvider />"}),y8=U.forwardRef((t,e)=>{const n=Yl(),{index:i}=v8(),r=On(n.getDraggingIndicatorProps({index:i}),t);return E.jsx(Kn.span,{...r,ref:e,children:t.children||n.getThumbValue(i)})});y8.displayName="SliderDraggingIndicator";const x8=U.forwardRef((t,e)=>{const n=Yl(),i=v8(),r=On(n.getHiddenInputProps(i),t);return E.jsx(Kn.input,{...r,ref:e})});x8.displayName="SliderHiddenInput";const _8=U.forwardRef((t,e)=>{const n=Yl(),i=On(n.getLabelProps(),t);return E.jsx(Kn.label,{...i,ref:e})});_8.displayName="SliderLabel";const b8=U.forwardRef((t,e)=>{const[n,i]=qd()(t,["value"]),r=Yl(),s=On(r.getMarkerProps(n),i);return E.jsx(Kn.span,{...s,ref:e})});b8.displayName="SliderMarker";const S8=U.forwardRef((t,e)=>{const n=Yl(),i=On(n.getMarkerGroupProps(),t);return E.jsx(Kn.div,{...i,ref:e})});S8.displayName="SliderMarkerGroup";const w8=U.forwardRef((t,e)=>{const n=Yl(),i=On(n.getRangeProps(),t);return E.jsx(Kn.div,{...i,ref:e})});w8.displayName="SliderRange";function kne(t,e){if(!t){e(void 0);return}e({width:t.offsetWidth,height:t.offsetHeight});const n=t.ownerDocument.defaultView??window,i=new n.ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const[s]=r;let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;e({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}function Nne(t){const{getNodes:e,observeMutation:n=!0,callback:i}=t,r=[];let s=null;function o(){const a=e();s=a[0];const l=a.map((c,d)=>kne(c,h=>{i(h,d)}));r.push(...l)}if(o(),n){const a=One(s,o);r.push(a)}return()=>{r.forEach(a=>{a==null||a()})}}function One(t,e){var r;if(!t||!t.parentElement)return;const n=((r=t.ownerDocument)==null?void 0:r.defaultView)??window,i=new n.MutationObserver(()=>{e()});return i.observe(t.parentElement,{childList:!0}),()=>{i.disconnect()}}var E8=Kt("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),Cl=E8.build(),C8=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},T8=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.thumb)==null?void 0:i.call(n,e))??`slider:${t.id}:thumb:${e}`},v2=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:i.call(n,e))??`slider:${t.id}:input:${e}`},M8=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},Lne=t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},Dne=t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},LL=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},Fne=t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},zne=(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.marker)==null?void 0:i.call(n,e))??`slider:${t.id}:marker:${e}`},Une=t=>t.getById(C8(t)),Bne=(t,e)=>t.getById(T8(t,e)),A8=(t,e)=>t.getById(v2(t,e)),P8=t=>t.getById(M8(t)),R8=t=>$y(P8(t),"[role=slider]"),Vne=t=>R8(t)[0],DL=(t,e)=>{const{prop:n,scope:i}=t,r=P8(i);if(!r)return;const o=CR(e,r).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return NR(o,n("min"),n("max"),n("step"))},jne=(t,e)=>{e.forEach((n,i)=>{const r=A8(t,i);r&&PV(r,{value:n})})};function Hne(t){const e=t[0],n=t[t.length-1];return[e,n]}function Wne(t){const{prop:e,computed:n}=t,i=n("valuePercent"),[r,s]=Hne(i);if(i.length===1){if(e("origin")==="center"){const o=i[0]<50,a=o?`${i[0]}%`:"50%",l=o?"50%":`${100-i[0]}%`;return{start:a,end:l}}return e("origin")==="end"?{start:`${s}%`,end:"0%"}:{start:"0%",end:`${100-s}%`}}return{start:`${r}%`,end:`${100-s}%`}}function Gne(t){const{computed:e}=t,n=e("isVertical"),i=e("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[i?"right":"left"]:"var(--slider-range-start)",[i?"left":"right"]:"var(--slider-range-end)"}}function $ne(t,e){const{context:n,prop:i}=t,{height:r=0}=n.get("thumbSize")??{},s=o2([i("min"),i("max")],[-r/2,r/2]);return parseFloat(s(e).toFixed(2))}function qne(t,e){const{computed:n,context:i,prop:r}=t,{width:s=0}=i.get("thumbSize")??{};if(n("isRtl")){const l=o2([r("max"),r("min")],[-s/2,s/2]);return-1*parseFloat(l(e).toFixed(2))}const a=o2([r("min"),r("max")],[-s/2,s/2]);return parseFloat(a(e).toFixed(2))}function Xne(t,e,n){const{computed:i,prop:r}=t;if(r("thumbAlignment")==="center")return`${e}%`;const s=i("isVertical")?$ne(t,n):qne(t,n);return`calc(${e}% - ${s}px)`}function I8(t,e){const{prop:n}=t,i=_E(e,n("min"),n("max"))*100;return Xne(t,i,e)}function k8(t){const{computed:e,prop:n}=t;let i="visible";return n("thumbAlignment")==="contain"&&!e("hasMeasuredThumbSize")&&(i="hidden"),i}function FL(t,e){const{computed:n}=t,i=n("isVertical")?"bottom":"insetInlineStart";return{visibility:k8(t),position:"absolute",transform:"var(--slider-thumb-transform)",[i]:`var(--slider-thumb-offset-${e})`}}function Yne(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function Kne(t){const{context:e,computed:n}=t,i=n("isVertical"),r=n("isRtl"),s=Wne(t),o=e.get("thumbSize");return{...e.get("value").reduce((l,c,d)=>{const h=I8(t,c);return{...l,[`--slider-thumb-offset-${d}`]:h}},{}),"--slider-thumb-width":KO(o==null?void 0:o.width),"--slider-thumb-height":KO(o==null?void 0:o.height),"--slider-thumb-transform":i?"translateY(50%)":r?"translateX(50%)":"translateX(-50%)","--slider-range-start":s.start,"--slider-range-end":s.end}}function Jne(t,e){const{computed:n}=t,i=n("isHorizontal"),r=n("isRtl");return{visibility:k8(t),position:"absolute",pointerEvents:"none",[i?"insetInlineStart":"bottom"]:I8(t,e),translate:"var(--tx) var(--ty)","--tx":i?r?"50%":"-50%":"0%","--ty":i?"0%":"50%"}}function Qne(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function Zne(t,e){return e.map((n,i)=>y2(t,n,i))}function Rd(t,e){const{context:n,prop:i}=t;return HV(n.get("value"),i("min"),i("max"),i("minStepsBetweenThumbs"))[e]}function y2(t,e,n){const{prop:i}=t,r=Rd(t,n),s=qy(e,i("min"),i("max"),i("step"));return Ir(s,r.min,r.max)}function eie(t,e,n){const{context:i,prop:r}=t,s=e??i.get("focusedIndex"),o=Rd(t,s),a=fQ(s,{...o,step:n??r("step"),values:i.get("value")});return a[s]=Ir(a[s],o.min,o.max),a}function tie(t,e,n){const{context:i,prop:r}=t,s=e??i.get("focusedIndex"),o=Rd(t,s),a=dQ(s,{...o,step:n??r("step"),values:i.get("value")});return a[s]=Ir(a[s],o.min,o.max),a}function nie(t,e){const{context:n}=t;return hQ(n.get("value"),e)}function iie(t,e){const{state:n,send:i,context:r,prop:s,computed:o,scope:a}=t,l=s("aria-label"),c=s("aria-labelledby"),d=r.get("value"),h=r.get("focusedIndex"),p=n.matches("focus"),v=n.matches("dragging"),y=o("isDisabled"),b=s("invalid"),S=o("isInteractive"),_=s("orientation")==="horizontal",w=s("orientation")==="vertical";function C(R){return _E(R,s("min"),s("max"))}function A(R){return NR(R,s("min"),s("max"),s("step"))}return{value:d,dragging:v,focused:p,setValue(R){i({type:"SET_VALUE",value:R})},getThumbValue(R){return d[R]},setThumbValue(R,O){i({type:"SET_VALUE",index:R,value:O})},getValuePercent:C,getPercentValue:A,getThumbPercent(R){return C(d[R])},setThumbPercent(R,O){const L=A(O);i({type:"SET_VALUE",index:R,value:L})},getThumbMin(R){return Rd(t,R).min},getThumbMax(R){return Rd(t,R).max},increment(R){i({type:"INCREMENT",index:R})},decrement(R){i({type:"DECREMENT",index:R})},focus(){S&&i({type:"FOCUS",index:0})},getLabelProps(){return e.label({...Cl.label.attrs,dir:s("dir"),"data-disabled":Yt(y),"data-orientation":s("orientation"),"data-invalid":Yt(b),"data-dragging":Yt(v),"data-focus":Yt(p),id:LL(a),htmlFor:v2(a,0),onClick(R){var O;S&&(R.preventDefault(),(O=Vne(a))==null||O.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return e.element({...Cl.root.attrs,"data-disabled":Yt(y),"data-orientation":s("orientation"),"data-dragging":Yt(v),"data-invalid":Yt(b),"data-focus":Yt(p),id:C8(a),dir:s("dir"),style:Kne(t)})},getValueTextProps(){return e.element({...Cl.valueText.attrs,dir:s("dir"),"data-disabled":Yt(y),"data-orientation":s("orientation"),"data-invalid":Yt(b),"data-focus":Yt(p),id:Fne(a)})},getTrackProps(){return e.element({...Cl.track.attrs,dir:s("dir"),id:Lne(a),"data-disabled":Yt(y),"data-invalid":Yt(b),"data-dragging":Yt(v),"data-orientation":s("orientation"),"data-focus":Yt(p),style:{position:"relative"}})},getThumbProps(R){var J;const{index:O=0,name:L}=R,z=d[O],N=Rd(t,O),k=(J=s("getAriaValueText"))==null?void 0:J({value:z,index:O}),B=Array.isArray(l)?l[O]:l,H=Array.isArray(c)?c[O]:c;return e.element({...Cl.thumb.attrs,dir:s("dir"),"data-index":O,"data-name":L,id:T8(a,O),"data-disabled":Yt(y),"data-orientation":s("orientation"),"data-focus":Yt(p&&h===O),"data-dragging":Yt(v&&h===O),draggable:!1,"aria-disabled":t2(y),"aria-label":B,"aria-labelledby":H??LL(a),"aria-orientation":s("orientation"),"aria-valuemax":N.max,"aria-valuemin":N.min,"aria-valuenow":d[O],"aria-valuetext":k,role:"slider",tabIndex:y?void 0:0,style:FL(t,O),onPointerDown(Z){S&&(i({type:"THUMB_POINTER_DOWN",index:O}),Z.stopPropagation())},onBlur(){S&&i({type:"BLUR"})},onFocus(){S&&i({type:"FOCUS",index:O})},onKeyDown(Z){if(Z.defaultPrevented||!S)return;const $=AV(Z)*s("step"),K={ArrowUp(){_||i({type:"ARROW_INC",step:$,src:"ArrowUp"})},ArrowDown(){_||i({type:"ARROW_DEC",step:$,src:"ArrowDown"})},ArrowLeft(){w||i({type:"ARROW_DEC",step:$,src:"ArrowLeft"})},ArrowRight(){w||i({type:"ARROW_INC",step:$,src:"ArrowRight"})},PageUp(){i({type:"ARROW_INC",step:$,src:"PageUp"})},PageDown(){i({type:"ARROW_DEC",step:$,src:"PageDown"})},Home(){i({type:"HOME"})},End(){i({type:"END"})}},W=aJ(Z,{dir:s("dir"),orientation:s("orientation")}),V=K[W];V&&(V(Z),Z.preventDefault(),Z.stopPropagation())}})},getHiddenInputProps(R){const{index:O=0,name:L}=R;return e.input({name:L??(s("name")?s("name")+(d.length>1?"[]":""):void 0),form:s("form"),type:"text",hidden:!0,defaultValue:d[O],id:v2(a,O)})},getRangeProps(){return e.element({id:Dne(a),...Cl.range.attrs,dir:s("dir"),"data-dragging":Yt(v),"data-focus":Yt(p),"data-invalid":Yt(b),"data-disabled":Yt(y),"data-orientation":s("orientation"),style:Gne(t)})},getControlProps(){return e.element({...Cl.control.attrs,dir:s("dir"),id:M8(a),"data-dragging":Yt(v),"data-disabled":Yt(y),"data-orientation":s("orientation"),"data-invalid":Yt(b),"data-focus":Yt(p),style:Yne(),onPointerDown(R){if(!S||!n2(R)||i2(R))return;const O=xR(R);i({type:"POINTER_DOWN",point:O}),R.preventDefault(),R.stopPropagation()}})},getMarkerGroupProps(){return e.element({...Cl.markerGroup.attrs,role:"presentation",dir:s("dir"),"aria-hidden":!0,"data-orientation":s("orientation"),style:Qne()})},getMarkerProps(R){const O=Jne(t,R.value);let L;return R.value<IR(d)?L="under-value":R.value>kR(d)?L="over-value":L="at-value",e.element({...Cl.marker.attrs,id:zne(a,R.value),role:"presentation",dir:s("dir"),"data-orientation":s("orientation"),"data-value":R.value,"data-disabled":Yt(y),"data-state":L,style:O})},getDraggingIndicatorProps(R){const{index:O=0}=R,L=O===h&&v;return e.element({...Cl.draggingIndicator.attrs,role:"presentation",dir:s("dir"),hidden:!L,"data-orientation":s("orientation"),"data-state":L?"open":"closed",style:FL(t,O)})}}}var rie=(t,e)=>(t==null?void 0:t.width)===(e==null?void 0:e.width)&&(t==null?void 0:t.height)===(e==null?void 0:e.height),zL=(t,e,n,i,r)=>HV(t,e,n,r*i).map(o=>{const a=qy(o.value,o.min,o.max,i);return Ir(a,o.min,o.max)}),sie={props({props:t}){const e=t.min??0,n=t.max??100,i=t.step??1,r=t.defaultValue??[e],s=t.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:s,...t,defaultValue:zL(r,e,n,i,s),value:t.value?zL(t.value,e,n,i,s):void 0,max:n,step:i,min:e}},initialState(){return"idle"},context({prop:t,bindable:e,getContext:n}){return{thumbSize:e(()=>({defaultValue:t("thumbSize")||null})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Jg,hash(i){return i.join(",")},onChange(i){var r;(r=t("onValueChange"))==null||r({value:i})}})),focusedIndex:e(()=>({defaultValue:-1,onChange(i){var s;const r=n();(s=t("onFocusChange"))==null||s({focusedIndex:i,value:r.get("value")})}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal",isVertical:({prop:t})=>t("orientation")==="vertical",isRtl:({prop:t})=>t("orientation")==="horizontal"&&t("dir")==="rtl",isDisabled:({context:t,prop:e})=>!!e("disabled")||t.get("fieldsetDisabled"),isInteractive:({prop:t,computed:e})=>!(t("readOnly")||e("isDisabled")),hasMeasuredThumbSize:({context:t})=>t.get("thumbSize")!=null,valuePercent({context:t,prop:e}){return t.get("value").map(n=>100*_E(n,e("min"),e("max")))}},watch({track:t,action:e,context:n}){t([()=>n.hash("value")],()=>{e(["syncInputElements","dispatchChangeEvent"])})},effects:["trackFormControlState","trackThumbsSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]}}}},implementations:{guards:{hasIndex:({event:t})=>t.index!=null},effects:{trackFormControlState({context:t,scope:e}){return yE(Une(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackPointerMove({scope:t,send:e}){return DV(t.getDoc(),{onPointerMove(n){e({type:"POINTER_MOVE",point:n.point})},onPointerUp(){e({type:"POINTER_UP"})}})},trackThumbsSize({context:t,scope:e,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return Nne({getNodes:()=>R8(e),observeMutation:!0,callback(i){!i||rie(t.get("thumbSize"),i)||t.set("thumbSize",i)}})}},actions:{dispatchChangeEvent({context:t,scope:e}){jne(e,t.get("value"))},syncInputElements({context:t,scope:e}){t.get("value").forEach((n,i)=>{const r=A8(e,i);Wx(r,n.toString())})},invokeOnChangeEnd({prop:t,context:e}){var n;(n=t("onValueChangeEnd"))==null||n({value:e.get("value")})},setClosestThumbIndex(t){const{context:e,event:n}=t,i=DL(t,n.point);if(i==null)return;const r=nie(t,i);e.set("focusedIndex",r)},setFocusedIndex({context:t,event:e}){t.set("focusedIndex",e.index)},clearFocusedIndex({context:t}){t.set("focusedIndex",-1)},setPointerValue(t){queueMicrotask(()=>{const{context:e,event:n}=t,i=DL(t,n.point);if(i==null)return;const r=e.get("focusedIndex"),s=y2(t,i,r);e.set("value",o=>ty(o,r,s))})},focusActiveThumb({scope:t,context:e}){Bn(()=>{const n=Bne(t,e.get("focusedIndex"));n==null||n.focus({preventScroll:!0})})},decrementThumbAtIndex(t){const{context:e,event:n}=t,i=eie(t,n.index,n.step);e.set("value",i)},incrementThumbAtIndex(t){const{context:e,event:n}=t,i=tie(t,n.index,n.step);e.set("value",i)},setFocusedThumbToMin(t){const{context:e}=t,n=e.get("focusedIndex"),{min:i}=Rd(t,n);e.set("value",r=>ty(r,n,i))},setFocusedThumbToMax(t){const{context:e}=t,n=e.get("focusedIndex"),{max:i}=Rd(t,n);e.set("value",r=>ty(r,n,i))},setValueAtIndex(t){const{context:e,event:n}=t,i=y2(t,n.value,n.index);e.set("value",r=>ty(r,n.index,i))},setValue(t){const{context:e,event:n}=t,i=Zne(t,n.value);e.set("value",i)}}}};an()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);an()(["index","name"]);const oie=t=>{const e=U.useId(),{getRootNode:n}=wE(),{dir:i}=PR(),r={id:e,dir:i,getRootNode:n,...t},s=SE(sie,r);return iie(s,LR)},N8=U.forwardRef((t,e)=>{const[n,i]=qd()(t,["aria-label","aria-labelledby","defaultValue","disabled","form","getAriaValueText","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]),r=oie(n),s=On(r.getRootProps(),i);return E.jsx(m8,{value:r,children:E.jsx(Kn.div,{...s,ref:e})})});N8.displayName="SliderRoot";const O8=U.forwardRef((t,e)=>{const[{value:n},i]=qd()(t,["value"]),r=On(n.getRootProps(),i);return E.jsx(m8,{value:n,children:E.jsx(Kn.div,{...r,ref:e})})});O8.displayName="SliderRootProvider";const L8=U.forwardRef((t,e)=>{const[n,i]=qd()(t,["index","name"]),r=Yl(),s=On(r.getThumbProps(n),i);return E.jsx(Ine,{value:n,children:E.jsx(Kn.div,{...s,ref:e})})});L8.displayName="SliderThumb";const D8=U.forwardRef((t,e)=>{const n=Yl(),i=On(n.getTrackProps(),t);return E.jsx(Kn.div,{...i,ref:e})});D8.displayName="SliderTrack";const F8=U.forwardRef((t,e)=>{const{children:n,...i}=t,r=Yl(),s=On(r.getValueTextProps(),i);return E.jsx(Kn.span,{...s,ref:e,children:n||r.value.join(", ")})});F8.displayName="SliderValueText";var z8=Kt("switch").parts("root","label","control","thumb");z8.build();an()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const aie=Symbol(),UL=Object.getPrototypeOf,x2=new WeakMap,lie=t=>t&&(x2.has(t)?x2.get(t):UL(t)===Object.prototype||UL(t)===Array.prototype),cie=t=>lie(t)&&t[aie]||null,BL=(t,e=!0)=>{x2.set(t,e)};function uie(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function U8(t,e){const n=uie();return n?(n[t]||(n[t]=e()),n[t]):e()}var aS=U8("__zag__refSet",()=>new WeakSet),die=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,fie=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,hie=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",pie=t=>die(t)||fie(t)||hie(t),_2=t=>t!==null&&typeof t=="object",VL=t=>_2(t)&&!aS.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!pie(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),yh=U8("__zag__proxyStateMap",()=>new WeakMap),mie=(t=Object.is,e=(a,l)=>new Proxy(a,l),n=new WeakMap,i=(a,l)=>{const c=n.get(a);if((c==null?void 0:c[0])===l)return c[1];const d=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return BL(d,!0),n.set(a,[l,d]),Reflect.ownKeys(a).forEach(h=>{const p=Reflect.get(a,h);aS.has(p)?(BL(p,!1),d[h]=p):yh.has(p)?d[h]=yie(p):d[h]=p}),Object.freeze(d)},r=new WeakMap,s=[1,1],o=a=>{if(!_2(a))throw new Error("object required");const l=r.get(a);if(l)return l;let c=s[0];const d=new Set,h=(L,z=++s[0])=>{c!==z&&(c=z,d.forEach(N=>N(L,z)))};let p=s[1];const v=(L=++s[1])=>(p!==L&&!d.size&&(p=L,b.forEach(([z])=>{const N=z[1](L);N>c&&(c=N)})),c),y=L=>(z,N)=>{const k=[...z];k[1]=[L,...k[1]],h(k,N)},b=new Map,S=(L,z)=>{if(d.size){const N=z[3](y(L));b.set(L,[z,N])}else b.set(L,[z])},_=L=>{var N;const z=b.get(L);z&&(b.delete(L),(N=z[1])==null||N.call(z))},w=L=>(d.add(L),d.size===1&&b.forEach(([N,k],B)=>{const H=N[3](y(B));b.set(B,[N,H])}),()=>{d.delete(L),d.size===0&&b.forEach(([N,k],B)=>{k&&(k(),b.set(B,[N]))})}),C=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),R=e(C,{deleteProperty(L,z){const N=Reflect.get(L,z);_(z);const k=Reflect.deleteProperty(L,z);return k&&h(["delete",[z],N]),k},set(L,z,N,k){var Z;const B=Reflect.has(L,z),H=Reflect.get(L,z,k);if(B&&(t(H,N)||r.has(N)&&t(H,r.get(N))))return!0;_(z),_2(N)&&(N=cie(N)||N);let J=N;if(!((Z=Object.getOwnPropertyDescriptor(L,z))!=null&&Z.set)){!yh.has(N)&&VL(N)&&(J=B8(N));const $=!aS.has(J)&&yh.get(J);$&&S(z,$)}return Reflect.set(L,z,J,k),h(["set",[z],N,H]),!0}});r.set(a,R);const O=[C,v,i,w];return yh.set(R,O),Reflect.ownKeys(a).forEach(L=>{const z=Object.getOwnPropertyDescriptor(a,L);z.get||z.set?Object.defineProperty(C,L,z):R[L]=a[L]}),R})=>[o,yh,aS,t,e,VL,n,i,r,s],[gie]=mie();function B8(t={}){return gie(t)}function vie(t,e,n){const i=yh.get(t);let r;const s=[],o=i[3];let a=!1;const c=o(d=>{s.push(d),r||(r=Promise.resolve().then(()=>{r=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function yie(t){const e=yh.get(t),[n,i,r]=e;return r(n,i())}var V8=Kt("tooltip").parts("trigger","arrow","arrowTip","positioner","content");V8.build();var xie=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},_ie=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},XT=t=>t.getById(xie(t)),jL=t=>t.getById(_ie(t)),Yf=B8({id:null}),{and:bie,not:HL}=np();bie("noVisibleTooltip",HL("hasPointerMoveOpened")),HL("hasPointerMoveOpened");an()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const Sie=(t,e)=>{var l;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,i]=t.split("/");if(!n||!i||n==="currentBg")return{invalid:!0,value:n};const r=e(`colors.${n}`),s=(l=e.raw(`opacity.${i}`))==null?void 0:l.value;if(!s&&isNaN(Number(i)))return{invalid:!0,value:n};const o=s?Number(s)*100+"%":`${i}%`,a=r??n;return{invalid:!1,color:a,value:`color-mix(in srgb, ${a} ${o}, transparent)`}},ni=t=>(e,n)=>{const i=n.utils.colorMix(e);if(i.invalid)return{[t]:e};const r="--mix-"+t;return{[r]:i.value,[t]:`var(${r}, ${i.color})`}};function b2(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>b2(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=b2(t[n]);return e}function S2(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!to(t[n])&&to(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&to(e[n]))S2(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let i=0;for(;i<e[n].length;i++)to(t[n][i])&&to(e[n][i])?S2(t[n][i],e[n][i]):t[n][i]=e[n][i]}else Object.assign(t,{[n]:e[n]});return t}function ev(t,...e){for(const n of e)S2(t,n);return t}const wie=t=>t,_r=t=>t,$t=t=>t,Eie=t=>t,Cie=t=>t,j8=t=>t,Tie=t=>t,Mie=t=>t,Aie=t=>t;function H8(){const t=e=>e;return new Proxy(t,{get(){return t}})}const ir=H8(),eI=H8(),W8=t=>t,G8=(...t)=>ev({},...t.map(b2)),Pie=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function Rie(t){return`${t}`.replace(Pie,e=>`\\${e}`)}const Iie=/[A-Z]/g;function kie(t){return t.replace(Iie,e=>`-${e.toLowerCase()}`)}function $8(t,e={}){const{fallback:n="",prefix:i=""}=e,r=kie(["-",i,Rie(t)].filter(Boolean).join("-"));return{var:r,ref:`var(${r}${n?`, ${n}`:""})`}}const Nie=t=>/^var\(--.+\)$/.test(t),Tr=(t,e)=>e!=null?`${t}(${e})`:e,Kf=t=>{if(Nie(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},WL=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const i=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":i,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":i,[t]:{outline:"none"}}}[e]??{}}}),Oie=ni("borderColor"),Dc=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),Lie=wie({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),ng=$8("bg-currentcolor"),GL=t=>t===ng.ref||t==="currentBg",ti=t=>({...t("colors"),currentBg:ng}),Die=W8({conditions:Lie,utilities:{background:{values:ti,shorthand:["bg"],transform(t,e){if(GL(e.raw))return{background:ng.ref};const n=ni("background")(t,e);return{...n,[ng.var]:n==null?void 0:n.background}}},backgroundColor:{values:ti,shorthand:["bgColor"],transform(t,e){if(GL(e.raw))return{backgroundColor:ng.ref};const n=ni("backgroundColor")(t,e);return{...n,[ng.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:ti,transform:ni("--gradient-from")},gradientTo:{values:ti,transform:ni("--gradient-to")},gradientVia:{values:ti,transform(t,e){return{...ni("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:ti,transform:ni("borderColor")},borderTopColor:{values:ti,transform:ni("borderTopColor")},borderBlockStartColor:{values:ti,transform:ni("borderBlockStartColor")},borderBottomColor:{values:ti,transform:ni("borderBottomColor")},borderBlockEndColor:{values:ti,transform:ni("borderBlockEndColor")},borderLeftColor:{values:ti,transform:ni("borderLeftColor")},borderInlineStartColor:{values:ti,shorthand:["borderStartColor"],transform:ni("borderInlineStartColor")},borderRightColor:{values:ti,transform:ni("borderRightColor")},borderInlineEndColor:{values:ti,shorthand:["borderEndColor"],transform:ni("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:ti,transform:ni("color")},fill:{values:ti,transform:ni("fill")},stroke:{values:ti,transform:ni("stroke")},accentColor:{values:ti,transform:ni("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:ti,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":Oie(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:ti,transform:ni("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":Tr("blur",t)})},brightness:{transform:t=>({"--brightness":Tr("brightness",t)})},contrast:{transform:t=>({"--contrast":Tr("contrast",t)})},grayscale:{transform:t=>({"--grayscale":Tr("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":Tr("hue-rotate",Kf(t))})},invert:{transform:t=>({"--invert":Tr("invert",t)})},saturate:{transform:t=>({"--saturate":Tr("saturate",t)})},sepia:{transform:t=>({"--sepia":Tr("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":Tr("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":Tr("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":Tr("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":Tr("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":Tr("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":Tr("hue-rotate",Kf(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":Tr("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":Tr("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":Tr("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":Tr("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:ti,transform:ni("outlineColor")},focusRing:WL("&:is(:focus, [data-focus])"),focusVisibleRing:WL("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:ti,transform:ni("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:ti,transform:ni("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:ti,transform:ni("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:ti,transform:ni("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:ti,transform:ni("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":Kf(t)})},skewY:{transform:t=>({"--skew-y":Kf(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:Kf(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":Kf(t)}}},rotateY:{transform(t){return{"--rotate-y":Kf(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Dc("all");case"position":return Dc("left, right, top, bottom, inset-inline, inset-block");case"colors":return Dc("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Dc("opacity");case"shadow":return Dc("box-shadow");case"transform":return Dc("transform");case"size":return Dc("width, height");case"backgrounds":return Dc("background, background-color, background-image, background-position");case"common":return Dc("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return Fie[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:ti,transform:ni("caretColor")},cursor:{values:"cursor"}}}),Fie={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var zie="",Uie=zie.split(","),Bie="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",Vie=Bie.split(",").concat(Uie),jie=new Map(Vie.map(t=>[t,!0]));function Hie(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var Wie=/&|@/,Gie=Hie(t=>jie.has(t)||t.startsWith("--")||Wie.test(t));const $ie=t=>t!=null;function cu(t,e,n={}){const{stop:i,getKey:r}=n;function s(o,a=[]){if(to(o)||Array.isArray(o)){const l={};for(const[c,d]of Object.entries(o)){const h=(r==null?void 0:r(c,d))??c,p=[...a,h];if(i!=null&&i(o,p))return e(o,a);const v=s(d,p);$ie(v)&&(l[h]=v)}return l}return e(o,a)}return s(t)}function q8(t,e){return Array.isArray(t)?t.map(n=>e(n)):to(t)?cu(t,n=>e(n)):t!=null?e(t):t}function qie(t,e){const n={};return cu(t,(i,r)=>{i&&(n[r.join(".")]=i.value)},{stop:e}),n}var YT,$L;function Xie(){if($L)return YT;$L=1,YT=s,s.default=s,s.stable=c,s.stableStringify=c;var t="[...]",e="[Circular]",n=[],i=[];function r(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(p,v,y,b){typeof b>"u"&&(b=r()),a(p,"",0,[],void 0,0,b);var S;try{i.length===0?S=JSON.stringify(p,v,y):S=JSON.stringify(p,h(v),y)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var _=n.pop();_.length===4?Object.defineProperty(_[0],_[1],_[3]):_[0][_[1]]=_[2]}}return S}function o(p,v,y,b){var S=Object.getOwnPropertyDescriptor(b,y);S.get!==void 0?S.configurable?(Object.defineProperty(b,y,{value:p}),n.push([b,y,v,S])):i.push([v,y,p]):(b[y]=p,n.push([b,y,v]))}function a(p,v,y,b,S,_,w){_+=1;var C;if(typeof p=="object"&&p!==null){for(C=0;C<b.length;C++)if(b[C]===p){o(e,p,v,S);return}if(typeof w.depthLimit<"u"&&_>w.depthLimit){o(t,p,v,S);return}if(typeof w.edgesLimit<"u"&&y+1>w.edgesLimit){o(t,p,v,S);return}if(b.push(p),Array.isArray(p))for(C=0;C<p.length;C++)a(p[C],C,C,b,p,_,w);else{var A=Object.keys(p);for(C=0;C<A.length;C++){var R=A[C];a(p[R],R,C,b,p,_,w)}}b.pop()}}function l(p,v){return p<v?-1:p>v?1:0}function c(p,v,y,b){typeof b>"u"&&(b=r());var S=d(p,"",0,[],void 0,0,b)||p,_;try{i.length===0?_=JSON.stringify(S,v,y):_=JSON.stringify(S,h(v),y)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var w=n.pop();w.length===4?Object.defineProperty(w[0],w[1],w[3]):w[0][w[1]]=w[2]}}return _}function d(p,v,y,b,S,_,w){_+=1;var C;if(typeof p=="object"&&p!==null){for(C=0;C<b.length;C++)if(b[C]===p){o(e,p,v,S);return}try{if(typeof p.toJSON=="function")return}catch{return}if(typeof w.depthLimit<"u"&&_>w.depthLimit){o(t,p,v,S);return}if(typeof w.edgesLimit<"u"&&y+1>w.edgesLimit){o(t,p,v,S);return}if(b.push(p),Array.isArray(p))for(C=0;C<p.length;C++)d(p[C],C,C,b,p,_,w);else{var A={},R=Object.keys(p).sort(l);for(C=0;C<R.length;C++){var O=R[C];d(p[O],O,C,b,p,_,w),A[O]=p[O]}if(typeof S<"u")n.push([S,v,p]),S[v]=A;else return A}b.pop()}}function h(p){return p=typeof p<"u"?p:function(v,y){return y},function(v,y){if(i.length>0)for(var b=0;b<i.length;b++){var S=i[b];if(S[1]===v&&S[0]===y){y=S[2],i.splice(b,1);break}}return p.call(this,v,y)}}return YT}var Yie=Xie();const Kie=Bx(Yie),qa=t=>{const e=Object.create(null);function n(...i){const r=i.map(s=>Kie(s)).join("|");return e[r]===void 0&&(e[r]=t(...i)),e[r]}return n},X8=16,jS="px",tI="em",gy="rem";function Y8(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${jS}|${tI}|${gy}`),i=t.match(new RegExp(`${e.source}(${n.source})`));return i==null?void 0:i[1]}function K8(t=""){if(typeof t=="number")return`${t}px`;const e=Y8(t);if(!e||e===jS)return t;if(e===tI||e===gy)return`${parseFloat(t)*X8}${jS}`}function J8(t=""){const e=Y8(t);if(!e||e===gy)return t;if(e===tI)return`${parseFloat(t)}${gy}`;if(e===jS)return`${parseFloat(t)/X8}${gy}`}const Jie=t=>t.charAt(0).toUpperCase()+t.slice(1);function Qie(t){const e=Zie(t),n=Object.fromEntries(e);function i(p){return n[p]}function r(p){return xm(i(p))}function s(){const p=Object.keys(n),v=ere(p),y=p.flatMap(b=>{const S=i(b),_=[`${b}Down`,xm({max:lS(S.min)})],w=[b,xm({min:S.min})],C=[`${b}Only`,r(b)];return[w,C,_]}).filter(([,b])=>b!=="").concat(v.map(([b,S])=>{const _=i(b),w=i(S);return[`${b}To${Jie(S)}`,xm({min:_.min,max:lS(w.min)})]}));return Object.fromEntries(y)}function o(){const p=s();return Object.fromEntries(Object.entries(p))}const a=o(),l=p=>a[p];function c(){return["base",...Object.keys(n)]}function d(p){return xm({min:i(p).min})}function h(p){return xm({max:lS(i(p).min)})}return{values:Object.values(n),only:r,keys:c,conditions:a,getCondition:l,up:d,down:h}}function lS(t){const e=parseFloat(K8(t)??"")-.04;return J8(`${e}px`)}function Zie(t){return Object.entries(t).sort(([,n],[,i])=>parseInt(n,10)<parseInt(i,10)?-1:1).map(([n,i],r,s)=>{var a;let o=null;return r<=s.length-1&&(o=(a=s[r+1])==null?void 0:a[1]),o!=null&&(o=lS(o)),[n,{name:n,min:J8(i),max:o}]})}function ere(t){const e=[];return t.forEach((n,i)=>{let r=i;r++;let s=t[r];for(;s;)e.push([n,s]),r++,s=t[r]}),e}function xm({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const tre=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,i])=>e(n,i))),nre=t=>{const{breakpoints:e,conditions:n={}}=t,i=tre(n,(d,h)=>[`_${d}`,h]),r=Object.assign({},i,e.conditions);function s(){return Object.keys(r)}function o(d){return s().includes(d)||/^@|&|&$/.test(d)||d.startsWith("_")}function a(d){return d.filter(h=>h!=="base").sort((h,p)=>{const v=o(h),y=o(p);return v&&!y?1:!v&&y?-1:0})}function l(d){return d.startsWith("@breakpoint")?e.getCondition(d.replace("@breakpoint ","")):d}function c(d){return Reflect.get(r,d)||d}return{keys:s,sort:a,has:o,resolve:c,breakpoints:e.keys(),expandAtRule:l}},Q8=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),ire=Q8("width"),rre=Q8("height"),Z8=t=>({isMin:QL(t.minMax,t.maxMin,t.min),isMax:QL(t.maxMin,t.minMax,t.max)}),{isMin:w2,isMax:qL}=Z8(ire),{isMin:E2,isMax:XL}=Z8(rre),YL=/print/i,KL=/^print$/i,sre=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,ore=/(\d)/,sy=Number.MAX_VALUE,are={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function JL(t){const e=sre.exec(t)||(w2(t)||E2(t)?ore.exec(t):null);if(!e)return sy;if(e[0]==="0")return 0;const n=parseFloat(e[1]),i=e[2];return n*(are[i]||1)}function QL(t,e,n){return i=>t.test(i)||!e.test(i)&&n.test(i)}function lre(t,e){const n=YL.test(t),i=KL.test(t),r=YL.test(e),s=KL.test(e);return n&&r?!i&&s?1:i&&!s?-1:t.localeCompare(e):n?1:r?-1:null}const cre=qa((t,e)=>{const n=lre(t,e);if(n!==null)return n;const i=w2(t)||E2(t),r=qL(t)||XL(t),s=w2(e)||E2(e),o=qL(e)||XL(e);if(i&&o)return-1;if(r&&s)return 1;const a=JL(t),l=JL(e);return a===sy&&l===sy?t.localeCompare(e):a===sy?1:l===sy?-1:a!==l?a>l?r?-1:1:r?1:-1:t.localeCompare(e)});function ZL(t){return t.sort(([e],[n])=>cre(e,n))}function ej(t){const e=[],n=[],i={};for(const[o,a]of Object.entries(t))o.startsWith("@media")?e.push([o,a]):o.startsWith("@container")?n.push([o,a]):to(a)?i[o]=ej(a):i[o]=a;const r=ZL(e),s=ZL(n);return{...i,...Object.fromEntries(r),...Object.fromEntries(s)}}const tj=/\s*!(important)?/i,ure=t=>$l(t)?tj.test(t):!1,dre=t=>$l(t)?t.replace(tj,"").trim():t;function nj(t){const{transform:e,conditions:n,normalize:i}=t,r=pre(t);return qa(function(...o){const a=r(...o),l=i(a),c=Object.create(null);return cu(l,(d,h)=>{const p=ure(d);if(d==null)return;const[v,...y]=n.sort(h).map(n.resolve);p&&(d=dre(d));let b=e(v,d)??Object.create(null);b=cu(b,S=>$l(S)&&p?`${S} !important`:S,{getKey:S=>n.expandAtRule(S)}),fre(c,y.flat(),b)}),ej(c)})}function fre(t,e,n){let i=t;for(const r of e)r&&(i[r]||(i[r]=Object.create(null)),i=i[r]);ev(i,n)}function hre(...t){return t.filter(e=>to(e)&&Object.keys(jx(e)).length>0)}function pre(t){function e(n){const i=hre(...n);return i.length===1?i:i.map(r=>t.normalize(r))}return qa(function(...i){return ev({},...e(i))})}function ij(t,e=[]){const n=Object.assign({},t);for(const i of e)i in n&&delete n[i];return n}const mre=(...t)=>{const e=t.filter(Boolean);return Array.from(new Set(e))},rj=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function gre(t){const{css:e,conditions:n,normalize:i,layers:r}=t;function s(a={}){const{base:l,variants:c,defaultVariants:d,compoundVariants:h}=rj(a),p=nj({conditions:n,normalize:i,transform(w,C){var A;return(A=c[w])==null?void 0:A[C]}}),v=(w={})=>{const C=i({...d,...jx(w)});let A={...l};ev(A,p(C));const R=o(h,C);return r.wrap("recipes",e(A,R))},y=Object.keys(c),b=w=>{const C=ij(w,["recipe"]),[A,R]=vg(C,y);return y.includes("colorPalette")||(A.colorPalette=w.colorPalette||d.colorPalette),y.includes("orientation")&&(R.orientation=w.orientation),[A,R]},S=Object.fromEntries(Object.entries(c).map(([w,C])=>[w,Object.keys(C)]));return Object.assign(w=>e(v(w)),{className:a.className,__cva__:!0,variantMap:S,variantKeys:y,raw:v,config:a,splitVariantProps:b,merge(w){return s(vre(t)(this,w))}})}function o(a,l){let c={};return a.forEach(d=>{Object.entries(d).every(([p,v])=>p==="css"?!0:(Array.isArray(v)?v:[v]).some(b=>l[p]===b))&&(c=e(c,d.css))}),c}return s}function vre(t){const{css:e}=t;return function(i,r){const s=rj(r.config),o=mre(i.variantKeys,Object.keys(r.variants)),a=e(i.base,s.base),l=Object.fromEntries(o.map(p=>[p,e(i.config.variants[p],s.variants[p])])),c=ev(i.config.defaultVariants,s.defaultVariants),d=[...i.compoundVariants,...s.compoundVariants];return{className:la(i.className,r.className),base:a,variants:l,defaultVariants:c,compoundVariants:d}}}const yre={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},e3={reset:0,base:1,tokens:2,recipes:3};function xre(t){const e=t.layers??yre,i=Object.values(e).sort((r,s)=>e3[r]-e3[s]);return{names:i,atRule:`@layer ${i.join(", ")};`,wrap(r,s){return t.disableLayers?s:{[`@layer ${e[r]}`]:s}}}}function _re(t){const{utility:e,normalize:n}=t,{hasShorthand:i,resolveShorthand:r}=e;return function(s){return cu(s,n,{stop:o=>Array.isArray(o),getKey:i?r:void 0})}}function bre(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:i="parent"}=to(e)?e:{};let r="";n&&i==="parent"?r=`${n} `:n&&i==="element"&&(r=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(i==="element"){const a=Object.entries(s).reduce((l,[c,d])=>(l[c]={[r]:d},l),{});Object.assign(o,a)}else r?o[r]=s:Object.assign(o,s);return o}function Sre(t){const{conditions:e,isValidProperty:n}=t;return function(r){return cu(r,s=>s,{getKey:(s,o)=>to(o)&&!e.has(s)&&!n(s)?wre(s).map(a=>"&"+a).join(", "):s})}}function wre(t){const e=[];let n=0,i="",r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="\\"&&!r){r=!0,i+=o;continue}if(r){r=!1,i+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(i.trim()),i=""):i+=o}return i&&e.push(i.trim()),e}const Ere=(t={})=>{const e=r=>{var s;return{base:((s=t.base)==null?void 0:s[r])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?Cre(t.compoundVariants,r):[]}},i=(t.slots??[]).map(r=>[r,e(r)]);for(const[r,s]of Object.entries(t.variants??{}))for(const[o,a]of Object.entries(s))i.forEach(([l,c])=>{var d;(d=c.variants)[r]??(d[r]={}),c.variants[r][o]=a[l]??{}});return Object.fromEntries(i)},Cre=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function Tre(t){const{cva:e}=t;return function(i={}){const r=Object.entries(Ere(i)).map(([h,p])=>[h,e(p)]);function s(h){const p=r.map(([v,y])=>[v,y(h)]);return Object.fromEntries(p)}const o=i.variants??{},a=Object.keys(o);function l(h){var b;const p=ij(h,["recipe"]),[v,y]=vg(p,a);return a.includes("colorPalette")||(v.colorPalette=h.colorPalette||((b=i.defaultVariants)==null?void 0:b.colorPalette)),a.includes("orientation")&&(y.orientation=h.orientation),[v,y]}const c=Object.fromEntries(Object.entries(o).map(([h,p])=>[h,Object.keys(p)]));let d={};return i.className&&(d=Object.fromEntries(i.slots.map(h=>[h,`${i.className}__${h}`]))),Object.assign(s,{variantMap:c,variantKeys:a,splitVariantProps:l,classNameMap:d})}}const Mre=()=>t=>Array.from(new Set(t)),Are=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,Pre=function(t,e){return e?t==="\0"?"":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},sj=t=>(t+"").replace(Are,Pre),oj=(t,e)=>{let n="",i=0,r="char",s="",o="";const a=[];for(;i<t.length;){const l=t[i];if(l==="{"){const d=t.indexOf("}",i);if(d===-1)break;const h=t.slice(i+1,d),p=e(h);n+=p??h,i=d+1;continue}if(r==="token"&&l===","){t[i]===""&&i++,r="fallback",a.push(r);const d=e(s);d!=null&&d.endsWith(")")&&(n+=d.slice(0,-1)),s="",o="";continue}if(r==="fallback"&&o+l===", var("){const p=Rre(t.slice(i+1))+i+1,v=t.slice(i+1,p);if(p===-1)break;n+=", var("+v+")",i=p+1,r=a.pop()??r,o="";continue}if(r==="token"||r==="fallback"){if(i++,l===")"){r=a.pop()??r??"char",o+=l;const d=s&&(e(s)??sj(s));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const p=oj(o,e);p&&(o=p.slice(0,-1))}else if(o){const p=e(o);p&&(o=p)}}const h=n.at(-1);o?h!=null&&h.trim()?n+=d.slice(0,-1)+(", "+o+")"):n+=o:n+=d||")",s="",o="",r="char";continue}r==="token"&&(s+=l),r==="fallback"&&(o+=l);continue}const c=t.indexOf("token(",i);if(c!==-1){const d=c+6;n+=t.slice(i,c),i=d,r="token",a.push(r);continue}n+=l,i++}return n},Rre=t=>{let e=0;const n=["("];for(;e<t.length;){const i=t[e];if(i==="(")n.push(i);else if(i===")"&&(n.pop(),n.length===0))return e;e++}return e};function aj(t){const e={};return t.forEach((n,i)=>{n instanceof Map?e[i]=Object.fromEntries(n):e[i]=n}),e}const lj=/({([^}]*)})/g,Ire=/[{}]/g,kre=/\w+\.\w+/,cj=t=>{if(!$l(t))return[];const e=t.match(lj);return e?e.map(n=>n.replace(Ire,"")).map(n=>n.trim()):[]},Nre=t=>lj.test(t);function uj(t){var n,i,r;if(!((n=t.extensions)!=null&&n.references))return((r=(i=t.extensions)==null?void 0:i.cssVar)==null?void 0:r.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((s,o)=>{const a=e[o];if(a.extensions.conditions)return s;const l=uj(a);return s.replace(`{${o}}`,l)},t.value),delete t.extensions.references,t.value}function dj(t){return to(t)&&t.reference?t.reference:String(t)}const PE=(t,...e)=>e.map(dj).join(` ${t} `).replace(/calc/g,""),t3=(...t)=>`calc(${PE("+",...t)})`,n3=(...t)=>`calc(${PE("-",...t)})`,C2=(...t)=>`calc(${PE("*",...t)})`,i3=(...t)=>`calc(${PE("/",...t)})`,r3=t=>{const e=dj(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:C2(e,-1)},Jm=Object.assign(t=>({add:(...e)=>Jm(t3(t,...e)),subtract:(...e)=>Jm(n3(t,...e)),multiply:(...e)=>Jm(C2(t,...e)),divide:(...e)=>Jm(i3(t,...e)),negate:()=>Jm(r3(t)),toString:()=>t.toString()}),{add:t3,subtract:n3,multiply:C2,divide:i3,negate:r3}),Ore={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:i,formatTokenName:r,registerToken:s}=t;n.filter(({extensions:a})=>a.category==="spacing").forEach(a=>{const l=a.path.slice(),c=i(l,e);if($l(a.value)&&a.value==="0rem")return;const d=structuredClone(a);Object.assign(d.extensions,{negative:!0,prop:`-${a.extensions.prop}`,originalPath:l}),d.value=Jm.negate(c.ref);const h=d.path[d.path.length-1];h!=null&&(d.path[d.path.length-1]=`-${h}`),d.path&&(d.name=r(d.path)),s(d)})}},Lre=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),Dre={enforce:"post",transform(t){t.allTokens.filter(n=>Lre.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:K8(n.value)})})}},Fre={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:i}=t,r=e.filter(({extensions:a})=>a.category==="colors"),s=new Map,o=new Map;r.forEach(a=>{const{colorPalette:l}=a.extensions;l&&(l.keys.forEach(c=>{s.set(i(c),c)}),l.roots.forEach(c=>{var p;const d=i(c),h=o.get(d)||[];if(h.push(a),o.set(d,h),a.extensions.default&&c.length===1){const v=(p=l.keys[0])==null?void 0:p.filter(Boolean);if(!v.length)return;const y=c.concat(v);s.set(i(y),[])}}))}),s.forEach(a=>{const l=["colors","colorPalette",...a].filter(Boolean),c=i(l),d=i(l.slice(1));n({name:c,value:c,originalValue:c,path:l,extensions:{condition:"base",originalPath:l,category:"colors",prop:d,virtual:!0}},"pre")})}},zre={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},Ure=[Ore,Fre,Dre,zre],Bre={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:i}=e,{negative:r,originalPath:s}=t.extensions,o=r?s:t.path;return{cssVar:i(o.filter(Boolean),n)}}},Vre={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:i}=e,r=cj(t.value);return r.length&&r.forEach(s=>{const o=i(s.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},jre={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const a=[...t.path];a.shift(),n=a}if(n.length===0)return{};const i=n.reduce((a,l,c,d)=>{const h=d.slice(0,c+1);return a.push(h),a},[]),r=n[0],s=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(r)+1).reduce((a,l,c,d)=>(a.push(d.slice(c)),a),[]);return o.length===0&&o.push([""]),{colorPalette:{value:s,roots:i,keys:o}}}},Hre=[Bre,Vre,jre],s3=t=>to(t)&&Object.prototype.hasOwnProperty.call(t,"value");function Wre(t){return t?{breakpoints:q8(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function Gre(t){const{prefix:e="",tokens:n={},semanticTokens:i={},breakpoints:r={}}=t,s=me=>me.join("."),o=(me,ve)=>$8(me.join("-"),{prefix:ve}),a=[],l=new Map,c=new Map,d=new Map,h=new Map,p=new Map,v=new Map,y=new Map,b=new Map,S=[];function _(me,ve){a.push(me),l.set(me.name,me),ve&&b.forEach(Ve=>{Ve.enforce===ve&&te(Ve,me)})}const w=Wre(r),C=jx({...n,breakpoints:w.breakpoints,sizes:{...n.sizes,...w.sizes}});function A(){cu(C,(me,ve)=>{const Ve=ve.includes("DEFAULT");ve=o3(ve);const lt=ve[0],ee=s(ve),Re=$l(me)?{value:me}:me,Ue={value:Re.value,originalValue:Re.value,name:ee,path:ve,extensions:{condition:"base",originalPath:ve,category:lt,prop:s(ve.slice(1))}};Ve&&(Ue.extensions.default=!0),_(Ue)},{stop:s3}),cu(i,(me,ve)=>{const Ve=ve.includes("DEFAULT");ve=fj(o3(ve));const lt=ve[0],ee=s(ve),Re=$l(me.value)?{value:{base:me.value}}:me,Ue={value:Re.value.base||"",originalValue:Re.value.base||"",name:ee,path:ve,extensions:{originalPath:ve,category:lt,conditions:Re.value,condition:"base",prop:s(ve.slice(1))}};Ve&&(Ue.extensions.default=!0),_(Ue)},{stop:s3})}function R(me){return l.get(me)}function O(me){const{condition:ve}=me.extensions;ve&&(c.has(ve)||c.set(ve,new Set),c.get(ve).add(me))}function L(me){const{category:ve,prop:Ve}=me.extensions;ve&&(y.has(ve)||y.set(ve,new Map),y.get(ve).set(Ve,me))}function z(me){const{condition:ve,negative:Ve,virtual:lt,cssVar:ee}=me.extensions;Ve||lt||!ve||!ee||(d.has(ve)||d.set(ve,new Map),d.get(ve).set(ee.var,me.value))}function N(me){const{category:ve,prop:Ve,cssVar:lt,negative:ee}=me.extensions;if(!ve)return;v.has(ve)||v.set(ve,new Map);const Re=ee?me.extensions.conditions?me.originalValue:me.value:lt.ref;v.get(ve).set(Ve,Re),p.set([ve,Ve].join("."),Re)}function k(me){const{colorPalette:ve,virtual:Ve,default:lt}=me.extensions;!ve||Ve||ve.roots.forEach(ee=>{var nt;const Re=s(ee);h.has(Re)||h.set(Re,new Map);const Ue=qre([...me.path],[...ee]),tt=s(Ue),Ae=R(tt);if(!Ae||!Ae.extensions.cssVar)return;const{var:Tt}=Ae.extensions.cssVar;if(h.get(Re).set(Tt,me.extensions.cssVar.ref),lt&&ee.length===1){const ct=s(["colors","colorPalette"]),ie=R(ct);if(!ie)return;const q=s(me.path),_e=R(q);if(!_e)return;const Ne=(nt=ve.keys[0])==null?void 0:nt.filter(Boolean);if(!Ne.length)return;const Ie=s(ee.concat(Ne));h.has(Ie)||h.set(Ie,new Map),h.get(Ie).set(ie.extensions.cssVar.var,_e.extensions.cssVar.ref)}})}let B={};function H(){a.forEach(me=>{O(me),L(me),z(me),N(me),k(me)}),B=aj(v)}const J=(me,ve)=>{var Ae;if(!me||typeof me!="string")return{invalid:!0,value:me};const[Ve,lt]=me.split("/");if(!Ve||!lt)return{invalid:!0,value:Ve};const ee=ve(Ve),Re=(Ae=R(`opacity.${lt}`))==null?void 0:Ae.value;if(!Re&&isNaN(Number(lt)))return{invalid:!0,value:Ve};const Ue=Re?Number(Re)*100+"%":`${lt}%`,tt=ee??Ve;return{invalid:!1,color:tt,value:`color-mix(in srgb, ${tt} ${Ue}, transparent)`}},Z=qa((me,ve)=>p.get(me)??ve),$=qa(me=>B[me]||null),K=qa(me=>oj(me,ve=>{if(!ve)return;if(ve.includes("/")){const lt=J(ve,ee=>Z(ee));if(lt.invalid)throw new Error("Invalid color mix at "+ve+": "+lt.value);return lt.value}const Ve=Z(ve);return Ve||(kre.test(ve)?sj(ve):ve)})),W={prefix:e,allTokens:a,tokenMap:l,registerToken:_,getByName:R,formatTokenName:s,formatCssVar:o,flatMap:p,cssVarMap:d,categoryMap:y,colorPaletteMap:h,getVar:Z,getCategoryValues:$,expandReferenceInValue:K};function V(...me){me.forEach(ve=>{b.set(ve.name,ve)})}function X(...me){S.push(...me)}function te(me,ve){if(ve.extensions.references||hR(me.match)&&!me.match(ve))return;const lt=(ee=>me.transform(ee,W))(ve);switch(!0){case me.type==="extensions":Object.assign(ve.extensions,lt);break;case me.type==="value":ve.value=lt;break;default:ve[me.type]=lt;break}}function Y(me){S.forEach(ve=>{ve.enforce===me&&ve.transform(W)})}function oe(me){b.forEach(ve=>{ve.enforce===me&&a.forEach(Ve=>{te(ve,Ve)})})}function ke(){a.forEach(me=>{const ve=$re(me);!ve||ve.length===0||ve.forEach(Ve=>{_(Ve)})})}function he(me){return cj(me).map(Ve=>R(Ve)).filter(Boolean)}function Se(){a.forEach(me=>{if(!Nre(me.value))return;const ve=he(me.value);me.extensions.references=ve.reduce((Ve,lt)=>(Ve[lt.name]=lt,Ve),{})})}function Fe(){a.forEach(me=>{uj(me)})}function Pe(){Y("pre"),oe("pre"),ke(),Se(),Fe(),Y("post"),oe("post"),H()}return A(),V(...Hre),X(...Ure),Pe(),W}function o3(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function fj(t){return t.filter(e=>e!=="base")}function $re(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return cu(e,(i,r)=>{const s=fj(r);if(!s.length)return;const o=structuredClone(t);o.value=i,o.extensions.condition=s.join(":"),n.push(o)}),n}function qre(t,e){const n=t.findIndex((i,r)=>e.every((s,o)=>t[r+o]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}Mre()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function Xre(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function Yre(t){const e=Xre(t.config),n=t.tokens,i=new Map,r=new Map;function s(z,N){e[z]=N,o(z,N)}const o=(z,N)=>{const k=b(N);k&&(r.set(z,k),h(z,N))},a=()=>{for(const[z,N]of Object.entries(e))N&&o(z,N)},l=()=>{for(const[z,N]of Object.entries(e)){const{shorthand:k}=N??{};if(!k)continue;(Array.isArray(k)?k:[k]).forEach(H=>i.set(H,z))}},c=()=>{const z=aj(n.colorPaletteMap);s("colorPalette",{values:Object.keys(z),transform:qa(N=>z[N])})},d=new Map,h=(z,N)=>{if(!N)return;const k=b(N,H=>`type:Tokens["${H}"]`);if(typeof k=="object"&&k.type){d.set(z,new Set([`type:${k.type}`]));return}if(k){const H=new Set(Object.keys(k));d.set(z,H)}const B=d.get(z)??new Set;N.property&&d.set(z,B.add(`CssProperties["${N.property}"]`))},p=()=>{for(const[z,N]of Object.entries(e))N&&h(z,N)},v=(z,N)=>{const k=d.get(z)??new Set;d.set(z,new Set([...k,...N]))},y=()=>{const z=new Map;for(const[N,k]of d.entries()){if(k.size===0){z.set(N,["string"]);continue}const B=Array.from(k).map(H=>H.startsWith("CssProperties")?H:H.startsWith("type:")?H.replace("type:",""):JSON.stringify(H));z.set(N,B)}return z},b=(z,N)=>{const{values:k}=z,B=H=>{const J=N==null?void 0:N(H);return J?{[J]:J}:void 0};return $l(k)?(B==null?void 0:B(k))??n.getCategoryValues(k)??{}:Array.isArray(k)?k.reduce((H,J)=>(H[J]=J,H),{}):hR(k)?k(N?B:n.getCategoryValues):k},S=qa((z,N)=>({[z]:z.startsWith("--")?n.getVar(N,N):N})),_=Object.assign(n.getVar,{raw:z=>n.getByName(z)}),w=qa((z,N)=>{var Z;const k=R(z);$l(N)&&!N.includes("_EMO_")&&(N=n.expandReferenceInValue(N));const B=e[k];if(!B)return S(k,N);const H=(Z=r.get(k))==null?void 0:Z[N];if(!B.transform)return S(z,H??N);const J=$=>Sie($,_);return B.transform(H??N,{raw:N,token:_,utils:{colorMix:J}})});function C(){l(),c(),a(),p()}C();const A=i.size>0,R=qa(z=>i.get(z)??z);return{keys:()=>[...Array.from(i.keys()),...Object.keys(e)],hasShorthand:A,transform:w,shorthands:i,resolveShorthand:R,register:s,getTypes:y,addPropertyType:v}}function Kre(...t){const e=G8(...t),{theme:n={},utilities:i={},globalCss:r={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:a}=e,l=xre(e),c=Gre({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),d=Qie(n.breakpoints??{}),h=nre({conditions:e.conditions??{},breakpoints:d}),p=Yre({config:i,tokens:c});function v(){const{textStyles:V,layerStyles:X,animationStyles:te}=n,Y=jx({textStyle:V,layerStyle:X,animationStyle:te});for(const[oe,ke]of Object.entries(Y)){const he=qie(ke??{},Se=>to(Se)&&"value"in Se);p.register(oe,{values:Object.keys(he),transform(Se){return C(he[Se])}})}}v(),p.addPropertyType("animationName",Object.keys(n.keyframes??{}));const y=new Set(["css",...p.keys(),...h.keys()]),b=qa(V=>y.has(V)||Gie(V)),S=V=>Array.isArray(V)?V.reduce((X,te,Y)=>{const oe=h.breakpoints[Y];return te!=null&&(X[oe]=te),X},{}):V,_=_re({utility:p,normalize:S}),w=Sre({conditions:h,isValidProperty:b}),C=nj({transform:p.transform,conditions:h,normalize:_}),A=gre({css:C,conditions:h,normalize:_,layers:l}),R=Tre({cva:A});function O(){const V={};for(const[X,te]of c.cssVarMap.entries()){const Y=Object.fromEntries(te);if(Object.keys(Y).length===0)continue;const oe=X==="base"?s:h.resolve(X),ke=C(w({[oe]:Y}));ev(V,ke)}return l.wrap("tokens",V)}function L(){const V=Object.fromEntries(Object.entries(n.keyframes??{}).map(([te,Y])=>[`@keyframes ${te}`,Y])),X=Object.assign({},V,C(w(r)));return l.wrap("base",X)}function z(V){return vg(V,b)}function N(){const V=bre({preflight:a});return l.wrap("reset",V)}const k=Jre(c),B=(V,X)=>{var te;return((te=k.get(V))==null?void 0:te.value)||X};B.var=(V,X)=>{var te;return((te=k.get(V))==null?void 0:te.variable)||X};function H(V,X){var te;return((te=n.recipes)==null?void 0:te[V])??X}function J(V,X){var te;return((te=n.slotRecipes)==null?void 0:te[V])??X}function Z(V){return Object.hasOwnProperty.call(n.recipes??{},V)}function $(V){return Object.hasOwnProperty.call(n.slotRecipes??{},V)}function K(V){return Z(V)||$(V)}const W=[N(),L(),O()];return{$$chakra:!0,_config:e,_global:W,breakpoints:d,tokens:c,conditions:h,utility:p,token:B,properties:y,layers:l,isValidProperty:b,splitCssProps:z,normalizeValue:S,getTokenCss:O,getGlobalCss:L,getPreflightCss:N,css:C,cva:A,sva:R,getRecipe:H,getSlotRecipe:J,hasRecipe:K,isRecipe:Z,isSlotRecipe:$}}function Jre(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:i,virtual:r,conditions:s}=n.extensions,o=s||r?i.ref:n.value;e.set(n.name,{value:o,variable:i.ref})}),e}const Qre={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},KT="var(--chakra-empty,/*!*/ /*!*/)",Zre=Cie({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":KT,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,KT])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,KT])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),ese=Aie({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),tse=Mie({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),nI=_r({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),nse=_r({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),Gr=_r({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:ise,defaultVariants:rse}=nI,sse=_r({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:ise,defaultVariants:rse}),hj=_r({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),ose=_r({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),ase=_r({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),lse=_r({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),Qi=_r({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),cse=_r({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:Qi.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),use=_r({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),dse=_r({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),fse=_r({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),$r=_r({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),hse=_r({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),pse=_r({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),mse=_r({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),gse=_r({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),vse=_r({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),yse={badge:nI,button:nse,code:sse,container:ose,heading:ase,input:Qi,inputAddon:cse,kbd:use,link:dse,mark:fse,separator:hse,skeleton:pse,skipNavLink:mse,spinner:gse,textarea:vse,icon:lse,checkmark:Gr,radiomark:$r,colorSwatch:hj},xse=eI.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),_se=eI.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),bse=eI.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),Sse=p6.extendWith("itemBody"),wse=Kt("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),Ese=Kt("alert").parts("title","description","root","indicator","content"),Cse=Kt("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),Tse=Kt("blockquote").parts("root","icon","content","caption"),Mse=Kt("card").parts("root","header","body","footer","title","description"),Ase=Kt("checkbox-card",["root","control","label","description","addon","indicator","content"]),Pse=Kt("data-list").parts("root","item","itemLabel","itemValue"),Rse=KR.extendWith("header","body","footer","backdrop"),Ise=KR.extendWith("header","body","footer","backdrop"),kse=F6.extendWith("textarea"),Nse=Kt("empty-state",["root","content","indicator","title","description"]),Ose=z6.extendWith("requiredIndicator"),Lse=U6.extendWith("content"),Dse=B6.extendWith("itemContent","dropzoneContent","fileText"),Fse=Kt("list").parts("root","item","indicator"),zse=j6.extendWith("itemCommand"),Use=Kt("select").parts("root","field","indicator"),Bse=c8.extendWith("header","body","footer"),pj=ZR.extendWith("itemAddon","itemIndicator"),Vse=pj.extendWith("itemContent","itemDescription"),jse=d8.extendWith("itemIndicator"),Hse=h8.extendWith("indicatorGroup"),Wse=E8.extendWith("markerIndicator"),Gse=Kt("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),$se=Kt("status").parts("root","indicator"),qse=Kt("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),Xse=z8.extendWith("indicator"),Yse=Kt("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),Kse=Kt("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),Jse=Kt("tabs").parts("root","trigger","list","content","contentGroup","indicator"),Qse=Kt("tag").parts("root","label","closeTrigger","startElement","endElement"),Zse=Kt("timeline").parts("root","item","content","separator","indicator","connector","title","description"),eoe=Wee.extendWith("channelText"),toe=$t({className:"chakra-accordion",slots:Sse.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),noe=$t({className:"chakra-action-bar",slots:wse.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),ioe=$t({slots:Ese.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),roe=$t({slots:v6.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),soe=$t({className:"chakra-blockquote",slots:Tse.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),ooe=$t({className:"chakra-breadcrumb",slots:Cse.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),aoe=$t({className:"chakra-card",slots:Mse.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var JU,QU,ZU,eB,tB,nB,iB,rB,sB,oB,aB,lB,cB,uB;const loe=$t({slots:Hee.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:Gr.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(QU=(JU=Gr.variants)==null?void 0:JU.size)==null?void 0:QU.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(eB=(ZU=Gr.variants)==null?void 0:ZU.size)==null?void 0:eB.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(nB=(tB=Gr.variants)==null?void 0:tB.size)==null?void 0:nB.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(rB=(iB=Gr.variants)==null?void 0:iB.size)==null?void 0:rB.lg}},variant:{outline:{control:(oB=(sB=Gr.variants)==null?void 0:sB.variant)==null?void 0:oB.outline},solid:{control:(lB=(aB=Gr.variants)==null?void 0:aB.variant)==null?void 0:lB.solid},subtle:{control:(uB=(cB=Gr.variants)==null?void 0:cB.variant)==null?void 0:uB.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var dB,fB,hB,pB,mB,gB,vB;const coe=$t({slots:Ase.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:Gr.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(dB=Gr.variants)==null?void 0:dB.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(fB=Gr.variants)==null?void 0:fB.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(hB=Gr.variants)==null?void 0:hB.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(pB=Gr.variants)==null?void 0:pB.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(mB=Gr.variants)==null?void 0:mB.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(gB=Gr.variants)==null?void 0:gB.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(vB=Gr.variants)==null?void 0:vB.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),uoe=$t({slots:YV.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var yB,xB,_B,bB,SB,wB,EB,CB,TB,MB,AB,PB,RB,IB,kB,NB,OB,LB;const doe=$t({className:"colorPicker",slots:eoe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...hj.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...Qi.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(xB=(yB=Qi.variants)==null?void 0:yB.size)==null?void 0:xB["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(bB=(_B=Qi.variants)==null?void 0:_B.size)==null?void 0:bB.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(wB=(SB=Qi.variants)==null?void 0:SB.size)==null?void 0:wB.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(CB=(EB=Qi.variants)==null?void 0:EB.size)==null?void 0:CB.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(MB=(TB=Qi.variants)==null?void 0:TB.size)==null?void 0:MB.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(PB=(AB=Qi.variants)==null?void 0:AB.size)==null?void 0:PB.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(IB=(RB=Qi.variants)==null?void 0:RB.size)==null?void 0:IB["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(NB=(kB=Qi.variants)==null?void 0:kB.variant)==null?void 0:NB.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(LB=(OB=Qi.variants)==null?void 0:OB.variant)==null?void 0:LB.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),foe=$t({slots:Pse.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),hoe=$t({slots:Rse.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),poe=$t({slots:Ise.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),a3=j8({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),moe=$t({slots:kse.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...a3,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...a3,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),goe=$t({slots:Nse.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),voe=$t({className:"chakra-field",slots:Ose.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),yoe=$t({className:"fieldset",slots:Lse.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),xoe=$t({className:"chakra-file-upload",slots:Dse.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),_oe=$t({className:"chakra-hover-card",slots:V6.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),boe=$t({className:"chakra-list",slots:Fse.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),Soe=$t({className:"chakra-menu",slots:zse.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),cS=$t({className:"chakra-select",slots:Hse.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var DB,FB;const woe=$t({className:"chakra-native-select",slots:Use.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(DB=cS.variants)==null?void 0:DB.variant.outline.trigger},subtle:{field:(FB=cS.variants)==null?void 0:FB.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:cS.defaultVariants});function T2(t,e){const n={};for(const i in t){const r=e(i,t[i]);n[r[0]]=r[1]}return n}const l3=j8({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),Eoe=$t({className:"chakra-number-input",slots:Z6.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...Qi.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...l3,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...l3,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:Qi.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:Qi.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:Qi.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:Qi.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:T2(Qi.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:c3,defaultVariants:Coe}=Qi,Toe=$t({className:"chakra-pin-input",slots:l8.keys(),base:{input:{...Qi.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:T2(c3.size,(t,e)=>[t,{input:e}]),variant:T2(c3.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:Coe}),Moe=$t({className:"chakra-popover",slots:Bse.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),Aoe=$t({slots:QR.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),Poe=$t({className:"chakra-progress-circle",slots:QR.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),Roe=$t({slots:u8.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var zB,UB,BB,VB,jB,HB,WB;const Ioe=$t({className:"chakra-radio-card",slots:Vse.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:$r.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(zB=$r.variants)==null?void 0:zB.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(UB=$r.variants)==null?void 0:UB.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(BB=$r.variants)==null?void 0:BB.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(VB=$r.variants)==null?void 0:VB.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(jB=$r.variants)==null?void 0:jB.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(HB=$r.variants)==null?void 0:HB.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(WB=$r.variants)==null?void 0:WB.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var GB,$B,qB,XB,YB,KB,JB,QB,ZB,eV,tV,nV,iV,rV;const koe=$t({className:"chakra-radio-group",slots:pj.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:$r.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:($B=(GB=$r.variants)==null?void 0:GB.variant)==null?void 0:$B.outline},subtle:{itemControl:(XB=(qB=$r.variants)==null?void 0:qB.variant)==null?void 0:XB.subtle},solid:{itemControl:(KB=(YB=$r.variants)==null?void 0:YB.variant)==null?void 0:KB.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(QB=(JB=$r.variants)==null?void 0:JB.size)==null?void 0:QB.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(eV=(ZB=$r.variants)==null?void 0:ZB.size)==null?void 0:eV.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(nV=(tV=$r.variants)==null?void 0:tV.size)==null?void 0:nV.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(rV=(iV=$r.variants)==null?void 0:iV.size)==null?void 0:rV.lg}}},defaultVariants:{size:"md",variant:"solid"}}),Noe=$t({className:"chakra-rating-group",slots:jse.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),Ooe=$t({className:"chakra-segment-group",slots:f8.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),Loe=$t({className:"chakra-slider",slots:Wse.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),Doe=$t({className:"chakra-stat",slots:Gse.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),Foe=$t({className:"chakra-status",slots:$se.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),zoe=$t({className:"chakra-steps",slots:qse.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),Uoe=$t({slots:Xse.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),Boe=$t({className:"chakra-table",slots:Yse.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),Voe=$t({slots:Jse.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var sV;const Jo=(sV=nI.variants)==null?void 0:sV.variant,joe=$t({slots:Qse.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:Jo==null?void 0:Jo.subtle},solid:{root:Jo==null?void 0:Jo.solid},outline:{root:Jo==null?void 0:Jo.outline},surface:{root:Jo==null?void 0:Jo.surface}}},defaultVariants:{size:"md",variant:"surface"}}),Hoe=$t({slots:Zse.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),Woe=$t({slots:Kse.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),Goe=$t({slots:V8.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),$oe={accordion:toe,actionBar:noe,alert:ioe,avatar:roe,blockquote:soe,breadcrumb:ooe,card:aoe,checkbox:loe,checkboxCard:coe,collapsible:uoe,dataList:foe,dialog:hoe,drawer:poe,editable:moe,emptyState:goe,field:voe,fieldset:yoe,fileUpload:xoe,hoverCard:_oe,list:boe,menu:Soe,nativeSelect:woe,numberInput:Eoe,pinInput:Toe,popover:Moe,progress:Aoe,progressCircle:Poe,radioCard:Ioe,radioGroup:koe,ratingGroup:Noe,segmentGroup:Ooe,select:cS,slider:Loe,stat:Doe,steps:zoe,switch:Uoe,table:Boe,tabs:Voe,tag:joe,toast:Woe,tooltip:Goe,status:Foe,timeline:Hoe,colorPicker:doe,qrCode:Roe},qoe=Tie({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),Xoe=ir.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),Yoe=ir.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),Koe=ir.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),Joe=ir.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),Qoe=ir.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),Zoe=ir.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),eae=ir.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),tae=ir.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),nae=ir.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),iae=ir.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),u3='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',rae=ir.fonts({heading:{value:`Inter, ${u3}`},body:{value:`Inter, ${u3}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),sae=Eie({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),oae=ir.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),aae=ir.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),lae=ir.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),mj=ir.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),cae=ir.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),uae=ir.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),dae=ir.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),fae=ir.sizes({...cae,...mj,...dae,...uae}),hae=ir.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),pae=W8({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:Zre,theme:{breakpoints:Qre,keyframes:sae,tokens:{aspectRatios:Yoe,animations:Xoe,blurs:Koe,borders:Joe,colors:Qoe,durations:eae,easings:tae,fonts:rae,fontSizes:nae,fontWeights:iae,letterSpacings:oae,lineHeights:aae,radii:lae,spacing:mj,sizes:fae,zIndex:hae,cursor:Zoe},semanticTokens:{colors:xse,shadows:bse,radii:_se},recipes:yse,slotRecipes:$oe,textStyles:qoe,layerStyles:ese,animationStyles:tse}}),mae=G8(Die,pae),gae=Kre(mae);function vae(t){const{key:e,recipe:n}=t,i=gE();return U.useMemo(()=>{const r=n||(e!=null?i.getSlotRecipe(e):{});return i.sva(structuredClone(r))},[e,n,i])}const yae=t=>t.charAt(0).toUpperCase()+t.slice(1),iI=t=>{const{key:e,recipe:n}=t,i=yae(e||n.className||"Component"),[r,s]=hy({name:`${i}StylesContext`,errorMessage:`use${i}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `}),[o,a]=hy({name:`${i}ClassNameContext`,errorMessage:`use${i}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `,strict:!1}),[l,c]=hy({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`,defaultValue:{}});function d(y){const{unstyled:b,...S}=y,_=vae({key:e,recipe:S.recipe||n}),[w,C]=U.useMemo(()=>_.splitVariantProps(S),[S,_]);return{styles:U.useMemo(()=>b?EY:_(w),[b,w,_]),classNames:_.classNameMap,props:C}}function h(y,b={}){const{defaultProps:S}=b,_=w=>{const C=c(),A=U.useMemo(()=>Vy(S,C,w),[C,w]),{styles:R,classNames:O,props:L}=d(A);return E.jsx(r,{value:R,children:E.jsx(o,{value:O,children:E.jsx(y,{...L})})})};return _.displayName=y.displayName||y.name,_}return{StylesProvider:r,ClassNamesProvider:o,PropsProvider:l,usePropsContext:c,useRecipeResult:d,withProvider:(y,b,S)=>{const{defaultProps:_,...w}=S??{},C=Do(y,{},w),A=U.forwardRef((R,O)=>{var Z;const L=c(),z=U.useMemo(()=>Vy(_??{},L,R),[L,R]),{styles:N,props:k,classNames:B}=d(z),H=B[b],J=E.jsx(r,{value:N,children:E.jsx(o,{value:B,children:E.jsx(C,{ref:O,...k,css:[N[b],z.css],className:la(z.className,H)})})});return((Z=S==null?void 0:S.wrapElement)==null?void 0:Z.call(S,J,z))??J});return A.displayName=y.displayName||y.name,A},withContext:(y,b,S)=>{const _=Do(y,{},S),w=U.forwardRef((C,A)=>{const R=s(),O=a(),L=O==null?void 0:O[b];return E.jsx(_,{...C,css:[b?R[b]:void 0,C.css],ref:A,className:la(C.className,L)})});return w.displayName=y.displayName||y.name,w},withRootProvider:h,useStyles:s,useClassNames:a}},xae=t=>E.jsx(Do.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:E.jsx("path",{d:"m18 15-6-6-6 6"})}),_ae=t=>E.jsx(Do.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:E.jsx("path",{d:"m6 9 6 6 6-6"})}),An=Do("div");An.displayName="Box";const bae=U.forwardRef(function(e,n){const{size:i,...r}=e;return E.jsx(An,{...r,ref:n,boxSize:i,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...e.css}})}),Sae=U.forwardRef(function(e,n){const{size:i,...r}=e;return E.jsx(bae,{size:i,ref:n,borderRadius:"9999px",...r})}),F1=Do("span"),gj=Do("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});gj.displayName="AbsoluteCenter";const{withContext:wae}=Hx({key:"spinner"}),Eae=wae("span"),Cae=U.forwardRef(function(e,n){const{spinner:i=E.jsx(Eae,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:r="start",children:s,text:o,visible:a=!0,...l}=e;return a?o?E.jsxs(F1,{ref:n,display:"contents",...l,children:[r==="start"&&i,o,r==="end"&&i]}):i?E.jsxs(F1,{ref:n,display:"contents",...l,children:[E.jsx(gj,{display:"inline-flex",children:i}),E.jsx(F1,{opacity:0,children:s})]}):E.jsx(F1,{ref:n,display:"contents",...l,children:s}):s}),{useRecipeResult:Tae,usePropsContext:Mae}=Hx({key:"button"}),Rl=U.forwardRef(function(e,n){const i=Mae(),r=U.useMemo(()=>Vy(i,e),[i,e]),s=Tae(r),{loading:o,loadingText:a,children:l,spinner:c,spinnerPlacement:d,...h}=s.props;return E.jsx(Do.button,{type:"button",ref:n,...h,disabled:o||h.disabled,className:la(s.className,r.className),css:[s.styles,r.css],children:!r.asChild&&o?E.jsx(Cae,{spinner:c,text:a,spinnerPlacement:d,children:l}):l})}),zl=U.forwardRef(function(e,n){return E.jsx(Rl,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})});function Aae(t){const{when:e,fallback:n,children:i}=t;let r;return e?r=typeof i=="function"?i(e):i:r=n,U.isValidElement(r)?r:E.jsx(E.Fragment,{children:r})}const Pae=t=>{const{children:e,fallback:n}=t,[i,r]=U.useState(!1);return U.useEffect(()=>{r(!0)},[]),E.jsx(Aae,{when:i,fallback:n,children:e})};function Rae(t){const{gap:e,direction:n}=t,i={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":q8(n,r=>i[r])}}function Iae(t){return U.Children.toArray(t).filter(e=>U.isValidElement(e))}const rI=U.forwardRef(function(e,n){const{direction:i="column",align:r,justify:s,gap:o="0.5rem",wrap:a,children:l,separator:c,className:d,...h}=e,p=U.useMemo(()=>Rae({gap:o,direction:i}),[o,i]),v=U.useMemo(()=>c?Iae(l).map((y,b,S)=>{const _=typeof y.key<"u"?y.key:b,w=U.cloneElement(c,{css:[p,c.props.css]});return E.jsxs(U.Fragment,{children:[y,b===S.length-1?null:w]},_)}):l,[l,c,p]);return E.jsx(Do.div,{ref:n,display:"flex",alignItems:r,justifyContent:s,flexDirection:i,flexWrap:a,gap:c?void 0:o,className:la("chakra-stack",d),...h,children:v})}),{withRootProvider:vj,withContext:Kl}=iI({key:"drawer"});vj(bte,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const kae=vj(_te,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});Kl(D6,"trigger",{forwardAsChild:!0});const Nae=Kl(R6,"positioner",{forwardAsChild:!0}),Oae=Kl(A6,"content",{forwardAsChild:!0});Kl(P6,"description",{forwardAsChild:!0});Kl(L6,"title",{forwardAsChild:!0});const Lae=Kl(M6,"closeTrigger",{forwardAsChild:!0});U.forwardRef(function(e,n){const i=Xd();return E.jsx(Do.button,{...e,ref:n,onClick:()=>i.setOpen(!1)})});const Dae=Kl(T6,"backdrop",{forwardAsChild:!0}),Fae=Kl("div","body");Kl("div","footer");const zae=Kl("div","header");function Uae(t){const{each:e,fallback:n,children:i}=t;return(e==null?void 0:e.length)===0?n||null:e==null?void 0:e.map(i)}const Il=U.forwardRef(function(e,n){const{direction:i,align:r,justify:s,wrap:o,basis:a,grow:l,shrink:c,inline:d,...h}=e;return E.jsx(Do.div,{ref:n,...h,css:{display:d?"inline-flex":"flex",flexDirection:i,alignItems:r,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c,...e.css}})}),vy=U.forwardRef(function(e,n){const{align:i,fit:r="cover",...s}=e;return E.jsx(Do.img,{ref:n,objectFit:r,objectPosition:i,className:la("chakra-image",e.className),...s})}),{withContext:Bae}=Hx({key:"link"}),_m=Bae("a"),{withProvider:yj,withContext:sp}=iI({key:"numberInput"});yj(s8,"root",{forwardAsChild:!0});const Vae=yj(r8,"root",{forwardAsChild:!0}),jae=sp(K6,"label",{forwardAsChild:!0});sp(Y6,"input",{forwardAsChild:!0});const xj=sp(X6,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:E.jsx(xae,{})}}),_j=sp(q6,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:E.jsx(_ae,{})}});sp($6,"control",{forwardAsChild:!0,defaultProps:{children:E.jsxs(E.Fragment,{children:[E.jsx(xj,{}),E.jsx(_j,{})]})}});sp(o8,"scrubber",{forwardAsChild:!0});const Hae=sp(a8,"valueText",{forwardAsChild:!0}),{withContext:Wae}=Hx({key:"skeleton"}),sI=Wae("div");U.forwardRef(function(e,n){const{size:i,...r}=e;return E.jsx(Sae,{size:i,asChild:!0,ref:n,children:E.jsx(sI,{...r})})});U.forwardRef(function(e,n){const{noOfLines:i=3,gap:r,rootProps:s,...o}=e;return E.jsx(rI,{gap:r,width:"full",ref:n,...s,children:Array.from({length:i}).map((a,l)=>E.jsx(sI,{height:"4",_last:{maxW:i===1?"100%":"80%"},...o},l))})});const{withProvider:bj,withContext:Jl}=iI({key:"slider"});bj(O8,"root",{forwardAsChild:!0});const Gae=bj(N8,"root",{forwardAsChild:!0}),$ae=Jl(D8,"track",{forwardAsChild:!0}),qae=Jl(w8,"range",{forwardAsChild:!0}),Xae=Jl(L8,"thumb",{forwardAsChild:!0}),Yae=Jl(F8,"valueText",{forwardAsChild:!0}),d3=Jl(_8,"label",{forwardAsChild:!0}),Sj=Jl(S8,"markerGroup",{forwardAsChild:!0}),wj=Jl(b8,"marker",{forwardAsChild:!0}),Ej=Jl("div","markerIndicator");Jl(y8,"draggingIndicator",{forwardAsChild:!0});U.forwardRef(function(e,n){const{marks:i,...r}=e;return i!=null&&i.length?E.jsx(Sj,{ref:n,...r,children:i.map((s,o)=>{const a=typeof s=="number"?s:s.value,l=typeof s=="number"?void 0:s.label;return E.jsxs(wj,{value:a,children:[E.jsx(Ej,{}),l!=null&&E.jsx("span",{className:"chakra-slider__marker-label",children:l})]},o)})}):null});const Kae=Jl(g8,"control",{forwardAsChild:!0}),Jae=x8,Cj=U.forwardRef(function(e,n){return E.jsx(rI,{align:"center",...e,direction:"row",ref:n})}),Tj=U.forwardRef(function(e,n){return E.jsx(rI,{align:"center",...e,direction:"column",ref:n})}),{withContext:Qae}=Hx({key:"text"}),pr=Qae("p");var Zae=(t,e,n,i,r,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(v){(Array.isArray(t)?t:[t]).forEach(y=>{let b=y==="class",S=b&&s?r.map(_=>s[_]||_):r;b?(l.classList.remove(...S),l.classList.add(s&&s[v]?s[v]:v)):l.setAttribute(y,v)}),h(v)}function h(v){a&&c.includes(v)&&(l.style.colorScheme=v)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)d(i);else try{let v=localStorage.getItem(e)||n,y=o&&v==="system"?p():v;d(y)}catch{}},f3=["light","dark"],Mj="(prefers-color-scheme: dark)",ele=typeof window>"u",oI=U.createContext(void 0),tle={setTheme:t=>{},themes:[]},nle=()=>{var t;return(t=U.useContext(oI))!=null?t:tle},ile=t=>U.useContext(oI)?U.createElement(U.Fragment,null,t.children):U.createElement(sle,{...t}),rle=["light","dark"],sle=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:r="theme",themes:s=rle,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:h})=>{let[p,v]=U.useState(()=>ale(r,o)),[y,b]=U.useState(()=>p==="system"?JT():p),S=l?Object.values(l):s,_=U.useCallback(R=>{let O=R;if(!O)return;R==="system"&&n&&(O=JT());let L=l?l[O]:O,z=e?lle(d):null,N=document.documentElement,k=B=>{B==="class"?(N.classList.remove(...S),L&&N.classList.add(L)):B.startsWith("data-")&&(L?N.setAttribute(B,L):N.removeAttribute(B))};if(Array.isArray(a)?a.forEach(k):k(a),i){let B=f3.includes(o)?o:null,H=f3.includes(O)?O:B;N.style.colorScheme=H}z==null||z()},[d]),w=U.useCallback(R=>{let O=typeof R=="function"?R(p):R;v(O);try{localStorage.setItem(r,O)}catch{}},[p]),C=U.useCallback(R=>{let O=JT(R);b(O),p==="system"&&n&&!t&&_("system")},[p,t]);U.useEffect(()=>{let R=window.matchMedia(Mj);return R.addListener(C),C(R),()=>R.removeListener(C)},[C]),U.useEffect(()=>{let R=O=>{O.key===r&&(O.newValue?v(O.newValue):w(o))};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)},[w]),U.useEffect(()=>{_(t??p)},[t,p]);let A=U.useMemo(()=>({theme:p,setTheme:w,forcedTheme:t,resolvedTheme:p==="system"?y:p,themes:n?[...s,"system"]:s,systemTheme:n?y:void 0}),[p,w,t,y,n,s]);return U.createElement(oI.Provider,{value:A},U.createElement(ole,{forcedTheme:t,storageKey:r,attribute:a,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:l,themes:s,nonce:d,scriptProps:h}),c)},ole=U.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,s,t,a,o,i,r]).slice(1,-1);return U.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Zae.toString()})(${d})`}})}),ale=(t,e)=>{if(ele)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},lle=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},JT=t=>(t||(t=window.matchMedia(Mj)),t.matches?"dark":"light"),Aj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h3=rt.createContext&&rt.createContext(Aj),cle=["attr","size","title"];function ule(t,e){if(t==null)return{};var n=dle(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function dle(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},HS.apply(this,arguments)}function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function WS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(n),!0).forEach(function(i){fle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fle(t,e,n){return e=hle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=ple(t,"string");return typeof e=="symbol"?e:e+""}function ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pj(t){return t&&t.map((e,n)=>rt.createElement(e.tag,WS({key:n},e.attr),Pj(e.child)))}function Vn(t){return e=>rt.createElement(mle,HS({attr:WS({},t.attr)},e),Pj(t.child))}function mle(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=ule(t,cle),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),rt.createElement("svg",HS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:WS(WS({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&rt.createElement("title",null,s),t.children)};return h3!==void 0?rt.createElement(h3.Consumer,null,n=>e(n)):e(Aj)}function gle(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"},child:[]}]})(t)}function vle(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(t)}function yle(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function xle(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]},{tag:"path",attr:{d:"M14.05 2a9 9 0 0 1 8 7.94"},child:[]},{tag:"path",attr:{d:"M14.05 6A5 5 0 0 1 18 10"},child:[]}]})(t)}function _le(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function ble(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}function Sle(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(t)}function wle(t){return E.jsx(ile,{attribute:"class",disableTransitionOnChange:!0,...t})}function Rj(){const{resolvedTheme:t,setTheme:e}=nle();return{colorMode:t,setColorMode:e,toggleColorMode:()=>{e(t==="light"?"dark":"light")}}}function Ele(){const{colorMode:t}=Rj();return t==="light"?E.jsx(ble,{}):E.jsx(yle,{})}U.forwardRef(function(e,n){const{toggleColorMode:i}=Rj();return E.jsx(Pae,{fallback:E.jsx(sI,{boxSize:"8"}),children:E.jsx(zl,{onClick:i,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:E.jsx(Ele,{})})})});function Ij(t){return E.jsx(SK,{value:gae,children:E.jsx(wle,{...t})})}var w0={},m3;function Cle(){if(m3)return w0;m3=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.parse=o,w0.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,v){const y=new s,b=p.length;if(b<2)return y;const S=(v==null?void 0:v.decode)||d;let _=0;do{const w=p.indexOf("=",_);if(w===-1)break;const C=p.indexOf(";",_),A=C===-1?b:C;if(w>A){_=p.lastIndexOf(";",w-1)+1;continue}const R=a(p,_,w),O=l(p,w,R),L=p.slice(R,O);if(y[L]===void 0){let z=a(p,w+1,A),N=l(p,A,z);const k=S(p.slice(z,N));y[L]=k}_=A+1}while(_<b);return y}function a(p,v,y){do{const b=p.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<y);return y}function l(p,v,y){for(;v>y;){const b=p.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return y}function c(p,v,y){const b=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=b(v);if(!e.test(S))throw new TypeError(`argument val is invalid: ${v}`);let _=p+"="+S;if(!y)return _;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);_+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);_+="; Domain="+y.domain}if(y.path){if(!i.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);_+="; Path="+y.path}if(y.expires){if(!h(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);_+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(_+="; HttpOnly"),y.secure&&(_+="; Secure"),y.partitioned&&(_+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return _}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return r.call(p)==="[object Date]"}return w0}Cle();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g3="popstate";function Tle(t={}){function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=op(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),M2("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Ky(s))}function i(r,s){Za(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Ale(e,n,i,t)}function Ri(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Za(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mle(){return Math.random().toString(36).substring(2,10)}function v3(t,e){return{usr:t.state,key:t.key,idx:e}}function M2(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?op(e):e,state:n,key:e&&e.key||i||Mle()}}function Ky({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function op(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Ale(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=d(),_=S==null?null:S-c;c=S,l&&l({action:a,location:b.location,delta:_})}function p(S,_){a="PUSH";let w=M2(b.location,S,_);n&&n(w,S),c=d()+1;let C=v3(w,c),A=b.createHref(w);try{o.pushState(C,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(A)}s&&l&&l({action:a,location:b.location,delta:1})}function v(S,_){a="REPLACE";let w=M2(b.location,S,_);n&&n(w,S),c=d();let C=v3(w,c),A=b.createHref(w);o.replaceState(C,"",A),s&&l&&l({action:a,location:b.location,delta:0})}function y(S){let _=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof S=="string"?S:Ky(S);return w=w.replace(/ $/,"%20"),Ri(_,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,_)}let b={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(g3,h),l=S,()=>{r.removeEventListener(g3,h),l=null}},createHref(S){return e(r,S)},createURL:y,encodeLocation(S){let _=y(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(S){return o.go(S)}};return b}function kj(t,e,n="/"){return Ple(t,e,n,!1)}function Ple(t,e,n,i){let r=typeof e=="string"?op(e):e,s=uu(r.pathname||"/",n);if(s==null)return null;let o=Nj(t);Rle(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Vle(s);a=Ule(o[l],c,i)}return a}function Nj(t,e=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ri(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=Zc([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ri(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Nj(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Fle(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Oj(s.path))r(s,o,l)}),e}function Oj(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Oj(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Rle(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zle(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Ile=/^:[\w-]+$/,kle=3,Nle=2,Ole=1,Lle=10,Dle=-2,y3=t=>t==="*";function Fle(t,e){let n=t.split("/"),i=n.length;return n.some(y3)&&(i+=Dle),e&&(i+=Nle),n.filter(r=>!y3(r)).reduce((r,s)=>r+(Ile.test(s)?kle:s===""?Ole:Lle),i)}function zle(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Ule(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!i[i.length-1].route.index&&(h=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Zc([s,h.pathname]),pathnameBase:Gle(Zc([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Zc([s,h.pathnameBase]))}return o}function GS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Ble(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[p];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Ble(t,e=!1,n=!0){Za(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Vle(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Za(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function uu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function jle(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?op(t):t;return{pathname:n?n.startsWith("/")?n:Hle(n,e):e,search:$le(i),hash:qle(r)}}function Hle(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function QT(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wle(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lj(t){let e=Wle(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Dj(t,e,n,i=!1){let r;typeof t=="string"?r=op(t):(r={...t},Ri(!r.pathname||!r.pathname.includes("?"),QT("?","pathname","search",r)),Ri(!r.pathname||!r.pathname.includes("#"),QT("#","pathname","hash",r)),Ri(!r.search||!r.search.includes("#"),QT("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=jle(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Zc=t=>t.join("/").replace(/\/\/+/g,"/"),Gle=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$le=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qle=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Fj=["POST","PUT","PATCH","DELETE"];new Set(Fj);var Yle=["GET",...Fj];new Set(Yle);var tv=U.createContext(null);tv.displayName="DataRouter";var RE=U.createContext(null);RE.displayName="DataRouterState";var zj=U.createContext({isTransitioning:!1});zj.displayName="ViewTransition";var Kle=U.createContext(new Map);Kle.displayName="Fetchers";var Jle=U.createContext(null);Jle.displayName="Await";var Ql=U.createContext(null);Ql.displayName="Navigation";var Xx=U.createContext(null);Xx.displayName="Location";var wu=U.createContext({outlet:null,matches:[],isDataRoute:!1});wu.displayName="Route";var aI=U.createContext(null);aI.displayName="RouteError";function Qle(t,{relative:e}={}){Ri(Yx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(Ql),{hash:r,pathname:s,search:o}=Kx(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Zc([n,s])),i.createHref({pathname:a,search:o,hash:r})}function Yx(){return U.useContext(Xx)!=null}function Zl(){return Ri(Yx(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Xx).location}var Uj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bj(t){U.useContext(Ql).static||U.useLayoutEffect(t)}function Zle(){let{isDataRoute:t}=U.useContext(wu);return t?fce():ece()}function ece(){Ri(Yx(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(tv),{basename:e,navigator:n}=U.useContext(Ql),{matches:i}=U.useContext(wu),{pathname:r}=Zl(),s=JSON.stringify(Lj(i)),o=U.useRef(!1);return Bj(()=>{o.current=!0}),U.useCallback((l,c={})=>{if(Za(o.current,Uj),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Dj(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zc([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,r,t])}U.createContext(null);function Kx(t,{relative:e}={}){let{matches:n}=U.useContext(wu),{pathname:i}=Zl(),r=JSON.stringify(Lj(n));return U.useMemo(()=>Dj(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function tce(t,e){return Vj(t,e)}function Vj(t,e,n,i){var w;Ri(Yx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=U.useContext(Ql),{matches:o}=U.useContext(wu),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let C=h&&h.path||"";jj(c,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=Zl(),v;if(e){let C=typeof e=="string"?op(e):e;Ri(d==="/"||((w=C.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=p;let y=v.pathname||"/",b=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:kj(t,{pathname:b});Za(h||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Za(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=oce(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Zc([d,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Zc([d,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,i);return e&&_?U.createElement(Xx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function nce(){let t=dce(),e=Xle(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:s},"ErrorBoundary")," or"," ",U.createElement("code",{style:s},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:r},n):null,o)}var ice=U.createElement(nce,null),rce=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(wu.Provider,{value:this.props.routeContext},U.createElement(aI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sce({routeContext:t,match:e,children:n}){let i=U.useContext(tv);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(wu.Provider,{value:t},n)}function oce(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Ri(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,d)=>{let h,p=!1,v=null,y=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||ice,o&&(a<0&&d===0?(jj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===d&&(p=!0,y=c.route.hydrateFallbackElement||null)));let b=e.concat(r.slice(0,d+1)),S=()=>{let _;return h?_=v:p?_=y:c.route.Component?_=U.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,U.createElement(sce,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?U.createElement(rce,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function lI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ace(t){let e=U.useContext(tv);return Ri(e,lI(t)),e}function lce(t){let e=U.useContext(RE);return Ri(e,lI(t)),e}function cce(t){let e=U.useContext(wu);return Ri(e,lI(t)),e}function cI(t){let e=cce(t),n=e.matches[e.matches.length-1];return Ri(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uce(){return cI("useRouteId")}function dce(){var i;let t=U.useContext(aI),e=lce("useRouteError"),n=cI("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function fce(){let{router:t}=ace("useNavigate"),e=cI("useNavigate"),n=U.useRef(!1);return Bj(()=>{n.current=!0}),U.useCallback(async(r,s={})=>{Za(n.current,Uj),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var x3={};function jj(t,e,n){!e&&!x3[t]&&(x3[t]=!0,Za(!1,n))}U.memo(hce);function hce({routes:t,future:e,state:n}){return Vj(t,void 0,n,e)}function Hr(t){Ri(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pce({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Ri(!Yx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=U.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=op(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:p="default"}=n,v=U.useMemo(()=>{let y=uu(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:p},navigationType:i}},[o,l,c,d,h,p,i]);return Za(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:U.createElement(Ql.Provider,{value:a},U.createElement(Xx.Provider,{children:e,value:v}))}function mce({children:t,location:e}){return tce(A2(t),e)}function A2(t,e=[]){let n=[];return U.Children.forEach(t,(i,r)=>{if(!U.isValidElement(i))return;let s=[...e,r];if(i.type===U.Fragment){n.push.apply(n,A2(i.props.children,s));return}Ri(i.type===Hr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ri(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=A2(i.props.children,s)),n.push(o)}),n}var uS="get",dS="application/x-www-form-urlencoded";function IE(t){return t!=null&&typeof t.tagName=="string"}function gce(t){return IE(t)&&t.tagName.toLowerCase()==="button"}function vce(t){return IE(t)&&t.tagName.toLowerCase()==="form"}function yce(t){return IE(t)&&t.tagName.toLowerCase()==="input"}function xce(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _ce(t,e){return t.button===0&&(!e||e==="_self")&&!xce(t)}var z1=null;function bce(){if(z1===null)try{new FormData(document.createElement("form"),0),z1=!1}catch{z1=!0}return z1}var Sce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ZT(t){return t!=null&&!Sce.has(t)?(Za(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dS}"`),null):t}function wce(t,e){let n,i,r,s,o;if(vce(t)){let a=t.getAttribute("action");i=a?uu(a,e):null,n=t.getAttribute("method")||uS,r=ZT(t.getAttribute("enctype"))||dS,s=new FormData(t)}else if(gce(t)||yce(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(i=l?uu(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||uS,r=ZT(t.getAttribute("formenctype"))||ZT(a.getAttribute("enctype"))||dS,s=new FormData(a,t),!bce()){let{name:c,type:d,value:h}=t;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(IE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uS,i=null,r=dS,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function uI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Ece(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cce(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Tce(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await Ece(s,n);return o.links?o.links():[]}return[]}));return Rce(i.flat(1).filter(Cce).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _3(t,e,n,i,r,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Mce(t,e,{includeHydrateFallback:n}={}){return Ace(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Ace(t){return[...new Set(t)]}function Pce(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Rce(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(Pce(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function Ice(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&uu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Hj(){let t=U.useContext(tv);return uI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kce(){let t=U.useContext(RE);return uI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dI=U.createContext(void 0);dI.displayName="FrameworkContext";function Wj(){let t=U.useContext(dI);return uI(t,"You must render this element inside a <HydratedRouter> element"),t}function Nce(t,e){let n=U.useContext(dI),[i,r]=U.useState(!1),[s,o]=U.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,p=U.useRef(null);U.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=_=>{_.forEach(w=>{o(w.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),U.useEffect(()=>{if(i){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[i]);let v=()=>{r(!0)},y=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:E0(a,v),onBlur:E0(l,y),onMouseEnter:E0(c,v),onMouseLeave:E0(d,y),onTouchStart:E0(h,v)}]:[!1,p,{}]}function E0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Oce({page:t,...e}){let{router:n}=Hj(),i=U.useMemo(()=>kj(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement(Dce,{page:t,matches:i,...e}):null}function Lce(t){let{manifest:e,routeModules:n}=Wj(),[i,r]=U.useState([]);return U.useEffect(()=>{let s=!1;return Tce(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function Dce({page:t,matches:e,...n}){let i=Zl(),{manifest:r,routeModules:s}=Wj(),{basename:o}=Hj(),{loaderData:a,matches:l}=kce(),c=U.useMemo(()=>_3(t,e,l,r,i,"data"),[t,e,l,r,i]),d=U.useMemo(()=>_3(t,e,l,r,i,"assets"),[t,e,l,r,i]),h=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let y=new Set,b=!1;if(e.forEach(_=>{var C;let w=r.routes[_.route.id];!w||!w.hasLoader||(!c.some(A=>A.route.id===_.route.id)&&_.route.id in a&&((C=s[_.route.id])!=null&&C.shouldRevalidate)||w.hasClientLoader?b=!0:y.add(_.route.id))}),y.size===0)return[];let S=Ice(t,o);return b&&y.size>0&&S.searchParams.set("_routes",e.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[o,a,i,r,c,e,t,s]),p=U.useMemo(()=>Mce(d,r),[d,r]),v=Lce(d);return U.createElement(U.Fragment,null,h.map(y=>U.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>U.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:b})=>U.createElement("link",{key:y,...b})))}function Fce(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gj&&(window.__reactRouterVersion="7.4.1")}catch{}function zce({basename:t,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=Tle({window:n,v5Compat:!0}));let r=i.current,[s,o]=U.useState({action:r.action,location:r.location}),a=U.useCallback(l=>{U.startTransition(()=>o(l))},[o]);return U.useLayoutEffect(()=>r.listen(a),[r,a]),U.createElement(pce,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var $j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ci=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...p},v){let{basename:y}=U.useContext(Ql),b=typeof c=="string"&&$j.test(c),S,_=!1;if(typeof c=="string"&&b&&(S=c,Gj))try{let N=new URL(window.location.href),k=c.startsWith("//")?new URL(N.protocol+c):new URL(c),B=uu(k.pathname,y);k.origin===N.origin&&B!=null?c=B+k.search+k.hash:_=!0}catch{Za(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Qle(c,{relative:r}),[C,A,R]=Nce(i,p),O=jce(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function L(N){e&&e(N),N.defaultPrevented||O(N)}let z=U.createElement("a",{...p,...R,href:S||w,onClick:_||s?e:L,ref:Fce(v,A),target:l,"data-discover":!b&&n==="render"?"true":void 0});return C&&!b?U.createElement(U.Fragment,null,z,U.createElement(Oce,{page:w})):z});Ci.displayName="Link";var Uce=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=Kx(o,{relative:c.relative}),p=Zl(),v=U.useContext(RE),{navigator:y,basename:b}=U.useContext(Ql),S=v!=null&&qce(h)&&a===!0,_=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=p.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(w=w.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&b&&(C=uu(C,b)||C);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=w===_||!r&&w.startsWith(_)&&w.charAt(A)==="/",O=C!=null&&(C===_||!r&&C.startsWith(_)&&C.charAt(_.length)==="/"),L={isActive:R,isPending:O,isTransitioning:S},z=R?e:void 0,N;typeof i=="function"?N=i(L):N=[i,R?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(L):s;return U.createElement(Ci,{...c,"aria-current":z,className:N,ref:d,style:k,to:o,viewTransition:a},typeof l=="function"?l(L):l)});Uce.displayName="NavLink";var Bce=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=uS,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...p},v)=>{let y=Gce(),b=$ce(a,{relative:c}),S=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&$j.test(a),w=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,R=(A==null?void 0:A.getAttribute("formmethod"))||o;y(A||C.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return U.createElement("form",{ref:v,method:S,action:b,onSubmit:i?l:w,...p,"data-discover":!_&&t==="render"?"true":void 0})});Bce.displayName="Form";function Vce(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qj(t){let e=U.useContext(tv);return Ri(e,Vce(t)),e}function jce(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=Zle(),l=Zl(),c=Kx(t,{relative:s});return U.useCallback(d=>{if(_ce(d,e)){d.preventDefault();let h=n!==void 0?n:Ky(l)===Ky(c);a(t,{replace:h,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,n,i,e,t,r,s,o])}var Hce=0,Wce=()=>`__${String(++Hce)}__`;function Gce(){let{router:t}=qj("useSubmit"),{basename:e}=U.useContext(Ql),n=uce();return U.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=wce(i,e);if(r.navigate===!1){let d=r.fetcherKey||Wce();await t.fetch(d,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function $ce(t,{relative:e}={}){let{basename:n}=U.useContext(Ql),i=U.useContext(wu);Ri(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Kx(t||".",{relative:e})},o=Zl();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Zc([n,s.pathname])),Ky(s)}function qce(t,e={}){let n=U.useContext(zj);Ri(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qj("useViewTransitionState"),r=Kx(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=uu(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=uu(n.nextLocation.pathname,i)||n.nextLocation.pathname;return GS(r.pathname,o)!=null||GS(r.pathname,s)!=null}new TextEncoder;const Xce=U.forwardRef(function(e,n){return E.jsx(zl,{variant:"ghost","aria-label":"Close",ref:n,...e,children:e.children??E.jsx(Sle,{})})}),Yce=U.forwardRef(function(e,n){const{children:i,portalled:r=!0,portalRef:s,offset:o,...a}=e;return E.jsx(xne,{disabled:!r,container:s,children:E.jsx(Nae,{padding:o,children:E.jsx(Oae,{ref:n,...a,asChild:!1,children:i})})})}),Kce=U.forwardRef(function(e,n){return E.jsx(Lae,{position:"absolute",top:"2",insetEnd:"2",...e,asChild:!0,children:E.jsx(Xce,{size:"sm",ref:n})})}),Jce=kae,Qce=zae,Zce=Fae,eue=Dae;function tue(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M491.938 18.813l-17.72 2.375-89.374 11.968-6.22.844-1.562 6.094-18.5 72.156-136.187 137.28c-2.094-4.4-4.324-8.708-6.875-12.843-7.317-11.86-18.338-22.357-34.844-25.687-6.457-1.303-12.664-1.702-18.53-1.28-17.602 1.26-32.182 9.775-41.69 22.5-10.95 14.654-15.87 34.054-15.31 54.405-36.16 4.516-66.336 31.382-80.657 64.313-15.608 35.885-11.856 80.956 24.655 111.156 43.28 35.8 88.28 31.622 119.875 11.22 28.593-18.467 47.778-48.14 50.813-74.752 18.615-2.81 38.424-9.03 56.375-17.968 20.474-10.195 38.536-23.433 48.406-40.063l7.625-12.874-14.908-1.22c-34.56-2.818-53.76-12.87-66.406-26.217l146-147.22 18.938 1.375 6.156.438 2.813-5.5 6.125-11.907 25.03 11.906L464 132.438l-24.53-11.656 7.655-14.874 25.844 12.28 8.03-16.874-25.313-12.03L464 73.155 491.03 86l8.033-16.875L472.53 56.53l11.22-21.81 8.188-15.907zm-124.532 111l13.22 13.093-200.22 201.875c-1.556-1.983-3.227-3.898-5.062-5.717-2.65-2.628-5.493-4.96-8.47-7l200.532-202.25zm-235.47 210.093c10.914-.046 21.837 4.094 30.25 12.438 16.834 16.69 16.938 43.576.25 60.406-16.685 16.83-43.573 16.94-60.405.25-16.83-16.69-16.936-43.576-.25-60.406 8.345-8.415 19.245-12.64 30.157-12.688z"},child:[]}]})(t)}function nue(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}const iue=()=>{};var b3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke=function(t,e){if(!t)throw nv(e)},nv=function(t){return new Error("Firebase Database ("+Xj.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},rue=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(p=64)),i.push(n[d],n[h],n[p],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rue(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new sue;const p=s<<2|a>>4;if(i.push(p),c!==64){const v=a<<4&240|c>>2;if(i.push(v),h!==64){const y=c<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kj=function(t){const e=Yj(t);return fI.encodeByteArray(e,!0)},$S=function(t){return Kj(t).replace(/\./g,"")},qS=function(t){try{return fI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t){return Jj(void 0,t)}function Jj(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aue(n)||(t[n]=Jj(t[n],e[n]));return t}function aue(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=()=>lue().__FIREBASE_DEFAULTS__,uue=()=>{if(typeof process>"u"||typeof b3>"u")return;const t=b3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},due=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},hI=()=>{try{return iue()||cue()||uue()||due()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qj=t=>{var e,n;return(n=(e=hI())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fue=t=>{const e=Qj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Zj=()=>{var t;return(t=hI())===null||t===void 0?void 0:t.config},eH=t=>{var e;return(e=hI())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hue(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$S(JSON.stringify(n)),$S(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bs())}function pue(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mue(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gue(){const t=Bs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vue(){return Xj.NODE_ADMIN===!0}function yue(){try{return typeof indexedDB=="object"}catch{return!1}}function xue(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ue="FirebaseError";class Yd extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_ue,Object.setPrototypeOf(this,Yd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jx.prototype.create)}}class Jx{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?bue(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Yd(r,a,i)}}function bue(t,e){return t.replace(Sue,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Sue=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){return JSON.parse(t)}function mr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Jy(qS(s[0])||""),n=Jy(qS(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},wue=function(t){const e=nH(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Eue=function(t){const e=nH(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function P2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function XS(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Vh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(S3(s)&&S3(o)){if(!Vh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function S3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function oy(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ay(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(p<<1|p>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const p=(r<<5|r>>>27)+c+l+d+i[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=p}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function Tue(t,e){const n=new Mue(t,e);return n.subscribe.bind(n)}class Mue{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Aue(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=eM),r.error===void 0&&(r.error=eM),r.complete===void 0&&(r.complete=eM);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Aue(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eM(){}function kE(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ke(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},NE=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){return t&&t._delegate?t._delegate:t}class jh{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rue=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new iv;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kue(e))try{this.getOrInitializeService({instanceIdentifier:fh})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=fh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fh){return this.instances.has(e)}getOptions(e=fh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Iue(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fh){return this.component?this.component.multipleInstances?e:fh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Iue(t){return t===fh?void 0:t}function kue(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rue(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qn||(qn={}));const Oue={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},Lue=qn.INFO,Due={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},Fue=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Due[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mI{constructor(e){this.name=e,this._logLevel=Lue,this._logHandler=Fue,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...e),this._logHandler(this,qn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...e),this._logHandler(this,qn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...e),this._logHandler(this,qn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...e),this._logHandler(this,qn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...e),this._logHandler(this,qn.ERROR,...e)}}const zue=(t,e)=>e.some(n=>t instanceof n);let w3,E3;function Uue(){return w3||(w3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bue(){return E3||(E3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iH=new WeakMap,R2=new WeakMap,rH=new WeakMap,tM=new WeakMap,gI=new WeakMap;function Vue(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Id(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iH.set(n,t)}).catch(()=>{}),gI.set(e,t),e}function jue(t){if(R2.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});R2.set(t,e)}let I2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rH.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Id(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hue(t){I2=t(I2)}function Wue(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(nM(this),e,...n);return rH.set(i,e.sort?e.sort():[e]),Id(i)}:Bue().includes(t)?function(...e){return t.apply(nM(this),e),Id(iH.get(this))}:function(...e){return Id(t.apply(nM(this),e))}}function Gue(t){return typeof t=="function"?Wue(t):(t instanceof IDBTransaction&&jue(t),zue(t,Uue())?new Proxy(t,I2):t)}function Id(t){if(t instanceof IDBRequest)return Vue(t);if(tM.has(t))return tM.get(t);const e=Gue(t);return e!==t&&(tM.set(t,e),gI.set(e,t)),e}const nM=t=>gI.get(t);function $ue(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Id(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Id(o.result),l.oldVersion,l.newVersion,Id(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const que=["get","getKey","getAll","getAllKeys","count"],Xue=["put","add","delete","clear"],iM=new Map;function C3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iM.get(e))return iM.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Xue.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||que.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return iM.set(e,s),s}Hue(t=>({...t,get:(e,n,i)=>C3(e,n)||t.get(e,n,i),has:(e,n)=>!!C3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kue(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Kue(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k2="@firebase/app",T3="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new mI("@firebase/app"),Jue="@firebase/app-compat",Que="@firebase/analytics-compat",Zue="@firebase/analytics",ede="@firebase/app-check-compat",tde="@firebase/app-check",nde="@firebase/auth",ide="@firebase/auth-compat",rde="@firebase/database",sde="@firebase/data-connect",ode="@firebase/database-compat",ade="@firebase/functions",lde="@firebase/functions-compat",cde="@firebase/installations",ude="@firebase/installations-compat",dde="@firebase/messaging",fde="@firebase/messaging-compat",hde="@firebase/performance",pde="@firebase/performance-compat",mde="@firebase/remote-config",gde="@firebase/remote-config-compat",vde="@firebase/storage",yde="@firebase/storage-compat",xde="@firebase/firestore",_de="@firebase/vertexai",bde="@firebase/firestore-compat",Sde="firebase",wde="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="[DEFAULT]",Ede={[k2]:"fire-core",[Jue]:"fire-core-compat",[Zue]:"fire-analytics",[Que]:"fire-analytics-compat",[tde]:"fire-app-check",[ede]:"fire-app-check-compat",[nde]:"fire-auth",[ide]:"fire-auth-compat",[rde]:"fire-rtdb",[sde]:"fire-data-connect",[ode]:"fire-rtdb-compat",[ade]:"fire-fn",[lde]:"fire-fn-compat",[cde]:"fire-iid",[ude]:"fire-iid-compat",[dde]:"fire-fcm",[fde]:"fire-fcm-compat",[hde]:"fire-perf",[pde]:"fire-perf-compat",[mde]:"fire-rc",[gde]:"fire-rc-compat",[vde]:"fire-gcs",[yde]:"fire-gcs-compat",[xde]:"fire-fst",[bde]:"fire-fst-compat",[_de]:"fire-vertex","fire-js":"fire-js",[Sde]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map,Cde=new Map,O2=new Map;function M3(t,e){try{t.container.addComponent(e)}catch(n){du.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ig(t){const e=t.name;if(O2.has(e))return du.debug(`There were multiple attempts to register component ${e}.`),!1;O2.set(e,t);for(const n of YS.values())M3(n,t);for(const n of Cde.values())M3(n,t);return!0}function vI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tde={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kd=new Jx("app","Firebase",Tde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=wde;function sH(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:N2,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw kd.create("bad-app-name",{appName:String(r)});if(n||(n=Zj()),!n)throw kd.create("no-options");const s=YS.get(r);if(s){if(Vh(n,s.options)&&Vh(i,s.config))return s;throw kd.create("duplicate-app",{appName:r})}const o=new Nue(r);for(const l of O2.values())o.addComponent(l);const a=new Mde(n,i,o);return YS.set(r,a),a}function oH(t=N2){const e=YS.get(t);if(!e&&t===N2&&Zj())return sH();if(!e)throw kd.create("no-app",{appName:t});return e}function Nd(t,e,n){var i;let r=(i=Ede[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),du.warn(a.join(" "));return}Ig(new jh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ade="firebase-heartbeat-database",Pde=1,Qy="firebase-heartbeat-store";let rM=null;function aH(){return rM||(rM=$ue(Ade,Pde,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qy)}catch(n){console.warn(n)}}}}).catch(t=>{throw kd.create("idb-open",{originalErrorMessage:t.message})})),rM}async function Rde(t){try{const n=(await aH()).transaction(Qy),i=await n.objectStore(Qy).get(lH(t));return await n.done,i}catch(e){if(e instanceof Yd)du.warn(e.message);else{const n=kd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});du.warn(n.message)}}}async function A3(t,e){try{const i=(await aH()).transaction(Qy,"readwrite");await i.objectStore(Qy).put(e,lH(t)),await i.done}catch(n){if(n instanceof Yd)du.warn(n.message);else{const i=kd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});du.warn(i.message)}}}function lH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ide=1024,kde=30;class Nde{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lde(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>kde){const o=Dde(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){du.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P3(),{heartbeatsToSend:i,unsentEntries:r}=Ode(this._heartbeatsCache.heartbeats),s=$S(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return du.warn(n),""}}}function P3(){return new Date().toISOString().substring(0,10)}function Ode(t,e=Ide){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),R3(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),R3(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Lde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yue()?xue().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rde(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R3(t){return $S(JSON.stringify({version:2,heartbeats:t})).length}function Dde(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fde(t){Ig(new jh("platform-logger",e=>new Yue(e),"PRIVATE")),Ig(new jh("heartbeat",e=>new Nde(e),"PRIVATE")),Nd(k2,T3,t),Nd(k2,T3,"esm2017"),Nd("fire-js","")}Fde("");function yI(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function cH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zde=cH,uH=new Jx("auth","Firebase",cH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new mI("@firebase/auth");function Ude(t,...e){KS.logLevel<=qn.WARN&&KS.warn(`Auth (${sv}): ${t}`,...e)}function fS(t,...e){KS.logLevel<=qn.ERROR&&KS.error(`Auth (${sv}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t,...e){throw xI(t,...e)}function Ul(t,...e){return xI(t,...e)}function dH(t,e,n){const i=Object.assign(Object.assign({},zde()),{[e]:n});return new Jx("auth","Firebase",i).create(e,{appName:t.name})}function eu(t){return dH(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xI(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return uH.create(t,...e)}function Ut(t,e,...n){if(!t)throw xI(e,...n)}function Xc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fS(e),new Error(e)}function fu(t,e){t||Xc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Bde(){return I3()==="http:"||I3()==="https:"}function I3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vde(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bde()||mue()||"connection"in navigator)?navigator.onLine:!0}function jde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.shortDelay=e,this.longDelay=n,fu(n>e,"Short delay should be less than long delay!"),this.isMobile=pI()||tH()}get(){return Vde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){fu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wde=new Qx(3e4,6e4);function Kd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Eu(t,e,n,i,r={}){return hH(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=rv(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return pue()||(c.referrerPolicy="no-referrer"),fH.fetch()(pH(t,t.config.apiHost,n,a),c)})}async function hH(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Hde),e);try{const r=new $de(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw U1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw U1(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw U1(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw U1(t,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dH(t,d,c);el(t,d)}}catch(r){if(r instanceof Yd)throw r;el(t,"network-request-failed",{message:String(r)})}}async function Zx(t,e,n,i,r={}){const s=await Eu(t,e,n,i,r);return"mfaPendingCredential"in s&&el(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pH(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?_I(t.config,r):`${t.config.apiScheme}://${r}`}function Gde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $de{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ul(this.auth,"network-request-failed")),Wde.get())})}}function U1(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ul(t,e,i);return r.customData._tokenResponse=n,r}function k3(t){return t!==void 0&&t.enterprise!==void 0}class qde{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gde(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xde(t,e){return Eu(t,"GET","/v2/recaptchaConfig",Kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yde(t,e){return Eu(t,"POST","/v1/accounts:delete",e)}async function mH(t,e){return Eu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kde(t,e=!1){const n=Nr(t),i=await n.getIdToken(e),r=bI(i);Ut(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:yy(sM(r.auth_time)),issuedAtTime:yy(sM(r.iat)),expirationTime:yy(sM(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sM(t){return Number(t)*1e3}function bI(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return fS("JWT malformed, contained fewer than 3 sections"),null;try{const r=qS(n);return r?JSON.parse(r):(fS("Failed to decode base64 JWT payload"),null)}catch(r){return fS("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function N3(t){const e=bI(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Yd&&Jde(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Jde({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yy(this.lastLoginAt),this.creationTime=yy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(t){var e;const n=t.auth,i=await t.getIdToken(),r=await kg(t,mH(n,{idToken:i}));Ut(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gH(s.providerUserInfo):[],a=efe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new D2(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Zde(t){const e=Nr(t);await JS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function efe(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function gH(t){return t.map(e=>{var{providerId:n}=e,i=yI(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tfe(t,e){const n=await hH(t,{},async()=>{const i=rv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=pH(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fH.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nfe(t,e){return Eu(t,"POST","/v2/accounts:revokeToken",Kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const n=N3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await tfe(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new xg;return i&&(Ut(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ut(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ut(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xg,this.toJSON())}_performRefresh(){return Xc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yc{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=yI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new D2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kg(this,this.stsTokenManager.getToken(this.auth,e));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kde(this,e)}reload(){return Zde(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await JS(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(eu(this.auth));const e=await this.getIdToken();return await kg(this,Yde(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,d;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:A,isAnonymous:R,providerData:O,stsTokenManager:L}=n;Ut(C&&L,e,"internal-error");const z=xg.fromJSON(this.name,L);Ut(typeof C=="string",e,"internal-error"),ad(h,e.name),ad(p,e.name),Ut(typeof A=="boolean",e,"internal-error"),Ut(typeof R=="boolean",e,"internal-error"),ad(v,e.name),ad(y,e.name),ad(b,e.name),ad(S,e.name),ad(_,e.name),ad(w,e.name);const N=new Yc({uid:C,auth:e,email:p,emailVerified:A,displayName:h,isAnonymous:R,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:z,createdAt:_,lastLoginAt:w});return O&&Array.isArray(O)&&(N.providerData=O.map(k=>Object.assign({},k))),S&&(N._redirectEventId=S),N}static async _fromIdTokenResponse(e,n,i=!1){const r=new xg;r.updateFromServerResponse(n);const s=new Yc({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await JS(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ut(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?gH(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new xg;a.updateFromIdToken(i);const l=new Yc({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new D2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Map;function Kc(t){fu(t instanceof Function,"Expected a class definition");let e=O3.get(t);return e?(fu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vH.type="NONE";const L3=vH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e,n){return`firebase:${t}:${e}:${n}`}class _g{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=hS(this.userKey,r.apiKey,s),this.fullPersistenceKey=hS("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new _g(Kc(L3),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Kc(L3);const o=hS(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Yc._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _g(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new _g(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wH(e))return"Blackberry";if(EH(e))return"Webos";if(xH(e))return"Safari";if((e.includes("chrome/")||_H(e))&&!e.includes("edge/"))return"Chrome";if(SH(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yH(t=Bs()){return/firefox\//i.test(t)}function xH(t=Bs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _H(t=Bs()){return/crios\//i.test(t)}function bH(t=Bs()){return/iemobile/i.test(t)}function SH(t=Bs()){return/android/i.test(t)}function wH(t=Bs()){return/blackberry/i.test(t)}function EH(t=Bs()){return/webos/i.test(t)}function SI(t=Bs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ife(t=Bs()){var e;return SI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rfe(){return gue()&&document.documentMode===10}function CH(t=Bs()){return SI(t)||SH(t)||EH(t)||wH(t)||/windows phone/i.test(t)||bH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t,e=[]){let n;switch(t){case"Browser":n=D3(Bs());break;case"Worker":n=`${D3(Bs())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sv}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ofe(t,e={}){return Eu(t,"GET","/v2/passwordPolicy",Kd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const afe=6;class lfe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:afe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F3(this),this.idTokenSubscription=new F3(this),this.beforeStateQueue=new sfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kc(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await _g.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mH(this,{idToken:e}),i=await Yc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ra(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await JS(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jde()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(eu(this));const n=e?Nr(e):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(eu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(eu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ofe(this),n=new lfe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jx("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nfe(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kc(e)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await _g.create(this,[Kc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ude(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ap(t){return Nr(t)}class F3{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tue(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ufe(t){OE=t}function MH(t){return OE.loadJS(t)}function dfe(){return OE.recaptchaEnterpriseScript}function ffe(){return OE.gapiScript}function hfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pfe{constructor(){this.enterprise=new mfe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mfe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gfe="recaptcha-enterprise",AH="NO_RECAPTCHA";class vfe{constructor(e){this.type=gfe,this.auth=ap(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Xde(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new qde(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;k3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(AH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pfe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&k3(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dfe();l.length!==0&&(l+=a),MH(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function z3(t,e,n,i=!1,r=!1){const s=new vfe(t);let o;if(r)o=AH;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function F2(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z3(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await z3(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yfe(t,e){const n=vI(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Vh(s,e??{}))return r;el(r,"already-initialized")}return n.initialize({options:e})}function xfe(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Kc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function _fe(t,e,n){const i=ap(t);Ut(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=PH(e),{host:o,port:a}=bfe(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ut(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ut(Vh(c,i.config.emulator)&&Vh(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Sfe()}function PH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bfe(t){const e=PH(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:U3(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:U3(o)}}}function U3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Sfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xc("not implemented")}_getIdTokenResponse(e){return Xc("not implemented")}_linkToIdToken(e,n){return Xc("not implemented")}_getReauthenticationResolver(e){return Xc("not implemented")}}async function wfe(t,e){return Eu(t,"POST","/v1/accounts:update",e)}async function Efe(t,e){return Eu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cfe(t,e){return Zx(t,"POST","/v1/accounts:signInWithPassword",Kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tfe(t,e){return Zx(t,"POST","/v1/accounts:signInWithEmailLink",Kd(t,e))}async function Mfe(t,e){return Zx(t,"POST","/v1/accounts:signInWithEmailLink",Kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends wI{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Zy(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Zy(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F2(e,n,"signInWithPassword",Cfe);case"emailLink":return Tfe(e,{email:this._email,oobCode:this._password});default:el(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F2(e,i,"signUpPassword",Efe);case"emailLink":return Mfe(e,{idToken:n,email:this._email,oobCode:this._password});default:el(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(t,e){return Zx(t,"POST","/v1/accounts:signInWithIdp",Kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe="http://localhost";class Hh extends wI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):el("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=yI(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Hh(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bg(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,bg(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bg(e,n)}buildRequest(){const e={requestUri:Afe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pfe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rfe(t){const e=oy(ay(t)).link,n=e?oy(ay(e)).deep_link_id:null,i=oy(ay(t)).deep_link_id;return(i?oy(ay(i)).link:null)||i||n||e||t}class EI{constructor(e){var n,i,r,s,o,a;const l=oy(ay(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,h=Pfe((r=l.mode)!==null&&r!==void 0?r:null);Ut(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Rfe(e);try{return new EI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.providerId=ov.PROVIDER_ID}static credential(e,n){return Zy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=EI.parseLink(n);return Ut(i,"argument-error"),Zy._fromEmailAndCode(e,i.code,i.tenantId)}}ov.PROVIDER_ID="password";ov.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ov.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends RH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends e_{constructor(){super("facebook.com")}static credential(e){return Hh._fromParams({providerId:Sd.PROVIDER_ID,signInMethod:Sd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sd.credentialFromTaggedObject(e)}static credentialFromError(e){return Sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sd.credential(e.oauthAccessToken)}catch{return null}}}Sd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends e_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hh._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return wd.credential(n,i)}catch{return null}}}wd.GOOGLE_SIGN_IN_METHOD="google.com";wd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends e_{constructor(){super("github.com")}static credential(e){return Hh._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ed.credentialFromTaggedObject(e)}static credentialFromError(e){return Ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ed.credential(e.oauthAccessToken)}catch{return null}}}Ed.GITHUB_SIGN_IN_METHOD="github.com";Ed.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends e_{constructor(){super("twitter.com")}static credential(e,n){return Hh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Cd.credential(n,i)}catch{return null}}}Cd.TWITTER_SIGN_IN_METHOD="twitter.com";Cd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ife(t,e){return Zx(t,"POST","/v1/accounts:signUp",Kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Yc._fromIdTokenResponse(e,i,r),o=B3(i);return new Wh({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=B3(i);return new Wh({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function B3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends Yd{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,QS.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new QS(e,n,i,r)}}function IH(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?QS._fromErrorAndOperation(t,s,e,i):s})}async function kfe(t,e,n=!1){const i=await kg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wh._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nfe(t,e,n=!1){const{auth:i}=t;if(ra(i.app))return Promise.reject(eu(i));const r="reauthenticate";try{const s=await kg(t,IH(i,r,e,t),n);Ut(s.idToken,i,"internal-error");const o=bI(s.idToken);Ut(o,i,"internal-error");const{sub:a}=o;return Ut(t.uid===a,i,"user-mismatch"),Wh._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&el(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kH(t,e,n=!1){if(ra(t.app))return Promise.reject(eu(t));const i="signIn",r=await IH(t,i,e),s=await Wh._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Ofe(t,e){return kH(ap(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t){const e=ap(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lfe(t,e,n){if(ra(t.app))return Promise.reject(eu(t));const i=ap(t),o=await F2(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ife).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&NH(t),l}),a=await Wh._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function Dfe(t,e,n){return ra(t.app)?Promise.reject(eu(t)):Ofe(Nr(t),ov.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NH(t),i})}function Ffe(t,e){return zfe(Nr(t),null,e)}async function zfe(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await kg(t,wfe(i,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ufe(t,e){return Nr(t).setPersistence(e)}function Bfe(t,e,n,i){return Nr(t).onIdTokenChanged(e,n,i)}function Vfe(t,e,n){return Nr(t).beforeAuthStateChanged(e,n)}function jfe(t){return Nr(t).signOut()}const ZS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ZS,"1"),this.storage.removeItem(ZS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hfe=1e3,Wfe=10;class LH extends OH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);rfe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Wfe):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Hfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LH.type="LOCAL";const DH=LH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH extends OH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FH.type="SESSION";const zH=FH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gfe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new LE(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Gfe(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}LE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=CI("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(){return window}function qfe(t){Bl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return typeof Bl().WorkerGlobalScope<"u"&&typeof Bl().importScripts=="function"}async function Xfe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yfe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Kfe(){return UH()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="firebaseLocalStorageDb",Jfe=1,ew="firebaseLocalStorage",VH="fbase_key";class t_{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function DE(t,e){return t.transaction([ew],e?"readwrite":"readonly").objectStore(ew)}function Qfe(){const t=indexedDB.deleteDatabase(BH);return new t_(t).toPromise()}function z2(){const t=indexedDB.open(BH,Jfe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ew,{keyPath:VH})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ew)?e(i):(i.close(),await Qfe(),e(await z2()))})})}async function V3(t,e,n){const i=DE(t,!0).put({[VH]:e,value:n});return new t_(i).toPromise()}async function Zfe(t,e){const n=DE(t,!1).get(e),i=await new t_(n).toPromise();return i===void 0?null:i.value}function j3(t,e){const n=DE(t,!0).delete(e);return new t_(n).toPromise()}const ehe=800,the=3;class jH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>the)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UH()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=LE._getInstance(Kfe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Xfe(),!this.activeServiceWorker)return;this.sender=new $fe(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yfe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await z2();return await V3(e,ZS,"1"),await j3(e,ZS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>V3(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Zfe(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=DE(r,!1).getAll();return new t_(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ehe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jH.type="LOCAL";const nhe=jH;new Qx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ihe(t,e){return e?Kc(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends wI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bg(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rhe(t){return kH(t.auth,new TI(t),t.bypassAuthState)}function she(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),Nfe(n,new TI(t),t.bypassAuthState)}async function ohe(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),kfe(n,new TI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rhe;case"linkViaPopup":case"linkViaRedirect":return ohe;case"reauthViaPopup":case"reauthViaRedirect":return she;default:el(this.auth,"internal-error")}}resolve(e){fu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=new Qx(2e3,1e4);class ig extends HH{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ig.currentPopupAction&&ig.currentPopupAction.cancel(),ig.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){fu(this.filter.length===1,"Popup operations only handle one event");const e=CI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ul(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ig.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ul(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ahe.get())};e()}}ig.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lhe="pendingRedirect",pS=new Map;class che extends HH{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=pS.get(this.auth._key());if(!e){try{const i=await uhe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}pS.set(this.auth._key(),e)}return this.bypassAuthState||pS.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uhe(t,e){const n=hhe(e),i=fhe(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function dhe(t,e){pS.set(t._key(),e)}function fhe(t){return Kc(t._redirectPersistence)}function hhe(t){return hS(lhe,t.config.apiKey,t.name)}async function phe(t,e,n=!1){if(ra(t.app))return Promise.reject(eu(t));const i=ap(t),r=ihe(i,e),o=await new che(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mhe=10*60*1e3;class ghe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vhe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!WH(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ul(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mhe&&this.cachedEventUids.clear(),this.cachedEventUids.has(H3(e))}saveEventToCache(e){this.cachedEventUids.add(H3(e)),this.lastProcessedEventTime=Date.now()}}function H3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WH({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WH(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yhe(t,e={}){return Eu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_he=/^https?/;async function bhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yhe(t);for(const n of e)try{if(She(n))return}catch{}el(t,"unauthorized-domain")}function She(t){const e=L2(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!_he.test(n))return!1;if(xhe.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe=new Qx(3e4,6e4);function W3(){const t=Bl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ehe(t){return new Promise((e,n)=>{var i,r,s;function o(){W3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W3(),n(Ul(t,"network-request-failed"))},timeout:whe.get()})}if(!((r=(i=Bl().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Bl().gapi)===null||s===void 0)&&s.load)o();else{const a=hfe("iframefcb");return Bl()[a]=()=>{gapi.load?o():n(Ul(t,"network-request-failed"))},MH(`${ffe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mS=null,e})}let mS=null;function Che(t){return mS=mS||Ehe(t),mS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The=new Qx(5e3,15e3),Mhe="__/auth/iframe",Ahe="emulator/auth/iframe",Phe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ihe(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_I(e,Ahe):`https://${t.config.authDomain}/${Mhe}`,i={apiKey:e.apiKey,appName:t.name,v:sv},r=Rhe.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${rv(i).slice(1)}`}async function khe(t){const e=await Che(t),n=Bl().gapi;return Ut(n,t,"internal-error"),e.open({where:document.body,url:Ihe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Phe,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Ul(t,"network-request-failed"),a=Bl().setTimeout(()=>{s(o)},The.get());function l(){Bl().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ohe=500,Lhe=600,Dhe="_blank",Fhe="http://localhost";class G3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zhe(t,e,n,i=Ohe,r=Lhe){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Nhe),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Bs().toLowerCase();n&&(a=_H(c)?Dhe:n),yH(c)&&(e=e||Fhe,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,y])=>`${p}${v}=${y},`,"");if(ife(c)&&a!=="_self")return Uhe(e||"",a),new G3(null);const h=window.open(e||"",a,d);Ut(h,t,"popup-blocked");try{h.focus()}catch{}return new G3(h)}function Uhe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bhe="__/auth/handler",Vhe="emulator/auth/handler",jhe=encodeURIComponent("fac");async function $3(t,e,n,i,r,s){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:sv,eventId:r};if(e instanceof RH){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof e_){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${jhe}=${encodeURIComponent(l)}`:"";return`${Hhe(t)}?${rv(a).slice(1)}${c}`}function Hhe({config:t}){return t.emulator?_I(t,Vhe):`https://${t.authDomain}/${Bhe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="webStorageSupport";class Whe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zH,this._completeRedirectFn=phe,this._overrideRedirectResult=dhe}async _openPopup(e,n,i,r){var s;fu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $3(e,n,i,L2(),r);return zhe(e,o,CI())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await $3(e,n,i,L2(),r);return qfe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(fu(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await khe(e),i=new ghe(e);return n.register("authEvent",r=>(Ut(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oM,{type:oM},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[oM];o!==void 0&&n(!!o),el(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CH()||xH()||SI()}}const Ghe=Whe;var q3="@firebase/auth",X3="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xhe(t){Ig(new jh("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ut(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TH(t)},c=new cfe(i,r,s,l);return xfe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ig(new jh("auth-internal",e=>{const n=ap(e.getProvider("auth").getImmediate());return(i=>new $he(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nd(q3,X3,qhe(t)),Nd(q3,X3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yhe=5*60,Khe=eH("authIdTokenMaxAge")||Yhe;let Y3=null;const Jhe=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Khe)return;const r=n==null?void 0:n.token;Y3!==r&&(Y3=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Qhe(t=oH()){const e=vI(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yfe(t,{popupRedirectResolver:Ghe,persistence:[nhe,DH,zH]}),i=eH("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=Jhe(s.toString());Vfe(n,o,()=>o(n.currentUser)),Bfe(n,a=>o(a))}}const r=Qj("auth");return r&&_fe(n,`http://${r}`),n}function Zhe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ufe({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Ul("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Zhe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xhe("Browser");var epe="firebase",tpe="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nd(epe,tpe,"app");var K3={};const J3="@firebase/database",Q3="1.0.14";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let GH="";function npe(t){GH=t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ipe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jy(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rpe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $H=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ipe(e)}}catch{}return new rpe},bh=$H("localStorage"),spe=$H("sessionStorage");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sg=new mI("@firebase/database"),qH=function(){let t=1;return function(){return t++}}(),XH=function(t){const e=Pue(t),n=new Cue;n.update(e);const i=n.digest();return fI.encodeByteArray(i)},n_=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=n_.apply(null,i):typeof i=="object"?e+=mr(i):e+=i,e+=" "}return e};let xy=null,Z3=!0;const ope=function(t,e){Ke(!0,"Can't turn on custom loggers persistently."),Sg.logLevel=qn.VERBOSE,xy=Sg.log.bind(Sg)},Xr=function(...t){if(Z3===!0&&(Z3=!1,xy===null&&spe.get("logging_enabled")===!0&&ope()),xy){const e=n_.apply(null,t);xy(e)}},i_=function(t){return function(...e){Xr(t,...e)}},U2=function(...t){const e="FIREBASE INTERNAL ERROR: "+n_(...t);Sg.error(e)},hu=function(...t){const e=`FIREBASE FATAL ERROR: ${n_(...t)}`;throw Sg.error(e),new Error(e)},Fs=function(...t){const e="FIREBASE WARNING: "+n_(...t);Sg.warn(e)},ape=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},MI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lpe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ng="[MIN_NAME]",Gh="[MAX_NAME]",lp=function(t,e){if(t===e)return 0;if(t===Ng||e===Gh)return-1;if(e===Ng||t===Gh)return 1;{const n=eD(t),i=eD(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},cpe=function(t,e){return t===e?0:t<e?-1:1},C0=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+mr(e))},AI=function(t){if(typeof t!="object"||t===null)return mr(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=mr(e[i]),n+=":",n+=AI(t[e[i]]);return n+="}",n},YH=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Yr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const KH=function(t){Ke(!MI(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},upe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dpe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fpe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const hpe=new RegExp("^-?(0*)\\d{1,10}$"),ppe=-2147483648,mpe=2147483647,eD=function(t){if(hpe.test(t)){const e=Number(t);if(e>=ppe&&e<=mpe)return e}return null},av=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fs("Exception was thrown by user callback.",n),e},Math.floor(0))}},gpe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_y=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vpe{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ra(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Fs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ype{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fs(e)}}class gS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gS.OWNER="owner";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PI="5",JH="v",QH="s",ZH="r",eW="f",tW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nW="ls",iW="p",B2="ac",rW="websocket",sW="long_polling";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oW{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xpe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aW(t,e,n){Ke(typeof e=="string","typeof type must == string"),Ke(typeof n=="object","typeof params must == object");let i;if(e===rW)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sW)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xpe(t)&&(n.ns=t.namespace);const r=[];return Yr(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _pe{constructor(){this.counters_={}}incrementCounter(e,n=1){sl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return oue(this.counters_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aM={},lM={};function RI(t){const e=t.toString();return aM[e]||(aM[e]=new _pe),aM[e]}function bpe(t,e){const n=t.toString();return lM[n]||(lM[n]=e()),lM[n]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Spe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&av(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tD="start",wpe="close",Epe="pLPCommand",Cpe="pRTLPCB",lW="id",cW="pw",uW="ser",Tpe="cb",Mpe="seg",Ape="ts",Ppe="d",Rpe="dframe",dW=1870,fW=30,Ipe=dW-fW,kpe=25e3,Npe=3e4;class rg{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=i_(e),this.stats_=RI(n),this.urlFn=l=>(this.appCheckToken&&(l[B2]=this.appCheckToken),aW(n,sW,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Spe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Npe)),lpe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new II((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tD)this.id=a,this.password=l;else if(o===wpe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[tD]="t",i[uW]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Tpe]=this.scriptTagHolder.uniqueCallbackIdentifier),i[JH]=PI,this.transportSessionId&&(i[QH]=this.transportSessionId),this.lastSessionId&&(i[nW]=this.lastSessionId),this.applicationId&&(i[iW]=this.applicationId),this.appCheckToken&&(i[B2]=this.appCheckToken),typeof location<"u"&&location.hostname&&tW.test(location.hostname)&&(i[ZH]=eW);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rg.forceAllow_=!0}static forceDisallow(){rg.forceDisallow_=!0}static isAvailable(){return rg.forceAllow_?!0:!rg.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!upe()&&!dpe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=mr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Kj(n),r=YH(i,Ipe);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Rpe]="t",i[lW]=e,i[cW]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=mr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class II{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qH(),window[Epe+this.uniqueCallbackIdentifier]=e,window[Cpe+this.uniqueCallbackIdentifier]=n,this.myIFrame=II.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Xr("frame writing exception"),a.stack&&Xr(a.stack),Xr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lW]=this.myID,e[cW]=this.myPW,e[uW]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fW+i.length<=dW;){const o=this.pendingSegs.shift();i=i+"&"+Mpe+r+"="+o.seg+"&"+Ape+r+"="+o.ts+"&"+Ppe+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(kpe)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Xr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ope=16384,Lpe=45e3;let tw=null;typeof MozWebSocket<"u"?tw=MozWebSocket:typeof WebSocket<"u"&&(tw=WebSocket);class Ga{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=i_(this.connId),this.stats_=RI(n),this.connURL=Ga.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[JH]=PI,typeof location<"u"&&location.hostname&&tW.test(location.hostname)&&(o[ZH]=eW),n&&(o[QH]=n),i&&(o[nW]=i),r&&(o[B2]=r),s&&(o[iW]=s),aW(e,rW,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bh.set("previous_websocket_failure",!0);try{let i;vue(),this.mySock=new tw(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ga.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&tw!==null&&!Ga.forceDisallow_}static previouslyFailed(){return bh.isInMemoryStorage||bh.get("previous_websocket_failure")===!0}markConnectionHealthy(){bh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Jy(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=mr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=YH(n,Ope);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Lpe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ga.responsesRequiredToBeHealthy=2;Ga.healthyTimeout=3e4;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ex{static get ALL_TRANSPORTS(){return[rg,Ga]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ga&&Ga.isAvailable();let i=n&&!Ga.previouslyFailed();if(e.webSocketOnly&&(n||Fs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ga];else{const r=this.transports_=[];for(const s of ex.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);ex.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ex.globalTransportInitialized_=!1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dpe=6e4,Fpe=5e3,zpe=10*1024,Upe=100*1024,cM="t",nD="d",Bpe="s",iD="r",Vpe="e",rD="o",sD="a",oD="n",aD="p",jpe="h";class Hpe{constructor(e,n,i,r,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=i_("c:"+this.id+":"),this.transportManager_=new ex(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=_y(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Upe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zpe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cM in e){const n=e[cM];n===sD?this.upgradeIfSecondaryHealthy_():n===iD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=C0("t",e),i=C0("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:aD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=C0("t",e),i=C0("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=C0(cM,e);if(nD in e){const i=e[nD];if(n===jpe){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===oD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Bpe?this.onConnectionShutdown_(i):n===iD?this.onReset_(i):n===Vpe?U2("Server Error: "+i):n===rD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U2("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),PI!==i&&Fs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),_y(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dpe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_y(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Fpe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:aD,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hW{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pW{constructor(e){this.allowedEvents_=e,this.listeners_={},Ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){Ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nw extends pW{static getInstance(){return new nw}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lD=32,cD=768;let Yn=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Rn(){return new Yn("")}function dn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bd(t){return t.pieces_.length-t.pieceNum_}function ui(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Yn(t.pieces_,e)}function kI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Wpe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tx(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mW(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Yn(e,0)}function zi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Yn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Yn(n,0)}function mn(t){return t.pieceNum_>=t.pieces_.length}function Ls(t,e){const n=dn(t),i=dn(e);if(n===null)return e;if(n===i)return Ls(ui(t),ui(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gpe(t,e){const n=tx(t,0),i=tx(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=lp(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function NI(t,e){if(Bd(t)!==Bd(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function oa(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Bd(t)>Bd(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class $pe{constructor(e,n){this.errorPrefix_=n,this.parts_=tx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=NE(this.parts_[i]);gW(this)}}function qpe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=NE(e),gW(t)}function Xpe(t){const e=t.parts_.pop();t.byteLength_-=NE(e),t.parts_.length>0&&(t.byteLength_-=1)}function gW(t){if(t.byteLength_>cD)throw new Error(t.errorPrefix_+"has a key path longer than "+cD+" bytes ("+t.byteLength_+").");if(t.parts_.length>lD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lD+") or object contains a cycle "+hh(t))}function hh(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OI extends pW{static getInstance(){return new OI}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T0=1e3,Ype=60*5*1e3,uD=30*1e3,Kpe=1.3,Jpe=3e4,Qpe="server_kill",dD=3;class tu extends hW{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=tu.nextPersistentConnectionId_++,this.log_=i_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=T0,this.maxReconnectDelay_=Ype,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nw.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(mr(s)),Ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new iv,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;tu.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&sl(e,"w")){const i=Bh(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Fs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Eue(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uD)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wue(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mr(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):U2("Unrecognized action received from server: "+mr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=T0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=T0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Jpe&&(this.reconnectDelay_=T0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Kpe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+tu.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(h){Ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Xr("getToken() completed but was canceled"):(Xr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new Hpe(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,v=>{Fs(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Qpe)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Fs(h),l())}}}interrupt(e){Xr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],P2(this.interruptReasons_)&&(this.reconnectDelay_=T0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>AI(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Yn(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Xr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dD&&(this.reconnectDelay_=uD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GH.replace(/\./g,"-")]=1,pI()?e["framework.cordova"]=1:tH()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nw.getInstance().currentlyOnline();return P2(this.interruptReasons_)&&e}}tu.nextPersistentConnectionId_=0;tu.nextConnectionId_=0;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fn(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new fn(Ng,e),r=new fn(Ng,n);return this.compare(i,r)!==0}minPost(){return fn.MIN}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let B1;class vW extends FE{static get __EMPTY_NODE(){return B1}static set __EMPTY_NODE(e){B1=e}compare(e,n){return lp(e.name,n.name)}isDefinedOn(e){throw nv("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fn.MIN}maxPost(){return new fn(Gh,B1)}makePost(e,n){return Ke(typeof e=="string","KeyIndex indexValue must always be a string."),new fn(e,B1)}toString(){return".key"}}const wg=new vW;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V1{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pr{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Pr.RED,this.left=r??no.EMPTY_NODE,this.right=s??no.EMPTY_NODE}copy(e,n,i,r,s){return new Pr(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return no.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return no.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pr.RED=!0;Pr.BLACK=!1;class Zpe{copy(e,n,i,r,s){return this}insert(e,n,i){return new Pr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class no{constructor(e,n=no.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new no(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pr.BLACK,null,null))}remove(e){return new no(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pr.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new V1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new V1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new V1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new V1(this.root_,null,this.comparator_,!0,e)}}no.EMPTY_NODE=new Zpe;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eme(t,e){return lp(t.name,e.name)}function LI(t,e){return lp(t,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let V2;function tme(t){V2=t}const yW=function(t){return typeof t=="number"?"number:"+KH(t):"string:"+t},xW=function(t){if(t.isLeafNode()){const e=t.val();Ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sl(e,".sv"),"Priority must be a string or number.")}else Ke(t===V2||t.isEmpty(),"priority of unexpected type.");Ke(t===V2||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let fD;class Ar{static set __childrenNodeConstructor(e){fD=e}static get __childrenNodeConstructor(){return fD}constructor(e,n=Ar.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xW(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ar(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ar.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mn(e)?this:dn(e)===".priority"?this.priorityNode_:Ar.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ar.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=dn(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ke(i!==".priority"||Bd(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ar.__childrenNodeConstructor.EMPTY_NODE.updateChild(ui(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yW(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=KH(this.value_):e+=this.value_,this.lazyHash_=XH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ar.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ar.__childrenNodeConstructor?-1:(Ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Ar.VALUE_TYPE_ORDER.indexOf(n),s=Ar.VALUE_TYPE_ORDER.indexOf(i);return Ke(r>=0,"Unknown leaf type: "+n),Ke(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ar.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let _W,bW;function nme(t){_W=t}function ime(t){bW=t}class rme extends FE{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?lp(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fn.MIN}maxPost(){return new fn(Gh,new Ar("[PRIORITY-POST]",bW))}makePost(e,n){const i=_W(e);return new fn(n,new Ar("[PRIORITY-POST]",i))}toString(){return".priority"}}const Pi=new rme;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sme=Math.log(2);class ome{constructor(e){const n=s=>parseInt(Math.log(s)/sme,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const iw=function(t,e,n,i){t.sort(e);const r=function(l,c){const d=c-l;let h,p;if(d===0)return null;if(d===1)return h=t[l],p=n?n(h):h,new Pr(p,h.node,Pr.BLACK,null,null);{const v=parseInt(d/2,10)+l,y=r(l,v),b=r(v+1,c);return h=t[v],p=n?n(h):h,new Pr(p,h.node,Pr.BLACK,y,b)}},s=function(l){let c=null,d=null,h=t.length;const p=function(y,b){const S=h-y,_=h;h-=y;const w=r(S+1,_),C=t[S],A=n?n(C):C;v(new Pr(A,C.node,b,null,w))},v=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<l.count;++y){const b=l.nextBitIsOne(),S=Math.pow(2,l.count-(y+1));b?p(S,Pr.BLACK):(p(S,Pr.BLACK),p(S,Pr.RED))}return d},o=new ome(t.length),a=s(o);return new no(i||e,a)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let uM;const bm={};class Jc{static get Default(){return Ke(bm&&Pi,"ChildrenNode.ts has not been loaded"),uM=uM||new Jc({".priority":bm},{".priority":Pi}),uM}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Bh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof no?n:null}hasIndex(e){return sl(this.indexSet_,e.toString())}addIndex(e,n){Ke(e!==wg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(fn.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=iw(i,e.getCompare()):a=bm;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Jc(d,c)}addToIndexes(e,n){const i=XS(this.indexes_,(r,s)=>{const o=Bh(this.indexSet_,s);if(Ke(o,"Missing index implementation for "+s),r===bm)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(fn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),iw(a,o.getCompare())}else return bm;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new fn(e.name,a))),l.insert(e,e.node)}});return new Jc(i,this.indexSet_)}removeFromIndexes(e,n){const i=XS(this.indexes_,r=>{if(r===bm)return r;{const s=n.get(e.name);return s?r.remove(new fn(e.name,s)):r}});return new Jc(i,this.indexSet_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let M0;class Ft{static get EMPTY_NODE(){return M0||(M0=new Ft(new no(LI),null,Jc.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&xW(this.priorityNode_),this.children_.isEmpty()&&Ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||M0}updatePriority(e){return this.children_.isEmpty()?this:new Ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?M0:n}}getChild(e){const n=dn(e);return n===null?this:this.getImmediateChild(n).getChild(ui(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new fn(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?M0:this.priorityNode_;return new Ft(r,o,s)}}updateChild(e,n){const i=dn(e);if(i===null)return n;{Ke(dn(e)!==".priority"||Bd(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ui(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Pi,(o,a)=>{n[o]=a.val(e),i++,s&&Ft.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yW(this.getPriority().val())+":"),this.forEachChild(Pi,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":XH(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new fn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fn(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,fn.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,fn.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===r_?-1:0}withIndex(e){if(e===wg||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ft(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wg||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Pi),r=n.getIterator(Pi);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wg?null:this.indexMap_.get(e.toString())}}Ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ame extends Ft{constructor(){super(new no(LI),Ft.EMPTY_NODE,Jc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ft.EMPTY_NODE}isEmpty(){return!1}}const r_=new ame;Object.defineProperties(fn,{MIN:{value:new fn(Ng,Ft.EMPTY_NODE)},MAX:{value:new fn(Gh,r_)}});vW.__EMPTY_NODE=Ft.EMPTY_NODE;Ar.__childrenNodeConstructor=Ft;tme(r_);ime(r_);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lme=!0;function er(t,e=null){if(t===null)return Ft.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ar(n,er(e))}if(!(t instanceof Array)&&lme){const n=[];let i=!1;if(Yr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=er(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new fn(o,l)))}}),n.length===0)return Ft.EMPTY_NODE;const s=iw(n,eme,o=>o.name,LI);if(i){const o=iw(n,Pi.getCompare());return new Ft(s,er(e),new Jc({".priority":o},{".priority":Pi}))}else return new Ft(s,er(e),Jc.Default)}else{let n=Ft.EMPTY_NODE;return Yr(t,(i,r)=>{if(sl(t,i)&&i.substring(0,1)!=="."){const s=er(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(er(e))}}nme(er);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cme extends FE{constructor(e){super(),this.indexPath_=e,Ke(!mn(e)&&dn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?lp(e.name,n.name):s}makePost(e,n){const i=er(e),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,i);return new fn(n,r)}maxPost(){const e=Ft.EMPTY_NODE.updateChild(this.indexPath_,r_);return new fn(Gh,e)}toString(){return tx(this.indexPath_,0).join("/")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ume extends FE{compare(e,n){const i=e.node.compareTo(n.node);return i===0?lp(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fn.MIN}maxPost(){return fn.MAX}makePost(e,n){const i=er(e);return new fn(n,i)}toString(){return".value"}}const dme=new ume;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SW(t){return{type:"value",snapshotNode:t}}function Og(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nx(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ix(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fme(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DI{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){Ke(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(nx(n,a)):Ke(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Og(n,i)):o.trackChildChange(ix(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Pi,(r,s)=>{n.hasChild(r)||i.trackChildChange(nx(r,s))}),n.isLeafNode()||n.forEachChild(Pi,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(ix(r,s,o))}else i.trackChildChange(Og(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ft.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rx{constructor(e){this.indexedFilter_=new DI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=rx.getStartPost_(e),this.endPost_=rx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new fn(n,i))||(i=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Ft.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(Ft.EMPTY_NODE);const s=this;return n.forEachChild(Pi,(o,a)=>{s.matches(new fn(o,a))||(r=r.updateImmediateChild(o,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hme{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new rx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new fn(n,i))||(i=Ft.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=Ft.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=Ft.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(Ft.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(p,v)=>h(v,p)}else o=this.index_.getCompare();const a=e;Ke(a.numChildren()===this.limit_,"");const l=new fn(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let p=r.getChildAfterChild(this.index_,c,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);const v=p==null?1:o(p,l);if(d&&!i.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(ix(n,i,h)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(nx(n,h));const b=a.updateImmediateChild(n,Ft.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(Og(p.name,p.node)),b.updateImmediateChild(p.name,p.node)):b}}else return i.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(nx(c.name,c.node)),s.trackChildChange(Og(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,Ft.EMPTY_NODE)):e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pi}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ng}hasEnd(){return this.endSet_}getIndexEndValue(){return Ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pi}copy(){const e=new FI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pme(t){return t.loadsAllData()?new DI(t.getIndex()):t.hasLimit()?new hme(t):new rx(t)}function hD(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pi?n="$priority":t.index_===dme?n="$value":t.index_===wg?n="$key":(Ke(t.index_ instanceof cme,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=mr(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=mr(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+mr(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=mr(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+mr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pD(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pi&&(e.i=t.index_.toString()),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rw extends hW{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=i_("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rw.getListenId_(e,i),a={};this.listens_[o]=a;const l=hD(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,i),Bh(this.listens_,o)===a){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",r(p,null)}})}unlisten(e,n){const i=rw.getListenId_(e,n);delete this.listens_[i]}get(e){const n=hD(e._queryParams),i=e._path.toString(),r=new iv;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rv(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jy(a.responseText)}catch{Fs("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Fs("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mme{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sw(){return{value:null,children:new Map}}function wW(t,e,n){if(mn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=dn(e);t.children.has(i)||t.children.set(i,sw());const r=t.children.get(i);e=ui(e),wW(r,e,n)}}function j2(t,e,n){t.value!==null?n(e,t.value):gme(t,(i,r)=>{const s=new Yn(e.toString()+"/"+i);j2(r,s,n)})}function gme(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vme{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Yr(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mD=10*1e3,yme=30*1e3,xme=5*60*1e3;class _me{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vme(e);const i=mD+(yme-mD)*Math.random();_y(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Yr(e,(r,s)=>{s>0&&sl(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),_y(this.reportStats_.bind(this),Math.floor(Math.random()*2*xme))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Xa;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xa||(Xa={}));function zI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function UI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function BI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ow{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Xa.ACK_USER_WRITE,this.source=zI()}operationForChild(e){if(mn(this.path)){if(this.affectedTree.value!=null)return Ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Yn(e));return new ow(Rn(),n,this.revert)}}else return Ke(dn(this.path)===e,"operationForChild called for unrelated child."),new ow(ui(this.path),this.affectedTree,this.revert)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sx{constructor(e,n){this.source=e,this.path=n,this.type=Xa.LISTEN_COMPLETE}operationForChild(e){return mn(this.path)?new sx(this.source,Rn()):new sx(this.source,ui(this.path))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $h{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Xa.OVERWRITE}operationForChild(e){return mn(this.path)?new $h(this.source,Rn(),this.snap.getImmediateChild(e)):new $h(this.source,ui(this.path),this.snap)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lg{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Xa.MERGE}operationForChild(e){if(mn(this.path)){const n=this.children.subtree(new Yn(e));return n.isEmpty()?null:n.value?new $h(this.source,Rn(),n.value):new Lg(this.source,Rn(),n)}else return Ke(dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lg(this.source,ui(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vd{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mn(e))return this.isFullyInitialized()&&!this.filtered_;const n=dn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bme{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Sme(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(fme(o.childName,o.snapshotNode))}),A0(t,r,"child_removed",e,i,n),A0(t,r,"child_added",e,i,n),A0(t,r,"child_moved",s,i,n),A0(t,r,"child_changed",e,i,n),A0(t,r,"value",e,i,n),r}function A0(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>Eme(t,a,l)),o.forEach(a=>{const l=wme(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function wme(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Eme(t,e,n){if(e.childName==null||n.childName==null)throw nv("Should only compare child_ events.");const i=new fn(e.childName,e.snapshotNode),r=new fn(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zE(t,e){return{eventCache:t,serverCache:e}}function by(t,e,n,i){return zE(new Vd(e,n,i),t.serverCache)}function EW(t,e,n,i){return zE(t.eventCache,new Vd(e,n,i))}function aw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let dM;const Cme=()=>(dM||(dM=new no(cpe)),dM);class ai{static fromObject(e){let n=new ai(null);return Yr(e,(i,r)=>{n=n.set(new Yn(i),r)}),n}constructor(e,n=Cme()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Rn(),value:this.value};if(mn(e))return null;{const i=dn(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(ui(e),n);return s!=null?{path:zi(new Yn(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(mn(e))return this;{const n=dn(e),i=this.children.get(n);return i!==null?i.subtree(ui(e)):new ai(null)}}set(e,n){if(mn(e))return new ai(n,this.children);{const i=dn(e),s=(this.children.get(i)||new ai(null)).set(ui(e),n),o=this.children.insert(i,s);return new ai(this.value,o)}}remove(e){if(mn(e))return this.children.isEmpty()?new ai(null):new ai(null,this.children);{const n=dn(e),i=this.children.get(n);if(i){const r=i.remove(ui(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new ai(null):new ai(this.value,s)}else return this}}get(e){if(mn(e))return this.value;{const n=dn(e),i=this.children.get(n);return i?i.get(ui(e)):null}}setTree(e,n){if(mn(e))return n;{const i=dn(e),s=(this.children.get(i)||new ai(null)).setTree(ui(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new ai(this.value,o)}}fold(e){return this.fold_(Rn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(zi(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Rn(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(mn(e))return null;{const s=dn(e),o=this.children.get(s);return o?o.findOnPath_(ui(e),zi(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Rn(),n)}foreachOnPath_(e,n,i){if(mn(e))return this;{this.value&&i(n,this.value);const r=dn(e),s=this.children.get(r);return s?s.foreachOnPath_(ui(e),zi(n,r),i):new ai(null)}}foreach(e){this.foreach_(Rn(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(zi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ya{constructor(e){this.writeTree_=e}static empty(){return new Ya(new ai(null))}}function Sy(t,e,n){if(mn(e))return new Ya(new ai(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Ls(r,e);return s=s.updateChild(o,n),new Ya(t.writeTree_.set(r,s))}else{const r=new ai(n),s=t.writeTree_.setTree(e,r);return new Ya(s)}}}function H2(t,e,n){let i=t;return Yr(n,(r,s)=>{i=Sy(i,zi(e,r),s)}),i}function gD(t,e){if(mn(e))return Ya.empty();{const n=t.writeTree_.setTree(e,new ai(null));return new Ya(n)}}function W2(t,e){return cp(t,e)!=null}function cp(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ls(n.path,e)):null}function vD(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pi,(i,r)=>{e.push(new fn(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new fn(i,r.value))}),e}function Od(t,e){if(mn(e))return t;{const n=cp(t,e);return n!=null?new Ya(new ai(n)):new Ya(t.writeTree_.subtree(e))}}function G2(t){return t.writeTree_.isEmpty()}function Dg(t,e){return CW(Rn(),t.writeTree_,e)}function CW(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(Ke(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=CW(zi(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(zi(t,".priority"),i)),n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UE(t,e){return PW(e,t)}function Tme(t,e,n,i,r){Ke(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Sy(t.visibleWrites,e,n)),t.lastWriteId=i}function Mme(t,e,n,i){Ke(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=H2(t.visibleWrites,e,n),t.lastWriteId=i}function Ame(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Pme(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ke(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Rme(a,i.path)?r=!1:oa(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return Ime(t),!0;if(i.snap)t.visibleWrites=gD(t.visibleWrites,i.path);else{const a=i.children;Yr(a,l=>{t.visibleWrites=gD(t.visibleWrites,zi(i.path,l))})}return!0}else return!1}function Rme(t,e){if(t.snap)return oa(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&oa(zi(t.path,n),e))return!0;return!1}function Ime(t){t.visibleWrites=TW(t.allWrites,kme,Rn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function kme(t){return t.visible}function TW(t,e,n){let i=Ya.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)oa(n,o)?(a=Ls(n,o),i=Sy(i,a,s.snap)):oa(o,n)&&(a=Ls(o,n),i=Sy(i,Rn(),s.snap.getChild(a)));else if(s.children){if(oa(n,o))a=Ls(n,o),i=H2(i,a,s.children);else if(oa(o,n))if(a=Ls(o,n),mn(a))i=H2(i,Rn(),s.children);else{const l=Bh(s.children,dn(a));if(l){const c=l.getChild(ui(a));i=Sy(i,Rn(),c)}}}else throw nv("WriteRecord should have .snap or .children")}}return i}function MW(t,e,n,i,r){if(!i&&!r){const s=cp(t.visibleWrites,e);if(s!=null)return s;{const o=Od(t.visibleWrites,e);if(G2(o))return n;if(n==null&&!W2(o,Rn()))return null;{const a=n||Ft.EMPTY_NODE;return Dg(o,a)}}}else{const s=Od(t.visibleWrites,e);if(!r&&G2(s))return n;if(!r&&n==null&&!W2(s,Rn()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(oa(c.path,e)||oa(e,c.path))},a=TW(t.allWrites,o,e),l=n||Ft.EMPTY_NODE;return Dg(a,l)}}}function Nme(t,e,n){let i=Ft.EMPTY_NODE;const r=cp(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Pi,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Od(t.visibleWrites,e);return n.forEachChild(Pi,(o,a)=>{const l=Dg(Od(s,new Yn(o)),a);i=i.updateImmediateChild(o,l)}),vD(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Od(t.visibleWrites,e);return vD(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function Ome(t,e,n,i,r){Ke(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=zi(e,n);if(W2(t.visibleWrites,s))return null;{const o=Od(t.visibleWrites,s);return G2(o)?r.getChild(n):Dg(o,r.getChild(n))}}function Lme(t,e,n,i){const r=zi(e,n),s=cp(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Od(t.visibleWrites,r);return Dg(o,i.getNode().getImmediateChild(n))}else return null}function Dme(t,e){return cp(t.visibleWrites,e)}function Fme(t,e,n,i,r,s,o){let a;const l=Od(t.visibleWrites,e),c=cp(l,Rn());if(c!=null)a=c;else if(n!=null)a=Dg(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),p=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=p.getNext();for(;v&&d.length<r;)h(v,i)!==0&&d.push(v),v=p.getNext();return d}else return[]}function zme(){return{visibleWrites:Ya.empty(),allWrites:[],lastWriteId:-1}}function lw(t,e,n,i){return MW(t.writeTree,t.treePath,e,n,i)}function VI(t,e){return Nme(t.writeTree,t.treePath,e)}function yD(t,e,n,i){return Ome(t.writeTree,t.treePath,e,n,i)}function cw(t,e){return Dme(t.writeTree,zi(t.treePath,e))}function Ume(t,e,n,i,r,s){return Fme(t.writeTree,t.treePath,e,n,i,r,s)}function jI(t,e,n){return Lme(t.writeTree,t.treePath,e,n)}function AW(t,e){return PW(zi(t.treePath,e),t.writeTree)}function PW(t,e){return{treePath:t,writeTree:e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bme{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ke(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,ix(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,nx(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Og(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,ix(i,e.snapshotNode,r.oldSnap));else throw nv("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vme{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const RW=new Vme;class HI{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Vd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jI(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qh(this.viewCache_),s=Ume(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jme(t){return{filter:t}}function Hme(t,e){Ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Wme(t,e,n,i,r){const s=new Bme;let o,a;if(n.type===Xa.OVERWRITE){const c=n;c.source.fromUser?o=$2(t,e,c.path,c.snap,i,r,s):(Ke(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!mn(c.path),o=uw(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Xa.MERGE){const c=n;c.source.fromUser?o=$me(t,e,c.path,c.children,i,r,s):(Ke(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=q2(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Xa.ACK_USER_WRITE){const c=n;c.revert?o=Yme(t,e,c.path,i,r,s):o=qme(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Xa.LISTEN_COMPLETE)o=Xme(t,e,n.path,i,s);else throw nv("Unknown operation type: "+n.type);const l=s.getChanges();return Gme(e,o,l),{viewCache:o,changes:l}}function Gme(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=aw(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(SW(aw(e)))}}function IW(t,e,n,i,r,s){const o=e.eventCache;if(cw(i,n)!=null)return e;{let a,l;if(mn(n))if(Ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qh(e),d=c instanceof Ft?c:Ft.EMPTY_NODE,h=VI(i,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=lw(i,qh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=dn(n);if(c===".priority"){Ke(Bd(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=yD(i,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=ui(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const p=yD(i,n,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(c).updateChild(d,p):h=o.getNode().getImmediateChild(c)}else h=jI(i,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,r,s):a=o.getNode()}}return by(e,a,o.isFullyInitialized()||mn(n),t.filter.filtersNodes())}}function uw(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(mn(n))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,i);c=d.updateFullNode(l.getNode(),v,null)}else{const v=dn(n);if(!l.isCompleteForPath(n)&&Bd(n)>1)return e;const y=ui(n),S=l.getNode().getImmediateChild(v).updateChild(y,i);v===".priority"?c=d.updatePriority(l.getNode(),S):c=d.updateChild(l.getNode(),v,S,y,RW,null)}const h=EW(e,c,l.isFullyInitialized()||mn(n),d.filtersNodes()),p=new HI(r,h,s);return IW(t,h,n,r,p,a)}function $2(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const d=new HI(r,e,s);if(mn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=by(e,c,!0,t.filter.filtersNodes());else{const h=dn(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=by(e,c,a.isFullyInitialized(),a.isFiltered());else{const p=ui(n),v=a.getNode().getImmediateChild(h);let y;if(mn(p))y=i;else{const b=d.getCompleteChild(h);b!=null?kI(p)===".priority"&&b.getChild(mW(p)).isEmpty()?y=b:y=b.updateChild(p,i):y=Ft.EMPTY_NODE}if(v.equals(y))l=e;else{const b=t.filter.updateChild(a.getNode(),h,y,p,d,o);l=by(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function xD(t,e){return t.eventCache.isCompleteForChild(e)}function $me(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const d=zi(n,l);xD(e,dn(d))&&(a=$2(t,a,d,c,r,s,o))}),i.foreach((l,c)=>{const d=zi(n,l);xD(e,dn(d))||(a=$2(t,a,d,c,r,s,o))}),a}function _D(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function q2(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;mn(n)?c=i:c=new ai(null).setTree(n,i);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),y=_D(t,v,p);l=uw(t,l,new Yn(h),y,r,s,o,a)}}),c.children.inorderTraversal((h,p)=>{const v=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!d.hasChild(h)&&!v){const y=e.serverCache.getNode().getImmediateChild(h),b=_D(t,y,p);l=uw(t,l,new Yn(h),b,r,s,o,a)}}),l}function qme(t,e,n,i,r,s,o){if(cw(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(mn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return uw(t,e,n,l.getNode().getChild(n),r,s,a,o);if(mn(n)){let c=new ai(null);return l.getNode().forEachChild(wg,(d,h)=>{c=c.set(new Yn(d),h)}),q2(t,e,n,c,r,s,a,o)}else return e}else{let c=new ai(null);return i.foreach((d,h)=>{const p=zi(n,d);l.isCompleteForPath(p)&&(c=c.set(d,l.getNode().getChild(p)))}),q2(t,e,n,c,r,s,a,o)}}function Xme(t,e,n,i,r){const s=e.serverCache,o=EW(e,s.getNode(),s.isFullyInitialized()||mn(n),s.isFiltered());return IW(t,o,n,i,RW,r)}function Yme(t,e,n,i,r,s){let o;if(cw(i,n)!=null)return e;{const a=new HI(i,e,r),l=e.eventCache.getNode();let c;if(mn(n)||dn(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=lw(i,qh(e));else{const h=e.serverCache.getNode();Ke(h instanceof Ft,"serverChildren would be complete if leaf node"),d=VI(i,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=dn(n);let h=jI(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,ui(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,Ft.EMPTY_NODE,ui(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=lw(i,qh(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||cw(i,Rn())!=null,by(e,c,o,t.filter.filtersNodes())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kme{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new DI(i.getIndex()),s=pme(i);this.processor_=jme(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(Ft.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ft.EMPTY_NODE,a.getNode(),null),d=new Vd(l,o.isFullyInitialized(),r.filtersNodes()),h=new Vd(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=zE(h,d),this.eventGenerator_=new bme(this.query_)}get query(){return this.query_}}function Jme(t){return t.viewCache_.serverCache.getNode()}function Qme(t){return aw(t.viewCache_)}function Zme(t,e){const n=qh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mn(e)&&!n.getImmediateChild(dn(e)).isEmpty())?n.getChild(e):null}function bD(t){return t.eventRegistrations_.length===0}function ege(t,e){t.eventRegistrations_.push(e)}function SD(t,e,n){const i=[];if(n){Ke(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function wD(t,e,n,i){e.type===Xa.MERGE&&e.source.queryId!==null&&(Ke(qh(t.viewCache_),"We should always have a full cache before handling merges"),Ke(aw(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=Wme(t.processor_,r,e,n,i);return Hme(t.processor_,s.viewCache),Ke(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,kW(t,s.changes,s.viewCache.eventCache.getNode(),null)}function tge(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pi,(s,o)=>{i.push(Og(s,o))}),n.isFullyInitialized()&&i.push(SW(n.getNode())),kW(t,i,n.getNode(),e)}function kW(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return Sme(t.eventGenerator_,e,n,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let dw;class NW{constructor(){this.views=new Map}}function nge(t){Ke(!dw,"__referenceConstructor has already been defined"),dw=t}function ige(){return Ke(dw,"Reference.ts has not been loaded"),dw}function rge(t){return t.views.size===0}function WI(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return Ke(s!=null,"SyncTree gave us an op for an invalid query."),wD(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(wD(o,e,n,i));return s}}function OW(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=lw(n,r?i:null),l=!1;a?l=!0:i instanceof Ft?(a=VI(n,i),l=!1):(a=Ft.EMPTY_NODE,l=!1);const c=zE(new Vd(a,l,!1),new Vd(i,r,!1));return new Kme(e,c)}return o}function sge(t,e,n,i,r,s){const o=OW(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ege(o,n),tge(o,n)}function oge(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=jd(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(SD(c,n,i)),bD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(SD(l,n,i)),bD(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!jd(t)&&s.push(new(ige())(e._repo,e._path)),{removed:s,events:o}}function LW(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ld(t,e){let n=null;for(const i of t.views.values())n=n||Zme(i,e);return n}function DW(t,e){if(e._queryParams.loadsAllData())return BE(t);{const i=e._queryIdentifier;return t.views.get(i)}}function FW(t,e){return DW(t,e)!=null}function jd(t){return BE(t)!=null}function BE(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let fw;function age(t){Ke(!fw,"__referenceConstructor has already been defined"),fw=t}function lge(){return Ke(fw,"Reference.ts has not been loaded"),fw}let cge=1;class ED{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ai(null),this.pendingWriteTree_=zme(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GI(t,e,n,i,r){return Tme(t.pendingWriteTree_,e,n,i,r),r?lv(t,new $h(zI(),e,n)):[]}function uge(t,e,n,i){Mme(t.pendingWriteTree_,e,n,i);const r=ai.fromObject(n);return lv(t,new Lg(zI(),e,r))}function Md(t,e,n=!1){const i=Ame(t.pendingWriteTree_,e);if(Pme(t.pendingWriteTree_,e)){let s=new ai(null);return i.snap!=null?s=s.set(Rn(),!0):Yr(i.children,o=>{s=s.set(new Yn(o),!0)}),lv(t,new ow(i.path,s,n))}else return[]}function s_(t,e,n){return lv(t,new $h(UI(),e,n))}function dge(t,e,n){const i=ai.fromObject(n);return lv(t,new Lg(UI(),e,i))}function fge(t,e){return lv(t,new sx(UI(),e))}function hge(t,e,n){const i=$I(t,n);if(i){const r=qI(i),s=r.path,o=r.queryId,a=Ls(s,e),l=new sx(BI(o),a);return XI(t,s,l)}else return[]}function hw(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||FW(o,e))){const l=oge(o,e,n,i);rge(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const d=c.findIndex(p=>p._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(p,v)=>jd(v));if(d&&!h){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const v=gge(p);for(let y=0;y<v.length;++y){const b=v[y],S=b.query,_=VW(t,b);t.listenProvider_.startListening(wy(S),ox(t,S),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!i&&(d?t.listenProvider_.stopListening(wy(e),null):c.forEach(p=>{const v=t.queryToTagMap.get(jE(p));t.listenProvider_.stopListening(wy(p),v)}))}vge(t,c)}return a}function zW(t,e,n,i){const r=$I(t,i);if(r!=null){const s=qI(r),o=s.path,a=s.queryId,l=Ls(o,e),c=new $h(BI(a),l,n);return XI(t,o,c)}else return[]}function pge(t,e,n,i){const r=$I(t,i);if(r){const s=qI(r),o=s.path,a=s.queryId,l=Ls(o,e),c=ai.fromObject(n),d=new Lg(BI(a),l,c);return XI(t,o,d)}else return[]}function X2(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(p,v)=>{const y=Ls(p,r);s=s||Ld(v,y),o=o||jd(v)});let a=t.syncPointTree_.get(r);a?(o=o||jd(a),s=s||Ld(a,Rn())):(a=new NW,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=Ft.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((v,y)=>{const b=Ld(y,Rn());b&&(s=s.updateImmediateChild(v,b))}));const c=FW(a,e);if(!c&&!e._queryParams.loadsAllData()){const p=jE(e);Ke(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const v=yge();t.queryToTagMap.set(p,v),t.tagToQueryMap.set(v,p)}const d=UE(t.pendingWriteTree_,r);let h=sge(a,e,n,d,s,l);if(!c&&!o&&!i){const p=DW(a,e);h=h.concat(xge(t,e,p))}return h}function VE(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ls(o,e),c=Ld(a,l);if(c)return c});return MW(r,e,s,n,!0)}function mge(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Ls(c,n);i=i||Ld(d,h)});let r=t.syncPointTree_.get(n);r?i=i||Ld(r,Rn()):(r=new NW,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Vd(i,!0,!1):null,a=UE(t.pendingWriteTree_,e._path),l=OW(r,e,a,s?o.getNode():Ft.EMPTY_NODE,s);return Qme(l)}function lv(t,e){return UW(e,t.syncPointTree_,null,UE(t.pendingWriteTree_,Rn()))}function UW(t,e,n,i){if(mn(t.path))return BW(t,e,n,i);{const r=e.get(Rn());n==null&&r!=null&&(n=Ld(r,Rn()));let s=[];const o=dn(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=AW(i,o);s=s.concat(UW(a,l,c,d))}return r&&(s=s.concat(WI(r,t,i,n))),s}}function BW(t,e,n,i){const r=e.get(Rn());n==null&&r!=null&&(n=Ld(r,Rn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=AW(i,o),d=t.operationForChild(o);d&&(s=s.concat(BW(d,a,l,c)))}),r&&(s=s.concat(WI(r,t,i,n))),s}function VW(t,e){const n=e.query,i=ox(t,n);return{hashFn:()=>(Jme(e)||Ft.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?hge(t,n._path,i):fge(t,n._path);{const s=fpe(r,n);return hw(t,n,null,s)}}}}function ox(t,e){const n=jE(e);return t.queryToTagMap.get(n)}function jE(t){return t._path.toString()+"$"+t._queryIdentifier}function $I(t,e){return t.tagToQueryMap.get(e)}function qI(t){const e=t.indexOf("$");return Ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Yn(t.substr(0,e))}}function XI(t,e,n){const i=t.syncPointTree_.get(e);Ke(i,"Missing sync point for query tag that we're tracking");const r=UE(t.pendingWriteTree_,e);return WI(i,n,r,null)}function gge(t){return t.fold((e,n,i)=>{if(n&&jd(n))return[BE(n)];{let r=[];return n&&(r=LW(n)),Yr(i,(s,o)=>{r=r.concat(o)}),r}})}function wy(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lge())(t._repo,t._path):t}function vge(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=jE(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function yge(){return cge++}function xge(t,e,n){const i=e._path,r=ox(t,e),s=VW(t,n),o=t.listenProvider_.startListening(wy(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)Ke(!jd(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!mn(c)&&d&&jd(d))return[BE(d).query];{let p=[];return d&&(p=p.concat(LW(d).map(v=>v.query))),Yr(h,(v,y)=>{p=p.concat(y)}),p}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(wy(d),ox(t,d))}}return o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new YI(n)}node(){return this.node_}}class KI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zi(this.path_,e);return new KI(this.syncTree_,n)}node(){return VE(this.syncTree_,this.path_)}}const _ge=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},CD=function(t,e,n){if(!t||typeof t!="object")return t;if(Ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bge(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Sge(t[".sv"],e);Ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bge=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ke(!1,"Unexpected server value: "+t)}},Sge=function(t,e,n){t.hasOwnProperty("increment")||Ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Ke(!1,"Unexpected increment value: "+i);const r=e.node();if(Ke(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},jW=function(t,e,n,i){return QI(e,new KI(n,t),i)},JI=function(t,e,n){return QI(t,new YI(e),n)};function QI(t,e,n){const i=t.getPriority().val(),r=CD(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=CD(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Ar(a,er(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Ar(r))),o.forEachChild(Pi,(a,l)=>{const c=QI(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZI{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function HE(t,e){let n=e instanceof Yn?e:new Yn(e),i=t,r=dn(n);for(;r!==null;){const s=Bh(i.node.children,r)||{children:{},childCount:0};i=new ZI(r,i,s),n=ui(n),r=dn(n)}return i}function up(t){return t.node.value}function ek(t,e){t.node.value=e,Y2(t)}function HW(t){return t.node.childCount>0}function wge(t){return up(t)===void 0&&!HW(t)}function WE(t,e){Yr(t.node.children,(n,i)=>{e(new ZI(n,t,i))})}function WW(t,e,n,i){n&&e(t),WE(t,r=>{WW(r,e,!0)})}function Ege(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function o_(t){return new Yn(t.parent===null?t.name:o_(t.parent)+"/"+t.name)}function Y2(t){t.parent!==null&&Cge(t.parent,t.name,t)}function Cge(t,e,n){const i=wge(n),r=sl(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Y2(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Y2(t))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tge=/[\[\].#$\/\u0000-\u001F\u007F]/,Mge=/[\[\].#$\u0000-\u001F\u007F]/,fM=10*1024*1024,tk=function(t){return typeof t=="string"&&t.length!==0&&!Tge.test(t)},GW=function(t){return typeof t=="string"&&t.length!==0&&!Mge.test(t)},Age=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GW(t)},$W=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!MI(t)||t&&typeof t=="object"&&sl(t,".sv")},qW=function(t,e,n,i){i&&e===void 0||a_(kE(t,"value"),e,n)},a_=function(t,e,n){const i=n instanceof Yn?new $pe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hh(i));if(typeof e=="function")throw new Error(t+"contains a function "+hh(i)+" with contents = "+e.toString());if(MI(e))throw new Error(t+"contains "+e.toString()+" "+hh(i));if(typeof e=="string"&&e.length>fM/3&&NE(e)>fM)throw new Error(t+"contains a string greater than "+fM+" utf8 bytes "+hh(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Yr(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!tk(o)))throw new Error(t+" contains an invalid key ("+o+") "+hh(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qpe(i,o),a_(t,a,i),Xpe(i)}),r&&s)throw new Error(t+' contains ".value" child '+hh(i)+" in addition to actual children.")}},Pge=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=tx(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!tk(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Gpe);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&oa(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Rge=function(t,e,n,i){const r=kE(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Yr(e,(o,a)=>{const l=new Yn(o);if(a_(r,a,zi(n,l)),kI(l)===".priority"&&!$W(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Pge(r,s)},XW=function(t,e,n,i){if(!GW(n))throw new Error(kE(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ige=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XW(t,e,n)},GE=function(t,e){if(dn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},kge=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Age(n))throw new Error(kE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nge{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $E(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!NI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function YW(t,e,n){$E(t,n),KW(t,i=>NI(i,e))}function Fo(t,e,n){$E(t,n),KW(t,i=>oa(i,e)||oa(e,i))}function KW(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(Oge(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Oge(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();xy&&Xr("event: "+n.toString()),av(i)}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lge="repo_interrupt",Dge=25;class Fge{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nge,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sw(),this.transactionQueueTree_=new ZI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zge(t,e,n){if(t.stats_=RI(t.repoInfo_),t.forceRestClient_||gpe())t.server_=new rw(t.repoInfo_,(i,r,s,o)=>{TD(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>MD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mr(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new tu(t.repoInfo_,e,(i,r,s,o)=>{TD(t,i,r,s,o)},i=>{MD(t,i)},i=>{Uge(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=bpe(t.repoInfo_,()=>new _me(t.stats_,t.server_)),t.infoData_=new mme,t.infoSyncTree_=new ED({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=s_(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),nk(t,"connected",!1),t.serverSyncTree_=new ED({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Fo(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function JW(t){const n=t.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function l_(t){return _ge({timestamp:JW(t)})}function TD(t,e,n,i,r){t.dataUpdateCount++;const s=new Yn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=XS(n,c=>er(c));o=pge(t.serverSyncTree_,s,l,r)}else{const l=er(n);o=zW(t.serverSyncTree_,s,l,r)}else if(i){const l=XS(n,c=>er(c));o=dge(t.serverSyncTree_,s,l)}else{const l=er(n);o=s_(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Fg(t,s)),Fo(t.eventQueue_,a,o)}function MD(t,e){nk(t,"connected",e),e===!1&&Hge(t)}function Uge(t,e){Yr(e,(n,i)=>{nk(t,n,i)})}function nk(t,e,n){const i=new Yn("/.info/"+e),r=er(n);t.infoData_.updateSnapshot(i,r);const s=s_(t.infoSyncTree_,i,r);Fo(t.eventQueue_,i,s)}function qE(t){return t.nextWriteId_++}function Bge(t,e,n){const i=mge(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=er(r).withIndex(e._queryParams.getIndex());X2(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=s_(t.serverSyncTree_,e._path,s);else{const a=ox(t.serverSyncTree_,e);o=zW(t.serverSyncTree_,e._path,s,a)}return Fo(t.eventQueue_,e._path,o),hw(t.serverSyncTree_,e,n,null,!0),s},r=>(cv(t,"get for query "+mr(e)+" failed: "+r),Promise.reject(new Error(r))))}function Vge(t,e,n,i,r){cv(t,"set",{path:e.toString(),value:n,priority:i});const s=l_(t),o=er(n,i),a=VE(t.serverSyncTree_,e),l=JI(o,a,s),c=qE(t),d=GI(t.serverSyncTree_,e,l,c,!0);$E(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(p,v)=>{const y=p==="ok";y||Fs("set at "+e+" failed: "+p);const b=Md(t.serverSyncTree_,c,!y);Fo(t.eventQueue_,e,b),K2(t,r,p,v)});const h=rk(t,e);Fg(t,h),Fo(t.eventQueue_,h,[])}function jge(t,e,n,i){cv(t,"update",{path:e.toString(),value:n});let r=!0;const s=l_(t),o={};if(Yr(n,(a,l)=>{r=!1,o[a]=jW(zi(e,a),er(l),t.serverSyncTree_,s)}),r)Xr("update() called with empty data.  Don't do anything."),K2(t,i,"ok",void 0);else{const a=qE(t),l=uge(t.serverSyncTree_,e,o,a);$E(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||Fs("update at "+e+" failed: "+c);const p=Md(t.serverSyncTree_,a,!h),v=p.length>0?Fg(t,e):e;Fo(t.eventQueue_,v,p),K2(t,i,c,d)}),Yr(n,c=>{const d=rk(t,zi(e,c));Fg(t,d)}),Fo(t.eventQueue_,e,[])}}function Hge(t){cv(t,"onDisconnectEvents");const e=l_(t),n=sw();j2(t.onDisconnect_,Rn(),(r,s)=>{const o=jW(r,s,t.serverSyncTree_,e);wW(n,r,o)});let i=[];j2(n,Rn(),(r,s)=>{i=i.concat(s_(t.serverSyncTree_,r,s));const o=rk(t,r);Fg(t,o)}),t.onDisconnect_=sw(),Fo(t.eventQueue_,Rn(),i)}function Wge(t,e,n){let i;dn(e._path)===".info"?i=X2(t.infoSyncTree_,e,n):i=X2(t.serverSyncTree_,e,n),YW(t.eventQueue_,e._path,i)}function AD(t,e,n){let i;dn(e._path)===".info"?i=hw(t.infoSyncTree_,e,n):i=hw(t.serverSyncTree_,e,n),YW(t.eventQueue_,e._path,i)}function Gge(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Lge)}function cv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xr(n,...e)}function K2(t,e,n,i){e&&av(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function $ge(t,e,n,i,r,s){cv(t,"transaction on "+e);const o={path:e,update:n,onComplete:i,status:null,order:qH(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=ik(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{a_("transaction failed: Data returned ",l,o.path),o.status=0;const c=HE(t.transactionQueueTree_,e),d=up(c)||[];d.push(o),ek(c,d);let h;typeof l=="object"&&l!==null&&sl(l,".priority")?(h=Bh(l,".priority"),Ke($W(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(VE(t.serverSyncTree_,e)||Ft.EMPTY_NODE).getPriority().val();const p=l_(t),v=er(l,h),y=JI(v,a,p);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=y,o.currentWriteId=qE(t);const b=GI(t.serverSyncTree_,e,y,o.currentWriteId,o.applyLocally);Fo(t.eventQueue_,e,b),XE(t,t.transactionQueueTree_)}}function ik(t,e,n){return VE(t.serverSyncTree_,e,n)||Ft.EMPTY_NODE}function XE(t,e=t.transactionQueueTree_){if(e||YE(t,e),up(e)){const n=ZW(t,e);Ke(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&qge(t,o_(e),n)}else HW(e)&&WE(e,n=>{XE(t,n)})}function qge(t,e,n){const i=n.map(c=>c.currentWriteId),r=ik(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const d=n[c];Ke(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ls(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{cv(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Md(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();YE(t,HE(t.transactionQueueTree_,e)),XE(t,t.transactionQueueTree_),Fo(t.eventQueue_,e,d);for(let p=0;p<h.length;p++)av(h[p])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Fs("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Fg(t,e)}},o)}function Fg(t,e){const n=QW(t,e),i=o_(n),r=ZW(t,n);return Xge(t,r,i),i}function Xge(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ls(n,l.path);let d=!1,h;if(Ke(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,r=r.concat(Md(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Dge)d=!0,h="maxretry",r=r.concat(Md(t.serverSyncTree_,l.currentWriteId,!0));else{const p=ik(t,l.path,o);l.currentInputSnapshot=p;const v=e[a].update(p.val());if(v!==void 0){a_("transaction failed: Data returned ",v,l.path);let y=er(v);typeof v=="object"&&v!=null&&sl(v,".priority")||(y=y.updatePriority(p.getPriority()));const S=l.currentWriteId,_=l_(t),w=JI(y,p,_);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=w,l.currentWriteId=qE(t),o.splice(o.indexOf(S),1),r=r.concat(GI(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),r=r.concat(Md(t.serverSyncTree_,S,!0))}else d=!0,h="nodata",r=r.concat(Md(t.serverSyncTree_,l.currentWriteId,!0))}Fo(t.eventQueue_,n,r),r=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}YE(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)av(i[a]);XE(t,t.transactionQueueTree_)}function QW(t,e){let n,i=t.transactionQueueTree_;for(n=dn(e);n!==null&&up(i)===void 0;)i=HE(i,n),e=ui(e),n=dn(e);return i}function ZW(t,e){const n=[];return e7(t,e,n),n.sort((i,r)=>i.order-r.order),n}function e7(t,e,n){const i=up(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);WE(e,r=>{e7(t,r,n)})}function YE(t,e){const n=up(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,ek(e,n.length>0?n:void 0)}WE(e,i=>{YE(t,i)})}function rk(t,e){const n=o_(QW(t,e)),i=HE(t.transactionQueueTree_,e);return Ege(i,r=>{hM(t,r)}),hM(t,i),WW(i,r=>{hM(t,r)}),n}function hM(t,e){const n=up(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Md(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ek(e,void 0):n.length=s+1,Fo(t.eventQueue_,o_(e),r);for(let o=0;o<i.length;o++)av(i[o])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yge(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function Kge(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Fs(`Invalid query segment '${n}' in query '${t}'`)}return e}const PD=function(t,e){const n=Jge(t),i=n.namespace;n.domain==="firebase.com"&&hu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&hu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ape();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oW(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Yn(n.pathString)}},Jge=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(r=Yge(t.substring(d,h)));const p=Kge(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=i}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qge=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=RD.charAt(n%64),n=Math.floor(n/64);Ke(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=RD.charAt(e[r]);return Ke(o.length===20,"nextPushId: Length should be 20."),o}}();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zge{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mr(this.snapshot.exportVal())}}class eve{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t7{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ke(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sk{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return mn(this._path)?null:kI(this._path)}get ref(){return new ec(this._repo,this._path)}get _queryIdentifier(){const e=pD(this._queryParams),n=AI(e);return n==="{}"?"default":n}get _queryObject(){return pD(this._queryParams)}isEqual(e){if(e=Nr(e),!(e instanceof sk))return!1;const n=this._repo===e._repo,i=NI(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Wpe(this._path)}}class ec extends sk{constructor(e,n){super(e,n,new FI,!1)}get parent(){const e=mW(this._path);return e===null?null:new ec(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class zg{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Yn(e),i=tl(this.ref,e);return new zg(this._node.getChild(n),i,Pi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new zg(r,tl(this.ref,i),Pi)))}hasChild(e){const n=new Yn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yi(t,e){return t=Nr(t),t._checkNotDeleted("ref"),e!==void 0?tl(t._root,e):t._root}function tl(t,e){return t=Nr(t),dn(t._path)===null?Ige("child","path",e):XW("child","path",e),new ec(t._repo,zi(t._path,e))}function pw(t,e){t=Nr(t),GE("push",t._path),qW("push",e,t._path,!0);const n=JW(t._repo),i=Qge(n),r=tl(t,i),s=tl(t,i);let o;return e!=null?o=ok(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function mw(t){return GE("remove",t._path),ok(t,null)}function ok(t,e){t=Nr(t),GE("set",t._path),qW("set",e,t._path,!1);const n=new iv;return Vge(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function n7(t,e){Rge("update",e,t._path);const n=new iv;return jge(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ka(t){t=Nr(t);const e=new t7(()=>{}),n=new KE(e);return Bge(t._repo,t,n).then(i=>new zg(i,new ec(t._repo,t._path),t._queryParams.getIndex()))}class KE{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Zge("value",this,new zg(e.snapshotNode,new ec(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new eve(this,e,n):null}matches(e){return e instanceof KE?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function tve(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,c=(d,h)=>{AD(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new t7(n,s||void 0),a=new KE(o);return Wge(t._repo,t,a),()=>AD(t._repo,t,a)}function J2(t,e,n,i){return tve(t,"value",e,n,i)}nge(ec);age(ec);/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nve="FIREBASE_DATABASE_EMULATOR_HOST",Q2={};let ive=!1;function rve(t,e,n,i){t.repoInfo_=new oW(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function sve(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||hu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=PD(s,r),a=o.repoInfo,l;typeof process<"u"&&K3&&(l=K3[nve]),l?(s=`http://${l}?ns=${a.namespace}`,o=PD(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new ype(t.name,t.options,e);kge("Invalid Firebase Database URL",o),mn(o.path)||hu("Database URL must point to the root of a Firebase Database (not including a child path).");const d=ave(a,t,c,new vpe(t,n));return new lve(d,t)}function ove(t,e){const n=Q2[e];(!n||n[t.key]!==t)&&hu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Gge(t),delete n[t.key]}function ave(t,e,n,i){let r=Q2[e.name];r||(r={},Q2[e.name]=r);let s=r[t.toURLString()];return s&&hu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Fge(t,ive,n,i),r[t.toURLString()]=s,s}class lve{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zge(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ec(this._repo,Rn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ove(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hu("Cannot call "+e+" on a deleted database.")}}function oo(t=oH(),e){const n=vI(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=fue("database");i&&cve(n,...i)}return n}function cve(t,e,n,i={}){t=Nr(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&Vh(i,s.repoInfo_.emulatorOptions))return;hu("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&hu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new gS(gS.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:hue(i.mockUserToken,t.app.options.projectId);o=new gS(a)}rve(s,r,i,o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uve(t){npe(sv),Ig(new jh("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return sve(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Nd(J3,Q3,t),Nd(J3,Q3,"esm2017")}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dve{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function gw(t,e,n){var i;if(t=Nr(t),GE("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(i=void 0)!==null&&i!==void 0?i:!0,s=new iv,o=(l,c,d)=>{let h=null;l?s.reject(l):(h=new zg(d,new ec(t._repo,t._path),Pi),s.resolve(new dve(c,h)))},a=J2(t,()=>{});return $ge(t._repo,t._path,e,o,a,r),s.promise}tu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};uve();const fve={apiKey:"AIzaSyDxXkITg6FBLtodHZ7fZej5pwgxiDs0rNc",authDomain:"bpa-web-1d994.firebaseapp.com",projectId:"bpa-web-1d994",storageBucket:"bpa-web-1d994.firebasestorage.app",messagingSenderId:"81824784556",appId:"1=81824784556=web=be68cc61cedcd7d077ff09",measurementId:"G-Q2KXJTK4FY"},hve=sH(fve),Ml=Qhe();oo(hve);const ax=()=>{const[t,e]=U.useState(""),[n,i]=U.useState(""),[r,s]=U.useState(""),[o,a]=U.useState(null),[l,c]=U.useState(""),[d,h]=U.useState(""),[p,v]=U.useState(""),[y,b]=U.useState(""),[S,_]=U.useState(""),[w,C]=U.useState(""),A=B=>{e(B.target.value)},R=B=>{i(B.target.value)},O=async()=>{try{await Ufe(Ml,DH),await Dfe(Ml,t,n),window.location.href=`${window.location.origin}/#/`,e(""),i(""),v(""),b(""),_(""),c("Logged in successfully.")}catch(B){c(`Error signing in: ${B.message}`)}},L=async()=>{try{if(n!==r){h("Passwords do not match.");return}await Lfe(Ml,t,n),k(),h("Account Created successfully.")}catch(B){h(`Error Creating Account: ${B.message}`)}},z=async()=>{try{Ml.currentUser?(await Ffe(Ml.currentUser,n),h("Password updated successfully.")):h("No user is currently signed in.")}catch{}},N=async()=>{try{await jfe(Ml),a(null),c("Logged out successfully.")}catch(B){console.error("Error signing out:",B)}};function k(){const B=oo(),H=yi(B,"users/"+t.replace(".",","));ok(H,{email:t,Name:p,Phone:y,DateOfBirth:S,Address:w,cart:{totalItems:0},tours:{totalItems:0}}),e(""),i(""),v(""),b(""),_(""),C(""),window.location.href=`${window.location.origin}/#/`}return U.useEffect(()=>{const B=Ml.onAuthStateChanged(H=>{a(H||null)});return()=>B()},[Ml]),{email:t,password:n,confirmPassword:r,user:o,Name:p,address:w,setName:v,Phone:y,setPhone:b,DateOfBirth:S,setDateOfBirth:_,loginStatus:l,createAccountStatus:d,handleEmailChange:A,handlePasswordChange:R,handleUpdatePassword:z,handleLogin:O,handleCreateAccount:L,handleSignout:N,setConfirmPassword:s,setAddress:C}};function lx(t){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Z2(t){return Vn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function eP(t){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function pve(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function mve(t){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function gve(t){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function vve(t){return Vn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function ID(t){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function kD(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function yve(t){return Vn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"},child:[]}]})(t)}function ND(t){return Vn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const OD=_V`
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
`,LD=_V`
  0%, 100% {
    transform: scale(1) translateY(0);
  }
  50% {
    transform: scale(1.2) translateY(-10px);
  }
`;function xve(){const t=Zl(),[e,n]=U.useState(!1),[i,r]=U.useState(!1),[s,o]=U.useState(""),{user:a}=U.useContext(bu),[l,c]=U.useState(0),[d,h]=U.useState(0),[p,v]=U.useState(!1);U.useEffect(()=>{if(a){const S=oo(),_=yi(S,"users/"+(a.email?a.email.replace(".",","):""));Ka(_).then(A=>{if(A.exists()){const R=A.val();o(R.Name)}}).catch(A=>{console.error(A)});const w=tl(_,"/cart/totalItems"),C=tl(_,"/tours/totalItems");J2(w,A=>{if(A.exists()){const R=A.val();c(R),v(!0),setTimeout(()=>v(!1),500)}},A=>{console.error(A)}),J2(C,A=>{if(A.exists()){const R=A.val();h(R),v(!0),setTimeout(()=>v(!1),500)}},A=>{console.error(A)})}},[a]);const{handleSignout:y}=ax(),b=({to:S,children:_})=>E.jsx(Ci,{to:S,onClick:()=>window.scrollTo(0,0),children:E.jsx(An,{fontFamily:"Sansation",fontSize:16,fontWeight:"300",bg:t.pathname===S?"white":"transparent",color:t.pathname===S?"black":"white",p:"6px 12px",textAlign:"center",onClick:()=>n(!1),transition:"color 0.3s ease",borderRadius:"8px",_after:{content:'""',display:"block",width:"0",height:t.pathname!==S?"2px":"0",bg:"#E9204F",transition:"width 0.3s ease",marginTop:t.pathname!==S?"4px":"0"},_hover:t.pathname!==S?{color:"#E9204F",_after:{width:"100%"}}:{},children:_})});return E.jsxs(E.Fragment,{children:[E.jsxs(Il,{bg:"black",pt:{base:"3",md:"3"},pb:{base:"2",md:"2"},align:"center",justify:"center",position:"relative",w:"100%",h:{base:"72px",md:"80px"},px:4,children:[E.jsxs(Il,{flex:"1",justify:"right",align:"center",display:{base:"none",md:"flex"},children:[E.jsx(b,{to:"/about-us",children:"ABOUT US"}),E.jsx(b,{to:"/tour",children:"TOUR"})]}),E.jsx(An,{mx:{base:0,md:1},children:E.jsx(Ci,{to:"/",onClick:()=>window.scrollTo(0,0),children:E.jsx(vy,{src:" /images/Full Logo.png",alt:"Home",height:"50px",transition:"transform 0.3s ease",_hover:{transform:"scale(1.1)"}})})}),E.jsxs(Il,{flex:"1",justify:"left",align:"center",display:{base:"none",md:"flex"},children:[E.jsx(b,{to:"/store",children:"STORE"}),E.jsx(b,{to:"/contact-us",children:"CONTACT US"})]}),E.jsx(An,{position:"absolute",right:"0",mr:5,display:{base:"none",md:"flex"},children:E.jsx(Il,{align:"center",children:a?E.jsxs(E.Fragment,{children:[E.jsx(Ci,{to:"/cart",children:E.jsxs(An,{position:"relative",children:[E.jsx(zl,{color:"white",size:"2xl",variant:"ghost",animation:p?`${OD} 0.5s`:"none",children:E.jsx(ID,{})}),(l>0||d>0)&&E.jsx(An,{position:"absolute",top:"3",right:"2",bg:"#E9204F",color:"white",borderRadius:"full",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",animation:p?`${LD} 0.5s`:"none",children:l+d})]})}),E.jsx(An,{width:"10px"}),E.jsxs(An,{position:"relative",children:[E.jsxs(Rl,{p:5,backgroundColor:"#E9204F",onClick:()=>r(!i),_hover:{bg:"#c5173e"},_active:{bg:"#a31332"},children:["Hi, ",s.split(" ")[0]+"  ",""]}),i&&E.jsxs(An,{position:"absolute",top:"100%",right:"0",mt:2,bg:"gray.800",color:"white",boxShadow:"lg",borderRadius:"md",overflow:"hidden",zIndex:10,children:[E.jsx(Ci,{to:"/account",onClick:()=>r(!1),children:E.jsxs(An,{p:3,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",children:[E.jsx(ND,{style:{marginRight:"8px"}}),"Account"]})}),E.jsxs(An,{p:3,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",onClick:()=>{r(!1),y()},children:[E.jsx(kD,{style:{marginRight:"8px"}}),"Logout"]})]})]})]}):E.jsxs(E.Fragment,{children:[E.jsx(Ci,{to:"/signup",children:E.jsx(Rl,{p:5,children:"Sign Up"})}),E.jsx(An,{width:"10px"}),E.jsx(Ci,{to:"/login",children:E.jsx(Rl,{p:5,backgroundColor:"#E9204F",children:"Login"})})]})})}),E.jsx(An,{position:"absolute",mt:0,right:"0",mr:5,display:{base:"flex",md:"none"},children:E.jsx(zl,{"aria-label":"Open menu",size:"lg",variant:"ghost",color:"white",onClick:()=>n(!0),children:E.jsx(nue,{})})})]}),E.jsxs(Jce,{open:e,placement:"end",onOpenChange:S=>n(S.open),size:"xs",children:[E.jsx(eue,{}),E.jsxs(Yce,{bg:"#09090b",color:"white",maxWidth:"240px",children:[E.jsx(Kce,{}),E.jsx(An,{height:"20px"}),E.jsx(Qce,{fontSize:"xl",fontWeight:"300",fontFamily:"Sansation",pl:3,children:"Menu"}),E.jsx(An,{height:"20px"}),E.jsx(Zce,{children:E.jsxs(Tj,{align:"start",children:[E.jsx(b,{to:"/",children:"HOME"}),E.jsx(b,{to:"/about-us",children:"ABOUT US"}),E.jsx(b,{to:"/tour",children:"TOUR"}),E.jsx(b,{to:"/store",children:"STORE"}),E.jsx(b,{to:"/contact-us",children:"CONTACT US"}),E.jsx(An,{mt:8,ml:3,display:"flex",justifyContent:"space-between",width:"60%",children:E.jsx(Il,{align:"center",children:a?E.jsxs(E.Fragment,{children:[E.jsx(Ci,{to:"/cart",children:E.jsxs(An,{position:"relative",children:[E.jsx(zl,{color:"white",size:"2xl",variant:"ghost",animation:p?`${OD} 0.5s`:"none",children:E.jsx(ID,{})}),E.jsx(An,{position:"absolute",top:"3",right:"2",bg:"#E9204F",color:"white",borderRadius:"full",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",animation:p?`${LD} 0.5s`:"none",children:"1"})]})}),E.jsx(An,{width:"10px"}),E.jsxs(An,{position:"relative",children:[E.jsx(An,{children:E.jsxs(Rl,{position:"relative",p:5,backgroundColor:"#E9204F",onClick:()=>r(!i),children:["Hi, ",s.split(" ")[0]+"  ",""]})}),i&&E.jsxs(An,{position:"absolute",top:"100%",right:"0",mt:2,bg:"gray.800",color:"white",boxShadow:"md",borderRadius:"md",overflow:"hidden",children:[E.jsx(Ci,{to:"/account",onClick:()=>r(!1),children:E.jsxs(An,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",children:[E.jsx(ND,{style:{marginRight:"8px"}}),"Account"]})}),E.jsxs(An,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",onClick:y,children:[E.jsx(kD,{style:{marginRight:"8px"}}),"Logout"]})]})]})]}):E.jsxs(E.Fragment,{children:[E.jsx(Ci,{to:"/signup",children:E.jsx(Rl,{p:5,children:"Sign Up"})}),E.jsx(An,{width:"10px"}),E.jsx(Ci,{to:"/login",children:E.jsx(Rl,{p:5,backgroundColor:"#E9204F",children:"Login"})})]})})})]})})]})]})]})}const pM=({frontside_imageUrl:t,icon:e,frontside_title:n,inside_title:i,inside_imageUrl:r,inside_description:s})=>E.jsx("div",{className:"flip-card",children:E.jsxs("div",{className:"flip-card-inner",children:[E.jsxs("div",{className:"flip-card-front",children:[E.jsx("img",{src:t,alt:"Frontside",className:"card-image"}),E.jsx("div",{className:"front-content",children:E.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px"},children:n})})]}),E.jsxs("div",{className:"flip-card-back",children:[E.jsx("img",{src:r,alt:"Inside",className:"card-image"}),E.jsxs("div",{className:"back-content",children:[E.jsx(e,{className:"icon"}),E.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px"},children:i}),E.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.5",textAlign:"center",padding:"0 20px"},children:s})]})]})]})});function DD(t){return Vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function i7(t){return Vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function _ve(t){return Vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function bve(t){return Vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function tP(t){return Vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{fill:"none"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M0 0h24v24H0V0z",opacity:".87"},child:[]}]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"},child:[]}]})(t)}function ak(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(t)}function Sve(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M421.84 37.37a25.86 25.86 0 0 0-22.6-4.46L199.92 86.49A32.3 32.3 0 0 0 176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0 0 23.23 45.63A54.78 54.78 0 0 0 135.34 480a55.82 55.82 0 0 0 17.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 0 0 208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 0 1 5 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 0 0 304 375.92a55.67 55.67 0 0 0 23.23 45.8 54.63 54.63 0 0 0 49.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 0 0 432 375.92V58a25.74 25.74 0 0 0-10.16-20.63z"},child:[]}]})(t)}function FD(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"},child:[]}]})(t)}const wve=({imageUrl:t,title:e,date:n,duration:i,tracks:r})=>E.jsxs("div",{className:"album-card",children:[E.jsx("div",{className:"album-cover",children:E.jsx("img",{src:t,alt:e})}),E.jsxs("div",{className:"album-details",children:[E.jsx("h2",{className:"album-name",children:e}),E.jsxs("div",{className:"album-info",children:[E.jsxs("span",{children:[E.jsx("span",{className:"album-icon",children:E.jsx(lx,{})}),n]}),E.jsxs("span",{children:[E.jsx("span",{className:"album-icon",children:E.jsx(_ve,{})}),i," min"]}),E.jsxs("span",{children:[E.jsx("span",{className:"album-icon",children:E.jsx(Sve,{})}),r," tracks"]})]})]})]});function tc(){return E.jsx(An,{bg:"#09090b",py:4,fontFamily:"Sansation",fontWeight:"700",fontSize:"14px",position:"relative",width:"100%",height:"auto",pt:8,children:E.jsxs(Il,{direction:"column",align:"center",justify:"center",maxW:"1200px",mx:"auto",px:6,gap:4,height:"auto",children:[E.jsxs(Il,{justify:"center",gap:6,mb:4,children:[E.jsx(_m,{href:"https://open.spotify.com/user/3134f72ql3dn4z6gbrvcrgcs4vqa",children:E.jsx(vy,{src:" /images/Spotify.png",alt:"Spotify",height:"24px"})}),E.jsx(_m,{href:"https://music.apple.com",children:E.jsx(vy,{src:" /images/Apple.png",alt:"Apple Music",height:"24px"})}),E.jsx(_m,{href:"https://music.youtube.com/channel/UC_-Opt2taZLj_xpxP1utQxw?feature=shared",children:E.jsx(vy,{src:" /images/Youtube.png",alt:"Youtube",height:"24px"})})]}),E.jsx(pr,{color:"white",mb:2,children:" 2025 Stage Fright"}),E.jsxs(Il,{gap:4,justify:"center",align:"center",direction:"row",children:[E.jsx(Ci,{to:"/contact-us",color:"white",onClick:()=>window.scrollTo(0,0),children:E.jsx(_m,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Contact Us"})}),E.jsx(pr,{color:"white",children:"|"}),E.jsx(Ci,{to:"/terms",color:"white",onClick:()=>window.scrollTo(0,0),children:E.jsx(_m,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Terms"})}),E.jsx(pr,{color:"white",children:"|"}),E.jsx(Ci,{to:"/privacy",color:"white",onClick:()=>window.scrollTo(0,0),children:E.jsx(_m,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Privacy"})})]})]})})}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const c_="168",Eve={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Cve={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},r7=0,nP=1,s7=2,Tve=3,o7=0,JE=1,Ey=2,ja=3,pu=0,zs=1,$a=2,nu=0,Ph=1,iP=2,rP=3,sP=4,a7=5,Td=100,l7=101,c7=102,u7=103,d7=104,f7=200,h7=201,p7=202,m7=203,vw=204,yw=205,g7=206,v7=207,y7=208,x7=209,_7=210,b7=211,S7=212,w7=213,E7=214,C7=0,T7=1,M7=2,cx=3,A7=4,P7=5,R7=6,I7=7,u_=0,k7=1,N7=2,Vl=0,O7=1,L7=2,D7=3,lk=4,F7=5,z7=6,U7=7,oP="attached",B7="detached",QE=300,mu=301,Hd=302,ux=303,dx=304,uv=306,fx=1e3,aa=1001,hx=1002,kr=1003,ck=1004,Mve=1004,sg=1005,Ave=1005,tr=1006,Cy=1007,Pve=1007,kl=1008,Rve=1008,nl=1009,uk=1010,dk=1011,Ug=1012,ZE=1013,gu=1014,io=1015,dv=1016,eC=1017,tC=1018,Xh=1020,fk=35902,hk=1021,pk=1022,ms=1023,mk=1024,gk=1025,Rh=1026,Yh=1027,nC=1028,d_=1029,vk=1030,iC=1031,Ive=1032,rC=1033,Ty=33776,My=33777,Ay=33778,Py=33779,xw=35840,_w=35841,bw=35842,Sw=35843,ww=36196,Ew=37492,Cw=37496,Tw=37808,Mw=37809,Aw=37810,Pw=37811,Rw=37812,Iw=37813,kw=37814,Nw=37815,Ow=37816,Lw=37817,Dw=37818,Fw=37819,zw=37820,Uw=37821,Ry=36492,Bw=36494,Vw=36495,yk=36283,jw=36284,Hw=36285,Ww=36286,V7=2200,j7=2201,H7=2202,px=2300,Gw=2301,vS=2302,Sh=2400,wh=2401,mx=2402,sC=2500,xk=2501,kve=0,Nve=1,Ove=2,W7=3200,G7=3201,Lve=3202,Dve=3203,Jd=0,$7=1,Gc="",na="srgb",Cu="srgb-linear",oC="display-p3",f_="display-p3-linear",gx="linear",oi="srgb",vx="rec709",yx="p3",Fve=0,ph=7680,zve=7681,Uve=7682,Bve=7683,Vve=34055,jve=34056,Hve=5386,Wve=512,Gve=513,$ve=514,qve=515,Xve=516,Yve=517,Kve=518,aP=519,q7=512,X7=513,Y7=514,_k=515,K7=516,J7=517,Q7=518,Z7=519,xx=35044,Jve=35048,Qve=35040,Zve=35045,e0e=35049,t0e=35041,n0e=35046,i0e=35050,r0e=35042,s0e="100",lP="300 es",Nl=2e3,_x=2001;class nc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ls=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zD=1234567;const Ih=Math.PI/180,Bg=180/Math.PI;function No(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ls[t&255]+ls[t>>8&255]+ls[t>>16&255]+ls[t>>24&255]+"-"+ls[e&255]+ls[e>>8&255]+"-"+ls[e>>16&15|64]+ls[e>>24&255]+"-"+ls[n&63|128]+ls[n>>8&255]+"-"+ls[n>>16&255]+ls[n>>24&255]+ls[i&255]+ls[i>>8&255]+ls[i>>16&255]+ls[i>>24&255]).toLowerCase()}function Fi(t,e,n){return Math.max(e,Math.min(n,t))}function bk(t,e){return(t%e+e)%e}function o0e(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function a0e(t,e,n){return t!==e?(n-t)/(e-t):0}function Iy(t,e,n){return(1-n)*t+n*e}function l0e(t,e,n,i){return Iy(t,e,1-Math.exp(-n*i))}function c0e(t,e=1){return e-Math.abs(bk(t,e*2)-e)}function u0e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function d0e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function f0e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function h0e(t,e){return t+Math.random()*(e-t)}function p0e(t){return t*(.5-Math.random())}function m0e(t){t!==void 0&&(zD=t);let e=zD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function g0e(t){return t*Ih}function v0e(t){return t*Bg}function y0e(t){return(t&t-1)===0&&t!==0}function x0e(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function _0e(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function b0e(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),v=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":t.set(a*d,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*d,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*d,a*c);break;case"XZX":t.set(a*d,l*y,l*v,a*c);break;case"YXY":t.set(l*v,a*d,l*y,a*c);break;case"ZYZ":t.set(l*y,l*v,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Os(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const e9={DEG2RAD:Ih,RAD2DEG:Bg,generateUUID:No,clamp:Fi,euclideanModulo:bk,mapLinear:o0e,inverseLerp:a0e,lerp:Iy,damp:l0e,pingpong:c0e,smoothstep:u0e,smootherstep:d0e,randInt:f0e,randFloat:h0e,randFloatSpread:p0e,seededRandom:m0e,degToRad:g0e,radToDeg:v0e,isPowerOfTwo:y0e,ceilPowerOfTwo:x0e,floorPowerOfTwo:_0e,setQuaternionFromProperEuler:b0e,normalize:en,denormalize:Os};class De{constructor(e=0,n=0){De.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Fi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zt{constructor(e,n,i,r,s,o,a,l,c){Zt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=n,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],p=i[2],v=i[5],y=i[8],b=r[0],S=r[3],_=r[6],w=r[1],C=r[4],A=r[7],R=r[2],O=r[5],L=r[8];return s[0]=o*b+a*w+l*R,s[3]=o*S+a*C+l*O,s[6]=o*_+a*A+l*L,s[1]=c*b+d*w+h*R,s[4]=c*S+d*C+h*O,s[7]=c*_+d*A+h*L,s[2]=p*b+v*w+y*R,s[5]=p*S+v*C+y*O,s[8]=p*_+v*A+y*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,v=c*s-o*l,y=n*h+i*p+r*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/y;return e[0]=h*b,e[1]=(r*c-d*i)*b,e[2]=(a*i-r*o)*b,e[3]=p*b,e[4]=(d*n-r*l)*b,e[5]=(r*s-a*n)*b,e[6]=v*b,e[7]=(i*l-c*n)*b,e[8]=(o*n-i*s)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(mM.makeScale(e,n)),this}rotate(e){return this.premultiply(mM.makeRotation(-e)),this}translate(e,n){return this.premultiply(mM.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const mM=new Zt;function t9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const S0e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function og(t,e){return new S0e[t](e)}function bx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function n9(){const t=bx("canvas");return t.style.display="block",t}const UD={};function Eg(t){t in UD||(UD[t]=!0,console.warn(t))}function w0e(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const BD=new Zt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),VD=new Zt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),P0={[Cu]:{transfer:gx,primaries:vx,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[na]:{transfer:oi,primaries:vx,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[f_]:{transfer:gx,primaries:yx,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(VD),fromReference:t=>t.applyMatrix3(BD)},[oC]:{transfer:oi,primaries:yx,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(VD),fromReference:t=>t.applyMatrix3(BD).convertLinearToSRGB()}},E0e=new Set([Cu,f_]),Pn={enabled:!0,_workingColorSpace:Cu,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!E0e.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=P0[e].toReference,r=P0[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return P0[t].primaries},getTransfer:function(t){return t===Gc?gx:P0[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(P0[e].luminanceCoefficients)}};function Cg(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function gM(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Sm;class i9{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Sm===void 0&&(Sm=bx("canvas")),Sm.width=e.width,Sm.height=e.height;const i=Sm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Sm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=bx("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Cg(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Cg(n[i]/255)*255):n[i]=Cg(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let C0e=0;class Eh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:C0e++}),this.uuid=No(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(vM(r[o].image)):s.push(vM(r[o]))}else s=vM(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function vM(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?i9.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let T0e=0;class xi extends nc{constructor(e=xi.DEFAULT_IMAGE,n=xi.DEFAULT_MAPPING,i=aa,r=aa,s=tr,o=kl,a=ms,l=nl,c=xi.DEFAULT_ANISOTROPY,d=Gc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:T0e++}),this.uuid=No(),this.name="",this.source=new Eh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==QE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fx:e.x=e.x-Math.floor(e.x);break;case aa:e.x=e.x<0?0:1;break;case hx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fx:e.y=e.y-Math.floor(e.y);break;case aa:e.y=e.y<0?0:1;break;case hx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}xi.DEFAULT_IMAGE=null;xi.DEFAULT_MAPPING=QE;xi.DEFAULT_ANISOTROPY=1;class Sn{constructor(e=0,n=0,i=0,r=1){Sn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],v=l[5],y=l[9],b=l[2],S=l[6],_=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-b)<.01&&Math.abs(y-S)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+b)<.1&&Math.abs(y+S)<.1&&Math.abs(c+v+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(c+1)/2,A=(v+1)/2,R=(_+1)/2,O=(d+p)/4,L=(h+b)/4,z=(y+S)/4;return C>A&&C>R?C<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(C),r=O/i,s=L/i):A>R?A<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(A),i=O/r,s=z/r):R<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(R),i=L/s,r=z/s),this.set(i,r,s,n),this}let w=Math.sqrt((S-y)*(S-y)+(h-b)*(h-b)+(p-d)*(p-d));return Math.abs(w)<.001&&(w=1),this.x=(S-y)/w,this.y=(h-b)/w,this.z=(p-d)/w,this.w=Math.acos((c+v+_-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class r9 extends nc{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Sn(0,0,e,n),this.scissorTest=!1,this.viewport=new Sn(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:tr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new xi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Eh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class il extends r9{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class aC extends xi{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=aa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class M0e extends il{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new aC(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Sk extends xi{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=aa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class A0e extends il{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Sk(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class vr{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],v=s[o+1],y=s[o+2],b=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=v,e[n+2]=y,e[n+3]=b;return}if(h!==b||l!==p||c!==v||d!==y){let S=1-a;const _=l*p+c*v+d*y+h*b,w=_>=0?1:-1,C=1-_*_;if(C>Number.EPSILON){const R=Math.sqrt(C),O=Math.atan2(R,_*w);S=Math.sin(S*O)/R,a=Math.sin(a*O)/R}const A=a*w;if(l=l*S+p*A,c=c*S+v*A,d=d*S+y*A,h=h*S+b*A,S===1-a){const R=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=R,c*=R,d*=R,h*=R}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[o],p=s[o+1],v=s[o+2],y=s[o+3];return e[n]=a*y+d*h+l*v-c*p,e[n+1]=l*y+d*p+c*h-a*v,e[n+2]=c*y+d*v+a*p-l*h,e[n+3]=d*y-a*h-l*p-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),v=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*v*y,this._y=c*v*h-p*d*y,this._z=c*d*y+p*v*h,this._w=c*d*h-p*v*y;break;case"YXZ":this._x=p*d*h+c*v*y,this._y=c*v*h-p*d*y,this._z=c*d*y-p*v*h,this._w=c*d*h+p*v*y;break;case"ZXY":this._x=p*d*h-c*v*y,this._y=c*v*h+p*d*y,this._z=c*d*y+p*v*h,this._w=c*d*h-p*v*y;break;case"ZYX":this._x=p*d*h-c*v*y,this._y=c*v*h+p*d*y,this._z=c*d*y-p*v*h,this._w=c*d*h+p*v*y;break;case"YZX":this._x=p*d*h+c*v*y,this._y=c*v*h+p*d*y,this._z=c*d*y-p*v*h,this._w=c*d*h-p*v*y;break;case"XZY":this._x=p*d*h-c*v*y,this._y=c*v*h-p*d*y,this._z=c*d*y+p*v*h,this._w=c*d*h+p*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],h=n[10],p=i+a+h;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(d-l)*v,this._y=(s-c)*v,this._z=(o-r)*v}else if(i>a&&i>h){const v=2*Math.sqrt(1+i-a-h);this._w=(d-l)/v,this._x=.25*v,this._y=(r+o)/v,this._z=(s+c)/v}else if(a>h){const v=2*Math.sqrt(1+a-i-h);this._w=(s-c)/v,this._x=(r+o)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+h-i-a);this._w=(o-r)/v,this._x=(s+c)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fi(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*i+n*this._x,this._y=v*r+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-n)*d)/c,p=Math.sin(n*d)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,n=0,i=0){ne.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(jD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(jD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),d=2*(a*n-s*r),h=2*(s*i-o*n);return this.x=n+l*c+o*h-a*d,this.y=i+l*d+a*c-s*h,this.z=r+l*h+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return yM.copy(this).projectOnVector(e),this.sub(yM)}reflect(e){return this.sub(yM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Fi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const yM=new ne,jD=new vr;class Us{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Fa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Fa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Fa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Fa):Fa.fromBufferAttribute(s,o),Fa.applyMatrix4(e.matrixWorld),this.expandByPoint(Fa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),j1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),j1.copy(i.boundingBox)),j1.applyMatrix4(e.matrixWorld),this.union(j1)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Fa),Fa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(R0),H1.subVectors(this.max,R0),wm.subVectors(e.a,R0),Em.subVectors(e.b,R0),Cm.subVectors(e.c,R0),ld.subVectors(Em,wm),cd.subVectors(Cm,Em),Jf.subVectors(wm,Cm);let n=[0,-ld.z,ld.y,0,-cd.z,cd.y,0,-Jf.z,Jf.y,ld.z,0,-ld.x,cd.z,0,-cd.x,Jf.z,0,-Jf.x,-ld.y,ld.x,0,-cd.y,cd.x,0,-Jf.y,Jf.x,0];return!xM(n,wm,Em,Cm,H1)||(n=[1,0,0,0,1,0,0,0,1],!xM(n,wm,Em,Cm,H1))?!1:(W1.crossVectors(ld,cd),n=[W1.x,W1.y,W1.z],xM(n,wm,Em,Cm,H1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Fa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Fa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fc=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],Fa=new ne,j1=new Us,wm=new ne,Em=new ne,Cm=new ne,ld=new ne,cd=new ne,Jf=new ne,R0=new ne,H1=new ne,W1=new ne,Qf=new ne;function xM(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Qf.fromArray(t,s);const a=r.x*Math.abs(Qf.x)+r.y*Math.abs(Qf.y)+r.z*Math.abs(Qf.z),l=e.dot(Qf),c=n.dot(Qf),d=i.dot(Qf);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const P0e=new Us,I0=new ne,_M=new ne;class vs{constructor(e=new ne,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):P0e.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;I0.subVectors(e,this.center);const n=I0.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(I0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_M.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(I0.copy(e.center).add(_M)),this.expandByPoint(I0.copy(e.center).sub(_M))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const zc=new ne,bM=new ne,G1=new ne,ud=new ne,SM=new ne,$1=new ne,wM=new ne;class fv{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,zc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=zc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(zc.copy(this.origin).addScaledVector(this.direction,n),zc.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){bM.copy(e).add(n).multiplyScalar(.5),G1.copy(n).sub(e).normalize(),ud.copy(this.origin).sub(bM);const s=e.distanceTo(n)*.5,o=-this.direction.dot(G1),a=ud.dot(this.direction),l=-ud.dot(G1),c=ud.lengthSq(),d=Math.abs(1-o*o);let h,p,v,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const b=1/d;h*=b,p*=b,v=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),v=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),v=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),v=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(bM).addScaledVector(G1,p),v}intersectSphere(e,n){zc.subVectors(e.center,this.origin);const i=zc.dot(this.direction),r=zc.dot(zc)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,zc)!==null}intersectTriangle(e,n,i,r,s){SM.subVectors(n,e),$1.subVectors(i,e),wM.crossVectors(SM,$1);let o=this.direction.dot(wM),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ud.subVectors(this.origin,e);const l=a*this.direction.dot($1.crossVectors(ud,$1));if(l<0)return null;const c=a*this.direction.dot(SM.cross(ud));if(c<0||l+c>o)return null;const d=-a*ud.dot(wM);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ot{constructor(e,n,i,r,s,o,a,l,c,d,h,p,v,y,b,S){Ot.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,d,h,p,v,y,b,S)}set(e,n,i,r,s,o,a,l,c,d,h,p,v,y,b,S){const _=this.elements;return _[0]=e,_[4]=n,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=d,_[10]=h,_[14]=p,_[3]=v,_[7]=y,_[11]=b,_[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ot().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Tm.setFromMatrixColumn(e,0).length(),s=1/Tm.setFromMatrixColumn(e,1).length(),o=1/Tm.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,v=o*h,y=a*d,b=a*h;n[0]=l*d,n[4]=-l*h,n[8]=c,n[1]=v+y*c,n[5]=p-b*c,n[9]=-a*l,n[2]=b-p*c,n[6]=y+v*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*d,v=l*h,y=c*d,b=c*h;n[0]=p+b*a,n[4]=y*a-v,n[8]=o*c,n[1]=o*h,n[5]=o*d,n[9]=-a,n[2]=v*a-y,n[6]=b+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*d,v=l*h,y=c*d,b=c*h;n[0]=p-b*a,n[4]=-o*h,n[8]=y+v*a,n[1]=v+y*a,n[5]=o*d,n[9]=b-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*d,v=o*h,y=a*d,b=a*h;n[0]=l*d,n[4]=y*c-v,n[8]=p*c+b,n[1]=l*h,n[5]=b*c+p,n[9]=v*c-y,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,v=o*c,y=a*l,b=a*c;n[0]=l*d,n[4]=b-p*h,n[8]=y*h+v,n[1]=h,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=v*h+y,n[10]=p-b*h}else if(e.order==="XZY"){const p=o*l,v=o*c,y=a*l,b=a*c;n[0]=l*d,n[4]=-h,n[8]=c*d,n[1]=p*h+b,n[5]=o*d,n[9]=v*h-y,n[2]=y*h-v,n[6]=a*d,n[10]=b*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(R0e,e,I0e)}lookAt(e,n,i){const r=this.elements;return wo.subVectors(e,n),wo.lengthSq()===0&&(wo.z=1),wo.normalize(),dd.crossVectors(i,wo),dd.lengthSq()===0&&(Math.abs(i.z)===1?wo.x+=1e-4:wo.z+=1e-4,wo.normalize(),dd.crossVectors(i,wo)),dd.normalize(),q1.crossVectors(wo,dd),r[0]=dd.x,r[4]=q1.x,r[8]=wo.x,r[1]=dd.y,r[5]=q1.y,r[9]=wo.y,r[2]=dd.z,r[6]=q1.z,r[10]=wo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],p=i[9],v=i[13],y=i[2],b=i[6],S=i[10],_=i[14],w=i[3],C=i[7],A=i[11],R=i[15],O=r[0],L=r[4],z=r[8],N=r[12],k=r[1],B=r[5],H=r[9],J=r[13],Z=r[2],$=r[6],K=r[10],W=r[14],V=r[3],X=r[7],te=r[11],Y=r[15];return s[0]=o*O+a*k+l*Z+c*V,s[4]=o*L+a*B+l*$+c*X,s[8]=o*z+a*H+l*K+c*te,s[12]=o*N+a*J+l*W+c*Y,s[1]=d*O+h*k+p*Z+v*V,s[5]=d*L+h*B+p*$+v*X,s[9]=d*z+h*H+p*K+v*te,s[13]=d*N+h*J+p*W+v*Y,s[2]=y*O+b*k+S*Z+_*V,s[6]=y*L+b*B+S*$+_*X,s[10]=y*z+b*H+S*K+_*te,s[14]=y*N+b*J+S*W+_*Y,s[3]=w*O+C*k+A*Z+R*V,s[7]=w*L+C*B+A*$+R*X,s[11]=w*z+C*H+A*K+R*te,s[15]=w*N+C*J+A*W+R*Y,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],v=e[14],y=e[3],b=e[7],S=e[11],_=e[15];return y*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*v-i*l*v)+b*(+n*l*v-n*c*p+s*o*p-r*o*v+r*c*d-s*l*d)+S*(+n*c*h-n*a*v-s*o*h+i*o*v+s*a*d-i*c*d)+_*(-r*a*d-n*l*h+n*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],v=e[11],y=e[12],b=e[13],S=e[14],_=e[15],w=h*S*c-b*p*c+b*l*v-a*S*v-h*l*_+a*p*_,C=y*p*c-d*S*c-y*l*v+o*S*v+d*l*_-o*p*_,A=d*b*c-y*h*c+y*a*v-o*b*v-d*a*_+o*h*_,R=y*h*l-d*b*l-y*a*p+o*b*p+d*a*S-o*h*S,O=n*w+i*C+r*A+s*R;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/O;return e[0]=w*L,e[1]=(b*p*s-h*S*s-b*r*v+i*S*v+h*r*_-i*p*_)*L,e[2]=(a*S*s-b*l*s+b*r*c-i*S*c-a*r*_+i*l*_)*L,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*v-i*l*v)*L,e[4]=C*L,e[5]=(d*S*s-y*p*s+y*r*v-n*S*v-d*r*_+n*p*_)*L,e[6]=(y*l*s-o*S*s-y*r*c+n*S*c+o*r*_-n*l*_)*L,e[7]=(o*p*s-d*l*s+d*r*c-n*p*c-o*r*v+n*l*v)*L,e[8]=A*L,e[9]=(y*h*s-d*b*s-y*i*v+n*b*v+d*i*_-n*h*_)*L,e[10]=(o*b*s-y*a*s+y*i*c-n*b*c-o*i*_+n*a*_)*L,e[11]=(d*a*s-o*h*s-d*i*c+n*h*c+o*i*v-n*a*v)*L,e[12]=R*L,e[13]=(d*b*r-y*h*r+y*i*p-n*b*p-d*i*S+n*h*S)*L,e[14]=(y*a*r-o*b*r-y*i*l+n*b*l+o*i*S-n*a*S)*L,e[15]=(o*h*r-d*a*r+d*i*l-n*h*l-o*i*p+n*a*p)*L,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,d=o+o,h=a+a,p=s*c,v=s*d,y=s*h,b=o*d,S=o*h,_=a*h,w=l*c,C=l*d,A=l*h,R=i.x,O=i.y,L=i.z;return r[0]=(1-(b+_))*R,r[1]=(v+A)*R,r[2]=(y-C)*R,r[3]=0,r[4]=(v-A)*O,r[5]=(1-(p+_))*O,r[6]=(S+w)*O,r[7]=0,r[8]=(y+C)*L,r[9]=(S-w)*L,r[10]=(1-(p+b))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Tm.set(r[0],r[1],r[2]).length();const o=Tm.set(r[4],r[5],r[6]).length(),a=Tm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],za.copy(this);const c=1/s,d=1/o,h=1/a;return za.elements[0]*=c,za.elements[1]*=c,za.elements[2]*=c,za.elements[4]*=d,za.elements[5]*=d,za.elements[6]*=d,za.elements[8]*=h,za.elements[9]*=h,za.elements[10]*=h,n.setFromRotationMatrix(za),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Nl){const l=this.elements,c=2*s/(n-e),d=2*s/(i-r),h=(n+e)/(n-e),p=(i+r)/(i-r);let v,y;if(a===Nl)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===_x)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Nl){const l=this.elements,c=1/(n-e),d=1/(i-r),h=1/(o-s),p=(n+e)*c,v=(i+r)*d;let y,b;if(a===Nl)y=(o+s)*h,b=-2*h;else if(a===_x)y=s*h,b=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=b,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Tm=new ne,za=new Ot,R0e=new ne(0,0,0),I0e=new ne(1,1,1),dd=new ne,q1=new ne,wo=new ne,HD=new Ot,WD=new vr;class ao{constructor(e=0,n=0,i=0,r=ao.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],h=r[2],p=r[6],v=r[10];switch(n){case"XYZ":this._y=Math.asin(Fi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Fi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fi(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Fi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Fi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-Fi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return HD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HD,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return WD.setFromEuler(this),this.setFromQuaternion(WD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ao.DEFAULT_ORDER="XYZ";class kh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let k0e=0;const GD=new ne,Mm=new vr,Uc=new Ot,X1=new ne,k0=new ne,N0e=new ne,O0e=new vr,$D=new ne(1,0,0),qD=new ne(0,1,0),XD=new ne(0,0,1),YD={type:"added"},L0e={type:"removed"},Am={type:"childadded",child:null},EM={type:"childremoved",child:null};class Cn extends nc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:k0e++}),this.uuid=No(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cn.DEFAULT_UP.clone();const e=new ne,n=new ao,i=new vr,r=new ne(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ot},normalMatrix:{value:new Zt}}),this.matrix=new Ot,this.matrixWorld=new Ot,this.matrixAutoUpdate=Cn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new kh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Mm.setFromAxisAngle(e,n),this.quaternion.multiply(Mm),this}rotateOnWorldAxis(e,n){return Mm.setFromAxisAngle(e,n),this.quaternion.premultiply(Mm),this}rotateX(e){return this.rotateOnAxis($D,e)}rotateY(e){return this.rotateOnAxis(qD,e)}rotateZ(e){return this.rotateOnAxis(XD,e)}translateOnAxis(e,n){return GD.copy(e).applyQuaternion(this.quaternion),this.position.add(GD.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis($D,e)}translateY(e){return this.translateOnAxis(qD,e)}translateZ(e){return this.translateOnAxis(XD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Uc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?X1.copy(e):X1.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),k0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uc.lookAt(k0,X1,this.up):Uc.lookAt(X1,k0,this.up),this.quaternion.setFromRotationMatrix(Uc),r&&(Uc.extractRotation(r.matrixWorld),Mm.setFromRotationMatrix(Uc),this.quaternion.premultiply(Mm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(YD),Am.child=e,this.dispatchEvent(Am),Am.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(L0e),EM.child=e,this.dispatchEvent(EM),EM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Uc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(YD),Am.child=e,this.dispatchEvent(Am),Am.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(k0,e,N0e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(k0,O0e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),v.length>0&&(i.animations=v),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Cn.DEFAULT_UP=new ne(0,1,0);Cn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ua=new ne,Bc=new ne,CM=new ne,Vc=new ne,Pm=new ne,Rm=new ne,KD=new ne,TM=new ne,MM=new ne,AM=new ne;class Ro{constructor(e=new ne,n=new ne,i=new ne){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ua.subVectors(e,n),r.cross(Ua);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Ua.subVectors(r,n),Bc.subVectors(i,n),CM.subVectors(e,n);const o=Ua.dot(Ua),a=Ua.dot(Bc),l=Ua.dot(CM),c=Bc.dot(Bc),d=Bc.dot(CM),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,v=(c*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-v-y,y,v)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Vc)===null?!1:Vc.x>=0&&Vc.y>=0&&Vc.x+Vc.y<=1}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,Vc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Vc.x),l.addScaledVector(o,Vc.y),l.addScaledVector(a,Vc.z),l)}static isFrontFacing(e,n,i,r){return Ua.subVectors(i,n),Bc.subVectors(e,n),Ua.cross(Bc).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ua.subVectors(this.c,this.b),Bc.subVectors(this.a,this.b),Ua.cross(Bc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ro.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ro.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return Ro.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return Ro.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ro.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Pm.subVectors(r,i),Rm.subVectors(s,i),TM.subVectors(e,i);const l=Pm.dot(TM),c=Rm.dot(TM);if(l<=0&&c<=0)return n.copy(i);MM.subVectors(e,r);const d=Pm.dot(MM),h=Rm.dot(MM);if(d>=0&&h<=d)return n.copy(r);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(i).addScaledVector(Pm,o);AM.subVectors(e,s);const v=Pm.dot(AM),y=Rm.dot(AM);if(y>=0&&v<=y)return n.copy(s);const b=v*c-l*y;if(b<=0&&c>=0&&y<=0)return a=c/(c-y),n.copy(i).addScaledVector(Rm,a);const S=d*y-v*h;if(S<=0&&h-d>=0&&v-y>=0)return KD.subVectors(s,r),a=(h-d)/(h-d+(v-y)),n.copy(r).addScaledVector(KD,a);const _=1/(S+b+p);return o=b*_,a=p*_,n.copy(i).addScaledVector(Pm,o).addScaledVector(Rm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const s9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fd={h:0,s:0,l:0},Y1={h:0,s:0,l:0};function PM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ht{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Pn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Pn.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Pn.workingColorSpace){if(e=bk(e,1),n=Fi(n,0,1),i=Fi(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=PM(o,s,e+1/3),this.g=PM(o,s,e),this.b=PM(o,s,e-1/3)}return Pn.toWorkingColorSpace(this,r),this}setStyle(e,n=na){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=na){const i=s9[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cg(e.r),this.g=Cg(e.g),this.b=Cg(e.b),this}copyLinearToSRGB(e){return this.r=gM(e.r),this.g=gM(e.g),this.b=gM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=na){return Pn.fromWorkingColorSpace(cs.copy(this),e),Math.round(Fi(cs.r*255,0,255))*65536+Math.round(Fi(cs.g*255,0,255))*256+Math.round(Fi(cs.b*255,0,255))}getHexString(e=na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Pn.workingColorSpace){Pn.fromWorkingColorSpace(cs.copy(this),n);const i=cs.r,r=cs.g,s=cs.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=Pn.workingColorSpace){return Pn.fromWorkingColorSpace(cs.copy(this),n),e.r=cs.r,e.g=cs.g,e.b=cs.b,e}getStyle(e=na){Pn.fromWorkingColorSpace(cs.copy(this),e);const n=cs.r,i=cs.g,r=cs.b;return e!==na?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(fd),this.setHSL(fd.h+e,fd.s+n,fd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(fd),e.getHSL(Y1);const i=Iy(fd.h,Y1.h,n),r=Iy(fd.s,Y1.s,n),s=Iy(fd.l,Y1.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const cs=new ht;ht.NAMES=s9;let D0e=0;class _s extends nc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:D0e++}),this.uuid=No(),this.name="",this.type="Material",this.blending=Ph,this.side=pu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=vw,this.blendDst=yw,this.blendEquation=Td,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ht(0,0,0),this.blendAlpha=0,this.depthFunc=cx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=aP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ph,this.stencilZFail=ph,this.stencilZPass=ph,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ph&&(i.blending=this.blending),this.side!==pu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==vw&&(i.blendSrc=this.blendSrc),this.blendDst!==yw&&(i.blendDst=this.blendDst),this.blendEquation!==Td&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==cx&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==aP&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ph&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ph&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ph&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Qd extends _s{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ao,this.combine=u_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $c=F0e();function F0e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function eo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Fi(t,-65504,65504),$c.floatView[0]=t;const e=$c.uint32View[0],n=e>>23&511;return $c.baseTable[n]+((e&8388607)>>$c.shiftTable[n])}function ly(t){const e=t>>10;return $c.uint32View[0]=$c.mantissaTable[$c.offsetTable[e]+(t&1023)]+$c.exponentTable[e],$c.floatView[0]}const z0e={toHalfFloat:eo,fromHalfFloat:ly},Ji=new ne,K1=new De;class Xn{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=xx,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=io,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Eg("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)K1.fromBufferAttribute(this,n),K1.applyMatrix3(e),this.setXY(n,K1.x,K1.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.applyMatrix3(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.applyMatrix4(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.applyNormalMatrix(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.transformDirection(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Os(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Os(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Os(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Os(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Os(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),i=en(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),i=en(i,this.array),r=en(r,this.array),s=en(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xx&&(e.usage=this.usage),e}}class U0e extends Xn{constructor(e,n,i){super(new Int8Array(e),n,i)}}class B0e extends Xn{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class V0e extends Xn{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class j0e extends Xn{constructor(e,n,i){super(new Int16Array(e),n,i)}}class wk extends Xn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class H0e extends Xn{constructor(e,n,i){super(new Int32Array(e),n,i)}}class Ek extends Xn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class W0e extends Xn{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=ly(this.array[e*this.itemSize]);return this.normalized&&(n=Os(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=eo(n),this}getY(e){let n=ly(this.array[e*this.itemSize+1]);return this.normalized&&(n=Os(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=eo(n),this}getZ(e){let n=ly(this.array[e*this.itemSize+2]);return this.normalized&&(n=Os(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=eo(n),this}getW(e){let n=ly(this.array[e*this.itemSize+3]);return this.normalized&&(n=Os(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=eo(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),i=en(i,this.array)),this.array[e+0]=eo(n),this.array[e+1]=eo(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=eo(n),this.array[e+1]=eo(i),this.array[e+2]=eo(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),i=en(i,this.array),r=en(r,this.array),s=en(s,this.array)),this.array[e+0]=eo(n),this.array[e+1]=eo(i),this.array[e+2]=eo(r),this.array[e+3]=eo(s),this}}class Et extends Xn{constructor(e,n,i){super(new Float32Array(e),n,i)}}let G0e=0;const Qo=new Ot,RM=new Cn,Im=new ne,Eo=new Us,N0=new Us,Mr=new ne;class sn extends nc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:G0e++}),this.uuid=No(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(t9(e)?Ek:wk)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Zt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qo.makeRotationFromQuaternion(e),this.applyMatrix4(Qo),this}rotateX(e){return Qo.makeRotationX(e),this.applyMatrix4(Qo),this}rotateY(e){return Qo.makeRotationY(e),this.applyMatrix4(Qo),this}rotateZ(e){return Qo.makeRotationZ(e),this.applyMatrix4(Qo),this}translate(e,n,i){return Qo.makeTranslation(e,n,i),this.applyMatrix4(Qo),this}scale(e,n,i){return Qo.makeScale(e,n,i),this.applyMatrix4(Qo),this}lookAt(e){return RM.lookAt(e),RM.updateMatrix(),this.applyMatrix4(RM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Im).negate(),this.translate(Im.x,Im.y,Im.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Et(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Us);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Eo.setFromBufferAttribute(s),this.morphTargetsRelative?(Mr.addVectors(this.boundingBox.min,Eo.min),this.boundingBox.expandByPoint(Mr),Mr.addVectors(this.boundingBox.max,Eo.max),this.boundingBox.expandByPoint(Mr)):(this.boundingBox.expandByPoint(Eo.min),this.boundingBox.expandByPoint(Eo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ne,1/0);return}if(e){const i=this.boundingSphere.center;if(Eo.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];N0.setFromBufferAttribute(a),this.morphTargetsRelative?(Mr.addVectors(Eo.min,N0.min),Eo.expandByPoint(Mr),Mr.addVectors(Eo.max,N0.max),Eo.expandByPoint(Mr)):(Eo.expandByPoint(N0.min),Eo.expandByPoint(N0.max))}Eo.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Mr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Mr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Mr.fromBufferAttribute(a,c),l&&(Im.fromBufferAttribute(e,c),Mr.add(Im)),r=Math.max(r,i.distanceToSquared(Mr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Xn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let z=0;z<i.count;z++)a[z]=new ne,l[z]=new ne;const c=new ne,d=new ne,h=new ne,p=new De,v=new De,y=new De,b=new ne,S=new ne;function _(z,N,k){c.fromBufferAttribute(i,z),d.fromBufferAttribute(i,N),h.fromBufferAttribute(i,k),p.fromBufferAttribute(s,z),v.fromBufferAttribute(s,N),y.fromBufferAttribute(s,k),d.sub(c),h.sub(c),v.sub(p),y.sub(p);const B=1/(v.x*y.y-y.x*v.y);isFinite(B)&&(b.copy(d).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar(B),S.copy(h).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(B),a[z].add(b),a[N].add(b),a[k].add(b),l[z].add(S),l[N].add(S),l[k].add(S))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let z=0,N=w.length;z<N;++z){const k=w[z],B=k.start,H=k.count;for(let J=B,Z=B+H;J<Z;J+=3)_(e.getX(J+0),e.getX(J+1),e.getX(J+2))}const C=new ne,A=new ne,R=new ne,O=new ne;function L(z){R.fromBufferAttribute(r,z),O.copy(R);const N=a[z];C.copy(N),C.sub(R.multiplyScalar(R.dot(N))).normalize(),A.crossVectors(O,N);const B=A.dot(l[z])<0?-1:1;o.setXYZW(z,C.x,C.y,C.z,B)}for(let z=0,N=w.length;z<N;++z){const k=w[z],B=k.start,H=k.count;for(let J=B,Z=B+H;J<Z;J+=3)L(e.getX(J+0)),L(e.getX(J+1)),L(e.getX(J+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Xn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,v=i.count;p<v;p++)i.setXYZ(p,0,0,0);const r=new ne,s=new ne,o=new ne,a=new ne,l=new ne,c=new ne,d=new ne,h=new ne;if(e)for(let p=0,v=e.count;p<v;p+=3){const y=e.getX(p+0),b=e.getX(p+1),S=e.getX(p+2);r.fromBufferAttribute(n,y),s.fromBufferAttribute(n,b),o.fromBufferAttribute(n,S),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,b),c.fromBufferAttribute(i,S),a.add(d),l.add(d),c.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(b,l.x,l.y,l.z),i.setXYZ(S,c.x,c.y,c.z)}else for(let p=0,v=n.count;p<v;p+=3)r.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Mr.fromBufferAttribute(e,n),Mr.normalize(),e.setXYZ(n,Mr.x,Mr.y,Mr.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let v=0,y=0;for(let b=0,S=l.length;b<S;b++){a.isInterleavedBufferAttribute?v=l[b]*a.data.stride+a.offset:v=l[b]*d;for(let _=0;_<d;_++)p[y++]=c[v++]}return new Xn(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new sn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],v=e(p,i);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const v=c[h];d.push(v.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,v=h.length;p<v;p++)d.push(h[p].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const JD=new Ot,Zf=new fv,J1=new vs,QD=new ne,km=new ne,Nm=new ne,Om=new ne,IM=new ne,Q1=new ne,Z1=new De,eb=new De,tb=new De,ZD=new ne,e4=new ne,t4=new ne,nb=new ne,ib=new ne;class nr extends Cn{constructor(e=new sn,n=new Qd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Q1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(IM.fromBufferAttribute(h,e),o?Q1.addScaledVector(IM,d):Q1.addScaledVector(IM.sub(n),d))}n.add(Q1)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),J1.copy(i.boundingSphere),J1.applyMatrix4(s),Zf.copy(e.ray).recast(e.near),!(J1.containsPoint(Zf.origin)===!1&&(Zf.intersectSphere(J1,QD)===null||Zf.origin.distanceToSquared(QD)>(e.far-e.near)**2))&&(JD.copy(s).invert(),Zf.copy(e.ray).applyMatrix4(JD),!(i.boundingBox!==null&&Zf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Zf)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,p=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,b=p.length;y<b;y++){const S=p[y],_=o[S.materialIndex],w=Math.max(S.start,v.start),C=Math.min(a.count,Math.min(S.start+S.count,v.start+v.count));for(let A=w,R=C;A<R;A+=3){const O=a.getX(A),L=a.getX(A+1),z=a.getX(A+2);r=rb(this,_,e,i,c,d,h,O,L,z),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const y=Math.max(0,v.start),b=Math.min(a.count,v.start+v.count);for(let S=y,_=b;S<_;S+=3){const w=a.getX(S),C=a.getX(S+1),A=a.getX(S+2);r=rb(this,o,e,i,c,d,h,w,C,A),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,b=p.length;y<b;y++){const S=p[y],_=o[S.materialIndex],w=Math.max(S.start,v.start),C=Math.min(l.count,Math.min(S.start+S.count,v.start+v.count));for(let A=w,R=C;A<R;A+=3){const O=A,L=A+1,z=A+2;r=rb(this,_,e,i,c,d,h,O,L,z),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const y=Math.max(0,v.start),b=Math.min(l.count,v.start+v.count);for(let S=y,_=b;S<_;S+=3){const w=S,C=S+1,A=S+2;r=rb(this,o,e,i,c,d,h,w,C,A),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}}}function $0e(t,e,n,i,r,s,o,a){let l;if(e.side===zs?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===pu,a),l===null)return null;ib.copy(a),ib.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(ib);return c<n.near||c>n.far?null:{distance:c,point:ib.clone(),object:t}}function rb(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,km),t.getVertexPosition(l,Nm),t.getVertexPosition(c,Om);const d=$0e(t,e,n,i,km,Nm,Om,nb);if(d){r&&(Z1.fromBufferAttribute(r,a),eb.fromBufferAttribute(r,l),tb.fromBufferAttribute(r,c),d.uv=Ro.getInterpolation(nb,km,Nm,Om,Z1,eb,tb,new De)),s&&(Z1.fromBufferAttribute(s,a),eb.fromBufferAttribute(s,l),tb.fromBufferAttribute(s,c),d.uv1=Ro.getInterpolation(nb,km,Nm,Om,Z1,eb,tb,new De)),o&&(ZD.fromBufferAttribute(o,a),e4.fromBufferAttribute(o,l),t4.fromBufferAttribute(o,c),d.normal=Ro.getInterpolation(nb,km,Nm,Om,ZD,e4,t4,new ne),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new ne,materialIndex:0};Ro.getNormal(km,Nm,Om,h.normal),d.face=h}return d}class dp extends sn{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,v=0;y("z","y","x",-1,-1,i,n,e,o,s,0),y("z","y","x",1,-1,i,n,-e,o,s,1),y("x","z","y",1,1,e,i,n,r,o,2),y("x","z","y",1,-1,e,i,-n,r,o,3),y("x","y","z",1,-1,e,n,i,r,s,4),y("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Et(c,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(h,2));function y(b,S,_,w,C,A,R,O,L,z,N){const k=A/L,B=R/z,H=A/2,J=R/2,Z=O/2,$=L+1,K=z+1;let W=0,V=0;const X=new ne;for(let te=0;te<K;te++){const Y=te*B-J;for(let oe=0;oe<$;oe++){const ke=oe*k-H;X[b]=ke*w,X[S]=Y*C,X[_]=Z,c.push(X.x,X.y,X.z),X[b]=0,X[S]=0,X[_]=O>0?1:-1,d.push(X.x,X.y,X.z),h.push(oe/L),h.push(1-te/z),W+=1}}for(let te=0;te<z;te++)for(let Y=0;Y<L;Y++){const oe=p+Y+$*te,ke=p+Y+$*(te+1),he=p+(Y+1)+$*(te+1),Se=p+(Y+1)+$*te;l.push(oe,ke,Se),l.push(ke,he,Se),V+=6}a.addGroup(v,V,N),v+=V,p+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Vg(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ns(t){const e={};for(let n=0;n<t.length;n++){const i=Vg(t[n]);for(const r in i)e[r]=i[r]}return e}function q0e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function o9(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Pn.workingColorSpace}const Ck={clone:Vg,merge:Ns};var X0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Y0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ca extends _s{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=X0e,this.fragmentShader=Y0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vg(e.uniforms),this.uniformsGroups=q0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class h_ extends Cn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ot,this.projectionMatrix=new Ot,this.projectionMatrixInverse=new Ot,this.coordinateSystem=Nl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const hd=new ne,n4=new De,i4=new De;class Rr extends h_{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Bg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ih*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bg*2*Math.atan(Math.tan(Ih*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){hd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(hd.x,hd.y).multiplyScalar(-e/hd.z),hd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(hd.x,hd.y).multiplyScalar(-e/hd.z)}getViewSize(e,n){return this.getViewBounds(e,n4,i4),n.subVectors(i4,n4)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ih*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Lm=-90,Dm=1;class a9 extends Cn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Rr(Lm,Dm,e,n);r.layers=this.layers,this.add(r);const s=new Rr(Lm,Dm,e,n);s.layers=this.layers,this.add(s);const o=new Rr(Lm,Dm,e,n);o.layers=this.layers,this.add(o);const a=new Rr(Lm,Dm,e,n);a.layers=this.layers,this.add(a);const l=new Rr(Lm,Dm,e,n);l.layers=this.layers,this.add(l);const c=new Rr(Lm,Dm,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Nl)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===_x)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const b=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=b,e.setRenderTarget(i,5,r),e.render(n,d),e.setRenderTarget(h,p,v),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class p_ extends xi{constructor(e,n,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],n=n!==void 0?n:mu,super(e,n,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class l9 extends il{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new p_(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:tr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new dp(5,5,5),s=new ca({name:"CubemapFromEquirect",uniforms:Vg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:zs,blending:nu});s.uniforms.tEquirect.value=n;const o=new nr(r,s),a=n.minFilter;return n.minFilter===kl&&(n.minFilter=tr),new a9(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const kM=new ne,K0e=new ne,J0e=new Zt;class _d{constructor(e=new ne(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=kM.subVectors(i,n).cross(K0e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(kM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||J0e.getNormalMatrix(e),r=this.coplanarPoint(kM).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const eh=new vs,sb=new ne;class m_{constructor(e=new _d,n=new _d,i=new _d,r=new _d,s=new _d,o=new _d){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Nl){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],d=r[5],h=r[6],p=r[7],v=r[8],y=r[9],b=r[10],S=r[11],_=r[12],w=r[13],C=r[14],A=r[15];if(i[0].setComponents(l-s,p-c,S-v,A-_).normalize(),i[1].setComponents(l+s,p+c,S+v,A+_).normalize(),i[2].setComponents(l+o,p+d,S+y,A+w).normalize(),i[3].setComponents(l-o,p-d,S-y,A-w).normalize(),i[4].setComponents(l-a,p-h,S-b,A-C).normalize(),n===Nl)i[5].setComponents(l+a,p+h,S+b,A+C).normalize();else if(n===_x)i[5].setComponents(a,h,b,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),eh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),eh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(eh)}intersectsSprite(e){return eh.center.set(0,0,0),eh.radius=.7071067811865476,eh.applyMatrix4(e.matrixWorld),this.intersectsSphere(eh)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(sb.x=r.normal.x>0?e.max.x:e.min.x,sb.y=r.normal.y>0?e.max.y:e.min.y,sb.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(sb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function c9(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Q0e(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,h=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,d),a.onUploadCallback();let v;if(c instanceof Float32Array)v=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?v=t.HALF_FLOAT:v=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=t.SHORT;else if(c instanceof Uint32Array)v=t.UNSIGNED_INT;else if(c instanceof Int32Array)v=t.INT;else if(c instanceof Int8Array)v=t.BYTE;else if(c instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function i(a,l,c){const d=l.array,h=l._updateRange,p=l.updateRanges;if(t.bindBuffer(c,a),h.count===-1&&p.length===0&&t.bufferSubData(c,0,d),p.length!==0){for(let v=0,y=p.length;v<y;v++){const b=p[v];t.bufferSubData(c,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}l.clearUpdateRanges()}h.count!==-1&&(t.bufferSubData(c,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count),h.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class hv extends sn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,h=e/a,p=n/l,v=[],y=[],b=[],S=[];for(let _=0;_<d;_++){const w=_*p-o;for(let C=0;C<c;C++){const A=C*h-s;y.push(A,-w,0),b.push(0,0,1),S.push(C/a),S.push(1-_/l)}}for(let _=0;_<l;_++)for(let w=0;w<a;w++){const C=w+c*_,A=w+c*(_+1),R=w+1+c*(_+1),O=w+1+c*_;v.push(C,A,O),v.push(A,R,O)}this.setIndex(v),this.setAttribute("position",new Et(y,3)),this.setAttribute("normal",new Et(b,3)),this.setAttribute("uv",new Et(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hv(e.width,e.height,e.widthSegments,e.heightSegments)}}var Z0e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,eye=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,tye=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,nye=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,iye=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,rye=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sye=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oye=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,aye=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,lye=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,cye=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,uye=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dye=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,fye=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,hye=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pye=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,mye=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gye=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vye=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yye=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xye=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_ye=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,bye=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Sye=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,wye=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Eye=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Cye=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Tye=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Mye=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Aye=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Pye="gl_FragColor = linearToOutputTexel( gl_FragColor );",Rye=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Iye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,kye=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Nye=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Oye=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Lye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Dye=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Fye=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zye=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Uye=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Bye=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Vye=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jye=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Hye=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Wye=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Gye=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,$ye=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qye=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Xye=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Yye=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Kye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Jye=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Qye=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Zye=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,exe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,txe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,nxe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ixe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rxe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,sxe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oxe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,axe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,lxe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cxe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,uxe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dxe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,fxe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hxe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pxe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,mxe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,gxe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,vxe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yxe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xxe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_xe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bxe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Sxe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,wxe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Exe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Cxe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Txe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Mxe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Axe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Pxe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Rxe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ixe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kxe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Nxe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Oxe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Lxe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Dxe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Fxe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zxe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uxe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Bxe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Vxe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jxe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Hxe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wxe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Gxe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$xe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qxe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Xxe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yxe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kxe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Jxe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qxe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zxe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,e_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,t_e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,n_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,i_e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,r_e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,s_e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,o_e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,a_e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,l_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,c_e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,u_e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,d_e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,f_e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,h_e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p_e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,m_e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g_e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,v_e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y_e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,x_e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,__e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,b_e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S_e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,w_e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E_e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,C_e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,T_e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,M_e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,A_e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,P_e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,R_e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,I_e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rn={alphahash_fragment:Z0e,alphahash_pars_fragment:eye,alphamap_fragment:tye,alphamap_pars_fragment:nye,alphatest_fragment:iye,alphatest_pars_fragment:rye,aomap_fragment:sye,aomap_pars_fragment:oye,batching_pars_vertex:aye,batching_vertex:lye,begin_vertex:cye,beginnormal_vertex:uye,bsdfs:dye,iridescence_fragment:fye,bumpmap_pars_fragment:hye,clipping_planes_fragment:pye,clipping_planes_pars_fragment:mye,clipping_planes_pars_vertex:gye,clipping_planes_vertex:vye,color_fragment:yye,color_pars_fragment:xye,color_pars_vertex:_ye,color_vertex:bye,common:Sye,cube_uv_reflection_fragment:wye,defaultnormal_vertex:Eye,displacementmap_pars_vertex:Cye,displacementmap_vertex:Tye,emissivemap_fragment:Mye,emissivemap_pars_fragment:Aye,colorspace_fragment:Pye,colorspace_pars_fragment:Rye,envmap_fragment:Iye,envmap_common_pars_fragment:kye,envmap_pars_fragment:Nye,envmap_pars_vertex:Oye,envmap_physical_pars_fragment:Gye,envmap_vertex:Lye,fog_vertex:Dye,fog_pars_vertex:Fye,fog_fragment:zye,fog_pars_fragment:Uye,gradientmap_pars_fragment:Bye,lightmap_pars_fragment:Vye,lights_lambert_fragment:jye,lights_lambert_pars_fragment:Hye,lights_pars_begin:Wye,lights_toon_fragment:$ye,lights_toon_pars_fragment:qye,lights_phong_fragment:Xye,lights_phong_pars_fragment:Yye,lights_physical_fragment:Kye,lights_physical_pars_fragment:Jye,lights_fragment_begin:Qye,lights_fragment_maps:Zye,lights_fragment_end:exe,logdepthbuf_fragment:txe,logdepthbuf_pars_fragment:nxe,logdepthbuf_pars_vertex:ixe,logdepthbuf_vertex:rxe,map_fragment:sxe,map_pars_fragment:oxe,map_particle_fragment:axe,map_particle_pars_fragment:lxe,metalnessmap_fragment:cxe,metalnessmap_pars_fragment:uxe,morphinstance_vertex:dxe,morphcolor_vertex:fxe,morphnormal_vertex:hxe,morphtarget_pars_vertex:pxe,morphtarget_vertex:mxe,normal_fragment_begin:gxe,normal_fragment_maps:vxe,normal_pars_fragment:yxe,normal_pars_vertex:xxe,normal_vertex:_xe,normalmap_pars_fragment:bxe,clearcoat_normal_fragment_begin:Sxe,clearcoat_normal_fragment_maps:wxe,clearcoat_pars_fragment:Exe,iridescence_pars_fragment:Cxe,opaque_fragment:Txe,packing:Mxe,premultiplied_alpha_fragment:Axe,project_vertex:Pxe,dithering_fragment:Rxe,dithering_pars_fragment:Ixe,roughnessmap_fragment:kxe,roughnessmap_pars_fragment:Nxe,shadowmap_pars_fragment:Oxe,shadowmap_pars_vertex:Lxe,shadowmap_vertex:Dxe,shadowmask_pars_fragment:Fxe,skinbase_vertex:zxe,skinning_pars_vertex:Uxe,skinning_vertex:Bxe,skinnormal_vertex:Vxe,specularmap_fragment:jxe,specularmap_pars_fragment:Hxe,tonemapping_fragment:Wxe,tonemapping_pars_fragment:Gxe,transmission_fragment:$xe,transmission_pars_fragment:qxe,uv_pars_fragment:Xxe,uv_pars_vertex:Yxe,uv_vertex:Kxe,worldpos_vertex:Jxe,background_vert:Qxe,background_frag:Zxe,backgroundCube_vert:e_e,backgroundCube_frag:t_e,cube_vert:n_e,cube_frag:i_e,depth_vert:r_e,depth_frag:s_e,distanceRGBA_vert:o_e,distanceRGBA_frag:a_e,equirect_vert:l_e,equirect_frag:c_e,linedashed_vert:u_e,linedashed_frag:d_e,meshbasic_vert:f_e,meshbasic_frag:h_e,meshlambert_vert:p_e,meshlambert_frag:m_e,meshmatcap_vert:g_e,meshmatcap_frag:v_e,meshnormal_vert:y_e,meshnormal_frag:x_e,meshphong_vert:__e,meshphong_frag:b_e,meshphysical_vert:S_e,meshphysical_frag:w_e,meshtoon_vert:E_e,meshtoon_frag:C_e,points_vert:T_e,points_frag:M_e,shadow_vert:A_e,shadow_frag:P_e,sprite_vert:R_e,sprite_frag:I_e},at={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Zt}},envmap:{envMap:{value:null},envMapRotation:{value:new Zt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Zt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Zt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Zt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Zt},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Zt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Zt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Zt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Zt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0},uvTransform:{value:new Zt}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}}},Wa={basic:{uniforms:Ns([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:Ns([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new ht(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:Ns([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:Ns([at.common,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.roughnessmap,at.metalnessmap,at.fog,at.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:Ns([at.common,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.gradientmap,at.fog,at.lights,{emissive:{value:new ht(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:Ns([at.common,at.bumpmap,at.normalmap,at.displacementmap,at.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:Ns([at.points,at.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:Ns([at.common,at.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:Ns([at.common,at.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:Ns([at.common,at.bumpmap,at.normalmap,at.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:Ns([at.sprite,at.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Zt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Zt}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:Ns([at.common,at.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:Ns([at.lights,at.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};Wa.physical={uniforms:Ns([Wa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Zt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Zt},clearcoatNormalScale:{value:new De(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Zt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Zt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Zt},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Zt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Zt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Zt},transmissionSamplerSize:{value:new De},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Zt},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Zt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Zt},anisotropyVector:{value:new De},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Zt}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const ob={r:0,b:0,g:0},th=new ao,k_e=new Ot;function N_e(t,e,n,i,r,s,o){const a=new ht(0);let l=s===!0?0:1,c,d,h=null,p=0,v=null;function y(w){let C=w.isScene===!0?w.background:null;return C&&C.isTexture&&(C=(w.backgroundBlurriness>0?n:e).get(C)),C}function b(w){let C=!1;const A=y(w);A===null?_(a,l):A&&A.isColor&&(_(A,1),C=!0);const R=t.xr.getEnvironmentBlendMode();R==="additive"?i.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(w,C){const A=y(C);A&&(A.isCubeTexture||A.mapping===uv)?(d===void 0&&(d=new nr(new dp(1,1,1),new ca({name:"BackgroundCubeMaterial",uniforms:Vg(Wa.backgroundCube.uniforms),vertexShader:Wa.backgroundCube.vertexShader,fragmentShader:Wa.backgroundCube.fragmentShader,side:zs,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(R,O,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),th.copy(C.backgroundRotation),th.x*=-1,th.y*=-1,th.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(th.y*=-1,th.z*=-1),d.material.uniforms.envMap.value=A,d.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(k_e.makeRotationFromEuler(th)),d.material.toneMapped=Pn.getTransfer(A.colorSpace)!==oi,(h!==A||p!==A.version||v!==t.toneMapping)&&(d.material.needsUpdate=!0,h=A,p=A.version,v=t.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new nr(new hv(2,2),new ca({name:"BackgroundMaterial",uniforms:Vg(Wa.background.uniforms),vertexShader:Wa.background.vertexShader,fragmentShader:Wa.background.fragmentShader,side:pu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.toneMapped=Pn.getTransfer(A.colorSpace)!==oi,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(h!==A||p!==A.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,h=A,p=A.version,v=t.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function _(w,C){w.getRGB(ob,o9(t)),i.buffers.color.setClear(ob.r,ob.g,ob.b,C,o)}return{getClearColor:function(){return a},setClearColor:function(w,C=1){a.set(w),l=C,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,_(a,l)},render:b,addToRenderList:S}}function O_e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(k,B,H,J,Z){let $=!1;const K=h(J,H,B);s!==K&&(s=K,c(s.object)),$=v(k,J,H,Z),$&&y(k,J,H,Z),Z!==null&&e.update(Z,t.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,A(k,B,H,J),Z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(Z).buffer))}function l(){return t.createVertexArray()}function c(k){return t.bindVertexArray(k)}function d(k){return t.deleteVertexArray(k)}function h(k,B,H){const J=H.wireframe===!0;let Z=i[k.id];Z===void 0&&(Z={},i[k.id]=Z);let $=Z[B.id];$===void 0&&($={},Z[B.id]=$);let K=$[J];return K===void 0&&(K=p(l()),$[J]=K),K}function p(k){const B=[],H=[],J=[];for(let Z=0;Z<n;Z++)B[Z]=0,H[Z]=0,J[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:H,attributeDivisors:J,object:k,attributes:{},index:null}}function v(k,B,H,J){const Z=s.attributes,$=B.attributes;let K=0;const W=H.getAttributes();for(const V in W)if(W[V].location>=0){const te=Z[V];let Y=$[V];if(Y===void 0&&(V==="instanceMatrix"&&k.instanceMatrix&&(Y=k.instanceMatrix),V==="instanceColor"&&k.instanceColor&&(Y=k.instanceColor)),te===void 0||te.attribute!==Y||Y&&te.data!==Y.data)return!0;K++}return s.attributesNum!==K||s.index!==J}function y(k,B,H,J){const Z={},$=B.attributes;let K=0;const W=H.getAttributes();for(const V in W)if(W[V].location>=0){let te=$[V];te===void 0&&(V==="instanceMatrix"&&k.instanceMatrix&&(te=k.instanceMatrix),V==="instanceColor"&&k.instanceColor&&(te=k.instanceColor));const Y={};Y.attribute=te,te&&te.data&&(Y.data=te.data),Z[V]=Y,K++}s.attributes=Z,s.attributesNum=K,s.index=J}function b(){const k=s.newAttributes;for(let B=0,H=k.length;B<H;B++)k[B]=0}function S(k){_(k,0)}function _(k,B){const H=s.newAttributes,J=s.enabledAttributes,Z=s.attributeDivisors;H[k]=1,J[k]===0&&(t.enableVertexAttribArray(k),J[k]=1),Z[k]!==B&&(t.vertexAttribDivisor(k,B),Z[k]=B)}function w(){const k=s.newAttributes,B=s.enabledAttributes;for(let H=0,J=B.length;H<J;H++)B[H]!==k[H]&&(t.disableVertexAttribArray(H),B[H]=0)}function C(k,B,H,J,Z,$,K){K===!0?t.vertexAttribIPointer(k,B,H,Z,$):t.vertexAttribPointer(k,B,H,J,Z,$)}function A(k,B,H,J){b();const Z=J.attributes,$=H.getAttributes(),K=B.defaultAttributeValues;for(const W in $){const V=$[W];if(V.location>=0){let X=Z[W];if(X===void 0&&(W==="instanceMatrix"&&k.instanceMatrix&&(X=k.instanceMatrix),W==="instanceColor"&&k.instanceColor&&(X=k.instanceColor)),X!==void 0){const te=X.normalized,Y=X.itemSize,oe=e.get(X);if(oe===void 0)continue;const ke=oe.buffer,he=oe.type,Se=oe.bytesPerElement,Fe=he===t.INT||he===t.UNSIGNED_INT||X.gpuType===ZE;if(X.isInterleavedBufferAttribute){const Pe=X.data,me=Pe.stride,ve=X.offset;if(Pe.isInstancedInterleavedBuffer){for(let Ve=0;Ve<V.locationSize;Ve++)_(V.location+Ve,Pe.meshPerAttribute);k.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let Ve=0;Ve<V.locationSize;Ve++)S(V.location+Ve);t.bindBuffer(t.ARRAY_BUFFER,ke);for(let Ve=0;Ve<V.locationSize;Ve++)C(V.location+Ve,Y/V.locationSize,he,te,me*Se,(ve+Y/V.locationSize*Ve)*Se,Fe)}else{if(X.isInstancedBufferAttribute){for(let Pe=0;Pe<V.locationSize;Pe++)_(V.location+Pe,X.meshPerAttribute);k.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let Pe=0;Pe<V.locationSize;Pe++)S(V.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,ke);for(let Pe=0;Pe<V.locationSize;Pe++)C(V.location+Pe,Y/V.locationSize,he,te,Y*Se,Y/V.locationSize*Pe*Se,Fe)}}else if(K!==void 0){const te=K[W];if(te!==void 0)switch(te.length){case 2:t.vertexAttrib2fv(V.location,te);break;case 3:t.vertexAttrib3fv(V.location,te);break;case 4:t.vertexAttrib4fv(V.location,te);break;default:t.vertexAttrib1fv(V.location,te)}}}}w()}function R(){z();for(const k in i){const B=i[k];for(const H in B){const J=B[H];for(const Z in J)d(J[Z].object),delete J[Z];delete B[H]}delete i[k]}}function O(k){if(i[k.id]===void 0)return;const B=i[k.id];for(const H in B){const J=B[H];for(const Z in J)d(J[Z].object),delete J[Z];delete B[H]}delete i[k.id]}function L(k){for(const B in i){const H=i[B];if(H[k.id]===void 0)continue;const J=H[k.id];for(const Z in J)d(J[Z].object),delete J[Z];delete H[k.id]}}function z(){N(),o=!0,s!==r&&(s=r,c(s.object))}function N(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:z,resetDefaultState:N,dispose:R,releaseStatesOfGeometry:O,releaseStatesOfProgram:L,initAttributes:b,enableAttribute:S,disableUnusedAttributes:w}}function L_e(t,e,n){let i;function r(c){i=c}function s(c,d){t.drawArrays(i,c,d),n.update(d,i,1)}function o(c,d,h){h!==0&&(t.drawArraysInstanced(i,c,d,h),n.update(d,i,h))}function a(c,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,d,0,h);let v=0;for(let y=0;y<h;y++)v+=d[y];n.update(v,i,1)}function l(c,d,h,p){if(h===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<c.length;y++)o(c[y],d[y],p[y]);else{v.multiDrawArraysInstancedWEBGL(i,c,0,d,0,p,0,h);let y=0;for(let b=0;b<h;b++)y+=d[b];for(let b=0;b<p.length;b++)n.update(y,i,p[b])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function D_e(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(O){return!(O!==ms&&i.convert(O)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(O){const L=O===dv&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(O!==nl&&i.convert(O)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&O!==io&&!L)}function l(O){if(O==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=v>0,R=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:b,maxAttributes:S,maxVertexUniforms:_,maxVaryings:w,maxFragmentUniforms:C,vertexTextures:A,maxSamples:R}}function F_e(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new _d,a=new Zt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const v=h.length!==0||p||i!==0||r;return r=p,i=h.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=d(h,p,0)},this.setState=function(h,p,v){const y=h.clippingPlanes,b=h.clipIntersection,S=h.clipShadows,_=t.get(h);if(!r||y===null||y.length===0||s&&!S)s?d(null):c();else{const w=s?0:i,C=w*4;let A=_.clippingState||null;l.value=A,A=d(y,p,C,v);for(let R=0;R!==C;++R)A[R]=n[R];_.clippingState=A,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,v,y){const b=h!==null?h.length:0;let S=null;if(b!==0){if(S=l.value,y!==!0||S===null){const _=v+b*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(S===null||S.length<_)&&(S=new Float32Array(_));for(let C=0,A=v;C!==b;++C,A+=4)o.copy(h[C]).applyMatrix4(w,a),o.normal.toArray(S,A),S[A+3]=o.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,S}}function z_e(t){let e=new WeakMap;function n(o,a){return a===ux?o.mapping=mu:a===dx&&(o.mapping=Hd),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===ux||a===dx)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new l9(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class g_ extends h_{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const ag=4,r4=[.125,.215,.35,.446,.526,.582],xh=20,NM=new g_,s4=new ht;let OM=null,LM=0,DM=0,FM=!1;const mh=(1+Math.sqrt(5))/2,Fm=1/mh,o4=[new ne(-mh,Fm,0),new ne(mh,Fm,0),new ne(-Fm,0,mh),new ne(Fm,0,mh),new ne(0,mh,-Fm),new ne(0,mh,Fm),new ne(-1,1,-1),new ne(1,1,-1),new ne(-1,1,1),new ne(1,1,1)];class cP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){OM=this._renderer.getRenderTarget(),LM=this._renderer.getActiveCubeFace(),DM=this._renderer.getActiveMipmapLevel(),FM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=c4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=l4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(OM,LM,DM),this._renderer.xr.enabled=FM,e.scissorTest=!1,ab(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===mu||e.mapping===Hd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),OM=this._renderer.getRenderTarget(),LM=this._renderer.getActiveCubeFace(),DM=this._renderer.getActiveMipmapLevel(),FM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:dv,format:ms,colorSpace:Cu,depthBuffer:!1},r=a4(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=a4(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=U_e(s)),this._blurMaterial=B_e(s,e,n)}return r}_compileMaterial(e){const n=new nr(this._lodPlanes[0],e);this._renderer.compile(n,NM)}_sceneToCubeUV(e,n,i,r){const a=new Rr(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(s4),d.toneMapping=Vl,d.autoClear=!1;const v=new Qd({name:"PMREM.Background",side:zs,depthWrite:!1,depthTest:!1}),y=new nr(new dp,v);let b=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,b=!0):(v.color.copy(s4),b=!0);for(let _=0;_<6;_++){const w=_%3;w===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):w===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const C=this._cubeSize;ab(r,w*C,_>2?C:0,C,C),d.setRenderTarget(r),b&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=S}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===mu||e.mapping===Hd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=c4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=l4());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new nr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;ab(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,NM)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=o4[(r-s-1)%o4.length];this._blur(e,s-1,s,o,a)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new nr(this._lodPlanes[r],c),p=c.uniforms,v=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*xh-1),b=s/y,S=isFinite(s)?1+Math.floor(d*b):xh;S>xh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${xh}`);const _=[];let w=0;for(let L=0;L<xh;++L){const z=L/b,N=Math.exp(-z*z/2);_.push(N),L===0?w+=N:L<S&&(w+=2*N)}for(let L=0;L<_.length;L++)_[L]=_[L]/w;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:C}=this;p.dTheta.value=y,p.mipInt.value=C-i;const A=this._sizeLods[r],R=3*A*(r>C-ag?r-C+ag:0),O=4*(this._cubeSize-A);ab(n,R,O,3*A,2*A),l.setRenderTarget(n),l.render(h,NM)}}function U_e(t){const e=[],n=[],i=[];let r=t;const s=t-ag+1+r4.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-ag?l=r4[o-t+ag-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],v=6,y=6,b=3,S=2,_=1,w=new Float32Array(b*y*v),C=new Float32Array(S*y*v),A=new Float32Array(_*y*v);for(let O=0;O<v;O++){const L=O%3*2/3-1,z=O>2?0:-1,N=[L,z,0,L+2/3,z,0,L+2/3,z+1,0,L,z,0,L+2/3,z+1,0,L,z+1,0];w.set(N,b*y*O),C.set(p,S*y*O);const k=[O,O,O,O,O,O];A.set(k,_*y*O)}const R=new sn;R.setAttribute("position",new Xn(w,b)),R.setAttribute("uv",new Xn(C,S)),R.setAttribute("faceIndex",new Xn(A,_)),e.push(R),r>ag&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function a4(t,e,n){const i=new il(t,e,n);return i.texture.mapping=uv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ab(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function B_e(t,e,n){const i=new Float32Array(xh),r=new ne(0,1,0);return new ca({name:"SphericalGaussianBlur",defines:{n:xh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Tk(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nu,depthTest:!1,depthWrite:!1})}function l4(){return new ca({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Tk(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nu,depthTest:!1,depthWrite:!1})}function c4(){return new ca({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Tk(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nu,depthTest:!1,depthWrite:!1})}function Tk(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function V_e(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===ux||l===dx,d=l===mu||l===Hd;if(c||d){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new cP(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const v=a.image;return c&&v&&v.height>0||d&&v&&r(v)?(n===null&&(n=new cP(t)),h=c?n.fromEquirectangular(a):n.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function j_e(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&Eg("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function H_e(t,e,n,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const b=p.morphAttributes[y];for(let S=0,_=b.length;S<_;S++)e.remove(b[S])}p.removeEventListener("dispose",o),delete r[p.id];const v=s.get(p);v&&(e.remove(v),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],t.ARRAY_BUFFER);const v=h.morphAttributes;for(const y in v){const b=v[y];for(let S=0,_=b.length;S<_;S++)e.update(b[S],t.ARRAY_BUFFER)}}function c(h){const p=[],v=h.index,y=h.attributes.position;let b=0;if(v!==null){const w=v.array;b=v.version;for(let C=0,A=w.length;C<A;C+=3){const R=w[C+0],O=w[C+1],L=w[C+2];p.push(R,O,O,L,L,R)}}else if(y!==void 0){const w=y.array;b=y.version;for(let C=0,A=w.length/3-1;C<A;C+=3){const R=C+0,O=C+1,L=C+2;p.push(R,O,O,L,L,R)}}else return;const S=new(t9(p)?Ek:wk)(p,1);S.version=b;const _=s.get(h);_&&e.remove(_),s.set(h,S)}function d(h){const p=s.get(h);if(p){const v=h.index;v!==null&&p.version<v.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function W_e(t,e,n){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,v){t.drawElements(i,v,s,p*o),n.update(v,i,1)}function c(p,v,y){y!==0&&(t.drawElementsInstanced(i,v,s,p*o,y),n.update(v,i,y))}function d(p,v,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,p,0,y);let S=0;for(let _=0;_<y;_++)S+=v[_];n.update(S,i,1)}function h(p,v,y,b){if(y===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let _=0;_<p.length;_++)c(p[_]/o,v[_],b[_]);else{S.multiDrawElementsInstancedWEBGL(i,v,0,s,p,0,b,0,y);let _=0;for(let w=0;w<y;w++)_+=v[w];for(let w=0;w<b.length;w++)n.update(_,i,b[w])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function G_e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function $_e(t,e,n){const i=new WeakMap,r=new Sn;function s(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=d!==void 0?d.length:0;let p=i.get(a);if(p===void 0||p.count!==h){let k=function(){z.dispose(),i.delete(a),a.removeEventListener("dispose",k)};var v=k;p!==void 0&&p.texture.dispose();const y=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,S=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],w=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let A=0;y===!0&&(A=1),b===!0&&(A=2),S===!0&&(A=3);let R=a.attributes.position.count*A,O=1;R>e.maxTextureSize&&(O=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const L=new Float32Array(R*O*4*h),z=new aC(L,R,O,h);z.type=io,z.needsUpdate=!0;const N=A*4;for(let B=0;B<h;B++){const H=_[B],J=w[B],Z=C[B],$=R*O*4*B;for(let K=0;K<H.count;K++){const W=K*N;y===!0&&(r.fromBufferAttribute(H,K),L[$+W+0]=r.x,L[$+W+1]=r.y,L[$+W+2]=r.z,L[$+W+3]=0),b===!0&&(r.fromBufferAttribute(J,K),L[$+W+4]=r.x,L[$+W+5]=r.y,L[$+W+6]=r.z,L[$+W+7]=0),S===!0&&(r.fromBufferAttribute(Z,K),L[$+W+8]=r.x,L[$+W+9]=r.y,L[$+W+10]=r.z,L[$+W+11]=Z.itemSize===4?r.w:1)}}p={count:h,texture:z,size:new De(R,O)},i.set(a,p),a.addEventListener("dispose",k)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let S=0;S<c.length;S++)y+=c[S];const b=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function q_e(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class Mk extends xi{constructor(e,n,i,r,s,o,a,l,c,d=Rh){if(d!==Rh&&d!==Yh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Rh&&(i=gu),i===void 0&&d===Yh&&(i=Xh),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:kr,this.minFilter=l!==void 0?l:kr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const u9=new xi,u4=new Mk(1,1),d9=new aC,f9=new Sk,h9=new p_,d4=[],f4=[],h4=new Float32Array(16),p4=new Float32Array(9),m4=new Float32Array(4);function pv(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=d4[r];if(s===void 0&&(s=new Float32Array(r),d4[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function yr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function xr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function lC(t,e){let n=f4[e];n===void 0&&(n=new Int32Array(e),f4[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function X_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Y_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(yr(n,e))return;t.uniform2fv(this.addr,e),xr(n,e)}}function K_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(yr(n,e))return;t.uniform3fv(this.addr,e),xr(n,e)}}function J_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(yr(n,e))return;t.uniform4fv(this.addr,e),xr(n,e)}}function Q_e(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(yr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),xr(n,e)}else{if(yr(n,i))return;m4.set(i),t.uniformMatrix2fv(this.addr,!1,m4),xr(n,i)}}function Z_e(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(yr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),xr(n,e)}else{if(yr(n,i))return;p4.set(i),t.uniformMatrix3fv(this.addr,!1,p4),xr(n,i)}}function e1e(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(yr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),xr(n,e)}else{if(yr(n,i))return;h4.set(i),t.uniformMatrix4fv(this.addr,!1,h4),xr(n,i)}}function t1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function n1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(yr(n,e))return;t.uniform2iv(this.addr,e),xr(n,e)}}function i1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(yr(n,e))return;t.uniform3iv(this.addr,e),xr(n,e)}}function r1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(yr(n,e))return;t.uniform4iv(this.addr,e),xr(n,e)}}function s1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function o1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(yr(n,e))return;t.uniform2uiv(this.addr,e),xr(n,e)}}function a1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(yr(n,e))return;t.uniform3uiv(this.addr,e),xr(n,e)}}function l1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(yr(n,e))return;t.uniform4uiv(this.addr,e),xr(n,e)}}function c1e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(u4.compareFunction=_k,s=u4):s=u9,n.setTexture2D(e||s,r)}function u1e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||f9,r)}function d1e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||h9,r)}function f1e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||d9,r)}function h1e(t){switch(t){case 5126:return X_e;case 35664:return Y_e;case 35665:return K_e;case 35666:return J_e;case 35674:return Q_e;case 35675:return Z_e;case 35676:return e1e;case 5124:case 35670:return t1e;case 35667:case 35671:return n1e;case 35668:case 35672:return i1e;case 35669:case 35673:return r1e;case 5125:return s1e;case 36294:return o1e;case 36295:return a1e;case 36296:return l1e;case 35678:case 36198:case 36298:case 36306:case 35682:return c1e;case 35679:case 36299:case 36307:return u1e;case 35680:case 36300:case 36308:case 36293:return d1e;case 36289:case 36303:case 36311:case 36292:return f1e}}function p1e(t,e){t.uniform1fv(this.addr,e)}function m1e(t,e){const n=pv(e,this.size,2);t.uniform2fv(this.addr,n)}function g1e(t,e){const n=pv(e,this.size,3);t.uniform3fv(this.addr,n)}function v1e(t,e){const n=pv(e,this.size,4);t.uniform4fv(this.addr,n)}function y1e(t,e){const n=pv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function x1e(t,e){const n=pv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function _1e(t,e){const n=pv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function b1e(t,e){t.uniform1iv(this.addr,e)}function S1e(t,e){t.uniform2iv(this.addr,e)}function w1e(t,e){t.uniform3iv(this.addr,e)}function E1e(t,e){t.uniform4iv(this.addr,e)}function C1e(t,e){t.uniform1uiv(this.addr,e)}function T1e(t,e){t.uniform2uiv(this.addr,e)}function M1e(t,e){t.uniform3uiv(this.addr,e)}function A1e(t,e){t.uniform4uiv(this.addr,e)}function P1e(t,e,n){const i=this.cache,r=e.length,s=lC(n,r);yr(i,s)||(t.uniform1iv(this.addr,s),xr(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||u9,s[o])}function R1e(t,e,n){const i=this.cache,r=e.length,s=lC(n,r);yr(i,s)||(t.uniform1iv(this.addr,s),xr(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||f9,s[o])}function I1e(t,e,n){const i=this.cache,r=e.length,s=lC(n,r);yr(i,s)||(t.uniform1iv(this.addr,s),xr(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||h9,s[o])}function k1e(t,e,n){const i=this.cache,r=e.length,s=lC(n,r);yr(i,s)||(t.uniform1iv(this.addr,s),xr(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||d9,s[o])}function N1e(t){switch(t){case 5126:return p1e;case 35664:return m1e;case 35665:return g1e;case 35666:return v1e;case 35674:return y1e;case 35675:return x1e;case 35676:return _1e;case 5124:case 35670:return b1e;case 35667:case 35671:return S1e;case 35668:case 35672:return w1e;case 35669:case 35673:return E1e;case 5125:return C1e;case 36294:return T1e;case 36295:return M1e;case 36296:return A1e;case 35678:case 36198:case 36298:case 36306:case 35682:return P1e;case 35679:case 36299:case 36307:return R1e;case 35680:case 36300:case 36308:case 36293:return I1e;case 36289:case 36303:case 36311:case 36292:return k1e}}class O1e{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=h1e(n.type)}}class L1e{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=N1e(n.type)}}class D1e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const zM=/(\w+)(\])?(\[|\.)?/g;function g4(t,e){t.seq.push(e),t.map[e.id]=e}function F1e(t,e,n){const i=t.name,r=i.length;for(zM.lastIndex=0;;){const s=zM.exec(i),o=zM.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){g4(n,c===void 0?new O1e(a,t,e):new L1e(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new D1e(a),g4(n,h)),n=h}}}class yS{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);F1e(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function v4(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const z1e=37297;let U1e=0;function B1e(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function V1e(t){const e=Pn.getPrimaries(Pn.workingColorSpace),n=Pn.getPrimaries(t);let i;switch(e===n?i="":e===yx&&n===vx?i="LinearDisplayP3ToLinearSRGB":e===vx&&n===yx&&(i="LinearSRGBToLinearDisplayP3"),t){case Cu:case f_:return[i,"LinearTransferOETF"];case na:case oC:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function y4(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+B1e(t.getShaderSource(e),o)}else return r}function j1e(t,e){const n=V1e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function H1e(t,e){let n;switch(e){case O7:n="Linear";break;case L7:n="Reinhard";break;case D7:n="Cineon";break;case lk:n="ACESFilmic";break;case z7:n="AgX";break;case U7:n="Neutral";break;case F7:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const lb=new ne;function W1e(){Pn.getLuminanceCoefficients(lb);const t=lb.x.toFixed(4),e=lb.y.toFixed(4),n=lb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function G1e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(cy).join(`
`)}function $1e(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function q1e(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function cy(t){return t!==""}function x4(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _4(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const X1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function uP(t){return t.replace(X1e,K1e)}const Y1e=new Map;function K1e(t,e){let n=rn[e];if(n===void 0){const i=Y1e.get(e);if(i!==void 0)n=rn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return uP(n)}const J1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function b4(t){return t.replace(J1e,Q1e)}function Q1e(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function S4(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Z1e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===JE?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Ey?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ja&&(e="SHADOWMAP_TYPE_VSM"),e}function ebe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case mu:case Hd:e="ENVMAP_TYPE_CUBE";break;case uv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function tbe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Hd:e="ENVMAP_MODE_REFRACTION";break}return e}function nbe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case u_:e="ENVMAP_BLENDING_MULTIPLY";break;case k7:e="ENVMAP_BLENDING_MIX";break;case N7:e="ENVMAP_BLENDING_ADD";break}return e}function ibe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function rbe(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Z1e(n),c=ebe(n),d=tbe(n),h=nbe(n),p=ibe(n),v=G1e(n),y=$1e(s),b=r.createProgram();let S,_,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(cy).join(`
`),S.length>0&&(S+=`
`),_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(cy).join(`
`),_.length>0&&(_+=`
`)):(S=[S4(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(cy).join(`
`),_=[S4(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Vl?"#define TONE_MAPPING":"",n.toneMapping!==Vl?rn.tonemapping_pars_fragment:"",n.toneMapping!==Vl?H1e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",rn.colorspace_pars_fragment,j1e("linearToOutputTexel",n.outputColorSpace),W1e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(cy).join(`
`)),o=uP(o),o=x4(o,n),o=_4(o,n),a=uP(a),a=x4(a,n),a=_4(a,n),o=b4(o),a=b4(a),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,S=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,_=["#define varying in",n.glslVersion===lP?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===lP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const C=w+S+o,A=w+_+a,R=v4(r,r.VERTEX_SHADER,C),O=v4(r,r.FRAGMENT_SHADER,A);r.attachShader(b,R),r.attachShader(b,O),n.index0AttributeName!==void 0?r.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(b,0,"position"),r.linkProgram(b);function L(B){if(t.debug.checkShaderErrors){const H=r.getProgramInfoLog(b).trim(),J=r.getShaderInfoLog(R).trim(),Z=r.getShaderInfoLog(O).trim();let $=!0,K=!0;if(r.getProgramParameter(b,r.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,b,R,O);else{const W=y4(r,R,"vertex"),V=y4(r,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(b,r.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+H+`
`+W+`
`+V)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(J===""||Z==="")&&(K=!1);K&&(B.diagnostics={runnable:$,programLog:H,vertexShader:{log:J,prefix:S},fragmentShader:{log:Z,prefix:_}})}r.deleteShader(R),r.deleteShader(O),z=new yS(r,b),N=q1e(r,b)}let z;this.getUniforms=function(){return z===void 0&&L(this),z};let N;this.getAttributes=function(){return N===void 0&&L(this),N};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=r.getProgramParameter(b,z1e)),k},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=U1e++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=R,this.fragmentShader=O,this}let sbe=0;class obe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new abe(e),n.set(e,i)),i}}class abe{constructor(e){this.id=sbe++,this.code=e,this.usedTimes=0}}function lbe(t,e,n,i,r,s,o){const a=new kh,l=new obe,c=new Set,d=[],h=r.logarithmicDepthBuffer,p=r.vertexTextures;let v=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(N){return c.add(N),N===0?"uv":`uv${N}`}function S(N,k,B,H,J){const Z=H.fog,$=J.geometry,K=N.isMeshStandardMaterial?H.environment:null,W=(N.isMeshStandardMaterial?n:e).get(N.envMap||K),V=W&&W.mapping===uv?W.image.height:null,X=y[N.type];N.precision!==null&&(v=r.getMaxPrecision(N.precision),v!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",v,"instead."));const te=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,Y=te!==void 0?te.length:0;let oe=0;$.morphAttributes.position!==void 0&&(oe=1),$.morphAttributes.normal!==void 0&&(oe=2),$.morphAttributes.color!==void 0&&(oe=3);let ke,he,Se,Fe;if(X){const gn=Wa[X];ke=gn.vertexShader,he=gn.fragmentShader}else ke=N.vertexShader,he=N.fragmentShader,l.update(N),Se=l.getVertexShaderID(N),Fe=l.getFragmentShaderID(N);const Pe=t.getRenderTarget(),me=J.isInstancedMesh===!0,ve=J.isBatchedMesh===!0,Ve=!!N.map,lt=!!N.matcap,ee=!!W,Re=!!N.aoMap,Ue=!!N.lightMap,tt=!!N.bumpMap,Ae=!!N.normalMap,Tt=!!N.displacementMap,nt=!!N.emissiveMap,ct=!!N.metalnessMap,ie=!!N.roughnessMap,q=N.anisotropy>0,_e=N.clearcoat>0,Ne=N.dispersion>0,Ie=N.iridescence>0,ze=N.sheen>0,Mt=N.transmission>0,it=q&&!!N.anisotropyMap,ut=_e&&!!N.clearcoatMap,Vt=_e&&!!N.clearcoatNormalMap,We=_e&&!!N.clearcoatRoughnessMap,st=Ie&&!!N.iridescenceMap,ln=Ie&&!!N.iridescenceThicknessMap,Lt=ze&&!!N.sheenColorMap,mt=ze&&!!N.sheenRoughnessMap,jt=!!N.specularMap,qt=!!N.specularColorMap,Ln=!!N.specularIntensityMap,ue=Mt&&!!N.transmissionMap,$e=Mt&&!!N.thicknessMap,Oe=!!N.gradientMap,Le=!!N.alphaMap,Ye=N.alphaTest>0,It=!!N.alphaHash,on=!!N.extensions;let ii=Vl;N.toneMapped&&(Pe===null||Pe.isXRRenderTarget===!0)&&(ii=t.toneMapping);const Ii={shaderID:X,shaderType:N.type,shaderName:N.name,vertexShader:ke,fragmentShader:he,defines:N.defines,customVertexShaderID:Se,customFragmentShaderID:Fe,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:v,batching:ve,batchingColor:ve&&J._colorsTexture!==null,instancing:me,instancingColor:me&&J.instanceColor!==null,instancingMorph:me&&J.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Pe===null?t.outputColorSpace:Pe.isXRRenderTarget===!0?Pe.texture.colorSpace:Cu,alphaToCoverage:!!N.alphaToCoverage,map:Ve,matcap:lt,envMap:ee,envMapMode:ee&&W.mapping,envMapCubeUVHeight:V,aoMap:Re,lightMap:Ue,bumpMap:tt,normalMap:Ae,displacementMap:p&&Tt,emissiveMap:nt,normalMapObjectSpace:Ae&&N.normalMapType===$7,normalMapTangentSpace:Ae&&N.normalMapType===Jd,metalnessMap:ct,roughnessMap:ie,anisotropy:q,anisotropyMap:it,clearcoat:_e,clearcoatMap:ut,clearcoatNormalMap:Vt,clearcoatRoughnessMap:We,dispersion:Ne,iridescence:Ie,iridescenceMap:st,iridescenceThicknessMap:ln,sheen:ze,sheenColorMap:Lt,sheenRoughnessMap:mt,specularMap:jt,specularColorMap:qt,specularIntensityMap:Ln,transmission:Mt,transmissionMap:ue,thicknessMap:$e,gradientMap:Oe,opaque:N.transparent===!1&&N.blending===Ph&&N.alphaToCoverage===!1,alphaMap:Le,alphaTest:Ye,alphaHash:It,combine:N.combine,mapUv:Ve&&b(N.map.channel),aoMapUv:Re&&b(N.aoMap.channel),lightMapUv:Ue&&b(N.lightMap.channel),bumpMapUv:tt&&b(N.bumpMap.channel),normalMapUv:Ae&&b(N.normalMap.channel),displacementMapUv:Tt&&b(N.displacementMap.channel),emissiveMapUv:nt&&b(N.emissiveMap.channel),metalnessMapUv:ct&&b(N.metalnessMap.channel),roughnessMapUv:ie&&b(N.roughnessMap.channel),anisotropyMapUv:it&&b(N.anisotropyMap.channel),clearcoatMapUv:ut&&b(N.clearcoatMap.channel),clearcoatNormalMapUv:Vt&&b(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:We&&b(N.clearcoatRoughnessMap.channel),iridescenceMapUv:st&&b(N.iridescenceMap.channel),iridescenceThicknessMapUv:ln&&b(N.iridescenceThicknessMap.channel),sheenColorMapUv:Lt&&b(N.sheenColorMap.channel),sheenRoughnessMapUv:mt&&b(N.sheenRoughnessMap.channel),specularMapUv:jt&&b(N.specularMap.channel),specularColorMapUv:qt&&b(N.specularColorMap.channel),specularIntensityMapUv:Ln&&b(N.specularIntensityMap.channel),transmissionMapUv:ue&&b(N.transmissionMap.channel),thicknessMapUv:$e&&b(N.thicknessMap.channel),alphaMapUv:Le&&b(N.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(Ae||q),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:J.isPoints===!0&&!!$.attributes.uv&&(Ve||Le),fog:!!Z,useFog:N.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:J.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:oe,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:ii,decodeVideoTexture:Ve&&N.map.isVideoTexture===!0&&Pn.getTransfer(N.map.colorSpace)===oi,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===$a,flipSided:N.side===zs,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:on&&N.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(on&&N.extensions.multiDraw===!0||ve)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Ii.vertexUv1s=c.has(1),Ii.vertexUv2s=c.has(2),Ii.vertexUv3s=c.has(3),c.clear(),Ii}function _(N){const k=[];if(N.shaderID?k.push(N.shaderID):(k.push(N.customVertexShaderID),k.push(N.customFragmentShaderID)),N.defines!==void 0)for(const B in N.defines)k.push(B),k.push(N.defines[B]);return N.isRawShaderMaterial===!1&&(w(k,N),C(k,N),k.push(t.outputColorSpace)),k.push(N.customProgramCacheKey),k.join()}function w(N,k){N.push(k.precision),N.push(k.outputColorSpace),N.push(k.envMapMode),N.push(k.envMapCubeUVHeight),N.push(k.mapUv),N.push(k.alphaMapUv),N.push(k.lightMapUv),N.push(k.aoMapUv),N.push(k.bumpMapUv),N.push(k.normalMapUv),N.push(k.displacementMapUv),N.push(k.emissiveMapUv),N.push(k.metalnessMapUv),N.push(k.roughnessMapUv),N.push(k.anisotropyMapUv),N.push(k.clearcoatMapUv),N.push(k.clearcoatNormalMapUv),N.push(k.clearcoatRoughnessMapUv),N.push(k.iridescenceMapUv),N.push(k.iridescenceThicknessMapUv),N.push(k.sheenColorMapUv),N.push(k.sheenRoughnessMapUv),N.push(k.specularMapUv),N.push(k.specularColorMapUv),N.push(k.specularIntensityMapUv),N.push(k.transmissionMapUv),N.push(k.thicknessMapUv),N.push(k.combine),N.push(k.fogExp2),N.push(k.sizeAttenuation),N.push(k.morphTargetsCount),N.push(k.morphAttributeCount),N.push(k.numDirLights),N.push(k.numPointLights),N.push(k.numSpotLights),N.push(k.numSpotLightMaps),N.push(k.numHemiLights),N.push(k.numRectAreaLights),N.push(k.numDirLightShadows),N.push(k.numPointLightShadows),N.push(k.numSpotLightShadows),N.push(k.numSpotLightShadowsWithMaps),N.push(k.numLightProbes),N.push(k.shadowMapType),N.push(k.toneMapping),N.push(k.numClippingPlanes),N.push(k.numClipIntersection),N.push(k.depthPacking)}function C(N,k){a.disableAll(),k.supportsVertexTextures&&a.enable(0),k.instancing&&a.enable(1),k.instancingColor&&a.enable(2),k.instancingMorph&&a.enable(3),k.matcap&&a.enable(4),k.envMap&&a.enable(5),k.normalMapObjectSpace&&a.enable(6),k.normalMapTangentSpace&&a.enable(7),k.clearcoat&&a.enable(8),k.iridescence&&a.enable(9),k.alphaTest&&a.enable(10),k.vertexColors&&a.enable(11),k.vertexAlphas&&a.enable(12),k.vertexUv1s&&a.enable(13),k.vertexUv2s&&a.enable(14),k.vertexUv3s&&a.enable(15),k.vertexTangents&&a.enable(16),k.anisotropy&&a.enable(17),k.alphaHash&&a.enable(18),k.batching&&a.enable(19),k.dispersion&&a.enable(20),k.batchingColor&&a.enable(21),N.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.skinning&&a.enable(4),k.morphTargets&&a.enable(5),k.morphNormals&&a.enable(6),k.morphColors&&a.enable(7),k.premultipliedAlpha&&a.enable(8),k.shadowMapEnabled&&a.enable(9),k.doubleSided&&a.enable(10),k.flipSided&&a.enable(11),k.useDepthPacking&&a.enable(12),k.dithering&&a.enable(13),k.transmission&&a.enable(14),k.sheen&&a.enable(15),k.opaque&&a.enable(16),k.pointsUvs&&a.enable(17),k.decodeVideoTexture&&a.enable(18),k.alphaToCoverage&&a.enable(19),N.push(a.mask)}function A(N){const k=y[N.type];let B;if(k){const H=Wa[k];B=Ck.clone(H.uniforms)}else B=N.uniforms;return B}function R(N,k){let B;for(let H=0,J=d.length;H<J;H++){const Z=d[H];if(Z.cacheKey===k){B=Z,++B.usedTimes;break}}return B===void 0&&(B=new rbe(t,k,N,s),d.push(B)),B}function O(N){if(--N.usedTimes===0){const k=d.indexOf(N);d[k]=d[d.length-1],d.pop(),N.destroy()}}function L(N){l.remove(N)}function z(){l.dispose()}return{getParameters:S,getProgramCacheKey:_,getUniforms:A,acquireProgram:R,releaseProgram:O,releaseShaderCache:L,programs:d,dispose:z}}function cbe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function r(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function ube(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function w4(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function E4(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(h,p,v,y,b,S){let _=t[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:v,groupOrder:y,renderOrder:h.renderOrder,z:b,group:S},t[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=v,_.groupOrder=y,_.renderOrder=h.renderOrder,_.z=b,_.group=S),e++,_}function a(h,p,v,y,b,S){const _=o(h,p,v,y,b,S);v.transmission>0?i.push(_):v.transparent===!0?r.push(_):n.push(_)}function l(h,p,v,y,b,S){const _=o(h,p,v,y,b,S);v.transmission>0?i.unshift(_):v.transparent===!0?r.unshift(_):n.unshift(_)}function c(h,p){n.length>1&&n.sort(h||ube),i.length>1&&i.sort(p||w4),r.length>1&&r.sort(p||w4)}function d(){for(let h=e,p=t.length;h<p;h++){const v=t[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function dbe(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new E4,t.set(i,[o])):r>=s.length?(o=new E4,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function fbe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new ht};break;case"SpotLight":n={position:new ne,direction:new ne,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new ht,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":n={color:new ht,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function hbe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let pbe=0;function mbe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function gbe(t){const e=new fbe,n=hbe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ne);const r=new ne,s=new Ot,o=new Ot;function a(c){let d=0,h=0,p=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let v=0,y=0,b=0,S=0,_=0,w=0,C=0,A=0,R=0,O=0,L=0;c.sort(mbe);for(let N=0,k=c.length;N<k;N++){const B=c[N],H=B.color,J=B.intensity,Z=B.distance,$=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)d+=H.r*J,h+=H.g*J,p+=H.b*J;else if(B.isLightProbe){for(let K=0;K<9;K++)i.probe[K].addScaledVector(B.sh.coefficients[K],J);L++}else if(B.isDirectionalLight){const K=e.get(B);if(K.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const W=B.shadow,V=n.get(B);V.shadowIntensity=W.intensity,V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,i.directionalShadow[v]=V,i.directionalShadowMap[v]=$,i.directionalShadowMatrix[v]=B.shadow.matrix,w++}i.directional[v]=K,v++}else if(B.isSpotLight){const K=e.get(B);K.position.setFromMatrixPosition(B.matrixWorld),K.color.copy(H).multiplyScalar(J),K.distance=Z,K.coneCos=Math.cos(B.angle),K.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),K.decay=B.decay,i.spot[b]=K;const W=B.shadow;if(B.map&&(i.spotLightMap[R]=B.map,R++,W.updateMatrices(B),B.castShadow&&O++),i.spotLightMatrix[b]=W.matrix,B.castShadow){const V=n.get(B);V.shadowIntensity=W.intensity,V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,i.spotShadow[b]=V,i.spotShadowMap[b]=$,A++}b++}else if(B.isRectAreaLight){const K=e.get(B);K.color.copy(H).multiplyScalar(J),K.halfWidth.set(B.width*.5,0,0),K.halfHeight.set(0,B.height*.5,0),i.rectArea[S]=K,S++}else if(B.isPointLight){const K=e.get(B);if(K.color.copy(B.color).multiplyScalar(B.intensity),K.distance=B.distance,K.decay=B.decay,B.castShadow){const W=B.shadow,V=n.get(B);V.shadowIntensity=W.intensity,V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,V.shadowCameraNear=W.camera.near,V.shadowCameraFar=W.camera.far,i.pointShadow[y]=V,i.pointShadowMap[y]=$,i.pointShadowMatrix[y]=B.shadow.matrix,C++}i.point[y]=K,y++}else if(B.isHemisphereLight){const K=e.get(B);K.skyColor.copy(B.color).multiplyScalar(J),K.groundColor.copy(B.groundColor).multiplyScalar(J),i.hemi[_]=K,_++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=at.LTC_FLOAT_1,i.rectAreaLTC2=at.LTC_FLOAT_2):(i.rectAreaLTC1=at.LTC_HALF_1,i.rectAreaLTC2=at.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=p;const z=i.hash;(z.directionalLength!==v||z.pointLength!==y||z.spotLength!==b||z.rectAreaLength!==S||z.hemiLength!==_||z.numDirectionalShadows!==w||z.numPointShadows!==C||z.numSpotShadows!==A||z.numSpotMaps!==R||z.numLightProbes!==L)&&(i.directional.length=v,i.spot.length=b,i.rectArea.length=S,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=A+R-O,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=L,z.directionalLength=v,z.pointLength=y,z.spotLength=b,z.rectAreaLength=S,z.hemiLength=_,z.numDirectionalShadows=w,z.numPointShadows=C,z.numSpotShadows=A,z.numSpotMaps=R,z.numLightProbes=L,i.version=pbe++)}function l(c,d){let h=0,p=0,v=0,y=0,b=0;const S=d.matrixWorldInverse;for(let _=0,w=c.length;_<w;_++){const C=c[_];if(C.isDirectionalLight){const A=i.directional[h];A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(S),h++}else if(C.isSpotLight){const A=i.spot[v];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(S),A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(S),v++}else if(C.isRectAreaLight){const A=i.rectArea[y];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(S),o.identity(),s.copy(C.matrixWorld),s.premultiply(S),o.extractRotation(s),A.halfWidth.set(C.width*.5,0,0),A.halfHeight.set(0,C.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),y++}else if(C.isPointLight){const A=i.point[p];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(S),p++}else if(C.isHemisphereLight){const A=i.hemi[b];A.direction.setFromMatrixPosition(C.matrixWorld),A.direction.transformDirection(S),b++}}}return{setup:a,setupView:l,state:i}}function C4(t){const e=new gbe(t),n=[],i=[];function r(d){c.camera=d,n.length=0,i.length=0}function s(d){n.push(d)}function o(d){i.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function vbe(t){let e=new WeakMap;function n(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new C4(t),e.set(r,[a])):s>=o.length?(a=new C4(t),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:n,dispose:i}}class Ak extends _s{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=W7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Pk extends _s{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ybe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xbe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _be(t,e,n){let i=new m_;const r=new De,s=new De,o=new Sn,a=new Ak({depthPacking:G7}),l=new Pk,c={},d=n.maxTextureSize,h={[pu]:zs,[zs]:pu,[$a]:$a},p=new ca({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new De},radius:{value:4}},vertexShader:ybe,fragmentShader:xbe}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const y=new sn;y.setAttribute("position",new Xn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new nr(y,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=JE;let _=this.type;this.render=function(O,L,z){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||O.length===0)return;const N=t.getRenderTarget(),k=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),H=t.state;H.setBlending(nu),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const J=_!==ja&&this.type===ja,Z=_===ja&&this.type!==ja;for(let $=0,K=O.length;$<K;$++){const W=O[$],V=W.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;r.copy(V.mapSize);const X=V.getFrameExtents();if(r.multiply(X),s.copy(V.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/X.x),r.x=s.x*X.x,V.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/X.y),r.y=s.y*X.y,V.mapSize.y=s.y)),V.map===null||J===!0||Z===!0){const Y=this.type!==ja?{minFilter:kr,magFilter:kr}:{};V.map!==null&&V.map.dispose(),V.map=new il(r.x,r.y,Y),V.map.texture.name=W.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const te=V.getViewportCount();for(let Y=0;Y<te;Y++){const oe=V.getViewport(Y);o.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),H.viewport(o),V.updateMatrices(W,Y),i=V.getFrustum(),A(L,z,V.camera,W,this.type)}V.isPointLightShadow!==!0&&this.type===ja&&w(V,z),V.needsUpdate=!1}_=this.type,S.needsUpdate=!1,t.setRenderTarget(N,k,B)};function w(O,L){const z=e.update(b);p.defines.VSM_SAMPLES!==O.blurSamples&&(p.defines.VSM_SAMPLES=O.blurSamples,v.defines.VSM_SAMPLES=O.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new il(r.x,r.y)),p.uniforms.shadow_pass.value=O.map.texture,p.uniforms.resolution.value=O.mapSize,p.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(L,null,z,p,b,null),v.uniforms.shadow_pass.value=O.mapPass.texture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(L,null,z,v,b,null)}function C(O,L,z,N){let k=null;const B=z.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(B!==void 0)k=B;else if(k=z.isPointLight===!0?l:a,t.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const H=k.uuid,J=L.uuid;let Z=c[H];Z===void 0&&(Z={},c[H]=Z);let $=Z[J];$===void 0&&($=k.clone(),Z[J]=$,L.addEventListener("dispose",R)),k=$}if(k.visible=L.visible,k.wireframe=L.wireframe,N===ja?k.side=L.shadowSide!==null?L.shadowSide:L.side:k.side=L.shadowSide!==null?L.shadowSide:h[L.side],k.alphaMap=L.alphaMap,k.alphaTest=L.alphaTest,k.map=L.map,k.clipShadows=L.clipShadows,k.clippingPlanes=L.clippingPlanes,k.clipIntersection=L.clipIntersection,k.displacementMap=L.displacementMap,k.displacementScale=L.displacementScale,k.displacementBias=L.displacementBias,k.wireframeLinewidth=L.wireframeLinewidth,k.linewidth=L.linewidth,z.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const H=t.properties.get(k);H.light=z}return k}function A(O,L,z,N,k){if(O.visible===!1)return;if(O.layers.test(L.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&k===ja)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,O.matrixWorld);const J=e.update(O),Z=O.material;if(Array.isArray(Z)){const $=J.groups;for(let K=0,W=$.length;K<W;K++){const V=$[K],X=Z[V.materialIndex];if(X&&X.visible){const te=C(O,X,N,k);O.onBeforeShadow(t,O,L,z,J,te,V),t.renderBufferDirect(z,null,J,te,O,V),O.onAfterShadow(t,O,L,z,J,te,V)}}}else if(Z.visible){const $=C(O,Z,N,k);O.onBeforeShadow(t,O,L,z,J,$,null),t.renderBufferDirect(z,null,J,$,O,null),O.onAfterShadow(t,O,L,z,J,$,null)}}const H=O.children;for(let J=0,Z=H.length;J<Z;J++)A(H[J],L,z,N,k)}function R(O){O.target.removeEventListener("dispose",R);for(const z in c){const N=c[z],k=O.target.uuid;k in N&&(N[k].dispose(),delete N[k])}}}function bbe(t){function e(){let ue=!1;const $e=new Sn;let Oe=null;const Le=new Sn(0,0,0,0);return{setMask:function(Ye){Oe!==Ye&&!ue&&(t.colorMask(Ye,Ye,Ye,Ye),Oe=Ye)},setLocked:function(Ye){ue=Ye},setClear:function(Ye,It,on,ii,Ii){Ii===!0&&(Ye*=ii,It*=ii,on*=ii),$e.set(Ye,It,on,ii),Le.equals($e)===!1&&(t.clearColor(Ye,It,on,ii),Le.copy($e))},reset:function(){ue=!1,Oe=null,Le.set(-1,0,0,0)}}}function n(){let ue=!1,$e=null,Oe=null,Le=null;return{setTest:function(Ye){Ye?Fe(t.DEPTH_TEST):Pe(t.DEPTH_TEST)},setMask:function(Ye){$e!==Ye&&!ue&&(t.depthMask(Ye),$e=Ye)},setFunc:function(Ye){if(Oe!==Ye){switch(Ye){case C7:t.depthFunc(t.NEVER);break;case T7:t.depthFunc(t.ALWAYS);break;case M7:t.depthFunc(t.LESS);break;case cx:t.depthFunc(t.LEQUAL);break;case A7:t.depthFunc(t.EQUAL);break;case P7:t.depthFunc(t.GEQUAL);break;case R7:t.depthFunc(t.GREATER);break;case I7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Oe=Ye}},setLocked:function(Ye){ue=Ye},setClear:function(Ye){Le!==Ye&&(t.clearDepth(Ye),Le=Ye)},reset:function(){ue=!1,$e=null,Oe=null,Le=null}}}function i(){let ue=!1,$e=null,Oe=null,Le=null,Ye=null,It=null,on=null,ii=null,Ii=null;return{setTest:function(gn){ue||(gn?Fe(t.STENCIL_TEST):Pe(t.STENCIL_TEST))},setMask:function(gn){$e!==gn&&!ue&&(t.stencilMask(gn),$e=gn)},setFunc:function(gn,Kr,Jr){(Oe!==gn||Le!==Kr||Ye!==Jr)&&(t.stencilFunc(gn,Kr,Jr),Oe=gn,Le=Kr,Ye=Jr)},setOp:function(gn,Kr,Jr){(It!==gn||on!==Kr||ii!==Jr)&&(t.stencilOp(gn,Kr,Jr),It=gn,on=Kr,ii=Jr)},setLocked:function(gn){ue=gn},setClear:function(gn){Ii!==gn&&(t.clearStencil(gn),Ii=gn)},reset:function(){ue=!1,$e=null,Oe=null,Le=null,Ye=null,It=null,on=null,ii=null,Ii=null}}}const r=new e,s=new n,o=new i,a=new WeakMap,l=new WeakMap;let c={},d={},h=new WeakMap,p=[],v=null,y=!1,b=null,S=null,_=null,w=null,C=null,A=null,R=null,O=new ht(0,0,0),L=0,z=!1,N=null,k=null,B=null,H=null,J=null;const Z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,K=0;const W=t.getParameter(t.VERSION);W.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(W)[1]),$=K>=1):W.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),$=K>=2);let V=null,X={};const te=t.getParameter(t.SCISSOR_BOX),Y=t.getParameter(t.VIEWPORT),oe=new Sn().fromArray(te),ke=new Sn().fromArray(Y);function he(ue,$e,Oe,Le){const Ye=new Uint8Array(4),It=t.createTexture();t.bindTexture(ue,It),t.texParameteri(ue,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ue,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let on=0;on<Oe;on++)ue===t.TEXTURE_3D||ue===t.TEXTURE_2D_ARRAY?t.texImage3D($e,0,t.RGBA,1,1,Le,0,t.RGBA,t.UNSIGNED_BYTE,Ye):t.texImage2D($e+on,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ye);return It}const Se={};Se[t.TEXTURE_2D]=he(t.TEXTURE_2D,t.TEXTURE_2D,1),Se[t.TEXTURE_CUBE_MAP]=he(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Se[t.TEXTURE_2D_ARRAY]=he(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Se[t.TEXTURE_3D]=he(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Fe(t.DEPTH_TEST),s.setFunc(cx),tt(!1),Ae(nP),Fe(t.CULL_FACE),Re(nu);function Fe(ue){c[ue]!==!0&&(t.enable(ue),c[ue]=!0)}function Pe(ue){c[ue]!==!1&&(t.disable(ue),c[ue]=!1)}function me(ue,$e){return d[ue]!==$e?(t.bindFramebuffer(ue,$e),d[ue]=$e,ue===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=$e),ue===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=$e),!0):!1}function ve(ue,$e){let Oe=p,Le=!1;if(ue){Oe=h.get($e),Oe===void 0&&(Oe=[],h.set($e,Oe));const Ye=ue.textures;if(Oe.length!==Ye.length||Oe[0]!==t.COLOR_ATTACHMENT0){for(let It=0,on=Ye.length;It<on;It++)Oe[It]=t.COLOR_ATTACHMENT0+It;Oe.length=Ye.length,Le=!0}}else Oe[0]!==t.BACK&&(Oe[0]=t.BACK,Le=!0);Le&&t.drawBuffers(Oe)}function Ve(ue){return v!==ue?(t.useProgram(ue),v=ue,!0):!1}const lt={[Td]:t.FUNC_ADD,[l7]:t.FUNC_SUBTRACT,[c7]:t.FUNC_REVERSE_SUBTRACT};lt[u7]=t.MIN,lt[d7]=t.MAX;const ee={[f7]:t.ZERO,[h7]:t.ONE,[p7]:t.SRC_COLOR,[vw]:t.SRC_ALPHA,[_7]:t.SRC_ALPHA_SATURATE,[y7]:t.DST_COLOR,[g7]:t.DST_ALPHA,[m7]:t.ONE_MINUS_SRC_COLOR,[yw]:t.ONE_MINUS_SRC_ALPHA,[x7]:t.ONE_MINUS_DST_COLOR,[v7]:t.ONE_MINUS_DST_ALPHA,[b7]:t.CONSTANT_COLOR,[S7]:t.ONE_MINUS_CONSTANT_COLOR,[w7]:t.CONSTANT_ALPHA,[E7]:t.ONE_MINUS_CONSTANT_ALPHA};function Re(ue,$e,Oe,Le,Ye,It,on,ii,Ii,gn){if(ue===nu){y===!0&&(Pe(t.BLEND),y=!1);return}if(y===!1&&(Fe(t.BLEND),y=!0),ue!==a7){if(ue!==b||gn!==z){if((S!==Td||C!==Td)&&(t.blendEquation(t.FUNC_ADD),S=Td,C=Td),gn)switch(ue){case Ph:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case iP:t.blendFunc(t.ONE,t.ONE);break;case rP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sP:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case Ph:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case iP:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case rP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sP:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}_=null,w=null,A=null,R=null,O.set(0,0,0),L=0,b=ue,z=gn}return}Ye=Ye||$e,It=It||Oe,on=on||Le,($e!==S||Ye!==C)&&(t.blendEquationSeparate(lt[$e],lt[Ye]),S=$e,C=Ye),(Oe!==_||Le!==w||It!==A||on!==R)&&(t.blendFuncSeparate(ee[Oe],ee[Le],ee[It],ee[on]),_=Oe,w=Le,A=It,R=on),(ii.equals(O)===!1||Ii!==L)&&(t.blendColor(ii.r,ii.g,ii.b,Ii),O.copy(ii),L=Ii),b=ue,z=!1}function Ue(ue,$e){ue.side===$a?Pe(t.CULL_FACE):Fe(t.CULL_FACE);let Oe=ue.side===zs;$e&&(Oe=!Oe),tt(Oe),ue.blending===Ph&&ue.transparent===!1?Re(nu):Re(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),s.setFunc(ue.depthFunc),s.setTest(ue.depthTest),s.setMask(ue.depthWrite),r.setMask(ue.colorWrite);const Le=ue.stencilWrite;o.setTest(Le),Le&&(o.setMask(ue.stencilWriteMask),o.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),o.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),nt(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?Fe(t.SAMPLE_ALPHA_TO_COVERAGE):Pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function tt(ue){N!==ue&&(ue?t.frontFace(t.CW):t.frontFace(t.CCW),N=ue)}function Ae(ue){ue!==r7?(Fe(t.CULL_FACE),ue!==k&&(ue===nP?t.cullFace(t.BACK):ue===s7?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Pe(t.CULL_FACE),k=ue}function Tt(ue){ue!==B&&($&&t.lineWidth(ue),B=ue)}function nt(ue,$e,Oe){ue?(Fe(t.POLYGON_OFFSET_FILL),(H!==$e||J!==Oe)&&(t.polygonOffset($e,Oe),H=$e,J=Oe)):Pe(t.POLYGON_OFFSET_FILL)}function ct(ue){ue?Fe(t.SCISSOR_TEST):Pe(t.SCISSOR_TEST)}function ie(ue){ue===void 0&&(ue=t.TEXTURE0+Z-1),V!==ue&&(t.activeTexture(ue),V=ue)}function q(ue,$e,Oe){Oe===void 0&&(V===null?Oe=t.TEXTURE0+Z-1:Oe=V);let Le=X[Oe];Le===void 0&&(Le={type:void 0,texture:void 0},X[Oe]=Le),(Le.type!==ue||Le.texture!==$e)&&(V!==Oe&&(t.activeTexture(Oe),V=Oe),t.bindTexture(ue,$e||Se[ue]),Le.type=ue,Le.texture=$e)}function _e(){const ue=X[V];ue!==void 0&&ue.type!==void 0&&(t.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function Ne(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ze(){try{t.texSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Mt(){try{t.texSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function it(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ut(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Vt(){try{t.texStorage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function We(){try{t.texStorage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function st(){try{t.texImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ln(){try{t.texImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Lt(ue){oe.equals(ue)===!1&&(t.scissor(ue.x,ue.y,ue.z,ue.w),oe.copy(ue))}function mt(ue){ke.equals(ue)===!1&&(t.viewport(ue.x,ue.y,ue.z,ue.w),ke.copy(ue))}function jt(ue,$e){let Oe=l.get($e);Oe===void 0&&(Oe=new WeakMap,l.set($e,Oe));let Le=Oe.get(ue);Le===void 0&&(Le=t.getUniformBlockIndex($e,ue.name),Oe.set(ue,Le))}function qt(ue,$e){const Le=l.get($e).get(ue);a.get($e)!==Le&&(t.uniformBlockBinding($e,Le,ue.__bindingPointIndex),a.set($e,Le))}function Ln(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},V=null,X={},d={},h=new WeakMap,p=[],v=null,y=!1,b=null,S=null,_=null,w=null,C=null,A=null,R=null,O=new ht(0,0,0),L=0,z=!1,N=null,k=null,B=null,H=null,J=null,oe.set(0,0,t.canvas.width,t.canvas.height),ke.set(0,0,t.canvas.width,t.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Fe,disable:Pe,bindFramebuffer:me,drawBuffers:ve,useProgram:Ve,setBlending:Re,setMaterial:Ue,setFlipSided:tt,setCullFace:Ae,setLineWidth:Tt,setPolygonOffset:nt,setScissorTest:ct,activeTexture:ie,bindTexture:q,unbindTexture:_e,compressedTexImage2D:Ne,compressedTexImage3D:Ie,texImage2D:st,texImage3D:ln,updateUBOMapping:jt,uniformBlockBinding:qt,texStorage2D:Vt,texStorage3D:We,texSubImage2D:ze,texSubImage3D:Mt,compressedTexSubImage2D:it,compressedTexSubImage3D:ut,scissor:Lt,viewport:mt,reset:Ln}}function Sbe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function wbe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Ebe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function dP(t,e,n,i){const r=Cbe(i);switch(n){case hk:return t*e;case mk:return t*e;case gk:return t*e*2;case nC:return t*e/r.components*r.byteLength;case d_:return t*e/r.components*r.byteLength;case vk:return t*e*2/r.components*r.byteLength;case iC:return t*e*2/r.components*r.byteLength;case pk:return t*e*3/r.components*r.byteLength;case ms:return t*e*4/r.components*r.byteLength;case rC:return t*e*4/r.components*r.byteLength;case Ty:case My:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Ay:case Py:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _w:case Sw:return Math.max(t,16)*Math.max(e,8)/4;case xw:case bw:return Math.max(t,8)*Math.max(e,8)/2;case ww:case Ew:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Cw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Tw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Mw:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Aw:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Pw:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Rw:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Iw:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case kw:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Nw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Ow:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Lw:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Dw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Fw:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case zw:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Uw:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Ry:case Bw:case Vw:return Math.ceil(t/4)*Math.ceil(e/4)*16;case yk:case jw:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Hw:case Ww:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Cbe(t){switch(t){case nl:case uk:return{byteLength:1,components:1};case Ug:case dk:case dv:return{byteLength:2,components:1};case eC:case tC:return{byteLength:2,components:4};case gu:case ZE:case io:return{byteLength:4,components:1};case fk:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const Tbe={contain:Sbe,cover:wbe,fill:Ebe,getByteLength:dP};function Mbe(t,e,n,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new De,d=new WeakMap;let h;const p=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(ie,q){return v?new OffscreenCanvas(ie,q):bx("canvas")}function b(ie,q,_e){let Ne=1;const Ie=ct(ie);if((Ie.width>_e||Ie.height>_e)&&(Ne=_e/Math.max(Ie.width,Ie.height)),Ne<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const ze=Math.floor(Ne*Ie.width),Mt=Math.floor(Ne*Ie.height);h===void 0&&(h=y(ze,Mt));const it=q?y(ze,Mt):h;return it.width=ze,it.height=Mt,it.getContext("2d").drawImage(ie,0,0,ze,Mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+ze+"x"+Mt+")."),it}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),ie;return ie}function S(ie){return ie.generateMipmaps&&ie.minFilter!==kr&&ie.minFilter!==tr}function _(ie){t.generateMipmap(ie)}function w(ie,q,_e,Ne,Ie=!1){if(ie!==null){if(t[ie]!==void 0)return t[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let ze=q;if(q===t.RED&&(_e===t.FLOAT&&(ze=t.R32F),_e===t.HALF_FLOAT&&(ze=t.R16F),_e===t.UNSIGNED_BYTE&&(ze=t.R8)),q===t.RED_INTEGER&&(_e===t.UNSIGNED_BYTE&&(ze=t.R8UI),_e===t.UNSIGNED_SHORT&&(ze=t.R16UI),_e===t.UNSIGNED_INT&&(ze=t.R32UI),_e===t.BYTE&&(ze=t.R8I),_e===t.SHORT&&(ze=t.R16I),_e===t.INT&&(ze=t.R32I)),q===t.RG&&(_e===t.FLOAT&&(ze=t.RG32F),_e===t.HALF_FLOAT&&(ze=t.RG16F),_e===t.UNSIGNED_BYTE&&(ze=t.RG8)),q===t.RG_INTEGER&&(_e===t.UNSIGNED_BYTE&&(ze=t.RG8UI),_e===t.UNSIGNED_SHORT&&(ze=t.RG16UI),_e===t.UNSIGNED_INT&&(ze=t.RG32UI),_e===t.BYTE&&(ze=t.RG8I),_e===t.SHORT&&(ze=t.RG16I),_e===t.INT&&(ze=t.RG32I)),q===t.RGB&&_e===t.UNSIGNED_INT_5_9_9_9_REV&&(ze=t.RGB9_E5),q===t.RGBA){const Mt=Ie?gx:Pn.getTransfer(Ne);_e===t.FLOAT&&(ze=t.RGBA32F),_e===t.HALF_FLOAT&&(ze=t.RGBA16F),_e===t.UNSIGNED_BYTE&&(ze=Mt===oi?t.SRGB8_ALPHA8:t.RGBA8),_e===t.UNSIGNED_SHORT_4_4_4_4&&(ze=t.RGBA4),_e===t.UNSIGNED_SHORT_5_5_5_1&&(ze=t.RGB5_A1)}return(ze===t.R16F||ze===t.R32F||ze===t.RG16F||ze===t.RG32F||ze===t.RGBA16F||ze===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function C(ie,q){let _e;return ie?q===null||q===gu||q===Xh?_e=t.DEPTH24_STENCIL8:q===io?_e=t.DEPTH32F_STENCIL8:q===Ug&&(_e=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===gu||q===Xh?_e=t.DEPTH_COMPONENT24:q===io?_e=t.DEPTH_COMPONENT32F:q===Ug&&(_e=t.DEPTH_COMPONENT16),_e}function A(ie,q){return S(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==kr&&ie.minFilter!==tr?Math.log2(Math.max(q.width,q.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?q.mipmaps.length:1}function R(ie){const q=ie.target;q.removeEventListener("dispose",R),L(q),q.isVideoTexture&&d.delete(q)}function O(ie){const q=ie.target;q.removeEventListener("dispose",O),N(q)}function L(ie){const q=i.get(ie);if(q.__webglInit===void 0)return;const _e=ie.source,Ne=p.get(_e);if(Ne){const Ie=Ne[q.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&z(ie),Object.keys(Ne).length===0&&p.delete(_e)}i.remove(ie)}function z(ie){const q=i.get(ie);t.deleteTexture(q.__webglTexture);const _e=ie.source,Ne=p.get(_e);delete Ne[q.__cacheKey],o.memory.textures--}function N(ie){const q=i.get(ie);if(ie.depthTexture&&ie.depthTexture.dispose(),ie.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(q.__webglFramebuffer[Ne]))for(let Ie=0;Ie<q.__webglFramebuffer[Ne].length;Ie++)t.deleteFramebuffer(q.__webglFramebuffer[Ne][Ie]);else t.deleteFramebuffer(q.__webglFramebuffer[Ne]);q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer[Ne])}else{if(Array.isArray(q.__webglFramebuffer))for(let Ne=0;Ne<q.__webglFramebuffer.length;Ne++)t.deleteFramebuffer(q.__webglFramebuffer[Ne]);else t.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let Ne=0;Ne<q.__webglColorRenderbuffer.length;Ne++)q.__webglColorRenderbuffer[Ne]&&t.deleteRenderbuffer(q.__webglColorRenderbuffer[Ne]);q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const _e=ie.textures;for(let Ne=0,Ie=_e.length;Ne<Ie;Ne++){const ze=i.get(_e[Ne]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),i.remove(_e[Ne])}i.remove(ie)}let k=0;function B(){k=0}function H(){const ie=k;return ie>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+r.maxTextures),k+=1,ie}function J(ie){const q=[];return q.push(ie.wrapS),q.push(ie.wrapT),q.push(ie.wrapR||0),q.push(ie.magFilter),q.push(ie.minFilter),q.push(ie.anisotropy),q.push(ie.internalFormat),q.push(ie.format),q.push(ie.type),q.push(ie.generateMipmaps),q.push(ie.premultiplyAlpha),q.push(ie.flipY),q.push(ie.unpackAlignment),q.push(ie.colorSpace),q.join()}function Z(ie,q){const _e=i.get(ie);if(ie.isVideoTexture&&Tt(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&_e.__version!==ie.version){const Ne=ie.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(_e,ie,q);return}}n.bindTexture(t.TEXTURE_2D,_e.__webglTexture,t.TEXTURE0+q)}function $(ie,q){const _e=i.get(ie);if(ie.version>0&&_e.__version!==ie.version){ke(_e,ie,q);return}n.bindTexture(t.TEXTURE_2D_ARRAY,_e.__webglTexture,t.TEXTURE0+q)}function K(ie,q){const _e=i.get(ie);if(ie.version>0&&_e.__version!==ie.version){ke(_e,ie,q);return}n.bindTexture(t.TEXTURE_3D,_e.__webglTexture,t.TEXTURE0+q)}function W(ie,q){const _e=i.get(ie);if(ie.version>0&&_e.__version!==ie.version){he(_e,ie,q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture,t.TEXTURE0+q)}const V={[fx]:t.REPEAT,[aa]:t.CLAMP_TO_EDGE,[hx]:t.MIRRORED_REPEAT},X={[kr]:t.NEAREST,[ck]:t.NEAREST_MIPMAP_NEAREST,[sg]:t.NEAREST_MIPMAP_LINEAR,[tr]:t.LINEAR,[Cy]:t.LINEAR_MIPMAP_NEAREST,[kl]:t.LINEAR_MIPMAP_LINEAR},te={[q7]:t.NEVER,[Z7]:t.ALWAYS,[X7]:t.LESS,[_k]:t.LEQUAL,[Y7]:t.EQUAL,[Q7]:t.GEQUAL,[K7]:t.GREATER,[J7]:t.NOTEQUAL};function Y(ie,q){if(q.type===io&&e.has("OES_texture_float_linear")===!1&&(q.magFilter===tr||q.magFilter===Cy||q.magFilter===sg||q.magFilter===kl||q.minFilter===tr||q.minFilter===Cy||q.minFilter===sg||q.minFilter===kl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ie,t.TEXTURE_WRAP_S,V[q.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,V[q.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,V[q.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,X[q.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,X[q.minFilter]),q.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,te[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===kr||q.minFilter!==sg&&q.minFilter!==kl||q.type===io&&e.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||i.get(q).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ie,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),i.get(q).__currentAnisotropy=q.anisotropy}}}function oe(ie,q){let _e=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,q.addEventListener("dispose",R));const Ne=q.source;let Ie=p.get(Ne);Ie===void 0&&(Ie={},p.set(Ne,Ie));const ze=J(q);if(ze!==ie.__cacheKey){Ie[ze]===void 0&&(Ie[ze]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,_e=!0),Ie[ze].usedTimes++;const Mt=Ie[ie.__cacheKey];Mt!==void 0&&(Ie[ie.__cacheKey].usedTimes--,Mt.usedTimes===0&&z(q)),ie.__cacheKey=ze,ie.__webglTexture=Ie[ze].texture}return _e}function ke(ie,q,_e){let Ne=t.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Ne=t.TEXTURE_2D_ARRAY),q.isData3DTexture&&(Ne=t.TEXTURE_3D);const Ie=oe(ie,q),ze=q.source;n.bindTexture(Ne,ie.__webglTexture,t.TEXTURE0+_e);const Mt=i.get(ze);if(ze.version!==Mt.__version||Ie===!0){n.activeTexture(t.TEXTURE0+_e);const it=Pn.getPrimaries(Pn.workingColorSpace),ut=q.colorSpace===Gc?null:Pn.getPrimaries(q.colorSpace),Vt=q.colorSpace===Gc||it===ut?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vt);let We=b(q.image,!1,r.maxTextureSize);We=nt(q,We);const st=s.convert(q.format,q.colorSpace),ln=s.convert(q.type);let Lt=w(q.internalFormat,st,ln,q.colorSpace,q.isVideoTexture);Y(Ne,q);let mt;const jt=q.mipmaps,qt=q.isVideoTexture!==!0,Ln=Mt.__version===void 0||Ie===!0,ue=ze.dataReady,$e=A(q,We);if(q.isDepthTexture)Lt=C(q.format===Yh,q.type),Ln&&(qt?n.texStorage2D(t.TEXTURE_2D,1,Lt,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,Lt,We.width,We.height,0,st,ln,null));else if(q.isDataTexture)if(jt.length>0){qt&&Ln&&n.texStorage2D(t.TEXTURE_2D,$e,Lt,jt[0].width,jt[0].height);for(let Oe=0,Le=jt.length;Oe<Le;Oe++)mt=jt[Oe],qt?ue&&n.texSubImage2D(t.TEXTURE_2D,Oe,0,0,mt.width,mt.height,st,ln,mt.data):n.texImage2D(t.TEXTURE_2D,Oe,Lt,mt.width,mt.height,0,st,ln,mt.data);q.generateMipmaps=!1}else qt?(Ln&&n.texStorage2D(t.TEXTURE_2D,$e,Lt,We.width,We.height),ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,We.width,We.height,st,ln,We.data)):n.texImage2D(t.TEXTURE_2D,0,Lt,We.width,We.height,0,st,ln,We.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){qt&&Ln&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,Lt,jt[0].width,jt[0].height,We.depth);for(let Oe=0,Le=jt.length;Oe<Le;Oe++)if(mt=jt[Oe],q.format!==ms)if(st!==null)if(qt){if(ue)if(q.layerUpdates.size>0){const Ye=dP(mt.width,mt.height,q.format,q.type);for(const It of q.layerUpdates){const on=mt.data.subarray(It*Ye/mt.data.BYTES_PER_ELEMENT,(It+1)*Ye/mt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Oe,0,0,It,mt.width,mt.height,1,st,on,0,0)}q.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Oe,0,0,0,mt.width,mt.height,We.depth,st,mt.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Oe,Lt,mt.width,mt.height,We.depth,0,mt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else qt?ue&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Oe,0,0,0,mt.width,mt.height,We.depth,st,ln,mt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Oe,Lt,mt.width,mt.height,We.depth,0,st,ln,mt.data)}else{qt&&Ln&&n.texStorage2D(t.TEXTURE_2D,$e,Lt,jt[0].width,jt[0].height);for(let Oe=0,Le=jt.length;Oe<Le;Oe++)mt=jt[Oe],q.format!==ms?st!==null?qt?ue&&n.compressedTexSubImage2D(t.TEXTURE_2D,Oe,0,0,mt.width,mt.height,st,mt.data):n.compressedTexImage2D(t.TEXTURE_2D,Oe,Lt,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?ue&&n.texSubImage2D(t.TEXTURE_2D,Oe,0,0,mt.width,mt.height,st,ln,mt.data):n.texImage2D(t.TEXTURE_2D,Oe,Lt,mt.width,mt.height,0,st,ln,mt.data)}else if(q.isDataArrayTexture)if(qt){if(Ln&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,Lt,We.width,We.height,We.depth),ue)if(q.layerUpdates.size>0){const Oe=dP(We.width,We.height,q.format,q.type);for(const Le of q.layerUpdates){const Ye=We.data.subarray(Le*Oe/We.data.BYTES_PER_ELEMENT,(Le+1)*Oe/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,We.width,We.height,1,st,ln,Ye)}q.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,st,ln,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Lt,We.width,We.height,We.depth,0,st,ln,We.data);else if(q.isData3DTexture)qt?(Ln&&n.texStorage3D(t.TEXTURE_3D,$e,Lt,We.width,We.height,We.depth),ue&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,st,ln,We.data)):n.texImage3D(t.TEXTURE_3D,0,Lt,We.width,We.height,We.depth,0,st,ln,We.data);else if(q.isFramebufferTexture){if(Ln)if(qt)n.texStorage2D(t.TEXTURE_2D,$e,Lt,We.width,We.height);else{let Oe=We.width,Le=We.height;for(let Ye=0;Ye<$e;Ye++)n.texImage2D(t.TEXTURE_2D,Ye,Lt,Oe,Le,0,st,ln,null),Oe>>=1,Le>>=1}}else if(jt.length>0){if(qt&&Ln){const Oe=ct(jt[0]);n.texStorage2D(t.TEXTURE_2D,$e,Lt,Oe.width,Oe.height)}for(let Oe=0,Le=jt.length;Oe<Le;Oe++)mt=jt[Oe],qt?ue&&n.texSubImage2D(t.TEXTURE_2D,Oe,0,0,st,ln,mt):n.texImage2D(t.TEXTURE_2D,Oe,Lt,st,ln,mt);q.generateMipmaps=!1}else if(qt){if(Ln){const Oe=ct(We);n.texStorage2D(t.TEXTURE_2D,$e,Lt,Oe.width,Oe.height)}ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,st,ln,We)}else n.texImage2D(t.TEXTURE_2D,0,Lt,st,ln,We);S(q)&&_(Ne),Mt.__version=ze.version,q.onUpdate&&q.onUpdate(q)}ie.__version=q.version}function he(ie,q,_e){if(q.image.length!==6)return;const Ne=oe(ie,q),Ie=q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+_e);const ze=i.get(Ie);if(Ie.version!==ze.__version||Ne===!0){n.activeTexture(t.TEXTURE0+_e);const Mt=Pn.getPrimaries(Pn.workingColorSpace),it=q.colorSpace===Gc?null:Pn.getPrimaries(q.colorSpace),ut=q.colorSpace===Gc||Mt===it?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);const Vt=q.isCompressedTexture||q.image[0].isCompressedTexture,We=q.image[0]&&q.image[0].isDataTexture,st=[];for(let Le=0;Le<6;Le++)!Vt&&!We?st[Le]=b(q.image[Le],!0,r.maxCubemapSize):st[Le]=We?q.image[Le].image:q.image[Le],st[Le]=nt(q,st[Le]);const ln=st[0],Lt=s.convert(q.format,q.colorSpace),mt=s.convert(q.type),jt=w(q.internalFormat,Lt,mt,q.colorSpace),qt=q.isVideoTexture!==!0,Ln=ze.__version===void 0||Ne===!0,ue=Ie.dataReady;let $e=A(q,ln);Y(t.TEXTURE_CUBE_MAP,q);let Oe;if(Vt){qt&&Ln&&n.texStorage2D(t.TEXTURE_CUBE_MAP,$e,jt,ln.width,ln.height);for(let Le=0;Le<6;Le++){Oe=st[Le].mipmaps;for(let Ye=0;Ye<Oe.length;Ye++){const It=Oe[Ye];q.format!==ms?Lt!==null?qt?ue&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,0,0,It.width,It.height,Lt,It.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,jt,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,0,0,It.width,It.height,Lt,mt,It.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,jt,It.width,It.height,0,Lt,mt,It.data)}}}else{if(Oe=q.mipmaps,qt&&Ln){Oe.length>0&&$e++;const Le=ct(st[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,$e,jt,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(We){qt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,st[Le].width,st[Le].height,Lt,mt,st[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,jt,st[Le].width,st[Le].height,0,Lt,mt,st[Le].data);for(let Ye=0;Ye<Oe.length;Ye++){const on=Oe[Ye].image[Le].image;qt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,0,0,on.width,on.height,Lt,mt,on.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,jt,on.width,on.height,0,Lt,mt,on.data)}}else{qt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,Lt,mt,st[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,jt,Lt,mt,st[Le]);for(let Ye=0;Ye<Oe.length;Ye++){const It=Oe[Ye];qt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,0,0,Lt,mt,It.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,jt,Lt,mt,It.image[Le])}}}S(q)&&_(t.TEXTURE_CUBE_MAP),ze.__version=Ie.version,q.onUpdate&&q.onUpdate(q)}ie.__version=q.version}function Se(ie,q,_e,Ne,Ie,ze){const Mt=s.convert(_e.format,_e.colorSpace),it=s.convert(_e.type),ut=w(_e.internalFormat,Mt,it,_e.colorSpace);if(!i.get(q).__hasExternalTextures){const We=Math.max(1,q.width>>ze),st=Math.max(1,q.height>>ze);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,ze,ut,We,st,q.depth,0,Mt,it,null):n.texImage2D(Ie,ze,ut,We,st,0,Mt,it,null)}n.bindFramebuffer(t.FRAMEBUFFER,ie),Ae(q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ne,Ie,i.get(_e).__webglTexture,0,tt(q)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ne,Ie,i.get(_e).__webglTexture,ze),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Fe(ie,q,_e){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),q.depthBuffer){const Ne=q.depthTexture,Ie=Ne&&Ne.isDepthTexture?Ne.type:null,ze=C(q.stencilBuffer,Ie),Mt=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,it=tt(q);Ae(q)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,it,ze,q.width,q.height):_e?t.renderbufferStorageMultisample(t.RENDERBUFFER,it,ze,q.width,q.height):t.renderbufferStorage(t.RENDERBUFFER,ze,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Mt,t.RENDERBUFFER,ie)}else{const Ne=q.textures;for(let Ie=0;Ie<Ne.length;Ie++){const ze=Ne[Ie],Mt=s.convert(ze.format,ze.colorSpace),it=s.convert(ze.type),ut=w(ze.internalFormat,Mt,it,ze.colorSpace),Vt=tt(q);_e&&Ae(q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Vt,ut,q.width,q.height):Ae(q)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Vt,ut,q.width,q.height):t.renderbufferStorage(t.RENDERBUFFER,ut,q.width,q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Pe(ie,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),Z(q.depthTexture,0);const Ne=i.get(q.depthTexture).__webglTexture,Ie=tt(q);if(q.depthTexture.format===Rh)Ae(q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0,Ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0);else if(q.depthTexture.format===Yh)Ae(q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0,Ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function me(ie){const q=i.get(ie),_e=ie.isWebGLCubeRenderTarget===!0;if(q.__boundDepthTexture!==ie.depthTexture){const Ne=ie.depthTexture;if(q.__depthDisposeCallback&&q.__depthDisposeCallback(),Ne){const Ie=()=>{delete q.__boundDepthTexture,delete q.__depthDisposeCallback,Ne.removeEventListener("dispose",Ie)};Ne.addEventListener("dispose",Ie),q.__depthDisposeCallback=Ie}q.__boundDepthTexture=Ne}if(ie.depthTexture&&!q.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");Pe(q.__webglFramebuffer,ie)}else if(_e){q.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)if(n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer[Ne]),q.__webglDepthbuffer[Ne]===void 0)q.__webglDepthbuffer[Ne]=t.createRenderbuffer(),Fe(q.__webglDepthbuffer[Ne],ie,!1);else{const Ie=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ze=q.__webglDepthbuffer[Ne];t.bindRenderbuffer(t.RENDERBUFFER,ze),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,ze)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer===void 0)q.__webglDepthbuffer=t.createRenderbuffer(),Fe(q.__webglDepthbuffer,ie,!1);else{const Ne=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=q.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ne,t.RENDERBUFFER,Ie)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(ie,q,_e){const Ne=i.get(ie);q!==void 0&&Se(Ne.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),_e!==void 0&&me(ie)}function Ve(ie){const q=ie.texture,_e=i.get(ie),Ne=i.get(q);ie.addEventListener("dispose",O);const Ie=ie.textures,ze=ie.isWebGLCubeRenderTarget===!0,Mt=Ie.length>1;if(Mt||(Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture()),Ne.__version=q.version,o.memory.textures++),ze){_e.__webglFramebuffer=[];for(let it=0;it<6;it++)if(q.mipmaps&&q.mipmaps.length>0){_e.__webglFramebuffer[it]=[];for(let ut=0;ut<q.mipmaps.length;ut++)_e.__webglFramebuffer[it][ut]=t.createFramebuffer()}else _e.__webglFramebuffer[it]=t.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){_e.__webglFramebuffer=[];for(let it=0;it<q.mipmaps.length;it++)_e.__webglFramebuffer[it]=t.createFramebuffer()}else _e.__webglFramebuffer=t.createFramebuffer();if(Mt)for(let it=0,ut=Ie.length;it<ut;it++){const Vt=i.get(Ie[it]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=t.createTexture(),o.memory.textures++)}if(ie.samples>0&&Ae(ie)===!1){_e.__webglMultisampledFramebuffer=t.createFramebuffer(),_e.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let it=0;it<Ie.length;it++){const ut=Ie[it];_e.__webglColorRenderbuffer[it]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,_e.__webglColorRenderbuffer[it]);const Vt=s.convert(ut.format,ut.colorSpace),We=s.convert(ut.type),st=w(ut.internalFormat,Vt,We,ut.colorSpace,ie.isXRRenderTarget===!0),ln=tt(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,ln,st,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.RENDERBUFFER,_e.__webglColorRenderbuffer[it])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(_e.__webglDepthRenderbuffer=t.createRenderbuffer(),Fe(_e.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ze){n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture),Y(t.TEXTURE_CUBE_MAP,q);for(let it=0;it<6;it++)if(q.mipmaps&&q.mipmaps.length>0)for(let ut=0;ut<q.mipmaps.length;ut++)Se(_e.__webglFramebuffer[it][ut],ie,q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+it,ut);else Se(_e.__webglFramebuffer[it],ie,q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+it,0);S(q)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Mt){for(let it=0,ut=Ie.length;it<ut;it++){const Vt=Ie[it],We=i.get(Vt);n.bindTexture(t.TEXTURE_2D,We.__webglTexture),Y(t.TEXTURE_2D,Vt),Se(_e.__webglFramebuffer,ie,Vt,t.COLOR_ATTACHMENT0+it,t.TEXTURE_2D,0),S(Vt)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let it=t.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(it=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(it,Ne.__webglTexture),Y(it,q),q.mipmaps&&q.mipmaps.length>0)for(let ut=0;ut<q.mipmaps.length;ut++)Se(_e.__webglFramebuffer[ut],ie,q,t.COLOR_ATTACHMENT0,it,ut);else Se(_e.__webglFramebuffer,ie,q,t.COLOR_ATTACHMENT0,it,0);S(q)&&_(it),n.unbindTexture()}ie.depthBuffer&&me(ie)}function lt(ie){const q=ie.textures;for(let _e=0,Ne=q.length;_e<Ne;_e++){const Ie=q[_e];if(S(Ie)){const ze=ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Mt=i.get(Ie).__webglTexture;n.bindTexture(ze,Mt),_(ze),n.unbindTexture()}}}const ee=[],Re=[];function Ue(ie){if(ie.samples>0){if(Ae(ie)===!1){const q=ie.textures,_e=ie.width,Ne=ie.height;let Ie=t.COLOR_BUFFER_BIT;const ze=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Mt=i.get(ie),it=q.length>1;if(it)for(let ut=0;ut<q.length;ut++)n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Mt.__webglFramebuffer);for(let ut=0;ut<q.length;ut++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),it){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Mt.__webglColorRenderbuffer[ut]);const Vt=i.get(q[ut]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Vt,0)}t.blitFramebuffer(0,0,_e,Ne,0,0,_e,Ne,Ie,t.NEAREST),l===!0&&(ee.length=0,Re.length=0,ee.push(t.COLOR_ATTACHMENT0+ut),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(ee.push(ze),Re.push(ze),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Re)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ee))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),it)for(let ut=0;ut<q.length;ut++){n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.RENDERBUFFER,Mt.__webglColorRenderbuffer[ut]);const Vt=i.get(q[ut]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.TEXTURE_2D,Vt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const q=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[q])}}}function tt(ie){return Math.min(r.maxSamples,ie.samples)}function Ae(ie){const q=i.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function Tt(ie){const q=o.render.frame;d.get(ie)!==q&&(d.set(ie,q),ie.update())}function nt(ie,q){const _e=ie.colorSpace,Ne=ie.format,Ie=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||_e!==Cu&&_e!==Gc&&(Pn.getTransfer(_e)===oi?(Ne!==ms||Ie!==nl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),q}function ct(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(c.width=ie.naturalWidth||ie.width,c.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(c.width=ie.displayWidth,c.height=ie.displayHeight):(c.width=ie.width,c.height=ie.height),c}this.allocateTextureUnit=H,this.resetTextureUnits=B,this.setTexture2D=Z,this.setTexture2DArray=$,this.setTexture3D=K,this.setTextureCube=W,this.rebindTextures=ve,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=lt,this.updateMultisampleRenderTarget=Ue,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Ae}function p9(t,e){function n(i,r=Gc){let s;const o=Pn.getTransfer(r);if(i===nl)return t.UNSIGNED_BYTE;if(i===eC)return t.UNSIGNED_SHORT_4_4_4_4;if(i===tC)return t.UNSIGNED_SHORT_5_5_5_1;if(i===fk)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===uk)return t.BYTE;if(i===dk)return t.SHORT;if(i===Ug)return t.UNSIGNED_SHORT;if(i===ZE)return t.INT;if(i===gu)return t.UNSIGNED_INT;if(i===io)return t.FLOAT;if(i===dv)return t.HALF_FLOAT;if(i===hk)return t.ALPHA;if(i===pk)return t.RGB;if(i===ms)return t.RGBA;if(i===mk)return t.LUMINANCE;if(i===gk)return t.LUMINANCE_ALPHA;if(i===Rh)return t.DEPTH_COMPONENT;if(i===Yh)return t.DEPTH_STENCIL;if(i===nC)return t.RED;if(i===d_)return t.RED_INTEGER;if(i===vk)return t.RG;if(i===iC)return t.RG_INTEGER;if(i===rC)return t.RGBA_INTEGER;if(i===Ty||i===My||i===Ay||i===Py)if(o===oi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Ty)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===My)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ay)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Py)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Ty)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===My)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ay)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Py)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===xw||i===_w||i===bw||i===Sw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===xw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===_w)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===bw)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Sw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===ww||i===Ew||i===Cw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===ww||i===Ew)return o===oi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Cw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Tw||i===Mw||i===Aw||i===Pw||i===Rw||i===Iw||i===kw||i===Nw||i===Ow||i===Lw||i===Dw||i===Fw||i===zw||i===Uw)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Tw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Mw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Aw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Pw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Rw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Iw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===kw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Nw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Ow)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Lw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Dw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Fw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===zw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Uw)return o===oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ry||i===Bw||i===Vw)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Ry)return o===oi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Bw)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Vw)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===yk||i===jw||i===Hw||i===Ww)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Ry)return s.COMPRESSED_RED_RGTC1_EXT;if(i===jw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Hw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Ww)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Xh?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class m9 extends Rr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class lg extends Cn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Abe={type:"move"};class UM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const b of e.hand.values()){const S=n.getJointPose(b,i),_=this._getHandJoint(c,b);S!==null&&(_.matrix.fromArray(S.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=S.radius),_.visible=S!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),v=.02,y=.005;c.inputState.pinching&&p>v+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=v-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Abe)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new lg;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const Pbe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Rbe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Ibe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new xi,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new ca({vertexShader:Pbe,fragmentShader:Rbe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new nr(new hv(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kbe extends nc{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,v=null,y=null;const b=new Ibe,S=n.getContextAttributes();let _=null,w=null;const C=[],A=[],R=new De;let O=null;const L=new Rr;L.layers.enable(1),L.viewport=new Sn;const z=new Rr;z.layers.enable(2),z.viewport=new Sn;const N=[L,z],k=new m9;k.layers.enable(1),k.layers.enable(2);let B=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let Se=C[he];return Se===void 0&&(Se=new UM,C[he]=Se),Se.getTargetRaySpace()},this.getControllerGrip=function(he){let Se=C[he];return Se===void 0&&(Se=new UM,C[he]=Se),Se.getGripSpace()},this.getHand=function(he){let Se=C[he];return Se===void 0&&(Se=new UM,C[he]=Se),Se.getHandSpace()};function J(he){const Se=A.indexOf(he.inputSource);if(Se===-1)return;const Fe=C[Se];Fe!==void 0&&(Fe.update(he.inputSource,he.frame,c||o),Fe.dispatchEvent({type:he.type,data:he.inputSource}))}function Z(){r.removeEventListener("select",J),r.removeEventListener("selectstart",J),r.removeEventListener("selectend",J),r.removeEventListener("squeeze",J),r.removeEventListener("squeezestart",J),r.removeEventListener("squeezeend",J),r.removeEventListener("end",Z),r.removeEventListener("inputsourceschange",$);for(let he=0;he<C.length;he++){const Se=A[he];Se!==null&&(A[he]=null,C[he].disconnect(Se))}B=null,H=null,b.reset(),e.setRenderTarget(_),v=null,p=null,h=null,r=null,w=null,ke.stop(),i.isPresenting=!1,e.setPixelRatio(O),e.setSize(R.width,R.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){s=he,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){a=he,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(he){c=he},this.getBaseLayer=function(){return p!==null?p:v},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(he){if(r=he,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",J),r.addEventListener("selectstart",J),r.addEventListener("selectend",J),r.addEventListener("squeeze",J),r.addEventListener("squeezestart",J),r.addEventListener("squeezeend",J),r.addEventListener("end",Z),r.addEventListener("inputsourceschange",$),S.xrCompatible!==!0&&await n.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(R),r.renderState.layers===void 0){const Se={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,n,Se),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),w=new il(v.framebufferWidth,v.framebufferHeight,{format:ms,type:nl,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let Se=null,Fe=null,Pe=null;S.depth&&(Pe=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Se=S.stencil?Yh:Rh,Fe=S.stencil?Xh:gu);const me={colorFormat:n.RGBA8,depthFormat:Pe,scaleFactor:s};h=new XRWebGLBinding(r,n),p=h.createProjectionLayer(me),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),w=new il(p.textureWidth,p.textureHeight,{format:ms,type:nl,depthTexture:new Mk(p.textureWidth,p.textureHeight,Fe,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ke.setContext(r),ke.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function $(he){for(let Se=0;Se<he.removed.length;Se++){const Fe=he.removed[Se],Pe=A.indexOf(Fe);Pe>=0&&(A[Pe]=null,C[Pe].disconnect(Fe))}for(let Se=0;Se<he.added.length;Se++){const Fe=he.added[Se];let Pe=A.indexOf(Fe);if(Pe===-1){for(let ve=0;ve<C.length;ve++)if(ve>=A.length){A.push(Fe),Pe=ve;break}else if(A[ve]===null){A[ve]=Fe,Pe=ve;break}if(Pe===-1)break}const me=C[Pe];me&&me.connect(Fe)}}const K=new ne,W=new ne;function V(he,Se,Fe){K.setFromMatrixPosition(Se.matrixWorld),W.setFromMatrixPosition(Fe.matrixWorld);const Pe=K.distanceTo(W),me=Se.projectionMatrix.elements,ve=Fe.projectionMatrix.elements,Ve=me[14]/(me[10]-1),lt=me[14]/(me[10]+1),ee=(me[9]+1)/me[5],Re=(me[9]-1)/me[5],Ue=(me[8]-1)/me[0],tt=(ve[8]+1)/ve[0],Ae=Ve*Ue,Tt=Ve*tt,nt=Pe/(-Ue+tt),ct=nt*-Ue;if(Se.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(ct),he.translateZ(nt),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert(),me[10]===-1)he.projectionMatrix.copy(Se.projectionMatrix),he.projectionMatrixInverse.copy(Se.projectionMatrixInverse);else{const ie=Ve+nt,q=lt+nt,_e=Ae-ct,Ne=Tt+(Pe-ct),Ie=ee*lt/q*ie,ze=Re*lt/q*ie;he.projectionMatrix.makePerspective(_e,Ne,Ie,ze,ie,q),he.projectionMatrixInverse.copy(he.projectionMatrix).invert()}}function X(he,Se){Se===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(Se.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(r===null)return;let Se=he.near,Fe=he.far;b.texture!==null&&(b.depthNear>0&&(Se=b.depthNear),b.depthFar>0&&(Fe=b.depthFar)),k.near=z.near=L.near=Se,k.far=z.far=L.far=Fe,(B!==k.near||H!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),B=k.near,H=k.far);const Pe=he.parent,me=k.cameras;X(k,Pe);for(let ve=0;ve<me.length;ve++)X(me[ve],Pe);me.length===2?V(k,L,z):k.projectionMatrix.copy(L.projectionMatrix),te(he,k,Pe)};function te(he,Se,Fe){Fe===null?he.matrix.copy(Se.matrixWorld):(he.matrix.copy(Fe.matrixWorld),he.matrix.invert(),he.matrix.multiply(Se.matrixWorld)),he.matrix.decompose(he.position,he.quaternion,he.scale),he.updateMatrixWorld(!0),he.projectionMatrix.copy(Se.projectionMatrix),he.projectionMatrixInverse.copy(Se.projectionMatrixInverse),he.isPerspectiveCamera&&(he.fov=Bg*2*Math.atan(1/he.projectionMatrix.elements[5]),he.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(p===null&&v===null))return l},this.setFoveation=function(he){l=he,p!==null&&(p.fixedFoveation=he),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=he)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(k)};let Y=null;function oe(he,Se){if(d=Se.getViewerPose(c||o),y=Se,d!==null){const Fe=d.views;v!==null&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));let Pe=!1;Fe.length!==k.cameras.length&&(k.cameras.length=0,Pe=!0);for(let ve=0;ve<Fe.length;ve++){const Ve=Fe[ve];let lt=null;if(v!==null)lt=v.getViewport(Ve);else{const Re=h.getViewSubImage(p,Ve);lt=Re.viewport,ve===0&&(e.setRenderTargetTextures(w,Re.colorTexture,p.ignoreDepthValues?void 0:Re.depthStencilTexture),e.setRenderTarget(w))}let ee=N[ve];ee===void 0&&(ee=new Rr,ee.layers.enable(ve),ee.viewport=new Sn,N[ve]=ee),ee.matrix.fromArray(Ve.transform.matrix),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.projectionMatrix.fromArray(Ve.projectionMatrix),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert(),ee.viewport.set(lt.x,lt.y,lt.width,lt.height),ve===0&&(k.matrix.copy(ee.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),Pe===!0&&k.cameras.push(ee)}const me=r.enabledFeatures;if(me&&me.includes("depth-sensing")){const ve=h.getDepthInformation(Fe[0]);ve&&ve.isValid&&ve.texture&&b.init(e,ve,r.renderState)}}for(let Fe=0;Fe<C.length;Fe++){const Pe=A[Fe],me=C[Fe];Pe!==null&&me!==void 0&&me.update(Pe,Se,c||o)}Y&&Y(he,Se),Se.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Se}),y=null}const ke=new c9;ke.setAnimationLoop(oe),this.setAnimationLoop=function(he){Y=he},this.dispose=function(){}}}const nh=new ao,Nbe=new Ot;function Obe(t,e){function n(S,_){S.matrixAutoUpdate===!0&&S.updateMatrix(),_.value.copy(S.matrix)}function i(S,_){_.color.getRGB(S.fogColor.value,o9(t)),_.isFog?(S.fogNear.value=_.near,S.fogFar.value=_.far):_.isFogExp2&&(S.fogDensity.value=_.density)}function r(S,_,w,C,A){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(S,_):_.isMeshToonMaterial?(s(S,_),h(S,_)):_.isMeshPhongMaterial?(s(S,_),d(S,_)):_.isMeshStandardMaterial?(s(S,_),p(S,_),_.isMeshPhysicalMaterial&&v(S,_,A)):_.isMeshMatcapMaterial?(s(S,_),y(S,_)):_.isMeshDepthMaterial?s(S,_):_.isMeshDistanceMaterial?(s(S,_),b(S,_)):_.isMeshNormalMaterial?s(S,_):_.isLineBasicMaterial?(o(S,_),_.isLineDashedMaterial&&a(S,_)):_.isPointsMaterial?l(S,_,w,C):_.isSpriteMaterial?c(S,_):_.isShadowMaterial?(S.color.value.copy(_.color),S.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(S,_){S.opacity.value=_.opacity,_.color&&S.diffuse.value.copy(_.color),_.emissive&&S.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(S.map.value=_.map,n(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,n(_.alphaMap,S.alphaMapTransform)),_.bumpMap&&(S.bumpMap.value=_.bumpMap,n(_.bumpMap,S.bumpMapTransform),S.bumpScale.value=_.bumpScale,_.side===zs&&(S.bumpScale.value*=-1)),_.normalMap&&(S.normalMap.value=_.normalMap,n(_.normalMap,S.normalMapTransform),S.normalScale.value.copy(_.normalScale),_.side===zs&&S.normalScale.value.negate()),_.displacementMap&&(S.displacementMap.value=_.displacementMap,n(_.displacementMap,S.displacementMapTransform),S.displacementScale.value=_.displacementScale,S.displacementBias.value=_.displacementBias),_.emissiveMap&&(S.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,S.emissiveMapTransform)),_.specularMap&&(S.specularMap.value=_.specularMap,n(_.specularMap,S.specularMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest);const w=e.get(_),C=w.envMap,A=w.envMapRotation;C&&(S.envMap.value=C,nh.copy(A),nh.x*=-1,nh.y*=-1,nh.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(nh.y*=-1,nh.z*=-1),S.envMapRotation.value.setFromMatrix4(Nbe.makeRotationFromEuler(nh)),S.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=_.reflectivity,S.ior.value=_.ior,S.refractionRatio.value=_.refractionRatio),_.lightMap&&(S.lightMap.value=_.lightMap,S.lightMapIntensity.value=_.lightMapIntensity,n(_.lightMap,S.lightMapTransform)),_.aoMap&&(S.aoMap.value=_.aoMap,S.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,S.aoMapTransform))}function o(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,_.map&&(S.map.value=_.map,n(_.map,S.mapTransform))}function a(S,_){S.dashSize.value=_.dashSize,S.totalSize.value=_.dashSize+_.gapSize,S.scale.value=_.scale}function l(S,_,w,C){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.size.value=_.size*w,S.scale.value=C*.5,_.map&&(S.map.value=_.map,n(_.map,S.uvTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,n(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function c(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.rotation.value=_.rotation,_.map&&(S.map.value=_.map,n(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,n(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function d(S,_){S.specular.value.copy(_.specular),S.shininess.value=Math.max(_.shininess,1e-4)}function h(S,_){_.gradientMap&&(S.gradientMap.value=_.gradientMap)}function p(S,_){S.metalness.value=_.metalness,_.metalnessMap&&(S.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,S.metalnessMapTransform)),S.roughness.value=_.roughness,_.roughnessMap&&(S.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,S.roughnessMapTransform)),_.envMap&&(S.envMapIntensity.value=_.envMapIntensity)}function v(S,_,w){S.ior.value=_.ior,_.sheen>0&&(S.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),S.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(S.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,S.sheenColorMapTransform)),_.sheenRoughnessMap&&(S.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,S.sheenRoughnessMapTransform))),_.clearcoat>0&&(S.clearcoat.value=_.clearcoat,S.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(S.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,S.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(S.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===zs&&S.clearcoatNormalScale.value.negate())),_.dispersion>0&&(S.dispersion.value=_.dispersion),_.iridescence>0&&(S.iridescence.value=_.iridescence,S.iridescenceIOR.value=_.iridescenceIOR,S.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(S.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,S.iridescenceMapTransform)),_.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),_.transmission>0&&(S.transmission.value=_.transmission,S.transmissionSamplerMap.value=w.texture,S.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(S.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,S.transmissionMapTransform)),S.thickness.value=_.thickness,_.thicknessMap&&(S.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=_.attenuationDistance,S.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(S.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(S.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=_.specularIntensity,S.specularColor.value.copy(_.specularColor),_.specularColorMap&&(S.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,S.specularColorMapTransform)),_.specularIntensityMap&&(S.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,S.specularIntensityMapTransform))}function y(S,_){_.matcap&&(S.matcap.value=_.matcap)}function b(S,_){const w=e.get(_).light;S.referencePosition.value.setFromMatrixPosition(w.matrixWorld),S.nearDistance.value=w.shadow.camera.near,S.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Lbe(t,e,n,i){let r={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,C){const A=C.program;i.uniformBlockBinding(w,A)}function c(w,C){let A=r[w.id];A===void 0&&(y(w),A=d(w),r[w.id]=A,w.addEventListener("dispose",S));const R=C.program;i.updateUBOMapping(w,R);const O=e.render.frame;s[w.id]!==O&&(p(w),s[w.id]=O)}function d(w){const C=h();w.__bindingPointIndex=C;const A=t.createBuffer(),R=w.__size,O=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,R,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,A),A}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const C=r[w.id],A=w.uniforms,R=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let O=0,L=A.length;O<L;O++){const z=Array.isArray(A[O])?A[O]:[A[O]];for(let N=0,k=z.length;N<k;N++){const B=z[N];if(v(B,O,N,R)===!0){const H=B.__offset,J=Array.isArray(B.value)?B.value:[B.value];let Z=0;for(let $=0;$<J.length;$++){const K=J[$],W=b(K);typeof K=="number"||typeof K=="boolean"?(B.__data[0]=K,t.bufferSubData(t.UNIFORM_BUFFER,H+Z,B.__data)):K.isMatrix3?(B.__data[0]=K.elements[0],B.__data[1]=K.elements[1],B.__data[2]=K.elements[2],B.__data[3]=0,B.__data[4]=K.elements[3],B.__data[5]=K.elements[4],B.__data[6]=K.elements[5],B.__data[7]=0,B.__data[8]=K.elements[6],B.__data[9]=K.elements[7],B.__data[10]=K.elements[8],B.__data[11]=0):(K.toArray(B.__data,Z),Z+=W.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,H,B.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(w,C,A,R){const O=w.value,L=C+"_"+A;if(R[L]===void 0)return typeof O=="number"||typeof O=="boolean"?R[L]=O:R[L]=O.clone(),!0;{const z=R[L];if(typeof O=="number"||typeof O=="boolean"){if(z!==O)return R[L]=O,!0}else if(z.equals(O)===!1)return z.copy(O),!0}return!1}function y(w){const C=w.uniforms;let A=0;const R=16;for(let L=0,z=C.length;L<z;L++){const N=Array.isArray(C[L])?C[L]:[C[L]];for(let k=0,B=N.length;k<B;k++){const H=N[k],J=Array.isArray(H.value)?H.value:[H.value];for(let Z=0,$=J.length;Z<$;Z++){const K=J[Z],W=b(K),V=A%R,X=V%W.boundary,te=V+X;A+=X,te!==0&&R-te<W.storage&&(A+=R-te),H.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=A,A+=W.storage}}}const O=A%R;return O>0&&(A+=R-O),w.__size=A,w.__cache={},this}function b(w){const C={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(C.boundary=4,C.storage=4):w.isVector2?(C.boundary=8,C.storage=8):w.isVector3||w.isColor?(C.boundary=16,C.storage=12):w.isVector4?(C.boundary=16,C.storage=16):w.isMatrix3?(C.boundary=48,C.storage=48):w.isMatrix4?(C.boundary=64,C.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),C}function S(w){const C=w.target;C.removeEventListener("dispose",S);const A=o.indexOf(C.__bindingPointIndex);o.splice(A,1),t.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function _(){for(const w in r)t.deleteBuffer(r[w]);o=[],r={},s={}}return{bind:l,update:c,dispose:_}}class g9{constructor(e={}){const{canvas:n=n9(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const v=new Uint32Array(4),y=new Int32Array(4);let b=null,S=null;const _=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=na,this.toneMapping=Vl,this.toneMappingExposure=1;const C=this;let A=!1,R=0,O=0,L=null,z=-1,N=null;const k=new Sn,B=new Sn;let H=null;const J=new ht(0);let Z=0,$=n.width,K=n.height,W=1,V=null,X=null;const te=new Sn(0,0,$,K),Y=new Sn(0,0,$,K);let oe=!1;const ke=new m_;let he=!1,Se=!1;const Fe=new Ot,Pe=new ne,me=new Sn,ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ve=!1;function lt(){return L===null?W:1}let ee=i;function Re(Q,de){return n.getContext(Q,de)}try{const Q={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${c_}`),n.addEventListener("webglcontextlost",Oe,!1),n.addEventListener("webglcontextrestored",Le,!1),n.addEventListener("webglcontextcreationerror",Ye,!1),ee===null){const de="webgl2";if(ee=Re(de,Q),ee===null)throw Re(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let Ue,tt,Ae,Tt,nt,ct,ie,q,_e,Ne,Ie,ze,Mt,it,ut,Vt,We,st,ln,Lt,mt,jt,qt,Ln;function ue(){Ue=new j_e(ee),Ue.init(),jt=new p9(ee,Ue),tt=new D_e(ee,Ue,e,jt),Ae=new bbe(ee),Tt=new G_e(ee),nt=new cbe,ct=new Mbe(ee,Ue,Ae,nt,tt,jt,Tt),ie=new z_e(C),q=new V_e(C),_e=new Q0e(ee),qt=new O_e(ee,_e),Ne=new H_e(ee,_e,Tt,qt),Ie=new q_e(ee,Ne,_e,Tt),ln=new $_e(ee,tt,ct),Vt=new F_e(nt),ze=new lbe(C,ie,q,Ue,tt,qt,Vt),Mt=new Obe(C,nt),it=new dbe,ut=new vbe(Ue),st=new N_e(C,ie,q,Ae,Ie,p,l),We=new _be(C,Ie,tt),Ln=new Lbe(ee,Tt,tt,Ae),Lt=new L_e(ee,Ue,Tt),mt=new W_e(ee,Ue,Tt),Tt.programs=ze.programs,C.capabilities=tt,C.extensions=Ue,C.properties=nt,C.renderLists=it,C.shadowMap=We,C.state=Ae,C.info=Tt}ue();const $e=new kbe(C,ee);this.xr=$e,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const Q=Ue.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=Ue.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(Q){Q!==void 0&&(W=Q,this.setSize($,K,!1))},this.getSize=function(Q){return Q.set($,K)},this.setSize=function(Q,de,be=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=Q,K=de,n.width=Math.floor(Q*W),n.height=Math.floor(de*W),be===!0&&(n.style.width=Q+"px",n.style.height=de+"px"),this.setViewport(0,0,Q,de)},this.getDrawingBufferSize=function(Q){return Q.set($*W,K*W).floor()},this.setDrawingBufferSize=function(Q,de,be){$=Q,K=de,W=be,n.width=Math.floor(Q*be),n.height=Math.floor(de*be),this.setViewport(0,0,Q,de)},this.getCurrentViewport=function(Q){return Q.copy(k)},this.getViewport=function(Q){return Q.copy(te)},this.setViewport=function(Q,de,be,we){Q.isVector4?te.set(Q.x,Q.y,Q.z,Q.w):te.set(Q,de,be,we),Ae.viewport(k.copy(te).multiplyScalar(W).round())},this.getScissor=function(Q){return Q.copy(Y)},this.setScissor=function(Q,de,be,we){Q.isVector4?Y.set(Q.x,Q.y,Q.z,Q.w):Y.set(Q,de,be,we),Ae.scissor(B.copy(Y).multiplyScalar(W).round())},this.getScissorTest=function(){return oe},this.setScissorTest=function(Q){Ae.setScissorTest(oe=Q)},this.setOpaqueSort=function(Q){V=Q},this.setTransparentSort=function(Q){X=Q},this.getClearColor=function(Q){return Q.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(Q=!0,de=!0,be=!0){let we=0;if(Q){let pe=!1;if(L!==null){const qe=L.texture.format;pe=qe===rC||qe===iC||qe===d_}if(pe){const qe=L.texture.type,dt=qe===nl||qe===gu||qe===Ug||qe===Xh||qe===eC||qe===tC,xt=st.getClearColor(),Je=st.getClearAlpha(),At=xt.r,Pt=xt.g,bt=xt.b;dt?(v[0]=At,v[1]=Pt,v[2]=bt,v[3]=Je,ee.clearBufferuiv(ee.COLOR,0,v)):(y[0]=At,y[1]=Pt,y[2]=bt,y[3]=Je,ee.clearBufferiv(ee.COLOR,0,y))}else we|=ee.COLOR_BUFFER_BIT}de&&(we|=ee.DEPTH_BUFFER_BIT),be&&(we|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Oe,!1),n.removeEventListener("webglcontextrestored",Le,!1),n.removeEventListener("webglcontextcreationerror",Ye,!1),it.dispose(),ut.dispose(),nt.dispose(),ie.dispose(),q.dispose(),Ie.dispose(),qt.dispose(),Ln.dispose(),ze.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Jr),$e.removeEventListener("sessionend",cl),uo.stop()};function Oe(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const Q=Tt.autoReset,de=We.enabled,be=We.autoUpdate,we=We.needsUpdate,pe=We.type;ue(),Tt.autoReset=Q,We.enabled=de,We.autoUpdate=be,We.needsUpdate=we,We.type=pe}function Ye(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function It(Q){const de=Q.target;de.removeEventListener("dispose",It),on(de)}function on(Q){ii(Q),nt.remove(Q)}function ii(Q){const de=nt.get(Q).programs;de!==void 0&&(de.forEach(function(be){ze.releaseProgram(be)}),Q.isShaderMaterial&&ze.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,de,be,we,pe,qe){de===null&&(de=ve);const dt=pe.isMesh&&pe.matrixWorld.determinant()<0,xt=bv(Q,de,be,we,pe);Ae.setMaterial(we,dt);let Je=be.index,At=1;if(we.wireframe===!0){if(Je=Ne.getWireframeAttribute(be),Je===void 0)return;At=2}const Pt=be.drawRange,bt=be.attributes.position;let hn=Pt.start*At,jn=(Pt.start+Pt.count)*At;qe!==null&&(hn=Math.max(hn,qe.start*At),jn=Math.min(jn,(qe.start+qe.count)*At)),Je!==null?(hn=Math.max(hn,0),jn=Math.min(jn,Je.count)):bt!=null&&(hn=Math.max(hn,0),jn=Math.min(jn,bt.count));const Tn=jn-hn;if(Tn<0||Tn===1/0)return;qt.setup(pe,we,xt,be,Je);let Jn,vt=Lt;if(Je!==null&&(Jn=_e.get(Je),vt=mt,vt.setIndex(Jn)),pe.isMesh)we.wireframe===!0?(Ae.setLineWidth(we.wireframeLinewidth*lt()),vt.setMode(ee.LINES)):vt.setMode(ee.TRIANGLES);else if(pe.isLine){let Qe=we.linewidth;Qe===void 0&&(Qe=1),Ae.setLineWidth(Qe*lt()),pe.isLineSegments?vt.setMode(ee.LINES):pe.isLineLoop?vt.setMode(ee.LINE_LOOP):vt.setMode(ee.LINE_STRIP)}else pe.isPoints?vt.setMode(ee.POINTS):pe.isSprite&&vt.setMode(ee.TRIANGLES);if(pe.isBatchedMesh)if(pe._multiDrawInstances!==null)vt.renderMultiDrawInstances(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount,pe._multiDrawInstances);else if(Ue.get("WEBGL_multi_draw"))vt.renderMultiDraw(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount);else{const Qe=pe._multiDrawStarts,cn=pe._multiDrawCounts,zt=pe._multiDrawCount,Hn=Je?_e.get(Je).bytesPerElement:1,Qr=nt.get(we).currentProgram.getUniforms();for(let di=0;di<zt;di++)Qr.setValue(ee,"_gl_DrawID",di),vt.render(Qe[di]/Hn,cn[di])}else if(pe.isInstancedMesh)vt.renderInstances(hn,Tn,pe.count);else if(be.isInstancedBufferGeometry){const Qe=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,cn=Math.min(be.instanceCount,Qe);vt.renderInstances(hn,Tn,cn)}else vt.render(hn,Tn)};function Ii(Q,de,be){Q.transparent===!0&&Q.side===$a&&Q.forceSinglePass===!1?(Q.side=zs,Q.needsUpdate=!0,ul(Q,de,be),Q.side=pu,Q.needsUpdate=!0,ul(Q,de,be),Q.side=$a):ul(Q,de,be)}this.compile=function(Q,de,be=null){be===null&&(be=Q),S=ut.get(be),S.init(de),w.push(S),be.traverseVisible(function(pe){pe.isLight&&pe.layers.test(de.layers)&&(S.pushLight(pe),pe.castShadow&&S.pushShadow(pe))}),Q!==be&&Q.traverseVisible(function(pe){pe.isLight&&pe.layers.test(de.layers)&&(S.pushLight(pe),pe.castShadow&&S.pushShadow(pe))}),S.setupLights();const we=new Set;return Q.traverse(function(pe){const qe=pe.material;if(qe)if(Array.isArray(qe))for(let dt=0;dt<qe.length;dt++){const xt=qe[dt];Ii(xt,be,pe),we.add(xt)}else Ii(qe,be,pe),we.add(qe)}),w.pop(),S=null,we},this.compileAsync=function(Q,de,be=null){const we=this.compile(Q,de,be);return new Promise(pe=>{function qe(){if(we.forEach(function(dt){nt.get(dt).currentProgram.isReady()&&we.delete(dt)}),we.size===0){pe(Q);return}setTimeout(qe,10)}Ue.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let gn=null;function Kr(Q){gn&&gn(Q)}function Jr(){uo.stop()}function cl(){uo.start()}const uo=new c9;uo.setAnimationLoop(Kr),typeof self<"u"&&uo.setContext(self),this.setAnimationLoop=function(Q){gn=Q,$e.setAnimationLoop(Q),Q===null?uo.stop():uo.start()},$e.addEventListener("sessionstart",Jr),$e.addEventListener("sessionend",cl),this.render=function(Q,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(de),de=$e.getCamera()),Q.isScene===!0&&Q.onBeforeRender(C,Q,de,L),S=ut.get(Q,w.length),S.init(de),w.push(S),Fe.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),ke.setFromProjectionMatrix(Fe),Se=this.localClippingEnabled,he=Vt.init(this.clippingPlanes,Se),b=it.get(Q,_.length),b.init(),_.push(b),$e.enabled===!0&&$e.isPresenting===!0){const qe=C.xr.getDepthSensingMesh();qe!==null&&da(qe,de,-1/0,C.sortObjects)}da(Q,de,0,C.sortObjects),b.finish(),C.sortObjects===!0&&b.sort(V,X),Ve=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,Ve&&st.addToRenderList(b,Q),this.info.render.frame++,he===!0&&Vt.beginShadows();const be=S.state.shadowsArray;We.render(be,Q,de),he===!0&&Vt.endShadows(),this.info.autoReset===!0&&this.info.reset();const we=b.opaque,pe=b.transmissive;if(S.setupLights(),de.isArrayCamera){const qe=de.cameras;if(pe.length>0)for(let dt=0,xt=qe.length;dt<xt;dt++){const Je=qe[dt];Uo(we,pe,Q,Je)}Ve&&st.render(Q);for(let dt=0,xt=qe.length;dt<xt;dt++){const Je=qe[dt];rf(b,Q,Je,Je.viewport)}}else pe.length>0&&Uo(we,pe,Q,de),Ve&&st.render(Q),rf(b,Q,de);L!==null&&(ct.updateMultisampleRenderTarget(L),ct.updateRenderTargetMipmap(L)),Q.isScene===!0&&Q.onAfterRender(C,Q,de),qt.resetDefaultState(),z=-1,N=null,w.pop(),w.length>0?(S=w[w.length-1],he===!0&&Vt.setGlobalState(C.clippingPlanes,S.state.camera)):S=null,_.pop(),_.length>0?b=_[_.length-1]:b=null};function da(Q,de,be,we){if(Q.visible===!1)return;if(Q.layers.test(de.layers)){if(Q.isGroup)be=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(de);else if(Q.isLight)S.pushLight(Q),Q.castShadow&&S.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||ke.intersectsSprite(Q)){we&&me.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(Fe);const dt=Ie.update(Q),xt=Q.material;xt.visible&&b.push(Q,dt,xt,be,me.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||ke.intersectsObject(Q))){const dt=Ie.update(Q),xt=Q.material;if(we&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),me.copy(Q.boundingSphere.center)):(dt.boundingSphere===null&&dt.computeBoundingSphere(),me.copy(dt.boundingSphere.center)),me.applyMatrix4(Q.matrixWorld).applyMatrix4(Fe)),Array.isArray(xt)){const Je=dt.groups;for(let At=0,Pt=Je.length;At<Pt;At++){const bt=Je[At],hn=xt[bt.materialIndex];hn&&hn.visible&&b.push(Q,dt,hn,be,me.z,bt)}}else xt.visible&&b.push(Q,dt,xt,be,me.z,null)}}const qe=Q.children;for(let dt=0,xt=qe.length;dt<xt;dt++)da(qe[dt],de,be,we)}function rf(Q,de,be,we){const pe=Q.opaque,qe=Q.transmissive,dt=Q.transparent;S.setupLightsView(be),he===!0&&Vt.setGlobalState(C.clippingPlanes,be),we&&Ae.viewport(k.copy(we)),pe.length>0&&fa(pe,de,be),qe.length>0&&fa(qe,de,be),dt.length>0&&fa(dt,de,be),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Uo(Q,de,be,we){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[we.id]===void 0&&(S.state.transmissionRenderTarget[we.id]=new il(1,1,{generateMipmaps:!0,type:Ue.has("EXT_color_buffer_half_float")||Ue.has("EXT_color_buffer_float")?dv:nl,minFilter:kl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Pn.workingColorSpace}));const qe=S.state.transmissionRenderTarget[we.id],dt=we.viewport||k;qe.setSize(dt.z,dt.w);const xt=C.getRenderTarget();C.setRenderTarget(qe),C.getClearColor(J),Z=C.getClearAlpha(),Z<1&&C.setClearColor(16777215,.5),C.clear(),Ve&&st.render(be);const Je=C.toneMapping;C.toneMapping=Vl;const At=we.viewport;if(we.viewport!==void 0&&(we.viewport=void 0),S.setupLightsView(we),he===!0&&Vt.setGlobalState(C.clippingPlanes,we),fa(Q,be,we),ct.updateMultisampleRenderTarget(qe),ct.updateRenderTargetMipmap(qe),Ue.has("WEBGL_multisampled_render_to_texture")===!1){let Pt=!1;for(let bt=0,hn=de.length;bt<hn;bt++){const jn=de[bt],Tn=jn.object,Jn=jn.geometry,vt=jn.material,Qe=jn.group;if(vt.side===$a&&Tn.layers.test(we.layers)){const cn=vt.side;vt.side=zs,vt.needsUpdate=!0,fo(Tn,be,we,Jn,vt,Qe),vt.side=cn,vt.needsUpdate=!0,Pt=!0}}Pt===!0&&(ct.updateMultisampleRenderTarget(qe),ct.updateRenderTargetMipmap(qe))}C.setRenderTarget(xt),C.setClearColor(J,Z),At!==void 0&&(we.viewport=At),C.toneMapping=Je}function fa(Q,de,be){const we=de.isScene===!0?de.overrideMaterial:null;for(let pe=0,qe=Q.length;pe<qe;pe++){const dt=Q[pe],xt=dt.object,Je=dt.geometry,At=we===null?dt.material:we,Pt=dt.group;xt.layers.test(be.layers)&&fo(xt,de,be,Je,At,Pt)}}function fo(Q,de,be,we,pe,qe){Q.onBeforeRender(C,de,be,we,pe,qe),Q.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),pe.onBeforeRender(C,de,be,we,Q,qe),pe.transparent===!0&&pe.side===$a&&pe.forceSinglePass===!1?(pe.side=zs,pe.needsUpdate=!0,C.renderBufferDirect(be,de,we,pe,Q,qe),pe.side=pu,pe.needsUpdate=!0,C.renderBufferDirect(be,de,we,pe,Q,qe),pe.side=$a):C.renderBufferDirect(be,de,we,pe,Q,qe),Q.onAfterRender(C,de,be,we,pe,qe)}function ul(Q,de,be){de.isScene!==!0&&(de=ve);const we=nt.get(Q),pe=S.state.lights,qe=S.state.shadowsArray,dt=pe.state.version,xt=ze.getParameters(Q,pe.state,qe,de,be),Je=ze.getProgramCacheKey(xt);let At=we.programs;we.environment=Q.isMeshStandardMaterial?de.environment:null,we.fog=de.fog,we.envMap=(Q.isMeshStandardMaterial?q:ie).get(Q.envMap||we.environment),we.envMapRotation=we.environment!==null&&Q.envMap===null?de.environmentRotation:Q.envMapRotation,At===void 0&&(Q.addEventListener("dispose",It),At=new Map,we.programs=At);let Pt=At.get(Je);if(Pt!==void 0){if(we.currentProgram===Pt&&we.lightsStateVersion===dt)return vp(Q,xt),Pt}else xt.uniforms=ze.getUniforms(Q),Q.onBeforeCompile(xt,C),Pt=ze.acquireProgram(xt,Je),At.set(Je,Pt),we.uniforms=xt.uniforms;const bt=we.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(bt.clippingPlanes=Vt.uniform),vp(Q,xt),we.needsLights=yp(Q),we.lightsStateVersion=dt,we.needsLights&&(bt.ambientLightColor.value=pe.state.ambient,bt.lightProbe.value=pe.state.probe,bt.directionalLights.value=pe.state.directional,bt.directionalLightShadows.value=pe.state.directionalShadow,bt.spotLights.value=pe.state.spot,bt.spotLightShadows.value=pe.state.spotShadow,bt.rectAreaLights.value=pe.state.rectArea,bt.ltc_1.value=pe.state.rectAreaLTC1,bt.ltc_2.value=pe.state.rectAreaLTC2,bt.pointLights.value=pe.state.point,bt.pointLightShadows.value=pe.state.pointShadow,bt.hemisphereLights.value=pe.state.hemi,bt.directionalShadowMap.value=pe.state.directionalShadowMap,bt.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,bt.spotShadowMap.value=pe.state.spotShadowMap,bt.spotLightMatrix.value=pe.state.spotLightMatrix,bt.spotLightMap.value=pe.state.spotLightMap,bt.pointShadowMap.value=pe.state.pointShadowMap,bt.pointShadowMatrix.value=pe.state.pointShadowMatrix),we.currentProgram=Pt,we.uniformsList=null,Pt}function gp(Q){if(Q.uniformsList===null){const de=Q.currentProgram.getUniforms();Q.uniformsList=yS.seqWithValue(de.seq,Q.uniforms)}return Q.uniformsList}function vp(Q,de){const be=nt.get(Q);be.outputColorSpace=de.outputColorSpace,be.batching=de.batching,be.batchingColor=de.batchingColor,be.instancing=de.instancing,be.instancingColor=de.instancingColor,be.instancingMorph=de.instancingMorph,be.skinning=de.skinning,be.morphTargets=de.morphTargets,be.morphNormals=de.morphNormals,be.morphColors=de.morphColors,be.morphTargetsCount=de.morphTargetsCount,be.numClippingPlanes=de.numClippingPlanes,be.numIntersection=de.numClipIntersection,be.vertexAlphas=de.vertexAlphas,be.vertexTangents=de.vertexTangents,be.toneMapping=de.toneMapping}function bv(Q,de,be,we,pe){de.isScene!==!0&&(de=ve),ct.resetTextureUnits();const qe=de.fog,dt=we.isMeshStandardMaterial?de.environment:null,xt=L===null?C.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Cu,Je=(we.isMeshStandardMaterial?q:ie).get(we.envMap||dt),At=we.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,Pt=!!be.attributes.tangent&&(!!we.normalMap||we.anisotropy>0),bt=!!be.morphAttributes.position,hn=!!be.morphAttributes.normal,jn=!!be.morphAttributes.color;let Tn=Vl;we.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Tn=C.toneMapping);const Jn=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,vt=Jn!==void 0?Jn.length:0,Qe=nt.get(we),cn=S.state.lights;if(he===!0&&(Se===!0||Q!==N)){const or=Q===N&&we.id===z;Vt.setState(we,Q,or)}let zt=!1;we.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==cn.state.version||Qe.outputColorSpace!==xt||pe.isBatchedMesh&&Qe.batching===!1||!pe.isBatchedMesh&&Qe.batching===!0||pe.isBatchedMesh&&Qe.batchingColor===!0&&pe.colorTexture===null||pe.isBatchedMesh&&Qe.batchingColor===!1&&pe.colorTexture!==null||pe.isInstancedMesh&&Qe.instancing===!1||!pe.isInstancedMesh&&Qe.instancing===!0||pe.isSkinnedMesh&&Qe.skinning===!1||!pe.isSkinnedMesh&&Qe.skinning===!0||pe.isInstancedMesh&&Qe.instancingColor===!0&&pe.instanceColor===null||pe.isInstancedMesh&&Qe.instancingColor===!1&&pe.instanceColor!==null||pe.isInstancedMesh&&Qe.instancingMorph===!0&&pe.morphTexture===null||pe.isInstancedMesh&&Qe.instancingMorph===!1&&pe.morphTexture!==null||Qe.envMap!==Je||we.fog===!0&&Qe.fog!==qe||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==Vt.numPlanes||Qe.numIntersection!==Vt.numIntersection)||Qe.vertexAlphas!==At||Qe.vertexTangents!==Pt||Qe.morphTargets!==bt||Qe.morphNormals!==hn||Qe.morphColors!==jn||Qe.toneMapping!==Tn||Qe.morphTargetsCount!==vt)&&(zt=!0):(zt=!0,Qe.__version=we.version);let Hn=Qe.currentProgram;zt===!0&&(Hn=ul(we,de,pe));let Qr=!1,di=!1,_i=!1;const In=Hn.getUniforms(),Zr=Qe.uniforms;if(Ae.useProgram(Hn.program)&&(Qr=!0,di=!0,_i=!0),we.id!==z&&(z=we.id,di=!0),Qr||N!==Q){In.setValue(ee,"projectionMatrix",Q.projectionMatrix),In.setValue(ee,"viewMatrix",Q.matrixWorldInverse);const or=In.map.cameraPosition;or!==void 0&&or.setValue(ee,Pe.setFromMatrixPosition(Q.matrixWorld)),tt.logarithmicDepthBuffer&&In.setValue(ee,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&In.setValue(ee,"isOrthographic",Q.isOrthographicCamera===!0),N!==Q&&(N=Q,di=!0,_i=!0)}if(pe.isSkinnedMesh){In.setOptional(ee,pe,"bindMatrix"),In.setOptional(ee,pe,"bindMatrixInverse");const or=pe.skeleton;or&&(or.boneTexture===null&&or.computeBoneTexture(),In.setValue(ee,"boneTexture",or.boneTexture,ct))}pe.isBatchedMesh&&(In.setOptional(ee,pe,"batchingTexture"),In.setValue(ee,"batchingTexture",pe._matricesTexture,ct),In.setOptional(ee,pe,"batchingIdTexture"),In.setValue(ee,"batchingIdTexture",pe._indirectTexture,ct),In.setOptional(ee,pe,"batchingColorTexture"),pe._colorsTexture!==null&&In.setValue(ee,"batchingColorTexture",pe._colorsTexture,ct));const Tu=be.morphAttributes;if((Tu.position!==void 0||Tu.normal!==void 0||Tu.color!==void 0)&&ln.update(pe,be,Hn),(di||Qe.receiveShadow!==pe.receiveShadow)&&(Qe.receiveShadow=pe.receiveShadow,In.setValue(ee,"receiveShadow",pe.receiveShadow)),we.isMeshGouraudMaterial&&we.envMap!==null&&(Zr.envMap.value=Je,Zr.flipEnvMap.value=Je.isCubeTexture&&Je.isRenderTargetTexture===!1?-1:1),we.isMeshStandardMaterial&&we.envMap===null&&de.environment!==null&&(Zr.envMapIntensity.value=de.environmentIntensity),di&&(In.setValue(ee,"toneMappingExposure",C.toneMappingExposure),Qe.needsLights&&ha(Zr,_i),qe&&we.fog===!0&&Mt.refreshFogUniforms(Zr,qe),Mt.refreshMaterialUniforms(Zr,we,W,K,S.state.transmissionRenderTarget[Q.id]),yS.upload(ee,gp(Qe),Zr,ct)),we.isShaderMaterial&&we.uniformsNeedUpdate===!0&&(yS.upload(ee,gp(Qe),Zr,ct),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&In.setValue(ee,"center",pe.center),In.setValue(ee,"modelViewMatrix",pe.modelViewMatrix),In.setValue(ee,"normalMatrix",pe.normalMatrix),In.setValue(ee,"modelMatrix",pe.matrixWorld),we.isShaderMaterial||we.isRawShaderMaterial){const or=we.uniformsGroups;for(let dl=0,es=or.length;dl<es;dl++){const Mu=or[dl];Ln.update(Mu,Hn),Ln.bind(Mu,Hn)}}return Hn}function ha(Q,de){Q.ambientLightColor.needsUpdate=de,Q.lightProbe.needsUpdate=de,Q.directionalLights.needsUpdate=de,Q.directionalLightShadows.needsUpdate=de,Q.pointLights.needsUpdate=de,Q.pointLightShadows.needsUpdate=de,Q.spotLights.needsUpdate=de,Q.spotLightShadows.needsUpdate=de,Q.rectAreaLights.needsUpdate=de,Q.hemisphereLights.needsUpdate=de}function yp(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(Q,de,be){nt.get(Q.texture).__webglTexture=de,nt.get(Q.depthTexture).__webglTexture=be;const we=nt.get(Q);we.__hasExternalTextures=!0,we.__autoAllocateDepthBuffer=be===void 0,we.__autoAllocateDepthBuffer||Ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),we.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Q,de){const be=nt.get(Q);be.__webglFramebuffer=de,be.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(Q,de=0,be=0){L=Q,R=de,O=be;let we=!0,pe=null,qe=!1,dt=!1;if(Q){const Je=nt.get(Q);if(Je.__useDefaultFramebuffer!==void 0)Ae.bindFramebuffer(ee.FRAMEBUFFER,null),we=!1;else if(Je.__webglFramebuffer===void 0)ct.setupRenderTarget(Q);else if(Je.__hasExternalTextures)ct.rebindTextures(Q,nt.get(Q.texture).__webglTexture,nt.get(Q.depthTexture).__webglTexture);else if(Q.depthBuffer){const bt=Q.depthTexture;if(Je.__boundDepthTexture!==bt){if(bt!==null&&nt.has(bt)&&(Q.width!==bt.image.width||Q.height!==bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ct.setupDepthRenderbuffer(Q)}}const At=Q.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(dt=!0);const Pt=nt.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(Pt[de])?pe=Pt[de][be]:pe=Pt[de],qe=!0):Q.samples>0&&ct.useMultisampledRTT(Q)===!1?pe=nt.get(Q).__webglMultisampledFramebuffer:Array.isArray(Pt)?pe=Pt[be]:pe=Pt,k.copy(Q.viewport),B.copy(Q.scissor),H=Q.scissorTest}else k.copy(te).multiplyScalar(W).floor(),B.copy(Y).multiplyScalar(W).floor(),H=oe;if(Ae.bindFramebuffer(ee.FRAMEBUFFER,pe)&&we&&Ae.drawBuffers(Q,pe),Ae.viewport(k),Ae.scissor(B),Ae.setScissorTest(H),qe){const Je=nt.get(Q.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+de,Je.__webglTexture,be)}else if(dt){const Je=nt.get(Q.texture),At=de||0;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Je.__webglTexture,be||0,At)}z=-1},this.readRenderTargetPixels=function(Q,de,be,we,pe,qe,dt){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=nt.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&dt!==void 0&&(xt=xt[dt]),xt){Ae.bindFramebuffer(ee.FRAMEBUFFER,xt);try{const Je=Q.texture,At=Je.format,Pt=Je.type;if(!tt.textureFormatReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!tt.textureTypeReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=Q.width-we&&be>=0&&be<=Q.height-pe&&ee.readPixels(de,be,we,pe,jt.convert(At),jt.convert(Pt),qe)}finally{const Je=L!==null?nt.get(L).__webglFramebuffer:null;Ae.bindFramebuffer(ee.FRAMEBUFFER,Je)}}},this.readRenderTargetPixelsAsync=async function(Q,de,be,we,pe,qe,dt){if(!(Q&&Q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=nt.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&dt!==void 0&&(xt=xt[dt]),xt){Ae.bindFramebuffer(ee.FRAMEBUFFER,xt);try{const Je=Q.texture,At=Je.format,Pt=Je.type;if(!tt.textureFormatReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!tt.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(de>=0&&de<=Q.width-we&&be>=0&&be<=Q.height-pe){const bt=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,bt),ee.bufferData(ee.PIXEL_PACK_BUFFER,qe.byteLength,ee.STREAM_READ),ee.readPixels(de,be,we,pe,jt.convert(At),jt.convert(Pt),0),ee.flush();const hn=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);await w0e(ee,hn,4);try{ee.bindBuffer(ee.PIXEL_PACK_BUFFER,bt),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,qe)}finally{ee.deleteBuffer(bt),ee.deleteSync(hn)}return qe}}finally{const Je=L!==null?nt.get(L).__webglFramebuffer:null;Ae.bindFramebuffer(ee.FRAMEBUFFER,Je)}}},this.copyFramebufferToTexture=function(Q,de=null,be=0){Q.isTexture!==!0&&(Eg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),de=arguments[0]||null,Q=arguments[1]);const we=Math.pow(2,-be),pe=Math.floor(Q.image.width*we),qe=Math.floor(Q.image.height*we),dt=de!==null?de.x:0,xt=de!==null?de.y:0;ct.setTexture2D(Q,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,be,0,0,dt,xt,pe,qe),Ae.unbindTexture()},this.copyTextureToTexture=function(Q,de,be=null,we=null,pe=0){Q.isTexture!==!0&&(Eg("WebGLRenderer: copyTextureToTexture function signature has changed."),we=arguments[0]||null,Q=arguments[1],de=arguments[2],pe=arguments[3]||0,be=null);let qe,dt,xt,Je,At,Pt;be!==null?(qe=be.max.x-be.min.x,dt=be.max.y-be.min.y,xt=be.min.x,Je=be.min.y):(qe=Q.image.width,dt=Q.image.height,xt=0,Je=0),we!==null?(At=we.x,Pt=we.y):(At=0,Pt=0);const bt=jt.convert(de.format),hn=jt.convert(de.type);ct.setTexture2D(de,0),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,de.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,de.unpackAlignment);const jn=ee.getParameter(ee.UNPACK_ROW_LENGTH),Tn=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Jn=ee.getParameter(ee.UNPACK_SKIP_PIXELS),vt=ee.getParameter(ee.UNPACK_SKIP_ROWS),Qe=ee.getParameter(ee.UNPACK_SKIP_IMAGES),cn=Q.isCompressedTexture?Q.mipmaps[pe]:Q.image;ee.pixelStorei(ee.UNPACK_ROW_LENGTH,cn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,cn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,xt),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Je),Q.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,pe,At,Pt,qe,dt,bt,hn,cn.data):Q.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,pe,At,Pt,cn.width,cn.height,bt,cn.data):ee.texSubImage2D(ee.TEXTURE_2D,pe,At,Pt,qe,dt,bt,hn,cn),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,jn),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Tn),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Jn),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,vt),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Qe),pe===0&&de.generateMipmaps&&ee.generateMipmap(ee.TEXTURE_2D),Ae.unbindTexture()},this.copyTextureToTexture3D=function(Q,de,be=null,we=null,pe=0){Q.isTexture!==!0&&(Eg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),be=arguments[0]||null,we=arguments[1]||null,Q=arguments[2],de=arguments[3],pe=arguments[4]||0);let qe,dt,xt,Je,At,Pt,bt,hn,jn;const Tn=Q.isCompressedTexture?Q.mipmaps[pe]:Q.image;be!==null?(qe=be.max.x-be.min.x,dt=be.max.y-be.min.y,xt=be.max.z-be.min.z,Je=be.min.x,At=be.min.y,Pt=be.min.z):(qe=Tn.width,dt=Tn.height,xt=Tn.depth,Je=0,At=0,Pt=0),we!==null?(bt=we.x,hn=we.y,jn=we.z):(bt=0,hn=0,jn=0);const Jn=jt.convert(de.format),vt=jt.convert(de.type);let Qe;if(de.isData3DTexture)ct.setTexture3D(de,0),Qe=ee.TEXTURE_3D;else if(de.isDataArrayTexture||de.isCompressedArrayTexture)ct.setTexture2DArray(de,0),Qe=ee.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,de.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,de.unpackAlignment);const cn=ee.getParameter(ee.UNPACK_ROW_LENGTH),zt=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Hn=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Qr=ee.getParameter(ee.UNPACK_SKIP_ROWS),di=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Tn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Tn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Je),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,At),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Pt),Q.isDataTexture||Q.isData3DTexture?ee.texSubImage3D(Qe,pe,bt,hn,jn,qe,dt,xt,Jn,vt,Tn.data):de.isCompressedArrayTexture?ee.compressedTexSubImage3D(Qe,pe,bt,hn,jn,qe,dt,xt,Jn,Tn.data):ee.texSubImage3D(Qe,pe,bt,hn,jn,qe,dt,xt,Jn,vt,Tn),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,cn),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,zt),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Hn),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Qr),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,di),pe===0&&de.generateMipmaps&&ee.generateMipmap(Qe),Ae.unbindTexture()},this.initRenderTarget=function(Q){nt.get(Q).__webglFramebuffer===void 0&&ct.setupRenderTarget(Q)},this.initTexture=function(Q){Q.isCubeTexture?ct.setTextureCube(Q,0):Q.isData3DTexture?ct.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?ct.setTexture2DArray(Q,0):ct.setTexture2D(Q,0),Ae.unbindTexture()},this.resetState=function(){R=0,O=0,L=null,Ae.reset(),qt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Nl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===oC?"display-p3":"srgb",n.unpackColorSpace=Pn.workingColorSpace===f_?"display-p3":"srgb"}}class cC{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ht(e),this.density=n}clone(){return new cC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class uC{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new ht(e),this.near=n,this.far=i}clone(){return new uC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Rk extends Cn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ao,this.environmentIntensity=1,this.environmentRotation=new ao,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class dC{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=xx,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=No()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Eg("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=No()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=No()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ks=new ne;class Kh{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)ks.fromBufferAttribute(this,n),ks.applyMatrix4(e),this.setXYZ(n,ks.x,ks.y,ks.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ks.fromBufferAttribute(this,n),ks.applyNormalMatrix(e),this.setXYZ(n,ks.x,ks.y,ks.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ks.fromBufferAttribute(this,n),ks.transformDirection(e),this.setXYZ(n,ks.x,ks.y,ks.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Os(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=en(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Os(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Os(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Os(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Os(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),i=en(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),i=en(i,this.array),r=en(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),i=en(i,this.array),r=en(r,this.array),s=en(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Xn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Ik extends _s{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let zm;const O0=new ne,Um=new ne,Bm=new ne,Vm=new De,L0=new De,v9=new Ot,cb=new ne,D0=new ne,ub=new ne,T4=new De,BM=new De,M4=new De;class y9 extends Cn{constructor(e=new Ik){if(super(),this.isSprite=!0,this.type="Sprite",zm===void 0){zm=new sn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new dC(n,5);zm.setIndex([0,1,2,0,2,3]),zm.setAttribute("position",new Kh(i,3,0,!1)),zm.setAttribute("uv",new Kh(i,2,3,!1))}this.geometry=zm,this.material=e,this.center=new De(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Um.setFromMatrixScale(this.matrixWorld),v9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Um.multiplyScalar(-Bm.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;db(cb.set(-.5,-.5,0),Bm,o,Um,r,s),db(D0.set(.5,-.5,0),Bm,o,Um,r,s),db(ub.set(.5,.5,0),Bm,o,Um,r,s),T4.set(0,0),BM.set(1,0),M4.set(1,1);let a=e.ray.intersectTriangle(cb,D0,ub,!1,O0);if(a===null&&(db(D0.set(-.5,.5,0),Bm,o,Um,r,s),BM.set(0,1),a=e.ray.intersectTriangle(cb,ub,D0,!1,O0),a===null))return;const l=e.ray.origin.distanceTo(O0);l<e.near||l>e.far||n.push({distance:l,point:O0.clone(),uv:Ro.getInterpolation(O0,cb,D0,ub,T4,BM,M4,new De),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function db(t,e,n,i,r,s){Vm.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(L0.x=s*Vm.x-r*Vm.y,L0.y=r*Vm.x+s*Vm.y):L0.copy(Vm),t.copy(e),t.x+=L0.x,t.y+=L0.y,t.applyMatrix4(v9)}const fb=new ne,A4=new ne;class x9 extends Cn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){fb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(fb);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){fb.setFromMatrixPosition(e.matrixWorld),A4.setFromMatrixPosition(this.matrixWorld);const i=fb.distanceTo(A4)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const P4=new ne,R4=new Sn,I4=new Sn,Dbe=new ne,k4=new Ot,hb=new ne,VM=new vs,N4=new Ot,jM=new fv;class _9 extends nr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=oP,this.bindMatrix=new Ot,this.bindMatrixInverse=new Ot,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Us),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,hb),this.boundingBox.expandByPoint(hb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,hb),this.boundingSphere.expandByPoint(hb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),VM.copy(this.boundingSphere),VM.applyMatrix4(r),e.ray.intersectsSphere(VM)!==!1&&(N4.copy(r).invert(),jM.copy(e.ray).applyMatrix4(N4),!(this.boundingBox!==null&&jM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,jM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===oP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===B7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;R4.fromBufferAttribute(r.attributes.skinIndex,e),I4.fromBufferAttribute(r.attributes.skinWeight,e),P4.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=I4.getComponent(s);if(o!==0){const a=R4.getComponent(s);k4.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(Dbe.copy(P4).applyMatrix4(k4),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class kk extends Cn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class jl extends xi{constructor(e=null,n=1,i=1,r,s,o,a,l,c=kr,d=kr,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const O4=new Ot,Fbe=new Ot;class fC{constructor(e=[],n=[]){this.uuid=No(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Ot;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Fbe;O4.multiplyMatrices(a,n[s]),O4.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new fC(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new jl(n,e,e,ms,io);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new kk),this.bones.push(o),this.boneInverses.push(new Ot().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class jg extends Xn{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const jm=new Ot,L4=new Ot,pb=[],D4=new Us,zbe=new Ot,F0=new nr,z0=new vs;class b9 extends nr{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new jg(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,zbe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Us),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,jm),D4.copy(e.boundingBox).applyMatrix4(jm),this.boundingBox.union(D4)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new vs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,jm),z0.copy(e.boundingSphere).applyMatrix4(jm),this.boundingSphere.union(z0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(F0.geometry=this.geometry,F0.material=this.material,F0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),z0.copy(this.boundingSphere),z0.applyMatrix4(i),e.ray.intersectsSphere(z0)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,jm),L4.multiplyMatrices(i,jm),F0.matrixWorld=L4,F0.raycast(e,pb);for(let o=0,a=pb.length;o<a;o++){const l=pb[o];l.instanceId=s,l.object=this,n.push(l)}pb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new jg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new jl(new Float32Array(r*this.count),r,this.count,nC,io));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Ube(t,e){return t.z-e.z}function Bbe(t,e){return e.z-t.z}class Vbe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const pd=new Ot,HM=new Ot,jbe=new Ot,Hbe=new ht(1,1,1),F4=new Ot,WM=new m_,mb=new Us,ih=new vs,U0=new ne,z4=new ne,Wbe=new ne,GM=new Vbe,us=new nr,gb=[];function Gbe(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class S9 extends nr{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,i=n*2,r){super(new sn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new jl(n,e,e,ms,io);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new jl(n,e,e,d_,gu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new jl(n,e,e,ms,io);i.colorSpace=Pn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(i*l),h=new Xn(d,l,c);n.setAttribute(s,h)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Xn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Us);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,pd),this.getBoundingBoxAt(s,mb).applyMatrix4(pd),e.union(mb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vs);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,pd),this.getBoundingSphereAt(s,ih).applyMatrix4(pd),e.union(ih)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const n=this._drawInfo.length-1,i=this._matricesTexture,r=i.image.data;jbe.toArray(r,n*16),i.needsUpdate=!0;const s=this._colorsTexture;return s&&(Hbe.toArray(s.image.data,n*4),s.needsUpdate=!0),n}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=n,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),d=c!==null;if(d&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._geometryCount;return this._geometryCount++,o.push(r),a.push({start:d?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Us,sphereInitialized:!1,sphere:new vs}),this.setGeometryAt(h,e),h}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const v in i.attributes){const y=n.getAttribute(v),b=i.getAttribute(v);Gbe(y,b,l);const S=y.itemSize;for(let _=y.count,w=c;_<w;_++){const C=l+_;for(let A=0;A<S;A++)b.setComponent(C,A,0)}b.needsUpdate=!0,b.addUpdateRange(l*S,c*S)}if(r){const v=a.indexStart;for(let y=0;y<o.count;y++)s.setX(v+y,l+o.getX(y));for(let y=o.count,b=a.indexCount;y<b;y++)s.setX(v+y,l);s.needsUpdate=!0,s.addUpdateRange(v,a.indexCount)}const d=this._bounds[e];n.boundingBox!==null?(d.box.copy(n.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,n.boundingSphere!==null?(d.sphere.copy(n.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const h=this._drawRanges[e],p=n.getAttribute("position");return h.count=r?o.count:p.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.box,s=this.geometry;if(i.boxInitialized===!1){r.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let c=l.start,d=l.start+l.count;c<d;c++){let h=c;o&&(h=o.getX(h)),r.expandByPoint(U0.fromBufferAttribute(a,h))}i.boxInitialized=!0}return n.copy(r),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,mb),mb.getCenter(r.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let c=0;for(let d=l.start,h=l.start+l.count;d<h;d++){let p=d;o&&(p=o.getX(p)),U0.fromBufferAttribute(a,p),c=Math.max(c,r.center.distanceToSquared(U0))}r.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(r),n}setMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture,s=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(n.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,r=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(r,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const i=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const i=this._drawInfo;return e>=i.length||i[e].active===!1||i[e].visible===n?this:(i[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}raycast(e,n){const i=this._drawInfo,r=this._drawRanges,s=this.matrixWorld,o=this.geometry;us.material=this.material,us.geometry.index=o.index,us.geometry.attributes=o.attributes,us.geometry.boundingBox===null&&(us.geometry.boundingBox=new Us),us.geometry.boundingSphere===null&&(us.geometry.boundingSphere=new vs);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const c=i[a].geometryIndex,d=r[c];us.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,us.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,us.geometry.boundingBox),this.getBoundingSphereAt(c,us.geometry.boundingSphere),us.raycast(e,gb);for(let h=0,p=gb.length;h<p;h++){const v=gb[h];v.object=this,v.batchId=a,n.push(v)}gb.length=0}us.material=null,us.geometry.index=null,us.geometry.attributes={},us.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._drawInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,h=this._drawRanges,p=this.perObjectFrustumCulled,v=this._indirectTexture,y=v.image.data;p&&(F4.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),WM.setFromProjectionMatrix(F4,e.coordinateSystem));let b=0;if(this.sortObjects){HM.copy(this.matrixWorld).invert(),U0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(HM),z4.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(HM);for(let w=0,C=l.length;w<C;w++)if(l[w].visible&&l[w].active){const A=l[w].geometryIndex;this.getMatrixAt(w,pd),this.getBoundingSphereAt(A,ih).applyMatrix4(pd);let R=!1;if(p&&(R=!WM.intersectsSphere(ih)),!R){const O=Wbe.subVectors(ih.center,U0).dot(z4);GM.push(h[A],O,w)}}const S=GM.list,_=this.customSort;_===null?S.sort(s.transparent?Bbe:Ube):_.call(this,S,i);for(let w=0,C=S.length;w<C;w++){const A=S[w];c[b]=A.start*a,d[b]=A.count,y[b]=A.index,b++}GM.reset()}else for(let S=0,_=l.length;S<_;S++)if(l[S].visible&&l[S].active){const w=l[S].geometryIndex;let C=!1;if(p&&(this.getMatrixAt(S,pd),this.getBoundingSphereAt(w,ih).applyMatrix4(pd),C=!WM.intersectsSphere(ih)),!C){const A=h[w];c[b]=A.start*a,d[b]=A.count,y[b]=S,b++}}v.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Vs extends _s{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ht(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $w=new ne,qw=new ne,U4=new Ot,B0=new fv,vb=new vs,$M=new ne,B4=new ne;class Wd extends Cn{constructor(e=new sn,n=new Vs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)$w.fromBufferAttribute(n,r-1),qw.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=$w.distanceTo(qw);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),vb.copy(i.boundingSphere),vb.applyMatrix4(r),vb.radius+=s,e.ray.intersectsSphere(vb)===!1)return;U4.copy(r).invert(),B0.copy(e.ray).applyMatrix4(U4);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=i.index,p=i.attributes.position;if(d!==null){const v=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let b=v,S=y-1;b<S;b+=c){const _=d.getX(b),w=d.getX(b+1),C=yb(this,e,B0,l,_,w);C&&n.push(C)}if(this.isLineLoop){const b=d.getX(y-1),S=d.getX(v),_=yb(this,e,B0,l,b,S);_&&n.push(_)}}else{const v=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let b=v,S=y-1;b<S;b+=c){const _=yb(this,e,B0,l,b,b+1);_&&n.push(_)}if(this.isLineLoop){const b=yb(this,e,B0,l,y-1,v);b&&n.push(b)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function yb(t,e,n,i,r,s){const o=t.geometry.attributes.position;if($w.fromBufferAttribute(o,r),qw.fromBufferAttribute(o,s),n.distanceSqToSegment($w,qw,$M,B4)>i)return;$M.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo($M);if(!(l<e.near||l>e.far))return{distance:l,point:B4.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,object:t}}const V4=new ne,j4=new ne;class ic extends Wd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)V4.fromBufferAttribute(n,r),j4.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+V4.distanceTo(j4);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class w9 extends Wd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Nk extends _s{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const H4=new Ot,fP=new fv,xb=new vs,_b=new ne;class E9 extends Cn{constructor(e=new sn,n=new Nk){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),xb.copy(i.boundingSphere),xb.applyMatrix4(r),xb.radius+=s,e.ray.intersectsSphere(xb)===!1)return;H4.copy(r).invert(),fP.copy(e.ray).applyMatrix4(H4);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let y=p,b=v;y<b;y++){const S=c.getX(y);_b.fromBufferAttribute(h,S),W4(_b,S,l,r,e,n,this)}}else{const p=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let y=p,b=v;y<b;y++)_b.fromBufferAttribute(h,y),W4(_b,y,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function W4(t,e,n,i,r,s,o){const a=fP.distanceSqToPoint(t);if(a<n){const l=new ne;fP.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class $be extends xi{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:tr,this.magFilter=s!==void 0?s:tr,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class qbe extends xi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=kr,this.minFilter=kr,this.generateMipmaps=!1,this.needsUpdate=!0}}class hC extends xi{constructor(e,n,i,r,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Xbe extends hC{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=aa,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ybe extends hC{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,mu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Kbe extends xi{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ol{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,v=(o-d)/p;return(r+v)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new De:new ne);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new ne,r=[],s=[],o=[],a=new ne,l=new Ot;for(let v=0;v<=e;v++){const y=v/e;r[v]=this.getTangentAt(y,new ne)}s[0]=new ne,o[0]=new ne;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(r[v-1],r[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Fi(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(r[v],s[v])}if(n===!0){let v=Math.acos(Fi(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],v*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class pC extends ol{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new De){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,v=c-this.aY;l=p*d-v*h+this.aX,c=p*h+v*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class C9 extends pC{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Ok(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,v=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,v*=d,r(o,a,p,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const bb=new ne,qM=new Ok,XM=new Ok,YM=new Ok;class T9 extends ol{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new ne){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(bb.subVectors(r[0],r[1]).add(r[0]),c=bb);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(bb.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=bb),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),v),b=Math.pow(h.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(d),v);b<1e-4&&(b=1),y<1e-4&&(y=b),S<1e-4&&(S=b),qM.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,y,b,S),XM.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,y,b,S),YM.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,y,b,S)}else this.curveType==="catmullrom"&&(qM.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),XM.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),YM.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return i.set(qM.calc(l),XM.calc(l),YM.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ne().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function G4(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function Jbe(t,e){const n=1-t;return n*n*e}function Qbe(t,e){return 2*(1-t)*t*e}function Zbe(t,e){return t*t*e}function ky(t,e,n,i){return Jbe(t,e)+Qbe(t,n)+Zbe(t,i)}function eSe(t,e){const n=1-t;return n*n*n*e}function tSe(t,e){const n=1-t;return 3*n*n*t*e}function nSe(t,e){return 3*(1-t)*t*t*e}function iSe(t,e){return t*t*t*e}function Ny(t,e,n,i,r){return eSe(t,e)+tSe(t,n)+nSe(t,i)+iSe(t,r)}class Lk extends ol{constructor(e=new De,n=new De,i=new De,r=new De){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new De){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Ny(e,r.x,s.x,o.x,a.x),Ny(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class M9 extends ol{constructor(e=new ne,n=new ne,i=new ne,r=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ne){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Ny(e,r.x,s.x,o.x,a.x),Ny(e,r.y,s.y,o.y,a.y),Ny(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Dk extends ol{constructor(e=new De,n=new De){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new De){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new De){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class A9 extends ol{constructor(e=new ne,n=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ne){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ne){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Fk extends ol{constructor(e=new De,n=new De,i=new De){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new De){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(ky(e,r.x,s.x,o.x),ky(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zk extends ol{constructor(e=new ne,n=new ne,i=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ne){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(ky(e,r.x,s.x,o.x),ky(e,r.y,s.y,o.y),ky(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Uk extends ol{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new De){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(G4(a,l.x,c.x,d.x,h.x),G4(a,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new De().fromArray(r))}return this}}var Xw=Object.freeze({__proto__:null,ArcCurve:C9,CatmullRomCurve3:T9,CubicBezierCurve:Lk,CubicBezierCurve3:M9,EllipseCurve:pC,LineCurve:Dk,LineCurve3:A9,QuadraticBezierCurve:Fk,QuadraticBezierCurve3:zk,SplineCurve:Uk});class P9 extends ol{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Xw[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Xw[r.type]().fromJSON(r))}return this}}class Sx extends P9{constructor(e){super(),this.type="Path",this.currentPoint=new De,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Dk(this.currentPoint.clone(),new De(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new Fk(this.currentPoint.clone(),new De(e,n),new De(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new Lk(this.currentPoint.clone(),new De(e,n),new De(i,r),new De(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new Uk(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new pC(e,n,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class v_ extends sn{constructor(e=[new De(0,-.5),new De(.5,0),new De(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Fi(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/n,h=new ne,p=new De,v=new ne,y=new ne,b=new ne;let S=0,_=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:S=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,v.x=_*1,v.y=-S,v.z=_*0,b.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:S=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,v.x=_*1,v.y=-S,v.z=_*0,y.copy(v),v.x+=b.x,v.y+=b.y,v.z+=b.z,v.normalize(),l.push(v.x,v.y,v.z),b.copy(y)}for(let w=0;w<=n;w++){const C=i+w*d*r,A=Math.sin(C),R=Math.cos(C);for(let O=0;O<=e.length-1;O++){h.x=e[O].x*A,h.y=e[O].y,h.z=e[O].x*R,o.push(h.x,h.y,h.z),p.x=w/n,p.y=O/(e.length-1),a.push(p.x,p.y);const L=l[3*O+0]*A,z=l[3*O+1],N=l[3*O+0]*R;c.push(L,z,N)}}for(let w=0;w<n;w++)for(let C=0;C<e.length-1;C++){const A=C+w*e.length,R=A,O=A+e.length,L=A+e.length+1,z=A+1;s.push(R,O,z),s.push(L,z,O)}this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(a,2)),this.setAttribute("normal",new Et(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v_(e.points,e.segments,e.phiStart,e.phiLength)}}class mC extends v_{constructor(e=1,n=1,i=4,r=8){const s=new Sx;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new mC(e.radius,e.length,e.capSegments,e.radialSegments)}}class gC extends sn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new ne,d=new De;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const v=i+h/n*r;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class mv extends sn{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],v=[];let y=0;const b=[],S=i/2;let _=0;w(),o===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(d),this.setAttribute("position",new Et(h,3)),this.setAttribute("normal",new Et(p,3)),this.setAttribute("uv",new Et(v,2));function w(){const A=new ne,R=new ne;let O=0;const L=(n-e)/i;for(let z=0;z<=s;z++){const N=[],k=z/s,B=k*(n-e)+e;for(let H=0;H<=r;H++){const J=H/r,Z=J*l+a,$=Math.sin(Z),K=Math.cos(Z);R.x=B*$,R.y=-k*i+S,R.z=B*K,h.push(R.x,R.y,R.z),A.set($,L,K).normalize(),p.push(A.x,A.y,A.z),v.push(J,1-k),N.push(y++)}b.push(N)}for(let z=0;z<r;z++)for(let N=0;N<s;N++){const k=b[N][z],B=b[N+1][z],H=b[N+1][z+1],J=b[N][z+1];d.push(k,B,J),d.push(B,H,J),O+=6}c.addGroup(_,O,0),_+=O}function C(A){const R=y,O=new De,L=new ne;let z=0;const N=A===!0?e:n,k=A===!0?1:-1;for(let H=1;H<=r;H++)h.push(0,S*k,0),p.push(0,k,0),v.push(.5,.5),y++;const B=y;for(let H=0;H<=r;H++){const Z=H/r*l+a,$=Math.cos(Z),K=Math.sin(Z);L.x=N*K,L.y=S*k,L.z=N*$,h.push(L.x,L.y,L.z),p.push(0,k,0),O.x=$*.5+.5,O.y=K*.5*k+.5,v.push(O.x,O.y),y++}for(let H=0;H<r;H++){const J=R+H,Z=B+H;A===!0?d.push(Z,Z+1,J):d.push(Z+1,Z,J),z+=3}c.addGroup(_,z,A===!0?1:2),_+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vC extends mv{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new vC(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zd extends sn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new Et(s,3)),this.setAttribute("normal",new Et(s.slice(),3)),this.setAttribute("uv",new Et(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const C=new ne,A=new ne,R=new ne;for(let O=0;O<n.length;O+=3)v(n[O+0],C),v(n[O+1],A),v(n[O+2],R),l(C,A,R,w)}function l(w,C,A,R){const O=R+1,L=[];for(let z=0;z<=O;z++){L[z]=[];const N=w.clone().lerp(A,z/O),k=C.clone().lerp(A,z/O),B=O-z;for(let H=0;H<=B;H++)H===0&&z===O?L[z][H]=N:L[z][H]=N.clone().lerp(k,H/B)}for(let z=0;z<O;z++)for(let N=0;N<2*(O-z)-1;N++){const k=Math.floor(N/2);N%2===0?(p(L[z][k+1]),p(L[z+1][k]),p(L[z][k])):(p(L[z][k+1]),p(L[z+1][k+1]),p(L[z+1][k]))}}function c(w){const C=new ne;for(let A=0;A<s.length;A+=3)C.x=s[A+0],C.y=s[A+1],C.z=s[A+2],C.normalize().multiplyScalar(w),s[A+0]=C.x,s[A+1]=C.y,s[A+2]=C.z}function d(){const w=new ne;for(let C=0;C<s.length;C+=3){w.x=s[C+0],w.y=s[C+1],w.z=s[C+2];const A=S(w)/2/Math.PI+.5,R=_(w)/Math.PI+.5;o.push(A,1-R)}y(),h()}function h(){for(let w=0;w<o.length;w+=6){const C=o[w+0],A=o[w+2],R=o[w+4],O=Math.max(C,A,R),L=Math.min(C,A,R);O>.9&&L<.1&&(C<.2&&(o[w+0]+=1),A<.2&&(o[w+2]+=1),R<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function v(w,C){const A=w*3;C.x=e[A+0],C.y=e[A+1],C.z=e[A+2]}function y(){const w=new ne,C=new ne,A=new ne,R=new ne,O=new De,L=new De,z=new De;for(let N=0,k=0;N<s.length;N+=9,k+=6){w.set(s[N+0],s[N+1],s[N+2]),C.set(s[N+3],s[N+4],s[N+5]),A.set(s[N+6],s[N+7],s[N+8]),O.set(o[k+0],o[k+1]),L.set(o[k+2],o[k+3]),z.set(o[k+4],o[k+5]),R.copy(w).add(C).add(A).divideScalar(3);const B=S(R);b(O,k+0,w,B),b(L,k+2,C,B),b(z,k+4,A,B)}}function b(w,C,A,R){R<0&&w.x===1&&(o[C]=w.x-1),A.x===0&&A.z===0&&(o[C]=R/2/Math.PI+.5)}function S(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.vertices,e.indices,e.radius,e.details)}}class yC extends Zd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yC(e.radius,e.detail)}}const Sb=new ne,wb=new ne,KM=new ne,Eb=new Ro;class R9 extends sn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Ih*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},v=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:b,b:S,c:_}=Eb;if(b.fromBufferAttribute(a,c[0]),S.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),Eb.getNormal(KM),h[0]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,h[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,h[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const C=(w+1)%3,A=h[w],R=h[C],O=Eb[d[w]],L=Eb[d[C]],z=`${A}_${R}`,N=`${R}_${A}`;N in p&&p[N]?(KM.dot(p[N].normal)<=s&&(v.push(O.x,O.y,O.z),v.push(L.x,L.y,L.z)),p[N]=null):z in p||(p[z]={index0:c[w],index1:c[C],normal:KM.clone()})}}for(const y in p)if(p[y]){const{index0:b,index1:S}=p[y];Sb.fromBufferAttribute(a,b),wb.fromBufferAttribute(a,S),v.push(Sb.x,Sb.y,Sb.z),v.push(wb.x,wb.y,wb.z)}this.setAttribute("position",new Et(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Nh extends Sx{constructor(e){super(e),this.uuid=No(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new Sx().fromJSON(r))}return this}}const rSe={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=I9(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,v;if(i&&(s=cSe(t,e,s,n)),t.length>80*n){a=c=t[0],l=d=t[1];for(let y=n;y<r;y+=n)h=t[y],p=t[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);v=Math.max(c-a,d-l),v=v!==0?32767/v:0}return wx(s,o,n,a,l,v,0),o}};function I9(t,e,n,i,r){let s,o;if(r===_Se(t,e,n,i)>0)for(s=e;s<n;s+=i)o=$4(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=$4(s,t[s],t[s+1],o);return o&&xC(o,o.next)&&(Cx(o),o=o.next),o}function Jh(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(xC(n,n.next)||Mi(n.prev,n,n.next)===0)){if(Cx(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function wx(t,e,n,i,r,s,o){if(!t)return;!o&&s&&pSe(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?oSe(t,i,r,s):sSe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Cx(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=aSe(Jh(t),e,n),wx(t,e,n,i,r,s,2)):o===2&&lSe(t,e,n,i,r,s):wx(Jh(t),e,n,i,r,s,1);break}}}function sSe(t){const e=t.prev,n=t,i=t.next;if(Mi(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,v=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=v&&cg(r,a,s,l,o,c,y.x,y.y)&&Mi(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function oSe(t,e,n,i){const r=t.prev,s=t,o=t.next;if(Mi(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,h=s.y,p=o.y,v=a<l?a<c?a:c:l<c?l:c,y=d<h?d<p?d:p:h<p?h:p,b=a>l?a>c?a:c:l>c?l:c,S=d>h?d>p?d:p:h>p?h:p,_=hP(v,y,e,n,i),w=hP(b,S,e,n,i);let C=t.prevZ,A=t.nextZ;for(;C&&C.z>=_&&A&&A.z<=w;){if(C.x>=v&&C.x<=b&&C.y>=y&&C.y<=S&&C!==r&&C!==o&&cg(a,d,l,h,c,p,C.x,C.y)&&Mi(C.prev,C,C.next)>=0||(C=C.prevZ,A.x>=v&&A.x<=b&&A.y>=y&&A.y<=S&&A!==r&&A!==o&&cg(a,d,l,h,c,p,A.x,A.y)&&Mi(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;C&&C.z>=_;){if(C.x>=v&&C.x<=b&&C.y>=y&&C.y<=S&&C!==r&&C!==o&&cg(a,d,l,h,c,p,C.x,C.y)&&Mi(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;A&&A.z<=w;){if(A.x>=v&&A.x<=b&&A.y>=y&&A.y<=S&&A!==r&&A!==o&&cg(a,d,l,h,c,p,A.x,A.y)&&Mi(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function aSe(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!xC(r,s)&&k9(r,i,i.next,s)&&Ex(r,s)&&Ex(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),Cx(i),Cx(i.next),i=t=s),i=i.next}while(i!==t);return Jh(i)}function lSe(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&vSe(o,a)){let l=N9(o,a);o=Jh(o,o.next),l=Jh(l,l.next),wx(o,e,n,i,r,s,0),wx(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function cSe(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=I9(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(gSe(c));for(r.sort(uSe),s=0;s<r.length;s++)n=dSe(r[s],n);return n}function uSe(t,e){return t.x-e.x}function dSe(t,e){const n=fSe(t,e);if(!n)return e;const i=N9(n,t);return Jh(i,i.next),Jh(n,n.next)}function fSe(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,h;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&cg(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Ex(n,t)&&(h<d||h===d&&(n.x>r.x||n.x===r.x&&hSe(r,n)))&&(r=n,d=h)),n=n.next;while(n!==a);return r}function hSe(t,e){return Mi(t.prev,t,e.prev)<0&&Mi(e.next,t,t.next)<0}function pSe(t,e,n,i){let r=t;do r.z===0&&(r.z=hP(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,mSe(r)}function mSe(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function hP(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function gSe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function cg(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function vSe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ySe(t,e)&&(Ex(t,e)&&Ex(e,t)&&xSe(t,e)&&(Mi(t.prev,t,e.prev)||Mi(t,e.prev,e))||xC(t,e)&&Mi(t.prev,t,t.next)>0&&Mi(e.prev,e,e.next)>0)}function Mi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function xC(t,e){return t.x===e.x&&t.y===e.y}function k9(t,e,n,i){const r=Tb(Mi(t,e,n)),s=Tb(Mi(t,e,i)),o=Tb(Mi(n,i,t)),a=Tb(Mi(n,i,e));return!!(r!==s&&o!==a||r===0&&Cb(t,n,e)||s===0&&Cb(t,i,e)||o===0&&Cb(n,t,i)||a===0&&Cb(n,e,i))}function Cb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Tb(t){return t>0?1:t<0?-1:0}function ySe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&k9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Ex(t,e){return Mi(t.prev,t,t.next)<0?Mi(t,e,t.next)>=0&&Mi(t,t.prev,e)>=0:Mi(t,e,t.prev)<0||Mi(t,t.next,e)<0}function xSe(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function N9(t,e){const n=new pP(t.i,t.x,t.y),i=new pP(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function $4(t,e,n,i){const r=new pP(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Cx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pP(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _Se(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class Hl{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Hl.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];q4(e),X4(i,e);let o=e.length;n.forEach(q4);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,X4(i,n[l]);const a=rSe.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function q4(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function X4(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class _C extends sn{constructor(e=new Nh([new De(.5,.5),new De(-.5,.5),new De(-.5,-.5),new De(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Et(r,3)),this.setAttribute("uv",new Et(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:v-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:bSe;let C,A=!1,R,O,L,z;_&&(C=_.getSpacedPoints(d),A=!0,p=!1,R=_.computeFrenetFrames(d,!1),O=new ne,L=new ne,z=new ne),p||(S=0,v=0,y=0,b=0);const N=a.extractPoints(c);let k=N.shape;const B=N.holes;if(!Hl.isClockWise(k)){k=k.reverse();for(let ee=0,Re=B.length;ee<Re;ee++){const Ue=B[ee];Hl.isClockWise(Ue)&&(B[ee]=Ue.reverse())}}const J=Hl.triangulateShape(k,B),Z=k;for(let ee=0,Re=B.length;ee<Re;ee++){const Ue=B[ee];k=k.concat(Ue)}function $(ee,Re,Ue){return Re||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().addScaledVector(Re,Ue)}const K=k.length,W=J.length;function V(ee,Re,Ue){let tt,Ae,Tt;const nt=ee.x-Re.x,ct=ee.y-Re.y,ie=Ue.x-ee.x,q=Ue.y-ee.y,_e=nt*nt+ct*ct,Ne=nt*q-ct*ie;if(Math.abs(Ne)>Number.EPSILON){const Ie=Math.sqrt(_e),ze=Math.sqrt(ie*ie+q*q),Mt=Re.x-ct/Ie,it=Re.y+nt/Ie,ut=Ue.x-q/ze,Vt=Ue.y+ie/ze,We=((ut-Mt)*q-(Vt-it)*ie)/(nt*q-ct*ie);tt=Mt+nt*We-ee.x,Ae=it+ct*We-ee.y;const st=tt*tt+Ae*Ae;if(st<=2)return new De(tt,Ae);Tt=Math.sqrt(st/2)}else{let Ie=!1;nt>Number.EPSILON?ie>Number.EPSILON&&(Ie=!0):nt<-Number.EPSILON?ie<-Number.EPSILON&&(Ie=!0):Math.sign(ct)===Math.sign(q)&&(Ie=!0),Ie?(tt=-ct,Ae=nt,Tt=Math.sqrt(_e)):(tt=nt,Ae=ct,Tt=Math.sqrt(_e/2))}return new De(tt/Tt,Ae/Tt)}const X=[];for(let ee=0,Re=Z.length,Ue=Re-1,tt=ee+1;ee<Re;ee++,Ue++,tt++)Ue===Re&&(Ue=0),tt===Re&&(tt=0),X[ee]=V(Z[ee],Z[Ue],Z[tt]);const te=[];let Y,oe=X.concat();for(let ee=0,Re=B.length;ee<Re;ee++){const Ue=B[ee];Y=[];for(let tt=0,Ae=Ue.length,Tt=Ae-1,nt=tt+1;tt<Ae;tt++,Tt++,nt++)Tt===Ae&&(Tt=0),nt===Ae&&(nt=0),Y[tt]=V(Ue[tt],Ue[Tt],Ue[nt]);te.push(Y),oe=oe.concat(Y)}for(let ee=0;ee<S;ee++){const Re=ee/S,Ue=v*Math.cos(Re*Math.PI/2),tt=y*Math.sin(Re*Math.PI/2)+b;for(let Ae=0,Tt=Z.length;Ae<Tt;Ae++){const nt=$(Z[Ae],X[Ae],tt);Pe(nt.x,nt.y,-Ue)}for(let Ae=0,Tt=B.length;Ae<Tt;Ae++){const nt=B[Ae];Y=te[Ae];for(let ct=0,ie=nt.length;ct<ie;ct++){const q=$(nt[ct],Y[ct],tt);Pe(q.x,q.y,-Ue)}}}const ke=y+b;for(let ee=0;ee<K;ee++){const Re=p?$(k[ee],oe[ee],ke):k[ee];A?(L.copy(R.normals[0]).multiplyScalar(Re.x),O.copy(R.binormals[0]).multiplyScalar(Re.y),z.copy(C[0]).add(L).add(O),Pe(z.x,z.y,z.z)):Pe(Re.x,Re.y,0)}for(let ee=1;ee<=d;ee++)for(let Re=0;Re<K;Re++){const Ue=p?$(k[Re],oe[Re],ke):k[Re];A?(L.copy(R.normals[ee]).multiplyScalar(Ue.x),O.copy(R.binormals[ee]).multiplyScalar(Ue.y),z.copy(C[ee]).add(L).add(O),Pe(z.x,z.y,z.z)):Pe(Ue.x,Ue.y,h/d*ee)}for(let ee=S-1;ee>=0;ee--){const Re=ee/S,Ue=v*Math.cos(Re*Math.PI/2),tt=y*Math.sin(Re*Math.PI/2)+b;for(let Ae=0,Tt=Z.length;Ae<Tt;Ae++){const nt=$(Z[Ae],X[Ae],tt);Pe(nt.x,nt.y,h+Ue)}for(let Ae=0,Tt=B.length;Ae<Tt;Ae++){const nt=B[Ae];Y=te[Ae];for(let ct=0,ie=nt.length;ct<ie;ct++){const q=$(nt[ct],Y[ct],tt);A?Pe(q.x,q.y+C[d-1].y,C[d-1].x+Ue):Pe(q.x,q.y,h+Ue)}}}he(),Se();function he(){const ee=r.length/3;if(p){let Re=0,Ue=K*Re;for(let tt=0;tt<W;tt++){const Ae=J[tt];me(Ae[2]+Ue,Ae[1]+Ue,Ae[0]+Ue)}Re=d+S*2,Ue=K*Re;for(let tt=0;tt<W;tt++){const Ae=J[tt];me(Ae[0]+Ue,Ae[1]+Ue,Ae[2]+Ue)}}else{for(let Re=0;Re<W;Re++){const Ue=J[Re];me(Ue[2],Ue[1],Ue[0])}for(let Re=0;Re<W;Re++){const Ue=J[Re];me(Ue[0]+K*d,Ue[1]+K*d,Ue[2]+K*d)}}i.addGroup(ee,r.length/3-ee,0)}function Se(){const ee=r.length/3;let Re=0;Fe(Z,Re),Re+=Z.length;for(let Ue=0,tt=B.length;Ue<tt;Ue++){const Ae=B[Ue];Fe(Ae,Re),Re+=Ae.length}i.addGroup(ee,r.length/3-ee,1)}function Fe(ee,Re){let Ue=ee.length;for(;--Ue>=0;){const tt=Ue;let Ae=Ue-1;Ae<0&&(Ae=ee.length-1);for(let Tt=0,nt=d+S*2;Tt<nt;Tt++){const ct=K*Tt,ie=K*(Tt+1),q=Re+tt+ct,_e=Re+Ae+ct,Ne=Re+Ae+ie,Ie=Re+tt+ie;ve(q,_e,Ne,Ie)}}}function Pe(ee,Re,Ue){l.push(ee),l.push(Re),l.push(Ue)}function me(ee,Re,Ue){Ve(ee),Ve(Re),Ve(Ue);const tt=r.length/3,Ae=w.generateTopUV(i,r,tt-3,tt-2,tt-1);lt(Ae[0]),lt(Ae[1]),lt(Ae[2])}function ve(ee,Re,Ue,tt){Ve(ee),Ve(Re),Ve(tt),Ve(Re),Ve(Ue),Ve(tt);const Ae=r.length/3,Tt=w.generateSideWallUV(i,r,Ae-6,Ae-3,Ae-2,Ae-1);lt(Tt[0]),lt(Tt[1]),lt(Tt[3]),lt(Tt[1]),lt(Tt[2]),lt(Tt[3])}function Ve(ee){r.push(l[ee*3+0]),r.push(l[ee*3+1]),r.push(l[ee*3+2])}function lt(ee){s.push(ee.x),s.push(ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return SSe(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Xw[r.type]().fromJSON(r)),new _C(i,e.options)}}const bSe={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new De(s,o),new De(a,l),new De(c,d)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],v=e[r*3+1],y=e[r*3+2],b=e[s*3],S=e[s*3+1],_=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new De(o,1-l),new De(c,1-h),new De(p,1-y),new De(b,1-_)]:[new De(a,1-l),new De(d,1-h),new De(v,1-y),new De(S,1-_)]}};function SSe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class bC extends Zd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new bC(e.radius,e.detail)}}class y_ extends Zd{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new y_(e.radius,e.detail)}}class SC extends sn{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let h=e;const p=(n-e)/r,v=new ne,y=new De;for(let b=0;b<=r;b++){for(let S=0;S<=i;S++){const _=s+S/i*o;v.x=h*Math.cos(_),v.y=h*Math.sin(_),l.push(v.x,v.y,v.z),c.push(0,0,1),y.x=(v.x/n+1)/2,y.y=(v.y/n+1)/2,d.push(y.x,y.y)}h+=p}for(let b=0;b<r;b++){const S=b*(i+1);for(let _=0;_<i;_++){const w=_+S,C=w,A=w+i+1,R=w+i+2,O=w+1;a.push(C,A,O),a.push(A,R,O)}}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class wC extends sn{constructor(e=new Nh([new De(0,.5),new De(-.5,-.5),new De(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Et(r,3)),this.setAttribute("normal",new Et(s,3)),this.setAttribute("uv",new Et(o,2));function c(d){const h=r.length/3,p=d.extractPoints(n);let v=p.shape;const y=p.holes;Hl.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,_=y.length;S<_;S++){const w=y[S];Hl.isClockWise(w)===!0&&(y[S]=w.reverse())}const b=Hl.triangulateShape(v,y);for(let S=0,_=y.length;S<_;S++){const w=y[S];v=v.concat(w)}for(let S=0,_=v.length;S<_;S++){const w=v[S];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let S=0,_=b.length;S<_;S++){const w=b[S],C=w[0]+h,A=w[1]+h,R=w[2]+h;i.push(C,A,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return wSe(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new wC(i,e.curveSegments)}}function wSe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class x_ extends sn{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new ne,p=new ne,v=[],y=[],b=[],S=[];for(let _=0;_<=i;_++){const w=[],C=_/i;let A=0;_===0&&o===0?A=.5/n:_===i&&l===Math.PI&&(A=-.5/n);for(let R=0;R<=n;R++){const O=R/n;h.x=-e*Math.cos(r+O*s)*Math.sin(o+C*a),h.y=e*Math.cos(o+C*a),h.z=e*Math.sin(r+O*s)*Math.sin(o+C*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),b.push(p.x,p.y,p.z),S.push(O+A,1-C),w.push(c++)}d.push(w)}for(let _=0;_<i;_++)for(let w=0;w<n;w++){const C=d[_][w+1],A=d[_][w],R=d[_+1][w],O=d[_+1][w+1];(_!==0||o>0)&&v.push(C,A,O),(_!==i-1||l<Math.PI)&&v.push(A,R,O)}this.setIndex(v),this.setAttribute("position",new Et(y,3)),this.setAttribute("normal",new Et(b,3)),this.setAttribute("uv",new Et(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class EC extends Zd{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new EC(e.radius,e.detail)}}class CC extends sn{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new ne,h=new ne,p=new ne;for(let v=0;v<=i;v++)for(let y=0;y<=r;y++){const b=y/r*s,S=v/i*Math.PI*2;h.x=(e+n*Math.cos(S))*Math.cos(b),h.y=(e+n*Math.cos(S))*Math.sin(b),h.z=n*Math.sin(S),a.push(h.x,h.y,h.z),d.x=e*Math.cos(b),d.y=e*Math.sin(b),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(v/i)}for(let v=1;v<=i;v++)for(let y=1;y<=r;y++){const b=(r+1)*v+y-1,S=(r+1)*(v-1)+y-1,_=(r+1)*(v-1)+y,w=(r+1)*v+y;o.push(b,S,w),o.push(S,_,w)}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TC extends sn{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],h=new ne,p=new ne,v=new ne,y=new ne,b=new ne,S=new ne,_=new ne;for(let C=0;C<=i;++C){const A=C/i*s*Math.PI*2;w(A,s,o,e,v),w(A+.01,s,o,e,y),S.subVectors(y,v),_.addVectors(y,v),b.crossVectors(S,_),_.crossVectors(b,S),b.normalize(),_.normalize();for(let R=0;R<=r;++R){const O=R/r*Math.PI*2,L=-n*Math.cos(O),z=n*Math.sin(O);h.x=v.x+(L*_.x+z*b.x),h.y=v.y+(L*_.y+z*b.y),h.z=v.z+(L*_.z+z*b.z),l.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),c.push(p.x,p.y,p.z),d.push(C/i),d.push(R/r)}}for(let C=1;C<=i;C++)for(let A=1;A<=r;A++){const R=(r+1)*(C-1)+(A-1),O=(r+1)*C+(A-1),L=(r+1)*C+A,z=(r+1)*(C-1)+A;a.push(R,O,z),a.push(O,L,z)}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(d,2));function w(C,A,R,O,L){const z=Math.cos(C),N=Math.sin(C),k=R/A*C,B=Math.cos(k);L.x=O*(2+B)*.5*z,L.y=O*(2+B)*N*.5,L.z=O*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class MC extends sn{constructor(e=new zk(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ne,l=new ne,c=new De;let d=new ne;const h=[],p=[],v=[],y=[];b(),this.setIndex(y),this.setAttribute("position",new Et(h,3)),this.setAttribute("normal",new Et(p,3)),this.setAttribute("uv",new Et(v,2));function b(){for(let C=0;C<n;C++)S(C);S(s===!1?n:0),w(),_()}function S(C){d=e.getPointAt(C/n,d);const A=o.normals[C],R=o.binormals[C];for(let O=0;O<=r;O++){const L=O/r*Math.PI*2,z=Math.sin(L),N=-Math.cos(L);l.x=N*A.x+z*R.x,l.y=N*A.y+z*R.y,l.z=N*A.z+z*R.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function _(){for(let C=1;C<=n;C++)for(let A=1;A<=r;A++){const R=(r+1)*(C-1)+(A-1),O=(r+1)*C+(A-1),L=(r+1)*C+A,z=(r+1)*(C-1)+A;y.push(R,O,z),y.push(O,L,z)}}function w(){for(let C=0;C<=n;C++)for(let A=0;A<=r;A++)c.x=C/n,c.y=A/r,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new MC(new Xw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class O9 extends sn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new ne,s=new ne;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,v=h.count;for(let y=p,b=p+v;y<b;y+=3)for(let S=0;S<3;S++){const _=a.getX(y+S),w=a.getX(y+(S+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,w),Y4(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),Y4(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Y4(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var K4=Object.freeze({__proto__:null,BoxGeometry:dp,CapsuleGeometry:mC,CircleGeometry:gC,ConeGeometry:vC,CylinderGeometry:mv,DodecahedronGeometry:yC,EdgesGeometry:R9,ExtrudeGeometry:_C,IcosahedronGeometry:bC,LatheGeometry:v_,OctahedronGeometry:y_,PlaneGeometry:hv,PolyhedronGeometry:Zd,RingGeometry:SC,ShapeGeometry:wC,SphereGeometry:x_,TetrahedronGeometry:EC,TorusGeometry:CC,TorusKnotGeometry:TC,TubeGeometry:MC,WireframeGeometry:O9});class L9 extends _s{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class D9 extends ca{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Bk extends _s{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ao,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F9 extends Bk{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new De(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ht(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class z9 extends _s{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ao,this.combine=u_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U9 extends _s{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class B9 extends _s{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class V9 extends _s{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ao,this.combine=u_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class j9 extends _s{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H9 extends Vs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ch(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function W9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function G9(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function mP(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function Vk(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function ESe(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let v=0;v<c.times.length;++v){const y=c.times[v]*r;if(!(y<n||y>=i)){h.push(c.times[v]);for(let b=0;b<d;++b)p.push(c.values[v*d+b])}}h.length!==0&&(c.times=Ch(h,c.times.constructor),c.values=Ch(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function CSe(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const y=a.times.length-1;let b;if(s<=a.times[0]){const _=d,w=h-d;b=a.values.slice(_,w)}else if(s>=a.times[y]){const _=y*h+d,w=_+h-d;b=a.values.slice(_,w)}else{const _=a.createInterpolant(),w=d,C=h-d;_.evaluate(s),b=_.resultBuffer.slice(w,C)}l==="quaternion"&&new vr().fromArray(b).normalize().conjugate().toArray(b);const S=c.times.length;for(let _=0;_<S;++_){const w=_*v+p;if(l==="quaternion")vr.multiplyQuaternionsFlat(c.values,w,b,0,c.values,w);else{const C=v-p*2;for(let A=0;A<C;++A)c.values[w+A]-=b[A]}}}return t.blendMode=xk,t}const TSe={convertArray:Ch,isTypedArray:W9,getKeyframeOrder:G9,sortedArray:mP,flattenJSON:Vk,subclip:ESe,makeClipAdditive:CSe};class __{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $9 extends __{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sh,endingEnd:Sh}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case wh:s=e,a=2*n-i;break;case mx:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case wh:o=e,l=2*i-n;break;case mx:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,v=this._weightNext,y=(i-n)/(r-n),b=y*y,S=b*y,_=-p*S+2*p*b-p*y,w=(1+p)*S+(-1.5-2*p)*b+(-.5+p)*y+1,C=(-1-v)*S+(1.5+v)*b+.5*y,A=v*S-v*b;for(let R=0;R!==a;++R)s[R]=_*o[d+R]+w*o[c+R]+C*o[l+R]+A*o[h+R];return s}}class jk extends __{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-n)/(r-n),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class q9 extends __{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class al{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ch(n,this.TimeBufferType),this.values=Ch(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Ch(e.times,Array),values:Ch(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new q9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case px:n=this.InterpolantFactoryMethodDiscrete;break;case Gw:n=this.InterpolantFactoryMethodLinear;break;case vS:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return px;case this.InterpolantFactoryMethodLinear:return Gw;case this.InterpolantFactoryMethodSmooth:return vS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&W9(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===vS,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,v=h+i;for(let y=0;y!==i;++y){const b=n[h+y];if(b!==n[p+y]||b!==n[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let v=0;v!==i;++v)n[p+v]=n[h+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}al.prototype.TimeBufferType=Float32Array;al.prototype.ValueBufferType=Float32Array;al.prototype.DefaultInterpolation=Gw;class fp extends al{constructor(e,n,i){super(e,n,i)}}fp.prototype.ValueTypeName="bool";fp.prototype.ValueBufferType=Array;fp.prototype.DefaultInterpolation=px;fp.prototype.InterpolantFactoryMethodLinear=void 0;fp.prototype.InterpolantFactoryMethodSmooth=void 0;class Hk extends al{}Hk.prototype.ValueTypeName="color";class Tx extends al{}Tx.prototype.ValueTypeName="number";class X9 extends __{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let d=c+a;c!==d;c+=4)vr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class b_ extends al{InterpolantFactoryMethodLinear(e){return new X9(this.times,this.values,this.getValueSize(),e)}}b_.prototype.ValueTypeName="quaternion";b_.prototype.InterpolantFactoryMethodSmooth=void 0;class hp extends al{constructor(e,n,i){super(e,n,i)}}hp.prototype.ValueTypeName="string";hp.prototype.ValueBufferType=Array;hp.prototype.DefaultInterpolation=px;hp.prototype.InterpolantFactoryMethodLinear=void 0;hp.prototype.InterpolantFactoryMethodSmooth=void 0;class Mx extends al{}Mx.prototype.ValueTypeName="vector";class Ax{constructor(e="",n=-1,i=[],r=sC){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=No(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(ASe(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(al.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=G9(l);l=mP(l,1,d),c=mP(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Tx(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,v,y,b){if(v.length!==0){const S=[],_=[];Vk(v,S,_,y),S.length!==0&&b.push(new h(p,S,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let b=0;b<p[y].morphTargets.length;b++)v[p[y].morphTargets[b]]=-1;for(const b in v){const S=[],_=[];for(let w=0;w!==p[y].morphTargets.length;++w){const C=p[y];S.push(C.time),_.push(C.morphTarget===b?1:0)}r.push(new Tx(".morphTargetInfluence["+b+"]",S,_))}l=v.length*o}else{const v=".bones["+n[h].name+"]";i(Mx,v+".position",p,"pos",r),i(b_,v+".quaternion",p,"rot",r),i(Mx,v+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function MSe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tx;case"vector":case"vector2":case"vector3":case"vector4":return Mx;case"color":return Hk;case"quaternion":return b_;case"bool":case"boolean":return fp;case"string":return hp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ASe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=MSe(t.type);if(t.times===void 0){const n=[],i=[];Vk(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Qc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Wk{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const v=c[h],y=c[h+1];if(v.global&&(v.lastIndex=0),v.test(d))return y}return null}}}const Y9=new Wk;class lo{constructor(e){this.manager=e!==void 0?e:Y9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}lo.DEFAULT_MATERIAL_NAME="__DEFAULT";const jc={};class PSe extends Error{constructor(e,n){super(e),this.response=n}}class vu extends lo{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Qc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(jc[e]!==void 0){jc[e].push({onLoad:n,onProgress:i,onError:r});return}jc[e]=[],jc[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=jc[e],h=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=p?parseInt(p):0,y=v!==0;let b=0;const S=new ReadableStream({start(_){w();function w(){h.read().then(({done:C,value:A})=>{if(C)_.close();else{b+=A.byteLength;const R=new ProgressEvent("progress",{lengthComputable:y,loaded:b,total:v});for(let O=0,L=d.length;O<L;O++){const z=d[O];z.onProgress&&z.onProgress(R)}_.enqueue(A),w()}},C=>{_.error(C)})}}});return new Response(S)}else throw new PSe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(p);return c.arrayBuffer().then(y=>v.decode(y))}}}).then(c=>{Qc.add(e,c);const d=jc[e];delete jc[e];for(let h=0,p=d.length;h<p;h++){const v=d[h];v.onLoad&&v.onLoad(c)}}).catch(c=>{const d=jc[e];if(d===void 0)throw this.manager.itemError(e),c;delete jc[e];for(let h=0,p=d.length;h<p;h++){const v=d[h];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class RSe extends lo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new vu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Ax.parse(e[i]);n.push(r)}return n}}class ISe extends lo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new hC,l=new vu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const v=s.parse(p,!0);o[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=tr),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let b=0;b<p.mipmapCount;b++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+b]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=tr),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class Px extends lo{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Qc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=bx("img");function l(){d(),Qc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class kSe extends lo{constructor(e){super(e)}load(e,n,i,r){const s=new p_;s.colorSpace=na;const o=new Px(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class NSe extends lo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new jl,a=new vu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:aa,o.wrapT=c.wrapT!==void 0?c.wrapT:aa,o.magFilter=c.magFilter!==void 0?c.magFilter:tr,o.minFilter=c.minFilter!==void 0?c.minFilter:tr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=kl),c.mipmapCount===1&&(o.minFilter=tr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,r),o}}class AC extends lo{constructor(e){super(e)}load(e,n,i,r){const s=new xi,o=new Px(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class ef extends Cn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ht(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class K9 extends ef{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ht(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const JM=new Ot,J4=new ne,Q4=new ne;class Gk{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new De(512,512),this.map=null,this.mapPass=null,this.matrix=new Ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new m_,this._frameExtents=new De(1,1),this._viewportCount=1,this._viewports=[new Sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;J4.setFromMatrixPosition(e.matrixWorld),n.position.copy(J4),Q4.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Q4),n.updateMatrixWorld(),JM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(JM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class OSe extends Gk{constructor(){super(new Rr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Bg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class J9 extends ef{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.target=new Cn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new OSe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Z4=new Ot,V0=new ne,QM=new ne;class LSe extends Gk{constructor(){super(new Rr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new De(4,2),this._viewportCount=6,this._viewports=[new Sn(2,1,1,1),new Sn(0,1,1,1),new Sn(3,1,1,1),new Sn(1,1,1,1),new Sn(3,0,1,1),new Sn(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),V0.setFromMatrixPosition(e.matrixWorld),i.position.copy(V0),QM.copy(i.position),QM.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(QM),i.updateMatrixWorld(),r.makeTranslation(-V0.x,-V0.y,-V0.z),Z4.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Z4)}}class Q9 extends ef{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new LSe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DSe extends Gk{constructor(){super(new g_(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Z9 extends ef{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.target=new Cn,this.shadow=new DSe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class eG extends ef{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class tG extends ef{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class nG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class iG extends ef{constructor(e=new nG,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class PC extends lo{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new vu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=PC.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ht().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ht().setHex(o.value);break;case"v2":r.uniforms[s].value=new De().fromArray(o.value);break;case"v3":r.uniforms[s].value=new ne().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Sn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Zt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Ot().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new De().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new De().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:L9,SpriteMaterial:Ik,RawShaderMaterial:D9,ShaderMaterial:ca,PointsMaterial:Nk,MeshPhysicalMaterial:F9,MeshStandardMaterial:Bk,MeshPhongMaterial:z9,MeshToonMaterial:U9,MeshNormalMaterial:B9,MeshLambertMaterial:V9,MeshDepthMaterial:Ak,MeshDistanceMaterial:Pk,MeshBasicMaterial:Qd,MeshMatcapMaterial:j9,LineDashedMaterial:H9,LineBasicMaterial:Vs,Material:_s};return new n[e]}}class gP{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class rG extends sn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class sG extends lo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new vu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(v,y){if(n[y]!==void 0)return n[y];const S=v.interleavedBuffers[y],_=s(v,S.buffer),w=og(S.type,_),C=new dC(w,S.stride);return C.uuid=S.uuid,n[y]=C,C}function s(v,y){if(i[y]!==void 0)return i[y];const S=v.arrayBuffers[y],_=new Uint32Array(S).buffer;return i[y]=_,_}const o=e.isInstancedBufferGeometry?new rG:new sn,a=e.data.index;if(a!==void 0){const v=og(a.type,a.array);o.setIndex(new Xn(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let b;if(y.isInterleavedBufferAttribute){const S=r(e.data,y.data);b=new Kh(S,y.itemSize,y.offset,y.normalized)}else{const S=og(y.type,y.array),_=y.isInstancedBufferAttribute?jg:Xn;b=new _(S,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),y.usage!==void 0&&b.setUsage(y.usage),o.setAttribute(v,b)}const c=e.data.morphAttributes;if(c)for(const v in c){const y=c[v],b=[];for(let S=0,_=y.length;S<_;S++){const w=y[S];let C;if(w.isInterleavedBufferAttribute){const A=r(e.data,w.data);C=new Kh(A,w.itemSize,w.offset,w.normalized)}else{const A=og(w.type,w.array);C=new Xn(A,w.itemSize,w.normalized)}w.name!==void 0&&(C.name=w.name),b.push(C)}o.morphAttributes[v]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,y=h.length;v!==y;++v){const b=h[v];o.addGroup(b.start,b.count,b.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new ne;p.center!==void 0&&v.fromArray(p.center),o.boundingSphere=new vs(v,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class FSe extends lo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?gP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new vu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?gP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new vu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Nh().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new fC().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new sG;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in K4?a=K4[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new PC;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Ax.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:og(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Wk(n);s=new Px(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const v=[];for(let y=0,b=p.length;y<b;y++){const S=p[y],_=a(S);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new jl(_.data,_.width,_.height)))}r[h.uuid]=new Eh(v)}else{const v=a(h.url);r[h.uuid]=new Eh(v)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:og(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Px(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const v=c[h],y=await s(v);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new jl(y.data,y.width,y.height)))}i[l.uuid]=new Eh(d)}else{const d=await s(l.url);i[l.uuid]=new Eh(d)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let d;Array.isArray(c)?(d=new p_,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new jl:d=new xi,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,zSe)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],eF),d.wrapT=i(a.wrap[1],eF)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,tF)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,tF)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,n,i,r,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let y=0,b=p.length;y<b;y++){const S=p[y];i[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),v.push(i[S])}return v}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new Rk,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ht(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new uC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new cC(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Rr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new g_(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new eG(e.color,e.intensity);break;case"DirectionalLight":o=new Z9(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Q9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new tG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new J9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new K9(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new iG().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new _9(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new nr(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new b9(d,h,p),o.instanceMatrix=new jg(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new jg(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":d=a(e.geometry),h=l(e.material),o=new S9(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(b=>{const S=new Us;S.min.fromArray(b.boxMin),S.max.fromArray(b.boxMax);const _=new vs;return _.radius=b.sphereRadius,_.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:S,sphereInitialized:b.sphereInitialized,sphere:_}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new x9;break;case"Line":o=new Wd(a(e.geometry),l(e.material));break;case"LineLoop":o=new w9(a(e.geometry),l(e.material));break;case"LineSegments":o=new ic(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new E9(a(e.geometry),l(e.material));break;case"Sprite":o=new y9(l(e.material));break;case"Group":o=new lg;break;case"Bone":o=new kk;break;default:o=new Cn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)o.add(this.parseObject(p[v],n,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const y=p[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const y=p[v],b=o.getObjectByProperty("uuid",y.object);b!==void 0&&o.addLevel(b,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Cn}})}}const zSe={UVMapping:QE,CubeReflectionMapping:mu,CubeRefractionMapping:Hd,EquirectangularReflectionMapping:ux,EquirectangularRefractionMapping:dx,CubeUVReflectionMapping:uv},eF={RepeatWrapping:fx,ClampToEdgeWrapping:aa,MirroredRepeatWrapping:hx},tF={NearestFilter:kr,NearestMipmapNearestFilter:ck,NearestMipmapLinearFilter:sg,LinearFilter:tr,LinearMipmapNearestFilter:Cy,LinearMipmapLinearFilter:kl};class USe extends lo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Qc.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Qc.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Qc.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Qc.add(e,l),s.manager.itemStart(e)}}let Mb;class $k{static getContext(){return Mb===void 0&&(Mb=new(window.AudioContext||window.webkitAudioContext)),Mb}static setContext(e){Mb=e}}class BSe extends lo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new vu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);$k.getContext().decodeAudioData(c,function(h){n(h)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const nF=new Ot,iF=new Ot,rh=new Ot;class VSe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Rr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Rr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,rh.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Ih*n.fov*.5)/n.zoom;let a,l;iF.elements[12]=-r,nF.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,rh.elements[0]=2*n.near/(l-a),rh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(rh),a=-o*n.aspect-s,l=o*n.aspect-s,rh.elements[0]=2*n.near/(l-a),rh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(rh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iF),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(nF)}}class qk{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rF(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=rF();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function rF(){return(typeof performance>"u"?Date:performance).now()}const sh=new ne,sF=new vr,jSe=new ne,oh=new ne;class HSe extends Cn{constructor(){super(),this.type="AudioListener",this.context=$k.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qk}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sh,sF,jSe),oh.set(0,0,-1).applyQuaternion(sF),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(sh.x,r),n.positionY.linearRampToValueAtTime(sh.y,r),n.positionZ.linearRampToValueAtTime(sh.z,r),n.forwardX.linearRampToValueAtTime(oh.x,r),n.forwardY.linearRampToValueAtTime(oh.y,r),n.forwardZ.linearRampToValueAtTime(oh.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(sh.x,sh.y,sh.z),n.setOrientation(oh.x,oh.y,oh.z,i.x,i.y,i.z)}}let oG=class extends Cn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const ah=new ne,oF=new vr,WSe=new ne,lh=new ne;class GSe extends oG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ah,oF,WSe),lh.set(0,0,1).applyQuaternion(oF);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(ah.x,i),n.positionY.linearRampToValueAtTime(ah.y,i),n.positionZ.linearRampToValueAtTime(ah.z,i),n.orientationX.linearRampToValueAtTime(lh.x,i),n.orientationY.linearRampToValueAtTime(lh.y,i),n.orientationZ.linearRampToValueAtTime(lh.z,i)}else n.setPosition(ah.x,ah.y,ah.z),n.setOrientation(lh.x,lh.y,lh.z)}}class $Se{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class aG{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){vr.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;vr.multiplyQuaternionsFlat(e,o,e,n,e,i),vr.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const Xk="\\[\\]\\.:\\/",qSe=new RegExp("["+Xk+"]","g"),Yk="[^"+Xk+"]",XSe="[^"+Xk.replace("\\.","")+"]",YSe=/((?:WC+[\/:])*)/.source.replace("WC",Yk),KSe=/(WCOD+)?/.source.replace("WCOD",XSe),JSe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Yk),QSe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Yk),ZSe=new RegExp("^"+YSe+KSe+JSe+QSe+"$"),ewe=["material","materials","bones","map"];class twe{constructor(e,n,i){const r=i||En.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class En{constructor(e,n,i){this.path=n,this.parsedPath=i||En.parseTrackName(n),this.node=En.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new En.Composite(e,n,i):new En(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qSe,"")}static parseTrackName(e){const n=ZSe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);ewe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=En.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}En.Composite=twe;En.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};En.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};En.prototype.GetterByBindingType=[En.prototype._getValue_direct,En.prototype._getValue_array,En.prototype._getValue_arrayElement,En.prototype._getValue_toArray];En.prototype.SetterByBindingTypeAndVersioning=[[En.prototype._setValue_direct,En.prototype._setValue_direct_setNeedsUpdate,En.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[En.prototype._setValue_array,En.prototype._setValue_array_setNeedsUpdate,En.prototype._setValue_array_setMatrixWorldNeedsUpdate],[En.prototype._setValue_arrayElement,En.prototype._setValue_arrayElement_setNeedsUpdate,En.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[En.prototype._setValue_fromArray,En.prototype._setValue_fromArray_setNeedsUpdate,En.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nwe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=No(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],v=p.uuid;let y=n[v];if(y===void 0){y=l++,n[v]=y,e.push(p);for(let b=0,S=o;b!==S;++b)s[b].push(new En(p,i[b],r[b]))}else if(y<c){a=e[y];const b=--c,S=e[b];n[S.uuid]=y,e[y]=S,n[v]=b,e[b]=p;for(let _=0,w=o;_!==w;++_){const C=s[_],A=C[b];let R=C[y];C[y]=A,R===void 0&&(R=new En(p,i[_],r[_])),C[b]=R}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];n[p.uuid]=d,e[d]=p,n[c]=h,e[h]=l;for(let v=0,y=r;v!==y;++v){const b=i[v],S=b[h],_=b[d];b[d]=S,b[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=n[d];if(h!==void 0)if(delete n[d],h<s){const p=--s,v=e[p],y=--o,b=e[y];n[v.uuid]=h,e[h]=v,n[b.uuid]=p,e[p]=b,e.pop();for(let S=0,_=r;S!==_;++S){const w=i[S],C=w[p],A=w[y];w[h]=C,w[p]=A,w.pop()}}else{const p=--o,v=e[p];p>0&&(n[v.uuid]=h),e[h]=v,e.pop();for(let y=0,b=r;y!==b;++y){const S=i[y];S[h]=S[p],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(h);for(let p=d,v=l.length;p!==v;++p){const y=l[p];h[p]=new En(y,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class lG{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Sh,endingEnd:Sh};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=j7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case xk:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case sC:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===H7;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===V7){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=wh,r.endingEnd=wh):(e?r.endingStart=this.zeroSlopeAtStart?wh:Sh:r.endingStart=mx,n?r.endingEnd=this.zeroSlopeAtEnd?wh:Sh:r.endingEnd=mx)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const iwe=new Float32Array(1);class rwe extends nc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=r[h],v=p.name;let y=d[v];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const b=n&&n._propertyBindings[h].binding.parsedPath;y=new aG(En.create(i,v,b),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new jk(new Float32Array(2),new Float32Array(2),1,iwe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?Ax.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=sC),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new lG(this,o,n,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?Ax.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Kk{constructor(e){this.value=e}clone(){return new Kk(this.value.clone===void 0?this.value:this.value.clone())}}let swe=0;class owe extends nc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:swe++}),this.name="",this.usage=xx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class awe extends dC{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class lwe{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const aF=new Ot;class cG{constructor(e,n,i=0,r=1/0){this.ray=new fv(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new kh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return aF.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(aF),this}intersectObject(e,n=!0,i=[]){return vP(e,this,i,n),i.sort(lF),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)vP(e[r],this,i,n);return i.sort(lF),i}}function lF(t,e){return t.distance-e.distance}function vP(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)vP(s[o],e,n,!0)}}class uG{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Fi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cwe{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class Jk{constructor(e,n,i,r){Jk.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const s=this.elements;return s[0]=e,s[2]=n,s[1]=i,s[3]=r,this}}const cF=new De;class uwe{constructor(e=new De(1/0,1/0),n=new De(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=cF.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cF).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uF=new ne,Ab=new ne;class dwe{constructor(e=new ne,n=new ne){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){uF.subVectors(e,this.start),Ab.subVectors(this.end,this.start);const i=Ab.dot(Ab);let s=Ab.dot(uF)/i;return n&&(s=Fi(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dF=new ne;class fwe extends Cn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new sn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Et(r,3));const s=new Vs({fog:!1,toneMapped:!1});this.cone=new ic(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),dF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dF),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const md=new ne,Pb=new Ot,ZM=new Ot;class hwe extends ic{constructor(e){const n=dG(e),i=new sn,r=[],s=[],o=new ht(0,0,1),a=new ht(0,1,0);for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Et(r,3)),i.setAttribute("color",new Et(s,3));const l=new Vs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");ZM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Pb.multiplyMatrices(ZM,a.matrixWorld),md.setFromMatrixPosition(Pb),r.setXYZ(o,md.x,md.y,md.z),Pb.multiplyMatrices(ZM,a.parent.matrixWorld),md.setFromMatrixPosition(Pb),r.setXYZ(o+1,md.x,md.y,md.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function dG(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,dG(t.children[n]));return e}class pwe extends nr{constructor(e,n,i){const r=new x_(n,4,2),s=new Qd({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mwe=new ne,fF=new ht,hF=new ht;class gwe extends Cn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new y_(n);r.rotateY(Math.PI*.5),this.material=new Qd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Xn(o,3)),this.add(new nr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");fF.copy(this.light.color),hF.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?fF:hF;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mwe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vwe extends ic{constructor(e=10,n=10,i=4473924,r=8947848){i=new ht(i),r=new ht(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,v=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const b=p===s?i:r;b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3}const d=new sn;d.setAttribute("position",new Et(l,3)),d.setAttribute("color",new Et(c,3));const h=new Vs({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ywe extends ic{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new ht(s),o=new ht(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),v=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(v,0,y);const b=h&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let h=0;h<i;h++){const p=h&1?s:o,v=e-e/i*h;for(let y=0;y<r;y++){let b=y/r*(Math.PI*2),S=Math.sin(b)*v,_=Math.cos(b)*v;a.push(S,0,_),l.push(p.r,p.g,p.b),b=(y+1)/r*(Math.PI*2),S=Math.sin(b)*v,_=Math.cos(b)*v,a.push(S,0,_),l.push(p.r,p.g,p.b)}}const c=new sn;c.setAttribute("position",new Et(a,3)),c.setAttribute("color",new Et(l,3));const d=new Vs({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const pF=new ne,Rb=new ne,mF=new ne;class xwe extends Cn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new sn;r.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Vs({fog:!1,toneMapped:!1});this.lightPlane=new Wd(r,s),this.add(this.lightPlane),r=new sn,r.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new Wd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),pF.setFromMatrixPosition(this.light.matrixWorld),Rb.setFromMatrixPosition(this.light.target.matrixWorld),mF.subVectors(Rb,pF),this.lightPlane.lookAt(Rb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Rb),this.targetLine.scale.z=mF.length()}}const Ib=new ne,Li=new h_;class _we extends ic{constructor(e){const n=new sn,i=new Vs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,b){l(y),l(b)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}n.setAttribute("position",new Et(r,3)),n.setAttribute("color",new Et(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ht(16755200),d=new ht(16711680),h=new ht(43775),p=new ht(16777215),v=new ht(3355443);this.setColors(c,d,h,p,v)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Li.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ji("c",n,e,Li,0,0,-1),ji("t",n,e,Li,0,0,1),ji("n1",n,e,Li,-1,-1,-1),ji("n2",n,e,Li,i,-1,-1),ji("n3",n,e,Li,-1,r,-1),ji("n4",n,e,Li,i,r,-1),ji("f1",n,e,Li,-1,-1,1),ji("f2",n,e,Li,i,-1,1),ji("f3",n,e,Li,-1,r,1),ji("f4",n,e,Li,i,r,1),ji("u1",n,e,Li,i*.7,r*1.1,-1),ji("u2",n,e,Li,-1*.7,r*1.1,-1),ji("u3",n,e,Li,0,r*2,-1),ji("cf1",n,e,Li,-1,0,1),ji("cf2",n,e,Li,i,0,1),ji("cf3",n,e,Li,0,-1,1),ji("cf4",n,e,Li,0,r,1),ji("cn1",n,e,Li,-1,0,-1),ji("cn2",n,e,Li,i,0,-1),ji("cn3",n,e,Li,0,-1,-1),ji("cn4",n,e,Li,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ji(t,e,n,i,r,s,o){Ib.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],Ib.x,Ib.y,Ib.z)}}const kb=new Us;class bwe extends ic{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new sn;s.setIndex(new Xn(i,1)),s.setAttribute("position",new Xn(r,3)),super(s,new Vs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&kb.setFromObject(this.object),kb.isEmpty())return;const n=kb.min,i=kb.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Swe extends ic{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new sn;s.setIndex(new Xn(i,1)),s.setAttribute("position",new Et(r,3)),super(s,new Vs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wwe extends Wd{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new sn;o.setAttribute("position",new Et(s,3)),o.computeBoundingSphere(),super(o,new Vs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new sn;l.setAttribute("position",new Et(a,3)),l.computeBoundingSphere(),this.add(new nr(l,new Qd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gF=new ne;let Nb,eA;class Ewe extends Cn{constructor(e=new ne(0,0,1),n=new ne(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Nb===void 0&&(Nb=new sn,Nb.setAttribute("position",new Et([0,0,0,0,1,0],3)),eA=new mv(0,.5,1,5,1),eA.translate(0,-.5,0)),this.position.copy(n),this.line=new Wd(Nb,new Vs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new nr(eA,new Qd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gF.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(gF,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cwe extends ic{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new sn;r.setAttribute("position",new Et(n,3)),r.setAttribute("color",new Et(i,3));const s=new Vs({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new ht,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Twe{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Sx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const w=[];for(let C=0,A=_.length;C<A;C++){const R=_[C],O=new Nh;O.curves=R.curves,w.push(O)}return w}function i(_,w){const C=w.length;let A=!1;for(let R=C-1,O=0;O<C;R=O++){let L=w[R],z=w[O],N=z.x-L.x,k=z.y-L.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(L=w[O],N=-N,z=w[R],k=-k),_.y<L.y||_.y>z.y)continue;if(_.y===L.y){if(_.x===L.x)return!0}else{const B=k*(_.x-L.x)-N*(_.y-L.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(_.y!==L.y)continue;if(z.x<=_.x&&_.x<=L.x||L.x<=_.x&&_.x<=z.x)return!0}}return A}const r=Hl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Nh,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let v=[],y=0,b;p[y]=void 0,v[y]=[];for(let _=0,w=s.length;_<w;_++)a=s[_],b=a.getPoints(),o=r(b),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new Nh,p:b},p[y].s.curves=a.curves,d&&y++,v[y]=[]):v[y].push({h:a,p:b[0]});if(!p[0])return n(s);if(p.length>1){let _=!1,w=0;for(let C=0,A=p.length;C<A;C++)h[C]=[];for(let C=0,A=p.length;C<A;C++){const R=v[C];for(let O=0;O<R.length;O++){const L=R[O];let z=!0;for(let N=0;N<p.length;N++)i(L.p,p[N].p)&&(C!==N&&w++,z?(z=!1,h[N].push(L)):_=!0);z&&h[C].push(L)}}w>0&&_===!1&&(v=h)}let S;for(let _=0,w=p.length;_<w;_++){l=p[_].s,c.push(l),S=v[_];for(let C=0,A=S.length;C<A;C++)l.holes.push(S[C].h)}return c}}class Mwe extends nc{constructor(e,n){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Awe extends il{constructor(e=1,n=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:c_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=c_);const Pwe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lk,AddEquation:Td,AddOperation:N7,AdditiveAnimationBlendMode:xk,AdditiveBlending:iP,AgXToneMapping:z7,AlphaFormat:hk,AlwaysCompare:Z7,AlwaysDepth:T7,AlwaysStencilFunc:aP,AmbientLight:eG,AnimationAction:lG,AnimationClip:Ax,AnimationLoader:RSe,AnimationMixer:rwe,AnimationObjectGroup:nwe,AnimationUtils:TSe,ArcCurve:C9,ArrayCamera:m9,ArrowHelper:Ewe,AttachedBindMode:oP,Audio:oG,AudioAnalyser:$Se,AudioContext:$k,AudioListener:HSe,AudioLoader:BSe,AxesHelper:Cwe,BackSide:zs,BasicDepthPacking:W7,BasicShadowMap:o7,BatchedMesh:S9,Bone:kk,BooleanKeyframeTrack:fp,Box2:uwe,Box3:Us,Box3Helper:Swe,BoxGeometry:dp,BoxHelper:bwe,BufferAttribute:Xn,BufferGeometry:sn,BufferGeometryLoader:sG,ByteType:uk,Cache:Qc,Camera:h_,CameraHelper:_we,CanvasTexture:Kbe,CapsuleGeometry:mC,CatmullRomCurve3:T9,CineonToneMapping:D7,CircleGeometry:gC,ClampToEdgeWrapping:aa,Clock:qk,Color:ht,ColorKeyframeTrack:Hk,ColorManagement:Pn,CompressedArrayTexture:Xbe,CompressedCubeTexture:Ybe,CompressedTexture:hC,CompressedTextureLoader:ISe,ConeGeometry:vC,ConstantAlphaFactor:w7,ConstantColorFactor:b7,Controls:Mwe,CubeCamera:a9,CubeReflectionMapping:mu,CubeRefractionMapping:Hd,CubeTexture:p_,CubeTextureLoader:kSe,CubeUVReflectionMapping:uv,CubicBezierCurve:Lk,CubicBezierCurve3:M9,CubicInterpolant:$9,CullFaceBack:nP,CullFaceFront:s7,CullFaceFrontBack:Tve,CullFaceNone:r7,Curve:ol,CurvePath:P9,CustomBlending:a7,CustomToneMapping:F7,CylinderGeometry:mv,Cylindrical:cwe,Data3DTexture:Sk,DataArrayTexture:aC,DataTexture:jl,DataTextureLoader:NSe,DataUtils:z0e,DecrementStencilOp:Bve,DecrementWrapStencilOp:jve,DefaultLoadingManager:Y9,DepthFormat:Rh,DepthStencilFormat:Yh,DepthTexture:Mk,DetachedBindMode:B7,DirectionalLight:Z9,DirectionalLightHelper:xwe,DiscreteInterpolant:q9,DisplayP3ColorSpace:oC,DodecahedronGeometry:yC,DoubleSide:$a,DstAlphaFactor:g7,DstColorFactor:y7,DynamicCopyUsage:i0e,DynamicDrawUsage:Jve,DynamicReadUsage:e0e,EdgesGeometry:R9,EllipseCurve:pC,EqualCompare:Y7,EqualDepth:A7,EqualStencilFunc:$ve,EquirectangularReflectionMapping:ux,EquirectangularRefractionMapping:dx,Euler:ao,EventDispatcher:nc,ExtrudeGeometry:_C,FileLoader:vu,Float16BufferAttribute:W0e,Float32BufferAttribute:Et,FloatType:io,Fog:uC,FogExp2:cC,FramebufferTexture:qbe,FrontSide:pu,Frustum:m_,GLBufferAttribute:lwe,GLSL1:s0e,GLSL3:lP,GreaterCompare:K7,GreaterDepth:R7,GreaterEqualCompare:Q7,GreaterEqualDepth:P7,GreaterEqualStencilFunc:Kve,GreaterStencilFunc:Xve,GridHelper:vwe,Group:lg,HalfFloatType:dv,HemisphereLight:K9,HemisphereLightHelper:gwe,IcosahedronGeometry:bC,ImageBitmapLoader:USe,ImageLoader:Px,ImageUtils:i9,IncrementStencilOp:Uve,IncrementWrapStencilOp:Vve,InstancedBufferAttribute:jg,InstancedBufferGeometry:rG,InstancedInterleavedBuffer:awe,InstancedMesh:b9,Int16BufferAttribute:j0e,Int32BufferAttribute:H0e,Int8BufferAttribute:U0e,IntType:ZE,InterleavedBuffer:dC,InterleavedBufferAttribute:Kh,Interpolant:__,InterpolateDiscrete:px,InterpolateLinear:Gw,InterpolateSmooth:vS,InvertStencilOp:Hve,KeepStencilOp:ph,KeyframeTrack:al,LOD:x9,LatheGeometry:v_,Layers:kh,LessCompare:X7,LessDepth:M7,LessEqualCompare:_k,LessEqualDepth:cx,LessEqualStencilFunc:qve,LessStencilFunc:Gve,Light:ef,LightProbe:iG,Line:Wd,Line3:dwe,LineBasicMaterial:Vs,LineCurve:Dk,LineCurve3:A9,LineDashedMaterial:H9,LineLoop:w9,LineSegments:ic,LinearDisplayP3ColorSpace:f_,LinearFilter:tr,LinearInterpolant:jk,LinearMipMapLinearFilter:Rve,LinearMipMapNearestFilter:Pve,LinearMipmapLinearFilter:kl,LinearMipmapNearestFilter:Cy,LinearSRGBColorSpace:Cu,LinearToneMapping:O7,LinearTransfer:gx,Loader:lo,LoaderUtils:gP,LoadingManager:Wk,LoopOnce:V7,LoopPingPong:H7,LoopRepeat:j7,LuminanceAlphaFormat:gk,LuminanceFormat:mk,MOUSE:Eve,Material:_s,MaterialLoader:PC,MathUtils:e9,Matrix2:Jk,Matrix3:Zt,Matrix4:Ot,MaxEquation:d7,Mesh:nr,MeshBasicMaterial:Qd,MeshDepthMaterial:Ak,MeshDistanceMaterial:Pk,MeshLambertMaterial:V9,MeshMatcapMaterial:j9,MeshNormalMaterial:B9,MeshPhongMaterial:z9,MeshPhysicalMaterial:F9,MeshStandardMaterial:Bk,MeshToonMaterial:U9,MinEquation:u7,MirroredRepeatWrapping:hx,MixOperation:k7,MultiplyBlending:sP,MultiplyOperation:u_,NearestFilter:kr,NearestMipMapLinearFilter:Ave,NearestMipMapNearestFilter:Mve,NearestMipmapLinearFilter:sg,NearestMipmapNearestFilter:ck,NeutralToneMapping:U7,NeverCompare:q7,NeverDepth:C7,NeverStencilFunc:Wve,NoBlending:nu,NoColorSpace:Gc,NoToneMapping:Vl,NormalAnimationBlendMode:sC,NormalBlending:Ph,NotEqualCompare:J7,NotEqualDepth:I7,NotEqualStencilFunc:Yve,NumberKeyframeTrack:Tx,Object3D:Cn,ObjectLoader:FSe,ObjectSpaceNormalMap:$7,OctahedronGeometry:y_,OneFactor:h7,OneMinusConstantAlphaFactor:E7,OneMinusConstantColorFactor:S7,OneMinusDstAlphaFactor:v7,OneMinusDstColorFactor:x7,OneMinusSrcAlphaFactor:yw,OneMinusSrcColorFactor:m7,OrthographicCamera:g_,P3Primaries:yx,PCFShadowMap:JE,PCFSoftShadowMap:Ey,PMREMGenerator:cP,Path:Sx,PerspectiveCamera:Rr,Plane:_d,PlaneGeometry:hv,PlaneHelper:wwe,PointLight:Q9,PointLightHelper:pwe,Points:E9,PointsMaterial:Nk,PolarGridHelper:ywe,PolyhedronGeometry:Zd,PositionalAudio:GSe,PropertyBinding:En,PropertyMixer:aG,QuadraticBezierCurve:Fk,QuadraticBezierCurve3:zk,Quaternion:vr,QuaternionKeyframeTrack:b_,QuaternionLinearInterpolant:X9,RED_GREEN_RGTC2_Format:Hw,RED_RGTC1_Format:yk,REVISION:c_,RGBADepthPacking:G7,RGBAFormat:ms,RGBAIntegerFormat:rC,RGBA_ASTC_10x10_Format:Fw,RGBA_ASTC_10x5_Format:Ow,RGBA_ASTC_10x6_Format:Lw,RGBA_ASTC_10x8_Format:Dw,RGBA_ASTC_12x10_Format:zw,RGBA_ASTC_12x12_Format:Uw,RGBA_ASTC_4x4_Format:Tw,RGBA_ASTC_5x4_Format:Mw,RGBA_ASTC_5x5_Format:Aw,RGBA_ASTC_6x5_Format:Pw,RGBA_ASTC_6x6_Format:Rw,RGBA_ASTC_8x5_Format:Iw,RGBA_ASTC_8x6_Format:kw,RGBA_ASTC_8x8_Format:Nw,RGBA_BPTC_Format:Ry,RGBA_ETC2_EAC_Format:Cw,RGBA_PVRTC_2BPPV1_Format:Sw,RGBA_PVRTC_4BPPV1_Format:bw,RGBA_S3TC_DXT1_Format:My,RGBA_S3TC_DXT3_Format:Ay,RGBA_S3TC_DXT5_Format:Py,RGBDepthPacking:Lve,RGBFormat:pk,RGBIntegerFormat:Ive,RGB_BPTC_SIGNED_Format:Bw,RGB_BPTC_UNSIGNED_Format:Vw,RGB_ETC1_Format:ww,RGB_ETC2_Format:Ew,RGB_PVRTC_2BPPV1_Format:_w,RGB_PVRTC_4BPPV1_Format:xw,RGB_S3TC_DXT1_Format:Ty,RGDepthPacking:Dve,RGFormat:vk,RGIntegerFormat:iC,RawShaderMaterial:D9,Ray:fv,Raycaster:cG,Rec709Primaries:vx,RectAreaLight:tG,RedFormat:nC,RedIntegerFormat:d_,ReinhardToneMapping:L7,RenderTarget:r9,RepeatWrapping:fx,ReplaceStencilOp:zve,ReverseSubtractEquation:c7,RingGeometry:SC,SIGNED_RED_GREEN_RGTC2_Format:Ww,SIGNED_RED_RGTC1_Format:jw,SRGBColorSpace:na,SRGBTransfer:oi,Scene:Rk,ShaderChunk:rn,ShaderLib:Wa,ShaderMaterial:ca,ShadowMaterial:L9,Shape:Nh,ShapeGeometry:wC,ShapePath:Twe,ShapeUtils:Hl,ShortType:dk,Skeleton:fC,SkeletonHelper:hwe,SkinnedMesh:_9,Source:Eh,Sphere:vs,SphereGeometry:x_,Spherical:uG,SphericalHarmonics3:nG,SplineCurve:Uk,SpotLight:J9,SpotLightHelper:fwe,Sprite:y9,SpriteMaterial:Ik,SrcAlphaFactor:vw,SrcAlphaSaturateFactor:_7,SrcColorFactor:p7,StaticCopyUsage:n0e,StaticDrawUsage:xx,StaticReadUsage:Zve,StereoCamera:VSe,StreamCopyUsage:r0e,StreamDrawUsage:Qve,StreamReadUsage:t0e,StringKeyframeTrack:hp,SubtractEquation:l7,SubtractiveBlending:rP,TOUCH:Cve,TangentSpaceNormalMap:Jd,TetrahedronGeometry:EC,Texture:xi,TextureLoader:AC,TextureUtils:Tbe,TorusGeometry:CC,TorusKnotGeometry:TC,Triangle:Ro,TriangleFanDrawMode:Ove,TriangleStripDrawMode:Nve,TrianglesDrawMode:kve,TubeGeometry:MC,UVMapping:QE,Uint16BufferAttribute:wk,Uint32BufferAttribute:Ek,Uint8BufferAttribute:B0e,Uint8ClampedBufferAttribute:V0e,Uniform:Kk,UniformsGroup:owe,UniformsLib:at,UniformsUtils:Ck,UnsignedByteType:nl,UnsignedInt248Type:Xh,UnsignedInt5999Type:fk,UnsignedIntType:gu,UnsignedShort4444Type:eC,UnsignedShort5551Type:tC,UnsignedShortType:Ug,VSMShadowMap:ja,Vector2:De,Vector3:ne,Vector4:Sn,VectorKeyframeTrack:Mx,VideoTexture:$be,WebGL3DRenderTarget:A0e,WebGLArrayRenderTarget:M0e,WebGLCoordinateSystem:Nl,WebGLCubeRenderTarget:l9,WebGLMultipleRenderTargets:Awe,WebGLRenderTarget:il,WebGLRenderer:g9,WebGLUtils:p9,WebGPUCoordinateSystem:_x,WireframeGeometry:O9,WrapAroundEnding:mx,ZeroCurvatureEnding:Sh,ZeroFactor:f7,ZeroSlopeEnding:wh,ZeroStencilOp:Fve,createCanvasElement:n9},Symbol.toStringTag,{value:"Module"}));var tA={exports:{}},gd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vF;function Rwe(){return vF||(vF=1,gd.ConcurrentRoot=1,gd.ContinuousEventPriority=4,gd.DefaultEventPriority=16,gd.DiscreteEventPriority=1,gd.IdleEventPriority=536870912,gd.LegacyRoot=0),gd}var yF;function Iwe(){return yF||(yF=1,tA.exports=Rwe()),tA.exports}var ug=Iwe();function kwe(t){let e;const n=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),n.forEach(v=>v(e,p))}},r=()=>e,s=(c,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function v(){const y=d(e);if(!h(p,y)){const b=p;c(p=y,b)}}return n.add(v),()=>n.delete(v)},l={setState:i,getState:r,subscribe:(c,d,h)=>d||h?s(c,d,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const Nwe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xF=Nwe?U.useEffect:U.useLayoutEffect;function Owe(t){const e=typeof t=="function"?kwe(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=U.useReducer(S=>S+1,0),o=e.getState(),a=U.useRef(o),l=U.useRef(i),c=U.useRef(r),d=U.useRef(!1),h=U.useRef();h.current===void 0&&(h.current=i(o));let p,v=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),v=!r(h.current,p)),xF(()=>{v&&(h.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const y=U.useRef(o);xF(()=>{const S=()=>{try{const w=e.getState(),C=l.current(w);c.current(h.current,C)||(a.current=w,h.current=C,s())}catch{d.current=!0,s()}},_=e.subscribe(S);return e.getState()!==y.current&&S(),_},[]);const b=v?p:h.current;return U.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}const Lwe=t=>typeof t=="object"&&typeof t.then=="function",Th=[];function fG(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function hG(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of Th)if(fG(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Th.indexOf(r);s!==-1&&Th.splice(s,1)},promise:(Lwe(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Th.push(r),!n)throw r.promise}const Dwe=(t,e,n)=>hG(t,e,!1,n),Fwe=(t,e,n)=>void hG(t,e,!0,n),zwe=t=>{if(t===void 0||t.length===0)Th.splice(0,Th.length);else{const e=Th.find(n=>fG(t,n.keys,n.equal));e&&e.remove()}};var nA={exports:{}},iA={exports:{}},rA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _F;function Uwe(){return _F||(_F=1,function(t){function e(V,X){var te=V.length;V.push(X);e:for(;0<te;){var Y=te-1>>>1,oe=V[Y];if(0<r(oe,X))V[Y]=X,V[te]=oe,te=Y;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var X=V[0],te=V.pop();if(te!==X){V[0]=te;e:for(var Y=0,oe=V.length,ke=oe>>>1;Y<ke;){var he=2*(Y+1)-1,Se=V[he],Fe=he+1,Pe=V[Fe];if(0>r(Se,te))Fe<oe&&0>r(Pe,Se)?(V[Y]=Pe,V[Fe]=te,Y=Fe):(V[Y]=Se,V[he]=te,Y=he);else if(Fe<oe&&0>r(Pe,te))V[Y]=Pe,V[Fe]=te,Y=Fe;else break e}}return X}function r(V,X){var te=V.sortIndex-X.sortIndex;return te!==0?te:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var X=n(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=V)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function A(V){if(b=!1,C(V),!y)if(n(l)!==null)y=!0,K(R);else{var X=n(c);X!==null&&W(A,X.startTime-V)}}function R(V,X){y=!1,b&&(b=!1,_(z),z=-1),v=!0;var te=p;try{for(C(X),h=n(l);h!==null&&(!(h.expirationTime>X)||V&&!B());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var oe=Y(h.expirationTime<=X);X=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&i(l),C(X)}else i(l);h=n(l)}if(h!==null)var ke=!0;else{var he=n(c);he!==null&&W(A,he.startTime-X),ke=!1}return ke}finally{h=null,p=te,v=!1}}var O=!1,L=null,z=-1,N=5,k=-1;function B(){return!(t.unstable_now()-k<N)}function H(){if(L!==null){var V=t.unstable_now();k=V;var X=!0;try{X=L(!0,V)}finally{X?J():(O=!1,L=null)}}else O=!1}var J;if(typeof w=="function")J=function(){w(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=H,J=function(){$.postMessage(null)}}else J=function(){S(H,0)};function K(V){L=V,O||(O=!0,J())}function W(V,X){z=S(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,K(R))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var te=p;p=X;try{return V()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=p;p=V;try{return X()}finally{p=te}},t.unstable_scheduleCallback=function(V,X,te){var Y=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Y+te:Y):te=Y,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=te+oe,V={id:d++,callback:X,priorityLevel:V,startTime:te,expirationTime:oe,sortIndex:-1},te>Y?(V.sortIndex=te,e(c,V),n(l)===null&&V===n(c)&&(b?(_(z),z=-1):b=!0,W(A,te-Y))):(V.sortIndex=oe,e(l,V),y||v||(y=!0,K(R))),V},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(V){var X=p;return function(){var te=p;p=X;try{return V.apply(this,arguments)}finally{p=te}}}}(rA)),rA}var bF;function pG(){return bF||(bF=1,iA.exports=Uwe()),iA.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA,SF;function Bwe(){return SF||(SF=1,sA=function(e){var n={},i=Yg(),r=pG(),s=Object.assign;function o(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,T=1;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),R=Symbol.iterator;function O(m){return m===null||typeof m!="object"?null:(m=R&&m[R]||m["@@iterator"],typeof m=="function"?m:null)}function L(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case y:return(m.displayName||"Context")+".Consumer";case v:return(m._context.displayName||"Context")+".Provider";case b:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case w:return g=m.displayName||null,g!==null?g:L(m.type)||"Memo";case C:g=m._payload,m=m._init;try{return L(m(g))}catch{}}return null}function z(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(g);case 8:return g===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function N(m){var g=m,T=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(T=g.return),m=g.return;while(m)}return g.tag===3?T:null}function k(m){if(N(m)!==m)throw Error(o(188))}function B(m){var g=m.alternate;if(!g){if(g=N(m),g===null)throw Error(o(188));return g!==m?null:m}for(var T=m,P=g;;){var D=T.return;if(D===null)break;var j=D.alternate;if(j===null){if(P=D.return,P!==null){T=P;continue}break}if(D.child===j.child){for(j=D.child;j;){if(j===T)return k(D),m;if(j===P)return k(D),g;j=j.sibling}throw Error(o(188))}if(T.return!==P.return)T=D,P=j;else{for(var re=!1,ce=D.child;ce;){if(ce===T){re=!0,T=D,P=j;break}if(ce===P){re=!0,P=D,T=j;break}ce=ce.sibling}if(!re){for(ce=j.child;ce;){if(ce===T){re=!0,T=j,P=D;break}if(ce===P){re=!0,P=j,T=D;break}ce=ce.sibling}if(!re)throw Error(o(189))}}if(T.alternate!==P)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?m:g}function H(m){return m=B(m),m!==null?J(m):null}function J(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=J(m);if(g!==null)return g;m=m.sibling}return null}function Z(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=Z(m);if(g!==null)return g}m=m.sibling}return null}var $=Array.isArray,K=e.getPublicInstance,W=e.getRootHostContext,V=e.getChildHostContext,X=e.prepareForCommit,te=e.resetAfterCommit,Y=e.createInstance,oe=e.appendInitialChild,ke=e.finalizeInitialChildren,he=e.prepareUpdate,Se=e.shouldSetTextContent,Fe=e.createTextInstance,Pe=e.scheduleTimeout,me=e.cancelTimeout,ve=e.noTimeout,Ve=e.isPrimaryRenderer,lt=e.supportsMutation,ee=e.supportsPersistence,Re=e.supportsHydration,Ue=e.getInstanceFromNode,tt=e.preparePortalMount,Ae=e.getCurrentEventPriority,Tt=e.detachDeletedInstance,nt=e.supportsMicrotasks,ct=e.scheduleMicrotask,ie=e.supportsTestSelectors,q=e.findFiberRoot,_e=e.getBoundingRect,Ne=e.getTextContent,Ie=e.isHiddenSubtree,ze=e.matchAccessibilityRole,Mt=e.setFocusIfFocusable,it=e.setupIntersectionObserver,ut=e.appendChild,Vt=e.appendChildToContainer,We=e.commitTextUpdate,st=e.commitMount,ln=e.commitUpdate,Lt=e.insertBefore,mt=e.insertInContainerBefore,jt=e.removeChild,qt=e.removeChildFromContainer,Ln=e.resetTextContent,ue=e.hideInstance,$e=e.hideTextInstance,Oe=e.unhideInstance,Le=e.unhideTextInstance,Ye=e.clearContainer,It=e.cloneInstance,on=e.createContainerChildSet,ii=e.appendChildToContainerChildSet,Ii=e.finalizeContainerChildren,gn=e.replaceContainerChildren,Kr=e.cloneHiddenInstance,Jr=e.cloneHiddenTextInstance,cl=e.canHydrateInstance,uo=e.canHydrateTextInstance,da=e.canHydrateSuspenseInstance,rf=e.isSuspenseInstancePending,Uo=e.isSuspenseInstanceFallback,fa=e.registerSuspenseInstanceRetry,fo=e.getNextHydratableSibling,ul=e.getFirstHydratableChild,gp=e.getFirstHydratableChildWithinContainer,vp=e.getFirstHydratableChildWithinSuspenseInstance,bv=e.hydrateInstance,ha=e.hydrateTextInstance,yp=e.hydrateSuspenseInstance,Q=e.getNextHydratableInstanceAfterSuspenseInstance,de=e.commitHydratedContainer,be=e.commitHydratedSuspenseInstance,we=e.clearSuspenseBoundary,pe=e.clearSuspenseBoundaryFromContainer,qe=e.shouldDeleteUnhydratedTailInstances,dt=e.didNotMatchHydratedContainerTextInstance,xt=e.didNotMatchHydratedTextInstance,Je;function At(m){if(Je===void 0)try{throw Error()}catch(T){var g=T.stack.trim().match(/\n( *(at )?)/);Je=g&&g[1]||""}return`
`+Je+m}var Pt=!1;function bt(m,g){if(!m||Pt)return"";Pt=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ge){var P=Ge}Reflect.construct(m,[],g)}else{try{g.call()}catch(Ge){P=Ge}m.call(g.prototype)}else{try{throw Error()}catch(Ge){P=Ge}m()}}catch(Ge){if(Ge&&P&&typeof Ge.stack=="string"){for(var D=Ge.stack.split(`
`),j=P.stack.split(`
`),re=D.length-1,ce=j.length-1;1<=re&&0<=ce&&D[re]!==j[ce];)ce--;for(;1<=re&&0<=ce;re--,ce--)if(D[re]!==j[ce]){if(re!==1||ce!==1)do if(re--,ce--,0>ce||D[re]!==j[ce]){var Me=`
`+D[re].replace(" at new "," at ");return m.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",m.displayName)),Me}while(1<=re&&0<=ce);break}}}finally{Pt=!1,Error.prepareStackTrace=T}return(m=m?m.displayName||m.name:"")?At(m):""}var hn=Object.prototype.hasOwnProperty,jn=[],Tn=-1;function Jn(m){return{current:m}}function vt(m){0>Tn||(m.current=jn[Tn],jn[Tn]=null,Tn--)}function Qe(m,g){Tn++,jn[Tn]=m.current,m.current=g}var cn={},zt=Jn(cn),Hn=Jn(!1),Qr=cn;function di(m,g){var T=m.type.contextTypes;if(!T)return cn;var P=m.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===g)return P.__reactInternalMemoizedMaskedChildContext;var D={},j;for(j in T)D[j]=g[j];return P&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=D),D}function _i(m){return m=m.childContextTypes,m!=null}function In(){vt(Hn),vt(zt)}function Zr(m,g,T){if(zt.current!==cn)throw Error(o(168));Qe(zt,g),Qe(Hn,T)}function Tu(m,g,T){var P=m.stateNode;if(g=g.childContextTypes,typeof P.getChildContext!="function")return T;P=P.getChildContext();for(var D in P)if(!(D in g))throw Error(o(108,z(m)||"Unknown",D));return s({},T,P)}function or(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||cn,Qr=zt.current,Qe(zt,m),Qe(Hn,Hn.current),!0}function dl(m,g,T){var P=m.stateNode;if(!P)throw Error(o(169));T?(m=Tu(m,g,Qr),P.__reactInternalMemoizedMergedChildContext=m,vt(Hn),vt(zt),Qe(zt,m)):vt(Hn),Qe(Hn,T)}var es=Math.clz32?Math.clz32:XC,Mu=Math.log,sf=Math.LN2;function XC(m){return m>>>=0,m===0?32:31-(Mu(m)/sf|0)|0}var Au=64,_n=4194304;function Pu(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function of(m,g){var T=m.pendingLanes;if(T===0)return 0;var P=0,D=m.suspendedLanes,j=m.pingedLanes,re=T&268435455;if(re!==0){var ce=re&~D;ce!==0?P=Pu(ce):(j&=re,j!==0&&(P=Pu(j)))}else re=T&~D,re!==0?P=Pu(re):j!==0&&(P=Pu(j));if(P===0)return 0;if(g!==0&&g!==P&&(g&D)===0&&(D=P&-P,j=g&-g,D>=j||D===16&&(j&4194240)!==0))return g;if((P&4)!==0&&(P|=T&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=P;0<g;)T=31-es(g),D=1<<T,P|=m[T],g&=~D;return P}function Sv(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N_(m,g){for(var T=m.suspendedLanes,P=m.pingedLanes,D=m.expirationTimes,j=m.pendingLanes;0<j;){var re=31-es(j),ce=1<<re,Me=D[re];Me===-1?((ce&T)===0||(ce&P)!==0)&&(D[re]=Sv(ce,g)):Me<=g&&(m.expiredLanes|=ce),j&=~ce}}function xp(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function _p(m){for(var g=[],T=0;31>T;T++)g.push(m);return g}function rc(m,g,T){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-es(g),m[g]=T}function bp(m,g){var T=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var P=m.eventTimes;for(m=m.expirationTimes;0<T;){var D=31-es(T),j=1<<D;g[D]=0,P[D]=-1,m[D]=-1,T&=~j}}function Bo(m,g){var T=m.entangledLanes|=g;for(m=m.entanglements;T;){var P=31-es(T),D=1<<P;D&g|m[P]&g&&(m[P]|=g),T&=~D}}var nn=0;function pa(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var sc=r.unstable_scheduleCallback,Ru=r.unstable_cancelCallback,fl=r.unstable_shouldYield,YC=r.unstable_requestPaint,Ui=r.unstable_now,oc=r.unstable_ImmediatePriority,KC=r.unstable_UserBlockingPriority,Sp=r.unstable_NormalPriority,wp=r.unstable_IdlePriority,af=null,Vo=null;function lf(m){if(Vo&&typeof Vo.onCommitFiberRoot=="function")try{Vo.onCommitFiberRoot(af,m,void 0,(m.current.flags&128)===128)}catch{}}function cf(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var Or=typeof Object.is=="function"?Object.is:cf,js=null,Ep=!1,wv=!1;function Cp(m){js===null?js=[m]:js.push(m)}function Tp(m){Ep=!0,Cp(m)}function Hs(){if(!wv&&js!==null){wv=!0;var m=0,g=nn;try{var T=js;for(nn=1;m<T.length;m++){var P=T[m];do P=P(!0);while(P!==null)}js=null,Ep=!1}catch(D){throw js!==null&&(js=js.slice(m+1)),sc(oc,Hs),D}finally{nn=g,wv=!1}}return null}var O_=a.ReactCurrentBatchConfig;function ho(m,g){if(Or(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var T=Object.keys(m),P=Object.keys(g);if(T.length!==P.length)return!1;for(P=0;P<T.length;P++){var D=T[P];if(!hn.call(g,D)||!Or(m[D],g[D]))return!1}return!0}function Ev(m){switch(m.tag){case 5:return At(m.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 2:case 15:return m=bt(m.type,!1),m;case 11:return m=bt(m.type.render,!1),m;case 1:return m=bt(m.type,!0),m;default:return""}}function ts(m,g){if(m&&m.defaultProps){g=s({},g),m=m.defaultProps;for(var T in m)g[T]===void 0&&(g[T]=m[T]);return g}return g}var uf=Jn(null),ac=null,ma=null,Mp=null;function Lr(){Mp=ma=ac=null}function lc(m,g,T){Ve?(Qe(uf,g._currentValue),g._currentValue=T):(Qe(uf,g._currentValue2),g._currentValue2=T)}function df(m){var g=uf.current;vt(uf),Ve?m._currentValue=g:m._currentValue2=g}function cc(m,g,T){for(;m!==null;){var P=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,P!==null&&(P.childLanes|=g)):P!==null&&(P.childLanes&g)!==g&&(P.childLanes|=g),m===T)break;m=m.return}}function Iu(m,g){ac=m,Mp=ma=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(Xi=!0),m.firstContext=null)}function ns(m){var g=Ve?m._currentValue:m._currentValue2;if(Mp!==m)if(m={context:m,memoizedValue:g,next:null},ma===null){if(ac===null)throw Error(o(308));ma=m,ac.dependencies={lanes:0,firstContext:m}}else ma=ma.next=m;return g}var Ws=null,Gs=!1;function ku(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cv(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function ga(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function hl(m,g){var T=m.updateQueue;T!==null&&(T=T.shared,Si!==null&&(m.mode&1)!==0&&(Jt&2)===0?(m=T.interleaved,m===null?(g.next=g,Ws===null?Ws=[T]:Ws.push(T)):(g.next=m.next,m.next=g),T.interleaved=g):(m=T.pending,m===null?g.next=g:(g.next=m.next,m.next=g),T.pending=g))}function Ap(m,g,T){if(g=g.updateQueue,g!==null&&(g=g.shared,(T&4194240)!==0)){var P=g.lanes;P&=m.pendingLanes,T|=P,g.lanes=T,Bo(m,T)}}function Pp(m,g){var T=m.updateQueue,P=m.alternate;if(P!==null&&(P=P.updateQueue,T===P)){var D=null,j=null;if(T=T.firstBaseUpdate,T!==null){do{var re={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};j===null?D=j=re:j=j.next=re,T=T.next}while(T!==null);j===null?D=j=g:j=j.next=g}else D=j=g;T={baseState:P.baseState,firstBaseUpdate:D,lastBaseUpdate:j,shared:P.shared,effects:P.effects},m.updateQueue=T;return}m=T.lastBaseUpdate,m===null?T.firstBaseUpdate=g:m.next=g,T.lastBaseUpdate=g}function Rp(m,g,T,P){var D=m.updateQueue;Gs=!1;var j=D.firstBaseUpdate,re=D.lastBaseUpdate,ce=D.shared.pending;if(ce!==null){D.shared.pending=null;var Me=ce,Ge=Me.next;Me.next=null,re===null?j=Ge:re.next=Ge,re=Me;var gt=m.alternate;gt!==null&&(gt=gt.updateQueue,ce=gt.lastBaseUpdate,ce!==re&&(ce===null?gt.firstBaseUpdate=Ge:ce.next=Ge,gt.lastBaseUpdate=Me))}if(j!==null){var Wt=D.baseState;re=0,gt=Ge=Me=null,ce=j;do{var Rt=ce.lane,Qt=ce.eventTime;if((P&Rt)===Rt){gt!==null&&(gt=gt.next={eventTime:Qt,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var ft=m,fr=ce;switch(Rt=g,Qt=T,fr.tag){case 1:if(ft=fr.payload,typeof ft=="function"){Wt=ft.call(Qt,Wt,Rt);break e}Wt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=fr.payload,Rt=typeof ft=="function"?ft.call(Qt,Wt,Rt):ft,Rt==null)break e;Wt=s({},Wt,Rt);break e;case 2:Gs=!0}}ce.callback!==null&&ce.lane!==0&&(m.flags|=64,Rt=D.effects,Rt===null?D.effects=[ce]:Rt.push(ce))}else Qt={eventTime:Qt,lane:Rt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},gt===null?(Ge=gt=Qt,Me=Wt):gt=gt.next=Qt,re|=Rt;if(ce=ce.next,ce===null){if(ce=D.shared.pending,ce===null)break;Rt=ce,ce=Rt.next,Rt.next=null,D.lastBaseUpdate=Rt,D.shared.pending=null}}while(!0);if(gt===null&&(Me=Wt),D.baseState=Me,D.firstBaseUpdate=Ge,D.lastBaseUpdate=gt,g=D.shared.interleaved,g!==null){D=g;do re|=D.lane,D=D.next;while(D!==g)}else j===null&&(D.shared.lanes=0);Go|=re,m.lanes=re,m.memoizedState=Wt}}function L_(m,g,T){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var P=m[g],D=P.callback;if(D!==null){if(P.callback=null,P=T,typeof D!="function")throw Error(o(191,D));D.call(P)}}}var D_=new i.Component().refs;function Tv(m,g,T,P){g=m.memoizedState,T=T(P,g),T=T==null?g:s({},g,T),m.memoizedState=T,m.lanes===0&&(m.updateQueue.baseState=T)}var Ip={isMounted:function(m){return(m=m._reactInternals)?N(m)===m:!1},enqueueSetState:function(m,g,T){m=m._reactInternals;var P=bn(),D=_o(m),j=ga(P,D);j.payload=g,T!=null&&(j.callback=T),hl(m,j),g=wr(m,D,P),g!==null&&Ap(g,m,D)},enqueueReplaceState:function(m,g,T){m=m._reactInternals;var P=bn(),D=_o(m),j=ga(P,D);j.tag=1,j.payload=g,T!=null&&(j.callback=T),hl(m,j),g=wr(m,D,P),g!==null&&Ap(g,m,D)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var T=bn(),P=_o(m),D=ga(T,P);D.tag=2,g!=null&&(D.callback=g),hl(m,D),g=wr(m,P,T),g!==null&&Ap(g,m,P)}};function Mv(m,g,T,P,D,j,re){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(P,j,re):g.prototype&&g.prototype.isPureReactComponent?!ho(T,P)||!ho(D,j):!0}function F_(m,g,T){var P=!1,D=cn,j=g.contextType;return typeof j=="object"&&j!==null?j=ns(j):(D=_i(g)?Qr:zt.current,P=g.contextTypes,j=(P=P!=null)?di(m,D):cn),g=new g(T,j),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ip,m.stateNode=g,g._reactInternals=m,P&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=D,m.__reactInternalMemoizedMaskedChildContext=j),g}function z_(m,g,T,P){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(T,P),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(T,P),g.state!==m&&Ip.enqueueReplaceState(g,g.state,null)}function Av(m,g,T,P){var D=m.stateNode;D.props=T,D.state=m.memoizedState,D.refs=D_,ku(m);var j=g.contextType;typeof j=="object"&&j!==null?D.context=ns(j):(j=_i(g)?Qr:zt.current,D.context=di(m,j)),D.state=m.memoizedState,j=g.getDerivedStateFromProps,typeof j=="function"&&(Tv(m,g,j,T),D.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(g=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),g!==D.state&&Ip.enqueueReplaceState(D,D.state,null),Rp(m,T,D,P),D.state=m.memoizedState),typeof D.componentDidMount=="function"&&(m.flags|=4194308)}var Nu=[],pl=0,kp=null,Np=0,$s=[],Ss=0,uc=null,va=1,ya="";function dc(m,g){Nu[pl++]=Np,Nu[pl++]=kp,kp=m,Np=g}function U_(m,g,T){$s[Ss++]=va,$s[Ss++]=ya,$s[Ss++]=uc,uc=m;var P=va;m=ya;var D=32-es(P)-1;P&=~(1<<D),T+=1;var j=32-es(g)+D;if(30<j){var re=D-D%5;j=(P&(1<<re)-1).toString(32),P>>=re,D-=re,va=1<<32-es(g)+D|T<<D|P,ya=j+m}else va=1<<j|T<<D|P,ya=m}function Pv(m){m.return!==null&&(dc(m,1),U_(m,1,0))}function Rv(m){for(;m===kp;)kp=Nu[--pl],Nu[pl]=null,Np=Nu[--pl],Nu[pl]=null;for(;m===uc;)uc=$s[--Ss],$s[Ss]=null,ya=$s[--Ss],$s[Ss]=null,va=$s[--Ss],$s[Ss]=null}var Dr=null,ar=null,ri=!1,Ou=!1,qs=null;function Iv(m,g){var T=Ps(5,null,null,0);T.elementType="DELETED",T.stateNode=g,T.return=m,g=m.deletions,g===null?(m.deletions=[T],m.flags|=16):g.push(T)}function kv(m,g){switch(m.tag){case 5:return g=cl(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,Dr=m,ar=ul(g),!0):!1;case 6:return g=uo(g,m.pendingProps),g!==null?(m.stateNode=g,Dr=m,ar=null,!0):!1;case 13:if(g=da(g),g!==null){var T=uc!==null?{id:va,overflow:ya}:null;return m.memoizedState={dehydrated:g,treeContext:T,retryLane:1073741824},T=Ps(18,null,null,0),T.stateNode=g,T.return=m,m.child=T,Dr=m,ar=null,!0}return!1;default:return!1}}function Op(m){return(m.mode&1)!==0&&(m.flags&128)===0}function ml(m){if(ri){var g=ar;if(g){var T=g;if(!kv(m,g)){if(Op(m))throw Error(o(418));g=fo(T);var P=Dr;g&&kv(m,g)?Iv(P,T):(m.flags=m.flags&-4097|2,ri=!1,Dr=m)}}else{if(Op(m))throw Error(o(418));m.flags=m.flags&-4097|2,ri=!1,Dr=m}}}function B_(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Dr=m}function ff(m){if(!Re||m!==Dr)return!1;if(!ri)return B_(m),ri=!0,!1;if(m.tag!==3&&(m.tag!==5||qe(m.type)&&!Se(m.type,m.memoizedProps))){var g=ar;if(g){if(Op(m)){for(m=ar;m;)m=fo(m);throw Error(o(418))}for(;g;)Iv(m,g),g=fo(g)}}if(B_(m),m.tag===13){if(!Re)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));ar=Q(m)}else ar=Dr?fo(m.stateNode):null;return!0}function Lu(){Re&&(ar=Dr=null,Ou=ri=!1)}function Lp(m){qs===null?qs=[m]:qs.push(m)}function Du(m,g,T){if(m=T.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var P=T.stateNode}if(!P)throw Error(o(147,m));var D=P,j=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===j?g.ref:(g=function(re){var ce=D.refs;ce===D_&&(ce=D.refs={}),re===null?delete ce[j]:ce[j]=re},g._stringRef=j,g)}if(typeof m!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,m))}return m}function gl(m,g){throw m=Object.prototype.toString.call(g),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Fu(m){var g=m._init;return g(m._payload)}function V_(m){function g(xe,fe){if(m){var Ce=xe.deletions;Ce===null?(xe.deletions=[fe],xe.flags|=16):Ce.push(fe)}}function T(xe,fe){if(!m)return null;for(;fe!==null;)g(xe,fe),fe=fe.sibling;return null}function P(xe,fe){for(xe=new Map;fe!==null;)fe.key!==null?xe.set(fe.key,fe):xe.set(fe.index,fe),fe=fe.sibling;return xe}function D(xe,fe){return xe=ka(xe,fe),xe.index=0,xe.sibling=null,xe}function j(xe,fe,Ce){return xe.index=Ce,m?(Ce=xe.alternate,Ce!==null?(Ce=Ce.index,Ce<fe?(xe.flags|=2,fe):Ce):(xe.flags|=2,fe)):(xe.flags|=1048576,fe)}function re(xe){return m&&xe.alternate===null&&(xe.flags|=2),xe}function ce(xe,fe,Ce,ot){return fe===null||fe.tag!==6?(fe=lm(Ce,xe.mode,ot),fe.return=xe,fe):(fe=D(fe,Ce),fe.return=xe,fe)}function Me(xe,fe,Ce,ot){var wt=Ce.type;return wt===d?gt(xe,fe,Ce.props.children,ot,Ce.key):fe!==null&&(fe.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===C&&Fu(wt)===fe.type)?(ot=D(fe,Ce.props),ot.ref=Du(xe,fe,Ce),ot.return=xe,ot):(ot=am(Ce.type,Ce.key,Ce.props,null,xe.mode,ot),ot.ref=Du(xe,fe,Ce),ot.return=xe,ot)}function Ge(xe,fe,Ce,ot){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Ce.containerInfo||fe.stateNode.implementation!==Ce.implementation?(fe=cm(Ce,xe.mode,ot),fe.return=xe,fe):(fe=D(fe,Ce.children||[]),fe.return=xe,fe)}function gt(xe,fe,Ce,ot,wt){return fe===null||fe.tag!==7?(fe=Nc(Ce,xe.mode,ot,wt),fe.return=xe,fe):(fe=D(fe,Ce),fe.return=xe,fe)}function Wt(xe,fe,Ce){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=lm(""+fe,xe.mode,Ce),fe.return=xe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return Ce=am(fe.type,fe.key,fe.props,null,xe.mode,Ce),Ce.ref=Du(xe,null,fe),Ce.return=xe,Ce;case c:return fe=cm(fe,xe.mode,Ce),fe.return=xe,fe;case C:var ot=fe._init;return Wt(xe,ot(fe._payload),Ce)}if($(fe)||O(fe))return fe=Nc(fe,xe.mode,Ce,null),fe.return=xe,fe;gl(xe,fe)}return null}function Rt(xe,fe,Ce,ot){var wt=fe!==null?fe.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return wt!==null?null:ce(xe,fe,""+Ce,ot);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Ce.key===wt?Me(xe,fe,Ce,ot):null;case c:return Ce.key===wt?Ge(xe,fe,Ce,ot):null;case C:return wt=Ce._init,Rt(xe,fe,wt(Ce._payload),ot)}if($(Ce)||O(Ce))return wt!==null?null:gt(xe,fe,Ce,ot,null);gl(xe,Ce)}return null}function Qt(xe,fe,Ce,ot,wt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return xe=xe.get(Ce)||null,ce(fe,xe,""+ot,wt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return xe=xe.get(ot.key===null?Ce:ot.key)||null,Me(fe,xe,ot,wt);case c:return xe=xe.get(ot.key===null?Ce:ot.key)||null,Ge(fe,xe,ot,wt);case C:var Xt=ot._init;return Qt(xe,fe,Ce,Xt(ot._payload),wt)}if($(ot)||O(ot))return xe=xe.get(Ce)||null,gt(fe,xe,ot,wt,null);gl(fe,ot)}return null}function ft(xe,fe,Ce,ot){for(var wt=null,Xt=null,Gt=fe,xn=fe=0,Ni=null;Gt!==null&&xn<Ce.length;xn++){Gt.index>xn?(Ni=Gt,Gt=null):Ni=Gt.sibling;var vn=Rt(xe,Gt,Ce[xn],ot);if(vn===null){Gt===null&&(Gt=Ni);break}m&&Gt&&vn.alternate===null&&g(xe,Gt),fe=j(vn,fe,xn),Xt===null?wt=vn:Xt.sibling=vn,Xt=vn,Gt=Ni}if(xn===Ce.length)return T(xe,Gt),ri&&dc(xe,xn),wt;if(Gt===null){for(;xn<Ce.length;xn++)Gt=Wt(xe,Ce[xn],ot),Gt!==null&&(fe=j(Gt,fe,xn),Xt===null?wt=Gt:Xt.sibling=Gt,Xt=Gt);return ri&&dc(xe,xn),wt}for(Gt=P(xe,Gt);xn<Ce.length;xn++)Ni=Qt(Gt,xe,xn,Ce[xn],ot),Ni!==null&&(m&&Ni.alternate!==null&&Gt.delete(Ni.key===null?xn:Ni.key),fe=j(Ni,fe,xn),Xt===null?wt=Ni:Xt.sibling=Ni,Xt=Ni);return m&&Gt.forEach(function(Na){return g(xe,Na)}),ri&&dc(xe,xn),wt}function fr(xe,fe,Ce,ot){var wt=O(Ce);if(typeof wt!="function")throw Error(o(150));if(Ce=wt.call(Ce),Ce==null)throw Error(o(151));for(var Xt=wt=null,Gt=fe,xn=fe=0,Ni=null,vn=Ce.next();Gt!==null&&!vn.done;xn++,vn=Ce.next()){Gt.index>xn?(Ni=Gt,Gt=null):Ni=Gt.sibling;var Na=Rt(xe,Gt,vn.value,ot);if(Na===null){Gt===null&&(Gt=Ni);break}m&&Gt&&Na.alternate===null&&g(xe,Gt),fe=j(Na,fe,xn),Xt===null?wt=Na:Xt.sibling=Na,Xt=Na,Gt=Ni}if(vn.done)return T(xe,Gt),ri&&dc(xe,xn),wt;if(Gt===null){for(;!vn.done;xn++,vn=Ce.next())vn=Wt(xe,vn.value,ot),vn!==null&&(fe=j(vn,fe,xn),Xt===null?wt=vn:Xt.sibling=vn,Xt=vn);return ri&&dc(xe,xn),wt}for(Gt=P(xe,Gt);!vn.done;xn++,vn=Ce.next())vn=Qt(Gt,xe,xn,vn.value,ot),vn!==null&&(m&&vn.alternate!==null&&Gt.delete(vn.key===null?xn:vn.key),fe=j(vn,fe,xn),Xt===null?wt=vn:Xt.sibling=vn,Xt=vn);return m&&Gt.forEach(function(c0){return g(xe,c0)}),ri&&dc(xe,xn),wt}function Rs(xe,fe,Ce,ot){if(typeof Ce=="object"&&Ce!==null&&Ce.type===d&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:e:{for(var wt=Ce.key,Xt=fe;Xt!==null;){if(Xt.key===wt){if(wt=Ce.type,wt===d){if(Xt.tag===7){T(xe,Xt.sibling),fe=D(Xt,Ce.props.children),fe.return=xe,xe=fe;break e}}else if(Xt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===C&&Fu(wt)===Xt.type){T(xe,Xt.sibling),fe=D(Xt,Ce.props),fe.ref=Du(xe,Xt,Ce),fe.return=xe,xe=fe;break e}T(xe,Xt);break}else g(xe,Xt);Xt=Xt.sibling}Ce.type===d?(fe=Nc(Ce.props.children,xe.mode,ot,Ce.key),fe.return=xe,xe=fe):(ot=am(Ce.type,Ce.key,Ce.props,null,xe.mode,ot),ot.ref=Du(xe,fe,Ce),ot.return=xe,xe=ot)}return re(xe);case c:e:{for(Xt=Ce.key;fe!==null;){if(fe.key===Xt)if(fe.tag===4&&fe.stateNode.containerInfo===Ce.containerInfo&&fe.stateNode.implementation===Ce.implementation){T(xe,fe.sibling),fe=D(fe,Ce.children||[]),fe.return=xe,xe=fe;break e}else{T(xe,fe);break}else g(xe,fe);fe=fe.sibling}fe=cm(Ce,xe.mode,ot),fe.return=xe,xe=fe}return re(xe);case C:return Xt=Ce._init,Rs(xe,fe,Xt(Ce._payload),ot)}if($(Ce))return ft(xe,fe,Ce,ot);if(O(Ce))return fr(xe,fe,Ce,ot);gl(xe,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,fe!==null&&fe.tag===6?(T(xe,fe.sibling),fe=D(fe,Ce),fe.return=xe,xe=fe):(T(xe,fe),fe=lm(Ce,xe.mode,ot),fe.return=xe,xe=fe),re(xe)):T(xe,fe)}return Rs}var xa=V_(!0),j_=V_(!1),zu={},is=Jn(zu),fc=Jn(zu),hc=Jn(zu);function po(m){if(m===zu)throw Error(o(174));return m}function Dp(m,g){Qe(hc,g),Qe(fc,m),Qe(is,zu),m=W(g),vt(is),Qe(is,m)}function Uu(){vt(is),vt(fc),vt(hc)}function H_(m){var g=po(hc.current),T=po(is.current);g=V(T,m.type,g),T!==g&&(Qe(fc,m),Qe(is,g))}function Nv(m){fc.current===m&&(vt(is),vt(fc))}var fi=Jn(0);function Fp(m){for(var g=m;g!==null;){if(g.tag===13){var T=g.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||rf(T)||Uo(T)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var ws=[];function pc(){for(var m=0;m<ws.length;m++){var g=ws[m];Ve?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}ws.length=0}var hf=a.ReactCurrentDispatcher,Es=a.ReactCurrentBatchConfig,mc=0,hi=null,Gi=null,$i=null,zp=!1,jo=!1,gc=0,pf=0;function qi(){throw Error(o(321))}function Up(m,g){if(g===null)return!1;for(var T=0;T<g.length&&T<m.length;T++)if(!Or(m[T],g[T]))return!1;return!0}function Bu(m,g,T,P,D,j){if(mc=j,hi=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,hf.current=m===null||m.memoizedState===null?Uv:Bv,m=T(P,D),jo){j=0;do{if(jo=!1,gc=0,25<=j)throw Error(o(301));j+=1,$i=Gi=null,g.updateQueue=null,hf.current=Vv,m=T(P,D)}while(jo)}if(hf.current=Wu,g=Gi!==null&&Gi.next!==null,mc=0,$i=Gi=hi=null,zp=!1,g)throw Error(o(300));return m}function vl(){var m=gc!==0;return gc=0,m}function mo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?hi.memoizedState=$i=m:$i=$i.next=m,$i}function go(){if(Gi===null){var m=hi.alternate;m=m!==null?m.memoizedState:null}else m=Gi.next;var g=$i===null?hi.memoizedState:$i.next;if(g!==null)$i=g,Gi=m;else{if(m===null)throw Error(o(310));Gi=m,m={memoizedState:Gi.memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},$i===null?hi.memoizedState=$i=m:$i=$i.next=m}return $i}function Ho(m,g){return typeof g=="function"?g(m):g}function mf(m){var g=go(),T=g.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=m;var P=Gi,D=P.baseQueue,j=T.pending;if(j!==null){if(D!==null){var re=D.next;D.next=j.next,j.next=re}P.baseQueue=D=j,T.pending=null}if(D!==null){j=D.next,P=P.baseState;var ce=re=null,Me=null,Ge=j;do{var gt=Ge.lane;if((mc&gt)===gt)Me!==null&&(Me=Me.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),P=Ge.hasEagerState?Ge.eagerState:m(P,Ge.action);else{var Wt={lane:gt,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Me===null?(ce=Me=Wt,re=P):Me=Me.next=Wt,hi.lanes|=gt,Go|=gt}Ge=Ge.next}while(Ge!==null&&Ge!==j);Me===null?re=P:Me.next=ce,Or(P,g.memoizedState)||(Xi=!0),g.memoizedState=P,g.baseState=re,g.baseQueue=Me,T.lastRenderedState=P}if(m=T.interleaved,m!==null){D=m;do j=D.lane,hi.lanes|=j,Go|=j,D=D.next;while(D!==m)}else D===null&&(T.lanes=0);return[g.memoizedState,T.dispatch]}function gf(m){var g=go(),T=g.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=m;var P=T.dispatch,D=T.pending,j=g.memoizedState;if(D!==null){T.pending=null;var re=D=D.next;do j=m(j,re.action),re=re.next;while(re!==D);Or(j,g.memoizedState)||(Xi=!0),g.memoizedState=j,g.baseQueue===null&&(g.baseState=j),T.lastRenderedState=j}return[j,P]}function Ov(){}function Lv(m,g){var T=hi,P=go(),D=g(),j=!Or(P.memoizedState,D);if(j&&(P.memoizedState=D,Xi=!0),P=P.queue,Vu(_a.bind(null,T,P,m),[m]),P.getSnapshot!==g||j||$i!==null&&$i.memoizedState.tag&1){if(T.flags|=2048,yf(9,Fv.bind(null,T,P,D,g),void 0,null),Si===null)throw Error(o(349));(mc&30)!==0||Dv(T,g,D)}return D}function Dv(m,g,T){m.flags|=16384,m={getSnapshot:g,value:T},g=hi.updateQueue,g===null?(g={lastEffect:null,stores:null},hi.updateQueue=g,g.stores=[m]):(T=g.stores,T===null?g.stores=[m]:T.push(m))}function Fv(m,g,T,P){g.value=T,g.getSnapshot=P,Bp(g)&&wr(m,1,-1)}function _a(m,g,T){return T(function(){Bp(g)&&wr(m,1,-1)})}function Bp(m){var g=m.getSnapshot;m=m.value;try{var T=g();return!Or(m,T)}catch{return!0}}function vf(m){var g=mo();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:m},g.queue=m,m=m.dispatch=JC.bind(null,hi,m),[g.memoizedState,m]}function yf(m,g,T,P){return m={tag:m,create:g,destroy:T,deps:P,next:null},g=hi.updateQueue,g===null?(g={lastEffect:null,stores:null},hi.updateQueue=g,g.lastEffect=m.next=m):(T=g.lastEffect,T===null?g.lastEffect=m.next=m:(P=T.next,T.next=m,m.next=P,g.lastEffect=m)),m}function W_(){return go().memoizedState}function yl(m,g,T,P){var D=mo();hi.flags|=m,D.memoizedState=yf(1|g,T,void 0,P===void 0?null:P)}function Vp(m,g,T,P){var D=go();P=P===void 0?null:P;var j=void 0;if(Gi!==null){var re=Gi.memoizedState;if(j=re.destroy,P!==null&&Up(P,re.deps)){D.memoizedState=yf(g,T,j,P);return}}hi.flags|=m,D.memoizedState=yf(1|g,T,j,P)}function jp(m,g){return yl(8390656,8,m,g)}function Vu(m,g){return Vp(2048,8,m,g)}function Wn(m,g){return Vp(4,2,m,g)}function Hp(m,g){return Vp(4,4,m,g)}function xf(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function ju(m,g,T){return T=T!=null?T.concat([m]):null,Vp(4,4,xf.bind(null,g,m),T)}function Wp(){}function Gp(m,g){var T=go();g=g===void 0?null:g;var P=T.memoizedState;return P!==null&&g!==null&&Up(g,P[1])?P[0]:(T.memoizedState=[m,g],m)}function Hu(m,g){var T=go();g=g===void 0?null:g;var P=T.memoizedState;return P!==null&&g!==null&&Up(g,P[1])?P[0]:(m=m(),T.memoizedState=[m,g],m)}function $p(m,g){var T=nn;nn=T!==0&&4>T?T:4,m(!0);var P=Es.transition;Es.transition={};try{m(!1),g()}finally{nn=T,Es.transition=P}}function vc(){return go().memoizedState}function G_(m,g,T){var P=_o(m);T={lane:P,action:T,hasEagerState:!1,eagerState:null,next:null},$_(m)?zv(g,T):(_f(m,g,T),T=bn(),m=wr(m,P,T),m!==null&&bf(m,g,P))}function JC(m,g,T){var P=_o(m),D={lane:P,action:T,hasEagerState:!1,eagerState:null,next:null};if($_(m))zv(g,D);else{_f(m,g,D);var j=m.alternate;if(m.lanes===0&&(j===null||j.lanes===0)&&(j=g.lastRenderedReducer,j!==null))try{var re=g.lastRenderedState,ce=j(re,T);if(D.hasEagerState=!0,D.eagerState=ce,Or(ce,re))return}catch{}finally{}T=bn(),m=wr(m,P,T),m!==null&&bf(m,g,P)}}function $_(m){var g=m.alternate;return m===hi||g!==null&&g===hi}function zv(m,g){jo=zp=!0;var T=m.pending;T===null?g.next=g:(g.next=T.next,T.next=g),m.pending=g}function _f(m,g,T){Si!==null&&(m.mode&1)!==0&&(Jt&2)===0?(m=g.interleaved,m===null?(T.next=T,Ws===null?Ws=[g]:Ws.push(g)):(T.next=m.next,m.next=T),g.interleaved=T):(m=g.pending,m===null?T.next=T:(T.next=m.next,m.next=T),g.pending=T)}function bf(m,g,T){if((T&4194240)!==0){var P=g.lanes;P&=m.pendingLanes,T|=P,g.lanes=T,Bo(m,T)}}var Wu={readContext:ns,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},Uv={readContext:ns,useCallback:function(m,g){return mo().memoizedState=[m,g===void 0?null:g],m},useContext:ns,useEffect:jp,useImperativeHandle:function(m,g,T){return T=T!=null?T.concat([m]):null,yl(4194308,4,xf.bind(null,g,m),T)},useLayoutEffect:function(m,g){return yl(4194308,4,m,g)},useInsertionEffect:function(m,g){return yl(4,2,m,g)},useMemo:function(m,g){var T=mo();return g=g===void 0?null:g,m=m(),T.memoizedState=[m,g],m},useReducer:function(m,g,T){var P=mo();return g=T!==void 0?T(g):g,P.memoizedState=P.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},P.queue=m,m=m.dispatch=G_.bind(null,hi,m),[P.memoizedState,m]},useRef:function(m){var g=mo();return m={current:m},g.memoizedState=m},useState:vf,useDebugValue:Wp,useDeferredValue:function(m){var g=vf(m),T=g[0],P=g[1];return jp(function(){var D=Es.transition;Es.transition={};try{P(m)}finally{Es.transition=D}},[m]),T},useTransition:function(){var m=vf(!1),g=m[0];return m=$p.bind(null,m[1]),mo().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,T){var P=hi,D=mo();if(ri){if(T===void 0)throw Error(o(407));T=T()}else{if(T=g(),Si===null)throw Error(o(349));(mc&30)!==0||Dv(P,g,T)}D.memoizedState=T;var j={value:T,getSnapshot:g};return D.queue=j,jp(_a.bind(null,P,j,m),[m]),P.flags|=2048,yf(9,Fv.bind(null,P,j,T,g),void 0,null),T},useId:function(){var m=mo(),g=Si.identifierPrefix;if(ri){var T=ya,P=va;T=(P&~(1<<32-es(P)-1)).toString(32)+T,g=":"+g+"R"+T,T=gc++,0<T&&(g+="H"+T.toString(32)),g+=":"}else T=pf++,g=":"+g+"r"+T.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Bv={readContext:ns,useCallback:Gp,useContext:ns,useEffect:Vu,useImperativeHandle:ju,useInsertionEffect:Wn,useLayoutEffect:Hp,useMemo:Hu,useReducer:mf,useRef:W_,useState:function(){return mf(Ho)},useDebugValue:Wp,useDeferredValue:function(m){var g=mf(Ho),T=g[0],P=g[1];return Vu(function(){var D=Es.transition;Es.transition={};try{P(m)}finally{Es.transition=D}},[m]),T},useTransition:function(){var m=mf(Ho)[0],g=go().memoizedState;return[m,g]},useMutableSource:Ov,useSyncExternalStore:Lv,useId:vc,unstable_isNewReconciler:!1},Vv={readContext:ns,useCallback:Gp,useContext:ns,useEffect:Vu,useImperativeHandle:ju,useInsertionEffect:Wn,useLayoutEffect:Hp,useMemo:Hu,useReducer:gf,useRef:W_,useState:function(){return gf(Ho)},useDebugValue:Wp,useDeferredValue:function(m){var g=gf(Ho),T=g[0],P=g[1];return Vu(function(){var D=Es.transition;Es.transition={};try{P(m)}finally{Es.transition=D}},[m]),T},useTransition:function(){var m=gf(Ho)[0],g=go().memoizedState;return[m,g]},useMutableSource:Ov,useSyncExternalStore:Lv,useId:vc,unstable_isNewReconciler:!1};function jv(m,g){try{var T="",P=g;do T+=Ev(P),P=P.return;while(P);var D=T}catch(j){D=`
Error generating stack: `+j.message+`
`+j.stack}return{value:m,source:g,stack:D}}function qp(m,g){try{console.error(g.value)}catch(T){setTimeout(function(){throw T})}}var QC=typeof WeakMap=="function"?WeakMap:Map;function q_(m,g,T){T=ga(-1,T),T.tag=3,T.payload={element:null};var P=g.value;return T.callback=function(){Ku||(Ku=!0,Zn=P),qp(m,g)},T}function Xp(m,g,T){T=ga(-1,T),T.tag=3;var P=m.type.getDerivedStateFromError;if(typeof P=="function"){var D=g.value;T.payload=function(){return P(D)},T.callback=function(){qp(m,g)}}var j=m.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(T.callback=function(){qp(m,g),typeof P!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var re=g.stack;this.componentDidCatch(g.value,{componentStack:re!==null?re:""})}),T}function ba(m,g,T){var P=m.pingCache;if(P===null){P=m.pingCache=new QC;var D=new Set;P.set(g,D)}else D=P.get(g),D===void 0&&(D=new Set,P.set(g,D));D.has(T)||(D.add(T),m=o0.bind(null,m,g,T),g.then(m,m))}function Hv(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function yc(m,g,T,P,D){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(g=ga(-1,1),g.tag=2,hl(T,g))),T.lanes|=1),m):(m.flags|=65536,m.lanes=D,m)}function Bi(m){m.flags|=4}function Gu(m,g){if(m!==null&&m.child===g.child)return!0;if((g.flags&16)!==0)return!1;for(m=g.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var Cs,xc,Yp,Kp;if(lt)Cs=function(m,g){for(var T=g.child;T!==null;){if(T.tag===5||T.tag===6)oe(m,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},xc=function(){},Yp=function(m,g,T,P,D){if(m=m.memoizedProps,m!==P){var j=g.stateNode,re=po(is.current);T=he(j,T,m,P,D,re),(g.updateQueue=T)&&Bi(g)}},Kp=function(m,g,T,P){T!==P&&Bi(g)};else if(ee){Cs=function(m,g,T,P){for(var D=g.child;D!==null;){if(D.tag===5){var j=D.stateNode;T&&P&&(j=Kr(j,D.type,D.memoizedProps,D)),oe(m,j)}else if(D.tag===6)j=D.stateNode,T&&P&&(j=Jr(j,D.memoizedProps,D)),oe(m,j);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)j=D.child,j!==null&&(j.return=D),Cs(m,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var xl=function(m,g,T,P){for(var D=g.child;D!==null;){if(D.tag===5){var j=D.stateNode;T&&P&&(j=Kr(j,D.type,D.memoizedProps,D)),ii(m,j)}else if(D.tag===6)j=D.stateNode,T&&P&&(j=Jr(j,D.memoizedProps,D)),ii(m,j);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)j=D.child,j!==null&&(j.return=D),xl(m,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};xc=function(m,g){var T=g.stateNode;if(!Gu(m,g)){m=T.containerInfo;var P=on(m);xl(P,g,!1,!1),T.pendingChildren=P,Bi(g),Ii(m,P)}},Yp=function(m,g,T,P,D){var j=m.stateNode,re=m.memoizedProps;if((m=Gu(m,g))&&re===P)g.stateNode=j;else{var ce=g.stateNode,Me=po(is.current),Ge=null;re!==P&&(Ge=he(ce,T,re,P,D,Me)),m&&Ge===null?g.stateNode=j:(j=It(j,Ge,T,re,P,g,m,ce),ke(j,T,P,D,Me)&&Bi(g),g.stateNode=j,m?Bi(g):Cs(j,g,!1,!1))}},Kp=function(m,g,T,P){T!==P?(m=po(hc.current),T=po(is.current),g.stateNode=Fe(P,m,T,g),Bi(g)):g.stateNode=m.stateNode}}else xc=function(){},Yp=function(){},Kp=function(){};function Sa(m,g){if(!ri)switch(m.tailMode){case"hidden":g=m.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?m.tail=null:T.sibling=null;break;case"collapsed":T=m.tail;for(var P=null;T!==null;)T.alternate!==null&&(P=T),T=T.sibling;P===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:P.sibling=null}}function bi(m){var g=m.alternate!==null&&m.alternate.child===m.child,T=0,P=0;if(g)for(var D=m.child;D!==null;)T|=D.lanes|D.childLanes,P|=D.subtreeFlags&14680064,P|=D.flags&14680064,D.return=m,D=D.sibling;else for(D=m.child;D!==null;)T|=D.lanes|D.childLanes,P|=D.subtreeFlags,P|=D.flags,D.return=m,D=D.sibling;return m.subtreeFlags|=P,m.childLanes=T,g}function Jp(m,g,T){var P=g.pendingProps;switch(Rv(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(g),null;case 1:return _i(g.type)&&In(),bi(g),null;case 3:return P=g.stateNode,Uu(),vt(Hn),vt(zt),pc(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(m===null||m.child===null)&&(ff(g)?Bi(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,qs!==null&&(Of(qs),qs=null))),xc(m,g),bi(g),null;case 5:Nv(g),T=po(hc.current);var D=g.type;if(m!==null&&g.stateNode!=null)Yp(m,g,D,P,T),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!P){if(g.stateNode===null)throw Error(o(166));return bi(g),null}if(m=po(is.current),ff(g)){if(!Re)throw Error(o(175));m=bv(g.stateNode,g.type,g.memoizedProps,T,m,g,!Ou),g.updateQueue=m,m!==null&&Bi(g)}else{var j=Y(D,P,T,m,g);Cs(j,g,!1,!1),g.stateNode=j,ke(j,D,P,T,m)&&Bi(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return bi(g),null;case 6:if(m&&g.stateNode!=null)Kp(m,g,m.memoizedProps,P);else{if(typeof P!="string"&&g.stateNode===null)throw Error(o(166));if(m=po(hc.current),T=po(is.current),ff(g)){if(!Re)throw Error(o(176));if(m=g.stateNode,P=g.memoizedProps,(T=ha(m,P,g,!Ou))&&(D=Dr,D!==null))switch(j=(D.mode&1)!==0,D.tag){case 3:dt(D.stateNode.containerInfo,m,P,j);break;case 5:xt(D.type,D.memoizedProps,D.stateNode,m,P,j)}T&&Bi(g)}else g.stateNode=Fe(P,m,T,g)}return bi(g),null;case 13:if(vt(fi),P=g.memoizedState,ri&&ar!==null&&(g.mode&1)!==0&&(g.flags&128)===0){for(m=ar;m;)m=fo(m);return Lu(),g.flags|=98560,g}if(P!==null&&P.dehydrated!==null){if(P=ff(g),m===null){if(!P)throw Error(o(318));if(!Re)throw Error(o(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));yp(m,g)}else Lu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;return bi(g),null}return qs!==null&&(Of(qs),qs=null),(g.flags&128)!==0?(g.lanes=T,g):(P=P!==null,T=!1,m===null?ff(g):T=m.memoizedState!==null,P&&!T&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(fi.current&1)!==0?gi===0&&(gi=3):rm())),g.updateQueue!==null&&(g.flags|=4),bi(g),null);case 4:return Uu(),xc(m,g),m===null&&tt(g.stateNode.containerInfo),bi(g),null;case 10:return df(g.type._context),bi(g),null;case 17:return _i(g.type)&&In(),bi(g),null;case 19:if(vt(fi),D=g.memoizedState,D===null)return bi(g),null;if(P=(g.flags&128)!==0,j=D.rendering,j===null)if(P)Sa(D,!1);else{if(gi!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(j=Fp(m),j!==null){for(g.flags|=128,Sa(D,!1),m=j.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=T,P=g.child;P!==null;)T=P,D=m,T.flags&=14680066,j=T.alternate,j===null?(T.childLanes=0,T.lanes=D,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=j.childLanes,T.lanes=j.lanes,T.child=j.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=j.memoizedProps,T.memoizedState=j.memoizedState,T.updateQueue=j.updateQueue,T.type=j.type,D=j.dependencies,T.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),P=P.sibling;return Qe(fi,fi.current&1|2),g.child}m=m.sibling}D.tail!==null&&Ui()>Sl&&(g.flags|=128,P=!0,Sa(D,!1),g.lanes=4194304)}else{if(!P)if(m=Fp(j),m!==null){if(g.flags|=128,P=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),Sa(D,!0),D.tail===null&&D.tailMode==="hidden"&&!j.alternate&&!ri)return bi(g),null}else 2*Ui()-D.renderingStartTime>Sl&&T!==1073741824&&(g.flags|=128,P=!0,Sa(D,!1),g.lanes=4194304);D.isBackwards?(j.sibling=g.child,g.child=j):(m=D.last,m!==null?m.sibling=j:g.child=j,D.last=j)}return D.tail!==null?(g=D.tail,D.rendering=g,D.tail=g.sibling,D.renderingStartTime=Ui(),g.sibling=null,m=fi.current,Qe(fi,P?m&1|2:m&1),g):(bi(g),null);case 22:case 23:return Lf(),P=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==P&&(g.flags|=8192),P&&(g.mode&1)!==0?(Sr&1073741824)!==0&&(bi(g),lt&&g.subtreeFlags&6&&(g.flags|=8192)):bi(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var Wv=a.ReactCurrentOwner,Xi=!1;function mi(m,g,T,P){g.child=m===null?j_(g,null,T,P):xa(g,m.child,T,P)}function Gn(m,g,T,P,D){T=T.render;var j=g.ref;return Iu(g,D),P=Bu(m,g,T,P,j,D),T=vl(),m!==null&&!Xi?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~D,rs(m,g,D)):(ri&&T&&Pv(g),g.flags|=1,mi(m,g,P,D),g.child)}function Un(m,g,T,P,D){if(m===null){var j=T.type;return typeof j=="function"&&!om(j)&&j.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(g.tag=15,g.type=j,wa(m,g,j,P,D)):(m=am(T.type,null,P,g,g.mode,D),m.ref=g.ref,m.return=g,g.child=m)}if(j=m.child,(m.lanes&D)===0){var re=j.memoizedProps;if(T=T.compare,T=T!==null?T:ho,T(re,P)&&m.ref===g.ref)return rs(m,g,D)}return g.flags|=1,m=ka(j,P),m.ref=g.ref,m.return=g,g.child=m}function wa(m,g,T,P,D){if(m!==null&&ho(m.memoizedProps,P)&&m.ref===g.ref)if(Xi=!1,(m.lanes&D)!==0)(m.flags&131072)!==0&&(Xi=!0);else return g.lanes=m.lanes,rs(m,g,D);return Ea(m,g,T,P,D)}function lr(m,g,T){var P=g.pendingProps,D=P.children,j=m!==null?m.memoizedState:null;if(P.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null},Qe(Ac,Sr),Sr|=T;else if((T&1073741824)!==0)g.memoizedState={baseLanes:0,cachePool:null},P=j!==null?j.baseLanes:T,Qe(Ac,Sr),Sr|=P;else return m=j!==null?j.baseLanes|T:T,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Qe(Ac,Sr),Sr|=m,null;else j!==null?(P=j.baseLanes|T,g.memoizedState=null):P=T,Qe(Ac,Sr),Sr|=P;return mi(m,g,D,T),g.child}function Fr(m,g){var T=g.ref;(m===null&&T!==null||m!==null&&m.ref!==T)&&(g.flags|=512,g.flags|=2097152)}function Ea(m,g,T,P,D){var j=_i(T)?Qr:zt.current;return j=di(g,j),Iu(g,D),T=Bu(m,g,T,P,j,D),P=vl(),m!==null&&!Xi?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~D,rs(m,g,D)):(ri&&P&&Pv(g),g.flags|=1,mi(m,g,T,D),g.child)}function _c(m,g,T,P,D){if(_i(T)){var j=!0;or(g)}else j=!1;if(Iu(g,D),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),F_(g,T,P),Av(g,T,P,D),P=!0;else if(m===null){var re=g.stateNode,ce=g.memoizedProps;re.props=ce;var Me=re.context,Ge=T.contextType;typeof Ge=="object"&&Ge!==null?Ge=ns(Ge):(Ge=_i(T)?Qr:zt.current,Ge=di(g,Ge));var gt=T.getDerivedStateFromProps,Wt=typeof gt=="function"||typeof re.getSnapshotBeforeUpdate=="function";Wt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ce!==P||Me!==Ge)&&z_(g,re,P,Ge),Gs=!1;var Rt=g.memoizedState;re.state=Rt,Rp(g,P,re,D),Me=g.memoizedState,ce!==P||Rt!==Me||Hn.current||Gs?(typeof gt=="function"&&(Tv(g,T,gt,P),Me=g.memoizedState),(ce=Gs||Mv(g,T,ce,P,Rt,Me,Ge))?(Wt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(g.flags|=4194308)):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=P,g.memoizedState=Me),re.props=P,re.state=Me,re.context=Ge,P=ce):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),P=!1)}else{re=g.stateNode,Cv(m,g),ce=g.memoizedProps,Ge=g.type===g.elementType?ce:ts(g.type,ce),re.props=Ge,Wt=g.pendingProps,Rt=re.context,Me=T.contextType,typeof Me=="object"&&Me!==null?Me=ns(Me):(Me=_i(T)?Qr:zt.current,Me=di(g,Me));var Qt=T.getDerivedStateFromProps;(gt=typeof Qt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ce!==Wt||Rt!==Me)&&z_(g,re,P,Me),Gs=!1,Rt=g.memoizedState,re.state=Rt,Rp(g,P,re,D);var ft=g.memoizedState;ce!==Wt||Rt!==ft||Hn.current||Gs?(typeof Qt=="function"&&(Tv(g,T,Qt,P),ft=g.memoizedState),(Ge=Gs||Mv(g,T,Ge,P,Rt,ft,Me)||!1)?(gt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(P,ft,Me),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(P,ft,Me)),typeof re.componentDidUpdate=="function"&&(g.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof re.componentDidUpdate!="function"||ce===m.memoizedProps&&Rt===m.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ce===m.memoizedProps&&Rt===m.memoizedState||(g.flags|=1024),g.memoizedProps=P,g.memoizedState=ft),re.props=P,re.state=ft,re.context=Me,P=Ge):(typeof re.componentDidUpdate!="function"||ce===m.memoizedProps&&Rt===m.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ce===m.memoizedProps&&Rt===m.memoizedState||(g.flags|=1024),P=!1)}return br(m,g,T,P,j,D)}function br(m,g,T,P,D,j){Fr(m,g);var re=(g.flags&128)!==0;if(!P&&!re)return D&&dl(g,T,!1),rs(m,g,j);P=g.stateNode,Wv.current=g;var ce=re&&typeof T.getDerivedStateFromError!="function"?null:P.render();return g.flags|=1,m!==null&&re?(g.child=xa(g,m.child,null,j),g.child=xa(g,null,ce,j)):mi(m,g,ce,j),g.memoizedState=P.state,D&&dl(g,T,!0),g.child}function Sf(m){var g=m.stateNode;g.pendingContext?Zr(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Zr(m,g.context,!1),Dp(m,g.containerInfo)}function Gv(m,g,T,P,D){return Lu(),Lp(D),g.flags|=256,mi(m,g,T,P),g.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function bc(m){return{baseLanes:m,cachePool:null}}function $v(m,g,T){var P=g.pendingProps,D=fi.current,j=!1,re=(g.flags&128)!==0,ce;if((ce=re)||(ce=m!==null&&m.memoizedState===null?!1:(D&2)!==0),ce?(j=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(D|=1),Qe(fi,D&1),m===null)return ml(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:Uo(m)?g.lanes=8:g.lanes=1073741824,null):(D=P.children,m=P.fallback,j?(P=g.mode,j=g.child,D={mode:"hidden",children:D},(P&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=D):j=zf(D,P,0,null),m=Nc(m,P,T,null),j.return=g,m.return=g,j.sibling=m,g.child=j,g.child.memoizedState=bc(T),g.memoizedState=wf,m):vo(g,D));if(D=m.memoizedState,D!==null){if(ce=D.dehydrated,ce!==null){if(re)return g.flags&256?(g.flags&=-257,Cf(m,g,T,Error(o(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(j=P.fallback,D=g.mode,P=zf({mode:"visible",children:P.children},D,0,null),j=Nc(j,D,T,null),j.flags|=2,P.return=g,j.return=g,P.sibling=j,g.child=P,(g.mode&1)!==0&&xa(g,m.child,null,T),g.child.memoizedState=bc(T),g.memoizedState=wf,j);if((g.mode&1)===0)g=Cf(m,g,T,null);else if(Uo(ce))g=Cf(m,g,T,Error(o(419)));else if(P=(T&m.childLanes)!==0,Xi||P){if(P=Si,P!==null){switch(T&-T){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}P=(j&(P.suspendedLanes|T))!==0?0:j,P!==0&&P!==D.retryLane&&(D.retryLane=P,wr(m,P,-1))}rm(),g=Cf(m,g,T,Error(o(421)))}else rf(ce)?(g.flags|=128,g.child=m.child,g=Q_.bind(null,m),fa(ce,g),g=null):(T=D.treeContext,Re&&(ar=vp(ce),Dr=g,ri=!0,qs=null,Ou=!1,T!==null&&($s[Ss++]=va,$s[Ss++]=ya,$s[Ss++]=uc,va=T.id,ya=T.overflow,uc=g)),g=vo(g,g.pendingProps.children),g.flags|=4096);return g}return j?(P=Qp(m,g,P.children,P.fallback,T),j=g.child,D=m.child.memoizedState,j.memoizedState=D===null?bc(T):{baseLanes:D.baseLanes|T,cachePool:null},j.childLanes=m.childLanes&~T,g.memoizedState=wf,P):(T=Ef(m,g,P.children,T),g.memoizedState=null,T)}return j?(P=Qp(m,g,P.children,P.fallback,T),j=g.child,D=m.child.memoizedState,j.memoizedState=D===null?bc(T):{baseLanes:D.baseLanes|T,cachePool:null},j.childLanes=m.childLanes&~T,g.memoizedState=wf,P):(T=Ef(m,g,P.children,T),g.memoizedState=null,T)}function vo(m,g){return g=zf({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function Ef(m,g,T,P){var D=m.child;return m=D.sibling,T=ka(D,{mode:"visible",children:T}),(g.mode&1)===0&&(T.lanes=P),T.return=g,T.sibling=null,m!==null&&(P=g.deletions,P===null?(g.deletions=[m],g.flags|=16):P.push(m)),g.child=T}function Qp(m,g,T,P,D){var j=g.mode;m=m.child;var re=m.sibling,ce={mode:"hidden",children:T};return(j&1)===0&&g.child!==m?(T=g.child,T.childLanes=0,T.pendingProps=ce,g.deletions=null):(T=ka(m,ce),T.subtreeFlags=m.subtreeFlags&14680064),re!==null?P=ka(re,P):(P=Nc(P,j,D,null),P.flags|=2),P.return=g,T.return=g,T.sibling=P,g.child=T,P}function Cf(m,g,T,P){return P!==null&&Lp(P),xa(g,m.child,null,T),m=vo(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function X_(m,g,T){m.lanes|=g;var P=m.alternate;P!==null&&(P.lanes|=g),cc(m.return,g,T)}function Wo(m,g,T,P,D){var j=m.memoizedState;j===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:P,tail:T,tailMode:D}:(j.isBackwards=g,j.rendering=null,j.renderingStartTime=0,j.last=P,j.tail=T,j.tailMode=D)}function Sc(m,g,T){var P=g.pendingProps,D=P.revealOrder,j=P.tail;if(mi(m,g,P.children,T),P=fi.current,(P&2)!==0)P=P&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&X_(m,T,g);else if(m.tag===19)X_(m,T,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}P&=1}if(Qe(fi,P),(g.mode&1)===0)g.memoizedState=null;else switch(D){case"forwards":for(T=g.child,D=null;T!==null;)m=T.alternate,m!==null&&Fp(m)===null&&(D=T),T=T.sibling;T=D,T===null?(D=g.child,g.child=null):(D=T.sibling,T.sibling=null),Wo(g,!1,D,T,j);break;case"backwards":for(T=null,D=g.child,g.child=null;D!==null;){if(m=D.alternate,m!==null&&Fp(m)===null){g.child=D;break}m=D.sibling,D.sibling=T,T=D,D=m}Wo(g,!0,T,null,j);break;case"together":Wo(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function rs(m,g,T){if(m!==null&&(g.dependencies=m.dependencies),Go|=g.lanes,(T&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(o(153));if(g.child!==null){for(m=g.child,T=ka(m,m.pendingProps),g.child=T,T.return=g;m.sibling!==null;)m=m.sibling,T=T.sibling=ka(m,m.pendingProps),T.return=g;T.sibling=null}return g.child}function Zp(m,g,T){switch(g.tag){case 3:Sf(g),Lu();break;case 5:H_(g);break;case 1:_i(g.type)&&or(g);break;case 4:Dp(g,g.stateNode.containerInfo);break;case 10:lc(g,g.type._context,g.memoizedProps.value);break;case 13:var P=g.memoizedState;if(P!==null)return P.dehydrated!==null?(Qe(fi,fi.current&1),g.flags|=128,null):(T&g.child.childLanes)!==0?$v(m,g,T):(Qe(fi,fi.current&1),m=rs(m,g,T),m!==null?m.sibling:null);Qe(fi,fi.current&1);break;case 19:if(P=(T&g.childLanes)!==0,(m.flags&128)!==0){if(P)return Sc(m,g,T);g.flags|=128}var D=g.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Qe(fi,fi.current),P)break;return null;case 22:case 23:return g.lanes=0,lr(m,g,T)}return rs(m,g,T)}function em(m,g){switch(Rv(g),g.tag){case 1:return _i(g.type)&&In(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Uu(),vt(Hn),vt(zt),pc(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return Nv(g),null;case 13:if(vt(fi),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Lu()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return vt(fi),null;case 4:return Uu(),null;case 10:return df(g.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var zr=!1,Yi=!1,wc=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Xs(m,g){var T=m.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(P){Br(m,g,P)}else T.current=null}function Ca(m,g,T){try{T()}catch(P){Br(m,g,P)}}var qv=!1;function Xv(m,g){for(X(m.containerInfo),Ze=g;Ze!==null;)if(m=Ze,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,Ze=g;else for(;Ze!==null;){m=Ze;try{var T=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var P=T.memoizedProps,D=T.memoizedState,j=m.stateNode,re=j.getSnapshotBeforeUpdate(m.elementType===m.type?P:ts(m.type,P),D);j.__reactInternalSnapshotBeforeUpdate=re}break;case 3:lt&&Ye(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){Br(m,m.return,ce)}if(g=m.sibling,g!==null){g.return=m.return,Ze=g;break}Ze=m.return}return T=qv,qv=!1,T}function Ta(m,g,T){var P=g.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var D=P=P.next;do{if((D.tag&m)===m){var j=D.destroy;D.destroy=void 0,j!==void 0&&Ca(g,T,j)}D=D.next}while(D!==P)}}function cr(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&m)===m){var P=T.create;T.destroy=P()}T=T.next}while(T!==g)}}function Ur(m){var g=m.ref;if(g!==null){var T=m.stateNode;switch(m.tag){case 5:m=K(T);break;default:m=T}typeof g=="function"?g(m):g.current=m}}function Qn(m,g,T){if(Vo&&typeof Vo.onCommitFiberUnmount=="function")try{Vo.onCommitFiberUnmount(af,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var P=m=m.next;do{var D=P,j=D.destroy;D=D.tag,j!==void 0&&((D&2)!==0||(D&4)!==0)&&Ca(g,T,j),P=P.next}while(P!==m)}break;case 1:if(Xs(g,T),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(re){Br(g,T,re)}break;case 5:Xs(g,T);break;case 4:lt?Jv(m,g,T):ee&&ee&&(g=g.stateNode.containerInfo,T=on(g),gn(g,T))}}function Ys(m,g,T){for(var P=g;;)if(Qn(m,P,T),P.child===null||lt&&P.tag===4){if(P===g)break;for(;P.sibling===null;){if(P.return===null||P.return===g)return;P=P.return}P.sibling.return=P.return,P=P.sibling}else P.child.return=P,P=P.child}function Yv(m){var g=m.alternate;g!==null&&(m.alternate=null,Yv(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Tt(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Kv(m){return m.tag===5||m.tag===3||m.tag===4}function tm(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Kv(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function nm(m){if(lt){e:{for(var g=m.return;g!==null;){if(Kv(g))break e;g=g.return}throw Error(o(160))}var T=g;switch(T.tag){case 5:g=T.stateNode,T.flags&32&&(Ln(g),T.flags&=-33),T=tm(m),$u(m,T,g);break;case 3:case 4:g=T.stateNode.containerInfo,T=tm(m),im(m,T,g);break;default:throw Error(o(161))}}}function im(m,g,T){var P=m.tag;if(P===5||P===6)m=m.stateNode,g?mt(T,m,g):Vt(T,m);else if(P!==4&&(m=m.child,m!==null))for(im(m,g,T),m=m.sibling;m!==null;)im(m,g,T),m=m.sibling}function $u(m,g,T){var P=m.tag;if(P===5||P===6)m=m.stateNode,g?Lt(T,m,g):ut(T,m);else if(P!==4&&(m=m.child,m!==null))for($u(m,g,T),m=m.sibling;m!==null;)$u(m,g,T),m=m.sibling}function Jv(m,g,T){for(var P=g,D=!1,j,re;;){if(!D){D=P.return;e:for(;;){if(D===null)throw Error(o(160));switch(j=D.stateNode,D.tag){case 5:re=!1;break e;case 3:j=j.containerInfo,re=!0;break e;case 4:j=j.containerInfo,re=!0;break e}D=D.return}D=!0}if(P.tag===5||P.tag===6)Ys(m,P,T),re?qt(j,P.stateNode):jt(j,P.stateNode);else if(P.tag===18)re?pe(j,P.stateNode):we(j,P.stateNode);else if(P.tag===4){if(P.child!==null){j=P.stateNode.containerInfo,re=!0,P.child.return=P,P=P.child;continue}}else if(Qn(m,P,T),P.child!==null){P.child.return=P,P=P.child;continue}if(P===g)break;for(;P.sibling===null;){if(P.return===null||P.return===g)return;P=P.return,P.tag===4&&(D=!1)}P.sibling.return=P.return,P=P.sibling}}function _l(m,g){if(lt){switch(g.tag){case 0:case 11:case 14:case 15:Ta(3,g,g.return),cr(3,g),Ta(5,g,g.return);return;case 1:return;case 5:var T=g.stateNode;if(T!=null){var P=g.memoizedProps;m=m!==null?m.memoizedProps:P;var D=g.type,j=g.updateQueue;g.updateQueue=null,j!==null&&ln(T,j,D,m,P,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));T=g.memoizedProps,We(g.stateNode,m!==null?m.memoizedProps:T,T);return;case 3:Re&&m!==null&&m.memoizedState.isDehydrated&&de(g.stateNode.containerInfo);return;case 12:return;case 13:qu(g);return;case 19:qu(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:Ta(3,g,g.return),cr(3,g),Ta(5,g,g.return);return;case 12:return;case 13:qu(g);return;case 19:qu(g);return;case 3:Re&&m!==null&&m.memoizedState.isDehydrated&&de(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(ee){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,gn(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function qu(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var T=m.stateNode;T===null&&(T=m.stateNode=new wc),g.forEach(function(P){var D=Z_.bind(null,m,P);T.has(P)||(T.add(P),P.then(D,D))})}}function ZC(m,g){for(Ze=g;Ze!==null;){g=Ze;var T=g.deletions;if(T!==null)for(var P=0;P<T.length;P++){var D=T[P];try{var j=m;lt?Jv(j,D,g):Ys(j,D,g);var re=D.alternate;re!==null&&(re.return=null),D.return=null}catch(wt){Br(D,g,wt)}}if(T=g.child,(g.subtreeFlags&12854)!==0&&T!==null)T.return=g,Ze=T;else for(;Ze!==null;){g=Ze;try{var ce=g.flags;if(ce&32&&lt&&Ln(g.stateNode),ce&512){var Me=g.alternate;if(Me!==null){var Ge=Me.ref;Ge!==null&&(typeof Ge=="function"?Ge(null):Ge.current=null)}}if(ce&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var gt=g.alternate;(gt===null||gt.memoizedState===null)&&(kf=Ui())}break;case 22:var Wt=g.memoizedState!==null,Rt=g.alternate,Qt=Rt!==null&&Rt.memoizedState!==null;if(T=g,lt){e:if(P=T,D=Wt,j=null,lt)for(var ft=P;;){if(ft.tag===5){if(j===null){j=ft;var fr=ft.stateNode;D?ue(fr):Oe(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(j===null){var Rs=ft.stateNode;D?$e(Rs):Le(Rs,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===P)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===P)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===P)break e;j===ft&&(j=null),ft=ft.return}j===ft&&(j=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Wt&&!Qt&&(T.mode&1)!==0){Ze=T;for(var xe=T.child;xe!==null;){for(T=Ze=xe;Ze!==null;){P=Ze;var fe=P.child;switch(P.tag){case 0:case 11:case 14:case 15:Ta(4,P,P.return);break;case 1:Xs(P,P.return);var Ce=P.stateNode;if(typeof Ce.componentWillUnmount=="function"){var ot=P.return;try{Ce.props=P.memoizedProps,Ce.state=P.memoizedState,Ce.componentWillUnmount()}catch(wt){Br(P,ot,wt)}}break;case 5:Xs(P,P.return);break;case 22:if(P.memoizedState!==null){Zv(T);continue}}fe!==null?(fe.return=P,Ze=fe):Zv(T)}xe=xe.sibling}}}switch(ce&4102){case 2:nm(g),g.flags&=-3;break;case 6:nm(g),g.flags&=-3,_l(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,_l(g.alternate,g);break;case 4:_l(g.alternate,g)}}catch(wt){Br(g,g.return,wt)}if(T=g.sibling,T!==null){T.return=g.return,Ze=T;break}Ze=g.return}}}function Tf(m,g,T){Ze=m,Mf(m)}function Mf(m,g,T){for(var P=(m.mode&1)!==0;Ze!==null;){var D=Ze,j=D.child;if(D.tag===22&&P){var re=D.memoizedState!==null||zr;if(!re){var ce=D.alternate,Me=ce!==null&&ce.memoizedState!==null||Yi;ce=zr;var Ge=Yi;if(zr=re,(Yi=Me)&&!Ge)for(Ze=D;Ze!==null;)re=Ze,Me=re.child,re.tag===22&&re.memoizedState!==null?Ec(D):Me!==null?(Me.return=re,Ze=Me):Ec(D);for(;j!==null;)Ze=j,Mf(j),j=j.sibling;Ze=D,zr=ce,Yi=Ge}Qv(m)}else(D.subtreeFlags&8772)!==0&&j!==null?(j.return=D,Ze=j):Qv(m)}}function Qv(m){for(;Ze!==null;){var g=Ze;if((g.flags&8772)!==0){var T=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Yi||cr(5,g);break;case 1:var P=g.stateNode;if(g.flags&4&&!Yi)if(T===null)P.componentDidMount();else{var D=g.elementType===g.type?T.memoizedProps:ts(g.type,T.memoizedProps);P.componentDidUpdate(D,T.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var j=g.updateQueue;j!==null&&L_(g,j,P);break;case 3:var re=g.updateQueue;if(re!==null){if(T=null,g.child!==null)switch(g.child.tag){case 5:T=K(g.child.stateNode);break;case 1:T=g.child.stateNode}L_(g,re,T)}break;case 5:var ce=g.stateNode;T===null&&g.flags&4&&st(ce,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Re&&g.memoizedState===null){var Me=g.alternate;if(Me!==null){var Ge=Me.memoizedState;if(Ge!==null){var gt=Ge.dehydrated;gt!==null&&be(gt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Yi||g.flags&512&&Ur(g)}catch(Wt){Br(g,g.return,Wt)}}if(g===m){Ze=null;break}if(T=g.sibling,T!==null){T.return=g.return,Ze=T;break}Ze=g.return}}function Zv(m){for(;Ze!==null;){var g=Ze;if(g===m){Ze=null;break}var T=g.sibling;if(T!==null){T.return=g.return,Ze=T;break}Ze=g.return}}function Ec(m){for(;Ze!==null;){var g=Ze;try{switch(g.tag){case 0:case 11:case 15:var T=g.return;try{cr(4,g)}catch(Me){Br(g,T,Me)}break;case 1:var P=g.stateNode;if(typeof P.componentDidMount=="function"){var D=g.return;try{P.componentDidMount()}catch(Me){Br(g,D,Me)}}var j=g.return;try{Ur(g)}catch(Me){Br(g,j,Me)}break;case 5:var re=g.return;try{Ur(g)}catch(Me){Br(g,re,Me)}}}catch(Me){Br(g,g.return,Me)}if(g===m){Ze=null;break}var ce=g.sibling;if(ce!==null){ce.return=g.return,Ze=ce;break}Ze=g.return}}var Af=0,Cc=1,Tc=2,Ma=3,Xu=4;if(typeof Symbol=="function"&&Symbol.for){var Mc=Symbol.for;Af=Mc("selector.component"),Cc=Mc("selector.has_pseudo_class"),Tc=Mc("selector.role"),Ma=Mc("selector.test_id"),Xu=Mc("selector.text")}function Pf(m){var g=Ue(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(m=q(m),m===null)throw Error(o(362));return m.stateNode.current}function Rf(m,g){switch(g.$$typeof){case Af:if(m.type===g.value)return!0;break;case Cc:e:{g=g.value,m=[m,0];for(var T=0;T<m.length;){var P=m[T++],D=m[T++],j=g[D];if(P.tag!==5||!Ie(P)){for(;j!=null&&Rf(P,j);)D++,j=g[D];if(D===g.length){g=!0;break e}else for(P=P.child;P!==null;)m.push(P,D),P=P.sibling}}g=!1}return g;case Tc:if(m.tag===5&&ze(m.stateNode,g.value))return!0;break;case Xu:if((m.tag===5||m.tag===6)&&(m=Ne(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case Ma:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function bl(m){switch(m.$$typeof){case Af:return"<"+(L(m.value)||"Unknown")+">";case Cc:return":has("+(bl(m)||"")+")";case Tc:return'[role="'+m.value+'"]';case Xu:return'"'+m.value+'"';case Ma:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function Ts(m,g){var T=[];m=[m,0];for(var P=0;P<m.length;){var D=m[P++],j=m[P++],re=g[j];if(D.tag!==5||!Ie(D)){for(;re!=null&&Rf(D,re);)j++,re=g[j];if(j===g.length)T.push(D);else for(D=D.child;D!==null;)m.push(D,j),D=D.sibling}}return T}function Aa(m,g){if(!ie)throw Error(o(363));m=Pf(m),m=Ts(m,g),g=[],m=Array.from(m);for(var T=0;T<m.length;){var P=m[T++];if(P.tag===5)Ie(P)||g.push(P.stateNode);else for(P=P.child;P!==null;)m.push(P),P=P.sibling}return g}var e0=Math.ceil,If=a.ReactCurrentDispatcher,yo=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,Jt=0,Si=null,Fn=null,si=0,Sr=0,Ac=Jn(0),gi=0,Yu=null,Go=0,Ms=0,Pc=0,Pa=null,ki=null,kf=0,Sl=1/0;function Rc(){Sl=Ui()+500}var Ku=!1,Zn=null,xo=null,Ju=!1,$o=null,Ic=0,kc=0,Ra=null,$n=-1,vi=0;function bn(){return(Jt&6)!==0?Ui():$n!==-1?$n:$n=Ui()}function _o(m){return(m.mode&1)===0?1:(Jt&2)!==0&&si!==0?si&-si:O_.transition!==null?(vi===0&&(m=Au,Au<<=1,(Au&4194240)===0&&(Au=64),vi=m),vi):(m=nn,m!==0?m:Ae())}function wr(m,g,T){if(50<kc)throw kc=0,Ra=null,Error(o(185));var P=wl(m,g);return P===null?null:(rc(P,g,T),((Jt&2)===0||P!==Si)&&(P===Si&&((Jt&2)===0&&(Ms|=g),gi===4&&dr(P,si)),ss(P,T),g===1&&Jt===0&&(m.mode&1)===0&&(Rc(),Ep&&Hs())),P)}function wl(m,g){m.lanes|=g;var T=m.alternate;for(T!==null&&(T.lanes|=g),T=m,m=m.return;m!==null;)m.childLanes|=g,T=m.alternate,T!==null&&(T.childLanes|=g),T=m,m=m.return;return T.tag===3?T.stateNode:null}function ss(m,g){var T=m.callbackNode;N_(m,g);var P=of(m,m===Si?si:0);if(P===0)T!==null&&Ru(T),m.callbackNode=null,m.callbackPriority=0;else if(g=P&-P,m.callbackPriority!==g){if(T!=null&&Ru(T),g===1)m.tag===0?Tp(As.bind(null,m)):Cp(As.bind(null,m)),nt?ct(function(){Jt===0&&Hs()}):sc(oc,Hs),T=null;else{switch(pa(P)){case 1:T=oc;break;case 4:T=KC;break;case 16:T=Sp;break;case 536870912:T=wp;break;default:T=Sp}T=sm(T,ur.bind(null,m))}m.callbackPriority=g,m.callbackNode=T}}function ur(m,g){if($n=-1,vi=0,(Jt&6)!==0)throw Error(o(327));var T=m.callbackNode;if(qo()&&m.callbackNode!==T)return null;var P=of(m,m===Si?si:0);if(P===0)return null;if((P&30)!==0||(P&m.expiredLanes)!==0||g)g=Df(m,P);else{g=P;var D=Jt;Jt|=2;var j=i0();(Si!==m||si!==g)&&(Rc(),Ia(m,g));do try{K_();break}catch(ce){n0(m,ce)}while(!0);Lr(),If.current=j,Jt=D,Fn!==null?g=0:(Si=null,si=0,g=gi)}if(g!==0){if(g===2&&(D=xp(m),D!==0&&(P=D,g=Nf(m,D))),g===1)throw T=Yu,Ia(m,0),dr(m,P),ss(m,Ui()),T;if(g===6)dr(m,P);else{if(D=m.current.alternate,(P&30)===0&&!t0(D)&&(g=Df(m,P),g===2&&(j=xp(m),j!==0&&(P=j,g=Nf(m,j))),g===1))throw T=Yu,Ia(m,0),dr(m,P),ss(m,Ui()),T;switch(m.finishedWork=D,m.finishedLanes=P,g){case 0:case 1:throw Error(o(345));case 2:bo(m,ki);break;case 3:if(dr(m,P),(P&130023424)===P&&(g=kf+500-Ui(),10<g)){if(of(m,0)!==0)break;if(D=m.suspendedLanes,(D&P)!==P){bn(),m.pingedLanes|=m.suspendedLanes&D;break}m.timeoutHandle=Pe(bo.bind(null,m,ki),g);break}bo(m,ki);break;case 4:if(dr(m,P),(P&4194240)===P)break;for(g=m.eventTimes,D=-1;0<P;){var re=31-es(P);j=1<<re,re=g[re],re>D&&(D=re),P&=~j}if(P=D,P=Ui()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*e0(P/1960))-P,10<P){m.timeoutHandle=Pe(bo.bind(null,m,ki),P);break}bo(m,ki);break;case 5:bo(m,ki);break;default:throw Error(o(329))}}}return ss(m,Ui()),m.callbackNode===T?ur.bind(null,m):null}function Nf(m,g){var T=Pa;return m.current.memoizedState.isDehydrated&&(Ia(m,g).flags|=256),m=Df(m,g),m!==2&&(g=ki,ki=T,g!==null&&Of(g)),m}function Of(m){ki===null?ki=m:ki.push.apply(ki,m)}function t0(m){for(var g=m;;){if(g.flags&16384){var T=g.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var P=0;P<T.length;P++){var D=T[P],j=D.getSnapshot;D=D.value;try{if(!Or(j(),D))return!1}catch{return!1}}}if(T=g.child,g.subtreeFlags&16384&&T!==null)T.return=g,g=T;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function dr(m,g){for(g&=~Pc,g&=~Ms,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var T=31-es(g),P=1<<T;m[T]=-1,g&=~P}}function As(m){if((Jt&6)!==0)throw Error(o(327));qo();var g=of(m,0);if((g&1)===0)return ss(m,Ui()),null;var T=Df(m,g);if(m.tag!==0&&T===2){var P=xp(m);P!==0&&(g=P,T=Nf(m,P))}if(T===1)throw T=Yu,Ia(m,0),dr(m,g),ss(m,Ui()),T;if(T===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,bo(m,ki),ss(m,Ui()),null}function Qu(m){$o!==null&&$o.tag===0&&(Jt&6)===0&&qo();var g=Jt;Jt|=1;var T=Dn.transition,P=nn;try{if(Dn.transition=null,nn=1,m)return m()}finally{nn=P,Dn.transition=T,Jt=g,(Jt&6)===0&&Hs()}}function Lf(){Sr=Ac.current,vt(Ac)}function Ia(m,g){m.finishedWork=null,m.finishedLanes=0;var T=m.timeoutHandle;if(T!==ve&&(m.timeoutHandle=ve,me(T)),Fn!==null)for(T=Fn.return;T!==null;){var P=T;switch(Rv(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&In();break;case 3:Uu(),vt(Hn),vt(zt),pc();break;case 5:Nv(P);break;case 4:Uu();break;case 13:vt(fi);break;case 19:vt(fi);break;case 10:df(P.type._context);break;case 22:case 23:Lf()}T=T.return}if(Si=m,Fn=m=ka(m.current,null),si=Sr=g,gi=0,Yu=null,Pc=Ms=Go=0,ki=Pa=null,Ws!==null){for(g=0;g<Ws.length;g++)if(T=Ws[g],P=T.interleaved,P!==null){T.interleaved=null;var D=P.next,j=T.pending;if(j!==null){var re=j.next;j.next=D,P.next=re}T.pending=P}Ws=null}return m}function n0(m,g){do{var T=Fn;try{if(Lr(),hf.current=Wu,zp){for(var P=hi.memoizedState;P!==null;){var D=P.queue;D!==null&&(D.pending=null),P=P.next}zp=!1}if(mc=0,$i=Gi=hi=null,jo=!1,gc=0,yo.current=null,T===null||T.return===null){gi=1,Yu=g,Fn=null;break}e:{var j=m,re=T.return,ce=T,Me=g;if(g=si,ce.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ge=Me,gt=ce,Wt=gt.tag;if((gt.mode&1)===0&&(Wt===0||Wt===11||Wt===15)){var Rt=gt.alternate;Rt?(gt.updateQueue=Rt.updateQueue,gt.memoizedState=Rt.memoizedState,gt.lanes=Rt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var Qt=Hv(re);if(Qt!==null){Qt.flags&=-257,yc(Qt,re,ce,j,g),Qt.mode&1&&ba(j,Ge,g),g=Qt,Me=Ge;var ft=g.updateQueue;if(ft===null){var fr=new Set;fr.add(Me),g.updateQueue=fr}else ft.add(Me);break e}else{if((g&1)===0){ba(j,Ge,g),rm();break e}Me=Error(o(426))}}else if(ri&&ce.mode&1){var Rs=Hv(re);if(Rs!==null){(Rs.flags&65536)===0&&(Rs.flags|=256),yc(Rs,re,ce,j,g),Lp(Me);break e}}j=Me,gi!==4&&(gi=2),Pa===null?Pa=[j]:Pa.push(j),Me=jv(Me,ce),ce=re;do{switch(ce.tag){case 3:ce.flags|=65536,g&=-g,ce.lanes|=g;var xe=q_(ce,Me,g);Pp(ce,xe);break e;case 1:j=Me;var fe=ce.type,Ce=ce.stateNode;if((ce.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(xo===null||!xo.has(Ce)))){ce.flags|=65536,g&=-g,ce.lanes|=g;var ot=Xp(ce,j,g);Pp(ce,ot);break e}}ce=ce.return}while(ce!==null)}s0(T)}catch(wt){g=wt,Fn===T&&T!==null&&(Fn=T=T.return);continue}break}while(!0)}function i0(){var m=If.current;return If.current=Wu,m===null?Wu:m}function rm(){(gi===0||gi===3||gi===2)&&(gi=4),Si===null||(Go&268435455)===0&&(Ms&268435455)===0||dr(Si,si)}function Df(m,g){var T=Jt;Jt|=2;var P=i0();Si===m&&si===g||Ia(m,g);do try{Y_();break}catch(D){n0(m,D)}while(!0);if(Lr(),Jt=T,If.current=P,Fn!==null)throw Error(o(261));return Si=null,si=0,gi}function Y_(){for(;Fn!==null;)r0(Fn)}function K_(){for(;Fn!==null&&!fl();)r0(Fn)}function r0(m){var g=l0(m.alternate,m,Sr);m.memoizedProps=m.pendingProps,g===null?s0(m):Fn=g,yo.current=null}function s0(m){var g=m;do{var T=g.alternate;if(m=g.return,(g.flags&32768)===0){if(T=Jp(T,g,Sr),T!==null){Fn=T;return}}else{if(T=em(T,g),T!==null){T.flags&=32767,Fn=T;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{gi=6,Fn=null;return}}if(g=g.sibling,g!==null){Fn=g;return}Fn=g=m}while(g!==null);gi===0&&(gi=5)}function bo(m,g){var T=nn,P=Dn.transition;try{Dn.transition=null,nn=1,J_(m,g,T)}finally{Dn.transition=P,nn=T}return null}function J_(m,g,T){do qo();while($o!==null);if((Jt&6)!==0)throw Error(o(327));var P=m.finishedWork,D=m.finishedLanes;if(P===null)return null;if(m.finishedWork=null,m.finishedLanes=0,P===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var j=P.lanes|P.childLanes;if(bp(m,j),m===Si&&(Fn=Si=null,si=0),(P.subtreeFlags&2064)===0&&(P.flags&2064)===0||Ju||(Ju=!0,sm(Sp,function(){return qo(),null})),j=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||j){j=Dn.transition,Dn.transition=null;var re=nn;nn=1;var ce=Jt;Jt|=4,yo.current=null,Xv(m,P),ZC(m,P),te(m.containerInfo),m.current=P,Tf(P),YC(),Jt=ce,nn=re,Dn.transition=j}else m.current=P;if(Ju&&(Ju=!1,$o=m,Ic=D),j=m.pendingLanes,j===0&&(xo=null),lf(P.stateNode),ss(m,Ui()),g!==null)for(T=m.onRecoverableError,P=0;P<g.length;P++)T(g[P]);if(Ku)throw Ku=!1,m=Zn,Zn=null,m;return(Ic&1)!==0&&m.tag!==0&&qo(),j=m.pendingLanes,(j&1)!==0?m===Ra?kc++:(kc=0,Ra=m):kc=0,Hs(),null}function qo(){if($o!==null){var m=pa(Ic),g=Dn.transition,T=nn;try{if(Dn.transition=null,nn=16>m?16:m,$o===null)var P=!1;else{if(m=$o,$o=null,Ic=0,(Jt&6)!==0)throw Error(o(331));var D=Jt;for(Jt|=4,Ze=m.current;Ze!==null;){var j=Ze,re=j.child;if((Ze.flags&16)!==0){var ce=j.deletions;if(ce!==null){for(var Me=0;Me<ce.length;Me++){var Ge=ce[Me];for(Ze=Ge;Ze!==null;){var gt=Ze;switch(gt.tag){case 0:case 11:case 15:Ta(8,gt,j)}var Wt=gt.child;if(Wt!==null)Wt.return=gt,Ze=Wt;else for(;Ze!==null;){gt=Ze;var Rt=gt.sibling,Qt=gt.return;if(Yv(gt),gt===Ge){Ze=null;break}if(Rt!==null){Rt.return=Qt,Ze=Rt;break}Ze=Qt}}}var ft=j.alternate;if(ft!==null){var fr=ft.child;if(fr!==null){ft.child=null;do{var Rs=fr.sibling;fr.sibling=null,fr=Rs}while(fr!==null)}}Ze=j}}if((j.subtreeFlags&2064)!==0&&re!==null)re.return=j,Ze=re;else e:for(;Ze!==null;){if(j=Ze,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ta(9,j,j.return)}var xe=j.sibling;if(xe!==null){xe.return=j.return,Ze=xe;break e}Ze=j.return}}var fe=m.current;for(Ze=fe;Ze!==null;){re=Ze;var Ce=re.child;if((re.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=re,Ze=Ce;else e:for(re=fe;Ze!==null;){if(ce=Ze,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:cr(9,ce)}}catch(wt){Br(ce,ce.return,wt)}if(ce===re){Ze=null;break e}var ot=ce.sibling;if(ot!==null){ot.return=ce.return,Ze=ot;break e}Ze=ce.return}}if(Jt=D,Hs(),Vo&&typeof Vo.onPostCommitFiberRoot=="function")try{Vo.onPostCommitFiberRoot(af,m)}catch{}P=!0}return P}finally{nn=T,Dn.transition=g}}return!1}function Ff(m,g,T){g=jv(T,g),g=q_(m,g,1),hl(m,g),g=bn(),m=wl(m,1),m!==null&&(rc(m,1,g),ss(m,g))}function Br(m,g,T){if(m.tag===3)Ff(m,m,T);else for(;g!==null;){if(g.tag===3){Ff(g,m,T);break}else if(g.tag===1){var P=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(xo===null||!xo.has(P))){m=jv(T,m),m=Xp(g,m,1),hl(g,m),m=bn(),g=wl(g,1),g!==null&&(rc(g,1,m),ss(g,m));break}}g=g.return}}function o0(m,g,T){var P=m.pingCache;P!==null&&P.delete(g),g=bn(),m.pingedLanes|=m.suspendedLanes&T,Si===m&&(si&T)===T&&(gi===4||gi===3&&(si&130023424)===si&&500>Ui()-kf?Ia(m,0):Pc|=T),ss(m,g)}function a0(m,g){g===0&&((m.mode&1)===0?g=1:(g=_n,_n<<=1,(_n&130023424)===0&&(_n=4194304)));var T=bn();m=wl(m,g),m!==null&&(rc(m,g,T),ss(m,T))}function Q_(m){var g=m.memoizedState,T=0;g!==null&&(T=g.retryLane),a0(m,T)}function Z_(m,g){var T=0;switch(m.tag){case 13:var P=m.stateNode,D=m.memoizedState;D!==null&&(T=D.retryLane);break;case 19:P=m.stateNode;break;default:throw Error(o(314))}P!==null&&P.delete(g),a0(m,T)}var l0;l0=function(m,g,T){if(m!==null)if(m.memoizedProps!==g.pendingProps||Hn.current)Xi=!0;else{if((m.lanes&T)===0&&(g.flags&128)===0)return Xi=!1,Zp(m,g,T);Xi=(m.flags&131072)!==0}else Xi=!1,ri&&(g.flags&1048576)!==0&&U_(g,Np,g.index);switch(g.lanes=0,g.tag){case 2:var P=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var D=di(g,zt.current);Iu(g,T),D=Bu(null,g,P,m,D,T);var j=vl();return g.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,_i(P)?(j=!0,or(g)):j=!1,g.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,ku(g),D.updater=Ip,g.stateNode=D,D._reactInternals=g,Av(g,P,m,T),g=br(null,g,P,!0,j,T)):(g.tag=0,ri&&j&&Pv(g),mi(null,g,D,T),g=g.child),g;case 16:P=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,D=P._init,P=D(P._payload),g.type=P,D=g.tag=eT(P),m=ts(P,m),D){case 0:g=Ea(null,g,P,m,T);break e;case 1:g=_c(null,g,P,m,T);break e;case 11:g=Gn(null,g,P,m,T);break e;case 14:g=Un(null,g,P,ts(P.type,m),T);break e}throw Error(o(306,P,""))}return g;case 0:return P=g.type,D=g.pendingProps,D=g.elementType===P?D:ts(P,D),Ea(m,g,P,D,T);case 1:return P=g.type,D=g.pendingProps,D=g.elementType===P?D:ts(P,D),_c(m,g,P,D,T);case 3:e:{if(Sf(g),m===null)throw Error(o(387));P=g.pendingProps,j=g.memoizedState,D=j.element,Cv(m,g),Rp(g,P,null,T);var re=g.memoizedState;if(P=re.element,Re&&j.isDehydrated)if(j={element:P,isDehydrated:!1,cache:re.cache,transitions:re.transitions},g.updateQueue.baseState=j,g.memoizedState=j,g.flags&256){D=Error(o(423)),g=Gv(m,g,P,T,D);break e}else if(P!==D){D=Error(o(424)),g=Gv(m,g,P,T,D);break e}else for(Re&&(ar=gp(g.stateNode.containerInfo),Dr=g,ri=!0,qs=null,Ou=!1),T=j_(g,null,P,T),g.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Lu(),P===D){g=rs(m,g,T);break e}mi(m,g,P,T)}g=g.child}return g;case 5:return H_(g),m===null&&ml(g),P=g.type,D=g.pendingProps,j=m!==null?m.memoizedProps:null,re=D.children,Se(P,D)?re=null:j!==null&&Se(P,j)&&(g.flags|=32),Fr(m,g),mi(m,g,re,T),g.child;case 6:return m===null&&ml(g),null;case 13:return $v(m,g,T);case 4:return Dp(g,g.stateNode.containerInfo),P=g.pendingProps,m===null?g.child=xa(g,null,P,T):mi(m,g,P,T),g.child;case 11:return P=g.type,D=g.pendingProps,D=g.elementType===P?D:ts(P,D),Gn(m,g,P,D,T);case 7:return mi(m,g,g.pendingProps,T),g.child;case 8:return mi(m,g,g.pendingProps.children,T),g.child;case 12:return mi(m,g,g.pendingProps.children,T),g.child;case 10:e:{if(P=g.type._context,D=g.pendingProps,j=g.memoizedProps,re=D.value,lc(g,P,re),j!==null)if(Or(j.value,re)){if(j.children===D.children&&!Hn.current){g=rs(m,g,T);break e}}else for(j=g.child,j!==null&&(j.return=g);j!==null;){var ce=j.dependencies;if(ce!==null){re=j.child;for(var Me=ce.firstContext;Me!==null;){if(Me.context===P){if(j.tag===1){Me=ga(-1,T&-T),Me.tag=2;var Ge=j.updateQueue;if(Ge!==null){Ge=Ge.shared;var gt=Ge.pending;gt===null?Me.next=Me:(Me.next=gt.next,gt.next=Me),Ge.pending=Me}}j.lanes|=T,Me=j.alternate,Me!==null&&(Me.lanes|=T),cc(j.return,T,g),ce.lanes|=T;break}Me=Me.next}}else if(j.tag===10)re=j.type===g.type?null:j.child;else if(j.tag===18){if(re=j.return,re===null)throw Error(o(341));re.lanes|=T,ce=re.alternate,ce!==null&&(ce.lanes|=T),cc(re,T,g),re=j.sibling}else re=j.child;if(re!==null)re.return=j;else for(re=j;re!==null;){if(re===g){re=null;break}if(j=re.sibling,j!==null){j.return=re.return,re=j;break}re=re.return}j=re}mi(m,g,D.children,T),g=g.child}return g;case 9:return D=g.type,P=g.pendingProps.children,Iu(g,T),D=ns(D),P=P(D),g.flags|=1,mi(m,g,P,T),g.child;case 14:return P=g.type,D=ts(P,g.pendingProps),D=ts(P.type,D),Un(m,g,P,D,T);case 15:return wa(m,g,g.type,g.pendingProps,T);case 17:return P=g.type,D=g.pendingProps,D=g.elementType===P?D:ts(P,D),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,_i(P)?(m=!0,or(g)):m=!1,Iu(g,T),F_(g,P,D),Av(g,P,D,T),br(null,g,P,!0,m,T);case 19:return Sc(m,g,T);case 22:return lr(m,g,T)}throw Error(o(156,g.tag))};function sm(m,g){return sc(m,g)}function e1(m,g,T,P){this.tag=m,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(m,g,T,P){return new e1(m,g,T,P)}function om(m){return m=m.prototype,!(!m||!m.isReactComponent)}function eT(m){if(typeof m=="function")return om(m)?1:0;if(m!=null){if(m=m.$$typeof,m===b)return 11;if(m===w)return 14}return 2}function ka(m,g){var T=m.alternate;return T===null?(T=Ps(m.tag,g,m.key,m.mode),T.elementType=m.elementType,T.type=m.type,T.stateNode=m.stateNode,T.alternate=m,m.alternate=T):(T.pendingProps=g,T.type=m.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=m.flags&14680064,T.childLanes=m.childLanes,T.lanes=m.lanes,T.child=m.child,T.memoizedProps=m.memoizedProps,T.memoizedState=m.memoizedState,T.updateQueue=m.updateQueue,g=m.dependencies,T.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},T.sibling=m.sibling,T.index=m.index,T.ref=m.ref,T}function am(m,g,T,P,D,j){var re=2;if(P=m,typeof m=="function")om(m)&&(re=1);else if(typeof m=="string")re=5;else e:switch(m){case d:return Nc(T.children,D,j,g);case h:re=8,D|=8;break;case p:return m=Ps(12,T,g,D|2),m.elementType=p,m.lanes=j,m;case S:return m=Ps(13,T,g,D),m.elementType=S,m.lanes=j,m;case _:return m=Ps(19,T,g,D),m.elementType=_,m.lanes=j,m;case A:return zf(T,D,j,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case v:re=10;break e;case y:re=9;break e;case b:re=11;break e;case w:re=14;break e;case C:re=16,P=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return g=Ps(re,T,g,D),g.elementType=m,g.type=P,g.lanes=j,g}function Nc(m,g,T,P){return m=Ps(7,m,P,g),m.lanes=T,m}function zf(m,g,T,P){return m=Ps(22,m,P,g),m.elementType=A,m.lanes=T,m.stateNode={},m}function lm(m,g,T){return m=Ps(6,m,null,g),m.lanes=T,m}function cm(m,g,T){return g=Ps(4,m.children!==null?m.children:[],m.key,g),g.lanes=T,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function um(m,g,T,P,D){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=P,this.onRecoverableError=D,Re&&(this.mutableSourceEagerHydrationData=null)}function t1(m,g,T,P,D,j,re,ce,Me){return m=new um(m,g,T,ce,Me),g===1?(g=1,j===!0&&(g|=8)):g=0,j=Ps(3,null,null,g),m.current=j,j.stateNode=m,j.memoizedState={element:P,isDehydrated:T,cache:null,transitions:null},ku(j),m}function n1(m){if(!m)return cn;m=m._reactInternals;e:{if(N(m)!==m||m.tag!==1)throw Error(o(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(_i(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(m.tag===1){var T=m.type;if(_i(T))return Tu(m,T,g)}return g}function i1(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=H(g),m===null?null:m.stateNode}function Ks(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var T=m.retryLane;m.retryLane=T!==0&&T<g?T:g}}function Uf(m,g){Ks(m,g),(m=m.alternate)&&Ks(m,g)}function dm(m){return m=H(m),m===null?null:m.stateNode}function r1(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=bn();wr(m,134217728,g),Uf(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=bn(),T=_o(m);wr(m,T,g),Uf(m,T)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var T=Pu(g.pendingLanes);T!==0&&(Bo(g,T|1),ss(g,Ui()),(Jt&6)===0&&(Rc(),Hs()))}break;case 13:var P=bn();Qu(function(){return wr(m,1,P)}),Uf(m,1)}},n.batchedUpdates=function(m,g){var T=Jt;Jt|=1;try{return m(g)}finally{Jt=T,Jt===0&&(Rc(),Ep&&Hs())}},n.createComponentSelector=function(m){return{$$typeof:Af,value:m}},n.createContainer=function(m,g,T,P,D,j,re){return t1(m,g,!1,null,T,P,D,j,re)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Cc,value:m}},n.createHydrationContainer=function(m,g,T,P,D,j,re,ce,Me){return m=t1(T,P,!0,m,D,j,re,ce,Me),m.context=n1(null),T=m.current,P=bn(),D=_o(T),j=ga(P,D),j.callback=g??null,hl(T,j),m.current.lanes=D,rc(m,D,P),ss(m,P),m},n.createPortal=function(m,g,T){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:P==null?null:""+P,children:m,containerInfo:g,implementation:T}},n.createRoleSelector=function(m){return{$$typeof:Tc,value:m}},n.createTestNameSelector=function(m){return{$$typeof:Ma,value:m}},n.createTextSelector=function(m){return{$$typeof:Xu,value:m}},n.deferredUpdates=function(m){var g=nn,T=Dn.transition;try{return Dn.transition=null,nn=16,m()}finally{nn=g,Dn.transition=T}},n.discreteUpdates=function(m,g,T,P,D){var j=nn,re=Dn.transition;try{return Dn.transition=null,nn=1,m(g,T,P,D)}finally{nn=j,Dn.transition=re,Jt===0&&Rc()}},n.findAllNodes=Aa,n.findBoundingRects=function(m,g){if(!ie)throw Error(o(363));g=Aa(m,g),m=[];for(var T=0;T<g.length;T++)m.push(_e(g[T]));for(g=m.length-1;0<g;g--){T=m[g];for(var P=T.x,D=P+T.width,j=T.y,re=j+T.height,ce=g-1;0<=ce;ce--)if(g!==ce){var Me=m[ce],Ge=Me.x,gt=Ge+Me.width,Wt=Me.y,Rt=Wt+Me.height;if(P>=Ge&&j>=Wt&&D<=gt&&re<=Rt){m.splice(g,1);break}else if(P!==Ge||T.width!==Me.width||Rt<j||Wt>re){if(!(j!==Wt||T.height!==Me.height||gt<P||Ge>D)){Ge>P&&(Me.width+=Ge-P,Me.x=P),gt<D&&(Me.width=D-Ge),m.splice(g,1);break}}else{Wt>j&&(Me.height+=Wt-j,Me.y=j),Rt<re&&(Me.height=re-Wt),m.splice(g,1);break}}}return m},n.findHostInstance=i1,n.findHostInstanceWithNoPortals=function(m){return m=B(m),m=m!==null?Z(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return i1(m)},n.flushControlled=function(m){var g=Jt;Jt|=1;var T=Dn.transition,P=nn;try{Dn.transition=null,nn=1,m()}finally{nn=P,Dn.transition=T,Jt=g,Jt===0&&(Rc(),Hs())}},n.flushPassiveEffects=qo,n.flushSync=Qu,n.focusWithin=function(m,g){if(!ie)throw Error(o(363));for(m=Pf(m),g=Ts(m,g),g=Array.from(g),m=0;m<g.length;){var T=g[m++];if(!Ie(T)){if(T.tag===5&&Mt(T.stateNode))return!0;for(T=T.child;T!==null;)g.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return nn},n.getFindAllNodesFailureDescription=function(m,g){if(!ie)throw Error(o(363));var T=0,P=[];m=[Pf(m),0];for(var D=0;D<m.length;){var j=m[D++],re=m[D++],ce=g[re];if((j.tag!==5||!Ie(j))&&(Rf(j,ce)&&(P.push(bl(ce)),re++,re>T&&(T=re)),re<g.length))for(j=j.child;j!==null;)m.push(j,re),j=j.sibling}if(T<g.length){for(m=[];T<g.length;T++)m.push(bl(g[T]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return K(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:dm,findFiberByHostInstance:m.findFiberByHostInstance||r1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{af=g.inject(m),Vo=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,T,P){if(!ie)throw Error(o(363));m=Aa(m,g);var D=it(m,T,P).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(m,g){var T=g._getVersion;T=T(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,T]:m.mutableSourceEagerHydrationData.push(g,T)},n.runWithPriority=function(m,g){var T=nn;try{return nn=m,g()}finally{nn=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,T,P){var D=g.current,j=bn(),re=_o(D);return T=n1(T),g.context===null?g.context=T:g.pendingContext=T,g=ga(j,re),g.payload={element:m},P=P===void 0?null:P,P!==null&&(g.callback=P),hl(D,g),m=wr(D,re,j),m!==null&&Ap(m,D,re),re},n}),sA}var wF;function Vwe(){return wF||(wF=1,nA.exports=Bwe()),nA.exports}var jwe=Vwe();const Hwe=Bx(jwe);var EF=pG();const Qk={},mG=t=>void Object.assign(Qk,t);function Wwe(t,e){function n(d,{args:h=[],attach:p,...v},y){let b=`${d[0].toUpperCase()}${d.slice(1)}`,S;if(d==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=v.object;S=Qm(_,{type:d,root:y,attach:p,primitive:!0})}else{const _=Qk[b];if(!_)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");S=Qm(new _(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return S.__r3f.attach===void 0&&(S.isBufferGeometry?S.__r3f.attach="geometry":S.isMaterial&&(S.__r3f.attach="material")),b!=="inject"&&lA(S,v),S}function i(d,h){let p=!1;if(h){var v,y;(v=h.__r3f)!=null&&v.attach?aA(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||Qm(h,{}),h.__r3f.parent=d,xP(h),Zm(h)}}function r(d,h,p){let v=!1;if(h){var y,b;if((y=h.__r3f)!=null&&y.attach)aA(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const S=d.children.filter(w=>w!==h),_=S.indexOf(p);d.children=[...S.slice(0,_),h,...S.slice(_)],v=!0}v||(b=d.__r3f)==null||b.objects.push(h),h.__r3f||Qm(h,{}),h.__r3f.parent=d,xP(h),Zm(h)}}function s(d,h,p=!1){d&&[...d].forEach(v=>o(h,v,p))}function o(d,h,p){if(h){var v,y,b;if(h.__r3f&&(h.__r3f.parent=null),(v=d.__r3f)!=null&&v.objects&&(d.__r3f.objects=d.__r3f.objects.filter(A=>A!==h)),(y=h.__r3f)!=null&&y.attach)PF(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var S;d.remove(h),(S=h.__r3f)!=null&&S.root&&Qwe(xS(h),h)}const w=(b=h.__r3f)==null?void 0:b.primitive,C=!w&&(p===void 0?h.dispose!==null:p);if(!w){var _;s((_=h.__r3f)==null?void 0:_.objects,h,C),s(h.children,h,C)}if(delete h.__r3f,C&&h.dispose&&h.type!=="Scene"){const A=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?EF.unstable_scheduleCallback(EF.unstable_IdlePriority,A):A()}Zm(d)}}function a(d,h,p,v){var y;const b=(y=d.__r3f)==null?void 0:y.parent;if(!b)return;const S=n(h,p,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&i(S,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>i(S,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(b,d),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),i(b,S),S.raycast&&S.__r3f.eventCount&&xS(S).getState().internal.interaction.push(S),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=S,_.ref&&(typeof _.ref=="function"?_.ref(S):_.ref.current=S))})}const l=()=>{};return{reconciler:Hwe({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const v=d.getState().scene;v.__r3f&&r(v,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,v){var y;if(((y=d==null?void 0:d.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==d)return[!0];{const{args:S=[],children:_,...w}=v,{args:C=[],children:A,...R}=p;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((L,z)=>L!==C[z]))return[!0];const O=SG(d,w,R,!0);return O.changes.length?[!1,O]:null}},commitUpdate(d,[h,p],v,y,b,S){h?a(d,v,b,S):lA(d,p)},commitMount(d,h,p,v){var y;const b=(y=d.__r3f)!=null?y:{};d.raycast&&b.handlers&&b.eventCount&&xS(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Qm(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:v}=(h=d.__r3f)!=null?h:{};p&&v&&PF(v,d,p),d.isObject3D&&(d.visible=!1),Zm(d)},unhideInstance(d,h){var p;const{attach:v,parent:y}=(p=d.__r3f)!=null?p:{};v&&y&&aA(y,d,v),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Zm(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ug.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&li.fun(performance.now)?performance.now:li.fun(Date.now)?Date.now:()=>0,scheduleTimeout:li.fun(setTimeout)?setTimeout:void 0,cancelTimeout:li.fun(clearTimeout)?clearTimeout:void 0}),applyProps:lA}}var CF,TF;const oA=t=>"colorSpace"in t||"outputColorSpace"in t,gG=()=>{var t;return(t=Qk.ColorManagement)!=null?t:null},vG=t=>t&&t.isOrthographicCamera,Gwe=t=>t&&t.hasOwnProperty("current"),S_=typeof window<"u"&&((CF=window.document)!=null&&CF.createElement||((TF=window.navigator)==null?void 0:TF.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function yG(t){const e=U.useRef(t);return S_(()=>void(e.current=t),[t]),e}function $we({set:t}){return S_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class xG extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}xG.getDerivedStateFromError=()=>({error:!0});const _G="__default",MF=new Map,qwe=t=>t&&!!t.memoized&&!!t.changes;function bG(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const j0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function xS(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const li={obj:t=>t===Object(t)&&!li.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(li.str(t)||li.num(t)||li.boo(t))return t===e;const s=li.obj(t);if(s&&i==="reference")return t===e;const o=li.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!li.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(li.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Xwe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Ywe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Qm(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function yP(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const AF=/-\d+$/;function aA(t,e,n){if(li.str(n)){if(AF.test(n)){const s=n.replace(AF,""),{target:o,key:a}=yP(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=yP(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function PF(t,e,n){var i,r;if(li.str(n)){const{target:s,key:o}=yP(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function SG(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const d=t.__r3f,h=Object.entries(r),p=[];if(c){const y=Object.keys(l);for(let b=0;b<y.length;b++)r.hasOwnProperty(y[b])||h.unshift([y[b],_G+"remove"])}h.forEach(([y,b])=>{var S;if((S=t.__r3f)!=null&&S.primitive&&y==="object"||li.equ(b,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,b,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),p.push([y,b,!1,_]);for(const w in r){const C=r[w];w.startsWith(`${y}-`)&&p.push([w,C,!1,w.split("-")])}});const v={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:p}}function lA(t,e){var n;const i=t.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=qwe(e)?e:SG(t,e),l=i==null?void 0:i.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[v,y,b,S]=a[p];if(oA(t)){const A="srgb",R="srgb-linear";v==="encoding"?(v="colorSpace",y=y===3001?A:R):v==="outputEncoding"&&(v="outputColorSpace",y=y===3001?A:R)}let _=t,w=_[v];if(S.length&&(w=S.reduce((C,A)=>C[A],t),!(w&&w.set))){const[C,...A]=S.reverse();_=A.reverse().reduce((R,O)=>R[O],t),v=C}if(y===_G+"remove")if(_.constructor){let C=MF.get(_.constructor);C||(C=new _.constructor,MF.set(_.constructor,C)),y=C[v]}else y=0;if(b&&i)y?i.handlers[v]=y:delete i.handlers[v],i.eventCount=Object.keys(i.handlers).length;else if(w&&w.set&&(w.copy||w instanceof kh)){if(Array.isArray(y))w.fromArray?w.fromArray(y):w.set(...y);else if(w.copy&&y&&y.constructor&&w.constructor===y.constructor)w.copy(y);else if(y!==void 0){var c;const C=(c=w)==null?void 0:c.isColor;!C&&w.setScalar?w.setScalar(y):w instanceof kh&&y instanceof kh?w.mask=y.mask:w.set(y),!gG()&&s&&!s.linear&&C&&w.convertSRGBToLinear()}}else{var d;if(_[v]=y,(d=_[v])!=null&&d.isTexture&&_[v].format===ms&&_[v].type===nl&&s){const C=_[v];oA(C)&&oA(s.gl)?C.colorSpace=s.gl.outputColorSpace:C.encoding=s.gl.outputEncoding}}Zm(t)}if(i&&i.parent&&t.raycast&&l!==i.eventCount){const p=xS(t).getState().internal,v=p.interaction.indexOf(t);v>-1&&p.interaction.splice(v,1),i.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&xP(t),t}function Zm(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function xP(t){t.onUpdate==null||t.onUpdate(t)}function Kwe(t,e){t.manual||(vG(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Ob(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Jwe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ug.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ug.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ug.ContinuousEventPriority;default:return ug.DefaultEventPriority}}function wG(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function Qwe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{wG(n.capturedMap,e,i,r)})}function Zwe(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=t.getState(),h=new Set,p=[],v=c?c(d.internal.interaction):d.internal.interaction;for(let _=0;_<v.length;_++){const w=j0(v[_]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(_){const w=j0(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var C;w.events.compute==null||w.events.compute(l,w,(C=w.previousRoot)==null?void 0:C.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let b=v.flatMap(y).sort((_,w)=>{const C=j0(_.object),A=j0(w.object);return!C||!A?_.distance-w.distance:A.events.priority-C.events.priority||_.distance-w.distance}).filter(_=>{const w=Ob(_);return h.has(w)?!1:(h.add(w),!0)});d.events.filter&&(b=d.events.filter(b,d));for(const _ of b){let w=_.object;for(;w;){var S;(S=w.__r3f)!=null&&S.eventCount&&p.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let _ of d.internal.capturedMap.get(l.pointerId).values())h.has(Ob(_.intersection))||p.push(_.intersection);return p}function r(l,c,d,h){const p=t.getState();if(l.length){const v={stopped:!1};for(const y of l){const b=j0(y.object)||p,{raycaster:S,pointer:_,camera:w,internal:C}=b,A=new ne(_.x,_.y,0).unproject(w),R=k=>{var B,H;return(B=(H=C.capturedMap.get(k))==null?void 0:H.has(y.eventObject))!=null?B:!1},O=k=>{const B={intersection:y,target:c.target};C.capturedMap.has(k)?C.capturedMap.get(k).set(y.eventObject,B):C.capturedMap.set(k,new Map([[y.eventObject,B]])),c.target.setPointerCapture(k)},L=k=>{const B=C.capturedMap.get(k);B&&wG(C.capturedMap,y.eventObject,B,k)};let z={};for(let k in c){let B=c[k];typeof B!="function"&&(z[k]=B)}let N={...y,...z,pointer:_,intersections:l,stopped:v.stopped,delta:d,unprojectedPoint:A,ray:S.ray,camera:w,stopPropagation(){const k="pointerId"in c&&C.capturedMap.get(c.pointerId);if((!k||k.has(y.eventObject))&&(N.stopped=v.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(B=>B.eventObject===y.eventObject))){const B=l.slice(0,l.indexOf(y));s([...B,y])}},target:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:L},currentTarget:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:L},nativeEvent:c};if(h(N),v.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,v=p==null?void 0:p.handlers;if(c.hovered.delete(Ob(d)),p!=null&&p.eventCount){const y={...d,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=d;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=i(d,v?n:void 0),_=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=S.map(C=>C.eventObject)),y&&!S.length&&_<=2&&(o(d,p.interaction),h&&h(d)),v&&s(S);function w(C){const A=C.eventObject,R=A.__r3f,O=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(v){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const L=Ob(C),z=p.hovered.get(L);z?z.stopped&&C.stopPropagation():(p.hovered.set(L,C),O.onPointerOver==null||O.onPointerOver(C),O.onPointerEnter==null||O.onPointerEnter(C))}O.onPointerMove==null||O.onPointerMove(C)}else{const L=O[l];L?(!y||p.initialHits.includes(A))&&(o(d,p.interaction.filter(z=>!p.initialHits.includes(z))),L(C)):y&&p.initialHits.includes(A)&&o(d,p.interaction.filter(z=>!p.initialHits.includes(z)))}}r(S,d,_,w)}}return{handlePointer:a}}const EG=t=>!!(t!=null&&t.render),CG=U.createContext(null),eEe=(t,e)=>{const n=Owe((a,l)=>{const c=new ne,d=new ne,h=new ne;function p(_=l().camera,w=d,C=l().size){const{width:A,height:R,top:O,left:L}=C,z=A/R;w.isVector3?h.copy(w):h.set(...w);const N=_.getWorldPosition(c).distanceTo(h);if(vG(_))return{width:A/_.zoom,height:R/_.zoom,top:O,left:L,factor:1,distance:N,aspect:z};{const k=_.fov*Math.PI/180,B=2*Math.tan(k/2)*N,H=B*(A/R);return{width:H,height:B,top:O,left:L,factor:A/H,distance:N,aspect:z}}}let v;const y=_=>a(w=>({performance:{...w.performance,current:_}})),b=new De;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,w)=>e(_,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new qk,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();v&&clearTimeout(v),_.performance.current!==_.performance.min&&y(_.performance.min),v=setTimeout(()=>y(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,C,A,R)=>{const O=l().camera,L={width:_,height:w,top:A||0,left:R||0,updateStyle:C};a(z=>({size:L,viewport:{...z.viewport,...p(O,d,L)}}))},setDpr:_=>a(w=>{const C=bG(_);return{viewport:{...w.viewport,dpr:C,initialDpr:w.viewport.initialDpr||C}}}),setFrameloop:(_="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,w,C)=>{const A=l().internal;return A.priority=A.priority+(w>0?1:0),A.subscribers.push({ref:_,priority:w,store:C}),A.subscribers=A.subscribers.sort((R,O)=>R.priority-O.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(O=>O.ref!==_))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,Kwe(a,l),d.setPixelRatio(c.dpr);const v=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,v)}a!==o&&(o=a,h(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Lb,tEe=new Set,nEe=new Set,iEe=new Set;function cA(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function H0(t,e){switch(t){case"before":return cA(tEe,e);case"after":return cA(nEe,e);case"tail":return cA(iEe,e)}}let uA,dA;function fA(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),uA=e.internal.subscribers,Lb=0;Lb<uA.length;Lb++)dA=uA[Lb],dA.ref.current(dA.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function rEe(t){let e=!1,n=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,H0("before",c),n=!0;for(const h of t.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=fA(c,s))}if(n=!1,H0("after",c),i===0)return H0("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,d=1){var h;if(!c)return t.forEach(p=>a(p.store.getState(),d));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,h,p){if(d&&H0("before",c),h)fA(c,h,p);else for(const v of t.values())fA(c,v.store.getState());d&&H0("after",c)}return{loop:o,invalidate:a,advance:l}}function TG(){const t=U.useContext(CG);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function MG(t=n=>n,e){return TG()(t,e)}function AG(t,e=0){const n=TG(),i=n.getState().internal.subscribe,r=yG(t);return S_(()=>i(r,e,n),[e,i,n]),null}const RF=new WeakMap;function PG(t,e){return function(n,...i){let r=RF.get(n);return r||(r=new n,RF.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Xwe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function w_(t,e,n,i){const r=Array.isArray(e)?e:[e],s=Dwe(PG(n,i),[t,...r],{equal:li.equ});return Array.isArray(e)?s:s[0]}w_.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return Fwe(PG(n),[t,...i])};w_.clear=function(t,e){const n=Array.isArray(e)?e:[e];return zwe([t,...n])};const Hg=new Map,{invalidate:IF,advance:kF}=rEe(Hg),{reconciler:Yw,applyProps:Hm}=Wwe(Hg,Jwe),Wm={objects:"shallow",strict:!1},sEe=(t,e)=>{const n=typeof t=="function"?t(e):t;return EG(n)?n:new g9({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function oEe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function aEe(t){const e=Hg.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||eEe(IF,kF),o=n||Yw.createContainer(s,ug.ConcurrentRoot,null,!1,null,"",r,null);e||Hg.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:v,events:y,onCreated:b,shadows:S=!1,linear:_=!1,flat:w=!1,legacy:C=!1,orthographic:A=!1,frameloop:R="always",dpr:O=[1,2],performance:L,raycaster:z,camera:N,onPointerMissed:k}=d,B=s.getState(),H=B.gl;B.gl||B.set({gl:H=sEe(h,t)});let J=B.raycaster;J||B.set({raycaster:J=new cG});const{params:Z,...$}=z||{};if(li.equ($,J,Wm)||Hm(J,{...$}),li.equ(Z,J.params,Wm)||Hm(J,{params:{...J.params,...Z}}),!B.camera||B.camera===c&&!li.equ(c,N,Wm)){c=N;const te=N instanceof h_,Y=te?N:A?new g_(0,0,0,0,.1,1e3):new Rr(75,0,.1,1e3);te||(Y.position.z=5,N&&(Hm(Y,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(Y.manual=!0,Y.updateProjectionMatrix())),!B.camera&&!(N!=null&&N.rotation)&&Y.lookAt(0,0,0)),B.set({camera:Y}),J.camera=Y}if(!B.scene){let te;v!=null&&v.isScene?te=v:(te=new Rk,v&&Hm(te,v)),B.set({scene:Qm(te)})}if(!B.xr){var K;const te=(ke,he)=>{const Se=s.getState();Se.frameloop!=="never"&&kF(ke,!0,Se,he)},Y=()=>{const ke=s.getState();ke.gl.xr.enabled=ke.gl.xr.isPresenting,ke.gl.xr.setAnimationLoop(ke.gl.xr.isPresenting?te:null),ke.gl.xr.isPresenting||IF(ke)},oe={connect(){const ke=s.getState().gl;ke.xr.addEventListener("sessionstart",Y),ke.xr.addEventListener("sessionend",Y)},disconnect(){const ke=s.getState().gl;ke.xr.removeEventListener("sessionstart",Y),ke.xr.removeEventListener("sessionend",Y)}};typeof((K=H.xr)==null?void 0:K.addEventListener)=="function"&&oe.connect(),B.set({xr:oe})}if(H.shadowMap){const te=H.shadowMap.enabled,Y=H.shadowMap.type;if(H.shadowMap.enabled=!!S,li.boo(S))H.shadowMap.type=Ey;else if(li.str(S)){var W;const oe={basic:o7,percentage:JE,soft:Ey,variance:ja};H.shadowMap.type=(W=oe[S])!=null?W:Ey}else li.obj(S)&&Object.assign(H.shadowMap,S);(te!==H.shadowMap.enabled||Y!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const V=gG();V&&("enabled"in V?V.enabled=!C:"legacyMode"in V&&(V.legacyMode=C)),l||Hm(H,{outputEncoding:_?3e3:3001,toneMapping:w?Vl:lk}),B.legacy!==C&&B.set(()=>({legacy:C})),B.linear!==_&&B.set(()=>({linear:_})),B.flat!==w&&B.set(()=>({flat:w})),h&&!li.fun(h)&&!EG(h)&&!li.equ(h,H,Wm)&&Hm(H,h),y&&!B.events.handlers&&B.set({events:y(s)});const X=oEe(t,p);return li.equ(X,B.size,Wm)||B.setSize(X.width,X.height,X.updateStyle,X.top,X.left),O&&B.viewport.dpr!==bG(O)&&B.setDpr(O),B.frameloop!==R&&B.setFrameloop(R),B.onPointerMissed||B.set({onPointerMissed:k}),L&&!li.equ(L,B.performance,Wm)&&B.set(te=>({performance:{...te.performance,...L}})),a=b,l=!0,this},render(d){return l||this.configure(),Yw.updateContainer(E.jsx(lEe,{store:s,children:d,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){RG(t)}}}function lEe({store:t,children:e,onCreated:n,rootElement:i}){return S_(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),E.jsx(CG.Provider,{value:t,children:e})}function RG(t,e){const n=Hg.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),Yw.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Ywe(r),Hg.delete(t)}catch{}},500)})}}Yw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});const hA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function cEe(t){const{handlePointer:e}=Zwe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(hA).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=hA[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=hA[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function NF(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function uEe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=U.useRef(!1);U.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,v]=U.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:w,top:C,width:A,height:R,bottom:O,right:L,x:z,y:N}=a.current.element.getBoundingClientRect(),k={left:w,top:C,width:A,height:R,bottom:O,right:L,x:z,y:N};a.current.element instanceof HTMLElement&&i&&(k.height=a.current.element.offsetHeight,k.width=a.current.element.offsetWidth),Object.freeze(k),d.current&&!pEe(a.current.lastBounds,k)&&o(a.current.lastBounds=k)};return[_,c?NF(_,c):_,l?NF(_,l):_]},[o,i,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new r(v),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const S=_=>{!_||_===a.current.element||(y(),a.current.element=_,a.current.scrollContainers=IG(_),b())};return fEe(v,!!e),dEe(p),U.useEffect(()=>{y(),b()},[e,v,p]),U.useEffect(()=>y,[]),[S,s,h]}function dEe(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function fEe(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function IG(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...IG(t.parentElement)]}const hEe=["x","y","top","bottom","left","right","width","height"],pEe=(t,e)=>hEe.every(n=>t[n]===e[n]);var mEe=Object.defineProperty,gEe=Object.defineProperties,vEe=Object.getOwnPropertyDescriptors,OF=Object.getOwnPropertySymbols,yEe=Object.prototype.hasOwnProperty,xEe=Object.prototype.propertyIsEnumerable,LF=(t,e,n)=>e in t?mEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DF=(t,e)=>{for(var n in e||(e={}))yEe.call(e,n)&&LF(t,n,e[n]);if(OF)for(var n of OF(e))xEe.call(e,n)&&LF(t,n,e[n]);return t},_Ee=(t,e)=>gEe(t,vEe(e)),FF,zF;typeof window<"u"&&((FF=window.document)!=null&&FF.createElement||((zF=window.navigator)==null?void 0:zF.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function kG(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=kG(i,e,n);if(r)return r;i=i.sibling}}function NG(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const UF=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=UF;return}return UF.apply(this,arguments)};const Zk=NG(U.createContext(null));class OG extends U.Component{render(){return U.createElement(Zk.Provider,{value:this._reactInternals},this.props.children)}}function bEe(){const t=U.useContext(Zk);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=kG(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function SEe(){const t=bEe(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==Zk&&!e.has(r)&&e.set(r,U.useContext(NG(r)))}n=n.return}return e}function wEe(){const t=SEe();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>U.createElement(e,null,U.createElement(n.Provider,_Ee(DF({},i),{value:t.get(n)}))),e=>U.createElement(OG,DF({},e))),[t])}const EEe=U.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=cEe,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:v,frameloop:y,dpr:b,performance:S,raycaster:_,camera:w,scene:C,onPointerMissed:A,onCreated:R,...O},L){U.useMemo(()=>mG(Pwe),[]);const z=wEe(),[N,k]=uEe({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=U.useRef(null),H=U.useRef(null);U.useImperativeHandle(L,()=>B.current);const J=yG(A),[Z,$]=U.useState(!1),[K,W]=U.useState(!1);if(Z)throw Z;if(K)throw K;const V=U.useRef(null);S_(()=>{const te=B.current;k.width>0&&k.height>0&&te&&(V.current||(V.current=aEe(te)),V.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:v,frameloop:y,dpr:b,performance:S,raycaster:_,camera:w,scene:C,size:k,onPointerMissed:(...Y)=>J.current==null?void 0:J.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(a?Gwe(a)?a.current:a:H.current),l&&Y.setEvents({compute:(oe,ke)=>{const he=oe[l+"X"],Se=oe[l+"Y"];ke.pointer.set(he/ke.size.width*2-1,-(Se/ke.size.height)*2+1),ke.raycaster.setFromCamera(ke.pointer,ke.camera)}}),R==null||R(Y)}}),V.current.render(E.jsx(z,{children:E.jsx(xG,{set:W,children:E.jsx(U.Suspense,{fallback:E.jsx($we,{set:$}),children:e??null})})})))}),U.useEffect(()=>{const te=B.current;if(te)return()=>RG(te)},[]);const X=a?"none":"auto";return E.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...r},...O,children:E.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:E.jsx("canvas",{ref:B,style:{display:"block"},children:n})})})}),CEe=U.forwardRef(function(e,n){return E.jsx(OG,{children:E.jsx(EEe,{...e,ref:n})})});function Oy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function TEe(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function MEe(t){if(Array.isArray(t))return _P(t)}function AEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(t){return MEe(t)||AEe(t)||TEe(t)||PEe()}new De;new De;function IEe(t,e,n){return Math.max(e,Math.min(n,t))}function kEe(t,e){return IEe(t-Math.floor(t/e)*e,0,e)}function NEe(t,e){var n=kEe(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function LG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Zo=function t(e,n,i){var r=this;LG(this,t),Oy(this,"dot2",function(s,o){return r.x*s+r.y*o}),Oy(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},OEe=[new Zo(1,1,0),new Zo(-1,1,0),new Zo(1,-1,0),new Zo(-1,-1,0),new Zo(1,0,1),new Zo(-1,0,1),new Zo(1,0,-1),new Zo(-1,0,-1),new Zo(0,1,1),new Zo(0,-1,1),new Zo(0,1,-1),new Zo(0,-1,-1)],BF=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],VF=new Array(512),jF=new Array(512),LEe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=BF[n]^e&255:i=BF[n]^e>>8&255,VF[n]=VF[n+256]=i,jF[n]=jF[n+256]=OEe[i%12]}};LEe(0);function DEe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function HF(t){var e=DEe(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var FEe=function t(e){var n=this;LG(this,t),Oy(this,"seed",0),Oy(this,"init",function(i){n.seed=i,n.value=HF(i)}),Oy(this,"value",HF(this.seed)),this.init(e)};new FEe(Math.random());var zEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*r)/n)},DG=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},UEe=function(e){return e},BEe={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},VEe={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},jEe={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},HEe={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},WEe={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},GEe={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function gr(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:DG,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;i=Math.max(1e-4,i);var c=2/i,d=o(c*r),h=t[e]-n,p=n,v=s*i;h=Math.min(Math.max(h,-v),v),n=t[e]-h;var y=(t.__damp[l]+c*h)*r;t.__damp[l]=(t.__damp[l]-c*y)*d;var b=n+(h+y)*d;return p-t[e]>0==b>p&&(b=p,t.__damp[l]=(b-p)/r),t[e]=b,!0}var $Ee=function(e){return e&&e.isCamera},qEe=function(e){return e&&e.isLight},W0=new ne,WF=new vr,GF=new vr,G0=new Ot,pA=new ne;function XEe(t,e,n,i,r,s,o){typeof e=="number"?W0.setScalar(e):Array.isArray(e)?W0.set(e[0],e[1],e[2]):W0.copy(e);var a=t.parent;t.updateWorldMatrix(!0,!1),pA.setFromMatrixPosition(t.matrixWorld),$Ee(t)||qEe(t)?G0.lookAt(pA,W0,t.up):G0.lookAt(W0,pA,t.up),Kw(t.quaternion,GF.setFromRotationMatrix(G0),n,i,r,s,o),a&&(G0.extractRotation(a.matrixWorld),WF.setFromRotationMatrix(G0),Kw(t.quaternion,GF.copy(t.quaternion).premultiply(WF.invert()),n,i,r,s,o))}function Tg(t,e,n,i,r,s,o,a){return gr(t,e,t[e]+NEe(t[e],n),i,r,s,o,a)}var $0=new De,$F,qF;function YEe(t,e,n,i,r,s,o){return typeof e=="number"?$0.setScalar(e):Array.isArray(e)?$0.set(e[0],e[1]):$0.copy(e),$F=gr(t,"x",$0.x,n,i,r,s,o),qF=gr(t,"y",$0.y,n,i,r,s,o),$F||qF}var Gm=new ne,XF,YF,KF;function bP(t,e,n,i,r,s,o){return typeof e=="number"?Gm.setScalar(e):Array.isArray(e)?Gm.set(e[0],e[1],e[2]):Gm.copy(e),XF=gr(t,"x",Gm.x,n,i,r,s,o),YF=gr(t,"y",Gm.y,n,i,r,s,o),KF=gr(t,"z",Gm.z,n,i,r,s,o),XF||YF||KF}var ch=new Sn,JF,QF,ZF,e5;function KEe(t,e,n,i,r,s,o){return typeof e=="number"?ch.setScalar(e):Array.isArray(e)?ch.set(e[0],e[1],e[2],e[3]):ch.copy(e),JF=gr(t,"x",ch.x,n,i,r,s,o),QF=gr(t,"y",ch.y,n,i,r,s,o),ZF=gr(t,"z",ch.z,n,i,r,s,o),e5=gr(t,"w",ch.w,n,i,r,s,o),JF||QF||ZF||e5}var q0=new ao,t5,n5,i5;function JEe(t,e,n,i,r,s,o){return Array.isArray(e)?q0.set(e[0],e[1],e[2],e[3]):q0.copy(e),t5=Tg(t,"x",q0.x,n,i,r,s,o),n5=Tg(t,"y",q0.y,n,i,r,s,o),i5=Tg(t,"z",q0.z,n,i,r,s,o),t5||n5||i5}var $m=new ht,r5,s5,o5;function QEe(t,e,n,i,r,s,o){return e instanceof ht?$m.copy(e):Array.isArray(e)?$m.setRGB(e[0],e[1],e[2]):$m.set(e),r5=gr(t,"r",$m.r,n,i,r,s,o),s5=gr(t,"g",$m.g,n,i,r,s,o),o5=gr(t,"b",$m.b,n,i,r,s,o),r5||s5||o5}var Ba=new vr,Hc=new Sn,a5=new Sn,X0=new Sn,l5,c5,u5,d5;function Kw(t,e,n,i,r,s,o){var a=t;Array.isArray(e)?Ba.set(e[0],e[1],e[2],e[3]):Ba.copy(e);var l=t.dot(Ba)>0?1:-1;return Ba.x*=l,Ba.y*=l,Ba.z*=l,Ba.w*=l,l5=gr(t,"x",Ba.x,n,i,r,s,o),c5=gr(t,"y",Ba.y,n,i,r,s,o),u5=gr(t,"z",Ba.z,n,i,r,s,o),d5=gr(t,"w",Ba.w,n,i,r,s,o),Hc.set(t.x,t.y,t.z,t.w).normalize(),a5.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),X0.copy(Hc).multiplyScalar(a5.dot(Hc)/Hc.dot(Hc)),a.__damp.velocity_x-=X0.x,a.__damp.velocity_y-=X0.y,a.__damp.velocity_z-=X0.z,a.__damp.velocity_w-=X0.w,t.set(Hc.x,Hc.y,Hc.z,Hc.w),l5||c5||u5||d5}var Y0=new uG,f5,h5,p5;function ZEe(t,e,n,i,r,s,o){return Array.isArray(e)?Y0.set(e[0],e[1],e[2]):Y0.copy(e),f5=gr(t,"radius",Y0.radius,n,i,r,s,o),h5=Tg(t,"phi",Y0.phi,n,i,r,s,o),p5=Tg(t,"theta",Y0.theta,n,i,r,s,o),f5||h5||p5}var Db=new Ot,m5=new ne,g5=new vr,v5=new ne,y5,x5,_5;function eCe(t,e,n,i,r,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new ne,rotation:new vr,scale:new ne},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Db.set.apply(Db,REe(e)):Db.copy(e),Db.decompose(m5,g5,v5),y5=bP(a.__damp.position,m5,n,i,r,s,o),x5=Kw(a.__damp.rotation,g5,n,i,r,s,o),_5=bP(a.__damp.scale,v5,n,i,r,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),y5||x5||_5}var _S=Object.freeze({__proto__:null,rsqw:zEe,exp:DG,linear:UEe,sine:BEe,cubic:VEe,quint:jEe,circ:HEe,quart:WEe,expo:GEe,damp:gr,dampLookAt:XEe,dampAngle:Tg,damp2:YEe,damp3:bP,damp4:KEe,dampE:JEe,dampC:QEe,dampQ:Kw,dampS:ZEe,dampM:eCe});function tCe(t,e,n,i){const r=class extends ca{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,d])=>{const h=Ck.clone({[c]:{value:d}});return{...l,...h}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return r.key=e9.generateUUID(),r}const mA=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function eN(t,e){const n=MG(s=>s.gl),i=w_(AC,mA(t)?Object.values(t):t);return U.useLayoutEffect(()=>{e==null||e(i)},[e]),U.useEffect(()=>{if("initTexture"in n){let s=[];Array.isArray(i)?s=i:i instanceof xi?s=[i]:mA(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof xi&&n.initTexture(o)})}},[n,i]),U.useMemo(()=>{if(mA(t)){const s={};let o=0;for(const a in t)s[a]=i[o++];return s}else return i},[t,i])}eN.preload=t=>w_.preload(AC,t);eN.clear=t=>w_.clear(AC,t);const nCe=()=>parseInt(c_.replace(/\D+/g,"")),iCe=nCe(),b5=tCe({color:new ht("white"),scale:new De(1,1),imageBounds:new De(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${iCe>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),FG=U.forwardRef(({children:t,color:e,segments:n=1,scale:i=1,zoom:r=1,grayscale:s=0,opacity:o=1,radius:a=0,texture:l,toneMapped:c,transparent:d,side:h,...p},v)=>{mG({ImageMaterial:b5});const y=U.useRef(null),b=MG(C=>C.size),S=Array.isArray(i)?[i[0],i[1]]:[i,i],_=[l.image.width,l.image.height],w=Math.max(b.width,b.height);return U.useImperativeHandle(v,()=>y.current,[]),U.useLayoutEffect(()=>{y.current.geometry.parameters&&y.current.material.scale.set(S[0]*y.current.geometry.parameters.width,S[1]*y.current.geometry.parameters.height)},[S[0],S[1]]),U.createElement("mesh",Fh({ref:y,scale:Array.isArray(i)?[...i,1]:i},p),U.createElement("planeGeometry",{args:[1,1,n,n]}),U.createElement("imageMaterial",{color:e,map:l,zoom:r,grayscale:s,opacity:o,scale:S,imageBounds:_,resolution:w,radius:a,toneMapped:c,transparent:d,side:h,key:b5.key}),t)}),rCe=U.forwardRef(({url:t,...e},n)=>{const i=eN(t);return U.createElement(FG,Fh({},e,{texture:i,ref:n}))}),sCe=U.forwardRef(({url:t,...e},n)=>U.createElement(FG,Fh({},e,{ref:n}))),oCe=U.forwardRef((t,e)=>{if(t.url)return U.createElement(rCe,Fh({},t,{ref:e}));if(t.texture)return U.createElement(sCe,Fh({},t,{ref:e}));throw new Error("<Image /> requires a url or texture")});var gA={exports:{}},vA,S5;function aCe(){if(S5)return vA;S5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vA=t,vA}var yA,w5;function lCe(){if(w5)return yA;w5=1;var t=aCe();function e(){}function n(){}return n.resetWarningCache=e,yA=function(){function i(o,a,l,c,d,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},yA}var E5;function tN(){return E5||(E5=1,gA.exports=lCe()()),gA.exports}var cCe=tN();const Ei=Bx(cCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uCe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zG=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dCe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fCe=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>U.createElement("svg",{ref:l,...dCe,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:zG("lucide",r),...a},[...o.map(([c,d])=>U.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=(t,e)=>{const n=U.forwardRef(({className:i,...r},s)=>U.createElement(fCe,{ref:s,iconNode:e,className:zG(`lucide-${uCe(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hCe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pCe=co("ChevronLeft",hCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mCe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gCe=co("ChevronRight",mCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vCe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yCe=co("CreditCard",vCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xCe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],C5=co("House",xCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ce=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],bCe=co("LogOut",_Ce);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SCe=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],T5=co("Mail",SCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wCe=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ECe=co("MessageCircle",wCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CCe=[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]],TCe=co("Package2",CCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MCe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ACe=co("Package",MCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PCe=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],M5=co("Phone",PCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RCe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fb=co("Shield",RCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ICe=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],UG=co("Ticket",ICe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kCe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],NCe=co("Truck",kCe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OCe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xA=co("User",OCe),zb=[{id:1,title:"Kinematics",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1629276301820-0f3eedc29fd0?w=800&auto=format&fit=crop",songs:[{title:"Momentum",duration:"3:42",link:" /music/music7.mp3"},{title:"Velocity",duration:"4:20",link:" /music/music9.mp3"},{title:"Angular Shift",duration:"3:18",link:" /music/music3.mp3"},{title:"Kinetic Flow",duration:"4:12",link:" /music/music4.mp3"},{title:"Torque",duration:"3:45",link:" /music/music5.mp3"},{title:"Tidal Pull",duration:"3:33",link:" /music/music2.mp3"}]},{id:2,title:"Soaring",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=800&auto=format&fit=crop",songs:[{title:"Lift Off",duration:"4:05",link:" /music/music7.mp3"},{title:"Cloud Nine",duration:"3:47",link:" /music/music9.mp3"},{title:"Skyward",duration:"4:10",link:" /music/music3.mp3"},{title:"Aerial View",duration:"3:57",link:" /music/music4.mp3"},{title:"Updraft",duration:"3:22",link:" /music/music5.mp3"},{title:"Glide",duration:"3:48",link:" /music/music2.mp3"}]},{id:3,title:"Resounding",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613534852-13c6e6034e0c?w=800&auto=format&fit=crop",songs:[{title:"Echo Chamber",duration:"3:55",link:" /music/music7.mp3"},{title:"Sonic Boom",duration:"4:25",link:" /music/music9.mp3"},{title:"Waveform",duration:"3:41",link:" /music/music3.mp3"},{title:"Rhythmic Pulse",duration:"3:37",link:" /music/music4.mp3"},{title:"Resonance",duration:"4:20",link:" /music/music5.mp3"},{title:"Vibrations",duration:"3:50",link:" /music/music2.mp3"}]}],nN=U.createContext({});function iN(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const RC=U.createContext(null),rN=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class LCe extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function DCe({children:t,isPresent:e}){const n=U.useId(),i=U.useRef(null),r=U.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=U.useContext(rN);return U.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),E.jsx(LCe,{isPresent:e,childRef:i,sizeRef:r,children:U.cloneElement(t,{ref:i})})}const FCe=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=iN(zCe),l=U.useId(),c=U.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;i&&i()},[a,i]),d=U.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return U.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),U.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=E.jsx(DCe,{isPresent:n,children:t})),E.jsx(RC.Provider,{value:d,children:t})};function zCe(){return new Map}function BG(t=!0){const e=U.useContext(RC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=U.useId();U.useEffect(()=>{t&&r(s)},[t]);const o=U.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Ub=t=>t.key||"";function A5(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const sN=typeof window<"u",VG=sN?U.useLayoutEffect:U.useEffect,jG=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=BG(o),c=U.useMemo(()=>A5(t),[t]),d=o&&!a?[]:c.map(Ub),h=U.useRef(!0),p=U.useRef(c),v=iN(()=>new Map),[y,b]=U.useState(c),[S,_]=U.useState(c);VG(()=>{h.current=!1,p.current=c;for(let A=0;A<S.length;A++){const R=Ub(S[A]);d.includes(R)?v.delete(R):v.get(R)!==!0&&v.set(R,!1)}},[S,d.length,d.join("-")]);const w=[];if(c!==y){let A=[...c];for(let R=0;R<S.length;R++){const O=S[R],L=Ub(O);d.includes(L)||(A.splice(R,0,O),w.push(O))}s==="wait"&&w.length&&(A=w),_(A5(A)),b(c);return}const{forceRender:C}=U.useContext(nN);return E.jsx(E.Fragment,{children:S.map(A=>{const R=Ub(A),O=o&&!a?!1:c===S||d.includes(R),L=()=>{if(v.has(R))v.set(R,!0);else return;let z=!0;v.forEach(N=>{N||(z=!1)}),z&&(C==null||C(),_(p.current),o&&(l==null||l()),i&&i())};return E.jsx(FCe,{isPresent:O,initial:!h.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:O?void 0:L,children:A},R)})})},Oo=t=>t;let HG=Oo;function oN(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wg=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},iu=t=>t*1e3,ru=t=>t/1e3,UCe={useManualTiming:!1};function BCe(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const v=h&&i?e:n;return d&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const Bb=["read","resolveKeyframes","update","preRender","render","postRender"],VCe=40;function WG(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Bb.reduce((_,w)=>(_[w]=BCe(s),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,v=()=>{const _=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(_-r.timestamp,VCe),1),r.timestamp=_,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(v))},y=()=>{n=!0,i=!0,r.isProcessing||t(v)};return{schedule:Bb.reduce((_,w)=>{const C=o[w];return _[w]=(A,R=!1,O=!1)=>(n||y(),C.schedule(A,R,O)),_},{}),cancel:_=>{for(let w=0;w<Bb.length;w++)o[Bb[w]].cancel(_)},state:r,steps:o}}const{schedule:pi,cancel:Gd,state:Wr,steps:_A}=WG(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oo,!0),GG=U.createContext({strict:!1}),P5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gg={};for(const t in P5)Gg[t]={isEnabled:e=>P5[t].some(n=>!!e[n])};function jCe(t){for(const e in t)Gg[e]={...Gg[e],...t[e]}}const HCe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HCe.has(t)}let $G=t=>!Jw(t);function WCe(t){t&&($G=e=>e.startsWith("on")?!Jw(e):t(e))}try{WCe(require("@emotion/is-prop-valid").default)}catch{}function GCe(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||($G(r)||n===!0&&Jw(r)||!e&&!Jw(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function $Ce(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const IC=U.createContext({});function Rx(t){return typeof t=="string"||Array.isArray(t)}function kC(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const aN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lN=["initial",...aN];function NC(t){return kC(t.animate)||lN.some(e=>Rx(t[e]))}function qG(t){return!!(NC(t)||t.variants)}function qCe(t,e){if(NC(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Rx(n)?n:void 0,animate:Rx(i)?i:void 0}}return t.inherit!==!1?e:{}}function XCe(t){const{initial:e,animate:n}=qCe(t,U.useContext(IC));return U.useMemo(()=>({initial:e,animate:n}),[R5(e),R5(n)])}function R5(t){return Array.isArray(t)?t.join(" "):t}const YCe=Symbol.for("motionComponentSymbol");function dg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KCe(t,e,n){return U.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):dg(n)&&(n.current=i))},[e])}const cN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JCe="framerAppearId",XG="data-"+cN(JCe),{schedule:uN}=WG(queueMicrotask,!1),YG=U.createContext({});function QCe(t,e,n,i,r){var s,o;const{visualElement:a}=U.useContext(IC),l=U.useContext(GG),c=U.useContext(RC),d=U.useContext(rN).reducedMotion,h=U.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=U.useContext(YG);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&ZCe(h.current,n,r,v);const y=U.useRef(!1);U.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const b=n[XG],S=U.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return VG(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),uN.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),U.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,b)}),S.current=!1))}),p}function ZCe(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:KG(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&dg(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function KG(t){if(t)return t.options.allowProjection!==!1?t.projection:KG(t.parent)}function eTe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&jCe(t);function a(c,d){let h;const p={...U.useContext(rN),...c,layoutId:tTe(c)},{isStatic:v}=p,y=XCe(c),b=i(c,v);if(!v&&sN){nTe();const S=iTe(p);h=S.MeasureLayout,y.visualElement=QCe(r,b,p,e,S.ProjectionNode)}return E.jsxs(IC.Provider,{value:y,children:[h&&y.visualElement?E.jsx(h,{visualElement:y.visualElement,...p}):null,n(r,c,KCe(b,y.visualElement,d),b,v,y.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=U.forwardRef(a);return l[YCe]=r,l}function tTe({layoutId:t}){const e=U.useContext(nN).id;return e&&t!==void 0?e+"-"+t:t}function nTe(t,e){U.useContext(GG).strict}function iTe(t){const{drag:e,layout:n}=Gg;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const rTe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dN(t){return typeof t!="string"||t.includes("-")?!1:!!(rTe.indexOf(t)>-1||/[A-Z]/u.test(t))}function I5(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function fN(t,e,n,i){if(typeof e=="function"){const[r,s]=I5(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=I5(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const SP=t=>Array.isArray(t),sTe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),oTe=t=>SP(t)?t[t.length-1]||0:t,gs=t=>!!(t&&t.getVelocity);function bS(t){const e=gs(t)?t.get():t;return sTe(e)?e.toValue():e}function aTe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:lTe(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const JG=t=>(e,n)=>{const i=U.useContext(IC),r=U.useContext(RC),s=()=>aTe(t,e,i,r);return n?s():iN(s)};function lTe(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=bS(s[p]);let{initial:o,animate:a}=t;const l=NC(t),c=qG(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!kC(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const y=fN(t,p[v]);if(y){const{transitionEnd:b,transition:S,..._}=y;for(const w in _){let C=_[w];if(Array.isArray(C)){const A=d?C.length-1:0;C=C[A]}C!==null&&(r[w]=C)}for(const w in b)r[w]=b[w]}}}return r}const gv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pp=new Set(gv),QG=t=>e=>typeof e=="string"&&e.startsWith(t),ZG=QG("--"),cTe=QG("var(--"),hN=t=>cTe(t)?uTe.test(t.split("/*")[0].trim()):!1,uTe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,e$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,yu=(t,e,n)=>n>e?e:n<t?t:n,vv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ix={...vv,transform:t=>yu(0,1,t)},Vb={...vv,default:1},E_=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yd=E_("deg"),Wl=E_("%"),Dt=E_("px"),dTe=E_("vh"),fTe=E_("vw"),k5={...Wl,parse:t=>Wl.parse(t)/100,transform:t=>Wl.transform(t*100)},hTe={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt},pTe={rotate:yd,rotateX:yd,rotateY:yd,rotateZ:yd,scale:Vb,scaleX:Vb,scaleY:Vb,scaleZ:Vb,skew:yd,skewX:yd,skewY:yd,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:Ix,originX:k5,originY:k5,originZ:Dt},N5={...vv,transform:Math.round},pN={...hTe,...pTe,zIndex:N5,size:Dt,fillOpacity:Ix,strokeOpacity:Ix,numOctaves:N5},mTe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gTe=gv.length;function vTe(t,e,n){let i="",r=!0;for(let s=0;s<gTe;s++){const o=gv[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=e$(a,pN[o]);if(!l){r=!1;const d=mTe[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function mN(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(pp.has(l)){o=!0;continue}else if(ZG(l)){r[l]=c;continue}else{const d=e$(c,pN[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=vTe(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const yTe={offset:"stroke-dashoffset",array:"stroke-dasharray"},xTe={offset:"strokeDashoffset",array:"strokeDasharray"};function _Te(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?yTe:xTe;t[s.offset]=Dt.transform(-i);const o=Dt.transform(e),a=Dt.transform(n);t[s.array]=`${o} ${a}`}function O5(t,e,n){return typeof t=="string"?t:Dt.transform(e+n*t)}function bTe(t,e,n){const i=O5(e,t.x,t.width),r=O5(n,t.y,t.height);return`${i} ${r}`}function gN(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(mN(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:y}=t;p.transform&&(y&&(v.transform=p.transform),delete p.transform),y&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=bTe(y,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&_Te(p,o,a,l,!1)}const vN=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),t$=()=>({...vN(),attrs:{}}),yN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n$(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const i$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r$(t,e,n,i){n$(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(i$.has(r)?r:cN(r),e.attrs[r])}const Qw={};function STe(t){Object.assign(Qw,t)}function s$(t,{layout:e,layoutId:n}){return pp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qw[t]||t==="opacity")}function xN(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(gs(r[o])||e.style&&gs(e.style[o])||s$(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function o$(t,e,n){const i=xN(t,e,n);for(const r in t)if(gs(t[r])||gs(e[r])){const s=gv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function wTe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const L5=["x","y","width","height","cx","cy","r"],ETe={useVisualState:JG({scrapeMotionValuesFromProps:o$,createRenderState:t$,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(pp.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<L5.length;a++){const l=L5[a];t[l]!==e[l]&&(o=!0)}o&&pi.read(()=>{wTe(n,i),pi.render(()=>{gN(i,r,yN(n.tagName),t.transformTemplate),r$(n,i)})})}})},CTe={useVisualState:JG({scrapeMotionValuesFromProps:xN,createRenderState:vN})};function a$(t,e,n){for(const i in e)!gs(e[i])&&!s$(i,n)&&(t[i]=e[i])}function TTe({transformTemplate:t},e){return U.useMemo(()=>{const n=vN();return mN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MTe(t,e){const n=t.style||{},i={};return a$(i,n,t),Object.assign(i,TTe(t,e)),i}function ATe(t,e){const n={},i=MTe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function PTe(t,e,n,i){const r=U.useMemo(()=>{const s=t$();return gN(s,e,yN(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};a$(s,t.style,t),r.style={...s,...r.style}}return r}function RTe(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(dN(n)?PTe:ATe)(i,s,o,n),c=GCe(i,typeof n=="string",t),d=n!==U.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=U.useMemo(()=>gs(h)?h.get():h,[h]);return U.createElement(n,{...d,children:p})}}function ITe(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...dN(i)?ETe:CTe,preloadedFeatures:t,useRender:RTe(r),createVisualElement:e,Component:i};return eTe(o)}}function l$(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function OC(t,e,n){const i=t.getProps();return fN(i,e,n!==void 0?n:i.custom,t)}const kTe=oN(()=>window.ScrollTimeline!==void 0);class NTe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(kTe()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OTe extends NTe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function _N(t,e){return t?t[e]||t.default||t:void 0}const wP=2e4;function c$(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<wP;)e+=n,i=t.next(e);return e>=wP?1/0:e}function bN(t){return typeof t=="function"}function D5(t,e){t.timeline=e,t.onfinish=null}const SN=t=>Array.isArray(t)&&typeof t[0]=="number",LTe={linearEasing:void 0};function DTe(t,e){const n=oN(t);return()=>{var i;return(i=LTe[e])!==null&&i!==void 0?i:n()}}const Zw=DTe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),u$=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(Wg(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function d$(t){return!!(typeof t=="function"&&Zw()||!t||typeof t=="string"&&(t in EP||Zw())||SN(t)||Array.isArray(t)&&t.every(d$))}const uy=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,EP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uy([0,.65,.55,1]),circOut:uy([.55,0,1,.45]),backIn:uy([.31,.01,.66,-.59]),backOut:uy([.33,1.53,.69,.99])};function f$(t,e){if(t)return typeof t=="function"&&Zw()?u$(t,e):SN(t)?uy(t):Array.isArray(t)?t.map(n=>f$(n,e)||EP.easeOut):EP[t]}const Va={x:!1,y:!1};function h$(){return Va.x||Va.y}function FTe(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function p$(t,e){const n=FTe(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function F5(t){return e=>{e.pointerType==="touch"||h$()||t(e)}}function zTe(t,e,n={}){const[i,r,s]=p$(t,n),o=F5(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=F5(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const m$=(t,e)=>e?t===e?!0:m$(t,e.parentElement):!1,wN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UTe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BTe(t){return UTe.has(t.tagName)||t.tabIndex!==-1}const dy=new WeakSet;function z5(t){return e=>{e.key==="Enter"&&t(e)}}function bA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VTe=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=z5(()=>{if(dy.has(n))return;bA(n,"down");const r=z5(()=>{bA(n,"up")}),s=()=>bA(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function U5(t){return wN(t)&&!h$()}function jTe(t,e,n={}){const[i,r,s]=p$(t,n),o=a=>{const l=a.currentTarget;if(!U5(a)||dy.has(l))return;dy.add(l);const c=e(a),d=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!U5(v)||!dy.has(l))&&(dy.delete(l),typeof c=="function"&&c(v,{success:y}))},h=v=>{d(v,n.useGlobalTarget||m$(l,v.target))},p=v=>{d(v,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!BTe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>VTe(c,r),r)}),s}function HTe(t){return t==="x"||t==="y"?Va[t]?null:(Va[t]=!0,()=>{Va[t]=!1}):Va.x||Va.y?null:(Va.x=Va.y=!0,()=>{Va.x=Va.y=!1})}const g$=new Set(["width","height","top","left","right","bottom",...gv]);let SS;function WTe(){SS=void 0}const Gl={now:()=>(SS===void 0&&Gl.set(Wr.isProcessing||UCe.useManualTiming?Wr.timestamp:performance.now()),SS),set:t=>{SS=t,queueMicrotask(WTe)}};function EN(t,e){t.indexOf(e)===-1&&t.push(e)}function CN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class TN{constructor(){this.subscriptions=[]}add(e){return EN(this.subscriptions,e),()=>CN(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function v$(t,e){return e?t*(1e3/e):0}const B5=30,GTe=t=>!isNaN(parseFloat(t));class $Te{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Gl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GTe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TN);const i=this.events[e].add(n);return e==="change"?()=>{i(),pi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B5);return v$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kx(t,e){return new $Te(t,e)}function qTe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kx(n))}function XTe(t,e){const n=OC(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=oTe(s[o]);qTe(t,o,a)}}function YTe(t){return!!(gs(t)&&t.add)}function CP(t,e){const n=t.getValue("willChange");if(YTe(n))return n.add(e)}function y$(t){return t.props[XG]}const x$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KTe=1e-7,JTe=12;function QTe(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=x$(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>KTe&&++a<JTe);return o}function C_(t,e,n,i){if(t===e&&n===i)return Oo;const r=s=>QTe(s,0,1,t,n);return s=>s===0||s===1?s:x$(r(s),e,i)}const _$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b$=t=>e=>1-t(1-e),S$=C_(.33,1.53,.69,.99),MN=b$(S$),w$=_$(MN),E$=t=>(t*=2)<1?.5*MN(t):.5*(2-Math.pow(2,-10*(t-1))),AN=t=>1-Math.sin(Math.acos(t)),C$=b$(AN),T$=_$(AN),M$=t=>/^0[^.\s]+$/u.test(t);function ZTe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||M$(t):!0}const Ly=t=>Math.round(t*1e5)/1e5,PN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eMe(t){return t==null}const tMe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RN=(t,e)=>n=>!!(typeof n=="string"&&tMe.test(n)&&n.startsWith(t)||e&&!eMe(n)&&Object.prototype.hasOwnProperty.call(n,e)),A$=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(PN);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},nMe=t=>yu(0,255,t),SA={...vv,transform:t=>Math.round(nMe(t))},Mh={test:RN("rgb","red"),parse:A$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+SA.transform(t)+", "+SA.transform(e)+", "+SA.transform(n)+", "+Ly(Ix.transform(i))+")"};function iMe(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const TP={test:RN("#"),parse:iMe,transform:Mh.transform},fg={test:RN("hsl","hue"),parse:A$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Wl.transform(Ly(e))+", "+Wl.transform(Ly(n))+", "+Ly(Ix.transform(i))+")"},fs={test:t=>Mh.test(t)||TP.test(t)||fg.test(t),parse:t=>Mh.test(t)?Mh.parse(t):fg.test(t)?fg.parse(t):TP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mh.transform(t):fg.transform(t)},rMe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sMe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(PN))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(rMe))===null||n===void 0?void 0:n.length)||0)>0}const P$="number",R$="color",oMe="var",aMe="var(",V5="${}",lMe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nx(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(lMe,l=>(fs.test(l)?(i.color.push(s),r.push(R$),n.push(fs.parse(l))):l.startsWith(aMe)?(i.var.push(s),r.push(oMe),n.push(l)):(i.number.push(s),r.push(P$),n.push(parseFloat(l))),++s,V5)).split(V5);return{values:n,split:a,indexes:i,types:r}}function I$(t){return Nx(t).values}function k$(t){const{split:e,types:n}=Nx(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===P$?s+=Ly(r[o]):a===R$?s+=fs.transform(r[o]):s+=r[o]}return s}}const cMe=t=>typeof t=="number"?0:t;function uMe(t){const e=I$(t);return k$(t)(e.map(cMe))}const $d={test:sMe,parse:I$,createTransformer:k$,getAnimatableNone:uMe},dMe=new Set(["brightness","contrast","saturate","opacity"]);function fMe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(PN)||[];if(!i)return t;const r=n.replace(i,"");let s=dMe.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const hMe=/\b([a-z-]*)\(.*?\)/gu,MP={...$d,getAnimatableNone:t=>{const e=t.match(hMe);return e?e.map(fMe).join(" "):t}},pMe={...pN,color:fs,backgroundColor:fs,outlineColor:fs,fill:fs,stroke:fs,borderColor:fs,borderTopColor:fs,borderRightColor:fs,borderBottomColor:fs,borderLeftColor:fs,filter:MP,WebkitFilter:MP},IN=t=>pMe[t];function N$(t,e){let n=IN(t);return n!==MP&&(n=$d),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mMe=new Set(["auto","none","0"]);function gMe(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!mMe.has(s)&&Nx(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=N$(n,r)}const j5=t=>t===vv||t===Dt,H5=(t,e)=>parseFloat(t.split(", ")[e]),W5=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return H5(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?H5(s[1],t):0}},vMe=new Set(["x","y","z"]),yMe=gv.filter(t=>!vMe.has(t));function xMe(t){const e=[];return yMe.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const $g={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:W5(4,13),y:W5(5,14)};$g.translateX=$g.x;$g.translateY=$g.y;const Oh=new Set;let AP=!1,PP=!1;function O$(){if(PP){const t=Array.from(Oh).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=xMe(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}PP=!1,AP=!1,Oh.forEach(t=>t.complete()),Oh.clear()}function L$(){Oh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(PP=!0)})}function _Me(){L$(),O$()}class kN{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oh.add(this),AP||(AP=!0,pi.read(L$),pi.resolveKeyframes(O$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const D$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bMe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SMe(t){const e=bMe.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function F$(t,e,n=1){const[i,r]=SMe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return D$(o)?parseFloat(o):o}return hN(r)?F$(r,e,n+1):r}const z$=t=>e=>e.test(t),wMe={test:t=>t==="auto",parse:t=>t},U$=[vv,Dt,Wl,yd,fTe,dTe,wMe],G5=t=>U$.find(z$(t));class B$ extends kN{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),hN(c))){const d=F$(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!g$.has(i)||e.length!==2)return;const[r,s]=e,o=G5(r),a=G5(s);if(o!==a)if(j5(o)&&j5(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)ZTe(e[r])&&i.push(r);i.length&&gMe(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$g[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=$g[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const $5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($d.test(t)||t==="0")&&!t.startsWith("url("));function EMe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CMe(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=$5(r,e),a=$5(s,e);return!o||!a?!1:EMe(t)||(n==="spring"||bN(n))&&i}const TMe=t=>t!==null;function LC(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(TMe),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const MMe=40;class V${constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gl.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MMe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_Me(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Gl.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!CMe(e,i,r,s))if(o)this.options.duration=0;else{l&&l(LC(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ai=(t,e,n)=>t+(e-t)*n;function wA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AMe({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=wA(l,a,t+1/3),s=wA(l,a,t),o=wA(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function eE(t,e){return n=>n>0?e:t}const EA=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},PMe=[TP,Mh,fg],RMe=t=>PMe.find(e=>e.test(t));function q5(t){const e=RMe(t);if(!e)return!1;let n=e.parse(t);return e===fg&&(n=AMe(n)),n}const X5=(t,e)=>{const n=q5(t),i=q5(e);if(!n||!i)return eE(t,e);const r={...n};return s=>(r.red=EA(n.red,i.red,s),r.green=EA(n.green,i.green,s),r.blue=EA(n.blue,i.blue,s),r.alpha=Ai(n.alpha,i.alpha,s),Mh.transform(r))},IMe=(t,e)=>n=>e(t(n)),T_=(...t)=>t.reduce(IMe),RP=new Set(["none","hidden"]);function kMe(t,e){return RP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function NMe(t,e){return n=>Ai(t,e,n)}function NN(t){return typeof t=="number"?NMe:typeof t=="string"?hN(t)?eE:fs.test(t)?X5:DMe:Array.isArray(t)?j$:typeof t=="object"?fs.test(t)?X5:OMe:eE}function j$(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>NN(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function OMe(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=NN(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function LMe(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const DMe=(t,e)=>{const n=$d.createTransformer(e),i=Nx(t),r=Nx(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?RP.has(t)&&!r.values.length||RP.has(e)&&!i.values.length?kMe(t,e):T_(j$(LMe(i,r),r.values),n):eE(t,e)};function H$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ai(t,e,n):NN(t)(t,e)}const FMe=5;function W$(t,e,n){const i=Math.max(e-FMe,0);return v$(n-t(i),e-i)}const Di={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Y5=.001;function zMe({duration:t=Di.duration,bounce:e=Di.bounce,velocity:n=Di.velocity,mass:i=Di.mass}){let r,s,o=1-e;o=yu(Di.minDamping,Di.maxDamping,o),t=yu(Di.minDuration,Di.maxDuration,ru(t)),o<1?(r=c=>{const d=c*o,h=d*t,p=d-n,v=IP(c,o),y=Math.exp(-h);return Y5-p/v*y},s=c=>{const h=c*o*t,p=h*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-h),b=IP(Math.pow(c,2),o);return(-r(c)+Y5>0?-1:1)*((p-v)*y)/b}):(r=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-.001+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=BMe(r,s,a);if(t=iu(t),isNaN(l))return{stiffness:Di.stiffness,damping:Di.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const UMe=12;function BMe(t,e,n){let i=n;for(let r=1;r<UMe;r++)i=i-t(i)/e(i);return i}function IP(t,e){return t*Math.sqrt(1-e*e)}const VMe=["duration","bounce"],jMe=["stiffness","damping","mass"];function K5(t,e){return e.some(n=>t[n]!==void 0)}function HMe(t){let e={velocity:Di.velocity,stiffness:Di.stiffness,damping:Di.damping,mass:Di.mass,isResolvedFromDuration:!1,...t};if(!K5(t,jMe)&&K5(t,VMe))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*yu(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Di.mass,stiffness:r,damping:s}}else{const n=zMe(t);e={...e,...n,mass:Di.mass},e.isResolvedFromDuration=!0}return e}function G$(t=Di.visualDuration,e=Di.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:v}=HMe({...n,velocity:-ru(n.velocity||0)}),y=p||0,b=c/(2*Math.sqrt(l*d)),S=o-s,_=ru(Math.sqrt(l/d)),w=Math.abs(S)<5;i||(i=w?Di.restSpeed.granular:Di.restSpeed.default),r||(r=w?Di.restDelta.granular:Di.restDelta.default);let C;if(b<1){const R=IP(_,b);C=O=>{const L=Math.exp(-b*_*O);return o-L*((y+b*_*S)/R*Math.sin(R*O)+S*Math.cos(R*O))}}else if(b===1)C=R=>o-Math.exp(-_*R)*(S+(y+_*S)*R);else{const R=_*Math.sqrt(b*b-1);C=O=>{const L=Math.exp(-b*_*O),z=Math.min(R*O,300);return o-L*((y+b*_*S)*Math.sinh(z)+R*S*Math.cosh(z))/R}}const A={calculatedDuration:v&&h||null,next:R=>{const O=C(R);if(v)a.done=R>=h;else{let L=0;b<1&&(L=R===0?iu(y):W$(C,R,O));const z=Math.abs(L)<=i,N=Math.abs(o-O)<=r;a.done=z&&N}return a.value=a.done?o:O,a},toString:()=>{const R=Math.min(c$(A),wP),O=u$(L=>A.next(R*L).value,R,30);return R+"ms "+O}};return A}function J5({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},v=z=>a!==void 0&&z<a||l!==void 0&&z>l,y=z=>a===void 0?l:l===void 0||Math.abs(a-z)<Math.abs(l-z)?a:l;let b=n*e;const S=h+b,_=o===void 0?S:o(S);_!==S&&(b=_-h);const w=z=>-b*Math.exp(-z/i),C=z=>_+w(z),A=z=>{const N=w(z),k=C(z);p.done=Math.abs(N)<=c,p.value=p.done?_:k};let R,O;const L=z=>{v(p.value)&&(R=z,O=G$({keyframes:[p.value,y(p.value)],velocity:W$(C,z,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return L(0),{calculatedDuration:null,next:z=>{let N=!1;return!O&&R===void 0&&(N=!0,A(z),L(z)),R!==void 0&&z>=R?O.next(z-R):(!N&&A(z),p)}}}const WMe=C_(.42,0,1,1),GMe=C_(0,0,.58,1),$$=C_(.42,0,.58,1),$Me=t=>Array.isArray(t)&&typeof t[0]!="number",qMe={linear:Oo,easeIn:WMe,easeInOut:$$,easeOut:GMe,circIn:AN,circInOut:T$,circOut:C$,backIn:MN,backInOut:w$,backOut:S$,anticipate:E$},Q5=t=>{if(SN(t)){HG(t.length===4);const[e,n,i,r]=t;return C_(e,n,i,r)}else if(typeof t=="string")return qMe[t];return t};function XMe(t,e,n){const i=[],r=n||H$,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Oo:e;a=T_(l,a)}i.push(a)}return i}function YMe(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(HG(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=XMe(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Wg(t[h],t[h+1],d);return a[h](p)};return n?d=>c(yu(t[0],t[s-1],d)):c}function KMe(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Wg(0,e,i);t.push(Ai(n,1,r))}}function JMe(t){const e=[0];return KMe(e,t.length-1),e}function QMe(t,e){return t.map(n=>n*e)}function ZMe(t,e){return t.map(()=>e||$$).splice(0,t.length-1)}function tE({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=$Me(i)?i.map(Q5):Q5(i),s={done:!1,value:e[0]},o=QMe(n&&n.length===e.length?n:JMe(e),t),a=YMe(o,e,{ease:Array.isArray(r)?r:ZMe(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const eAe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pi.update(e,!0),stop:()=>Gd(e),now:()=>Wr.isProcessing?Wr.timestamp:Gl.now()}},tAe={decay:J5,inertia:J5,tween:tE,keyframes:tE,spring:G$},nAe=t=>t/100;class ON extends V${constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||kN,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=bN(n)?n:tAe[n]||tE;let l,c;a!==tE&&typeof e[0]!="number"&&(l=T_(nAe,H$(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=c$(d));const{calculatedDuration:h}=d,p=h+r,v=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:v,repeatType:y,repeatDelay:b,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,A=s;if(v){const z=Math.min(this.currentTime,d)/h;let N=Math.floor(z),k=z%1;!k&&z>=1&&(k=1),k===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(y==="reverse"?(k=1-k,b&&(k-=b/h)):y==="mirror"&&(A=o)),C=yu(0,1,k)*h}const R=w?{done:!1,value:l[0]}:A.next(C);a&&(R.value=a(R.value));let{done:O}=R;!w&&c!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return L&&r!==void 0&&(R.value=LC(l,this.options,r)),S&&S(R.value),L&&this.finish(),R}get duration(){const{resolved:e}=this;return e?ru(e.calculatedDuration):0}get time(){return ru(this.currentTime)}set time(e){e=iu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ru(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eAe,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const iAe=new Set(["opacity","clipPath","filter","transform"]);function rAe(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=f$(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const sAe=oN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nE=10,oAe=2e4;function aAe(t){return bN(t.type)||t.type==="spring"||!d$(t.ease)}function lAe(t,e){const n=new ON({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<oAe;)i=n.sample(s),r.push(i.value),s+=nE;return{times:void 0,keyframes:r,duration:s-nE,ease:"linear"}}const q$={anticipate:E$,backInOut:w$,circInOut:T$};function cAe(t){return t in q$}class Z5 extends V${constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new B$(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Zw()&&cAe(s)&&(s=q$[s]),aAe(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:y,...b}=this.options,S=lAe(e,b);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,o="keyframes"}const d=rAe(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(D5(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(LC(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ru(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ru(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=iu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Oo;const{animation:i}=n;D5(i,e)}return Oo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...v}=this.options,y=new ON({...v,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),b=iu(this.time);c.setWithVelocity(y.sample(b-nE).value,y.sample(b).value,nE)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return sAe()&&i&&iAe.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const uAe={type:"spring",stiffness:500,damping:25,restSpeed:10},dAe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fAe={type:"keyframes",duration:.8},hAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pAe=(t,{keyframes:e})=>e.length>2?fAe:pp.has(t)?t.startsWith("scale")?dAe(e[1]):uAe:hAe;function mAe({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const LN=(t,e,n,i={},r,s)=>o=>{const a=_N(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-iu(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};mAe(a)||(d={...d,...pAe(t,d)}),d.duration&&(d.duration=iu(d.duration)),d.repeatDelay&&(d.repeatDelay=iu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=LC(d.keyframes,a);if(p!==void 0)return pi.update(()=>{d.onUpdate(p),d.onComplete()}),new OTe([])}return!s&&Z5.supports(d)?new Z5(d):new ON(d)};function gAe({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function X$(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),v=l[h];if(v===void 0||d&&gAe(d,h))continue;const y={delay:n,..._N(o||{},h)};let b=!1;if(window.MotionHandoffAnimation){const _=y$(t);if(_){const w=window.MotionHandoffAnimation(_,h,pi);w!==null&&(y.startTime=w,b=!0)}}CP(t,h),p.start(LN(h,p,v,t.shouldReduceMotion&&g$.has(h)?{type:!1}:y,t,b));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{pi.update(()=>{a&&XTe(t,a)})}),c}function kP(t,e,n={}){var i;const r=OC(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(X$(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return vAe(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function vAe(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(yAe).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(kP(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function yAe(t,e){return t.sortNodePosition(e)}function xAe(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>kP(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=kP(t,e,n);else{const r=typeof e=="function"?OC(t,e,n.custom):e;i=Promise.all(X$(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const _Ae=lN.length;function Y$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Y$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_Ae;n++){const i=lN[n],r=t.props[i];(Rx(r)||r===!1)&&(e[i]=r)}return e}const bAe=[...aN].reverse(),SAe=aN.length;function wAe(t){return e=>Promise.all(e.map(({animation:n,options:i})=>xAe(t,n,i)))}function EAe(t){let e=wAe(t),n=ez(),i=!0;const r=l=>(c,d)=>{var h;const p=OC(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:v,transitionEnd:y,...b}=p;c={...c,...b,...y}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=Y$(t.parent)||{},h=[],p=new Set;let v={},y=1/0;for(let S=0;S<SAe;S++){const _=bAe[S],w=n[_],C=c[_]!==void 0?c[_]:d[_],A=Rx(C),R=_===l?w.isActive:null;R===!1&&(y=S);let O=C===d[_]&&C!==c[_]&&A;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),w.protectedKeys={...v},!w.isActive&&R===null||!C&&!w.prevProp||kC(C)||typeof C=="boolean")continue;const L=CAe(w.prevProp,C);let z=L||_===l&&w.isActive&&!O&&A||S>y&&A,N=!1;const k=Array.isArray(C)?C:[C];let B=k.reduce(r(_),{});R===!1&&(B={});const{prevResolvedValues:H={}}=w,J={...H,...B},Z=W=>{z=!0,p.has(W)&&(N=!0,p.delete(W)),w.needsAnimating[W]=!0;const V=t.getValue(W);V&&(V.liveStyle=!1)};for(const W in J){const V=B[W],X=H[W];if(v.hasOwnProperty(W))continue;let te=!1;SP(V)&&SP(X)?te=!l$(V,X):te=V!==X,te?V!=null?Z(W):p.add(W):V!==void 0&&p.has(W)?Z(W):w.protectedKeys[W]=!0}w.prevProp=C,w.prevResolvedValues=B,w.isActive&&(v={...v,...B}),i&&t.blockInitialAnimation&&(z=!1),z&&(!(O&&L)||N)&&h.push(...k.map(W=>({animation:W,options:{type:_}})))}if(p.size){const S={};p.forEach(_=>{const w=t.getBaseTarget(_),C=t.getValue(_);C&&(C.liveStyle=!0),S[_]=w??null}),h.push({animation:S})}let b=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=ez(),i=!0}}}function CAe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!l$(e,t):!1}function uh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ez(){return{animate:uh(!0),whileInView:uh(),whileHover:uh(),whileTap:uh(),whileDrag:uh(),whileFocus:uh(),exit:uh()}}class tf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TAe extends tf{constructor(e){super(e),e.animationState||(e.animationState=EAe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kC(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let MAe=0;class AAe extends tf{constructor(){super(...arguments),this.id=MAe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PAe={animation:{Feature:TAe},exit:{Feature:AAe}};function Ox(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function M_(t){return{point:{x:t.pageX,y:t.pageY}}}const RAe=t=>e=>wN(e)&&t(e,M_(e));function Dy(t,e,n,i){return Ox(t,e,RAe(n),i)}const tz=(t,e)=>Math.abs(t-e);function IAe(t,e){const n=tz(t.x,e.x),i=tz(t.y,e.y);return Math.sqrt(n**2+i**2)}class K${constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=TA(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=IAe(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:y}=h,{timestamp:b}=Wr;this.history.push({...y,timestamp:b});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=CA(p,this.transformPagePoint),pi.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=TA(h.type==="pointercancel"?this.lastMoveEventInfo:CA(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,S),y&&y(h,S)},!wN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=M_(e),a=CA(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Wr;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,TA(a,this.history)),this.removeListeners=T_(Dy(this.contextWindow,"pointermove",this.handlePointerMove),Dy(this.contextWindow,"pointerup",this.handlePointerUp),Dy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gd(this.updatePoint)}}function CA(t,e){return e?{point:e(t.point)}:t}function nz(t,e){return{x:t.x-e.x,y:t.y-e.y}}function TA({point:t},e){return{point:t,delta:nz(t,J$(e)),offset:nz(t,kAe(e)),velocity:NAe(e,.1)}}function kAe(t){return t[0]}function J$(t){return t[t.length-1]}function NAe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=J$(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>iu(e)));)n--;if(!i)return{x:0,y:0};const s=ru(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Q$=1e-4,OAe=1-Q$,LAe=1+Q$,Z$=.01,DAe=0-Z$,FAe=0+Z$;function zo(t){return t.max-t.min}function zAe(t,e,n){return Math.abs(t-e)<=n}function iz(t,e,n,i=.5){t.origin=i,t.originPoint=Ai(e.min,e.max,t.origin),t.scale=zo(n)/zo(e),t.translate=Ai(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OAe&&t.scale<=LAe||isNaN(t.scale))&&(t.scale=1),(t.translate>=DAe&&t.translate<=FAe||isNaN(t.translate))&&(t.translate=0)}function Fy(t,e,n,i){iz(t.x,e.x,n.x,i?i.originX:void 0),iz(t.y,e.y,n.y,i?i.originY:void 0)}function rz(t,e,n){t.min=n.min+e.min,t.max=t.min+zo(e)}function UAe(t,e,n){rz(t.x,e.x,n.x),rz(t.y,e.y,n.y)}function sz(t,e,n){t.min=e.min-n.min,t.max=t.min+zo(e)}function zy(t,e,n){sz(t.x,e.x,n.x),sz(t.y,e.y,n.y)}function BAe(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ai(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ai(n,t,i.max):Math.min(t,n)),t}function oz(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VAe(t,{top:e,left:n,bottom:i,right:r}){return{x:oz(t.x,n,r),y:oz(t.y,e,i)}}function az(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function jAe(t,e){return{x:az(t.x,e.x),y:az(t.y,e.y)}}function HAe(t,e){let n=.5;const i=zo(t),r=zo(e);return r>i?n=Wg(e.min,e.max-i,t.min):i>r&&(n=Wg(t.min,t.max-r,e.min)),yu(0,1,n)}function WAe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const NP=.35;function GAe(t=NP){return t===!1?t=0:t===!0&&(t=NP),{x:lz(t,"left","right"),y:lz(t,"top","bottom")}}function lz(t,e,n){return{min:cz(t,e),max:cz(t,n)}}function cz(t,e){return typeof t=="number"?t:t[e]||0}const uz=()=>({translate:0,scale:1,origin:0,originPoint:0}),hg=()=>({x:uz(),y:uz()}),dz=()=>({min:0,max:0}),Hi=()=>({x:dz(),y:dz()});function ta(t){return[t("x"),t("y")]}function eq({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function $Ae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qAe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function MA(t){return t===void 0||t===1}function OP({scale:t,scaleX:e,scaleY:n}){return!MA(t)||!MA(e)||!MA(n)}function gh(t){return OP(t)||tq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tq(t){return fz(t.x)||fz(t.y)}function fz(t){return t&&t!=="0%"}function iE(t,e,n){const i=t-n,r=e*i;return n+r}function hz(t,e,n,i,r){return r!==void 0&&(t=iE(t,r,i)),iE(t,n,i)+e}function LP(t,e=0,n=1,i,r){t.min=hz(t.min,e,n,i,r),t.max=hz(t.max,e,n,i,r)}function nq(t,{x:e,y:n}){LP(t.x,e.translate,e.scale,e.originPoint),LP(t.y,n.translate,n.scale,n.originPoint)}const pz=.999999999999,mz=1.0000000000001;function XAe(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mg(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nq(t,o)),i&&gh(s.latestValues)&&mg(t,s.latestValues))}e.x<mz&&e.x>pz&&(e.x=1),e.y<mz&&e.y>pz&&(e.y=1)}function pg(t,e){t.min=t.min+e,t.max=t.max+e}function gz(t,e,n,i,r=.5){const s=Ai(t.min,t.max,r);LP(t,e,n,s,i)}function mg(t,e){gz(t.x,e.x,e.scaleX,e.scale,e.originX),gz(t.y,e.y,e.scaleY,e.scale,e.originY)}function iq(t,e){return eq(qAe(t.getBoundingClientRect(),e))}function YAe(t,e,n){const i=iq(t,n),{scroll:r}=e;return r&&(pg(i.x,r.offset.x),pg(i.y,r.offset.y)),i}const rq=({current:t})=>t?t.ownerDocument.defaultView:null,KAe=new WeakMap;class JAe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(M_(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HTe(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Wl.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[S];C&&(_=zo(C)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&pi.postRender(()=>y(d,h)),CP(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(v&&this.currentDirection===null){this.currentDirection=QAe(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),l=()=>ta(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new K$(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:rq(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&pi.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!jb(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=BAe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&dg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=VAe(r.layoutBox,n):this.constraints=!1,this.elastic=GAe(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ta(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=WAe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dg(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=YAe(i,r.root,this.visualElement.getTransformPagePoint());let o=jAe(r.layout.layoutBox,s);if(n){const a=n($Ae(o));this.hasMutatedConstraints=!!a,a&&(o=eq(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ta(d=>{if(!jb(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,v=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return CP(this.visualElement,e),i.start(LN(e,i,0,n,this.visualElement,!1))}stopAnimation(){ta(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ta(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ta(n=>{const{drag:i}=this.getProps();if(!jb(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Ai(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!dg(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ta(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=HAe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ta(o=>{if(!jb(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ai(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;KAe.set(this.visualElement,this);const e=this.visualElement.current,n=Dy(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();dg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),pi.read(i);const o=Ox(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ta(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=NP,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function jb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QAe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZAe extends tf{constructor(e){super(e),this.removeGroupControls=Oo,this.removeListeners=Oo,this.controls=new JAe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oo}unmount(){this.removeGroupControls(),this.removeListeners()}}const vz=t=>(e,n)=>{t&&pi.postRender(()=>t(e,n))};class e2e extends tf{constructor(){super(...arguments),this.removePointerDownListener=Oo}onPointerDown(e){this.session=new K$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:vz(e),onStart:vz(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&pi.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Dy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yz(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const K0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Dt.test(t))t=parseFloat(t);else return t;const n=yz(t,e.target.x),i=yz(t,e.target.y);return`${n}% ${i}%`}},t2e={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=$d.parse(t);if(r.length>5)return i;const s=$d.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Ai(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class n2e extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;STe(i2e),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sq(t){const[e,n]=BG(),i=U.useContext(nN);return E.jsx(n2e,{...t,layoutGroup:i,switchLayoutGroup:U.useContext(YG),isPresent:e,safeToRemove:n})}const i2e={borderRadius:{...K0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:K0,borderTopRightRadius:K0,borderBottomLeftRadius:K0,borderBottomRightRadius:K0,boxShadow:t2e};function r2e(t,e,n){const i=gs(t)?t:kx(t);return i.start(LN("",i,e,n)),i.animation}function s2e(t){return t instanceof SVGElement&&t.tagName!=="svg"}const o2e=(t,e)=>t.depth-e.depth;class a2e{constructor(){this.children=[],this.isDirty=!1}add(e){EN(this.children,e),this.isDirty=!0}remove(e){CN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o2e),this.isDirty=!1,this.children.forEach(e)}}function l2e(t,e){const n=Gl.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Gd(i),t(s-e))};return pi.read(i,!0),()=>Gd(i)}const oq=["TopLeft","TopRight","BottomLeft","BottomRight"],c2e=oq.length,xz=t=>typeof t=="string"?parseFloat(t):t,_z=t=>typeof t=="number"||Dt.test(t);function u2e(t,e,n,i,r,s){r?(t.opacity=Ai(0,n.opacity!==void 0?n.opacity:1,d2e(i)),t.opacityExit=Ai(e.opacity!==void 0?e.opacity:1,0,f2e(i))):s&&(t.opacity=Ai(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<c2e;o++){const a=`border${oq[o]}Radius`;let l=bz(e,a),c=bz(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||_z(l)===_z(c)?(t[a]=Math.max(Ai(xz(l),xz(c),i),0),(Wl.test(c)||Wl.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ai(e.rotate||0,n.rotate||0,i))}function bz(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const d2e=aq(0,.5,C$),f2e=aq(.5,.95,Oo);function aq(t,e,n){return i=>i<t?0:i>e?1:n(Wg(t,e,i))}function Sz(t,e){t.min=e.min,t.max=e.max}function ea(t,e){Sz(t.x,e.x),Sz(t.y,e.y)}function wz(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ez(t,e,n,i,r){return t-=e,t=iE(t,1/n,i),r!==void 0&&(t=iE(t,1/r,i)),t}function h2e(t,e=0,n=1,i=.5,r,s=t,o=t){if(Wl.test(e)&&(e=parseFloat(e),e=Ai(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ai(s.min,s.max,i);t===s&&(a-=e),t.min=Ez(t.min,e,n,a,r),t.max=Ez(t.max,e,n,a,r)}function Cz(t,e,[n,i,r],s,o){h2e(t,e[n],e[i],e[r],e.scale,s,o)}const p2e=["x","scaleX","originX"],m2e=["y","scaleY","originY"];function Tz(t,e,n,i){Cz(t.x,e,p2e,n?n.x:void 0,i?i.x:void 0),Cz(t.y,e,m2e,n?n.y:void 0,i?i.y:void 0)}function Mz(t){return t.translate===0&&t.scale===1}function lq(t){return Mz(t.x)&&Mz(t.y)}function Az(t,e){return t.min===e.min&&t.max===e.max}function g2e(t,e){return Az(t.x,e.x)&&Az(t.y,e.y)}function Pz(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cq(t,e){return Pz(t.x,e.x)&&Pz(t.y,e.y)}function Rz(t){return zo(t.x)/zo(t.y)}function Iz(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class v2e{constructor(){this.members=[]}add(e){EN(this.members,e),e.scheduleRender()}remove(e){if(CN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y2e(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:v,skewY:y}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),v&&(i+=`skewX(${v}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const vh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fy=typeof window<"u"&&window.MotionDebug!==void 0,AA=["","X","Y","Z"],x2e={visibility:"hidden"},kz=1e3;let _2e=0;function PA(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function uq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=y$(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pi,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&uq(i)}function dq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_2e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fy&&(vh.totalNodes=vh.resolvedTargetDeltas=vh.recalculatedProjection=0),this.nodes.forEach(w2e),this.nodes.forEach(A2e),this.nodes.forEach(P2e),this.nodes.forEach(E2e),fy&&window.MotionDebug.record(vh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new a2e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TN),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s2e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=l2e(p,250),wS.hasAnimatedSinceResize&&(wS.hasAnimatedSinceResize=!1,this.nodes.forEach(Oz))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||O2e,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),w=!this.targetLayout||!cq(this.targetLayout,y)||v,C=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const A={..._N(b,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||Oz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R2e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nz);return}this.isUpdating||this.nodes.forEach(T2e),this.isUpdating=!1,this.nodes.forEach(M2e),this.nodes.forEach(b2e),this.nodes.forEach(S2e),this.clearAllSnapshots();const a=Gl.now();Wr.delta=yu(0,1e3/60,a-Wr.timestamp),Wr.timestamp=a,Wr.isProcessing=!0,_A.update.process(Wr),_A.preRender.process(Wr),_A.render.process(Wr),Wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C2e),this.sharedNodes.forEach(I2e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lq(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||gh(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),L2e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Hi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(D2e))){const{scroll:d}=this.root;d&&(pg(l.x,d.offset.x),pg(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Hi();if(ea(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&ea(l,o),pg(l.x,h.offset.x),pg(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Hi();ea(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&mg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gh(d.latestValues)&&mg(l,d.latestValues)}return gh(this.latestValues)&&mg(l,this.latestValues),l}removeTransform(o){const a=Hi();ea(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gh(c.latestValues))continue;OP(c.latestValues)&&c.updateSnapshot();const d=Hi(),h=c.measurePageBox();ea(d,h),Tz(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return gh(this.latestValues)&&Tz(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Wr.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),zy(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hi(),this.targetWithTransforms=Hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UAe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ea(this.target,this.layout.layoutBox),nq(this.target,this.targetDelta)):ea(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),zy(this.relativeTargetOrigin,this.target,v.target),ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fy&&vh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||OP(this.parent.latestValues)||tq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ea(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;XAe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hi());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wz(this.prevProjectionDelta.x,this.projectionDelta.x),wz(this.prevProjectionDelta.y,this.projectionDelta.y)),Fy(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!Iz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Iz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),fy&&vh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hg(),this.projectionDelta=hg(),this.projectionDeltaWithTransform=hg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=hg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Hi(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=v!==y,S=this.getStack(),_=!S||S.members.length<=1,w=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(N2e));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const R=A/1e3;Lz(h.x,o.x,R),Lz(h.y,o.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k2e(this.relativeTarget,this.relativeTargetOrigin,p,R),C&&g2e(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Hi()),ea(C,this.relativeTarget)),b&&(this.animationValues=d,u2e(d,c,this.latestValues,R,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pi.update(()=>{wS.hasAnimatedSinceResize=!0,this.currentAnimation=r2e(0,kz,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&fq(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Hi();const h=zo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=zo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ea(a,l),mg(a,d),Fy(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new v2e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&PA("z",o,c,this.animationValues);for(let d=0;d<AA.length;d++)PA(`rotate${AA[d]}`,o,c,this.animationValues),PA(`skew${AA[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x2e;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bS(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=bS(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gh(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=y2e(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Qw){if(p[b]===void 0)continue;const{correct:S,applyTo:_}=Qw[b],w=c.transform==="none"?p[b]:S(p[b],h);if(_){const C=_.length;for(let A=0;A<C;A++)c[_[A]]=w}else c[b]=w}return this.options.layoutId&&(c.pointerEvents=h===this?bS(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Nz),this.root.sharedNodes.clear()}}}function b2e(t){t.updateLayout()}function S2e(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ta(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=zo(p);p.min=i[h].min,p.max=p.min+v}):fq(s,n.layoutBox,i)&&ta(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=zo(i[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=hg();Fy(a,i,n.layoutBox);const l=hg();o?Fy(l,t.applyTransform(r,!0),n.measuredBox):Fy(l,i,n.layoutBox);const c=!lq(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const y=Hi();zy(y,n.layoutBox,p.layoutBox);const b=Hi();zy(b,i,v.layoutBox),cq(y,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function w2e(t){fy&&vh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E2e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function C2e(t){t.clearSnapshot()}function Nz(t){t.clearMeasurements()}function T2e(t){t.isLayoutDirty=!1}function M2e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Oz(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A2e(t){t.resolveTargetDelta()}function P2e(t){t.calcProjection()}function R2e(t){t.resetSkewAndRotation()}function I2e(t){t.removeLeadSnapshot()}function Lz(t,e,n){t.translate=Ai(e.translate,0,n),t.scale=Ai(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Dz(t,e,n,i){t.min=Ai(e.min,n.min,i),t.max=Ai(e.max,n.max,i)}function k2e(t,e,n,i){Dz(t.x,e.x,n.x,i),Dz(t.y,e.y,n.y,i)}function N2e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O2e={duration:.45,ease:[.4,0,.1,1]},Fz=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zz=Fz("applewebkit/")&&!Fz("chrome/")?Math.round:Oo;function Uz(t){t.min=zz(t.min),t.max=zz(t.max)}function L2e(t){Uz(t.x),Uz(t.y)}function fq(t,e,n){return t==="position"||t==="preserve-aspect"&&!zAe(Rz(e),Rz(n),.2)}function D2e(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const F2e=dq({attachResizeListener:(t,e)=>Ox(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RA={current:void 0},hq=dq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!RA.current){const t=new F2e({});t.mount(window),t.setOptions({layoutScroll:!0}),RA.current=t}return RA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z2e={pan:{Feature:e2e},drag:{Feature:ZAe,ProjectionNode:hq,MeasureLayout:sq}};function Bz(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&pi.postRender(()=>s(e,M_(e)))}class U2e extends tf{mount(){const{current:e}=this.node;e&&(this.unmount=zTe(e,n=>(Bz(this.node,n,"Start"),i=>Bz(this.node,i,"End"))))}unmount(){}}class B2e extends tf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=T_(Ox(this.node.current,"focus",()=>this.onFocus()),Ox(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vz(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&pi.postRender(()=>s(e,M_(e)))}class V2e extends tf{mount(){const{current:e}=this.node;e&&(this.unmount=jTe(e,n=>(Vz(this.node,n,"Start"),(i,{success:r})=>Vz(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const DP=new WeakMap,IA=new WeakMap,j2e=t=>{const e=DP.get(t.target);e&&e(t)},H2e=t=>{t.forEach(j2e)};function W2e({root:t,...e}){const n=t||document;IA.has(n)||IA.set(n,{});const i=IA.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(H2e,{root:t,...e})),i[r]}function G2e(t,e,n){const i=W2e(e);return DP.set(t,n),i.observe(t),()=>{DP.delete(t),i.unobserve(t)}}const $2e={some:0,all:1};class q2e extends tf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:$2e[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return G2e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X2e(e,n))&&this.startObserver()}unmount(){}}function X2e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Y2e={inView:{Feature:q2e},tap:{Feature:V2e},focus:{Feature:B2e},hover:{Feature:U2e}},K2e={layout:{ProjectionNode:hq,MeasureLayout:sq}},FP={current:null},pq={current:!1};function J2e(){if(pq.current=!0,!!sN)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>FP.current=t.matches;t.addListener(e),e()}else FP.current=!1}const Q2e=[...U$,fs,$d],Z2e=t=>Q2e.find(z$(t)),jz=new WeakMap;function ePe(t,e,n){for(const i in e){const r=e[i],s=n[i];if(gs(r))t.addValue(i,r);else if(gs(s))t.addValue(i,kx(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,kx(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Hz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tPe{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Gl.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,pi.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=NC(n),this.isVariantNode=qG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const y=p[v];l[v]!==void 0&&gs(y)&&y.set(l[v],!1)}}mount(e){this.current=e,jz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),pq.current||J2e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jz.delete(this.current),this.projection&&this.projection.unmount(),Gd(this.notifyUpdate),Gd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=pp.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&pi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gg){const n=Gg[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Hz.length;i++){const r=Hz[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=ePe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=kx(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(D$(r)||M$(r))?r=parseFloat(r):!Z2e(r)&&$d.test(n)&&(r=N$(e,n)),this.setBaseTarget(e,gs(r)?r.get():r)),gs(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=fN(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gs(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mq extends tPe{constructor(){super(...arguments),this.KeyframeResolver=B$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nPe(t){return window.getComputedStyle(t)}class iPe extends mq{constructor(){super(...arguments),this.type="html",this.renderInstance=n$}readValueFromInstance(e,n){if(pp.has(n)){const i=IN(n);return i&&i.default||0}else{const i=nPe(e),r=(ZG(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iq(e,n)}build(e,n,i){mN(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return xN(e,n,i)}}class rPe extends mq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pp.has(n)){const i=IN(n);return i&&i.default||0}return n=i$.has(n)?n:cN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return o$(e,n,i)}build(e,n,i){gN(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){r$(e,n,i,r)}mount(e){this.isSVGTag=yN(e.tagName),super.mount(e)}}const sPe=(t,e)=>dN(t)?new rPe(e):new iPe(e,{allowProjection:t!==U.Fragment}),oPe=ITe({...PAe,...Y2e,...z2e,...K2e},sPe),et=$Ce(oPe);function aPe({rotationY:t,...e}){const n=U.useRef(null);return AG(()=>{n.current&&_S.damp(n.current.rotation,"y",t,.1,.005)}),E.jsx("group",{ref:n,...e})}function lPe({radius:t=1.5,count:e=9}){return Array.from({length:e},(n,i)=>E.jsx(cPe,{url:` /img${i%3+1}_.png`,position:[Math.sin(i/e*Math.PI*2)*t,0,Math.cos(i/e*Math.PI*2)*t],rotation:[0,i/e*Math.PI*2,0]},i))}function cPe({url:t,...e}){const n=U.useRef(null),[i,r]=U.useState(!1),s=a=>(a.stopPropagation(),r(!0)),o=()=>r(!1);return AG((a,l)=>{n.current&&(_S.damp3(n.current.scale,i?1.15:1,.1,l),_S.damp(n.current.material,"radius",i?.25:.03,.2,l),_S.damp(n.current.material,"zoom",i?1:1.1,.2,l))}),E.jsx(oCe,{ref:n,url:t,transparent:!0,side:$a,onPointerOver:s,onPointerOut:o,...e,children:E.jsx("planeGeometry",{args:[1,1,1,20]})})}const uPe=()=>{const[t,e]=U.useState(0),[n,i]=U.useState(0),[r,s]=U.useState(null),[o,a]=U.useState(null),l=zb[t],c=()=>{e(y=>(y+1)%zb.length),i(y=>y-Math.PI/4.5)},d=()=>{e(y=>(y-1+zb.length)%zb.length),i(y=>y+Math.PI/4.5)},h=(y,b)=>{r&&r.pause();const S=new Audio(y);s(S),S.play(),a(b)},[p,v]=U.useState(0);return U.useEffect(()=>{const y=()=>{const b=window.scrollY,S=window.innerHeight,_=S*.5,w=S*.8;if(b>_&&b<w){const C=(b-_)/(w-_);v(C)}else b>=w?(v(1),window.removeEventListener("scroll",y)):v(0)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),E.jsx("div",{style:{color:"#ffffff",backgroundColor:"#09090b",width:"100%",padding:"20px"},children:E.jsx("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:E.jsxs("div",{className:"album-content",style:{display:"flex",gap:"4rem"},children:[E.jsx(et.div,{className:"left-section",style:{flex:1},initial:{opacity:0,y:50},animate:{opacity:p,y:0},transition:{duration:1},children:E.jsx("div",{className:"canvas-container",style:{height:"100%"},children:E.jsxs(CEe,{className:"canvas",style:{backgroundColor:"#09090b"},children:[E.jsx("ambientLight",{}),E.jsx(aPe,{scale:[1.95,1.95,2],rotationY:n,children:E.jsx(lPe,{})})]})})}),E.jsxs(et.div,{className:"right-section",style:{flex:1},initial:{opacity:0,x:50},animate:{opacity:p,x:0},transition:{duration:1},children:[E.jsxs("div",{className:"title-and-navigation",children:[E.jsx("h1",{className:"album-title",children:l.title}),E.jsxs("div",{className:"album-navigation",children:[E.jsxs("button",{onClick:d,className:"nav-button prev-button",children:[E.jsx(pCe,{size:20}),"Previous"]}),E.jsxs("button",{onClick:c,className:"nav-button next-button",children:["Next",E.jsx(gCe,{size:20})]})]})]}),E.jsx("div",{className:"tracklist-container",children:l.songs.map((y,b)=>E.jsxs(et.div,{className:"track-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1,duration:.5},children:[E.jsxs("div",{className:"track-info",children:[E.jsx("span",{className:"track-number",children:(b+1).toString().padStart(2,"0")}),E.jsx("span",{className:"track-title",children:y.title})]}),E.jsxs("div",{className:"track-actions",children:[E.jsx("span",{className:"track-duration",children:y.duration}),E.jsx(zl,{"aria-label":o===b&&r&&!r.paused?"Pause":"Play",onClick:()=>{o===b&&r&&!r.paused?(r.pause(),a(null)):h(y.link,b)},bg:"red.500",color:"white",borderRadius:"50%",p:2,_hover:{bg:"red.600",transform:"scale(1.1)"},children:o===b&&r&&!r.paused?E.jsx(mve,{}):E.jsx(gve,{})})]})]},b))})]})]})})})};function Wz(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function DN(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Wz(e[i])&&Wz(t[i])&&Object.keys(e[i]).length>0&&DN(t[i],e[i])})}const gq={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function rl(){const t=typeof document<"u"?document:{};return DN(t,gq),t}const dPe={document:gq,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function bs(){const t=typeof window<"u"?window:{};return DN(t,dPe),t}function xd(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function fPe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function rE(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function sE(){return Date.now()}function hPe(t){const e=bs();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function pPe(t,e){e===void 0&&(e="x");const n=bs();let i,r,s;const o=hPe(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Hb(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function mPe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Mo(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!mPe(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Hb(t[a])&&Hb(i[a])?i[a].__swiper__?t[a]=i[a]:Mo(t[a],i[a]):!Hb(t[a])&&Hb(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Mo(t[a],i[a])):t[a]=i[a])}}}return t}function Wb(t,e,n){t.style.setProperty(e,n)}function vq(t){let{swiper:e,targetPosition:n,side:i}=t;const r=bs(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",d=(p,v)=>c==="next"&&p>=v||c==="prev"&&p<=v,h=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),v=.5-Math.cos(p*Math.PI)/2;let y=s+v*(n-s);if(d(y,n)&&(y=n),e.wrapperEl.scrollTo({[i]:y}),d(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:y})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(h)};h()}function Ol(t,e){e===void 0&&(e="");const n=bs(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function gPe(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function vPe(t,e){const n=bs();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=gPe(t,e))),i}function oE(t){try{console.warn(t);return}catch{}}function qg(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:xd(e)),n}function yPe(t){const e=bs(),n=rl(),i=t.getBoundingClientRect(),r=n.body,s=t.clientTop||r.clientTop||0,o=t.clientLeft||r.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}function xPe(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function _Pe(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Ad(t,e){return bs().getComputedStyle(t,null).getPropertyValue(e)}function Lx(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function yq(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function zP(t,e,n){const i=bs();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function pn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let kA;function bPe(){const t=bs(),e=rl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function xq(){return kA||(kA=bPe()),kA}let NA;function SPe(t){let{userAgent:e}=t===void 0?{}:t;const n=xq(),i=bs(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=r==="Win32";let y=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&n.touch&&b.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!v&&(o.os="android",o.android=!0),(d||p||h)&&(o.os="ios",o.ios=!0),o}function _q(t){return t===void 0&&(t={}),NA||(NA=SPe(t)),NA}let OA;function wPe(){const t=bs(),e=_q();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function bq(){return OA||(OA=wPe()),OA}function EPe(t){let{swiper:e,on:n,emit:i}=t;const r=bs();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=r.requestAnimationFrame(()=>{const{width:p,height:v}=e;let y=p,b=v;h.forEach(S=>{let{contentBoxSize:_,contentRect:w,target:C}=S;C&&C!==e.el||(y=w?w.width:(_[0]||_).inlineSize,b=w?w.height:(_[0]||_).blockSize)}),(y!==p||b!==v)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function CPe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],o=bs(),a=function(d,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,v=new p(y=>{if(e.__preventObserver__)return;if(y.length===1){r("observerUpdate",y[0]);return}const b=function(){r("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});v.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(v)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=yq(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var TPe={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function MPe(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ad(i,"padding-left")||0,10)-parseInt(Ad(i,"padding-right")||0,10),n=n-parseInt(Ad(i,"padding-top")||0,10)-parseInt(Ad(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function APe(){const t=this;function e(k,B){return parseFloat(k.getPropertyValue(t.getDirectionLabel(B))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=Ol(r,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let p=[];const v=[],y=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(t));const _=t.snapGrid.length,w=t.slidesGrid.length;let C=n.spaceBetween,A=-b,R=0,O=0;if(typeof s>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*s:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C,d.forEach(k=>{o?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Wb(i,"--swiper-centered-offset-before",""),Wb(i,"--swiper-centered-offset-after",""));const L=n.grid&&n.grid.rows>1&&t.grid;L?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let z;const N=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<h;k+=1){z=0;let B;if(d[k]&&(B=d[k]),L&&t.grid.updateSlide(k,B,d),!(d[k]&&Ad(B,"display")==="none")){if(n.slidesPerView==="auto"){N&&(d[k].style[t.getDirectionLabel("width")]="");const H=getComputedStyle(B),J=B.style.transform,Z=B.style.webkitTransform;if(J&&(B.style.transform="none"),Z&&(B.style.webkitTransform="none"),n.roundLengths)z=t.isHorizontal()?zP(B,"width"):zP(B,"height");else{const $=e(H,"width"),K=e(H,"padding-left"),W=e(H,"padding-right"),V=e(H,"margin-left"),X=e(H,"margin-right"),te=H.getPropertyValue("box-sizing");if(te&&te==="border-box")z=$+V+X;else{const{clientWidth:Y,offsetWidth:oe}=B;z=$+K+W+V+X+(oe-Y)}}J&&(B.style.transform=J),Z&&(B.style.webkitTransform=Z),n.roundLengths&&(z=Math.floor(z))}else z=(s-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(z=Math.floor(z)),d[k]&&(d[k].style[t.getDirectionLabel("width")]=`${z}px`);d[k]&&(d[k].swiperSlideSize=z),y.push(z),n.centeredSlides?(A=A+z/2+R/2+C,R===0&&k!==0&&(A=A-s/2-C),k===0&&(A=A-s/2-C),Math.abs(A)<1/1e3&&(A=0),n.roundLengths&&(A=Math.floor(A)),O%n.slidesPerGroup===0&&p.push(A),v.push(A)):(n.roundLengths&&(A=Math.floor(A)),(O-Math.min(t.params.slidesPerGroupSkip,O))%t.params.slidesPerGroup===0&&p.push(A),v.push(A),A=A+z+C),t.virtualSize+=z+C,R=z,O+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+S,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),L&&t.grid.updateWrapperSize(z,p),!n.centeredSlides){const k=[];for(let B=0;B<p.length;B+=1){let H=p[B];n.roundLengths&&(H=Math.floor(H)),p[B]<=t.virtualSize-s&&k.push(H)}p=k,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const k=y[0]+C;if(n.slidesPerGroup>1){const B=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),H=k*n.slidesPerGroup;for(let J=0;J<B;J+=1)p.push(p[p.length-1]+H)}for(let B=0;B<t.virtual.slidesBefore+t.virtual.slidesAfter;B+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+k),v.push(v[v.length-1]+k),t.virtualSize+=k}if(p.length===0&&(p=[0]),C!==0){const k=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((B,H)=>!n.cssMode||n.loop?!0:H!==d.length-1).forEach(B=>{B.style[k]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;y.forEach(H=>{k+=H+(C||0)}),k-=C;const B=k>s?k-s:0;p=p.map(H=>H<=0?-b:H>B?B+S:H)}if(n.centerInsufficientSlides){let k=0;y.forEach(H=>{k+=H+(C||0)}),k-=C;const B=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+B<s){const H=(s-k-B)/2;p.forEach((J,Z)=>{p[Z]=J-H}),v.forEach((J,Z)=>{v[Z]=J+H})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:v,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Wb(i,"--swiper-centered-offset-before",`${-p[0]}px`),Wb(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const k=-t.snapGrid[0],B=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(H=>H+k),t.slidesGrid=t.slidesGrid.map(H=>H+B)}if(h!==c&&t.emit("slidesLengthChange"),p.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),v.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,B=t.el.classList.contains(k);h<=n.maxBackfaceHiddenSlides?B||t.el.classList.add(k):B&&t.el.classList.remove(k)}}function PPe(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function RPe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const Gz=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function IPe(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),v=-(o-d),y=v+e.slidesSizesGrid[l],b=v>=0&&v<=e.size-e.slidesSizesGrid[l],S=v>=0&&v<e.size-1||y>1&&y<=e.size||v<=0&&y>=e.size;S&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),Gz(c,S,n.slideVisibleClass),Gz(c,b,n.slideFullyVisibleClass),c.progress=r?-h:h,c.originalProgress=r?-p:p}}function kPe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||r<=0,o=h||r>=1,d&&(r=0),h&&(r=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],v=e.slidesGrid[h],y=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=p?a=(b-p)/y:a=(b+y-v)/y,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const LA=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function NPe(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Ol(i,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,c,d;if(s)if(n.loop){let h=r-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.find(h=>h.column===r),d=e.find(h=>h.column===r+1),c=e.find(h=>h.column===r-1)):l=e[r];l&&(o||(d=_Pe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=xPe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(h=>{LA(h,h===l,n.slideActiveClass),LA(h,h===d,n.slideNextClass),LA(h,h===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ES=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},DA=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},UP=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&DA(t,c)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&DA(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&DA(t,o)};function OPe(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function LPe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,c;const d=v=>{let y=v-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof l>"u"&&(l=OPe(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const v=Math.min(r.slidesPerGroupSkip,l);c=v+Math.floor((l-v)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(l);else if(h){const v=e.slides.find(b=>b.column===l);let y=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(v),0)),p=Math.floor(y/r.grid.rows)}else if(e.slides[l]){const v=e.slides[l].getAttribute("data-swiper-slide-index");v?p=parseInt(v,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&UP(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function DPe(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var FPe={updateSize:MPe,updateSlides:APe,updateAutoHeight:PPe,updateSlidesOffset:RPe,updateSlidesProgress:IPe,updateProgress:kPe,updateSlidesClasses:NPe,updateActiveIndex:LPe,updateClickedSlide:DPe};function zPe(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=pPe(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function UPe(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function BPe(){return-this.snapGrid[0]}function VPe(){return-this.snapGrid[this.snapGrid.length-1]}function jPe(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let d;if(i&&t>l?d=l:i&&t<c?d=c:d=t,s.updateProgress(d),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return vq({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var HPe={getTranslate:zPe,setTranslate:UPe,minTranslate:BPe,maxTranslate:VPe,translateTo:jPe};function WPe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Sq(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function GPe(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Sq({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function $Pe(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),Sq({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var qPe={setTransition:WPe,transitionStart:GPe,transitionEnd:$Pe};function XPe(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:p,wrapperEl:v,enabled:y}=s;if(!y&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const b=Math.min(s.params.slidesPerGroupSkip,o);let S=b+Math.floor((o-b)/s.params.slidesPerGroup);S>=l.length&&(S=l.length-1);const _=-l[S];if(a.normalizeSlideIndex)for(let L=0;L<c.length;L+=1){const z=-Math.floor(_*100),N=Math.floor(c[L]*100),k=Math.floor(c[L+1]*100);typeof c[L+1]<"u"?z>=N&&z<k-(k-N)/2?o=L:z>=N&&z<k&&(o=L+1):z>=N&&(o=L)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(p?_>s.translate&&_>s.minTranslate():_<s.translate&&_<s.minTranslate())||!s.allowSlidePrev&&_>s.translate&&_>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(_);let w;o>h?w="next":o<h?w="prev":w="reset";const C=s.virtual&&s.params.virtual.enabled;if(!(C&&r)&&(p&&-_===s.translate||!p&&_===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(_),w!=="reset"&&(s.transitionStart(n,w),s.transitionEnd(n,w)),!1;if(a.cssMode){const L=s.isHorizontal(),z=p?_:-_;if(e===0)C&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),C&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[L?"scrollLeft":"scrollTop"]=z})):v[L?"scrollLeft":"scrollTop"]=z,C&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return vq({swiper:s,targetPosition:z,side:L?"left":"top"}),!0;v.scrollTo({[L?"left":"top"]:z,behavior:"smooth"})}return!0}const O=bq().isSafari;return C&&!r&&O&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(_),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,w),e===0?s.transitionEnd(n,w):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(z){!s||s.destroyed||z.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,w))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function YPe(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const p=o*r.params.grid.rows;a=r.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let h=l-a<d;if(c&&(h=h||a<Math.ceil(d/2)),i&&c&&r.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(s){const p=o*r.params.grid.rows;o=r.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,i)}),r}function KPe(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function JPe(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=a?i.translate:-i.translate;function p(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const v=p(h),y=s.map(w=>p(w)),b=r.freeMode&&r.freeMode.enabled;let S=s[y.indexOf(v)-1];if(typeof S>"u"&&(r.cssMode||b)){let w;s.forEach((C,A)=>{v>=C&&(w=A)}),typeof w<"u"&&(S=b?s[w]:s[w>0?w-1:w])}let _=0;if(typeof S<"u"&&(_=o.indexOf(S),_<0&&(_=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(_=_-i.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),r.rewind&&i.isBeginning){const w=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(w,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(_,t,e,n)}),!0;return i.slideTo(_,t,e,n)}function QPe(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function ZPe(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],d=r.snapGrid[a+1];l-c>(d-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],d=r.snapGrid[a];l-c<=(d-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function eRe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Ol(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),rE(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Ol(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),rE(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var tRe={slideTo:XPe,slideToLoop:YPe,slideNext:KPe,slidePrev:JPe,slideReset:QPe,slideToClosest:ZPe,slideToClickedSlide:eRe};function nRe(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Ol(r,`.${i.slideClass}, swiper-slide`).forEach((p,v)=>{p.setAttribute("data-swiper-slide-index",v)})},o=n.grid&&i.grid&&i.grid.rows>1,a=i.slidesPerGroup*(o?i.grid.rows:1),l=n.slides.length%a!==0,c=o&&n.slides.length%i.grid.rows!==0,d=h=>{for(let p=0;p<h;p+=1){const v=n.isElement?qg("swiper-slide",[i.slideBlankClass]):qg("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(v)}};if(l){if(i.loopAddBlankSlides){const h=a-n.slides.length%a;d(h),n.recalcSlides(),n.updateSlides()}else oE("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(i.loopAddBlankSlides){const h=i.grid.rows-n.slides.length%i.grid.rows;d(h),n.recalcSlides(),n.updateSlides()}else oE("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:e})}function iRe(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:p,slidesEl:v,params:y}=c,{centeredSlides:b,initialSlide:S}=y;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&y.virtual.enabled){n&&(!y.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):y.centeredSlides&&c.snapIndex<y.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=p,c.emit("loopFix");return}let _=y.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(y.slidesPerView,10)),b&&_%2===0&&(_=_+1));const w=y.slidesPerGroupAuto?_:y.slidesPerGroup;let C=w;C%w!==0&&(C+=w-C%w),C+=y.loopAdditionalSlides,c.loopedSlides=C;const A=c.grid&&y.grid&&y.grid.rows>1;d.length<_+C||c.params.effect==="cards"&&d.length<_+C*2?oE("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):A&&y.grid.fill==="row"&&oE("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const R=[],O=[],L=A?Math.ceil(d.length/y.grid.rows):d.length,z=o&&L-S<_&&!b;let N=z?S:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.find(K=>K.classList.contains(y.slideActiveClass))):N=s;const k=i==="next"||!i,B=i==="prev"||!i;let H=0,J=0;const $=(A?d[s].column:s)+(b&&typeof r>"u"?-_/2+.5:0);if($<C){H=Math.max(C-$,w);for(let K=0;K<C-$;K+=1){const W=K-Math.floor(K/L)*L;if(A){const V=L-W-1;for(let X=d.length-1;X>=0;X-=1)d[X].column===V&&R.push(X)}else R.push(L-W-1)}}else if($+_>L-C){J=Math.max($-(L-C*2),w),z&&(J=Math.max(J,_-L+S+1));for(let K=0;K<J;K+=1){const W=K-Math.floor(K/L)*L;A?d.forEach((V,X)=>{V.column===W&&O.push(X)}):O.push(W)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<_+C*2&&(O.includes(s)&&O.splice(O.indexOf(s),1),R.includes(s)&&R.splice(R.indexOf(s),1)),B&&R.forEach(K=>{d[K].swiperLoopMoveDOM=!0,v.prepend(d[K]),d[K].swiperLoopMoveDOM=!1}),k&&O.forEach(K=>{d[K].swiperLoopMoveDOM=!0,v.append(d[K]),d[K].swiperLoopMoveDOM=!1}),c.recalcSlides(),y.slidesPerView==="auto"?c.updateSlides():A&&(R.length>0&&B||O.length>0&&k)&&c.slides.forEach((K,W)=>{c.grid.updateSlide(W,K,c.slides)}),y.watchSlidesProgress&&c.updateSlidesOffset(),n){if(R.length>0&&B){if(typeof e>"u"){const K=c.slidesGrid[N],V=c.slidesGrid[N+H]-K;l?c.setTranslate(c.translate-V):(c.slideTo(N+Math.ceil(H),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-V,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-V))}else if(r){const K=A?R.length/y.grid.rows:R.length;c.slideTo(c.activeIndex+K,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(O.length>0&&k)if(typeof e>"u"){const K=c.slidesGrid[N],V=c.slidesGrid[N-J]-K;l?c.setTranslate(c.translate-V):(c.slideTo(N-J,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-V,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-V))}else{const K=A?O.length/y.grid.rows:O.length;c.slideTo(c.activeIndex-K,0,!1,!0)}}if(c.allowSlidePrev=h,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const K={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...K,slideTo:W.params.slidesPerView===y.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...K,slideTo:c.controller.control.params.slidesPerView===y.slidesPerView?n:!1})}c.emit("loopFix")}function rRe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var sRe={loopCreate:nRe,loopFix:iRe,loopDestroy:rRe};function oRe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function aRe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var lRe={setGrabCursor:oRe,unsetGrabCursor:aRe};function cRe(t,e){e===void 0&&(e=this);function n(i){if(!i||i===rl()||i===bs())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function $z(t,e,n){const i=bs(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function uRe(t){const e=this,n=rl();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){$z(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!vPe(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(p?cRe(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const v=o.currentX,y=o.currentY;if(!$z(e,i,v))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=v,o.startY=y,r.touchStartTime=sE(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let b=!0;l.matches(r.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const S=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||S)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function dRe(t){const e=rl(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(R=>R.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=sE());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const p=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+v**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let R;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:p*p+v*v>=25&&(R=Math.atan2(Math.abs(v),Math.abs(p))*180/Math.PI,i.isScrolling=n.isHorizontal()?R>r.touchAngle:90-R>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let y=n.isHorizontal()?p:v,b=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),s.diff=y,y*=r.touchRatio,o&&(y=-y,b=-b);const S=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const _=n.params.loop&&!r.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(_&&w&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const R=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(R)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&S!==n.touchesDirection&&_&&w&&Math.abs(y)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let C=!0,A=r.resistanceRatio;if(r.touchReleaseOnEdges&&(A=0),y>0?(_&&w&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(C=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+y)**A))):y<0&&(_&&w&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(C=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-y)**A))),C&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(y)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function fRe(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(R=>R.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=sE(),p=h-n.touchStartTime;if(e.allowClick){const R=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(R&&R[0]||i.target,R),e.emit("tap click",i),p<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=sE(),rE(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(o.followFinger?v=l?e.translate:-e.translate:v=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:v});return}const y=v>=-e.maxTranslate()&&!e.params.loop;let b=0,S=e.slidesSizesGrid[0];for(let R=0;R<c.length;R+=R<o.slidesPerGroupSkip?1:o.slidesPerGroup){const O=R<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[R+O]<"u"?(y||v>=c[R]&&v<c[R+O])&&(b=R,S=c[R+O]-c[R]):(y||v>=c[R])&&(b=R,S=c[c.length-1]-c[c.length-2])}let _=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const C=(v-c[b])/S,A=b<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?_:b+A):e.slideTo(b)),e.swipeDirection==="prev"&&(C>1-o.longSwipesRatio?e.slideTo(b+A):w!==null&&C<0&&Math.abs(C)>o.longSwipesRatio?e.slideTo(w):e.slideTo(b))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(b+A):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:b+A),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:b))}}function qz(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function hRe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function pRe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function mRe(t){const e=this;ES(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function gRe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const wq=(t,e)=>{const n=rl(),{params:i,el:r,wrapperEl:s,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",qz,!0):t[c]("observerUpdate",qz,!0),r[l]("load",t.onLoad,{capture:!0}))};function vRe(){const t=this,{params:e}=t;t.onTouchStart=uRe.bind(t),t.onTouchMove=dRe.bind(t),t.onTouchEnd=fRe.bind(t),t.onDocumentTouchStart=gRe.bind(t),e.cssMode&&(t.onScroll=pRe.bind(t)),t.onClick=hRe.bind(t),t.onLoad=mRe.bind(t),wq(t,"on")}function yRe(){wq(this,"off")}var xRe={attachEvents:vRe,detachEvents:yRe};const Xz=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function _Re(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=rl(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const h=(c in s?s[c]:void 0)||t.originalParams,p=Xz(t,i),v=Xz(t,h),y=t.params.grabCursor,b=h.grabCursor,S=i.enabled;p&&!v?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&v&&(r.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!b?t.unsetGrabCursor():!y&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(O=>{if(typeof h[O]>"u")return;const L=i[O]&&i[O].enabled,z=h[O]&&h[O].enabled;L&&!z&&t[O].disable(),!L&&z&&t[O].enable()});const _=h.direction&&h.direction!==i.direction,w=i.loop&&(h.slidesPerView!==i.slidesPerView||_),C=i.loop;_&&n&&t.changeDirection(),Mo(t.params,h);const A=t.params.enabled,R=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),S&&!A?t.disable():!S&&A&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",h),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!C&&R?(t.loopCreate(e),t.updateSlides()):C&&!R&&t.loopDestroy()),t.emit("breakpoint",h)}function bRe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=bs(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var SRe={setBreakpoint:_Re,getBreakpoint:bRe};function wRe(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function ERe(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=wRe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function CRe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var TRe={addClasses:ERe,removeClasses:CRe};function MRe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var ARe={checkOverflow:MRe},BP={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function PRe(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Mo(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){Mo(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Mo(e,i)}}const FA={eventsEmitter:TPe,update:FPe,translate:HPe,transition:qPe,slide:tRe,loop:sRe,grabCursor:lRe,events:xRe,breakpoints:SRe,checkOverflow:ARe,classes:TRe},zA={};let FN=class Wc{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Mo({},n),e&&!n.el&&(n.el=e);const o=rl();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const p=Mo({},n,{el:h});d.push(new Wc(p))}),d}const a=this;a.__swiper__=!0,a.support=xq(),a.device=_q({userAgent:n.userAgent}),a.browser=bq(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:PRe(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Mo({},BP,l);return a.params=Mo({},c,zA,n),a.originalParams=Mo({},a.params),a.passedParams=Mo({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Ol(n,`.${i.slideClass}, swiper-slide`),s=Lx(r[0]);return Lx(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Ol(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let h=s[c]?Math.ceil(s[c].swiperSlideSize):0,p;for(let v=c+1;v<s.length;v+=1)s[v]&&!p&&(h+=Math.ceil(s[v].swiperSlideSize),d+=1,h>l&&(p=!0));for(let v=c-1;v>=0;v-=1)s[v]&&!p&&(h+=s[v].swiperSlideSize,d+=1,h>l&&(p=!0))}else if(e==="current")for(let h=c+1;h<s.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(d+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ES(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ol(i,r())[0];return!o&&n.params.createElements&&(o=qg("div",n.params.wrapperClass),i.append(o),Ol(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ad(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ad(i,"direction")==="rtl"),wrongRTL:Ad(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?ES(n,s):s.addEventListener("load",o=>{ES(n,o.target)})}),UP(n),n.initialized=!0,UP(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),fPe(i)),i.destroyed=!0),null}static extendDefaults(e){Mo(zA,e)}static get extendedDefaults(){return zA}static get defaults(){return BP}static installModule(e){Wc.prototype.__modules__||(Wc.prototype.__modules__=[]);const n=Wc.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Wc.installModule(n)),Wc):(Wc.installModule(e),Wc)}};Object.keys(FA).forEach(t=>{Object.keys(FA[t]).forEach(e=>{FN.prototype[e]=FA[t][e]})});FN.use([EPe,CPe]);const Eq=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Mg(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Qh(e[i])&&Qh(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Mg(t[i],e[i]):t[i]=e[i]})}function Cq(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Tq(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Mq(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Aq(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function RRe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function IRe(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=r.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:d,pagination:h,navigation:p,scrollbar:v,virtual:y,thumbs:b}=e;let S,_,w,C,A,R,O,L;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(S=!0),r.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(_=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(w=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&v&&!v.el&&(C=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(A=!0);const z=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),d[N].prevEl=void 0,d[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),d[N].el=void 0,e[N].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!i.loop?R=!0:!d.loop&&i.loop?O=!0:L=!0),c.forEach(N=>{if(Qh(d[N])&&Qh(i[N]))Object.assign(d[N],i[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in i[N]&&!i[N].enabled&&z(N);else{const k=i[N];(k===!0||k===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?k===!1&&z(N):d[N]=i[N]}}),c.includes("controller")&&!_&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&y&&d.virtual.enabled?(y.slides=n,y.update(!0)):r.includes("virtual")&&y&&d.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),r.includes("children")&&n&&d.loop&&(L=!0),S&&b.init()&&b.update(!0),_&&(e.controller.control=d.controller.control),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),C&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),v.init(),v.updateSize(),v.setTranslate()),A&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(R||L)&&e.loopDestroy(),(O||L)&&e.loopCreate(),e.update()}function kRe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};Mg(n,BP),n._emitClasses=!0,n.init=!1;const s={},o=Eq.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Qh(t[l])?(n[l]={},r[l]={},Mg(n[l],t[l]),Mg(r[l],t[l])):(n[l]=t[l],r[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:s,events:i}}function NRe(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=t;Cq(e)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),Tq(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),Mq(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function ORe(t,e,n,i,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&i){const l=i.map(r),c=n.map(r);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return Eq.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Qh(t[l])&&Qh(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const LRe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aE.apply(this,arguments)}function Pq(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Rq(t){const e=[];return rt.Children.toArray(t).forEach(n=>{Pq(n)?e.push(n):n.props&&n.props.children&&Rq(n.props.children).forEach(i=>e.push(i))}),e}function DRe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return rt.Children.toArray(t).forEach(i=>{if(Pq(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=Rq(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function FRe(t,e,n){if(!n)return null;const i=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let d=a;d<l;d+=1)d>=s&&d<=o&&c.push(e[i(d)]);return c.map((d,h)=>rt.cloneElement(d,{swiper:t,style:r,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function Uy(t,e){return typeof window>"u"?U.useEffect(t,e):U.useLayoutEffect(t,e)}const Yz=U.createContext(null),zRe=U.createContext(null),DC=U.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,d]=U.useState("swiper"),[h,p]=U.useState(null),[v,y]=U.useState(!1),b=U.useRef(!1),S=U.useRef(null),_=U.useRef(null),w=U.useRef(null),C=U.useRef(null),A=U.useRef(null),R=U.useRef(null),O=U.useRef(null),L=U.useRef(null),{params:z,passedParams:N,rest:k,events:B}=kRe(a),{slides:H,slots:J}=DRe(s),Z=()=>{y(!v)};Object.assign(z.on,{_containerClasses(X,te){d(te)}});const $=()=>{Object.assign(z.on,B),l=!0;const X={...z};if(delete X.wrapperClass,_.current=new FN(X),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=H;const te={cache:!1,slides:H,renderExternal:p,renderExternalUpdate:!1};Mg(_.current.params.virtual,te),Mg(_.current.originalParams.virtual,te)}};S.current||$(),_.current&&_.current.on("_beforeBreakpoint",Z);const K=()=>{l||!B||!_.current||Object.keys(B).forEach(X=>{_.current.on(X,B[X])})},W=()=>{!B||!_.current||Object.keys(B).forEach(X=>{_.current.off(X,B[X])})};U.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",Z)}),U.useEffect(()=>{!b.current&&_.current&&(_.current.emitSlidesClasses(),b.current=!0)}),Uy(()=>{if(e&&(e.current=S.current),!!S.current)return _.current.destroyed&&$(),NRe({el:S.current,nextEl:A.current,prevEl:R.current,paginationEl:O.current,scrollbarEl:L.current,swiper:_.current},z),o&&!_.current.destroyed&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),Uy(()=>{K();const X=ORe(N,w.current,H,C.current,te=>te.key);return w.current=N,C.current=H,X.length&&_.current&&!_.current.destroyed&&IRe({swiper:_.current,slides:H,passedParams:N,changedParams:X,nextEl:A.current,prevEl:R.current,scrollbarEl:L.current,paginationEl:O.current}),()=>{W()}}),Uy(()=>{LRe(_.current)},[h]);function V(){return z.virtual?FRe(_.current,H,h):H.map((X,te)=>rt.cloneElement(X,{swiper:_.current,swiperSlideIndex:te}))}return rt.createElement(i,aE({ref:S,className:Aq(`${c}${n?` ${n}`:""}`)},k),rt.createElement(zRe.Provider,{value:_.current},J["container-start"],rt.createElement(r,{className:RRe(z.wrapperClass)},J["wrapper-start"],V(),J["wrapper-end"]),Cq(z)&&rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:R,className:"swiper-button-prev"}),rt.createElement("div",{ref:A,className:"swiper-button-next"})),Mq(z)&&rt.createElement("div",{ref:L,className:"swiper-scrollbar"}),Tq(z)&&rt.createElement("div",{ref:O,className:"swiper-pagination"}),J["container-end"]))});DC.displayName="Swiper";const FC=U.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...d}=t===void 0?{}:t;const h=U.useRef(null),[p,v]=U.useState("swiper-slide"),[y,b]=U.useState(!1);function S(A,R,O){R===h.current&&v(O)}Uy(()=>{if(typeof c<"u"&&(h.current.swiperSlideIndex=c),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){p!=="swiper-slide"&&v("swiper-slide");return}return s.on("_slideClass",S),()=>{s&&s.off("_slideClass",S)}}}),Uy(()=>{s&&h.current&&!s.destroyed&&v(s.getSlideClasses(h.current))},[s]);const _={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},w=()=>typeof i=="function"?i(_):i,C=()=>{b(!0)};return rt.createElement(n,aE({ref:h,className:Aq(`${p}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:C},d),o&&rt.createElement(Yz.Provider,{value:_},rt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},w(),a&&!y&&rt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&rt.createElement(Yz.Provider,{value:_},w(),a&&!y&&rt.createElement("div",{className:"swiper-lazy-preloader"})))});FC.displayName="SwiperSlide";function zN(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Ol(t.el,`.${i[r]}`)[0];s||(s=qg("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function Iq(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(y){let b;return y&&typeof y=="string"&&e.isElement&&(b=e.el.querySelector(y)||e.hostEl.querySelector(y),b)?b:(y&&(typeof y=="string"&&(b=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&b&&b.length>1&&e.el.querySelectorAll(y).length===1?b=e.el.querySelector(y):b&&b.length===1&&(b=b[0])),y&&!b?y:b)}function o(y,b){const S=e.params.navigation;y=pn(y),y.forEach(_=>{_&&(_.classList[b?"add":"remove"](...S.disabledClass.split(" ")),_.tagName==="BUTTON"&&(_.disabled=b),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](S.lockClass))})}function a(){const{nextEl:y,prevEl:b}=e.navigation;if(e.params.loop){o(b,!1),o(y,!1);return}o(b,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function l(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=zN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let b=s(y.nextEl),S=s(y.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:S}),b=pn(b),S=pn(S);const _=(w,C)=>{w&&w.addEventListener("click",C==="next"?c:l),!e.enabled&&w&&w.classList.add(...y.lockClass.split(" "))};b.forEach(w=>_(w,"next")),S.forEach(w=>_(w,"prev"))}function h(){let{nextEl:y,prevEl:b}=e.navigation;y=pn(y),b=pn(b);const S=(_,w)=>{_.removeEventListener("click",w==="next"?c:l),_.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(_=>S(_,"next")),b.forEach(_=>S(_,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?v():(d(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:y,prevEl:b}=e.navigation;if(y=pn(y),b=pn(b),e.enabled){a();return}[...y,...b].filter(S=>!!S).forEach(S=>S.classList.add(e.params.navigation.lockClass))}),i("click",(y,b)=>{let{nextEl:S,prevEl:_}=e.navigation;S=pn(S),_=pn(_);const w=b.target;let C=_.includes(w)||S.includes(w);if(e.isElement&&!C){const A=b.path||b.composedPath&&b.composedPath();A&&(C=A.find(R=>S.includes(R)||_.includes(R)))}if(e.params.navigation.hideOnClick&&!C){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===w||e.pagination.el.contains(w)))return;let A;S.length?A=S[0].classList.contains(e.params.navigation.hiddenClass):_.length&&(A=_[0].classList.contains(e.params.navigation.hiddenClass)),r(A===!0?"navigationShow":"navigationHide"),[...S,..._].filter(R=>!!R).forEach(R=>R.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:v,update:a,init:d,destroy:h})}function qc(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function UN(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(w,C){const{bulletActiveClass:A}=e.params.pagination;w&&(w=w[`${C==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${A}-${C}`),w=w[`${C==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${A}-${C}-${C}`)))}function d(w,C,A){if(w=w%A,C=C%A,C===w+1)return"next";if(C===w-1)return"previous"}function h(w){const C=w.target.closest(qc(e.params.pagination.bulletClass));if(!C)return;w.preventDefault();const A=Lx(C)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===A)return;const R=d(e.realIndex,A,e.slides.length);R==="next"?e.slideNext():R==="previous"?e.slidePrev():e.slideToLoop(A)}else e.slideTo(A)}function p(){const w=e.rtl,C=e.params.pagination;if(l())return;let A=e.pagination.el;A=pn(A);let R,O;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,z=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(O=e.previousRealIndex||0,R=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(R=e.snapIndex,O=e.previousSnapIndex):(O=e.previousIndex||0,R=e.activeIndex||0),C.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let k,B,H;if(C.dynamicBullets&&(o=zP(N[0],e.isHorizontal()?"width":"height"),A.forEach(J=>{J.style[e.isHorizontal()?"width":"height"]=`${o*(C.dynamicMainBullets+4)}px`}),C.dynamicMainBullets>1&&O!==void 0&&(a+=R-(O||0),a>C.dynamicMainBullets-1?a=C.dynamicMainBullets-1:a<0&&(a=0)),k=Math.max(R-a,0),B=k+(Math.min(N.length,C.dynamicMainBullets)-1),H=(B+k)/2),N.forEach(J=>{const Z=[...["","-next","-next-next","-prev","-prev-prev","-main"].map($=>`${C.bulletActiveClass}${$}`)].map($=>typeof $=="string"&&$.includes(" ")?$.split(" "):$).flat();J.classList.remove(...Z)}),A.length>1)N.forEach(J=>{const Z=Lx(J);Z===R?J.classList.add(...C.bulletActiveClass.split(" ")):e.isElement&&J.setAttribute("part","bullet"),C.dynamicBullets&&(Z>=k&&Z<=B&&J.classList.add(...`${C.bulletActiveClass}-main`.split(" ")),Z===k&&c(J,"prev"),Z===B&&c(J,"next"))});else{const J=N[R];if(J&&J.classList.add(...C.bulletActiveClass.split(" ")),e.isElement&&N.forEach((Z,$)=>{Z.setAttribute("part",$===R?"bullet-active":"bullet")}),C.dynamicBullets){const Z=N[k],$=N[B];for(let K=k;K<=B;K+=1)N[K]&&N[K].classList.add(...`${C.bulletActiveClass}-main`.split(" "));c(Z,"prev"),c($,"next")}}if(C.dynamicBullets){const J=Math.min(N.length,C.dynamicMainBullets+4),Z=(o*J-o)/2-H*o,$=w?"right":"left";N.forEach(K=>{K.style[e.isHorizontal()?$:"top"]=`${Z}px`})}}A.forEach((N,k)=>{if(C.type==="fraction"&&(N.querySelectorAll(qc(C.currentClass)).forEach(B=>{B.textContent=C.formatFractionCurrent(R+1)}),N.querySelectorAll(qc(C.totalClass)).forEach(B=>{B.textContent=C.formatFractionTotal(z)})),C.type==="progressbar"){let B;C.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const H=(R+1)/z;let J=1,Z=1;B==="horizontal"?J=H:Z=H,N.querySelectorAll(qc(C.progressbarFillClass)).forEach($=>{$.style.transform=`translate3d(0,0,0) scaleX(${J}) scaleY(${Z})`,$.style.transitionDuration=`${e.params.speed}ms`})}C.type==="custom"&&C.renderCustom?(N.innerHTML=C.renderCustom(e,R+1,z),k===0&&r("paginationRender",N)):(k===0&&r("paginationRender",N),r("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](C.lockClass)})}function v(){const w=e.params.pagination;if(l())return;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let A=e.pagination.el;A=pn(A);let R="";if(w.type==="bullets"){let O=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&O>C&&(O=C);for(let L=0;L<O;L+=1)w.renderBullet?R+=w.renderBullet.call(e,L,w.bulletClass):R+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?R=w.renderFraction.call(e,w.currentClass,w.totalClass):R=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?R=w.renderProgressbar.call(e,w.progressbarFillClass):R=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],A.forEach(O=>{w.type!=="custom"&&(O.innerHTML=R||""),w.type==="bullets"&&e.pagination.bullets.push(...O.querySelectorAll(qc(w.bulletClass)))}),w.type!=="custom"&&r("paginationRender",A[0])}function y(){e.params.pagination=zN(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let C;typeof w.el=="string"&&e.isElement&&(C=e.el.querySelector(w.el)),!C&&typeof w.el=="string"&&(C=[...document.querySelectorAll(w.el)]),C||(C=w.el),!(!C||C.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(C)&&C.length>1&&(C=[...e.el.querySelectorAll(w.el)],C.length>1&&(C=C.find(A=>yq(A,".swiper")[0]===e.el))),Array.isArray(C)&&C.length===1&&(C=C[0]),Object.assign(e.pagination,{el:C}),C=pn(C),C.forEach(A=>{w.type==="bullets"&&w.clickable&&A.classList.add(...(w.clickableClass||"").split(" ")),A.classList.add(w.modifierClass+w.type),A.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(A.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&A.classList.add(w.progressbarOppositeClass),w.clickable&&A.addEventListener("click",h),e.enabled||A.classList.add(w.lockClass)}))}function b(){const w=e.params.pagination;if(l())return;let C=e.pagination.el;C&&(C=pn(C),C.forEach(A=>{A.classList.remove(w.hiddenClass),A.classList.remove(w.modifierClass+w.type),A.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(A.classList.remove(...(w.clickableClass||"").split(" ")),A.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(A=>A.classList.remove(...w.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:C}=e.pagination;C=pn(C),C.forEach(A=>{A.classList.remove(w.horizontalClass,w.verticalClass),A.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?_():(y(),v(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{v(),p()}),i("destroy",()=>{b()}),i("enable disable",()=>{let{el:w}=e.pagination;w&&(w=pn(w),w.forEach(C=>C.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(w,C)=>{const A=C.target,R=pn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&R&&R.length>0&&!A.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&A===e.navigation.nextEl||e.navigation.prevEl&&A===e.navigation.prevEl))return;const O=R[0].classList.contains(e.params.pagination.hiddenClass);r(O===!0?"paginationShow":"paginationHide"),R.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const S=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=pn(w),w.forEach(C=>C.classList.remove(e.params.pagination.paginationDisabledClass))),y(),v(),p()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=pn(w),w.forEach(C=>C.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:S,disable:_,render:v,update:p,init:y,destroy:b})}function kq(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=rl();let o=!1,a=null,l=null,c,d,h,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function v(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:H,rtlTranslate:J}=e,{dragEl:Z,el:$}=H,K=e.params.scrollbar,W=e.params.loop?e.progressLoop:e.progress;let V=d,X=(h-d)*W;J?(X=-X,X>0?(V=d-X,X=0):-X+d>h&&(V=h+X)):X<0?(V=d+X,X=0):X+d>h&&(V=h-X),e.isHorizontal()?(Z.style.transform=`translate3d(${X}px, 0, 0)`,Z.style.width=`${V}px`):(Z.style.transform=`translate3d(0px, ${X}px, 0)`,Z.style.height=`${V}px`),K.hide&&(clearTimeout(a),$.style.opacity=1,a=setTimeout(()=>{$.style.opacity=0,$.style.transitionDuration="400ms"},1e3))}function y(H){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${H}ms`)}function b(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:H}=e,{dragEl:J,el:Z}=H;J.style.width="",J.style.height="",h=e.isHorizontal()?Z.offsetWidth:Z.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=h*p:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?J.style.width=`${d}px`:J.style.height=`${d}px`,p>=1?Z.style.display="none":Z.style.display="",e.params.scrollbar.hide&&(Z.style.opacity=0),e.params.watchOverflow&&e.enabled&&H.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function S(H){return e.isHorizontal()?H.clientX:H.clientY}function _(H){const{scrollbar:J,rtlTranslate:Z}=e,{el:$}=J;let K;K=(S(H)-yPe($)[e.isHorizontal()?"left":"top"]-(c!==null?c:d/2))/(h-d),K=Math.max(Math.min(K,1),0),Z&&(K=1-K);const W=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*K;e.updateProgress(W),e.setTranslate(W),e.updateActiveIndex(),e.updateSlidesClasses()}function w(H){const J=e.params.scrollbar,{scrollbar:Z,wrapperEl:$}=e,{el:K,dragEl:W}=Z;o=!0,c=H.target===W?S(H)-H.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,H.preventDefault(),H.stopPropagation(),$.style.transitionDuration="100ms",W.style.transitionDuration="100ms",_(H),clearTimeout(l),K.style.transitionDuration="0ms",J.hide&&(K.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",H)}function C(H){const{scrollbar:J,wrapperEl:Z}=e,{el:$,dragEl:K}=J;o&&(H.preventDefault&&H.cancelable?H.preventDefault():H.returnValue=!1,_(H),Z.style.transitionDuration="0ms",$.style.transitionDuration="0ms",K.style.transitionDuration="0ms",r("scrollbarDragMove",H))}function A(H){const J=e.params.scrollbar,{scrollbar:Z,wrapperEl:$}=e,{el:K}=Z;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",$.style.transitionDuration=""),J.hide&&(clearTimeout(l),l=rE(()=>{K.style.opacity=0,K.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",H),J.snapOnRelease&&e.slideToClosest())}function R(H){const{scrollbar:J,params:Z}=e,$=J.el;if(!$)return;const K=$,W=Z.passiveListeners?{passive:!1,capture:!1}:!1,V=Z.passiveListeners?{passive:!0,capture:!1}:!1;if(!K)return;const X=H==="on"?"addEventListener":"removeEventListener";K[X]("pointerdown",w,W),s[X]("pointermove",C,W),s[X]("pointerup",A,V)}function O(){!e.params.scrollbar.el||!e.scrollbar.el||R("on")}function L(){!e.params.scrollbar.el||!e.scrollbar.el||R("off")}function z(){const{scrollbar:H,el:J}=e;e.params.scrollbar=zN(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const Z=e.params.scrollbar;if(!Z.el)return;let $;if(typeof Z.el=="string"&&e.isElement&&($=e.el.querySelector(Z.el)),!$&&typeof Z.el=="string"){if($=s.querySelectorAll(Z.el),!$.length)return}else $||($=Z.el);e.params.uniqueNavElements&&typeof Z.el=="string"&&$.length>1&&J.querySelectorAll(Z.el).length===1&&($=J.querySelector(Z.el)),$.length>0&&($=$[0]),$.classList.add(e.isHorizontal()?Z.horizontalClass:Z.verticalClass);let K;$&&(K=$.querySelector(qc(e.params.scrollbar.dragClass)),K||(K=qg("div",e.params.scrollbar.dragClass),$.append(K))),Object.assign(H,{el:$,dragEl:K}),Z.draggable&&O(),$&&$.classList[e.enabled?"remove":"add"](...xd(e.params.scrollbar.lockClass))}function N(){const H=e.params.scrollbar,J=e.scrollbar.el;J&&J.classList.remove(...xd(e.isHorizontal()?H.horizontalClass:H.verticalClass)),L()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const H=e.params.scrollbar;let{el:J}=e.scrollbar;J=pn(J),J.forEach(Z=>{Z.classList.remove(H.horizontalClass,H.verticalClass),Z.classList.add(e.isHorizontal()?H.horizontalClass:H.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?B():(z(),b(),v())}),i("update resize observerUpdate lock unlock changeDirection",()=>{b()}),i("setTranslate",()=>{v()}),i("setTransition",(H,J)=>{y(J)}),i("enable disable",()=>{const{el:H}=e.scrollbar;H&&H.classList[e.enabled?"remove":"add"](...xd(e.params.scrollbar.lockClass))}),i("destroy",()=>{N()});const k=()=>{e.el.classList.remove(...xd(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...xd(e.params.scrollbar.scrollbarDisabledClass)),z(),b(),v()},B=()=>{e.el.classList.add(...xd(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...xd(e.params.scrollbar.scrollbarDisabledClass)),N()};Object.assign(e.scrollbar,{enable:k,disable:B,updateSize:b,setTranslate:v,init:z,destroy:N})}function Nq(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function l(W){const V=r;V.length!==0&&(V.innerHTML="",V.innerHTML=W)}function c(W){const V=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(W).replace(/x/g,V)}function d(W){W=pn(W),W.forEach(V=>{V.setAttribute("tabIndex","0")})}function h(W){W=pn(W),W.forEach(V=>{V.setAttribute("tabIndex","-1")})}function p(W,V){W=pn(W),W.forEach(X=>{X.setAttribute("role",V)})}function v(W,V){W=pn(W),W.forEach(X=>{X.setAttribute("aria-roledescription",V)})}function y(W,V){W=pn(W),W.forEach(X=>{X.setAttribute("aria-controls",V)})}function b(W,V){W=pn(W),W.forEach(X=>{X.setAttribute("aria-label",V)})}function S(W,V){W=pn(W),W.forEach(X=>{X.setAttribute("id",V)})}function _(W,V){W=pn(W),W.forEach(X=>{X.setAttribute("aria-live",V)})}function w(W){W=pn(W),W.forEach(V=>{V.setAttribute("aria-disabled",!0)})}function C(W){W=pn(W),W.forEach(V=>{V.setAttribute("aria-disabled",!1)})}function A(W){if(W.keyCode!==13&&W.keyCode!==32)return;const V=e.params.a11y,X=W.target;if(!(e.pagination&&e.pagination.el&&(X===e.pagination.el||e.pagination.el.contains(W.target))&&!W.target.matches(qc(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const te=pn(e.navigation.prevEl);pn(e.navigation.nextEl).includes(X)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(V.lastSlideMessage):l(V.nextSlideMessage)),te.includes(X)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(V.firstSlideMessage):l(V.prevSlideMessage))}e.pagination&&X.matches(qc(e.params.pagination.bulletClass))&&X.click()}}function R(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:W,prevEl:V}=e.navigation;V&&(e.isBeginning?(w(V),h(V)):(C(V),d(V))),W&&(e.isEnd?(w(W),h(W)):(C(W),d(W)))}function O(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function L(){return O()&&e.params.pagination.clickable}function z(){const W=e.params.a11y;O()&&e.pagination.bullets.forEach(V=>{e.params.pagination.clickable&&(d(V),e.params.pagination.renderBullet||(p(V,"button"),b(V,W.paginationBulletMessage.replace(/\{\{index\}\}/,Lx(V)+1)))),V.matches(qc(e.params.pagination.bulletActiveClass))?V.setAttribute("aria-current","true"):V.removeAttribute("aria-current")})}const N=(W,V,X)=>{d(W),W.tagName!=="BUTTON"&&(p(W,"button"),W.addEventListener("keydown",A)),b(W,X),y(W,V)},k=W=>{o&&o!==W.target&&!o.contains(W.target)&&(s=!0),e.a11y.clicked=!0},B=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},H=W=>{a=new Date().getTime()},J=W=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const V=W.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!V||!e.slides.includes(V))return;o=V;const X=e.slides.indexOf(V)===e.activeIndex,te=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(V);X||te||W.sourceCapabilities&&W.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt(V.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(V),0),s=!1)}))},Z=()=>{const W=e.params.a11y;W.itemRoleDescriptionMessage&&v(e.slides,W.itemRoleDescriptionMessage),W.slideRole&&p(e.slides,W.slideRole);const V=e.slides.length;W.slideLabelMessage&&e.slides.forEach((X,te)=>{const Y=e.params.loop?parseInt(X.getAttribute("data-swiper-slide-index"),10):te,oe=W.slideLabelMessage.replace(/\{\{index\}\}/,Y+1).replace(/\{\{slidesLength\}\}/,V);b(X,oe)})},$=()=>{const W=e.params.a11y;e.el.append(r);const V=e.el;W.containerRoleDescriptionMessage&&v(V,W.containerRoleDescriptionMessage),W.containerMessage&&b(V,W.containerMessage),W.containerRole&&p(V,W.containerRole);const X=e.wrapperEl,te=W.id||X.getAttribute("id")||`swiper-wrapper-${c(16)}`,Y=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";S(X,te),_(X,Y),Z();let{nextEl:oe,prevEl:ke}=e.navigation?e.navigation:{};oe=pn(oe),ke=pn(ke),oe&&oe.forEach(Se=>N(Se,te,W.nextSlideMessage)),ke&&ke.forEach(Se=>N(Se,te,W.prevSlideMessage)),L()&&pn(e.pagination.el).forEach(Fe=>{Fe.addEventListener("keydown",A)}),rl().addEventListener("visibilitychange",H),e.el.addEventListener("focus",J,!0),e.el.addEventListener("focus",J,!0),e.el.addEventListener("pointerdown",k,!0),e.el.addEventListener("pointerup",B,!0)};function K(){r&&r.remove();let{nextEl:W,prevEl:V}=e.navigation?e.navigation:{};W=pn(W),V=pn(V),W&&W.forEach(te=>te.removeEventListener("keydown",A)),V&&V.forEach(te=>te.removeEventListener("keydown",A)),L()&&pn(e.pagination.el).forEach(Y=>{Y.removeEventListener("keydown",A)}),rl().removeEventListener("visibilitychange",H),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",J,!0),e.el.removeEventListener("pointerdown",k,!0),e.el.removeEventListener("pointerup",B,!0))}i("beforeInit",()=>{r=qg("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&$()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&Z()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&R()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&z()}),i("destroy",()=>{e.params.a11y.enabled&&K()})}function URe(){const t=[{imageUrl:" /images/Merch/Vinyls/upcoming1.png",title:"Harmonic Ghosts",date:"May 15, 2024",duration:42,tracks:12},{imageUrl:" /images/Merch/Vinyls/upcoming2.jpg",title:"Midnight Echoes",date:"June 16, 2024",duration:45,tracks:12},{imageUrl:" /images/Merch/Vinyls/upcoming3.jpg",title:"Echoes of Silence",date:"July 17, 2024",duration:38,tracks:10}];return E.jsxs("div",{children:[E.jsx("div",{style:{position:"relative",width:"100%",height:"100vh"},children:E.jsx("img",{src:"/images/Stage_Fright_Main_Page_Image.png",alt:"Home Screen Image",style:{width:"100%",height:"100%",objectFit:"cover"}})}),E.jsx(et.div,{className:"threed-intro-title",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0,transition:{duration:1.2,ease:"easeOut"}},viewport:{once:!0,amount:.5},children:"Newest Stage Fright Albums"}),E.jsx("div",{children:E.jsx(uPe,{})}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#09090b",paddingTop:"20px",paddingBottom:"20px"},children:[E.jsx(et.h1,{style:{fontFamily:"Sansation",color:"white",fontSize:"50px",fontWeight:"700",textAlign:"center"},initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.8},transition:{duration:.8,ease:"easeOut"},children:"Experience Stage Fright"}),E.jsx(Ci,{to:"/tour",onClick:()=>window.scrollTo(0,0),children:E.jsx(Rl,{variant:"solid",p:2,fontFamily:"Sansation",fontWeight:"700",fontSize:15,children:"View All"})}),E.jsx("div",{style:{height:"50px"}}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"100%",padding:"0 5%",justifyItems:"center",gap:"20px",marginBottom:"20px"},children:[E.jsx(et.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},viewport:{once:!0},children:E.jsx(pM,{frontside_imageUrl:" /images/flipcards/front1.jpg",icon:vve,frontside_title:"Rock Fact",inside_title:"Did you Know?",inside_imageUrl:" /images/flipcards/front1.jpg",inside_description:"Our first jam session was in a garage!"})}),E.jsx(et.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut",delay:.2},viewport:{once:!0},children:E.jsx(pM,{frontside_imageUrl:" /images/flipcards/front2.jpg",icon:yve,frontside_title:"Exciting News",inside_title:"New Merch!",inside_imageUrl:" /images/flipcards/front2.jpg",inside_description:"Shop Stage Fright by checking out our new hoodies in the Store Page!"})}),E.jsx(et.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut",delay:.4},viewport:{once:!0},children:E.jsx(pM,{frontside_imageUrl:" /images/flipcards/front3.jpg",icon:tue,frontside_title:"Feel the Energy",inside_title:"Concert Crowd",inside_imageUrl:" /images/flipcards/front3.jpg",inside_description:"We bring the heat with electrifying riffs, pulsating drums, and raw energy that keeps the crowd rocking all night long."})})]})]}),E.jsxs("div",{children:[E.jsx("h1",{className:"upcoming-albums",children:"Upcoming Albums"}),E.jsx(et.div,{className:"carousel-container",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0,amount:.3},children:E.jsx(DC,{modules:[UN,Iq],spaceBetween:30,slidesPerView:1,pagination:{clickable:!0},navigation:!0,loop:!0,className:"album-swiper",children:t.map((e,n)=>E.jsx(FC,{children:E.jsx(wve,{imageUrl:e.imageUrl,title:e.title,date:e.date,duration:e.duration,tracks:e.tracks})},n))})})]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#09090b",paddingTop:"40px",paddingBottom:"40px"},children:E.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[E.jsx("img",{src:" /images/contact-home.jpg",alt:"Description",style:{width:"100%",height:"100%",objectFit:"cover"}}),E.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",textAlign:"center",padding:"20px"},children:[E.jsx("h1",{style:{fontFamily:"Sansation",fontSize:"40px",fontWeight:"700",color:"white",textShadow:"2px 2px 0 black, -2px -2px 0 black, -2px 2px 0 black, 2px -2px 0 black"},children:"Want your event to be loud? Have a crazy night with us"}),E.jsx(Ci,{to:"/contact-us",style:{textDecoration:"none"},children:E.jsx(Rl,{variant:"solid",p:8,fontFamily:"Sansation",fontWeight:"700",fontSize:20,background:"#E9204F",color:"white",children:"Contact Us"})})]})]})}),E.jsx(tc,{})]})}const BRe="_canvas_u5uol_1",VRe={canvas:BRe},Gb=({imageUrl:t,name:e,position:n,description:i})=>{const r=U.useRef(null);return U.useEffect(()=>{const s=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&a.target.classList.add("fade-in")})},{threshold:.2});return r.current&&s.observe(r.current),()=>{r.current&&s.unobserve(r.current)}},[]),E.jsxs("div",{ref:r,className:"member_container fade-section",children:[E.jsx("img",{src:t,alt:"item picture",className:"member_image"}),E.jsx("div",{className:"member_name",children:E.jsx("h2",{style:{fontWeight:"bold"},children:e})}),E.jsx("div",{className:"member_position",children:E.jsx("h2",{children:n})}),E.jsx("div",{className:"member_description",children:E.jsx("h5",{children:i})})]})};function jRe(){return E.jsxs("div",{className:`${VRe.canvas} responsive-container`,style:{overflow:"hidden"},children:[E.jsx(et.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1},style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"black",marginTop:"20px",position:"relative"},children:E.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[E.jsx("img",{src:" /images/aboutus.jpg",alt:"Stage Fright Tour",style:{width:"100%",height:"100%",objectFit:"cover"}}),E.jsx("div",{className:"hero2-overlay",children:E.jsx("h1",{children:"About Us"})})]})}),E.jsxs("div",{className:"background_lore_background",children:[E.jsxs(et.div,{className:"video_container",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:1},viewport:{once:!0},children:[E.jsx("video",{src:" /images/OutofFocus.mp4",controls:!0,poster:" /images/concertThumbnail.jpeg",className:"video",children:"Your browser does not support the video tag."}),E.jsx("h3",{className:"video_caption",children:"What it's like to Experience a Stage Fright Concert"})]}),E.jsxs("div",{className:"background_info",children:[E.jsx(et.h2,{className:"background_title",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1},viewport:{once:!0},children:"How the Band got Started"}),E.jsx(et.div,{className:"background_description1",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:"Stage Fright was born in 2010 when best friends Ryan Blake (guitarist) and Liam Carter (drummer) teamed up with vocalist Sophia Reed and bassist Emily Hayes after meeting at a local open mic night. Their shared love for classic rock and energetic performances brought them together, and they quickly began writing original songs."}),E.jsx(et.div,{className:"background_description2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.3},viewport:{once:!0},children:"The bands name, Stage Fright, came from the nerves they all felt before their first showa battle of the bands that they unexpectedly won. That moment cemented their bond and set them on a path to pursue music full-time."}),E.jsx(et.div,{className:"background_description3",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:"Since then, Stage Fright has been lighting up stages across the country with their dynamic sound and electric chemistry. From garage sessions to packed venues, theyve built a loyal fanbase while staying true to their roots and passion for making music."})]})]}),E.jsxs("div",{className:"members_page",children:[E.jsx("h2",{className:"member_title",children:"Meet the Band"}),E.jsxs("div",{className:"members_page_sub",children:[E.jsx(Gb,{imageUrl:" /images/People/VocalistImage.jpg",name:"Sophia Reed",position:"Vocalist",description:"Sophia Reed, a captivating vocalist, possesses a powerful and soulful voice that effortlessly blends raw emotion with technical precision."}),E.jsx(Gb,{imageUrl:" /images/People/GuitaristImage.jpg",name:"Ryan Blake",position:"Guitarist",description:"Ryan Blake, a gifted guitarist with a fiery stage presence, delivers electrifying solos and intricate riffs that ignite the energy of every performance."}),E.jsx(Gb,{imageUrl:" /images/People/BassistImage.jpg",name:"Emily Hayes",position:"Bassist",description:"Emily Hayes, a bassist renowned for her powerful and driving grooves, provides the solid foundation that anchors the bands sound."}),E.jsx(Gb,{imageUrl:" /images/People/DrummerImage.jpg",name:"Liam Carter",position:"Drummer",description:"Liam Carter, a dynamic drummer with impeccable timing and explosive energy, provides the driving force behind the bands powerful sound."})]}),E.jsx(tc,{})]})]})}const Oq=({imageUrl:t,price:e,title:n,description:i,orange:r,blue:s,black:o,grey:a})=>E.jsx(Ci,{to:"/checkout",className:"item-link",state:{imageUrl:t,price:e,title:n,description:i,orange:r,blue:s,black:o,grey:a},onClick:()=>window.scrollTo(0,0),children:E.jsxs(et.div,{className:"item-container",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:0},transition:{duration:.8},children:[E.jsx("div",{className:"image-container",children:E.jsx("img",{src:t,alt:"item picture",className:"item-image"})}),E.jsx("div",{className:"price-container",children:E.jsxs("h2",{className:"price",children:["$",e]})}),E.jsx("div",{className:"title-container",children:E.jsx("h3",{className:"title",children:n})}),E.jsx("div",{className:"description-container",children:E.jsx("p",{className:"description",children:i})})]})}),HRe=U.forwardRef(function(e,n){const{marks:i,label:r,showValue:s,...o}=e,a=e.defaultValue??e.value,l=i==null?void 0:i.map(d=>typeof d=="number"?{value:d,label:void 0}:d),c=!!(l!=null&&l.some(d=>d.label));return E.jsxs(Gae,{ref:n,thumbAlignment:"center",...o,children:[r&&!s&&E.jsx(d3,{children:r}),r&&s&&E.jsxs(Cj,{justify:"space-between",children:[E.jsx(d3,{children:r}),E.jsx(Yae,{})]}),E.jsxs(Kae,{"data-has-mark-label":c||void 0,children:[E.jsx($ae,{children:E.jsx(qae,{})}),E.jsx(WRe,{value:a}),E.jsx(GRe,{marks:l})]})]})});function WRe(t){const{value:e}=t;return E.jsx(Uae,{each:e,children:(n,i)=>E.jsx(Xae,{index:i,children:E.jsx(Jae,{})},i)})}const GRe=U.forwardRef(function(e,n){const{marks:i}=e;return i!=null&&i.length?E.jsx(Sj,{ref:n,children:i.map((r,s)=>{const o=typeof r=="number"?r:r.value,a=typeof r=="number"?void 0:r.label;return E.jsxs(wj,{value:o,children:[E.jsx(Ej,{}),a]},s)})}):null});function $Re(t){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M3.9 22.9C10.5 8.9 24.5 0 40 0L472 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm59.3 107.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"},child:[]}]})(t)}function xu(t){return Array.isArray?Array.isArray(t):Fq(t)==="[object Array]"}function qRe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function XRe(t){return t==null?"":qRe(t)}function Ll(t){return typeof t=="string"}function Lq(t){return typeof t=="number"}function YRe(t){return t===!0||t===!1||KRe(t)&&Fq(t)=="[object Boolean]"}function Dq(t){return typeof t=="object"}function KRe(t){return Dq(t)&&t!==null}function Po(t){return t!=null}function UA(t){return!t.trim().length}function Fq(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const JRe="Incorrect 'index' type",QRe=t=>`Invalid value for key ${t}`,ZRe=t=>`Pattern length exceeds max of ${t}.`,eIe=t=>`Missing ${t} property in key`,tIe=t=>`Property 'weight' in key '${t}' must be a positive integer`,Kz=Object.prototype.hasOwnProperty;class nIe{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(i=>{let r=zq(i);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(i=>{i.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function zq(t){let e=null,n=null,i=null,r=1,s=null;if(Ll(t)||xu(t))i=t,e=Jz(t),n=VP(t);else{if(!Kz.call(t,"name"))throw new Error(eIe("name"));const o=t.name;if(i=o,Kz.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(tIe(o));e=Jz(o),n=VP(o),s=t.getFn}return{path:e,id:n,weight:r,src:i,getFn:s}}function Jz(t){return xu(t)?t:t.split(".")}function VP(t){return xu(t)?t.join("."):t}function iIe(t,e){let n=[],i=!1;const r=(s,o,a)=>{if(Po(s))if(!o[a])n.push(s);else{let l=o[a];const c=s[l];if(!Po(c))return;if(a===o.length-1&&(Ll(c)||Lq(c)||YRe(c)))n.push(XRe(c));else if(xu(c)){i=!0;for(let d=0,h=c.length;d<h;d+=1)r(c[d],o,a+1)}else o.length&&r(c,o,a+1)}};return r(t,Ll(e)?e.split("."):e,0),i?n:n[0]}const rIe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},sIe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},oIe={location:0,threshold:.6,distance:100},aIe={useExtendedSearch:!1,getFn:iIe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Bt={...sIe,...rIe,...oIe,...aIe};const lIe=/[^ ]+/g;function cIe(t=1,e=3){const n=new Map,i=Math.pow(10,e);return{get(r){const s=r.match(lIe).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*i)/i);return n.set(s,a),a},clear(){n.clear()}}}class BN{constructor({getFn:e=Bt.getFn,fieldNormWeight:n=Bt.fieldNormWeight}={}){this.norm=cIe(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,i)=>{this._keysMap[n.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ll(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Ll(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,i=this.size();n<i;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Po(e)||UA(e))return;let i={v:e,i:n,n:this.norm.get(e)};this.records.push(i)}_addObject(e,n){let i={i:n,$:{}};this.keys.forEach((r,s)=>{let o=r.getFn?r.getFn(e):this.getFn(e,r.path);if(Po(o)){if(xu(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:d}=l.pop();if(Po(d))if(Ll(d)&&!UA(d)){let h={v:d,i:c,n:this.norm.get(d)};a.push(h)}else xu(d)&&d.forEach((h,p)=>{l.push({nestedArrIndex:p,value:h})})}i.$[s]=a}else if(Ll(o)&&!UA(o)){let a={v:o,n:this.norm.get(o)};i.$[s]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Uq(t,e,{getFn:n=Bt.getFn,fieldNormWeight:i=Bt.fieldNormWeight}={}){const r=new BN({getFn:n,fieldNormWeight:i});return r.setKeys(t.map(zq)),r.setSources(e),r.create(),r}function uIe(t,{getFn:e=Bt.getFn,fieldNormWeight:n=Bt.fieldNormWeight}={}){const{keys:i,records:r}=t,s=new BN({getFn:e,fieldNormWeight:n});return s.setKeys(i),s.setIndexRecords(r),s}function $b(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:r=Bt.distance,ignoreLocation:s=Bt.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(i-n);return r?o+a/r:a?1:o}function dIe(t=[],e=Bt.minMatchCharLength){let n=[],i=-1,r=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&i===-1?i=s:!a&&i!==-1&&(r=s-1,r-i+1>=e&&n.push([i,r]),i=-1)}return t[s-1]&&s-i>=e&&n.push([i,s-1]),n}const _h=32;function fIe(t,e,n,{location:i=Bt.location,distance:r=Bt.distance,threshold:s=Bt.threshold,findAllMatches:o=Bt.findAllMatches,minMatchCharLength:a=Bt.minMatchCharLength,includeMatches:l=Bt.includeMatches,ignoreLocation:c=Bt.ignoreLocation}={}){if(e.length>_h)throw new Error(ZRe(_h));const d=e.length,h=t.length,p=Math.max(0,Math.min(i,h));let v=s,y=p;const b=a>1||l,S=b?Array(h):[];let _;for(;(_=t.indexOf(e,y))>-1;){let L=$b(e,{currentLocation:_,expectedLocation:p,distance:r,ignoreLocation:c});if(v=Math.min(L,v),y=_+d,b){let z=0;for(;z<d;)S[_+z]=1,z+=1}}y=-1;let w=[],C=1,A=d+h;const R=1<<d-1;for(let L=0;L<d;L+=1){let z=0,N=A;for(;z<N;)$b(e,{errors:L,currentLocation:p+N,expectedLocation:p,distance:r,ignoreLocation:c})<=v?z=N:A=N,N=Math.floor((A-z)/2+z);A=N;let k=Math.max(1,p-N+1),B=o?h:Math.min(p+N,h)+d,H=Array(B+2);H[B+1]=(1<<L)-1;for(let Z=B;Z>=k;Z-=1){let $=Z-1,K=n[t.charAt($)];if(b&&(S[$]=+!!K),H[Z]=(H[Z+1]<<1|1)&K,L&&(H[Z]|=(w[Z+1]|w[Z])<<1|1|w[Z+1]),H[Z]&R&&(C=$b(e,{errors:L,currentLocation:$,expectedLocation:p,distance:r,ignoreLocation:c}),C<=v)){if(v=C,y=$,y<=p)break;k=Math.max(1,2*p-y)}}if($b(e,{errors:L+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:c})>v)break;w=H}const O={isMatch:y>=0,score:Math.max(.001,C)};if(b){const L=dIe(S,a);L.length?l&&(O.indices=L):O.isMatch=!1}return O}function hIe(t){let e={};for(let n=0,i=t.length;n<i;n+=1){const r=t.charAt(n);e[r]=(e[r]||0)|1<<i-n-1}return e}const lE=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Bq{constructor(e,{location:n=Bt.location,threshold:i=Bt.threshold,distance:r=Bt.distance,includeMatches:s=Bt.includeMatches,findAllMatches:o=Bt.findAllMatches,minMatchCharLength:a=Bt.minMatchCharLength,isCaseSensitive:l=Bt.isCaseSensitive,ignoreDiacritics:c=Bt.ignoreDiacritics,ignoreLocation:d=Bt.ignoreLocation}={}){if(this.options={location:n,threshold:i,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:d},e=l?e:e.toLowerCase(),e=c?lE(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(v,y)=>{this.chunks.push({pattern:v,alphabet:hIe(v),startIndex:y})},p=this.pattern.length;if(p>_h){let v=0;const y=p%_h,b=p-y;for(;v<b;)h(this.pattern.substr(v,_h),v),v+=_h;if(y){const S=p-_h;h(this.pattern.substr(S),S)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:i,includeMatches:r}=this.options;if(e=n?e:e.toLowerCase(),e=i?lE(e):e,this.pattern===e){let b={isMatch:!0,score:0};return r&&(b.indices=[[0,e.length-1]]),b}const{location:s,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:d}=this.options;let h=[],p=0,v=!1;this.chunks.forEach(({pattern:b,alphabet:S,startIndex:_})=>{const{isMatch:w,score:C,indices:A}=fIe(e,b,S,{location:s+_,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:r,ignoreLocation:d});w&&(v=!0),p+=C,w&&A&&(h=[...h,...A])});let y={isMatch:v,score:v?p/this.chunks.length:1};return v&&r&&(y.indices=h),y}}class nf{constructor(e){this.pattern=e}static isMultiMatch(e){return Qz(e,this.multiRegex)}static isSingleMatch(e){return Qz(e,this.singleRegex)}search(){}}function Qz(t,e){const n=t.match(e);return n?n[1]:null}class pIe extends nf{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class mIe extends nf{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class gIe extends nf{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class vIe extends nf{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class yIe extends nf{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class xIe extends nf{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Vq extends nf{constructor(e,{location:n=Bt.location,threshold:i=Bt.threshold,distance:r=Bt.distance,includeMatches:s=Bt.includeMatches,findAllMatches:o=Bt.findAllMatches,minMatchCharLength:a=Bt.minMatchCharLength,isCaseSensitive:l=Bt.isCaseSensitive,ignoreDiacritics:c=Bt.ignoreDiacritics,ignoreLocation:d=Bt.ignoreLocation}={}){super(e),this._bitapSearch=new Bq(e,{location:n,threshold:i,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class jq extends nf{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,i;const r=[],s=this.pattern.length;for(;(i=e.indexOf(this.pattern,n))>-1;)n=i+s,r.push([i,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const jP=[pIe,jq,gIe,vIe,xIe,yIe,mIe,Vq],Zz=jP.length,_Ie=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,bIe="|";function SIe(t,e={}){return t.split(bIe).map(n=>{let i=n.trim().split(_Ie).filter(s=>s&&!!s.trim()),r=[];for(let s=0,o=i.length;s<o;s+=1){const a=i[s];let l=!1,c=-1;for(;!l&&++c<Zz;){const d=jP[c];let h=d.isMultiMatch(a);h&&(r.push(new d(h,e)),l=!0)}if(!l)for(c=-1;++c<Zz;){const d=jP[c];let h=d.isSingleMatch(a);if(h){r.push(new d(h,e));break}}}return r})}const wIe=new Set([Vq.type,jq.type]);class EIe{constructor(e,{isCaseSensitive:n=Bt.isCaseSensitive,ignoreDiacritics:i=Bt.ignoreDiacritics,includeMatches:r=Bt.includeMatches,minMatchCharLength:s=Bt.minMatchCharLength,ignoreLocation:o=Bt.ignoreLocation,findAllMatches:a=Bt.findAllMatches,location:l=Bt.location,threshold:c=Bt.threshold,distance:d=Bt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:i,includeMatches:r,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:l,threshold:c,distance:d},e=n?e:e.toLowerCase(),e=i?lE(e):e,this.pattern=e,this.query=SIe(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:r,ignoreDiacritics:s}=this.options;e=r?e:e.toLowerCase(),e=s?lE(e):e;let o=0,a=[],l=0;for(let c=0,d=n.length;c<d;c+=1){const h=n[c];a.length=0,o=0;for(let p=0,v=h.length;p<v;p+=1){const y=h[p],{isMatch:b,indices:S,score:_}=y.search(e);if(b){if(o+=1,l+=_,i){const w=y.constructor.type;wIe.has(w)?a=[...a,...S]:a.push(S)}}else{l=0,o=0,a.length=0;break}}if(o){let p={isMatch:!0,score:l/o};return i&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const HP=[];function CIe(...t){HP.push(...t)}function WP(t,e){for(let n=0,i=HP.length;n<i;n+=1){let r=HP[n];if(r.condition(t,e))return new r(t,e)}return new Bq(t,e)}const cE={AND:"$and",OR:"$or"},GP={PATH:"$path",PATTERN:"$val"},$P=t=>!!(t[cE.AND]||t[cE.OR]),TIe=t=>!!t[GP.PATH],MIe=t=>!xu(t)&&Dq(t)&&!$P(t),eU=t=>({[cE.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Hq(t,e,{auto:n=!0}={}){const i=r=>{let s=Object.keys(r);const o=TIe(r);if(!o&&s.length>1&&!$P(r))return i(eU(r));if(MIe(r)){const l=o?r[GP.PATH]:s[0],c=o?r[GP.PATTERN]:r[l];if(!Ll(c))throw new Error(QRe(l));const d={keyId:VP(l),pattern:c};return n&&(d.searcher=WP(c,e)),d}let a={children:[],operator:s[0]};return s.forEach(l=>{const c=r[l];xu(c)&&c.forEach(d=>{a.children.push(i(d))})}),a};return $P(t)||(t=eU(t)),i(t)}function AIe(t,{ignoreFieldNorm:e=Bt.ignoreFieldNorm}){t.forEach(n=>{let i=1;n.matches.forEach(({key:r,norm:s,score:o})=>{const a=r?r.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),n.score=i})}function PIe(t,e){const n=t.matches;e.matches=[],Po(n)&&n.forEach(i=>{if(!Po(i.indices)||!i.indices.length)return;const{indices:r,value:s}=i;let o={indices:r,value:s};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function RIe(t,e){e.score=t.score}function IIe(t,e,{includeMatches:n=Bt.includeMatches,includeScore:i=Bt.includeScore}={}){const r=[];return n&&r.push(PIe),i&&r.push(RIe),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return r.length&&r.forEach(l=>{l(s,a)}),a})}class mp{constructor(e,n={},i){this.options={...Bt,...n},this.options.useExtendedSearch,this._keyStore=new nIe(this.options.keys),this.setCollection(e,i)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof BN))throw new Error(JRe);this._myIndex=n||Uq(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Po(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let i=0,r=this._docs.length;i<r;i+=1){const s=this._docs[i];e(s,i)&&(this.removeAt(i),i-=1,r-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:i,includeScore:r,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Ll(e)?Ll(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return AIe(l,{ignoreFieldNorm:a}),s&&l.sort(o),Lq(n)&&n>-1&&(l=l.slice(0,n)),IIe(l,this._docs,{includeMatches:i,includeScore:r})}_searchStringList(e){const n=WP(e,this.options),{records:i}=this._myIndex,r=[];return i.forEach(({v:s,i:o,n:a})=>{if(!Po(s))return;const{isMatch:l,score:c,indices:d}=n.searchIn(s);l&&r.push({item:s,idx:o,matches:[{score:c,value:s,norm:a,indices:d}]})}),r}_searchLogical(e){const n=Hq(e,this.options),i=(a,l,c)=>{if(!a.children){const{keyId:h,searcher:p}=a,v=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:p});return v&&v.length?[{idx:c,item:l,matches:v}]:[]}const d=[];for(let h=0,p=a.children.length;h<p;h+=1){const v=a.children[h],y=i(v,l,c);if(y.length)d.push(...y);else if(a.operator===cE.AND)return[]}return d},r=this._myIndex.records,s={},o=[];return r.forEach(({$:a,i:l})=>{if(Po(a)){let c=i(n,a,l);c.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),c.forEach(({matches:d})=>{s[l].matches.push(...d)}))}}),o}_searchObjectList(e){const n=WP(e,this.options),{keys:i,records:r}=this._myIndex,s=[];return r.forEach(({$:o,i:a})=>{if(!Po(o))return;let l=[];i.forEach((c,d)=>{l.push(...this._findMatches({key:c,value:o[d],searcher:n}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:e,value:n,searcher:i}){if(!Po(n))return[];let r=[];if(xu(n))n.forEach(({v:s,i:o,n:a})=>{if(!Po(s))return;const{isMatch:l,score:c,indices:d}=i.searchIn(s);l&&r.push({score:c,key:e,value:s,idx:o,norm:a,indices:d})});else{const{v:s,n:o}=n,{isMatch:a,score:l,indices:c}=i.searchIn(s);a&&r.push({score:l,key:e,value:s,norm:o,indices:c})}return r}}mp.version="7.1.0";mp.createIndex=Uq;mp.parseIndex=uIe;mp.config=Bt;mp.parseQuery=Hq;CIe(EIe);const kIe=()=>{const{user:t}=U.useContext(bu),[e,n]=U.useState(!1),[i,r]=U.useState([]),[s,o]=U.useState(""),[a,l]=U.useState(!0);U.useEffect(()=>{const b=oo(),S=yi(b,"/Merch/");Ka(S).then(_=>{if(_.exists()){const w=_.val(),C=Object.values(w);r(C)}}).catch(_=>{console.error(_)}).finally(()=>{l(!1)})},[t]);const[c,d]=U.useState({category:"All",minPrice:4.99,maxPrice:50}),h=b=>{d(S=>({...S,category:b.target.value}))},p=i.filter(b=>(c.category==="All"||b.category===c.category)&&b.price>=c.minPrice&&b.price<=c.maxPrice),v=new mp(i,{keys:["title","description"],threshold:.3}),y=s?v.search(s).map(b=>b.item):p;return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#000000",paddingTop:"0px",width:"100%",paddingBottom:"50px",marginTop:"-51px"},children:[E.jsx("div",{className:"hero-store",children:E.jsxs("div",{className:"hero-store-overlay",children:[E.jsx("h1",{className:"hero-store-title",style:{fontFamily:"Sansation",color:"white",fontWeight:"700"},children:"Shop Stage Fright"}),E.jsx("div",{className:"shop-search-container",children:E.jsx("input",{type:"text",placeholder:"Search items...",value:s,onChange:b=>o(b.target.value),className:"shop-search"})})]})}),E.jsxs("button",{onClick:()=>n(!e),style:{backgroundColor:"#333",color:"white",fontSize:"18px",padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px",alignSelf:"center",width:"auto",transform:e?"translateY(-10px)":"translateY(0)",transition:"transform 0.3s ease",display:"flex",alignItems:"center"},children:[E.jsx("span",{style:{marginRight:"10px"},children:e?E.jsx($Re,{}):E.jsx(pve,{})}),e?"Hide Filters":"Show Filters"]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"5px",marginTop:"15px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3)",overflow:"hidden",height:e?"135px":"0px",opacity:e?"1":"0",transition:"height 0.5s ease, opacity 0.3s ease",width:e?"82%":"0%",backgroundColor:e?"#1a1a1a":"black"},children:e&&E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"20px",backgroundColor:"#121212",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.3)"},children:[E.jsxs("div",{style:{flex:1,marginRight:"20px"},children:[E.jsx("label",{style:{fontSize:"18px",color:"#EAEAEA",marginBottom:"8px",display:"block",fontWeight:"500"},children:"Category"}),E.jsxs("select",{onChange:h,style:{padding:"10px 15px",fontSize:"16px",borderRadius:"8px",border:"1px solid #444",backgroundColor:"#333",color:"white",width:"100%",transition:"all 0.3s ease"},children:[E.jsx("option",{value:"All",children:"All"}),E.jsx("option",{value:"Vinyl",children:"Albums"}),E.jsx("option",{value:"Hoodies",children:"Hoodies"}),E.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),E.jsx("option",{value:"Stickers",children:"Stickers"}),E.jsx("option",{value:"Tank Top",children:"Tank Top"}),E.jsx("option",{value:"Candle",children:"Candle"}),E.jsx("option",{value:"Phone Case",children:"Phone Case"}),E.jsx("option",{value:"Hat",children:"Hat"}),E.jsx("option",{value:"Bag",children:"Bag"}),E.jsx("option",{value:"Socks",children:"Socks"})]})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("label",{style:{fontSize:"18px",color:"#EAEAEA",marginBottom:"8px",display:"block",fontWeight:"500"},children:"Price Range"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[E.jsx(HRe,{width:"100%",defaultValue:[0,100],onValueChange:b=>{d(S=>({...S,minPrice:b.value[0],maxPrice:b.value[1]}))}}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginTop:"10px",fontSize:"14px",color:"#EAEAEA"},children:[E.jsxs("span",{children:["Min: $",c.minPrice.toFixed(2)]}),E.jsxs("span",{children:["Max: $",c.maxPrice.toFixed(2)]})]})]})]})]})}),E.jsx(et.div,{layout:!0,style:{display:"flex",flexWrap:"wrap",gap:"16px",justifyContent:"center",width:"100%",marginTop:"20px"},children:E.jsx(jG,{children:!a&&(y.length>0?y.map(b=>E.jsx(et.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.5,ease:"easeOut"},children:E.jsx(Oq,{imageUrl:b.imageUrl,price:b.price,title:b.title,description:b.description,orange:b.orange,blue:b.blue,black:b.black,grey:b.grey})},b.title)):E.jsx(et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{color:"white",fontSize:"24px",fontWeight:"bold",marginTop:"20vh",marginBottom:"20vh"},children:"No results found"}))})})]}),E.jsx(tc,{})]})},NIe=({imageUrl:t,place:e,address:n,price:i,startDate:r,endDate:s,mapData:o})=>E.jsx(Ci,{to:"/tour_details",className:"item-link",state:{imageUrl:t,place:e,address:n,price:i,startDate:r,endDate:s,mapData:o},onClick:()=>window.scrollTo(0,0),children:E.jsxs(et.div,{className:"card_outline",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0,amount:.2},children:[E.jsxs("div",{className:"tour_img",children:[E.jsx("img",{src:t,alt:"tour picture",className:"tour_img"}),E.jsx("div",{className:"tour_overlay",children:e})]}),E.jsxs("div",{className:"tour_details",children:[E.jsxs("p",{className:"tour_date",children:[E.jsxs("strong",{children:[E.jsx(lx,{})," ",r.toDateString()]})," "]}),E.jsxs("p",{className:"tour_price",children:["Starting at $",i]}),E.jsx("p",{className:"tour_address",children:E.jsxs("strong",{children:[E.jsx(ak,{}),n]})}),E.jsx("button",{className:"tour_button",children:"Get Tickets"})]})]})});function OIe(){const t=[{imageUrl:" /images/Shows/HuntingtonBankPav.png",place:"Huntington Bank Pavilion",address:"1300 S Linn White Dr, Chicago, IL 60605",price:50,startDate:new Date("2025-06-01"),endDate:new Date("2025-06-02"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7420.551380478309!2d-87.61154152339903!3d41.86455426626153!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2b7aa5e5a88b%3A0x2b1be8f520a766ba!2s1300%20S%20Linn%20White%20Dr%2C%20Chicago%2C%20IL%2060605!5e1!3m2!1sen!2sus!4v1735970585409!5m2!1sen!2sus"},{imageUrl:" /images/Shows/Credit1Pav.png",place:"Credit Union 1 Arena",address:"525 S Racine Ave, Chicago, IL 60607",price:50,startDate:new Date("2025-06-07"),endDate:new Date("2025-06-08"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3477.591274925742!2d-87.65885062357913!3d41.87467056562848!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2ce067db1ecd%3A0x73faf6b37b26e279!2s525%20S%20Racine%20Ave%2C%20Chicago%2C%20IL%2060607!5e1!3m2!1sen!2sus!4v1736049280628!5m2!1sen!2sus"},{imageUrl:" /images/Shows/Credit1Amp.png",place:"Credit Union 1 Amphitheater",address:"19100 Ridgeland Ave, Tinley Park, IL 60477",price:50,startDate:new Date("2025-06-14"),endDate:new Date("2025-06-15"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3495.5194221513725!2d-87.77817272359236!3d41.544106886258966!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e167c293f99b1%3A0x49ae1068b1696c7e!2sCredit%20Union%201%20Amphitheatre!5e1!3m2!1sen!2sus!4v1736049372248!5m2!1sen!2sus"},{imageUrl:" /images/Shows/Riviera.png",place:"Riviera Theatre",address:"4746 N Racine Ave, Chicago, IL 60640",price:50,startDate:new Date("2025-06-21"),endDate:new Date("2025-06-22"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3472.472809154035!2d-87.66264292357535!3d41.96865595973894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd22cf3dffc5b%3A0xd556d6c6fd599c1!2s4746%20N%20Racine%20Ave%2C%20Chicago%2C%20IL%2060640!5e1!3m2!1sen!2sus!4v1736049447545!5m2!1sen!2sus"},{imageUrl:" /images/Shows/SaltShed.png",place:"Salt Shed",address:"1357 N Elston Ave, Chicago, IL 60642",price:50,startDate:new Date("2025-06-28"),endDate:new Date("2025-06-29"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6951.6919951081545!2d-87.66405951057561!3d41.9067366894724!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd2d83f2fb95b%3A0xce3f70174a3e2799!2s1357%20N%20Elston%20Ave%2C%20Chicago%2C%20IL%2060642!5e1!3m2!1sen!2sus!4v1736049503570!5m2!1sen!2sus"},{imageUrl:" /images/Shows/UnitedCenter.png",place:"United Center",address:"1901 W Madison St, Chicago, IL 60612",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3477.259710528626!2d-87.67675642357887!3d41.8807639652469!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2d3eb7f6e34d%3A0x1f0cd7161ad43000!2sUnited%20Center%2C%201901%20W%20Madison%20St%2C%20Chicago%2C%20IL%2060612!5e1!3m2!1sen!2sus!4v1736049562523!5m2!1sen!2sus"},{imageUrl:" /images/Shows/GreenMillLounge.jpg",place:"Green Mill Lounge",address:"4802 N Broadway, Chicago, IL 60640",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3005.073030687888!2d-87.6599222!3d41.969202800000005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd22c92322ce7%3A0xe2dc9f64b515c25f!2sThe%20Green%20Mill!5e1!3m2!1sen!2sus!4v1742304581681!5m2!1sen!2sus"},{imageUrl:" /images/Shows/HouseOfBlues.jpg",place:"House of Blues",address:"329 N Dearborn St, Chicago, IL 60654",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3008.887228253362!2d-87.63113188255612!3d41.888285!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2df40450f321%3A0x7dd71d91eeafe444!2sHouse%20of%20Blues%20Restaurant%20%26%20Bar!5e1!3m2!1sen!2sus!4v1742305093826!5m2!1sen!2sus"},{imageUrl:" /images/Shows/KingstonMines.jpg",place:"Kingston Mines",address:"2548 N Halsted St, Chicago, IL 606142",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3006.9829201819075!2d-87.6490441!3d41.9287006!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd305919cbff1%3A0x719a19cc064f264a!2sKingston%20Mines!5e1!3m2!1sen!2sus!4v1742305183282!5m2!1sen!2sus"},{imageUrl:" /images/Shows/ParkWest.jpg",place:"Park West",address:"322 W Armitage Ave, Chicago, IL 60614",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6014.918812259634!2d-87.63738100000002!3d41.91859099999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd36b3c958191%3A0x31056ce4626d33!2sPark%20West!5e1!3m2!1sen!2sus!4v1742305279265!5m2!1sen!2sus"},{imageUrl:" /images/Shows/ThaliaHall.jpg",place:"Thalia Hall",address:"1807 S Allport St, Chicago, IL 60608",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3010.3265413508657!2d-87.657459!3d41.857717!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2cffdb62b721%3A0x9a4a94db5d09cf36!2sThalia%20Hall!5e1!3m2!1sen!2sus!4v1742305345945!5m2!1sen!2sus"},{imageUrl:" /images/Shows/TheHideout.jpg",place:"The Hideout",address:"1354 W Wabansia Ave, Chicago, IL 60642",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d48122.97785617003!2d-87.69751662089845!3d41.91378019999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd2de64eab689%3A0x335730d5ca5ebf70!2sThe%20Hideout!5e1!3m2!1sen!2sus!4v1742305439529!5m2!1sen!2sus"}],[e,n]=U.useState(""),[i,r]=U.useState(t);return U.useEffect(()=>{const s=new mp(t,{keys:["place","address"],threshold:.45});if(e.trim()==="")r(t);else{const o=s.search(e).map(a=>a.item);r(o)}},[e]),E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"tour-intro-container",children:[E.jsx("div",{className:"overlay"}),E.jsxs("div",{className:"overlay-text-container",children:[E.jsx("h1",{className:"tour-title",children:"Stage Fright on Tour"}),E.jsx("p",{className:"slogan",children:"Experience the Magic Live"}),E.jsx("div",{className:"search-container",children:E.jsx("input",{type:"text",placeholder:"Search by venue or address...",value:e,onChange:s=>n(s.target.value),className:"search-input"})})]})]}),E.jsx("div",{className:"tour-dates-container",children:E.jsx("div",{className:"items-container",children:i.length>0?E.jsx(jG,{children:i.map(s=>E.jsx(et.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:E.jsx(NIe,{imageUrl:s.imageUrl,place:s.place,address:s.address,price:s.price,startDate:s.startDate,endDate:s.endDate,mapData:s.mapData})},s.place))}):E.jsx(et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},style:{color:"#ff4d4d",fontSize:"3rem",fontWeight:"bold",marginTop:"20vh",marginBottom:"20vh",textAlign:"center",fontFamily:"Sansation, sans-serif",textShadow:"1px 1px 5px rgba(0, 0, 0, 0.7)"},children:"No Events Found"})})}),E.jsx("br",{}),E.jsx(tc,{})]})}function Wq(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Wq(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Lh(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Wq(t))&&(i&&(i+=" "),i+=e);return i}function LIe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}LIe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var A_=t=>typeof t=="number"&&!isNaN(t),Zh=t=>typeof t=="string",_u=t=>typeof t=="function",DIe=t=>Zh(t)||A_(t),qP=t=>Zh(t)||_u(t)?t:null,FIe=(t,e)=>t===!1||A_(t)&&t>0?t:e,XP=t=>U.isValidElement(t)||Zh(t)||_u(t)||A_(t);function zIe(t,e,n=300){let{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function UIe({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:h}){let p=n?`${t}--${o}`:t,v=n?`${e}--${o}`:e,y=U.useRef(0);return U.useLayoutEffect(()=>{let b=c.current,S=p.split(" "),_=w=>{w.target===c.current&&(h(),b.removeEventListener("animationend",_),b.removeEventListener("animationcancel",_),y.current===0&&w.type!=="animationcancel"&&b.classList.remove(...S))};b.classList.add(...S),b.addEventListener("animationend",_),b.addEventListener("animationcancel",_)},[]),U.useEffect(()=>{let b=c.current,S=()=>{b.removeEventListener("animationend",S),i?zIe(b,l,r):l()};d||(a?S():(y.current=1,b.className+=` ${v}`,b.addEventListener("animationend",S)))},[d]),rt.createElement(rt.Fragment,null,s)}}function tU(t,e){return{content:Gq(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Gq(t,e,n=!1){return U.isValidElement(t)&&!Zh(t.type)?U.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):_u(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function BIe({closeToast:t,theme:e,ariaLabel:n="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function VIe({delay:t,isRunning:e,closeToast:n,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let h=r||o&&a===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let v=Lh("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),y=_u(s)?s({rtl:l,type:i,defaultClassName:v}):Lh(v,s),b={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),rt.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:p,...b}))}var jIe=1,$q=()=>`${jIe++}`;function HIe(t,e,n){let i=1,r=0,s=[],o=[],a=e,l=new Map,c=new Set,d=w=>(c.add(w),()=>c.delete(w)),h=()=>{o=Array.from(l.values()),c.forEach(w=>w())},p=({containerId:w,toastId:C,updateId:A})=>{let R=w?w!==t:t!==1,O=l.has(C)&&A==null;return R||O},v=(w,C)=>{l.forEach(A=>{var R;(C==null||C===A.props.toastId)&&((R=A.toggle)==null||R.call(A,w))})},y=w=>{var C,A;(A=(C=w.props)==null?void 0:C.onClose)==null||A.call(C,w.removalReason),w.isActive=!1},b=w=>{if(w==null)l.forEach(y);else{let C=l.get(w);C&&y(C)}h()},S=()=>{r-=s.length,s=[]},_=w=>{var C,A;let{toastId:R,updateId:O}=w.props,L=O==null;w.staleId&&l.delete(w.staleId),w.isActive=!0,l.set(R,w),h(),n(tU(w,L?"added":"updated")),L&&((A=(C=w.props).onOpen)==null||A.call(C))};return{id:t,props:a,observe:d,toggle:v,removeToast:b,toasts:l,clearQueue:S,buildToast:(w,C)=>{if(p(C))return;let{toastId:A,updateId:R,data:O,staleId:L,delay:z}=C,N=R==null;N&&r++;let k={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(C).filter(([H,J])=>J!=null)),toastId:A,updateId:R,data:O,isIn:!1,className:qP(C.className||a.toastClassName),progressClassName:qP(C.progressClassName||a.progressClassName),autoClose:C.isLoading?!1:FIe(C.autoClose,a.autoClose),closeToast(H){l.get(A).removalReason=H,b(A)},deleteToast(){let H=l.get(A);if(H!=null){if(n(tU(H,"removed")),l.delete(A),r--,r<0&&(r=0),s.length>0){_(s.shift());return}h()}}};k.closeButton=a.closeButton,C.closeButton===!1||XP(C.closeButton)?k.closeButton=C.closeButton:C.closeButton===!0&&(k.closeButton=XP(a.closeButton)?a.closeButton:!0);let B={content:w,props:k,staleId:L};a.limit&&a.limit>0&&r>a.limit&&N?s.push(B):A_(z)?setTimeout(()=>{_(B)},z):_(B)},setProps(w){a=w},setToggle:(w,C)=>{let A=l.get(w);A&&(A.toggle=C)},isToastActive:w=>{var C;return(C=l.get(w))==null?void 0:C.isActive},getSnapshot:()=>o}}var Ds=new Map,Dx=[],YP=new Set,WIe=t=>YP.forEach(e=>e(t)),qq=()=>Ds.size>0;function GIe(){Dx.forEach(t=>Yq(t.content,t.options)),Dx=[]}var $Ie=(t,{containerId:e})=>{var n;return(n=Ds.get(e||1))==null?void 0:n.toasts.get(t)};function Xq(t,e){var n;if(e)return!!((n=Ds.get(e))!=null&&n.isToastActive(t));let i=!1;return Ds.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function qIe(t){if(!qq()){Dx=Dx.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||DIe(t))Ds.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ds.get(t.containerId);e?e.removeToast(t.id):Ds.forEach(n=>{n.removeToast(t.id)})}}var XIe=(t={})=>{Ds.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Yq(t,e){XP(t)&&(qq()||Dx.push({content:t,options:e}),Ds.forEach(n=>{n.buildToast(t,e)}))}function YIe(t){var e;(e=Ds.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Kq(t,e){Ds.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function KIe(t){let e=t.containerId||1;return{subscribe(n){let i=HIe(e,t,WIe);Ds.set(e,i);let r=i.observe(n);return GIe(),()=>{r(),Ds.delete(e)}},setProps(n){var i;(i=Ds.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Ds.get(e))==null?void 0:n.getSnapshot()}}}function JIe(t){return YP.add(t),()=>{YP.delete(t)}}function QIe(t){return t&&(Zh(t.toastId)||A_(t.toastId))?t.toastId:$q()}function P_(t,e){return Yq(t,e),e.toastId}function zC(t,e){return{...e,type:e&&e.type||t,toastId:QIe(e)}}function UC(t){return(e,n)=>P_(e,zC(t,n))}function yn(t,e){return P_(t,zC("default",e))}yn.loading=(t,e)=>P_(t,zC("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function ZIe(t,{pending:e,error:n,success:i},r){let s;e&&(s=Zh(e)?yn.loading(e,r):yn.loading(e.render,{...r,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,h)=>{if(d==null){yn.dismiss(s);return}let p={type:c,...o,...r,data:h},v=Zh(d)?{render:d}:d;return s?yn.update(s,{...p,...v}):yn(v.render,{...p,...v}),h},l=_u(t)?t():t;return l.then(c=>a("success",i,c)).catch(c=>a("error",n,c)),l}yn.promise=ZIe;yn.success=UC("success");yn.info=UC("info");yn.error=UC("error");yn.warning=UC("warning");yn.warn=yn.warning;yn.dark=(t,e)=>P_(t,zC("default",{theme:"dark",...e}));function eke(t){qIe(t)}yn.dismiss=eke;yn.clearWaitingQueue=XIe;yn.isActive=Xq;yn.update=(t,e={})=>{let n=$Ie(t,e);if(n){let{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:$q()};s.toastId!==t&&(s.staleId=t);let o=s.render||r;delete s.render,P_(o,s)}};yn.done=t=>{yn.update(t,{progress:1})};yn.onChange=JIe;yn.play=t=>Kq(!0,t);yn.pause=t=>Kq(!1,t);function tke(t){var e;let{subscribe:n,getSnapshot:i,setProps:r}=U.useRef(KIe(t)).current;r(t);let s=(e=U.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:Xq,count:s==null?void 0:s.length}}function nke(t){let[e,n]=U.useState(!1),[i,r]=U.useState(!1),s=U.useRef(null),o=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=t;YIe({id:t.toastId,containerId:t.containerId,fn:n}),U.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{v()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||_(),window.addEventListener("focus",S),window.addEventListener("blur",_)}function v(){window.removeEventListener("focus",S),window.removeEventListener("blur",_)}function y(L){if(t.draggable===!0||t.draggable===L.pointerType){w();let z=s.current;o.canCloseOnClick=!0,o.canDrag=!0,z.style.transition="none",t.draggableDirection==="x"?(o.start=L.clientX,o.removalDistance=z.offsetWidth*(t.draggablePercent/100)):(o.start=L.clientY,o.removalDistance=z.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(L){let{top:z,bottom:N,left:k,right:B}=s.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&t.pauseOnHover&&L.clientX>=k&&L.clientX<=B&&L.clientY>=z&&L.clientY<=N?_():S()}function S(){n(!0)}function _(){n(!1)}function w(){o.didMove=!1,document.addEventListener("pointermove",A),document.addEventListener("pointerup",R)}function C(){document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",R)}function A(L){let z=s.current;if(o.canDrag&&z){o.didMove=!0,e&&_(),t.draggableDirection==="x"?o.delta=L.clientX-o.start:o.delta=L.clientY-o.start,o.start!==L.clientX&&(o.canCloseOnClick=!1);let N=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;z.style.transform=`translate3d(${N},0)`,z.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function R(){C();let L=s.current;if(o.canDrag&&o.didMove&&L){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let O={onPointerDown:y,onPointerUp:b};return a&&l&&(O.onMouseEnter=_,t.stacked||(O.onMouseLeave=S)),h&&(O.onClick=L=>{d&&d(L),o.canCloseOnClick&&c(!0)}),{playToast:S,pauseToast:_,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:O}}var ike=typeof window<"u"?U.useLayoutEffect:U.useEffect,BC=({theme:t,type:e,isLoading:n,...i})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function rke(t){return rt.createElement(BC,{...t},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ske(t){return rt.createElement(BC,{...t},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function oke(t){return rt.createElement(BC,{...t},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ake(t){return rt.createElement(BC,{...t},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function lke(){return rt.createElement("div",{className:"Toastify__spinner"})}var KP={info:ske,warning:rke,success:oke,error:ake,spinner:lke},cke=t=>t in KP;function uke({theme:t,type:e,isLoading:n,icon:i}){let r=null,s={theme:t,type:e};return i===!1||(_u(i)?r=i({...s,isLoading:n}):U.isValidElement(i)?r=U.cloneElement(i,s):n?r=KP.spinner():cke(e)&&(r=KP[e](s))),r}var dke=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=nke(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:p,transition:v,position:y,className:b,style:S,progressClassName:_,updateId:w,role:C,progress:A,rtl:R,toastId:O,deleteToast:L,isIn:z,isLoading:N,closeOnClick:k,theme:B,ariaLabel:H}=t,J=Lh("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":k}),Z=_u(b)?b({rtl:R,position:y,type:d,defaultClassName:J}):Lh(J,b),$=uke(t),K=!!A||!l,W={closeToast:p,type:d,theme:B},V=null;return o===!1||(_u(o)?V=o(W):U.isValidElement(o)?V=U.cloneElement(o,W):V=BIe(W)),rt.createElement(v,{isIn:z,done:L,position:y,preventExitTransition:n,nodeRef:i,playToast:s},rt.createElement("div",{id:O,tabIndex:0,onClick:c,"data-in":z,className:Z,...r,style:S,ref:i,...z&&{role:C,"aria-label":H}},$!=null&&rt.createElement("div",{className:Lh("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},$),Gq(a,t,!e),V,!t.customProgressBar&&rt.createElement(VIe,{...w&&!K?{key:`p-${w}`}:{},rtl:R,theme:B,delay:l,isRunning:e,isIn:z,closeToast:p,hide:h,type:d,className:_,controlledProgress:K,progress:A||0})))},fke=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),hke=UIe(fke("bounce",!0)),pke={position:"top-right",transition:hke,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function yv(t){let e={...pke,...t},n=t.stacked,[i,r]=U.useState(!0),s=U.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=tke(e),{className:c,style:d,rtl:h,containerId:p,hotKeys:v}=e;function y(S){let _=Lh("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":h});return _u(c)?c({position:S,rtl:h,defaultClassName:_}):Lh(_,qP(c))}function b(){n&&(r(!0),yn.play())}return ike(()=>{var S;if(n){let _=s.current.querySelectorAll('[data-in="true"]'),w=12,C=(S=e.position)==null?void 0:S.includes("top"),A=0,R=0;Array.from(_).reverse().forEach((O,L)=>{let z=O;z.classList.add("Toastify__toast--stacked"),L>0&&(z.dataset.collapsed=`${i}`),z.dataset.pos||(z.dataset.pos=C?"top":"bot");let N=A*(i?.2:1)+(i?0:w*L);z.style.setProperty("--y",`${C?N:N*-1}px`),z.style.setProperty("--g",`${w}`),z.style.setProperty("--s",`${1-(i?R:0)}`),A+=z.offsetHeight,R+=.025})}},[i,l,n]),U.useEffect(()=>{function S(_){var w;let C=s.current;v(_)&&((w=C.querySelector('[tabIndex="0"]'))==null||w.focus(),r(!1),yn.pause()),_.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(r(!0),yn.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[v]),rt.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(r(!1),yn.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((S,_)=>{let w=_.length?{...d}:{...d,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:y(S),"data-stacked":n,style:w,key:`c-${S}`},_.map(({content:C,props:A})=>rt.createElement(dke,{...A,stacked:n,collapseAll:b,isIn:a(A.toastId,A.containerId),key:`t-${A.key}`},C)))}))}function mke(){const[t,e]=U.useState(""),[n,i]=U.useState(""),[r,s]=U.useState(""),[o,a]=U.useState(""),l=()=>{e(""),i(""),s(""),a(""),yn.success("Your message has been sent to our team. We will get back to you as soon as possible!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})};return E.jsxs("div",{children:[E.jsx(yv,{}),E.jsx("div",{className:"hero-contact",children:E.jsx("div",{className:"hero-contact-overlay",children:E.jsx("h1",{children:"Contact Us"})})}),E.jsxs("div",{className:"faq_container",children:[E.jsx("div",{className:"faq_title_container",children:E.jsx(et.h2,{className:"faq_title",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},children:"FAQ"})}),E.jsxs("div",{className:"faq_sub",children:[E.jsxs(et.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:[E.jsx("div",{className:"faq_q",children:"Does the band manage its own social media accounts?"}),E.jsx("div",{className:"faq_a",children:"Yes, we manage our social media accounts directly, so feel free to send us a message or leave a comment."})]}),E.jsxs(et.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.2},viewport:{once:!0},children:[E.jsx("div",{className:"faq_q",children:"Does the band perform at private events or weddings?"}),E.jsx("div",{className:"faq_a",children:"Yes! We are available for private events. Contact us for availability and pricing details."})]}),E.jsxs(et.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.4},viewport:{once:!0},children:[E.jsx("div",{className:"faq_q",children:"What is the bands touring schedule?"}),E.jsx("div",{className:"faq_a",children:"You can check our upcoming shows and tour dates on the Tour page."})]}),E.jsxs(et.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:[E.jsx("div",{className:"faq_q",children:"Do you ship merchandise internationally?"}),E.jsx("div",{className:"faq_a",children:"Yes, we ship to all countries. Please check the Merch page to see our most updated offers."})]}),E.jsxs(et.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.8},viewport:{once:!0},children:[E.jsx("div",{className:"faq_q",children:"Can I send fan mail or gifts to the band?"}),E.jsx("div",{className:"faq_a",children:"We love hearing from fans! Coming in late 2025 we will be allowing fan mail!"})]})]})]}),E.jsxs("div",{className:"contact_info_container",children:[E.jsx(et.div,{className:"contact_info_title",initial:{opacity:0,y:-50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:"Contact Stage Fright"}),E.jsxs(et.div,{className:"contact_info_phone",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1},viewport:{once:!0},children:[E.jsxs("h2",{className:"phone-text",children:[E.jsx(xle,{className:"phone_icon"}),"Phone:"]}),E.jsx("h2",{children:"Chicago: 123-456-7890"}),E.jsx("h2",{children:"Naperville: 987-654-3210"}),E.jsx("h2",{children:"Springfield: 246-810-1214"}),E.jsx("h2",{children:"Elgin: 369-121-5182"})]}),E.jsxs(et.div,{className:"contact_info_email",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1,delay:.3},viewport:{once:!0},children:[E.jsxs("h2",{className:"email-text",children:[E.jsx(gle,{className:"email_icon"}),"Email:"]}),E.jsx("h2",{children:"Chicago: stagefri_chic@gmail.com"}),E.jsx("h2",{children:"Naperville: stagefri_np@gmail.com"}),E.jsx("h2",{children:"Springfield: stagefri.sf@gmail.com"}),E.jsx("h2",{children:"Elgin: stagefright.elgin@gmail.com"})]}),E.jsxs(et.div,{className:"contact_info_message",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:[E.jsx("h2",{className:"message_title",children:"Send a Message"}),E.jsxs("div",{className:"message_sub",children:[E.jsx("form",{className:"name_field",children:E.jsx("input",{type:"text",id:"name",placeholder:"Enter your name",value:t,onChange:c=>e(c.target.value)})}),E.jsx("form",{className:"number_field",children:E.jsx("input",{type:"tel",id:"number",placeholder:"Enter your phone number",value:n,onChange:c=>i(c.target.value)})}),E.jsx("form",{className:"email_field",children:E.jsx("input",{type:"text",id:"email",placeholder:"Enter your email",value:r,onChange:c=>s(c.target.value)})}),E.jsx("form",{className:"message_field",children:E.jsx("textarea",{id:"message",placeholder:"Enter your message",value:o,onChange:c=>a(c.target.value),style:{whiteSpace:"pre-wrap"}})}),E.jsx("button",{className:"send_button",onClick:c=>{if(c.preventDefault(),!t||!n||!r||!o){yn.error("Please fill out all fields before sending.",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}});return}l()},children:"Send"})]})]})]}),E.jsx(tc,{})]})}const gke=({reviews:t})=>{const e={hidden:{opacity:0,x:-100},visible:{opacity:1,x:0}};return E.jsx(DC,{modules:[UN,kq,Nq],spaceBetween:20,slidesPerView:3,pagination:{clickable:!0},scrollbar:{draggable:!0},className:"review-carousel",children:t.map((n,i)=>E.jsx(FC,{className:"review-card",children:E.jsxs(et.div,{className:"review-card-content",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.4},transition:{delay:i*.2,duration:.5},variants:e,children:[E.jsx(et.img,{src:n.imageUrl,alt:"item picture",className:"review-card-picture",whileHover:{scale:1.1},transition:{duration:.3}}),E.jsxs("div",{className:"review-info",children:[E.jsx("h2",{className:"review-name",children:n.name}),E.jsx("h3",{className:"review-rating",children:"".repeat(n.rating)}),E.jsx("p",{className:"review-description",children:n.description})]})]})},i))})},vke=U.forwardRef(function(e,n){const{label:i,...r}=e;return E.jsxs(Vae,{...r,unstyled:!0,ref:n,children:[i&&E.jsx(jae,{children:i}),E.jsxs(Cj,{gap:"2",children:[E.jsx(yke,{}),E.jsx(Hae,{textAlign:"center",fontSize:"lg",minW:"3ch"}),E.jsx(xke,{})]})]})}),yke=U.forwardRef(function(e,n){return E.jsx(_j,{...e,asChild:!0,ref:n,children:E.jsx(zl,{variant:"outline",size:"sm",children:E.jsx(vle,{})})})}),xke=U.forwardRef(function(e,n){return E.jsx(xj,{...e,asChild:!0,ref:n,children:E.jsx(zl,{variant:"outline",size:"sm",children:E.jsx(_le,{})})})}),_ke=()=>{const{user:t}=U.useContext(bu),e=Zl(),{imageUrl:n,price:i,title:r,description:s,orange:o,blue:a,black:l,grey:c}=e.state||{},[d,h]=U.useState(l||[]),[p,v]=U.useState(d[0]||n),[y,b]=U.useState("black"),[S,_]=U.useState("S"),[w,C]=U.useState(1),A=U.useRef(null);U.useEffect(()=>{if(e.state){const{black:k,imageUrl:B}=e.state;h(k||[]),v(k&&k[0]||B),b("black"),_("S"),C(1)}},[e.state]),U.useEffect(()=>{const k=A.current;if(!k)return;const B=J=>{const{left:Z,top:$,width:K,height:W}=k.getBoundingClientRect(),V=(J.clientX-Z)/K,X=(J.clientY-$)/W,te=V*100,Y=X*100;k.style.backgroundPosition=`${te}% ${Y}%`},H=()=>{k.style.backgroundPosition="50% 50%"};return k.addEventListener("mousemove",B),k.addEventListener("mouseleave",H),()=>{k.removeEventListener("mousemove",B),k.removeEventListener("mouseleave",H)}},[p]);const R=(k,B)=>{h(k),v(k[0]),b(B)},O=[{imageUrl:"/images/review1.jpg",name:"David Weis",rating:5,description:"Ive never been more impressed with a product. It works perfectly and looks amazing!"},{imageUrl:"/images/review2.jpg",name:"John Doe",rating:5,description:"This product has completely exceeded my expectations, offering both quality and great value."},{imageUrl:"/images/review3.jpg",name:"Jane Smith",rating:5,description:"I cant believe how much this has improved my daily routine. Truly a game-changer!"}];function L(){const k=oo();if(t&&t.email){const B=yi(k,"users/"+t.email.replace(".",",")+"/cart/items");pw(B,{title:r,Size:S,color:y,imageUrl:p,price:i,description:s,quantity:w});const H=yi(k,"users/"+t.email.replace(".",",")+"/cart/totalItems");gw(H,J=>(J||0)+1),yn.success(`${r} has been added to your cart!`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else yn.error("Please login to add items to your cart!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}const[z,N]=U.useState([]);return U.useEffect(()=>{const k=oo(),B=yi(k,"/Merch/");Ka(B).then(H=>{if(H.exists()){const J=H.val(),Z=Object.values(J);N(Z),r&&N($=>$.filter(K=>K.title!==r))}}).catch(H=>{console.error(H)})},[r]),E.jsxs("div",{style:{paddingTop:"100px"},children:[E.jsx(yv,{}),E.jsxs(et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"product-container",children:[E.jsxs("div",{className:"product-images-container",children:[E.jsx("div",{className:"add-images",children:d.map((k,B)=>E.jsx(et.button,{className:"add-images-btn",onClick:()=>v(k),whileHover:{scale:1},whileTap:{scale:.95},children:E.jsx("img",{src:k,alt:`Additional image ${B}`,className:"add-images-img"})},B))}),E.jsx("div",{className:"main-image",children:E.jsx(et.div,{className:"image-zoom-container",style:{backgroundImage:`url(${p})`},ref:A,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5}})})]}),E.jsxs(et.div,{className:"product-details-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:[E.jsx("h2",{className:"product-title",children:r}),E.jsx("p",{className:"product-description",children:s}),E.jsx("div",{className:"divider"}),r&&!r.toLowerCase().includes("vinyl")&&!r.toLowerCase().includes("candle")&&!r.toLowerCase().includes("sticker")&&!r.toLowerCase().includes("bag")&&!r.toLowerCase().includes("socks")&&E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"product-color-title",children:"Color"}),E.jsxs("div",{className:"color-options",children:[E.jsx("button",{className:`color-btn ${y==="black"?"selected":""}`,style:{backgroundColor:"#010B13"},onClick:()=>R(l,"black")}),E.jsx("button",{className:`color-btn ${y==="grey"?"selected":""}`,style:{backgroundColor:"#bac2bc"},onClick:()=>R(c,"grey")}),E.jsx("button",{className:`color-btn ${y==="orange"?"selected":""}`,style:{backgroundColor:"#FF4500"},onClick:()=>R(o,"orange")}),E.jsx("button",{className:`color-btn ${y==="blue"?"selected":""}`,style:{backgroundColor:"#225b9c"},onClick:()=>R(a,"blue")})]})]}),r&&!r.toLowerCase().includes("vinyl")&&!r.toLowerCase().includes("candle")&&!r.toLowerCase().includes("sticker")&&!r.toLowerCase().includes("bag")&&!r.toLowerCase().includes("phone")&&E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"product-size-title",children:"Size"}),E.jsxs("div",{className:"size-options",children:[E.jsx("button",{className:"size-btn",style:{fontWeight:S==="S"?"bold":"normal",outline:S==="S"?"none":"",boxShadow:S==="S"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("S"),children:"S"}),E.jsx("button",{className:"size-btn",style:{fontWeight:S==="M"?"bold":"normal",outline:S==="M"?"none":"",boxShadow:S==="M"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("M"),children:"M"}),E.jsx("button",{className:"size-btn",style:{fontWeight:S==="L"?"bold":"normal",outline:S==="L"?"none":"",boxShadow:S==="L"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("L"),children:"L"}),E.jsx("button",{className:"size-btn",style:{fontWeight:S==="XL"?"bold":"normal",outline:S==="XL"?"none":"",boxShadow:S==="XL"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("XL"),children:"XL"})]})]})]}),E.jsxs(et.div,{className:"checkout-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:[E.jsxs("h2",{className:"product-price",children:["$",i]}),E.jsx("p",{className:"product-price-note",children:"Price When Purchased Online"}),E.jsx("p",{className:"product-return-policy",children:"Free 90 Day Returns"}),E.jsx("p",{className:"product-seller",children:"Sold by Stage Fright TM"}),E.jsx("h3",{className:"quantity-title",children:"Quantity:"}),E.jsx("div",{children:E.jsx(vke,{defaultValue:"1",onValueChange:({value:k})=>C(Math.max(1,Number(k))),value:w.toString()})}),E.jsx("button",{className:"add-to-cart-btn",onClick:L,children:"Add to Cart"})]})]}),E.jsxs(et.div,{className:"review_container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[E.jsx("h2",{style:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginBottom:"30px",color:"#fff",textTransform:"uppercase",letterSpacing:"2px"},children:"What Our Fans Say"}),E.jsx(gke,{reviews:O})]}),E.jsxs(et.div,{className:"checkout-other-products-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.5},children:[E.jsx("h2",{className:"checkout-other-products-title",children:"Shop Similar Items"}),E.jsx("div",{className:"checkout-other-products-carousel",children:E.jsx(DC,{modules:[Iq,UN,kq,Nq],slidesPerView:1,breakpoints:{768:{slidesPerView:1},1024:{slidesPerView:3},1750:{slidesPerView:4}},navigation:!0,pagination:{clickable:!0},scrollbar:{draggable:!0},children:z.map((k,B)=>E.jsx(FC,{className:"checkout-other-products-card",children:E.jsx(Oq,{imageUrl:k.imageUrl,price:k.price,title:k.title,description:k.description,orange:k.orange,blue:k.blue,black:k.black,grey:k.grey})},B))})})]}),E.jsx(tc,{})]})},bke=()=>{const{user:t}=U.useContext(bu),e=Zl(),{address:n,place:i,price:r,startDate:s,endDate:o,mapData:a}=e.state||{},[l,c]=U.useState(new Array(30).fill({status:"none"})),[d,h]=U.useState(!1),[p,v]=U.useState(!1),[y,b]=U.useState(!1),[S,_]=U.useState(0);U.useEffect(()=>{A()},[l,d,p,y]),U.useEffect(()=>{const L=oo(),z=yi(L,`/${i}/`);Ka(z).then(N=>{if(N.exists()){const B=N.val().map(H=>({status:H?"booked":"none"}));c(B)}}).catch(N=>{console.error("Error fetching booked seats:",N)})},[]);const w=L=>{const z=[...l];z[L].status==="none"?z[L].status="selected":z[L].status==="selected"&&(z[L].status="none"),c(z)},C=L=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(L/10)],k=L%10+1;return`${N}${k}`},A=()=>{const L=l.filter(z=>z.status==="selected");_(L.length*r+(d?50:0)+(p?100:0)+(y?75:0))};function R(){const L=oo();if(t&&t.email){const z=yi(L,"users/"+t.email.replace(".",",")+"/tours/items"),N=l.filter(B=>B.status==="selected");if(N.length===0){yn.error("You must select at least one seat!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}});return}pw(z,{place:i,startDate:s instanceof Date?s.toISOString().split("T")[0]:s,endDate:o instanceof Date?o.toISOString().split("T")[0]:o,address:n,realPrice:S,quantity:l.filter(B=>B.status==="selected").length,selectedSeats:N.map(B=>l.indexOf(B)),backstage:p,lounge:y,meet:d});const k=yi(L,"users/"+t.email.replace(".",",")+"/tours/totalItems");gw(k,B=>(B||0)+1),yn.success(`${i} has been added to your cart!`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else yn.error("Please login to add items to your cart!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}const O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return E.jsxs("div",{children:[E.jsx(yv,{}),E.jsx(et.div,{className:"hero",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:E.jsxs("div",{className:"hero-overlay",children:[E.jsx(et.h1,{initial:{y:-50},animate:{y:0},transition:{duration:.8},children:"Stage Fright Tour"}),E.jsxs(et.p,{initial:{y:50},animate:{y:0},transition:{duration:.8},children:["Experience an unforgettable night of music at ",i]})]})}),E.jsxs("main",{children:[E.jsxs(et.div,{className:"tour-main",initial:"hidden",animate:"visible",children:[E.jsxs("div",{className:"left-container",children:[E.jsxs(et.section,{className:"card",variants:O,children:[E.jsx("h2",{children:"Event Details"}),E.jsxs("p",{className:"event-det",children:[E.jsxs("strong",{children:[E.jsx(lx,{})," Start Date:"]})," ",s instanceof Date?s.toLocaleDateString():s]}),E.jsxs("p",{className:"event-det",children:[E.jsxs("strong",{children:[E.jsx(lx,{})," End Date:"]})," ",o instanceof Date?o.toLocaleDateString():o]}),E.jsxs("p",{className:"event-det",children:[E.jsxs("strong",{children:[E.jsx(ak,{})," Address:"]})," ",n]})]}),E.jsxs(et.section,{className:"card",variants:O,children:[E.jsx("h2",{children:"Location"}),E.jsx("iframe",{src:a,width:"100%",height:"300",className:"map",allowFullScreen:!0,loading:"lazy"})]})]}),E.jsx("div",{className:"right-container",children:E.jsxs(et.section,{className:"card",variants:O,children:[E.jsx("h2",{children:"Ticketing"}),E.jsxs("div",{className:"tickets",children:[E.jsxs("div",{className:"ticket-selector",children:[E.jsx("div",{className:"head",children:E.jsxs("div",{className:"title_tour",children:["Seating at ",i]})}),E.jsx("div",{className:"screen",children:E.jsx("div",{className:"screen-text",children:"Concert Stage"})}),E.jsxs(et.div,{className:"seats",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[E.jsxs("div",{className:"status",children:[E.jsx("div",{className:"item",children:"Available"}),E.jsx("div",{className:"item",children:"Booked"}),E.jsx("div",{className:"item",children:"Selected"})]}),E.jsx("div",{className:"all-seats",children:l.map((L,z)=>E.jsx(et.div,{className:"seat-container",variants:O,children:E.jsx("div",{className:`seat ${L.status}`,onClick:()=>{w(z),A()},children:C(z)})},z))})]}),E.jsxs("div",{className:"vip-options",children:[E.jsx("h3",{children:"VIP Pass Options"}),E.jsxs("div",{className:"vip-item",onClick:()=>{const L=document.getElementById("vip1");L.checked=!L.checked,h(L.checked),A()},children:[E.jsx("input",{type:"checkbox",id:"vip1",onChange:L=>{h(L.target.checked),A()}}),E.jsx("label",{htmlFor:"vip1",children:"VIP Meet and Greet - $50"})]}),E.jsxs("div",{className:"vip-item",onClick:()=>{const L=document.getElementById("vip2");L.checked=!L.checked,v(L.checked),A()},children:[E.jsx("input",{type:"checkbox",id:"vip2",onChange:L=>{v(L.target.checked),A()}}),E.jsx("label",{htmlFor:"vip2",children:"VIP Backstage Access - $100"})]}),E.jsxs("div",{className:"vip-item",onClick:()=>{const L=document.getElementById("vip3");L.checked=!L.checked,b(L.checked),A()},children:[E.jsx("input",{type:"checkbox",id:"vip3",onChange:L=>{b(L.target.checked),A()}}),E.jsx("label",{htmlFor:"vip3",children:"VIP Lounge Access - $75"})]})]})]}),E.jsxs("div",{className:"price_tour",children:[E.jsxs("div",{className:"total",children:[E.jsxs("span",{children:[E.jsx("span",{children:l.filter(L=>L.status==="selected").length})," Tickets"]}),E.jsxs("div",{className:"amount",children:["$",S]})]}),E.jsx("button",{type:"button",onClick:R,children:"Book"})]})]})]})})]}),E.jsxs(et.section,{className:"card",variants:O,children:[E.jsx("h2",{children:"Event Rules / FAQ"}),E.jsxs("div",{className:"faq-list",children:[E.jsxs("div",{className:"faq-item",children:[E.jsx("h3",{children:"What time do the doors open?"}),E.jsx("p",{children:"Doors open at 6:00 PM."})]}),E.jsxs("div",{className:"faq-item",children:[E.jsx("h3",{children:"Are there any age restrictions?"}),E.jsx("p",{children:"This event is open to all ages."})]}),E.jsxs("div",{className:"faq-item",children:[E.jsx("h3",{children:"Can I bring my own food and drinks?"}),E.jsx("p",{children:"Outside food and drinks are not permitted. Concessions will be available inside the venue."})]}),E.jsxs("div",{className:"faq-item",children:[E.jsx("h3",{children:"What is the refund policy?"}),E.jsx("p",{children:"All sales are final. No refunds or exchanges unless the event is canceled."})]})]})]}),E.jsxs(et.section,{className:"card",variants:O,children:[E.jsx("h2",{style:{color:"#ff6347"},children:"Accessibility Information"}),E.jsxs("div",{style:{backgroundColor:"#222222",borderRadius:"8px",padding:"16px"},children:[E.jsx("p",{style:{fontSize:"1.3rem",fontWeight:"bolder"},children:"We strive to make our events accessible to everyone. Available features include:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"  - Wheelchair accessible seating and restrooms"}),E.jsx("li",{children:"  - Sign language interpreters available upon request"}),E.jsx("li",{children:"  - Assistive listening devices"}),E.jsx("li",{children:"  - Service animals welcome"})]})]})]}),E.jsxs(et.section,{className:"card",variants:O,children:[E.jsx("h2",{style:{color:"#ff6347"},children:"Event Sponsors"}),E.jsxs("div",{className:"sponsor-logos",children:[E.jsx("img",{src:"/images/sponsor1.png",alt:"Sponsor 1"}),E.jsx("img",{src:"/images/sponsor2.png",alt:"Sponsor 2"}),E.jsx("img",{src:"/images/sponsor3.png",alt:"Sponsor 3"})]})]})]}),E.jsx(tc,{})]})};function Ske(){const[t,e]=U.useState(!1),{handleEmailChange:n,handlePasswordChange:i,handleLogin:r}=ax();return E.jsx("div",{className:"login-container-page",children:E.jsxs(et.div,{className:"form-container",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:[E.jsx(et.h1,{className:"login-first-heading",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:"Login"}),E.jsx(et.h1,{className:"login-second-heading",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:"Welcome Back!"}),E.jsxs("div",{className:"input-container",children:[E.jsxs("form",{className:"email-password-form",style:{marginTop:"10px"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[" ",E.jsx("label",{htmlFor:"email-input",style:{fontSize:"1.1rem"},children:"Email:"}),E.jsxs("div",{className:"input-with-icon",children:[E.jsx(i7,{className:"input-icon"}),E.jsx("input",{className:"email-input",type:"email",placeholder:"Enter Your Email",required:!0,onChange:n})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[" ",E.jsx("label",{htmlFor:"password-input",style:{fontSize:"1.1rem"},children:"Password:"}),E.jsxs("div",{className:"input-with-icon",children:[" ",E.jsx(tP,{className:"input-icon"}),E.jsx("input",{className:"password-input",type:t?"text":"password",placeholder:"Enter Your Password",required:!0,onChange:i}),E.jsx("span",{onClick:()=>e(!t),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#E9204F"},children:t?E.jsx(Z2,{}):E.jsx(eP,{})})]})]}),E.jsx(et.button,{type:"submit",className:"Login-submit",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s=>{s.preventDefault(),r()},children:"Log In"})]}),E.jsxs(et.p,{className:"signup-text",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:["Don't have an account? ",E.jsx(Ci,{to:"/signup",className:"signup-link",children:"Sign up"})]})]})]})})}function wke(){const{email:t,password:e,confirmPassword:n,Name:i,Phone:r,DateOfBirth:s,setName:o,setPhone:a,setDateOfBirth:l,setConfirmPassword:c,handleEmailChange:d,handlePasswordChange:h,handleCreateAccount:p,createAccountStatus:v,address:y,setAddress:b,handleLogin:S}=ax(),[_,w]=U.useState(!1),[C,A]=U.useState(!1);return E.jsx("div",{className:"signup-container-page",children:E.jsxs(et.div,{className:"signup-form-container",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:[E.jsx(et.h1,{className:"signup-heading",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:"Create Account"}),E.jsx(et.h3,{className:"signup-subheading",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:"Join Our Community Today"}),E.jsx("div",{className:"signup-input-container",children:E.jsxs("form",{children:[E.jsxs("div",{className:"signup-name-fields",children:[E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(FD,{className:"signup-input-icon"}),E.jsx("input",{type:"text",placeholder:"First Name",className:"signup-input",required:!0,value:i.split(" ")[0]||"",onChange:R=>o(`${R.target.value} ${i.split(" ")[1]||""}`)})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(FD,{className:"signup-input-icon"}),E.jsx("input",{type:"text",placeholder:"Last Name",className:"signup-input",required:!0,value:i.split(" ")[1]||"",onChange:R=>o(`${i.split(" ")[0]||""} ${R.target.value}`)})]})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(i7,{className:"signup-input-icon"}),E.jsx("input",{type:"email",placeholder:"Email",className:"signup-input",required:!0,value:t,onChange:d})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(lx,{className:"signup-input-icon"}),E.jsx("input",{type:"date",placeholder:"Date of Birth (MM/DD/YYYY)",className:"signup-input",required:!0,value:s,onChange:R=>l(R.target.value)})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(bve,{className:"signup-input-icon"}),E.jsx("input",{type:"tel",placeholder:"Phone",className:"signup-input",value:r,onChange:R=>a(R.target.value),required:!0})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(ak,{className:"signup-input-icon"}),E.jsx("input",{type:"text",placeholder:"Address",className:"signup-input",value:y,onChange:R=>b(R.target.value),required:!0})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(tP,{className:"signup-input-icon"}),E.jsx("input",{type:_?"text":"password",placeholder:"Password",className:"signup-input",required:!0,value:e,onChange:h}),E.jsx("span",{onClick:()=>w(!_),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#E9204F"},children:_?E.jsx(Z2,{}):E.jsx(eP,{})})]}),E.jsxs(et.div,{className:"signup-input-with-icon",children:[E.jsx(tP,{className:"signup-input-icon"}),E.jsx("input",{type:C?"text":"password",placeholder:"Confirm Password",className:"signup-input",required:!0,value:n,onChange:R=>c(R.target.value)}),E.jsx("span",{onClick:()=>A(!C),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#E9204F"},children:C?E.jsx(Z2,{}):E.jsx(eP,{})})]}),E.jsx(et.button,{type:"submit",className:"signup-button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R=>{R.preventDefault(),p(),S()},children:"Sign Up"}),v&&E.jsx("p",{className:"signup-status",children:v})]})})]})})}const Eke=()=>{const[t,e]=U.useState([]),[n,i]=U.useState([]),{user:r}=U.useContext(bu);U.useEffect(()=>{const h=oo();if(r&&r.email){const p=yi(h,"users/"+r.email.replace(".",","));Ka(tl(p,"/cart/items/")).then(v=>{if(v.exists()){const y=v.val(),b=Object.entries(y).map(([S,_])=>{const w=_;return{key:S,title:w.title,description:w.description,Size:w.Size,color:w.color,price:w.price,quantity:w.quantity,imageUrl:w.imageUrl}});e(b)}}).catch(v=>{console.error(v)}),Ka(tl(p,"/tours/items")).then(v=>{if(v.exists()){const y=v.val(),b=Object.entries(y).map(([S,_])=>{const w=_;return{key:S,place:w.place,address:w.address,startDate:w.startDate,endDate:w.endDate,realPrice:w.realPrice,quantity:w.quantity,selectedSeats:w.selectedSeats,backstage:w.backstage,meet:w.meet,lounge:w.lounge}});i(b)}}).catch(v=>{console.error(v)})}},[r]);const[s,o]=U.useState(0);U.useEffect(()=>{const h=t.reduce((y,b)=>y+b.price*b.quantity,0),p=n.reduce((y,b)=>y+b.realPrice,0),v=h+p;o(v)},[t,n]);const a=()=>{const h=t.reduce((y,b)=>y+b.price*b.quantity,0),p=n.reduce((y,b)=>y+b.realPrice,0),v=h+p;o(v)};function l(h,p){const v=oo();if(r&&r.email){if(p==="cart"){const y=[...t];y.splice(h,1);const b=yi(v,`users/${r.email.replace(".",",")}/cart/items/${t[h].key}`);mw(b).catch(_=>{console.error("Error removing item from Firebase:",_)});const S=yi(v,`users/${r.email.replace(".",",")}/cart/totalItems`);gw(S,_=>(_||0)-1),e(y)}else{const y=[...n];y.splice(h,1),i(y);const b=yi(v,`users/${r.email.replace(".",",")}/tours/items/${n[h].key}`);mw(b).catch(_=>{console.error("Error removing item from Firebase:",_)});const S=yi(v,`users/${r.email.replace(".",",")}/tours/totalItems`);gw(S,_=>(_||0)-1)}a()}}const c=h=>{const v="ABC"[Math.floor(h/10)],y=h%10+1;return`Row ${v}, Seat ${y}`},d=et(Il);return E.jsxs(An,{bg:"#09090b",color:"white",minH:"100vh",py:8,px:4,style:{paddingTop:"100px"},children:[E.jsx(yv,{}),E.jsx(An,{textAlign:"center",mb:6,children:E.jsx(pr,{fontSize:"3xl",color:"#E9204F",fontWeight:"bold",children:"Your Cart"})}),E.jsxs(Il,{alignItems:"flex-start",gap:8,flexDirection:{base:"column",md:"row"},children:[E.jsxs(An,{textAlign:"center",bg:"gray.900",p:4,borderRadius:"md",w:{base:"100%",md:"400px"},mb:{base:4,md:0},maxW:{base:"100%",md:"500px"},ml:{base:"0",md:"auto"},order:{base:1,md:2},children:[E.jsxs(pr,{fontSize:"2xl",fontWeight:"bold",mb:4,children:["Total: $",s.toFixed(2)]}),(t.length>0||n.length>0)&&E.jsx(Ci,{to:"/payment",children:E.jsx(Rl,{as:"a",size:"lg",bg:"#E9204F",color:"white",_hover:{bg:"red.600"},w:"full",children:"Checkout"})})]}),E.jsx(Tj,{align:"stretch",flex:"2",gap:4,order:{base:2,md:1},children:t.length===0&&n.length===0?E.jsx(pr,{fontSize:"xl",color:"white",textAlign:"center",children:"Your cart is empty."}):E.jsxs(E.Fragment,{children:[t.map((h,p)=>E.jsxs(d,{bg:"gray.800",p:4,borderRadius:"md",alignItems:"flex-start",gap:4,w:"full",flexDirection:{base:"column",md:"row"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},whileHover:{scale:1.02,boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.3)"},children:[E.jsx(vy,{src:h.imageUrl,alt:h.title,boxSize:{base:"100%",md:"150px"},objectFit:"cover",borderRadius:"md"}),E.jsxs(An,{flex:"1",children:[E.jsx(pr,{fontSize:"lg",fontWeight:"bold",color:"#E9204F",children:h.title}),E.jsx(pr,{children:h.description}),E.jsxs(pr,{className:"payment-item-meta",children:["Size: ",h.Size," | Color: ",h.color]}),E.jsxs(pr,{className:"payment-item-meta",children:["Quantity: ",h.quantity]}),E.jsxs(pr,{className:"payment-item-price",children:["$",h.price.toFixed(2)]})]}),E.jsx(zl,{onClick:()=>{l(p,"cart")},_hover:{transform:"scale(1.2)",boxShadow:"0px 0px 10px 2px rgba(233, 32, 79, 0.8)",color:"#E9204F"},children:E.jsx(DD,{})})]},p)),n.length===0?E.jsx(pr,{fontSize:"xl",color:"white",textAlign:"center",children:"You have no tours booked."}):n.map((h,p)=>E.jsxs(d,{bg:"gray.800",p:4,borderRadius:"md",alignItems:"flex-start",gap:4,w:"full",flexDirection:{base:"column",md:"row"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},whileHover:{scale:1.02,boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.3)"},children:[E.jsxs(An,{flex:"1",children:[E.jsx(pr,{fontSize:"lg",fontWeight:"bold",color:"#E9204F",children:h.place}),E.jsx(pr,{children:h.address}),E.jsxs(pr,{children:[E.jsx("strong",{children:"Start Date:"})," ",h.startDate]}),E.jsxs(pr,{children:[E.jsx("strong",{children:"End Date:"})," ",h.endDate]}),E.jsxs(pr,{children:[E.jsx("strong",{children:"Quantity:"})," ",h.quantity]}),h.selectedSeats.length>0&&E.jsx(E.Fragment,{children:E.jsxs("div",{className:"payment-ticket-seats",children:[E.jsx(pr,{children:E.jsx("strong",{children:"Selected Seats:"})}),h.selectedSeats.map((v,y)=>E.jsx("p",{children:c(v)},y))]})}),(h.backstage||h.meet||h.lounge)&&E.jsxs("div",{className:"payment-ticket-extras",children:[h.backstage&&E.jsx("span",{className:"payment-extra-tag",children:"Backstage Pass ($100)"}),h.meet&&E.jsx("span",{className:"payment-extra-tag",children:"Meet & Greet ($50)"}),h.lounge&&E.jsx("span",{className:"payment-extra-tag",children:"Lounge Access ($75)"})]}),E.jsxs(pr,{className:"payment-ticket-price",children:["$",h.realPrice.toFixed(2)]})]}),E.jsx(zl,{onClick:()=>{l(p,"tour")},_hover:{transform:"scale(1.2)",boxShadow:"0px 0px 10px 2px rgba(233, 32, 79, 0.8)",color:"#E9204F"},children:E.jsx(DD,{})})]},p))]})})]})]})};function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function iU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(i){Jq(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CS(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?CS=function(e){return typeof e}:CS=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CS(t)}function Jq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cke(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Tke(t,e){if(t==null)return{};var n=Cke(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Qq(t,e){return Mke(t)||Ake(t,e)||Pke(t,e)||Rke()}function Mke(t){if(Array.isArray(t))return t}function Ake(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function Pke(t,e){if(t){if(typeof t=="string")return rU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rU(t,e)}}function rU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Co=function(e,n,i){var r=!!i,s=rt.useRef(i);rt.useEffect(function(){s.current=i},[i]),rt.useEffect(function(){if(!r||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[r,n,e,s])},JP=function(e){var n=rt.useRef(e);return rt.useEffect(function(){n.current=e},[e]),n.current},Xg=function(e){return e!==null&&CS(e)==="object"},Ike=function(e){return Xg(e)&&typeof e.then=="function"},kke=function(e){return Xg(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},sU="[object Object]",Nke=function t(e,n){if(!Xg(e)||!Xg(n))return e===n;var i=Array.isArray(e),r=Array.isArray(n);if(i!==r)return!1;var s=Object.prototype.toString.call(e)===sU,o=Object.prototype.toString.call(n)===sU;if(s!==o)return!1;if(!s&&!i)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c={},d=0;d<a.length;d+=1)c[a[d]]=!0;for(var h=0;h<l.length;h+=1)c[l[h]]=!0;var p=Object.keys(c);if(p.length!==a.length)return!1;var v=e,y=n,b=function(_){return t(v[_],y[_])};return p.every(b)},Zq=function(e,n,i){return Xg(e)?Object.keys(e).reduce(function(r,s){var o=!Xg(n)||!Nke(e[s],n[s]);return i.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),r):o?iU(iU({},r||{}),{},Jq({},s,e[s])):r},null):null},eX="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",oU=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eX;if(e===null||kke(e))return e;throw new Error(n)},Oke=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eX;if(Ike(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(r){return oU(r,n)})};var i=oU(e,n);return i===null?{tag:"empty"}:{tag:"sync",stripe:i}},Lke=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.5.1"}),e.registerAppInfo({name:"react-stripe-js",version:"3.5.1",url:"https://stripe.com/docs/stripe-js/react"}))},VC=rt.createContext(null);VC.displayName="ElementsContext";var tX=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},nX=function(e){var n=e.stripe,i=e.options,r=e.children,s=rt.useMemo(function(){return Oke(n)},[n]),o=rt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(i):null}}),a=Qq(o,2),l=a[0],c=a[1];rt.useEffect(function(){var p=!0,v=function(b){c(function(S){return S.stripe?S:{stripe:b,elements:b.elements(i)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(y){y&&p&&v(y)}):s.tag==="sync"&&!l.stripe&&v(s.stripe),function(){p=!1}},[s,l,i]);var d=JP(n);rt.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=JP(i);return rt.useEffect(function(){if(l.elements){var p=Zq(i,h,["clientSecret","fonts"]);p&&l.elements.update(p)}},[i,h,l.elements]),rt.useEffect(function(){Lke(l.stripe)},[l.stripe]),rt.createElement(VC.Provider,{value:l},r)};nX.propTypes={stripe:Ei.any,options:Ei.object};var Dke=function(e){var n=rt.useContext(VC);return tX(n,e)},Fke=function(){var e=Dke("calls useElements()"),n=e.elements;return n};Ei.func.isRequired;var iX=rt.createContext(null);iX.displayName="CheckoutSdkContext";var zke=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Uke=rt.createContext(null);Uke.displayName="CheckoutContext";Ei.any,Ei.shape({fetchClientSecret:Ei.func.isRequired,elementsOptions:Ei.object}).isRequired;var QP=function(e){var n=rt.useContext(iX),i=rt.useContext(VC);if(n&&i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?zke(n,e):tX(i,e)},Bke=["mode"],Vke=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},rr=function(e,n){var i="".concat(Vke(e),"Element"),r=function(l){var c=l.id,d=l.className,h=l.options,p=h===void 0?{}:h,v=l.onBlur,y=l.onFocus,b=l.onReady,S=l.onChange,_=l.onEscape,w=l.onClick,C=l.onLoadError,A=l.onLoaderStart,R=l.onNetworksChange,O=l.onConfirm,L=l.onCancel,z=l.onShippingAddressChange,N=l.onShippingRateChange,k=QP("mounts <".concat(i,">")),B="elements"in k?k.elements:null,H="checkoutSdk"in k?k.checkoutSdk:null,J=rt.useState(null),Z=Qq(J,2),$=Z[0],K=Z[1],W=rt.useRef(null),V=rt.useRef(null);Co($,"blur",v),Co($,"focus",y),Co($,"escape",_),Co($,"click",w),Co($,"loaderror",C),Co($,"loaderstart",A),Co($,"networkschange",R),Co($,"confirm",O),Co($,"cancel",L),Co($,"shippingaddresschange",z),Co($,"shippingratechange",N),Co($,"change",S);var X;b&&(e==="expressCheckout"?X=b:X=function(){b($)}),Co($,"ready",X),rt.useLayoutEffect(function(){if(W.current===null&&V.current!==null&&(B||H)){var Y=null;if(H)switch(e){case"payment":Y=H.createPaymentElement(p);break;case"address":if("mode"in p){var oe=p.mode,ke=Tke(p,Bke);if(oe==="shipping")Y=H.createShippingAddressElement(ke);else if(oe==="billing")Y=H.createBillingAddressElement(ke);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Y=H.createExpressCheckoutElement(p);break;case"currencySelector":Y=H.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(i,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else B&&(Y=B.create(e,p));W.current=Y,K(Y),Y&&Y.mount(V.current)}},[B,H,p]);var te=JP(p);return rt.useEffect(function(){if(W.current){var Y=Zq(p,te,["paymentRequest"]);Y&&"update"in W.current&&W.current.update(Y)}},[p,te]),rt.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),rt.createElement("div",{id:c,className:d,ref:V})},s=function(l){QP("mounts <".concat(i,">"));var c=l.id,d=l.className;return rt.createElement("div",{id:c,className:d})},o=n?s:r;return o.propTypes={id:Ei.string,className:Ei.string,onChange:Ei.func,onBlur:Ei.func,onFocus:Ei.func,onReady:Ei.func,onEscape:Ei.func,onClick:Ei.func,onLoadError:Ei.func,onLoaderStart:Ei.func,onNetworksChange:Ei.func,onConfirm:Ei.func,onCancel:Ei.func,onShippingAddressChange:Ei.func,onShippingRateChange:Ei.func,options:Ei.object},o.displayName=i,o.__elementType=e,o},sr=typeof window>"u",jke=rt.createContext(null);jke.displayName="EmbeddedCheckoutProviderContext";var Hke=function(){var e=QP("calls useStripe()"),n=e.stripe;return n};rr("auBankAccount",sr);rr("card",sr);rr("cardNumber",sr);rr("cardExpiry",sr);rr("cardCvc",sr);rr("fpxBank",sr);rr("iban",sr);rr("idealBank",sr);rr("p24Bank",sr);rr("epsBank",sr);var Wke=rr("payment",sr);rr("expressCheckout",sr);rr("currencySelector",sr);rr("paymentRequestButton",sr);rr("linkAuthentication",sr);rr("address",sr);rr("shippingAddress",sr);rr("paymentMethodMessaging",sr);rr("affirmMessage",sr);rr("afterpayClearpayMessage",sr);function rX(t,e){return function(){return t.apply(e,arguments)}}const{toString:Gke}=Object.prototype,{getPrototypeOf:VN}=Object,jC=(t=>e=>{const n=Gke.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ll=t=>(t=t.toLowerCase(),e=>jC(e)===t),HC=t=>e=>typeof e===t,{isArray:xv}=Array,Fx=HC("undefined");function $ke(t){return t!==null&&!Fx(t)&&t.constructor!==null&&!Fx(t.constructor)&&Lo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sX=ll("ArrayBuffer");function qke(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sX(t.buffer),e}const Xke=HC("string"),Lo=HC("function"),oX=HC("number"),WC=t=>t!==null&&typeof t=="object",Yke=t=>t===!0||t===!1,TS=t=>{if(jC(t)!=="object")return!1;const e=VN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kke=ll("Date"),Jke=ll("File"),Qke=ll("Blob"),Zke=ll("FileList"),eNe=t=>WC(t)&&Lo(t.pipe),tNe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Lo(t.append)&&((e=jC(t))==="formdata"||e==="object"&&Lo(t.toString)&&t.toString()==="[object FormData]"))},nNe=ll("URLSearchParams"),[iNe,rNe,sNe,oNe]=["ReadableStream","Request","Response","Headers"].map(ll),aNe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function R_(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),xv(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function aX(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Ah=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lX=t=>!Fx(t)&&t!==Ah;function ZP(){const{caseless:t}=lX(this)&&this||{},e={},n=(i,r)=>{const s=t&&aX(e,r)||r;TS(e[s])&&TS(i)?e[s]=ZP(e[s],i):TS(i)?e[s]=ZP({},i):xv(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&R_(arguments[i],n);return e}const lNe=(t,e,n,{allOwnKeys:i}={})=>(R_(e,(r,s)=>{n&&Lo(r)?t[s]=rX(r,n):t[s]=r},{allOwnKeys:i}),t),cNe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uNe=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},dNe=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&VN(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fNe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},hNe=t=>{if(!t)return null;if(xv(t))return t;let e=t.length;if(!oX(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},pNe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&VN(Uint8Array)),mNe=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},gNe=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},vNe=ll("HTMLFormElement"),yNe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),aU=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xNe=ll("RegExp"),cX=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};R_(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},_Ne=t=>{cX(t,(e,n)=>{if(Lo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Lo(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bNe=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return xv(t)?i(t):i(String(t).split(e)),n},SNe=()=>{},wNe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ENe(t){return!!(t&&Lo(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const CNe=t=>{const e=new Array(10),n=(i,r)=>{if(WC(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=xv(i)?[]:{};return R_(i,(o,a)=>{const l=n(o,r+1);!Fx(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},TNe=ll("AsyncFunction"),MNe=t=>t&&(WC(t)||Lo(t))&&Lo(t.then)&&Lo(t.catch),uX=((t,e)=>t?setImmediate:e?((n,i)=>(Ah.addEventListener("message",({source:r,data:s})=>{r===Ah&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Ah.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Lo(Ah.postMessage)),ANe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ah):typeof process<"u"&&process.nextTick||uX,Te={isArray:xv,isArrayBuffer:sX,isBuffer:$ke,isFormData:tNe,isArrayBufferView:qke,isString:Xke,isNumber:oX,isBoolean:Yke,isObject:WC,isPlainObject:TS,isReadableStream:iNe,isRequest:rNe,isResponse:sNe,isHeaders:oNe,isUndefined:Fx,isDate:Kke,isFile:Jke,isBlob:Qke,isRegExp:xNe,isFunction:Lo,isStream:eNe,isURLSearchParams:nNe,isTypedArray:pNe,isFileList:Zke,forEach:R_,merge:ZP,extend:lNe,trim:aNe,stripBOM:cNe,inherits:uNe,toFlatObject:dNe,kindOf:jC,kindOfTest:ll,endsWith:fNe,toArray:hNe,forEachEntry:mNe,matchAll:gNe,isHTMLForm:vNe,hasOwnProperty:aU,hasOwnProp:aU,reduceDescriptors:cX,freezeMethods:_Ne,toObjectSet:bNe,toCamelCase:yNe,noop:SNe,toFiniteNumber:wNe,findKey:aX,global:Ah,isContextDefined:lX,isSpecCompliantForm:ENe,toJSONObject:CNe,isAsyncFn:TNe,isThenable:MNe,setImmediate:uX,asap:ANe};function tn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Te.inherits(tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const dX=tn.prototype,fX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fX[t]={value:t}});Object.defineProperties(tn,fX);Object.defineProperty(dX,"isAxiosError",{value:!0});tn.from=(t,e,n,i,r,s)=>{const o=Object.create(dX);return Te.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),tn.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const PNe=null;function eR(t){return Te.isPlainObject(t)||Te.isArray(t)}function hX(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function lU(t,e,n){return t?t.concat(e).map(function(r,s){return r=hX(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function RNe(t){return Te.isArray(t)&&!t.some(eR)}const INe=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function GC(t,e,n){if(!Te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!Te.isUndefined(S[b])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Te.isDate(y))return y.toISOString();if(!l&&Te.isBlob(y))throw new tn("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(y)||Te.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,S){let _=y;if(y&&!S&&typeof y=="object"){if(Te.endsWith(b,"{}"))b=i?b:b.slice(0,-2),y=JSON.stringify(y);else if(Te.isArray(y)&&RNe(y)||(Te.isFileList(y)||Te.endsWith(b,"[]"))&&(_=Te.toArray(y)))return b=hX(b),_.forEach(function(C,A){!(Te.isUndefined(C)||C===null)&&e.append(o===!0?lU([b],A,s):o===null?b:b+"[]",c(C))}),!1}return eR(y)?!0:(e.append(lU(S,b,s),c(y)),!1)}const h=[],p=Object.assign(INe,{defaultVisitor:d,convertValue:c,isVisitable:eR});function v(y,b){if(!Te.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),Te.forEach(y,function(_,w){(!(Te.isUndefined(_)||_===null)&&r.call(e,_,Te.isString(w)?w.trim():w,b,p))===!0&&v(_,b?b.concat(w):[w])}),h.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return v(t),e}function cU(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function jN(t,e){this._pairs=[],t&&GC(t,this,e)}const pX=jN.prototype;pX.append=function(e,n){this._pairs.push([e,n])};pX.toString=function(e){const n=e?function(i){return e.call(this,i,cU)}:cU;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function kNe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mX(t,e,n){if(!e)return t;const i=n&&n.encode||kNe;Te.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Te.isURLSearchParams(e)?e.toString():new jN(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class uU{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(i){i!==null&&e(i)})}}const gX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NNe=typeof URLSearchParams<"u"?URLSearchParams:jN,ONe=typeof FormData<"u"?FormData:null,LNe=typeof Blob<"u"?Blob:null,DNe={isBrowser:!0,classes:{URLSearchParams:NNe,FormData:ONe,Blob:LNe},protocols:["http","https","file","blob","url","data"]},HN=typeof window<"u"&&typeof document<"u",tR=typeof navigator=="object"&&navigator||void 0,FNe=HN&&(!tR||["ReactNative","NativeScript","NS"].indexOf(tR.product)<0),zNe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UNe=HN&&window.location.href||"http://localhost",BNe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HN,hasStandardBrowserEnv:FNe,hasStandardBrowserWebWorkerEnv:zNe,navigator:tR,origin:UNe},Symbol.toStringTag,{value:"Module"})),hs={...BNe,...DNe};function VNe(t,e){return GC(t,new hs.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return hs.isNode&&Te.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function jNe(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HNe(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function vX(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Te.isArray(r)?r.length:o,l?(Te.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!Te.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&Te.isArray(r[o])&&(r[o]=HNe(r[o])),!a)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const n={};return Te.forEachEntry(t,(i,r)=>{e(jNe(i),r,n,0)}),n}return null}function WNe(t,e,n){if(Te.isString(t))try{return(e||JSON.parse)(t),Te.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const I_={transitional:gX,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Te.isObject(e);if(s&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return r?JSON.stringify(vX(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e)||Te.isReadableStream(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return VNe(e,this.formSerializer).toString();if((a=Te.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return GC(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),WNe(e)):e}],transformResponse:[function(e){const n=this.transitional||I_.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Te.isResponse(e)||Te.isReadableStream(e))return e;if(e&&Te.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?tn.from(a,tn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{I_.headers[t]={}});const GNe=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$Ne=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&GNe[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},dU=Symbol("internals");function J0(t){return t&&String(t).trim().toLowerCase()}function MS(t){return t===!1||t==null?t:Te.isArray(t)?t.map(MS):String(t)}function qNe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const XNe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function BA(t,e,n,i,r){if(Te.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Te.isString(e)){if(Te.isString(i))return e.indexOf(i)!==-1;if(Te.isRegExp(i))return i.test(e)}}function YNe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function KNe(t,e){const n=Te.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let ro=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const d=J0(l);if(!d)throw new Error("header name must be a non-empty string");const h=Te.findKey(r,d);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=MS(a))}const o=(a,l)=>Te.forEach(a,(c,d)=>s(c,d,l));if(Te.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Te.isString(e)&&(e=e.trim())&&!XNe(e))o($Ne(e),n);else if(Te.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=J0(e),e){const i=Te.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return qNe(r);if(Te.isFunction(n))return n.call(this,r,i);if(Te.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=J0(e),e){const i=Te.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||BA(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=J0(o),o){const a=Te.findKey(i,o);a&&(!n||BA(i,i[a],a,n))&&(delete i[a],r=!0)}}return Te.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||BA(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Te.forEach(this,(r,s)=>{const o=Te.findKey(i,s);if(o){n[o]=MS(r),delete n[s];return}const a=e?YNe(s):String(s).trim();a!==s&&delete n[s],n[a]=MS(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Te.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Te.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[dU]=this[dU]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=J0(o);i[a]||(KNe(r,o),i[a]=!0)}return Te.isArray(e)?e.forEach(s):s(e),this}};ro.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(ro.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Te.freezeMethods(ro);function VA(t,e){const n=this||I_,i=e||n,r=ro.from(i.headers);let s=i.data;return Te.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function yX(t){return!!(t&&t.__CANCEL__)}function _v(t,e,n){tn.call(this,t??"canceled",tn.ERR_CANCELED,e,n),this.name="CanceledError"}Te.inherits(_v,tn,{__CANCEL__:!0});function xX(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new tn("Request failed with status code "+n.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function JNe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function QNe(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[s];o||(o=c),n[r]=l,i[r]=c;let h=s,p=0;for(;h!==r;)p+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const v=d&&c-d;return v?Math.round(p*1e3/v):void 0}}function ZNe(t,e){let n=0,i=1e3/e,r,s;const o=(c,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=i?o(c,d):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-h)))},()=>r&&o(r)]}const uE=(t,e,n=3)=>{let i=0;const r=QNe(50,250);return ZNe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),d=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},fU=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},hU=t=>(...e)=>Te.asap(()=>t(...e)),eOe=hs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,hs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,tOe=hs.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];Te.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Te.isString(i)&&o.push("path="+i),Te.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nOe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iOe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _X(t,e,n){let i=!nOe(e);return t&&(i||n==!1)?iOe(t,e):e}const pU=t=>t instanceof ro?{...t}:t;function ep(t,e){e=e||{};const n={};function i(c,d,h,p){return Te.isPlainObject(c)&&Te.isPlainObject(d)?Te.merge.call({caseless:p},c,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function r(c,d,h,p){if(Te.isUndefined(d)){if(!Te.isUndefined(c))return i(void 0,c,h,p)}else return i(c,d,h,p)}function s(c,d){if(!Te.isUndefined(d))return i(void 0,d)}function o(c,d){if(Te.isUndefined(d)){if(!Te.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function a(c,d,h){if(h in e)return i(c,d);if(h in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>r(pU(c),pU(d),h,!0)};return Te.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||r,p=h(t[d],e[d],d);Te.isUndefined(p)&&h!==a||(n[d]=p)}),n}const bX=t=>{const e=ep({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ro.from(o),e.url=mX(_X(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Te.isFormData(n)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(hs.hasStandardBrowserEnv&&(i&&Te.isFunction(i)&&(i=i(e)),i||i!==!1&&eOe(e.url))){const c=r&&s&&tOe.read(s);c&&o.set(r,c)}return e},rOe=typeof XMLHttpRequest<"u",sOe=rOe&&function(t){return new Promise(function(n,i){const r=bX(t);let s=r.data;const o=ro.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,d,h,p,v,y;function b(){v&&v(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function _(){if(!S)return;const C=ro.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:C,config:t,request:S};xX(function(L){n(L),b()},function(L){i(L),b()},R),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(i(new tn("Request aborted",tn.ECONNABORTED,t,S)),S=null)},S.onerror=function(){i(new tn("Network Error",tn.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||gX;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),i(new tn(A,R.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&Te.forEach(o.toJSON(),function(A,R){S.setRequestHeader(R,A)}),Te.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),a&&a!=="json"&&(S.responseType=r.responseType),c&&([p,y]=uE(c,!0),S.addEventListener("progress",p)),l&&S.upload&&([h,v]=uE(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=C=>{S&&(i(!C||C.type?new _v(null,t,S):C),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=JNe(r.url);if(w&&hs.protocols.indexOf(w)===-1){i(new tn("Unsupported protocol "+w+":",tn.ERR_BAD_REQUEST,t));return}S.send(s||null)})},oOe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const d=c instanceof Error?c:this.reason;i.abort(d instanceof tn?d:new _v(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new tn(`timeout ${e} of ms exceeded`,tn.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Te.asap(a),l}},aOe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},lOe=async function*(t,e){for await(const n of cOe(t))yield*aOe(n,e)},cOe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},mU=(t,e,n,i)=>{const r=lOe(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await r.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},$C=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",SX=$C&&typeof ReadableStream=="function",uOe=$C&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wX=(t,...e)=>{try{return!!t(...e)}catch{return!1}},dOe=SX&&wX(()=>{let t=!1;const e=new Request(hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),gU=64*1024,nR=SX&&wX(()=>Te.isReadableStream(new Response("").body)),dE={stream:nR&&(t=>t.body)};$C&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dE[e]&&(dE[e]=Te.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new tn(`Response type '${e}' is not supported`,tn.ERR_NOT_SUPPORT,i)})})})(new Response);const fOe=async t=>{if(t==null)return 0;if(Te.isBlob(t))return t.size;if(Te.isSpecCompliantForm(t))return(await new Request(hs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(t)||Te.isArrayBuffer(t))return t.byteLength;if(Te.isURLSearchParams(t)&&(t=t+""),Te.isString(t))return(await uOe(t)).byteLength},hOe=async(t,e)=>{const n=Te.toFiniteNumber(t.getContentLength());return n??fOe(e)},pOe=$C&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=bX(t);c=c?(c+"").toLowerCase():"text";let v=oOe([r,s&&s.toAbortSignal()],o),y;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let S;try{if(l&&dOe&&n!=="get"&&n!=="head"&&(S=await hOe(d,i))!==0){let R=new Request(e,{method:"POST",body:i,duplex:"half"}),O;if(Te.isFormData(i)&&(O=R.headers.get("content-type"))&&d.setContentType(O),R.body){const[L,z]=fU(S,uE(hU(l)));i=mU(R.body,gU,L,z)}}Te.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;y=new Request(e,{...p,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:_?h:void 0});let w=await fetch(y);const C=nR&&(c==="stream"||c==="response");if(nR&&(a||C&&b)){const R={};["status","statusText","headers"].forEach(N=>{R[N]=w[N]});const O=Te.toFiniteNumber(w.headers.get("content-length")),[L,z]=a&&fU(O,uE(hU(a),!0))||[];w=new Response(mU(w.body,gU,L,()=>{z&&z(),b&&b()}),R)}c=c||"text";let A=await dE[Te.findKey(dE,c)||"text"](w,t);return!C&&b&&b(),await new Promise((R,O)=>{xX(R,O,{data:A,headers:ro.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:y})})}catch(_){throw b&&b(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new tn("Network Error",tn.ERR_NETWORK,t,y),{cause:_.cause||_}):tn.from(_,_&&_.code,t,y)}}),iR={http:PNe,xhr:sOe,fetch:pOe};Te.forEach(iR,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vU=t=>`- ${t}`,mOe=t=>Te.isFunction(t)||t===null||t===!1,EX={getAdapter:t=>{t=Te.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!mOe(n)&&(i=iR[(o=String(n)).toLowerCase()],i===void 0))throw new tn(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(vU).join(`
`):" "+vU(s[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:iR};function jA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _v(null,t)}function yU(t){return jA(t),t.headers=ro.from(t.headers),t.data=VA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),EX.getAdapter(t.adapter||I_.adapter)(t).then(function(i){return jA(t),i.data=VA.call(t,t.transformResponse,i),i.headers=ro.from(i.headers),i},function(i){return yX(i)||(jA(t),i&&i.response&&(i.response.data=VA.call(t,t.transformResponse,i.response),i.response.headers=ro.from(i.response.headers))),Promise.reject(i)})}const CX="1.8.4",qC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qC[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const xU={};qC.transitional=function(e,n,i){function r(s,o){return"[Axios v"+CX+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new tn(r(o," has been removed"+(n?" in "+n:"")),tn.ERR_DEPRECATED);return n&&!xU[o]&&(xU[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};qC.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function gOe(t,e,n){if(typeof t!="object")throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new tn("option "+s+" must be "+l,tn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tn("Unknown option "+s,tn.ERR_BAD_OPTION)}}const AS={assertOptions:gOe,validators:qC},Tl=AS.validators;let Dh=class{constructor(e){this.defaults=e,this.interceptors={request:new uU,response:new uU}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ep(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&AS.assertOptions(i,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),r!=null&&(Te.isFunction(r)?n.paramsSerializer={serialize:r}:AS.assertOptions(r,{encode:Tl.function,serialize:Tl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),AS.assertOptions(n,{baseUrl:Tl.spelling("baseURL"),withXsrfToken:Tl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Te.merge(s.common,s[n.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=ro.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,h=0,p;if(!l){const y=[yU.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,d=Promise.resolve(n);h<p;)d=d.then(y[h++],y[h++]);return d}p=a.length;let v=n;for(h=0;h<p;){const y=a[h++],b=a[h++];try{v=y(v)}catch(S){b.call(this,S);break}}try{d=yU.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=ep(this.defaults,e);const n=_X(e.baseURL,e.url,e.allowAbsoluteUrls);return mX(n,e.params,e.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(e){Dh.prototype[e]=function(n,i){return this.request(ep(i||{},{method:e,url:n,data:(i||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(ep(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Dh.prototype[e]=n(),Dh.prototype[e+"Form"]=n(!0)});let vOe=class TX{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new _v(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new TX(function(r){e=r}),cancel:e}}};function yOe(t){return function(n){return t.apply(null,n)}}function xOe(t){return Te.isObject(t)&&t.isAxiosError===!0}const rR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rR).forEach(([t,e])=>{rR[e]=t});function MX(t){const e=new Dh(t),n=rX(Dh.prototype.request,e);return Te.extend(n,Dh.prototype,e,{allOwnKeys:!0}),Te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return MX(ep(t,r))},n}const Wi=MX(I_);Wi.Axios=Dh;Wi.CanceledError=_v;Wi.CancelToken=vOe;Wi.isCancel=yX;Wi.VERSION=CX;Wi.toFormData=GC;Wi.AxiosError=tn;Wi.Cancel=Wi.CanceledError;Wi.all=function(e){return Promise.all(e)};Wi.spread=yOe;Wi.isAxiosError=xOe;Wi.mergeConfig=ep;Wi.AxiosHeaders=ro;Wi.formToJSON=t=>vX(Te.isHTMLForm(t)?new FormData(t):t);Wi.getAdapter=EX.getAdapter;Wi.HttpStatusCode=rR;Wi.default=Wi;const{Axios:GLe,AxiosError:$Le,CanceledError:qLe,isCancel:XLe,CancelToken:YLe,VERSION:KLe,all:JLe,Cancel:QLe,isAxiosError:ZLe,spread:e3e,toFormData:t3e,AxiosHeaders:n3e,HttpStatusCode:i3e,formToJSON:r3e,getAdapter:s3e,mergeConfig:o3e}=Wi;var _Oe="v3",bOe=function(e){return e===3?"v3":e},AX="https://js.stripe.com",SOe="".concat(AX,"/v3"),wOe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EOe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var COe=function(e){return wOe.test(e)||EOe.test(e)},TOe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(AX,'"]')),n=0;n<e.length;n++){var i=e[n];if(COe(i.src))return i}return null},_U=function(e){var n="",i=document.createElement("script");i.src="".concat(SOe).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},MOe=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:n})},Q0=null,qb=null,Xb=null,AOe=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},POe=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},ROe=function(e){return Q0!==null?Q0:(Q0=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var r=TOe();if(!(r&&e)){if(!r)r=_U(e);else if(r&&Xb!==null&&qb!==null){var s;r.removeEventListener("load",Xb),r.removeEventListener("error",qb),(s=r.parentNode)===null||s===void 0||s.removeChild(r),r=_U(e)}}Xb=POe(n,i),qb=AOe(i),r.addEventListener("load",Xb),r.addEventListener("error",qb)}catch(o){i(o);return}}),Q0.catch(function(n){return Q0=null,Promise.reject(n)}))},IOe=function(e,n,i){if(e===null)return null;var r=n[0],s=r.match(/^pk_test/),o=bOe(e.version),a=_Oe;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return MOe(l,i),l},Z0,PX=!1,RX=function(){return Z0||(Z0=ROe(null).catch(function(e){return Z0=null,Promise.reject(e)}),Z0)};Promise.resolve().then(function(){return RX()}).catch(function(t){PX||console.warn(t)});var kOe=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];PX=!0;var r=Date.now();return RX().then(function(s){return IOe(s,n,r)})};const bU=kOe("pk_test_51Qe5S5CO8wO6DXWdN3KxfnZkuMPBmDe7InvPf6S3IqFSCipI8osSsz2KDm3b8stNDa7jub7Jxw3hyrwIVmCwUzRv00jhdmhbtX");function NOe(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(t/10)],i=t%10+1;return`Row ${n}, Seat ${i}`}function OOe(){const[t,e]=U.useState([]),[n,i]=U.useState([]),[r,s]=U.useState(""),[o,a]=U.useState(!1),{user:l}=U.useContext(bu),c=[{id:"standard",name:"Standard Shipping",price:9.99,description:"Standard delivery",estimatedDays:"5-7 business days"},{id:"express",name:"Express Shipping",price:19.99,description:"Fast delivery",estimatedDays:"2-3 business days"},{id:"overnight",name:"Overnight Shipping",price:29.99,description:"Next day delivery",estimatedDays:"1 business day"}],[d,h]=U.useState(c[0].id);U.useEffect(()=>{const H=oo();if(l&&l.email){const J=yi(H,"users/"+l.email.replace(".",","));Ka(tl(J,"/cart/items/")).then(Z=>{if(Z.exists()){const $=Z.val(),K=Object.entries($).map(([W,V])=>{const X=V;return{key:W,title:X.title,description:X.description,Size:X.Size,color:X.color,price:X.price,quantity:X.quantity,imageUrl:X.imageUrl}});e(K)}}).catch(Z=>{console.error(Z)}),Ka(tl(J,"/tours/items")).then(Z=>{if(Z.exists()){const $=Z.val(),K=Object.entries($).map(([W,V])=>{const X=V;return{key:W,place:X.place,address:X.address,startDate:X.startDate,endDate:X.endDate,realPrice:X.realPrice,quantity:X.quantity,selectedSeats:X.selectedSeats,backstage:X.backstage,meet:X.meet,lounge:X.lounge}});i(K),console.log(K)}}).catch(Z=>{console.error(Z)})}},[l]);const p=(t.length>0,t),v=(n.length>0,n),[y,b]=U.useState(c[0]),[S,_]=U.useState(0),[w,C]=U.useState(0),[A,R]=U.useState(0),[O,L]=U.useState(0);U.useEffect(()=>{const H=p.length>0?c.find(V=>V.id===d):{id:"none",name:"No Shipping",price:0,description:"",estimatedDays:""};b(H);const J=p.reduce((V,X)=>V+X.price*X.quantity,0);_(J);const Z=v.reduce((V,X)=>{const te=(X.meet?50:0)+(X.backstage?100:0)+(X.lounge?75:0),Y=(X.realPrice-te)/X.selectedSeats.length;return V+Y*X.quantity+te},0);C(Z);const K=(J+Z)*.0825;R(K);const W=J+H.price+Z+K;L(W)},[d,p,v]);const z={hidden:{opacity:0,y:-50},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.2}}},N={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.4}}};function k(){Wi.post("https://stripepaymentintentrequest-n7ggeoi6nq-uc.a.run.app",{email:l==null?void 0:l.email,amount:O*100}).then(H=>{H.status===200?s(H.data.paymentIntent):console.error("Failed to fetch payment intent")}).catch(H=>{console.error("Error:",H)}),a(!0)}function B(){const H=Hke(),J=Fke(),[Z,$]=U.useState(null),[K,W]=U.useState(!1),{user:V}=U.useContext(bu),X=async te=>{te.preventDefault(),!(!H||!J)&&(W(!0),await H.confirmPayment({elements:J,confirmParams:{return_url:`${window.location.origin}/BPA-435-Project/#/completion`},redirect:"if_required"}).then(function(Y){if(Y.error)yn.error(`Payment Failed: ${Y.error.message}`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}});else if(Y.paymentIntent&&Y.paymentIntent.status==="succeeded"){$("Payment succeeded!");const oe=oo();if(V&&V.email){a(!1);const ke=yi(oe,`users/${V.email.replace(".",",")}/orders`);t.length>0&&pw(ke,{date:new Date().toLocaleDateString(),total:O,items:[...t],tours:[...n]}).catch(Pe=>{console.error("Error adding item to Firebase:",Pe)});const he=yi(oe,`users/${V.email.replace(".",",")}/tourOrders`);n.length>0&&(pw(he,{date:new Date().toLocaleDateString(),total:O,items:[...n]}).catch(Pe=>{console.error("Error adding item to Firebase:",Pe)}),n.forEach(Pe=>{const me=yi(oe,`${Pe.place}`);Pe.selectedSeats.forEach(ve=>{n7(me,{[ve]:!0}).catch(Ve=>{console.error("Error updating seat reservation in Firebase:",Ve)})})}));const Se=yi(oe,`users/${V.email.replace(".",",")}/cart`);mw(Se).catch(Pe=>{console.error("Error removing item from Firebase:",Pe)});const Fe=yi(oe,`users/${V.email.replace(".",",")}/tours`);mw(Fe).catch(Pe=>{console.error("Error removing item from Firebase:",Pe)}),e([]),i([]),window.location.href=`${window.location.origin}/#/completion`}else $("User information is missing.")}else $("Payment failed for an unknown reason.")}),W(!1))};return E.jsxs("form",{id:"payment-form",onSubmit:X,children:[E.jsx(Wke,{id:"payment-element"}),E.jsx("button",{disabled:K||!H||!J,id:"submit",style:{display:"block",margin:"20px 0 0px 0",backgroundColor:"#E9204F",color:"white",padding:"10px 20px",borderRadius:"5px"},children:E.jsx("span",{id:"button-text",children:K?"Processing ... ":"Pay now"})}),Z&&E.jsx("div",{id:"payment-message",children:Z})]})}return E.jsxs(et.div,{className:"payment-container",initial:"hidden",animate:"visible",variants:z,children:[E.jsx(yv,{}),E.jsxs(et.div,{className:"payment-content",variants:N,children:[E.jsx("h1",{className:"payment-title",children:"Checkout"}),E.jsxs(et.div,{className:"payment-grid",variants:z,children:[E.jsxs(et.div,{className:"payment-section payment-order-summary",variants:N,children:[E.jsxs("div",{className:"payment-section-header",children:[E.jsx(yCe,{className:"payment-icon"}),E.jsx("h2",{className:"payment-section-title",children:"Order Summary"})]}),E.jsxs("div",{className:"payment-summary",children:[E.jsxs("div",{className:"payment-summary-row",children:[E.jsx("span",{children:"Merchandise Subtotal"}),E.jsxs("span",{children:["$",S.toFixed(2)]})]}),E.jsxs("div",{className:"payment-summary-row",children:[E.jsxs("span",{children:["Shipping (",y.name,")"]}),E.jsxs("span",{children:["$",y.price.toFixed(2)]})]}),E.jsxs("div",{className:"payment-summary-row",children:[E.jsx("span",{children:"Tickets Subtotal"}),E.jsxs("span",{children:["$",w.toFixed(2)]})]}),E.jsxs("div",{className:"payment-summary-row",children:[E.jsx("span",{children:"Tax"}),E.jsxs("span",{children:["$",A.toFixed(2)]})]}),E.jsxs("div",{className:"payment-summary-row payment-summary-row-total",children:[E.jsx("span",{children:"Total"}),E.jsxs("span",{className:"payment-total-amount",children:["$",O.toFixed(2)]})]}),!o&&(t.length>0||n.length>0)&&E.jsx("button",{className:"payment-button",onClick:k,children:"Complete Purchase"}),o&&r&&bU&&E.jsx("div",{style:{width:"100%",maxWidth:"600px",padding:"30px",backgroundColor:"#09090b",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:E.jsx(nX,{stripe:bU,options:{clientSecret:r,appearance:{theme:"night"}},children:E.jsx(B,{})})}),o&&!r&&E.jsx("div",{className:"payment-loading-icon",children:E.jsx("div",{className:"payment-spinner"})})]})]}),E.jsxs(et.div,{className:"payment-sections-container",variants:z,children:[p.length>0&&E.jsxs(et.div,{className:"payment-section",variants:N,children:[E.jsxs("div",{className:"payment-section-header",children:[E.jsx(TCe,{className:"payment-icon"}),E.jsx("h2",{className:"payment-section-title",children:"Store Items"})]}),E.jsxs("div",{children:[p.map(H=>E.jsxs(et.div,{className:"payment-item",variants:N,children:[E.jsx("img",{src:H.imageUrl,alt:H.title,className:"payment-item-image"}),E.jsxs("div",{className:"payment-item-details",children:[E.jsx("h3",{className:"payment-item-title",children:H.title}),E.jsx("p",{className:"payment-item-description",children:H.description}),E.jsxs("p",{className:"payment-item-meta",children:["Size: ",H.Size," | Color: ",H.color]}),E.jsxs("p",{className:"payment-item-meta",children:["Quantity: ",H.quantity]}),E.jsxs("p",{className:"payment-item-price",children:["$",H.price]})]})]},H.key)),E.jsxs("div",{className:"payment-shipping-options",children:[E.jsxs("div",{className:"payment-shipping-header",children:[E.jsx(NCe,{size:20,className:"payment-icon"}),E.jsx("h3",{className:"payment-shipping-title",children:"Shipping Options"})]}),c.map(H=>E.jsxs("label",{className:"payment-shipping-option",children:[E.jsx("input",{type:"radio",name:"shipping",value:H.id,checked:d===H.id,onChange:J=>{h(J.target.value),a(!1)}}),E.jsxs("div",{className:"payment-shipping-option-details",children:[E.jsxs("div",{className:"payment-shipping-option-main",children:[E.jsx("span",{className:"payment-shipping-name",children:H.name}),E.jsxs("span",{className:"payment-shipping-price",children:["$",H.price.toFixed(2)]})]}),E.jsxs("span",{className:"payment-shipping-estimate",children:["Estimated delivery: ",H.estimatedDays]})]})]},H.id))]})]})]}),v.length>0&&E.jsxs(et.div,{className:"payment-section",variants:N,children:[E.jsxs("div",{className:"payment-section-header",children:[E.jsx(UG,{className:"payment-icon"}),E.jsx("h2",{className:"payment-section-title",children:"Tour Tickets"})]}),v.map(H=>{const J=(H.meet?50:0)+(H.backstage?100:0)+(H.lounge?75:0),Z=(H.realPrice-J)/H.selectedSeats.length;return E.jsxs(et.div,{className:"payment-ticket",variants:N,children:[E.jsx("h3",{className:"payment-ticket-venue",children:H.place}),E.jsx("p",{className:"payment-ticket-date",children:H.startDate}),E.jsx("p",{className:"payment-ticket-address",children:H.address}),E.jsx("div",{className:"payment-ticket-seats",children:H.selectedSeats.map(($,K)=>E.jsx("p",{children:NOe($)},K))}),E.jsxs("div",{className:"payment-ticket-extras",children:[H.backstage&&E.jsx("span",{className:"payment-extra-tag",children:"Backstage Pass ($100)"}),H.meet&&E.jsx("span",{className:"payment-extra-tag",children:"Meet & Greet ($50)"}),H.lounge&&E.jsx("span",{className:"payment-extra-tag",children:"Lounge Access ($75)"})]}),E.jsxs("p",{className:"payment-ticket-price",children:["$",Z.toFixed(2)," per seat  ",H.quantity," tickets"]})]},H.key)})]})]})]})]})]})}const LOe=()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{padding:"20px",fontFamily:"Sansation",fontWeight:"700",lineHeight:"1.6",maxWidth:"800px",margin:"50px auto",color:"#fff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[E.jsx("h1",{style:{color:"#fff",textAlign:"center",fontSize:"2.5em",marginBottom:"20px"},children:"Terms of Service"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"Welcome to our Stage Fright's official website! By using this site and placing an order, you agree to the following terms:"}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"1. Returns"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"Items can only be returned within 90 days of purchase."}),E.jsx("li",{children:"Returned items must be in their original condition (unworn, unused, and with original tags/packaging if applicable)."}),E.jsx("li",{children:"Refunds for returned items will be issued to the original payment method. Shipping costs are non-refundable unless the return is due to our error (e.g., wrong or defective item)."}),E.jsx("li",{children:"Returns outside the 90-day window will not be accepted."})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"2. Order Cancellations"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"Orders can only be canceled within 24 hours of being placed."}),E.jsx("li",{children:"To cancel your order, you must email our support team at support.stagefright@gmail.com with your order number and the reason for cancellation."}),E.jsx("li",{children:"Cancellations requested after the 24-hour period cannot be accommodated as the order may already be processed or shipped."})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"3. Shipping and Delivery"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"We strive to ship all orders promptly, but delivery times may vary based on location and shipping method."}),E.jsx("li",{children:"Please ensure your shipping address is accurate when placing your order, as we are not responsible for lost packages due to incorrect information."})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"4. Contact Us"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"For any questions, issues, or concerns regarding your order, please reach out to us at support.stagefright@gmail.com. Were here to help!"}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"5. Changes to These Terms"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may update these Terms of Service from time to time. Please check back periodically to stay informed of any changes."}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"By using our website and placing an order, you acknowledge that you have read and agree to these terms. Thank you for supporting our band!"})]}),E.jsx(tc,{})]}),DOe=()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{padding:"20px",fontFamily:"Sansation",fontWeight:"700",lineHeight:"1.6",maxWidth:"800px",margin:"50px auto",color:"#fff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[E.jsx("h1",{style:{color:"#fff",textAlign:"center",fontSize:"2.5em",marginBottom:"20px"},children:"Privacy Policy"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We value your privacy and are committed to protecting your personal information. This Privacy Policy outlines how we collect, use, and protect the information you provide when visiting our website or placing an order."}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"1. Information We Collect"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"Personal Information: When you place an order or contact us, we may collect personal information such as your name, email address, shipping address, and payment details."}),E.jsx("li",{children:"Non-Personal Information: We may also collect non-personal information like your browser type, device information, and website usage data to improve your experience on our site."})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"2. How We Use Your Information"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"To process and fulfill your orders, including shipping and payment."}),E.jsx("li",{children:"To provide customer support and respond to your inquiries."}),E.jsx("li",{children:"To improve our website, products, and services."}),E.jsx("li",{children:"To send you updates about your order or promotional offers (only if youve opted in)."})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"3. How We Protect Your Information"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"Your information is stored securely, and we use encryption and other security measures to protect it."}),E.jsx("li",{children:"We do not share your personal information with third parties, except as necessary to fulfill your order (e.g., sharing your address with a shipping provider)."}),E.jsx("li",{children:"We do not sell, rent, or trade your personal data."})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"4. Cookies"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"Our website uses cookies to improve functionality and enhance your experience. Cookies allow us to track website usage and remember your preferences. You can disable cookies in your browser settings, but some features of the site may not work properly."}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"5. Third-Party Services"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may use trusted third-party services (e.g., payment processors or analytics providers) to help run our website. These providers are only given the information necessary to perform their services and are required to protect your data."}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"6. Your Rights"}),E.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[E.jsx("li",{children:"You have the right to access, update, or delete your personal information. To request changes, please email us at support.stagefright@gmail.com."}),E.jsx("li",{children:'You can opt out of receiving promotional emails by clicking the "unsubscribe" link at the bottom of any marketing email.'})]}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"7. Changes to This Policy"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may update this Privacy Policy as needed. Any changes will be posted on this page, and the updated policy will take effect immediately upon posting."}),E.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"8. Contact Us"}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"If you have questions or concerns about this Privacy Policy, please reach out to us at support.stagefright@gmail.com."}),E.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"By using our website, you agree to the terms of this Privacy Policy. Thank you for trusting us with your information!"})]}),E.jsx(tc,{})]});var qm={},HA,SU;function IX(){return SU||(SU=1,HA={L:1,M:0,Q:3,H:2}),HA}var WA,wU;function kX(){return wU||(wU=1,WA={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),WA}var GA,EU;function FOe(){if(EU)return GA;EU=1;var t=kX();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},GA=e,GA}var $A,CU;function zOe(){if(CU)return $A;CU=1;var t=IX();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var r=e.getRsBlockTable(n,i);if(r==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var s=r.length/3,o=new Array,a=0;a<s;a++)for(var l=r[a*3+0],c=r[a*3+1],d=r[a*3+2],h=0;h<l;h++)o.push(new e(c,d));return o},e.getRsBlockTable=function(n,i){switch(i){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},$A=e,$A}var qA,TU;function UOe(){if(TU)return qA;TU=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},qA=t,qA}var XA,MU;function NX(){if(MU)return XA;MU=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return XA=t,XA}var YA,AU;function OX(){if(AU)return YA;AU=1;var t=NX();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var r=0;r<n.length&&n[r]==0;)r++;this.num=new Array(n.length-r+i);for(var s=0;s<n.length-r;s++)this.num[s]=n[s+r]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<n.getLength();s++)i[r+s]^=t.gexp(t.glog(this.get(r))+t.glog(n.get(s)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.glog(this.get(0))-t.glog(n.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<n.getLength();s++)r[s]^=t.gexp(t.glog(n.get(s))+i);return new e(r,0).mod(n)}},YA=e,YA}var KA,PU;function BOe(){if(PU)return KA;PU=1;var t=kX(),e=OX(),n=NX(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;r.getBCHDigit(o)-r.getBCHDigit(r.G15)>=0;)o^=r.G15<<r.getBCHDigit(o)-r.getBCHDigit(r.G15);return(s<<10|o)^r.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;r.getBCHDigit(o)-r.getBCHDigit(r.G18)>=0;)o^=r.G18<<r.getBCHDigit(o)-r.getBCHDigit(r.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return r.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,a){switch(s){case i.PATTERN000:return(o+a)%2==0;case i.PATTERN001:return o%2==0;case i.PATTERN010:return a%3==0;case i.PATTERN011:return(o+a)%3==0;case i.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2==0;case i.PATTERN101:return o*a%2+o*a%3==0;case i.PATTERN110:return(o*a%2+o*a%3)%2==0;case i.PATTERN111:return(o*a%3+(o+a)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),a=0;a<s;a++)o=o.multiply(new e([1,n.gexp(a)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),a=0,l=0;l<o;l++)for(var c=0;c<o;c++){for(var d=0,h=s.isDark(l,c),p=-1;p<=1;p++)if(!(l+p<0||o<=l+p))for(var v=-1;v<=1;v++)c+v<0||o<=c+v||p==0&&v==0||h==s.isDark(l+p,c+v)&&d++;d>5&&(a+=3+d-5)}for(var l=0;l<o-1;l++)for(var c=0;c<o-1;c++){var y=0;s.isDark(l,c)&&y++,s.isDark(l+1,c)&&y++,s.isDark(l,c+1)&&y++,s.isDark(l+1,c+1)&&y++,(y==0||y==4)&&(a+=3)}for(var l=0;l<o;l++)for(var c=0;c<o-6;c++)s.isDark(l,c)&&!s.isDark(l,c+1)&&s.isDark(l,c+2)&&s.isDark(l,c+3)&&s.isDark(l,c+4)&&!s.isDark(l,c+5)&&s.isDark(l,c+6)&&(a+=40);for(var c=0;c<o;c++)for(var l=0;l<o-6;l++)s.isDark(l,c)&&!s.isDark(l+1,c)&&s.isDark(l+2,c)&&s.isDark(l+3,c)&&s.isDark(l+4,c)&&!s.isDark(l+5,c)&&s.isDark(l+6,c)&&(a+=40);for(var b=0,c=0;c<o;c++)for(var l=0;l<o;l++)s.isDark(l,c)&&b++;var S=Math.abs(100*b/o/o-50)/5;return a+=S*10,a}};return KA=r,KA}var JA,RU;function VOe(){if(RU)return JA;RU=1;var t=FOe(),e=zOe(),n=UOe(),i=BOe(),r=OX();function s(a,l){this.typeNumber=a,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(a){var l=new t(a);this.dataList.push(l),this.dataCache=null},o.isDark=function(a,l){if(a<0||this.moduleCount<=a||l<0||this.moduleCount<=l)throw new Error(a+","+l);return this.modules[a][l]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var a=1;for(a=1;a<40;a++){for(var l=e.getRSBlocks(a,this.errorCorrectLevel),c=new n,d=0,h=0;h<l.length;h++)d+=l[h].dataCount;for(var h=0;h<this.dataList.length;h++){var p=this.dataList[h];c.put(p.mode,4),c.put(p.getLength(),i.getLengthInBits(p.mode,a)),p.write(c)}if(c.getLengthInBits()<=d*8)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(a,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,l),this.typeNumber>=7&&this.setupTypeNumber(a),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},o.setupPositionProbePattern=function(a,l){for(var c=-1;c<=7;c++)if(!(a+c<=-1||this.moduleCount<=a+c))for(var d=-1;d<=7;d++)l+d<=-1||this.moduleCount<=l+d||(0<=c&&c<=6&&(d==0||d==6)||0<=d&&d<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=d&&d<=4?this.modules[a+c][l+d]=!0:this.modules[a+c][l+d]=!1)},o.getBestMaskPattern=function(){for(var a=0,l=0,c=0;c<8;c++){this.makeImpl(!0,c);var d=i.getLostPoint(this);(c==0||a>d)&&(a=d,l=c)}return l},o.createMovieClip=function(a,l,c){var d=a.createEmptyMovieClip(l,c),h=1;this.make();for(var p=0;p<this.modules.length;p++)for(var v=p*h,y=0;y<this.modules[p].length;y++){var b=y*h,S=this.modules[p][y];S&&(d.beginFill(0,100),d.moveTo(b,v),d.lineTo(b+h,v),d.lineTo(b+h,v+h),d.lineTo(b,v+h),d.endFill())}return d},o.setupTimingPattern=function(){for(var a=8;a<this.moduleCount-8;a++)this.modules[a][6]==null&&(this.modules[a][6]=a%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},o.setupPositionAdjustPattern=function(){for(var a=i.getPatternPosition(this.typeNumber),l=0;l<a.length;l++)for(var c=0;c<a.length;c++){var d=a[l],h=a[c];if(this.modules[d][h]==null)for(var p=-2;p<=2;p++)for(var v=-2;v<=2;v++)p==-2||p==2||v==-2||v==2||p==0&&v==0?this.modules[d+p][h+v]=!0:this.modules[d+p][h+v]=!1}},o.setupTypeNumber=function(a){for(var l=i.getBCHTypeNumber(this.typeNumber),c=0;c<18;c++){var d=!a&&(l>>c&1)==1;this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;c<18;c++){var d=!a&&(l>>c&1)==1;this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},o.setupTypeInfo=function(a,l){for(var c=this.errorCorrectLevel<<3|l,d=i.getBCHTypeInfo(c),h=0;h<15;h++){var p=!a&&(d>>h&1)==1;h<6?this.modules[h][8]=p:h<8?this.modules[h+1][8]=p:this.modules[this.moduleCount-15+h][8]=p}for(var h=0;h<15;h++){var p=!a&&(d>>h&1)==1;h<8?this.modules[8][this.moduleCount-h-1]=p:h<9?this.modules[8][15-h-1+1]=p:this.modules[8][15-h-1]=p}this.modules[this.moduleCount-8][8]=!a},o.mapData=function(a,l){for(var c=-1,d=this.moduleCount-1,h=7,p=0,v=this.moduleCount-1;v>0;v-=2)for(v==6&&v--;;){for(var y=0;y<2;y++)if(this.modules[d][v-y]==null){var b=!1;p<a.length&&(b=(a[p]>>>h&1)==1);var S=i.getMask(l,d,v-y);S&&(b=!b),this.modules[d][v-y]=b,h--,h==-1&&(p++,h=7)}if(d+=c,d<0||this.moduleCount<=d){d-=c,c=-c;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(a,l,c){for(var d=e.getRSBlocks(a,l),h=new n,p=0;p<c.length;p++){var v=c[p];h.put(v.mode,4),h.put(v.getLength(),i.getLengthInBits(v.mode,a)),v.write(h)}for(var y=0,p=0;p<d.length;p++)y+=d[p].dataCount;if(h.getLengthInBits()>y*8)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+y*8+")");for(h.getLengthInBits()+4<=y*8&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=y*8||(h.put(s.PAD0,8),h.getLengthInBits()>=y*8));)h.put(s.PAD1,8);return s.createBytes(h,d)},s.createBytes=function(a,l){for(var c=0,d=0,h=0,p=new Array(l.length),v=new Array(l.length),y=0;y<l.length;y++){var b=l[y].dataCount,S=l[y].totalCount-b;d=Math.max(d,b),h=Math.max(h,S),p[y]=new Array(b);for(var _=0;_<p[y].length;_++)p[y][_]=255&a.buffer[_+c];c+=b;var w=i.getErrorCorrectPolynomial(S),C=new r(p[y],w.getLength()-1),A=C.mod(w);v[y]=new Array(w.getLength()-1);for(var _=0;_<v[y].length;_++){var R=_+A.getLength()-v[y].length;v[y][_]=R>=0?A.get(R):0}}for(var O=0,_=0;_<l.length;_++)O+=l[_].totalCount;for(var L=new Array(O),z=0,_=0;_<d;_++)for(var y=0;y<l.length;y++)_<p[y].length&&(L[z++]=p[y][_]);for(var _=0;_<h;_++)for(var y=0;y<l.length;y++)_<v[y].length&&(L[z++]=v[y][_]);return L},JA=s,JA}var Yb={},IU;function jOe(){if(IU)return Yb;IU=1,Object.defineProperty(Yb,"__esModule",{value:!0});var t=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c},e=tN(),n=s(e),i=Yg(),r=s(i);function s(c){return c&&c.__esModule?c:{default:c}}function o(c,d){var h={};for(var p in c)d.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}var a={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},l=(0,i.forwardRef)(function(c,d){var h=c.bgColor,p=c.bgD,v=c.fgD,y=c.fgColor,b=c.size,S=c.title,_=c.viewBoxSize,w=c.xmlns,C=w===void 0?"http://www.w3.org/2000/svg":w,A=o(c,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return r.default.createElement("svg",t({},A,{height:b,ref:d,viewBox:"0 0 "+_+" "+_,width:b,xmlns:C}),S?r.default.createElement("title",null,S):null,r.default.createElement("path",{d:p,fill:h}),r.default.createElement("path",{d:v,fill:y}))});return l.displayName="QRCodeSvg",l.propTypes=a,Yb.default=l,Yb}var kU;function HOe(){if(kU)return qm;kU=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.QRCode=void 0;var t=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(b[w]=_[w])}return b},e=tN(),n=h(e),i=IX(),r=h(i),s=VOe(),o=h(s),a=Yg(),l=h(a),c=jOe(),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,S){var _={};for(var w in b)S.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(b,w)&&(_[w]=b[w]);return _}var v={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},y=(0,a.forwardRef)(function(b,S){var _=b.bgColor,w=_===void 0?"#FFFFFF":_,C=b.fgColor,A=C===void 0?"#000000":C,R=b.level,O=R===void 0?"L":R,L=b.size,z=L===void 0?256:L,N=b.value,k=p(b,["bgColor","fgColor","level","size","value"]),B=new o.default(-1,r.default[O]);B.addData(N),B.make();var H=B.modules;return l.default.createElement(d.default,t({},k,{bgColor:w,bgD:H.map(function(J,Z){return J.map(function($,K){return $?"":"M "+K+" "+Z+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:A,fgD:H.map(function(J,Z){return J.map(function($,K){return $?"M "+K+" "+Z+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:S,size:z,viewBoxSize:H.length}))});return qm.QRCode=y,y.displayName="QRCode",y.propTypes=v,qm.default=y,qm}var WOe=HOe();const GOe=Bx(WOe),$Oe=()=>{const[t,e]=U.useState("profile"),{user:n}=U.useContext(bu),[i,r]=U.useState([]),[s,o]=U.useState([]),[a,l]=U.useState(!1),[c,d]=U.useState({name:null,email:null,phone:null,address:null}),[h,p]=U.useState(""),[v,y]=U.useState(""),[b,S]=U.useState(""),[_,w]=U.useState(""),[C,A]=U.useState(""),[R,O]=U.useState(""),{handleSignout:L}=ax(),z=[{id:"profile",label:"Profile",icon:E.jsx(xA,{style:{width:"20px",height:"20px"}})},{id:"security",label:"Security",icon:E.jsx(Fb,{style:{width:"20px",height:"20px"}})},{id:"Orders",label:"Orders",icon:E.jsx(ACe,{style:{width:"20px",height:"20px"}})},{id:"Tour",label:"Tour",icon:E.jsx(UG,{style:{width:"20px",height:"20px"}})}];U.useEffect(()=>{if(n){const $=oo(),K=yi($,"users/"+(n.email?n.email.replace(".",","):""));Ka(K).then(X=>{if(X.exists()){const te=X.val();d({name:te.Name,email:n.email,phone:te.Phone,address:te.Address}),p(te.Name),y(te.email),S(te.Phone)}}).catch(X=>{console.error(X)});const W=yi($,"users/"+(n.email?n.email.replace(".",",")+"/orders":""));Ka(W).then(X=>{if(X.exists()){const te=X.val(),Y=Object.values(te).map(oe=>({date:oe.date,items:oe.items,total:oe.total}));console.log(Y),console.log(i),r(Y)}}).catch(X=>{console.error(X)});const V=yi($,"users/"+(n.email?n.email.replace(".",",")+"/tourOrders":""));Ka(V).then(X=>{if(X.exists()){const te=X.val(),Y=Object.values(te).map(oe=>({date:oe.date,items:oe.items}));o(Y)}}).catch(X=>{console.error(X)})}},[n]);const N=()=>{if(n){const $=oo(),K=yi($,"users/"+(n.email?n.email.replace(".",","):""));n7(K,{Name:h,Email:v,Phone:b,Address:c.address}).then(()=>{console.log("User data updated successfully."),d({name:h,email:v,phone:b,address:c.address})}).catch(W=>{console.error("Error updating user data: ",W)})}},k=$=>{const W=(""+$).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return W?`(${W[1]})-${W[2]}-${W[3]}`:$},B=$=>{const W="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor($/10)],V=$%10+1;return`${W}${V}`},{handlePasswordChange:H,handleUpdatePassword:J}=ax(),Z=()=>{C===R?J().then(()=>{w(""),A(""),O(""),yn.success("Password Change Successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}).catch($=>{console.error("Error updating password: ",$)}):console.error("Passwords do not match.")};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:qOe,children:[E.jsx(yv,{}),n?E.jsxs("div",{style:XOe,children:[E.jsxs("div",{style:YOe,children:[E.jsx("div",{style:KOe,children:E.jsxs("div",{children:[E.jsx("h2",{style:{margin:0,fontSize:"16px"},children:c.name}),E.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#A0A0A0"},children:c.email})]})}),E.jsxs("nav",{children:[z.map($=>E.jsxs("button",{onClick:()=>e($.id),style:JOe(t===$.id),children:[$.icon,E.jsx("span",{children:$.label})]},$.id)),E.jsxs("button",{onClick:()=>{L(),window.location.href="#/signin"},style:ZOe,children:[E.jsx(bCe,{style:{width:"20px",height:"20px"}}),E.jsx("span",{children:"Sign out"})]})]})]}),E.jsxs("div",{style:QOe,children:[t==="profile"&&E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"24px",marginBottom:"24px"},children:"Profile Information"}),E.jsx("div",{children:a?E.jsxs("div",{style:{marginTop:"16px"},children:[E.jsxs("div",{style:To,children:[E.jsx(xA,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Full Name"}),E.jsx("input",{type:"text",value:h||"",onChange:$=>p($.target.value),style:Xm})]})]}),E.jsxs("div",{style:To,children:[E.jsx(T5,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Email Address"}),E.jsx("p",{style:{margin:0,fontWeight:500},children:v||"Not set"}),E.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#FF4545"},children:"Email address cannot be updated. Please contact us to learn more."})]})]}),E.jsxs("div",{style:To,children:[E.jsx(M5,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Phone Number"}),E.jsx("input",{type:"text",value:b||"",onChange:$=>S($.target.value),style:Xm})]})]}),E.jsxs("div",{style:To,children:[E.jsx(C5,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Address"}),E.jsx("input",{type:"text",value:c.address||"",onChange:$=>d({...c,address:$.target.value}),style:Xm})]})]}),E.jsx("button",{style:Kb,onClick:()=>{l(!1),N()},children:"Save"}),E.jsx("button",{style:{...Kb,backgroundColor:"#FF4545",marginLeft:"8px"},onClick:()=>l(!1),children:"Cancel"})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:To,children:[E.jsx(xA,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Full Name"}),E.jsx("p",{style:{margin:0,fontWeight:500},children:c.name||"Not set"})]})]}),E.jsxs("div",{style:To,children:[E.jsx(T5,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Email Address"}),E.jsx("p",{style:{margin:0,fontWeight:500},children:c.email||"Not set"})]})]}),E.jsxs("div",{style:To,children:[E.jsx(M5,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Phone Number"}),E.jsx("p",{style:{margin:0,fontWeight:500},children:c.phone?k(c.phone):"Not set"})]})]}),E.jsxs("div",{style:To,children:[E.jsx(C5,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Address"}),E.jsx("p",{style:{margin:0,fontWeight:500},children:c.address||"Not set"})]})]}),E.jsx("button",{style:Kb,onClick:()=>l(!0),children:"Edit Profile"})]})})]}),t==="Orders"&&E.jsx(E.Fragment,{children:i.length>0?i.map(($,K)=>E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:["Order Date: ",$.date]}),E.jsx("p",{style:{fontSize:"16px",color:"#A0A0A0"},children:"Awaiting shipping info"}),$.items.map((W,V)=>E.jsxs("div",{style:To,children:[E.jsx("img",{src:W.imageUrl,alt:W.title,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"}}),E.jsxs("div",{style:{flex:1},children:[E.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#E9204F"},children:W.title}),E.jsx("p",{children:W.description}),!W.title.toLowerCase().includes("vinyl")&&!W.title.toLowerCase().includes("candle")&&!W.title.toLowerCase().includes("sticker")&&!W.title.toLowerCase().includes("bag")&&E.jsxs(E.Fragment,{children:[!W.title.toLowerCase().includes("phone")&&E.jsxs("p",{children:[E.jsx("strong",{children:"Size:"})," ",W.Size]}),!W.title.toLowerCase().includes("socks")&&E.jsxs("p",{children:[E.jsx("strong",{children:"Color:"})," ",W.color]})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Quantity:"})," ",W.quantity]})]}),E.jsxs("p",{style:{fontSize:"16px",fontWeight:"bold",color:"white"},children:["$",W.price.toFixed(2)]})]},V)),E.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"white",marginTop:"16px"},children:["Total: $",$.total.toFixed(2)]})]},K)):E.jsx("p",{children:"No orders found."})}),t==="Tour"&&E.jsxs(E.Fragment,{children:["                                    ",E.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"Tour Dates:"}),s.length>0?s.map(($,K)=>E.jsx("div",{style:{marginBottom:"24px"},children:$.items.map((W,V)=>E.jsxs("div",{style:To,children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#E9204F"},children:W.place}),E.jsxs("p",{children:[E.jsx("strong",{children:"Address:"})," ",W.address]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Start Date:"})," ",W.startDate]}),E.jsxs("p",{children:[E.jsx("strong",{children:"End Date:"})," ",W.endDate]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Seats:"})," ",W.selectedSeats.map(B).join(", ")]}),E.jsx("p",{style:{fontSize:"12px",color:"#A0A0A0",marginTop:"8px"},children:"Scan this code at the venue for admission"})]}),E.jsx(GOe,{value:`Email: ${c.email}, Place: ${W.place}, Start Date: ${W.startDate}, End Date: ${W.endDate}, Seats: ${W.selectedSeats.join(", ")}`,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"Q"})]},V))},K)):E.jsx("p",{children:"No tour orders found."})]}),t==="security"&&E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"24px",marginBottom:"24px"},children:"Security Settings"}),E.jsx("p",{style:{color:"#A0A0A0"},children:"Manage your account security and privacy settings."}),E.jsxs("div",{style:{marginTop:"16px"},children:[E.jsxs("div",{style:To,children:[E.jsx(Fb,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Current Password"}),E.jsx("input",{type:"password",value:_,onChange:$=>w($.target.value),style:Xm})]})]}),E.jsxs("div",{style:To,children:[E.jsx(Fb,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"New Password"}),E.jsx("input",{type:"password",value:C,onChange:$=>{A($.target.value),H($)},style:Xm})]})]}),E.jsxs("div",{style:To,children:[E.jsx(Fb,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),E.jsxs("div",{children:[E.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Confirm New Password"}),E.jsx("input",{type:"password",value:R,onChange:$=>O($.target.value),style:Xm})]})]}),E.jsx("button",{style:Kb,onClick:Z,children:"Update Password"})]})]})]})]}):E.jsx("div",{style:{textAlign:"center",color:"#A0A0A0"},children:E.jsx("h1",{children:"Please login to view your account information."})})]}),E.jsx(tc,{})]})},qOe={minHeight:"80vh",backgroundColor:"#121212",color:"#ffffff",padding:"32px",marginTop:"72px"},XOe={backgroundColor:"#1E1E1E",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",display:"grid",gridTemplateColumns:"1fr 3fr",minHeight:"600px"},YOe={borderRight:"1px solid #333",padding:"24px"},KOe={display:"flex",alignItems:"center",gap:"12px",marginBottom:"32px"},JOe=t=>({width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:t?"#2D2D2D":"transparent",color:t?"#ffffff":"#A0A0A0",border:"none",borderRadius:"6px",cursor:"pointer",marginBottom:"8px",transition:"all 0.2s ease",textAlign:"left"}),QOe={padding:"32px"},To={backgroundColor:"#2D2D2D",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px"},Kb={backgroundColor:"#007AFF",color:"white",padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},Xm={width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #A0A0A0",backgroundColor:"#1E1E1E",color:"#ffffff",marginBottom:"8px"},ZOe={width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:"transparent",color:"#FF4545",border:"none",borderRadius:"6px",cursor:"pointer",marginTop:"16px",textAlign:"left"},eLe=()=>E.jsx("div",{className:"order-completion-container",style:{fontFamily:"Sansation",fontWeight:700},children:E.jsxs("div",{className:"order-completion-content",children:[E.jsx("h1",{className:"order-completion-title",children:"Order Successful!"}),E.jsx("p",{className:"order-completion-message",children:"Your order was successful. You can view your shipping details and tickets in the account page."}),E.jsx(Ci,{to:"/account",className:"order-completion-link",children:"Go to Account Page"})]})});var NU;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(NU||(NU={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OU;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(OU||(OU={}));var LU;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(LU||(LU={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=["user","model","function","system"];var FU;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(FU||(FU={}));var zU;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zU||(zU={}));var UU;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(UU||(UU={}));var BU;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(BU||(BU={}));var By;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(By||(By={}));var VU;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(VU||(VU={}));var jU;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(jU||(jU={}));var HU;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(HU||(HU={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ym extends ps{constructor(e,n){super(e),this.response=n}}class LX extends ps{constructor(e,n,i,r){super(e),this.status=n,this.statusText=i,this.errorDetails=r}}class Dd extends ps{}class DX extends ps{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tLe="https://generativelanguage.googleapis.com",nLe="v1beta",iLe="0.24.0",rLe="genai-js";var tp;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(tp||(tp={}));class sLe{constructor(e,n,i,r,s){this.model=e,this.task=n,this.apiKey=i,this.stream=r,this.requestOptions=s}toString(){var e,n;const i=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||nLe;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||tLe}/${i}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function oLe(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${rLe}/${iLe}`),e.join(" ")}async function aLe(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",oLe(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let i=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(r){throw new Dd(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${r.message}`)}for(const[r,s]of i.entries()){if(r==="x-goog-api-key")throw new Dd(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Dd(`Header name ${r} can only be set using the apiClient field`);n.append(r,s)}}return n}async function lLe(t,e,n,i,r,s){const o=new sLe(t,e,n,i,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},fLe(s)),{method:"POST",headers:await aLe(o),body:r})}}async function k_(t,e,n,i,r,s={},o=fetch){const{url:a,fetchOptions:l}=await lLe(t,e,n,i,r,s);return cLe(a,l,o)}async function cLe(t,e,n=fetch){let i;try{i=await n(t,e)}catch(r){uLe(r,t)}return i.ok||await dLe(i,t),i}function uLe(t,e){let n=t;throw n.name==="AbortError"?(n=new DX(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof LX||t instanceof Dd||(n=new ps(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function dLe(t,e){let n="",i;try{const r=await t.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,i=r.error.details)}catch{}throw new LX(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,i)}function fLe(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),PS(t.candidates[0]))throw new Ym(`${bd(t)}`,t);return hLe(t)}else if(t.promptFeedback)throw new Ym(`Text not available. ${bd(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),PS(t.candidates[0]))throw new Ym(`${bd(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),WU(t)[0]}else if(t.promptFeedback)throw new Ym(`Function call not available. ${bd(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),PS(t.candidates[0]))throw new Ym(`${bd(t)}`,t);return WU(t)}else if(t.promptFeedback)throw new Ym(`Function call not available. ${bd(t)}`,t)},t}function hLe(t){var e,n,i,r;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function WU(t){var e,n,i,r;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const pLe=[By.RECITATION,By.SAFETY,By.LANGUAGE];function PS(t){return!!t.finishReason&&pLe.includes(t.finishReason)}function bd(t){var e,n,i;let r="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)r+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((i=t.candidates)===null||i===void 0)&&i[0]){const s=t.candidates[0];PS(s)&&(r+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(r+=`: ${s.finishMessage}`))}return r}function zx(t){return this instanceof zx?(this.v=t,this):new zx(t)}function mLe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(p){i[p]&&(r[p]=function(v){return new Promise(function(y,b){s.push([p,v,y,b])>1||a(p,v)})})}function a(p,v){try{l(i[p](v))}catch(y){h(s[0][3],y)}}function l(p){p.value instanceof zx?Promise.resolve(p.value.v).then(c,d):h(s[0][2],p)}function c(p){a("next",p)}function d(p){a("throw",p)}function h(p,v){p(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function gLe(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=xLe(e),[i,r]=n.tee();return{stream:yLe(i),response:vLe(r)}}async function vLe(t){const e=[],n=t.getReader();for(;;){const{done:i,value:r}=await n.read();if(i)return WN(_Le(e));e.push(r)}}function yLe(t){return mLe(this,arguments,function*(){const n=t.getReader();for(;;){const{value:i,done:r}=yield zx(n.read());if(r)break;yield yield zx(WN(i))}})}function xLe(t){const e=t.getReader();return new ReadableStream({start(i){let r="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(r.trim()){i.error(new ps("Failed to parse stream"));return}i.close();return}r+=o;let l=r.match(GU),c;for(;l;){try{c=JSON.parse(l[1])}catch{i.error(new ps(`Error parsing JSON response: "${l[1]}"`));return}i.enqueue(c),r=r.substring(l[0].length),l=r.match(GU)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new DX("Request aborted when reading from the stream"):a=new ps("Error reading from the stream"),a})}}})}function _Le(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const i of t){if(i.candidates){let r=0;for(const s of i.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=s.citationMetadata,n.candidates[r].groundingMetadata=s.groundingMetadata,n.candidates[r].finishReason=s.finishReason,n.candidates[r].finishMessage=s.finishMessage,n.candidates[r].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[r].content||(n.candidates[r].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[r].content.parts.push(o)}r++}i.usageMetadata&&(n.usageMetadata=i.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FX(t,e,n,i){const r=await k_(e,tp.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),i);return gLe(r)}async function zX(t,e,n,i){const s=await(await k_(e,tp.GENERATE_CONTENT,t,!1,JSON.stringify(n),i)).json();return{response:WN(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Ux(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return bLe(e)}function bLe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let i=!1,r=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),r=!0):(e.parts.push(s),i=!0);if(i&&r)throw new ps("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!r)throw new ps("No content is provided for sending chat message.");return i?e:n}function SLe(t,e){var n;let i={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=t.generateContentRequest!=null;if(t.contents){if(r)throw new Dd("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=t.contents}else if(r)i=Object.assign(Object.assign({},i),t.generateContentRequest);else{const s=Ux(t);i.contents=[s]}return{generateContentRequest:i}}function $U(t){let e;return t.contents?e=t:e={contents:[Ux(t)]},t.systemInstruction&&(e.systemInstruction=UX(t.systemInstruction)),e}function wLe(t){return typeof t=="string"||Array.isArray(t)?{content:Ux(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ELe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function CLe(t){let e=!1;for(const n of t){const{role:i,parts:r}=n;if(!e&&i!=="user")throw new ps(`First content should be with role 'user', got ${i}`);if(!DU.includes(i))throw new ps(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(DU)}`);if(!Array.isArray(r))throw new ps("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new ps("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of r)for(const l of qU)l in a&&(s[l]+=1);const o=ELe[i];for(const a of qU)if(!o.includes(a)&&s[a]>0)throw new ps(`Content with role '${i}' can't contain '${a}' part`);e=!0}}function XU(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const i of n.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="SILENT_ERROR";class TLe{constructor(e,n,i,r={}){this.model=n,this.params=i,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,i!=null&&i.history&&(CLe(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var i,r,s,o,a,l;await this._sendPromise;const c=Ux(e),d={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>zX(this._apiKey,this.model,d,h)).then(v=>{var y;if(XU(v.response)){this._history.push(c);const b=Object.assign({parts:[],role:"model"},(y=v.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(b)}else{const b=bd(v.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}p=v}),await this._sendPromise,p}async sendMessageStream(e,n={}){var i,r,s,o,a,l;await this._sendPromise;const c=Ux(e),d={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),n),p=FX(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>p).catch(v=>{throw new Error(YU)}).then(v=>v.response).then(v=>{if(XU(v)){this._history.push(c);const y=Object.assign({},v.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=bd(v);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(v=>{v.message!==YU&&console.error(v)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MLe(t,e,n,i){return(await k_(e,tp.COUNT_TOKENS,t,!1,JSON.stringify(n),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ALe(t,e,n,i){return(await k_(e,tp.EMBED_CONTENT,t,!1,JSON.stringify(n),i)).json()}async function PLe(t,e,n,i){const r=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await k_(e,tp.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:r}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,i={}){this.apiKey=e,this._requestOptions=i,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=UX(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var i;const r=$U(e),s=Object.assign(Object.assign({},this._requestOptions),n);return zX(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}async generateContentStream(e,n={}){var i;const r=$U(e),s=Object.assign(Object.assign({},this._requestOptions),n);return FX(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}startChat(e){var n;return new TLe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const i=SLe(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return MLe(this.apiKey,this.model,i,r)}async embedContent(e,n={}){const i=wLe(e),r=Object.assign(Object.assign({},this._requestOptions),n);return ALe(this.apiKey,this.model,i,r)}async batchEmbedContents(e,n={}){const i=Object.assign(Object.assign({},this._requestOptions),n);return PLe(this.apiKey,this.model,e,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RLe{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ps("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new KU(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,i){if(!e.name)throw new Dd("Cached content must contain a `name` field.");if(!e.model)throw new Dd("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const o of r)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new Dd(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new KU(this.apiKey,s,i)}}const ILe=()=>{const[t,e]=U.useState(!1),[n,i]=U.useState([{text:"Hello! How can I assist you today?",isBot:!0}]),[r,s]=U.useState(""),o=U.useRef(null);U.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[n]);const a=()=>{e(!t)},l=async()=>{if(r.trim()==="")return;const d=[...n,{text:r,isBot:!1}];i(d),s("");let y=(await new RLe("AIzaSyDbhjne2OzGJjftFiz7fNiyzX5GZIFd8E0").getGenerativeModel({model:"gemini-2.0-flash",systemInstruction:`
            You are a customer service chatbot for the band "Stage Fright" on their official website. Your primary goal is to help users navigate the website, answer their questions, and provide information related to the band and their products.

            **Website Navigation:**

            The Stage Fright website has the following pages:

            *   **Home:** The main landing page. Link: &*//*&
            *   **About Us:** Information about the band. Link: &*/about-us*&
            *   **Tour:** Tour dates and locations. Link: &*/tour*&
            *   **Store:** Merchandise for sale. Link: &*/store*&
            *   **Contact Us:** A form or contact information to reach the band. Link: &*/contact-us*&
            *   **Login:** Page for existing users to log in. Link: &*/login*&
            *   **Sign Up:** Page for new users to create an account. Link: &*/signup*&
            *   **Cart:** Shopping cart page. Link: &*/cart*&
            *   **Terms:** Terms of Service page. Link: &*/terms*&
            *   **Privacy:** Privacy Policy page. Link: &*/privacy*&
            *   **Account:** User account management page. Link: &*/account*&
            *   **(NotFound):** Displayed if the user goes to an invalid page

            **Instructions:**

            1.  **Be helpful and friendly:** Greet users and respond in a polite and professional tone.
            2.  **Understand the user's intent:** Analyze the user's questions or requests carefully to understand what they need.
            3.  **Provide accurate information:** Use the information provided in this system instruction document to answer questions.
            4.  **Guide users through the website:** If a user needs help finding something, direct them to the correct page. When providing the link to navigate to, please provide the link in the following format: "&*/<anylink>*&". For example: "You can find our tour dates on the 'Tour' page, which you can access here: &*/tour*&".
            5.  **Answer questions concisely:** Provide clear and direct answers.
            6.  **Offer alternatives:** If you can't directly fulfill a request, suggest alternative actions or pages.
            7.  **Adhere to the provided Terms of Service and Privacy Policy:**  If a user asks about returns, cancellations, or how their data is used, refer to the information below.
            8.  **If you don't know the answer:** If you cannot answer a question based on the information available, respond with "I'm sorry, I don't have the answer to that question right now. You can try contacting us directly through the 'Contact Us' page, which you can access here: &*/contact-us*&."
            9.  **Do not generate responses that are:** Sexist, racist, or otherwise discriminatory.
            10. **Do not give financial advice.**

            **Terms of Service Information:**

            *   **Returns:**
                *   Items can only be returned within 90 days of purchase.
                *   Returned items must be in their original condition (unworn, unused, and with original tags/packaging if applicable).
                *   Refunds are issued to the original payment method. Shipping costs are non-refundable unless the return is due to an error by Stage Fright.
                *   Returns outside the 90-day window will not be accepted.
            *   **Order Cancellations:**
                *   Orders can only be canceled within 24 hours of being placed.
                *   To cancel, email support.stagefright@gmail.com with the order number and reason for cancellation.
                *   Cancellations requested after the 24-hour period cannot be accommodated.
            *   **Shipping and Delivery:**
                *   Delivery times may vary.
                *   The customer is responsible for providing an accurate shipping address. Stage Fright is not responsible for lost packages due to incorrect information.
            *   **Contact:**
                *   For questions, issues, or concerns, contact support.stagefright@gmail.com.
            *   **Changes:**
                *   The Terms of Service may be updated periodically.

            **Privacy Policy Information:**

            *   **Information Collected:**
                *   Personal Information: Name, email, shipping address, payment details.
                *   Non-Personal Information: Browser type, device information, website usage data.
            *   **Use of Information:**
                *   To process orders, provide customer support, improve the website, and send promotional updates (if opted in).
            *   **Protection of Information:**
                *   Information is stored securely with encryption.
                *   Personal information is not shared with third parties except as necessary to fulfill orders (e.g., shipping providers).
                *   Data is not sold, rented, or traded.
            *   **Cookies:**
                *   Cookies are used to improve functionality. Users can disable cookies, but some features may not work properly.
            *   **Third-Party Services:**
                *   Trusted third-party services are used (e.g., payment processors).
            *   **User Rights:**
                *   Users can access, update, or delete their personal information by emailing support.stagefright@gmail.com.
                *   Users can opt out of promotional emails via the "unsubscribe" link.
            *   **Changes:**
                *   The Privacy Policy may be updated as needed.
            *   **Contact:**
                *   For questions, contact support.stagefright@gmail.com.

            **Example Interactions:**

            *   **User:** "Where can I see your upcoming concerts?"
                *   **AI:** "You can find our upcoming tour dates and locations on the 'Tour' page, which you can access here: &*/tour*&."
            *   **User:** "How long do I have to return an item?"
                *   **AI:** "You can return items within 90 days of purchase, as long as they are in their original condition."
            *   **User:** "I want to cancel my order."
                *   **AI:** "Orders can only be canceled within 24 hours of being placed. To cancel, please email support.stagefright@gmail.com with your order number and the reason for cancellation. If it has been more than 24 hours, we unfortunately cannot process a cancelation.
            *   **User:** "What do you do with my personal information?"
                *   **AI:** "We use your personal information to process your orders, provide customer support, and improve our website. You can find more details about how we protect your information on our 'Privacy' page, which you can access here: &*/privacy*& or you can find a copy of the privacy policy above."
            *   **User:** "how do i log in"
                *   **AI:** "you can log in by going to the 'login' page, which you can access here: &*/login*&"
            *   **User:** "Do you take Doge coin"
                *   **AI:** "I'm sorry, I don't have the answer to that question right now. You can try contacting us directly through the 'Contact Us' page, which you can access here: &*/contact-us*&."

                    

        `}).generateContent(r)).response.text();i([...d,{text:y,isBot:!0}])},c=d=>d.text.split(/(&\*\/.*?\*&)/g).map((p,v)=>{if(p.match(/&\*\/.*?\*&/)){const y=p.replace(/&\*\//,"").replace(/\*&/,"");return E.jsx(Ci,{to:y,children:E.jsx("span",{style:{color:"#E9204F",cursor:"pointer"},children:y},v)},v)}return E.jsx("span",{children:p},v)});return E.jsxs("div",{children:[E.jsx(et.div,{style:{position:"fixed",bottom:"20px",right:"20px",cursor:"pointer",backgroundColor:"#E9204F",color:"white",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",boxShadow:"0 4px 10px rgba(233, 32, 79, 0.5)"},onClick:a,whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(ECe,{color:"white",size:32})}),t&&E.jsxs(et.div,{style:{position:"fixed",bottom:"80px",right:"20px",width:"90%",maxWidth:"400px",height:"500px",border:"2px solid rgb(17, 9, 11)",borderRadius:"15px",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.5)",backgroundColor:"#1a1a1a",display:"flex",flexDirection:"column"},initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.3},children:[E.jsx("div",{style:{padding:"10px",background:"linear-gradient(90deg, #1a1a1a, #333333)",color:"#E9204F",textAlign:"center",fontWeight:"boldest",fontSize:"24px",borderTopLeftRadius:"15px",borderTopRightRadius:"15px"},children:"Stage Fright AI"}),E.jsx("div",{ref:o,style:{flex:1,padding:"15px",overflowY:"auto",background:"linear-gradient(to bottom,rgb(16, 16, 16),rgb(34, 9, 9))",color:"white"},children:n.map((d,h)=>E.jsx("div",{style:{textAlign:d.isBot?"left":"right",margin:"10px 0"},children:E.jsx(et.div,{style:{display:"inline-block",maxWidth:"80%",padding:"12px 15px",borderRadius:"12px",backgroundColor:d.isBot?"#2a2a2a":"#E9204F",color:d.isBot?"white":"black",fontSize:"14px",boxShadow:d.isBot?"0 4px 10px rgba(0, 0, 0, 0.3)":"0 2px 5px rgba(233, 32, 79, 0.3)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:d.isBot?c(d):d.text})},h))}),E.jsxs("div",{style:{display:"flex",borderTop:"1px solid #E9204F"},children:[E.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),onKeyDown:d=>{d.key==="Enter"&&l()},style:{flex:1,padding:"12px",border:"none",borderRadius:"0 0 0 15px",background:"linear-gradient(90deg, #1a1a1a, #333333)",color:"white",fontSize:"14px",outline:"none"},placeholder:"Type a message..."}),E.jsx(et.button,{onClick:l,style:{padding:"12px 20px",border:"none",backgroundColor:"#E9204F",color:"white",borderRadius:"0 0 15px 0",fontSize:"14px",cursor:"pointer",boxShadow:"0 4px 10px rgba(233, 32, 79, 0.5)"},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Send"})]})]})]})},bu=U.createContext({user:null,setUser:()=>{}});function kLe(){const[t,e]=U.useState(null);return U.useEffect(()=>{const n=Ml.onAuthStateChanged(i=>{e(i)});return()=>n()},[Ml]),E.jsx(bu.Provider,{value:{user:t,setUser:e},children:E.jsx(Ij,{children:E.jsxs(zce,{children:[E.jsxs("div",{style:{position:"fixed",top:0,width:"100%",zIndex:1e3},children:[E.jsx(xve,{}),E.jsx(ILe,{})]}),E.jsxs(mce,{children:[E.jsx(Hr,{path:"/",element:E.jsx(URe,{})}),E.jsx(Hr,{path:"/about-us",element:E.jsx(jRe,{})}),E.jsx(Hr,{path:"/tour",element:E.jsx(OIe,{})}),E.jsx(Hr,{path:"/store",element:E.jsx(kIe,{})}),E.jsx(Hr,{path:"/contact-us",element:E.jsx(mke,{})}),E.jsx(Hr,{path:"/checkout",element:E.jsx(_ke,{})}),E.jsx(Hr,{path:"/tour_details",element:E.jsx(bke,{})}),E.jsx(Hr,{path:"/login",element:E.jsx(Ske,{})}),E.jsx(Hr,{path:"/signup",element:E.jsx(wke,{})}),E.jsx(Hr,{path:"/cart",element:E.jsx(Eke,{})}),E.jsx(Hr,{path:"/payment",element:E.jsx(OOe,{})}),E.jsx(Hr,{path:"/terms",element:E.jsx(LOe,{})}),E.jsx(Hr,{path:"/privacy",element:E.jsx(DOe,{})}),E.jsx(Hr,{path:"/account",element:E.jsx($Oe,{})}),E.jsx(Hr,{path:"/completion",element:E.jsx(eLe,{})}),E.jsx(Hr,{path:"*",element:E.jsx(NLe,{})})]})]})})})}const NLe=()=>E.jsxs("div",{style:{textAlign:"center",marginTop:"200px"},children:[E.jsx("h1",{style:{fontSize:"3rem",color:"#ff0000"},children:"404 Page Not Found"}),E.jsx("p",{style:{fontSize:"1.5rem"},children:"The page you're looking for doesn't exist."})]});yY.createRoot(document.getElementById("root")).render(E.jsx(U.StrictMode,{children:E.jsx(Ij,{children:E.jsx(kLe,{})})}));
