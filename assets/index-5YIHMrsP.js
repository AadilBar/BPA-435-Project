function R$(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UT={exports:{}},cy={},VT={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function k$(){if(uN)return fn;uN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function S(q,ae,Re){this.props=q,this.context=ae,this.refs=b,this.updater=Re||v}S.prototype.isReactComponent={},S.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function _(){}_.prototype=S.prototype;function E(q,ae,Re){this.props=q,this.context=ae,this.refs=b,this.updater=Re||v}var T=E.prototype=new _;T.constructor=E,y(T,S.prototype),T.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function B(q,ae,Re){var he,ve={},Oe=null,Fe=null;if(ae!=null)for(he in ae.ref!==void 0&&(Fe=ae.ref),ae.key!==void 0&&(Oe=""+ae.key),ae)k.call(ae,he)&&!D.hasOwnProperty(he)&&(ve[he]=ae[he]);var me=arguments.length-2;if(me===1)ve.children=Re;else if(1<me){for(var ye=Array(me),je=0;je<me;je++)ye[je]=arguments[je+2];ve.children=ye}if(q&&q.defaultProps)for(he in me=q.defaultProps,me)ve[he]===void 0&&(ve[he]=me[he]);return{$$typeof:t,type:q,key:Oe,ref:Fe,props:ve,_owner:F.current}}function N(q,ae){return{$$typeof:t,type:q.type,key:ae,ref:q.ref,props:q.props,_owner:q._owner}}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Re){return ae[Re]})}var W=/\/+/g;function Y(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ae.toString(36)}function ee(q,ae,Re,he,ve){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var Fe=!1;if(q===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch(q.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=q,ve=ve(Fe),q=he===""?"."+Y(Fe,0):he,P(ve)?(Re="",q!=null&&(Re=q.replace(W,"$&/")+"/"),ee(ve,ae,Re,"",function(je){return je})):ve!=null&&(R(ve)&&(ve=N(ve,Re+(!ve.key||Fe&&Fe.key===ve.key?"":(""+ve.key).replace(W,"$&/")+"/")+q)),ae.push(ve)),1;if(Fe=0,he=he===""?".":he+":",P(q))for(var me=0;me<q.length;me++){Oe=q[me];var ye=he+Y(Oe,me);Fe+=ee(Oe,ae,Re,ye,ve)}else if(ye=p(q),typeof ye=="function")for(q=ye.call(q),me=0;!(Oe=q.next()).done;)Oe=Oe.value,ye=he+Y(Oe,me++),Fe+=ee(Oe,ae,Re,ye,ve);else if(Oe==="object")throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return Fe}function K(q,ae,Re){if(q==null)return q;var he=[],ve=0;return ee(q,he,"","",function(Oe){return ae.call(Re,Oe,ve++)}),he}function Z(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(Re){(q._status===0||q._status===-1)&&(q._status=1,q._result=Re)},function(Re){(q._status===0||q._status===-1)&&(q._status=2,q._result=Re)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var G={current:null},j={transition:null},Q={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:j,ReactCurrentOwner:F};function ne(){throw Error("act(...) is not supported in production builds of React.")}return fn.Children={map:K,forEach:function(q,ae,Re){K(q,function(){ae.apply(this,arguments)},Re)},count:function(q){var ae=0;return K(q,function(){ae++}),ae},toArray:function(q){return K(q,function(ae){return ae})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},fn.Component=S,fn.Fragment=n,fn.Profiler=r,fn.PureComponent=E,fn.StrictMode=i,fn.Suspense=l,fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,fn.act=ne,fn.cloneElement=function(q,ae,Re){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var he=y({},q.props),ve=q.key,Oe=q.ref,Fe=q._owner;if(ae!=null){if(ae.ref!==void 0&&(Oe=ae.ref,Fe=F.current),ae.key!==void 0&&(ve=""+ae.key),q.type&&q.type.defaultProps)var me=q.type.defaultProps;for(ye in ae)k.call(ae,ye)&&!D.hasOwnProperty(ye)&&(he[ye]=ae[ye]===void 0&&me!==void 0?me[ye]:ae[ye])}var ye=arguments.length-2;if(ye===1)he.children=Re;else if(1<ye){me=Array(ye);for(var je=0;je<ye;je++)me[je]=arguments[je+2];he.children=me}return{$$typeof:t,type:q.type,key:ve,ref:Oe,props:he,_owner:Fe}},fn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},fn.createElement=B,fn.createFactory=function(q){var ae=B.bind(null,q);return ae.type=q,ae},fn.createRef=function(){return{current:null}},fn.forwardRef=function(q){return{$$typeof:a,render:q}},fn.isValidElement=R,fn.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:Z}},fn.memo=function(q,ae){return{$$typeof:c,type:q,compare:ae===void 0?null:ae}},fn.startTransition=function(q){var ae=j.transition;j.transition={};try{q()}finally{j.transition=ae}},fn.unstable_act=ne,fn.useCallback=function(q,ae){return G.current.useCallback(q,ae)},fn.useContext=function(q){return G.current.useContext(q)},fn.useDebugValue=function(){},fn.useDeferredValue=function(q){return G.current.useDeferredValue(q)},fn.useEffect=function(q,ae){return G.current.useEffect(q,ae)},fn.useId=function(){return G.current.useId()},fn.useImperativeHandle=function(q,ae,Re){return G.current.useImperativeHandle(q,ae,Re)},fn.useInsertionEffect=function(q,ae){return G.current.useInsertionEffect(q,ae)},fn.useLayoutEffect=function(q,ae){return G.current.useLayoutEffect(q,ae)},fn.useMemo=function(q,ae){return G.current.useMemo(q,ae)},fn.useReducer=function(q,ae,Re){return G.current.useReducer(q,ae,Re)},fn.useRef=function(q){return G.current.useRef(q)},fn.useState=function(q){return G.current.useState(q)},fn.useSyncExternalStore=function(q,ae,Re){return G.current.useSyncExternalStore(q,ae,Re)},fn.useTransition=function(){return G.current.useTransition()},fn.version="18.3.1",fn}var dN;function Wg(){return dN||(dN=1,VT.exports=k$()),VT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function N$(){if(fN)return cy;fN=1;var t=Wg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,h={},p=null,v=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(v=l.ref);for(d in l)i.call(l,d)&&!s.hasOwnProperty(d)&&(h[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:e,type:a,key:p,ref:v,props:h,_owner:r.current}}return cy.Fragment=n,cy.jsx=o,cy.jsxs=o,cy}var hN;function L$(){return hN||(hN=1,UT.exports=N$()),UT.exports}var w=L$(),z=Wg();const it=Sx(z),pN=R$({__proto__:null,default:it},[z]);var t1={},jT={exports:{}},to={},WT={exports:{}},HT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function D$(){return mN||(mN=1,function(t){function e(j,Q){var ne=j.length;j.push(Q);e:for(;0<ne;){var q=ne-1>>>1,ae=j[q];if(0<r(ae,Q))j[q]=Q,j[ne]=ae,ne=q;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Q=j[0],ne=j.pop();if(ne!==Q){j[0]=ne;e:for(var q=0,ae=j.length,Re=ae>>>1;q<Re;){var he=2*(q+1)-1,ve=j[he],Oe=he+1,Fe=j[Oe];if(0>r(ve,ne))Oe<ae&&0>r(Fe,ve)?(j[q]=Fe,j[Oe]=ne,q=Oe):(j[q]=ve,j[he]=ne,q=he);else if(Oe<ae&&0>r(Fe,ne))j[q]=Fe,j[Oe]=ne,q=Oe;else break e}}return Q}function r(j,Q){var ne=j.sortIndex-Q.sortIndex;return ne!==0?ne:j.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var Q=n(c);Q!==null;){if(Q.callback===null)i(c);else if(Q.startTime<=j)i(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function P(j){if(b=!1,T(j),!y)if(n(l)!==null)y=!0,Z(k);else{var Q=n(c);Q!==null&&G(P,Q.startTime-j)}}function k(j,Q){y=!1,b&&(b=!1,_(B),B=-1),v=!0;var ne=p;try{for(T(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||j&&!U());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var ae=q(h.expirationTime<=Q);Q=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&i(l),T(Q)}else i(l);h=n(l)}if(h!==null)var Re=!0;else{var he=n(c);he!==null&&G(P,he.startTime-Q),Re=!1}return Re}finally{h=null,p=ne,v=!1}}var F=!1,D=null,B=-1,N=5,R=-1;function U(){return!(t.unstable_now()-R<N)}function W(){if(D!==null){var j=t.unstable_now();R=j;var Q=!0;try{Q=D(!0,j)}finally{Q?Y():(F=!1,D=null)}}else F=!1}var Y;if(typeof E=="function")Y=function(){E(W)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=W,Y=function(){K.postMessage(null)}}else Y=function(){S(W,0)};function Z(j){D=j,F||(F=!0,Y())}function G(j,Q){B=S(function(){j(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Z(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ne=p;p=Q;try{return j()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ne=p;p=j;try{return Q()}finally{p=ne}},t.unstable_scheduleCallback=function(j,Q,ne){var q=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ne+ae,j={id:d++,callback:Q,priorityLevel:j,startTime:ne,expirationTime:ae,sortIndex:-1},ne>q?(j.sortIndex=ne,e(c,j),n(l)===null&&j===n(c)&&(b?(_(B),B=-1):b=!0,G(P,ne-q))):(j.sortIndex=ae,e(l,j),y||v||(y=!0,Z(k))),j},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(j){var Q=p;return function(){var ne=p;p=Q;try{return j.apply(this,arguments)}finally{p=ne}}}}(HT)),HT}var gN;function O$(){return gN||(gN=1,WT.exports=D$()),WT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function F$(){if(vN)return to;vN=1;var t=Wg(),e=O$();function n(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,x=1;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(r[u]=f,u=0;u<f.length;u++)i.add(f[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(u){return l.call(h,u)?!0:l.call(d,u)?!1:c.test(u)?h[u]=!0:(d[u]=!0,!1)}function v(u,f,x,M){if(x!==null&&x.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return M?!1:x!==null?!x.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function y(u,f,x,M){if(f===null||typeof f>"u"||v(u,f,x,M))return!0;if(M)return!1;if(x!==null)switch(x.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function b(u,f,x,M,I,O,H){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=M,this.attributeNamespace=I,this.mustUseProperty=x,this.propertyName=u,this.type=f,this.sanitizeURL=O,this.removeEmptyString=H}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){S[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];S[f]=new b(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){S[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){S[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){S[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){S[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){S[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){S[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){S[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(_,E);S[f]=new b(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(_,E);S[f]=new b(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(_,E);S[f]=new b(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){S[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){S[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function T(u,f,x,M){var I=S.hasOwnProperty(f)?S[f]:null;(I!==null?I.type!==0:M||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(y(f,x,I,M)&&(x=null),M||I===null?p(f)&&(x===null?u.removeAttribute(f):u.setAttribute(f,""+x)):I.mustUseProperty?u[I.propertyName]=x===null?I.type===3?!1:"":x:(f=I.attributeName,M=I.attributeNamespace,x===null?u.removeAttribute(f):(I=I.type,x=I===3||I===4&&x===!0?"":""+x,M?u.setAttributeNS(M,f,x):u.setAttribute(f,x))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),j=Symbol.iterator;function Q(u){return u===null||typeof u!="object"?null:(u=j&&u[j]||u["@@iterator"],typeof u=="function"?u:null)}var ne=Object.assign,q;function ae(u){if(q===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);q=f&&f[1]||""}return`
`+q+u}var Re=!1;function he(u,f){if(!u||Re)return"";Re=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var M=Ee}Reflect.construct(u,[],f)}else{try{f.call()}catch(Ee){M=Ee}u.call(f.prototype)}else{try{throw Error()}catch(Ee){M=Ee}u()}}catch(Ee){if(Ee&&M&&typeof Ee.stack=="string"){for(var I=Ee.stack.split(`
`),O=M.stack.split(`
`),H=I.length-1,se=O.length-1;1<=H&&0<=se&&I[H]!==O[se];)se--;for(;1<=H&&0<=se;H--,se--)if(I[H]!==O[se]){if(H!==1||se!==1)do if(H--,se--,0>se||I[H]!==O[se]){var oe=`
`+I[H].replace(" at new "," at ");return u.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",u.displayName)),oe}while(1<=H&&0<=se);break}}}finally{Re=!1,Error.prepareStackTrace=x}return(u=u?u.displayName||u.name:"")?ae(u):""}function ve(u){switch(u.tag){case 5:return ae(u.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return u=he(u.type,!1),u;case 11:return u=he(u.type.render,!1),u;case 1:return u=he(u.type,!0),u;default:return""}}function Oe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case D:return"Fragment";case F:return"Portal";case N:return"Profiler";case B:return"StrictMode";case Y:return"Suspense";case ee:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case U:return(u.displayName||"Context")+".Consumer";case R:return(u._context.displayName||"Context")+".Provider";case W:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case K:return f=u.displayName||null,f!==null?f:Oe(u.type)||"Memo";case Z:f=u._payload,u=u._init;try{return Oe(u(f))}catch{}}return null}function Fe(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(f);case 8:return f===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function me(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ye(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function je(u){var f=ye(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),M=""+u[f];if(!u.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var I=x.get,O=x.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return I.call(this)},set:function(H){M=""+H,O.call(this,H)}}),Object.defineProperty(u,f,{enumerable:x.enumerable}),{getValue:function(){return M},setValue:function(H){M=""+H},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function at(u){u._valueTracker||(u._valueTracker=je(u))}function J(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var x=f.getValue(),M="";return u&&(M=ye(u)?u.checked?"true":"false":u.value),u=M,u!==x?(f.setValue(u),!0):!1}function Pe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Be(u,f){var x=f.checked;return ne({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??u._wrapperState.initialChecked})}function et(u,f){var x=f.defaultValue==null?"":f.defaultValue,M=f.checked!=null?f.checked:f.defaultChecked;x=me(f.value!=null?f.value:x),u._wrapperState={initialChecked:M,initialValue:x,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ae(u,f){f=f.checked,f!=null&&T(u,"checked",f,!1)}function Ct(u,f){Ae(u,f);var x=me(f.value),M=f.type;if(x!=null)M==="number"?(x===0&&u.value===""||u.value!=x)&&(u.value=""+x):u.value!==""+x&&(u.value=""+x);else if(M==="submit"||M==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?lt(u,f.type,x):f.hasOwnProperty("defaultValue")&&lt(u,f.type,me(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function tt(u,f,x){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var M=f.type;if(!(M!=="submit"&&M!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,x||f===u.value||(u.value=f),u.defaultValue=f}x=u.name,x!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,x!==""&&(u.name=x)}function lt(u,f,x){(f!=="number"||Pe(u.ownerDocument)!==u)&&(x==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+x&&(u.defaultValue=""+x))}var ie=Array.isArray;function $(u,f,x,M){if(u=u.options,f){f={};for(var I=0;I<x.length;I++)f["$"+x[I]]=!0;for(x=0;x<u.length;x++)I=f.hasOwnProperty("$"+u[x].value),u[x].selected!==I&&(u[x].selected=I),I&&M&&(u[x].defaultSelected=!0)}else{for(x=""+me(x),f=null,I=0;I<u.length;I++){if(u[I].value===x){u[I].selected=!0,M&&(u[I].defaultSelected=!0);return}f!==null||u[I].disabled||(f=u[I])}f!==null&&(f.selected=!0)}}function be(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function ke(u,f){var x=f.value;if(x==null){if(x=f.children,f=f.defaultValue,x!=null){if(f!=null)throw Error(n(92));if(ie(x)){if(1<x.length)throw Error(n(93));x=x[0]}f=x}f==null&&(f=""),x=f}u._wrapperState={initialValue:me(x)}}function Ie(u,f){var x=me(f.value),M=me(f.defaultValue);x!=null&&(x=""+x,x!==u.value&&(u.value=x),f.defaultValue==null&&u.defaultValue!==x&&(u.defaultValue=x)),M!=null&&(u.defaultValue=""+M)}function ze(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function Mt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?Mt(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var ct,jt=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,x,M,I){MSApp.execUnsafeLocalFunction(function(){return u(f,x,M,I)})}:u}(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=ct.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function He(u,f){if(f){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=f;return}}u.textContent=f}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},un=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(u){un.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),rt[f]=rt[u]})});function Ot(u,f,x){return f==null||typeof f=="boolean"||f===""?"":x||typeof f!="number"||f===0||rt.hasOwnProperty(u)&&rt[u]?(""+f).trim():f+"px"}function pt(u,f){u=u.style;for(var x in f)if(f.hasOwnProperty(x)){var M=x.indexOf("--")===0,I=Ot(x,f[x],M);x==="float"&&(x="cssFloat"),M?u.setProperty(x,I):u[x]=I}}var Wt=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xt(u,f){if(f){if(Wt[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Bn(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ue=null;function $e(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ne=null,Le=null,Ye=null;function kt(u){if(u=Ta(u)){if(typeof Ne!="function")throw Error(n(280));var f=u.stateNode;f&&(f=Xp(f),Ne(u.stateNode,u.type,f))}}function cn(u){Le?Ye?Ye.push(u):Ye=[u]:Le=u}function ri(){if(Le){var u=Le,f=Ye;if(Ye=Le=null,kt(u),f)for(u=0;u<f.length;u++)kt(f[u])}}function ki(u,f){return u(f)}function yn(){}var Qr=!1;function Zr(u,f,x){if(Qr)return u(f,x);Qr=!0;try{return ki(u,f,x)}finally{Qr=!1,(Le!==null||Ye!==null)&&(yn(),ri())}}function hl(u,f){var x=u.stateNode;if(x===null)return null;var M=Xp(x);if(M===null)return null;x=M[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(u=u.type,M=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!M;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(n(231,f,typeof x));return x}var po=!1;if(a)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){po=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{po=!1}function lf(u,f,x,M,I,O,H,se,oe){var Ee=Array.prototype.slice.call(arguments,3);try{f.apply(x,Ee)}catch(Ve){this.onError(Ve)}}var Wo=!1,ma=null,mo=!1,pl=null,hp={onError:function(u){Wo=!0,ma=u}};function pp(u,f,x,M,I,O,H,se,oe){Wo=!1,ma=null,lf.apply(hp,arguments)}function pv(u,f,x,M,I,O,H,se,oe){if(pp.apply(this,arguments),Wo){if(Wo){var Ee=ma;Wo=!1,ma=null}else throw Error(n(198));mo||(mo=!0,pl=Ee)}}function ga(u){var f=u,x=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(x=f.return),u=f.return;while(u)}return f.tag===3?x:null}function mp(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function X(u){if(ga(u)!==u)throw Error(n(188))}function de(u){var f=u.alternate;if(!f){if(f=ga(u),f===null)throw Error(n(188));return f!==u?null:u}for(var x=u,M=f;;){var I=x.return;if(I===null)break;var O=I.alternate;if(O===null){if(M=I.return,M!==null){x=M;continue}break}if(I.child===O.child){for(O=I.child;O;){if(O===x)return X(I),u;if(O===M)return X(I),f;O=O.sibling}throw Error(n(188))}if(x.return!==M.return)x=I,M=O;else{for(var H=!1,se=I.child;se;){if(se===x){H=!0,x=I,M=O;break}if(se===M){H=!0,M=I,x=O;break}se=se.sibling}if(!H){for(se=O.child;se;){if(se===x){H=!0,x=O,M=I;break}if(se===M){H=!0,M=O,x=I;break}se=se.sibling}if(!H)throw Error(n(189))}}if(x.alternate!==M)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?u:f}function Se(u){return u=de(u),u!==null?we(u):null}function we(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=we(u);if(f!==null)return f;u=u.sibling}return null}var pe=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,ut=e.unstable_shouldYield,yt=e.unstable_requestPaint,Je=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,Pt=e.unstable_ImmediatePriority,_t=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,Hn=e.unstable_LowPriority,Pn=e.unstable_IdlePriority,Zn=null,gt=null;function Qe(u){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Zn,u,void 0,(u.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:es,Bt=Math.log,Gn=Math.LN2;function es(u){return u>>>=0,u===0?32:31-(Bt(u)/Gn|0)|0}var hi=64,wi=4194304;function Ln(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function ts(u,f){var x=u.pendingLanes;if(x===0)return 0;var M=0,I=u.suspendedLanes,O=u.pingedLanes,H=x&268435455;if(H!==0){var se=H&~I;se!==0?M=Ln(se):(O&=H,O!==0&&(M=Ln(O)))}else H=x&~I,H!==0?M=Ln(H):O!==0&&(M=Ln(O));if(M===0)return 0;if(f!==0&&f!==M&&(f&I)===0&&(I=M&-M,O=f&-f,I>=O||I===16&&(O&4194240)!==0))return f;if((M&4)!==0&&(M|=x&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=M;0<f;)x=31-dn(f),I=1<<x,M|=u[x],f&=~I;return M}function Au(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(u,f){for(var x=u.suspendedLanes,M=u.pingedLanes,I=u.expirationTimes,O=u.pendingLanes;0<O;){var H=31-dn(O),se=1<<H,oe=I[H];oe===-1?((se&x)===0||(se&M)!==0)&&(I[H]=Au(se,f)):oe<=f&&(u.expiredLanes|=se),O&=~se}}function ml(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function ns(){var u=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),u}function Pu(u){for(var f=[],x=0;31>x;x++)f.push(u);return f}function cf(u,f,x){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-dn(f),u[f]=x}function uT(u,f){var x=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<x;){var I=31-dn(x),O=1<<I;f[I]=0,M[I]=-1,u[I]=-1,x&=~O}}function Iu(u,f){var x=u.entangledLanes|=f;for(u=u.entanglements;x;){var M=31-dn(x),I=1<<M;I&f|u[M]&f&&(u[M]|=f),x&=~I}}var wn=0;function Ru(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var uf,mv,c_,gp,vp,ac=!1,yp=[],Ho=null,sn=null,va=null,lc=new Map,ku=new Map,gl=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(u,f){switch(u){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":lc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(f.pointerId)}}function cc(u,f,x,M,I,O){return u===null||u.nativeEvent!==O?(u={blockedOn:f,domEventName:x,eventSystemFlags:M,nativeEvent:O,targetContainers:[I]},f!==null&&(f=Ta(f),f!==null&&mv(f)),u):(u.eventSystemFlags|=M,f=u.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),u)}function fT(u,f,x,M,I){switch(f){case"focusin":return Ho=cc(Ho,u,f,x,M,I),!0;case"dragenter":return sn=cc(sn,u,f,x,M,I),!0;case"mouseover":return va=cc(va,u,f,x,M,I),!0;case"pointerover":var O=I.pointerId;return lc.set(O,cc(lc.get(O)||null,u,f,x,M,I)),!0;case"gotpointercapture":return O=I.pointerId,ku.set(O,cc(ku.get(O)||null,u,f,x,M,I)),!0}return!1}function xp(u){var f=wl(u.target);if(f!==null){var x=ga(f);if(x!==null){if(f=x.tag,f===13){if(f=mp(x),f!==null){u.blockedOn=f,vp(u.priority,function(){c_(x)});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function _p(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var x=Gs(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(x===null){x=u.nativeEvent;var M=new x.constructor(x.type,x);ue=M,x.target.dispatchEvent(M),ue=null}else return f=Ta(x),f!==null&&mv(f),u.blockedOn=x,!1;f.shift()}return!0}function df(u,f,x){_p(u)&&x.delete(f)}function Go(){ac=!1,Ho!==null&&_p(Ho)&&(Ho=null),sn!==null&&_p(sn)&&(sn=null),va!==null&&_p(va)&&(va=null),lc.forEach(df),ku.forEach(df)}function ff(u,f){u.blockedOn===f&&(u.blockedOn=null,ac||(ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Go)))}function hf(u){function f(I){return ff(I,u)}if(0<yp.length){ff(yp[0],u);for(var x=1;x<yp.length;x++){var M=yp[x];M.blockedOn===u&&(M.blockedOn=null)}}for(Ho!==null&&ff(Ho,u),sn!==null&&ff(sn,u),va!==null&&ff(va,u),lc.forEach(f),ku.forEach(f),x=0;x<gl.length;x++)M=gl[x],M.blockedOn===u&&(M.blockedOn=null);for(;0<gl.length&&(x=gl[0],x.blockedOn===null);)xp(x),x.blockedOn===null&&gl.shift()}var Or=P.ReactCurrentBatchConfig,Hs=!0;function bp(u,f,x,M){var I=wn,O=Or.transition;Or.transition=null;try{wn=1,Sp(u,f,x,M)}finally{wn=I,Or.transition=O}}function gv(u,f,x,M){var I=wn,O=Or.transition;Or.transition=null;try{wn=4,Sp(u,f,x,M)}finally{wn=I,Or.transition=O}}function Sp(u,f,x,M){if(Hs){var I=Gs(u,f,x,M);if(I===null)jp(u,f,M,wp,x),Ui(u,M);else if(fT(I,u,f,x,M))M.stopPropagation();else if(Ui(u,M),f&4&&-1<dT.indexOf(u)){for(;I!==null;){var O=Ta(I);if(O!==null&&uf(O),O=Gs(u,f,x,M),O===null&&jp(u,f,M,wp,x),O===I)break;I=O}I!==null&&M.stopPropagation()}else jp(u,f,M,null,x)}}var wp=null;function Gs(u,f,x,M){if(wp=null,u=$e(M),u=wl(u),u!==null)if(f=ga(u),f===null)u=null;else if(x=f.tag,x===13){if(u=mp(f),u!==null)return u;u=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return wp=u,null}function u_(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case Pt:return 1;case _t:return 4;case mn:case Hn:return 16;case Pn:return 536870912;default:return 16}default:return 16}}var go=null,vv=null,is=null;function pf(){if(is)return is;var u,f=vv,x=f.length,M,I="value"in go?go.value:go.textContent,O=I.length;for(u=0;u<x&&f[u]===I[u];u++);var H=x-u;for(M=1;M<=H&&f[x-M]===I[O-M];M++);return is=I.slice(u,1<M?1-M:void 0)}function uc(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function ya(){return!0}function Ep(){return!1}function Fr(u){function f(x,M,I,O,H){this._reactName=x,this._targetInst=I,this.type=M,this.nativeEvent=O,this.target=H,this.currentTarget=null;for(var se in u)u.hasOwnProperty(se)&&(x=u[se],this[se]=x?x(O):O[se]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ya:Ep,this.isPropagationStopped=Ep,this}return ne(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),f}var dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mf=Fr(dc),fc=ne({},dc,{view:0,detail:0}),Nu=Fr(fc),rs,$s,qs,Lu=ne({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==qs&&(qs&&u.type==="mousemove"?(rs=u.screenX-qs.screenX,$s=u.screenY-qs.screenY):$s=rs=0,qs=u),rs)},movementY:function(u){return"movementY"in u?u.movementY:$s}}),yv=Fr(Lu),xa=ne({},Lu,{dataTransfer:0}),vl=Fr(xa),Tp=ne({},fc,{relatedTarget:0}),Cp=Fr(Tp),Mp=ne({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),d_=Fr(Mp),f_=ne({},dc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),xv=Fr(f_),Ap=ne({},dc,{data:0}),_v=Fr(Ap),h_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=bv[u])?!!f[u]:!1}function yl(){return Du}var Pp=ne({},fc,{key:function(u){if(u.key){var f=h_[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=uc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?p_[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(u){return u.type==="keypress"?uc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?uc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ip=Fr(Pp),Xs=ne({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=Fr(Xs),hc=ne({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),_a=Fr(hc),ba=ne({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=Fr(ba),m_=ne({},Lu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Sv=Fr(m_),wv=[9,13,27,32],zr=a&&"CompositionEvent"in window,cr=null;a&&"documentMode"in document&&(cr=document.documentMode);var si=a&&"TextEvent"in window&&!cr,Ou=a&&(!zr||cr&&8<cr&&11>=cr),Ys=" ",Ev=!1;function Tv(u,f){switch(u){case"keyup":return wv.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var xl=!1;function g_(u,f){switch(u){case"compositionend":return Rp(f);case"keypress":return f.which!==32?null:(Ev=!0,Ys);case"textInput":return u=f.data,u===Ys&&Ev?null:u;default:return null}}function gf(u,f){if(xl)return u==="compositionend"||!zr&&Tv(u,f)?(u=pf(),is=vv=go=null,xl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ou&&f.locale!=="ko"?null:f.data;default:return null}}var Fu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Fu[u.type]:f==="textarea"}function zu(u,f,x,M){cn(M),f=Wp(f,"onChange"),0<f.length&&(x=new mf("onChange","change",null,x,M),u.push({event:x,listeners:f}))}var _l=null,Bu=null;function v_(u){Wu(u,0)}function Sa(u){var f=Ei(u);if(J(f))return u}function y_(u,f){if(u==="change")return f}var Uu=!1;if(a){var ss;if(a){var mc="oninput"in document;if(!mc){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),mc=typeof gc.oninput=="function"}ss=mc}else ss=!1;Uu=ss&&(!document.documentMode||9<document.documentMode)}function vo(){_l&&(_l.detachEvent("onpropertychange",Np),Bu=_l=null)}function Np(u){if(u.propertyName==="value"&&Sa(Bu)){var f=[];zu(f,Bu,u,$e(u)),Zr(v_,f)}}function Vu(u,f,x){u==="focusin"?(vo(),_l=f,Bu=x,_l.attachEvent("onpropertychange",Np)):u==="focusout"&&vo()}function x_(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Sa(Bu)}function Cv(u,f){if(u==="click")return Sa(f)}function pi(u,f){if(u==="input"||u==="change")return Sa(f)}function Lp(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Ts=typeof Object.is=="function"?Object.is:Lp;function vc(u,f){if(Ts(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var x=Object.keys(u),M=Object.keys(f);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var I=x[M];if(!l.call(f,I)||!Ts(u[I],f[I]))return!1}return!0}function vf(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Cs(u,f){var x=vf(u);u=0;for(var M;x;){if(x.nodeType===3){if(M=u+x.textContent.length,u<=f&&M>=f)return{node:x,offset:f-u};u=M}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=vf(x)}}function yc(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?yc(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function mi(){for(var u=window,f=Pe();f instanceof u.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)u=f.contentWindow;else break;f=Pe(u.document)}return f}function qi(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Xi(u){var f=mi(),x=u.focusedElem,M=u.selectionRange;if(f!==x&&x&&x.ownerDocument&&yc(x.ownerDocument.documentElement,x)){if(M!==null&&qi(x)){if(f=M.start,u=M.end,u===void 0&&(u=f),"selectionStart"in x)x.selectionStart=f,x.selectionEnd=Math.min(u,x.value.length);else if(u=(f=x.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var I=x.textContent.length,O=Math.min(M.start,I);M=M.end===void 0?O:Math.min(M.end,I),!u.extend&&O>M&&(I=M,M=O,O=I),I=Cs(x,O);var H=Cs(x,M);I&&H&&(u.rangeCount!==1||u.anchorNode!==I.node||u.anchorOffset!==I.offset||u.focusNode!==H.node||u.focusOffset!==H.offset)&&(f=f.createRange(),f.setStart(I.node,I.offset),u.removeAllRanges(),O>M?(u.addRange(f),u.extend(H.node,H.offset)):(f.setEnd(H.node,H.offset),u.addRange(f)))}}for(f=[],u=x;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<f.length;x++)u=f[x],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Dp=a&&"documentMode"in document&&11>=document.documentMode,$o=null,xc=null,yf=null,Yi=!1;function Op(u,f,x){var M=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Yi||$o==null||$o!==Pe(M)||(M=$o,"selectionStart"in M&&qi(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),yf&&vc(yf,M)||(yf=M,M=Wp(xc,"onSelect"),0<M.length&&(f=new mf("onSelect","select",null,f,x),u.push({event:f,listeners:M}),f.target=$o)))}function ju(u,f){var x={};return x[u.toLowerCase()]=f.toLowerCase(),x["Webkit"+u]="webkit"+f,x["Moz"+u]="moz"+f,x}var bl={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},yo={},xo={};a&&(xo=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function qo(u){if(yo[u])return yo[u];if(!bl[u])return u;var f=bl[u],x;for(x in f)if(f.hasOwnProperty(x)&&x in xo)return yo[u]=f[x];return u}var xf=qo("animationend"),_f=qo("animationiteration"),Mv=qo("animationstart"),Av=qo("transitionend"),Pv=new Map,Iv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(u,f){Pv.set(u,f),s(f,[u])}for(var Fp=0;Fp<Iv.length;Fp++){var bf=Iv[Fp],Sf=bf.toLowerCase(),__=bf[0].toUpperCase()+bf.slice(1);wa(Sf,"on"+__)}wa(xf,"onAnimationEnd"),wa(_f,"onAnimationIteration"),wa(Mv,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(Av,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function Bp(u,f,x){var M=u.type||"unknown-event";u.currentTarget=x,pv(M,f,void 0,u),u.currentTarget=null}function Wu(u,f){f=(f&4)!==0;for(var x=0;x<u.length;x++){var M=u[x],I=M.event;M=M.listeners;e:{var O=void 0;if(f)for(var H=M.length-1;0<=H;H--){var se=M[H],oe=se.instance,Ee=se.currentTarget;if(se=se.listener,oe!==O&&I.isPropagationStopped())break e;Bp(I,se,Ee),O=oe}else for(H=0;H<M.length;H++){if(se=M[H],oe=se.instance,Ee=se.currentTarget,se=se.listener,oe!==O&&I.isPropagationStopped())break e;Bp(I,se,Ee),O=oe}}}if(mo)throw u=pl,mo=!1,pl=null,u}function $n(u,f){var x=f[Sc];x===void 0&&(x=f[Sc]=new Set);var M=u+"__bubble";x.has(M)||(Vp(f,u,2,!1),x.add(M))}function Up(u,f,x){var M=0;f&&(M|=4),Vp(x,u,M,f)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Hu(u){if(!u[wf]){u[wf]=!0,i.forEach(function(x){x!=="selectionchange"&&(zp.has(x)||Up(x,!1,u),Up(x,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[wf]||(f[wf]=!0,Up("selectionchange",!1,f))}}function Vp(u,f,x,M){switch(u_(f)){case 1:var I=bp;break;case 4:I=gv;break;default:I=Sp}x=I.bind(null,f,x,u),I=void 0,!po||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),M?I!==void 0?u.addEventListener(f,x,{capture:!0,passive:I}):u.addEventListener(f,x,!0):I!==void 0?u.addEventListener(f,x,{passive:I}):u.addEventListener(f,x,!1)}function jp(u,f,x,M,I){var O=M;if((f&1)===0&&(f&2)===0&&M!==null)e:for(;;){if(M===null)return;var H=M.tag;if(H===3||H===4){var se=M.stateNode.containerInfo;if(se===I||se.nodeType===8&&se.parentNode===I)break;if(H===4)for(H=M.return;H!==null;){var oe=H.tag;if((oe===3||oe===4)&&(oe=H.stateNode.containerInfo,oe===I||oe.nodeType===8&&oe.parentNode===I))return;H=H.return}for(;se!==null;){if(H=wl(se),H===null)return;if(oe=H.tag,oe===5||oe===6){M=O=H;continue e}se=se.parentNode}}M=M.return}Zr(function(){var Ee=O,Ve=$e(x),We=[];e:{var Ue=Pv.get(u);if(Ue!==void 0){var ht=mf,xt=u;switch(u){case"keypress":if(uc(x)===0)break e;case"keydown":case"keyup":ht=Ip;break;case"focusin":xt="focus",ht=Cp;break;case"focusout":xt="blur",ht=Cp;break;case"beforeblur":case"afterblur":ht=Cp;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=_a;break;case xf:case _f:case Mv:ht=d_;break;case Av:ht=pc;break;case"scroll":ht=Nu;break;case"wheel":ht=Sv;break;case"copy":case"cut":case"paste":ht=xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Es}var bt=(f&4)!==0,ji=!bt&&u==="scroll",ge=bt?Ue!==null?Ue+"Capture":null:Ue;bt=[];for(var le=Ee,xe;le!==null;){xe=le;var Xe=xe.stateNode;if(xe.tag===5&&Xe!==null&&(xe=Xe,ge!==null&&(Xe=hl(le,ge),Xe!=null&&bt.push(Gu(le,Xe,xe)))),ji)break;le=le.return}0<bt.length&&(Ue=new ht(Ue,xt,null,x,Ve),We.push({event:Ue,listeners:bt}))}}if((f&7)===0){e:{if(Ue=u==="mouseover"||u==="pointerover",ht=u==="mouseout"||u==="pointerout",Ue&&x!==ue&&(xt=x.relatedTarget||x.fromElement)&&(wl(xt)||xt[Ms]))break e;if((ht||Ue)&&(Ue=Ve.window===Ve?Ve:(Ue=Ve.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,ht?(xt=x.relatedTarget||x.toElement,ht=Ee,xt=xt?wl(xt):null,xt!==null&&(ji=ga(xt),xt!==ji||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(ht=null,xt=Ee),ht!==xt)){if(bt=yv,Xe="onMouseLeave",ge="onMouseEnter",le="mouse",(u==="pointerout"||u==="pointerover")&&(bt=Es,Xe="onPointerLeave",ge="onPointerEnter",le="pointer"),ji=ht==null?Ue:Ei(ht),xe=xt==null?Ue:Ei(xt),Ue=new bt(Xe,le+"leave",ht,x,Ve),Ue.target=ji,Ue.relatedTarget=xe,Xe=null,wl(Ve)===Ee&&(bt=new bt(ge,le+"enter",xt,x,Ve),bt.target=xe,bt.relatedTarget=ji,Xe=bt),ji=Xe,ht&&xt)t:{for(bt=ht,ge=xt,le=0,xe=bt;xe;xe=_c(xe))le++;for(xe=0,Xe=ge;Xe;Xe=_c(Xe))xe++;for(;0<le-xe;)bt=_c(bt),le--;for(;0<xe-le;)ge=_c(ge),xe--;for(;le--;){if(bt===ge||ge!==null&&bt===ge.alternate)break t;bt=_c(bt),ge=_c(ge)}bt=null}else bt=null;ht!==null&&b_(We,Ue,ht,bt,!1),xt!==null&&ji!==null&&b_(We,ji,xt,bt,!0)}}e:{if(Ue=Ee?Ei(Ee):window,ht=Ue.nodeName&&Ue.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Ue.type==="file")var Et=y_;else if(kp(Ue))if(Uu)Et=pi;else{Et=x_;var Nt=Vu}else(ht=Ue.nodeName)&&ht.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(Et=Cv);if(Et&&(Et=Et(u,Ee))){zu(We,Et,x,Ve);break e}Nt&&Nt(u,Ue,Ee),u==="focusout"&&(Nt=Ue._wrapperState)&&Nt.controlled&&Ue.type==="number"&&lt(Ue,"number",Ue.value)}switch(Nt=Ee?Ei(Ee):window,u){case"focusin":(kp(Nt)||Nt.contentEditable==="true")&&($o=Nt,xc=Ee,yf=null);break;case"focusout":yf=xc=$o=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,Op(We,x,Ve);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Op(We,x,Ve)}var Lt;if(zr)e:{switch(u){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else xl?Tv(u,x)&&(Ht="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(Ht="onCompositionStart");Ht&&(Ou&&x.locale!=="ko"&&(xl||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&xl&&(Lt=pf()):(go=Ve,vv="value"in go?go.value:go.textContent,xl=!0)),Nt=Wp(Ee,Ht),0<Nt.length&&(Ht=new _v(Ht,u,null,x,Ve),We.push({event:Ht,listeners:Nt}),Lt?Ht.data=Lt:(Lt=Rp(x),Lt!==null&&(Ht.data=Lt)))),(Lt=si?g_(u,x):gf(u,x))&&(Ee=Wp(Ee,"onBeforeInput"),0<Ee.length&&(Ve=new _v("onBeforeInput","beforeinput",null,x,Ve),We.push({event:Ve,listeners:Ee}),Ve.data=Lt))}Wu(We,f)})}function Gu(u,f,x){return{instance:u,listener:f,currentTarget:x}}function Wp(u,f){for(var x=f+"Capture",M=[];u!==null;){var I=u,O=I.stateNode;I.tag===5&&O!==null&&(I=O,O=hl(u,x),O!=null&&M.unshift(Gu(u,O,I)),O=hl(u,f),O!=null&&M.push(Gu(u,O,I))),u=u.return}return M}function _c(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function b_(u,f,x,M,I){for(var O=f._reactName,H=[];x!==null&&x!==M;){var se=x,oe=se.alternate,Ee=se.stateNode;if(oe!==null&&oe===M)break;se.tag===5&&Ee!==null&&(se=Ee,I?(oe=hl(x,O),oe!=null&&H.unshift(Gu(x,oe,se))):I||(oe=hl(x,O),oe!=null&&H.push(Gu(x,oe,se)))),x=x.return}H.length!==0&&u.push({event:f,listeners:H})}var hT=/\r\n?/g,S_=/\u0000|\uFFFD/g;function Rv(u){return(typeof u=="string"?u:""+u).replace(hT,`
`).replace(S_,"")}function Ef(u,f,x){if(f=Rv(f),Rv(u)!==f&&x)throw Error(n(425))}function Tf(){}var $u=null,kv=null;function Nv(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(u){return Hp.resolve(null).then(u).catch(w_)}:Lv;function w_(u){setTimeout(function(){throw u})}function Gp(u,f){var x=f,M=0;do{var I=x.nextSibling;if(u.removeChild(x),I&&I.nodeType===8)if(x=I.data,x==="/$"){if(M===0){u.removeChild(I),hf(f);return}M--}else x!=="$"&&x!=="$?"&&x!=="$!"||M++;x=I}while(x);hf(f)}function Ea(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function Ov(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return u;f--}else x==="/$"&&f++}u=u.previousSibling}return null}var bc=Math.random().toString(36).slice(2),Vi="__reactFiber$"+bc,qu="__reactProps$"+bc,Ms="__reactContainer$"+bc,Sc="__reactEvents$"+bc,$p="__reactListeners$"+bc,qp="__reactHandles$"+bc;function wl(u){var f=u[Vi];if(f)return f;for(var x=u.parentNode;x;){if(f=x[Ms]||x[Vi]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(u=Ov(u);u!==null;){if(x=u[Vi])return x;u=Ov(u)}return f}u=x,x=u.parentNode}return null}function Ta(u){return u=u[Vi]||u[Ms],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ei(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Xp(u){return u[qu]||null}var Fv=[],Ki=-1;function vi(u){return{current:u}}function qn(u){0>Ki||(u.current=Fv[Ki],Fv[Ki]=null,Ki--)}function Wn(u,f){Ki++,Fv[Ki]=u.current,u.current=f}var Ca={},ur=vi(Ca),Br=vi(!1),Ma=Ca;function wc(u,f){var x=u.type.contextTypes;if(!x)return Ca;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var I={},O;for(O in x)I[O]=f[O];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=I),I}function Er(u){return u=u.childContextTypes,u!=null}function Cf(){qn(Br),qn(ur)}function zv(u,f,x){if(ur.current!==Ca)throw Error(n(168));Wn(ur,f),Wn(Br,x)}function Mf(u,f,x){var M=u.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return x;M=M.getChildContext();for(var I in M)if(!(I in f))throw Error(n(108,Fe(u)||"Unknown",I));return ne({},x,M)}function Ec(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ca,Ma=ur.current,Wn(ur,u),Wn(Br,Br.current),!0}function Bv(u,f,x){var M=u.stateNode;if(!M)throw Error(n(169));x?(u=Mf(u,f,Ma),M.__reactInternalMemoizedMergedChildContext=u,qn(Br),qn(ur),Wn(ur,u)):qn(Br),Wn(Br,x)}var _o=null,Af=!1,Yp=!1;function Pf(u){_o===null?_o=[u]:_o.push(u)}function E_(u){Af=!0,Pf(u)}function Xo(){if(!Yp&&_o!==null){Yp=!0;var u=0,f=wn;try{var x=_o;for(wn=1;u<x.length;u++){var M=x[u];do M=M(!0);while(M!==null)}_o=null,Af=!1}catch(I){throw _o!==null&&(_o=_o.slice(u+1)),pe(Pt,Xo),I}finally{wn=f,Yp=!1}}return null}var Tc=[],os=0,Kp=null,Jp=0,Ur=[],Ji=0,Cc=null,Ze=1,Ks="";function Aa(u,f){Tc[os++]=Jp,Tc[os++]=Kp,Kp=u,Jp=f}function Uv(u,f,x){Ur[Ji++]=Ze,Ur[Ji++]=Ks,Ur[Ji++]=Cc,Cc=u;var M=Ze;u=Ks;var I=32-dn(M)-1;M&=~(1<<I),x+=1;var O=32-dn(f)+I;if(30<O){var H=I-I%5;O=(M&(1<<H)-1).toString(32),M>>=H,I-=H,Ze=1<<32-dn(f)+I|x<<I|M,Ks=O+u}else Ze=1<<O|x<<I|M,Ks=u}function Vv(u){u.return!==null&&(Aa(u,1),Uv(u,1,0))}function Pa(u){for(;u===Kp;)Kp=Tc[--os],Tc[os]=null,Jp=Tc[--os],Tc[os]=null;for(;u===Cc;)Cc=Ur[--Ji],Ur[Ji]=null,Ks=Ur[--Ji],Ur[Ji]=null,Ze=Ur[--Ji],Ur[Ji]=null}var dr=null,Vr=null,ei=!1,Js=null;function jv(u,f){var x=Zo(5,null,null,0);x.elementType="DELETED",x.stateNode=f,x.return=u,f=u.deletions,f===null?(u.deletions=[x],u.flags|=16):f.push(x)}function Wv(u,f){switch(u.tag){case 5:var x=u.type;return f=f.nodeType!==1||x.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,dr=u,Vr=Ea(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,dr=u,Vr=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(x=Cc!==null?{id:Ze,overflow:Ks}:null,u.memoizedState={dehydrated:f,treeContext:x,retryLane:1073741824},x=Zo(18,null,null,0),x.stateNode=f,x.return=u,u.child=x,dr=u,Vr=null,!0):!1;default:return!1}}function Qp(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Zp(u){if(ei){var f=Vr;if(f){var x=f;if(!Wv(u,f)){if(Qp(u))throw Error(n(418));f=Ea(x.nextSibling);var M=dr;f&&Wv(u,f)?jv(M,x):(u.flags=u.flags&-4097|2,ei=!1,dr=u)}}else{if(Qp(u))throw Error(n(418));u.flags=u.flags&-4097|2,ei=!1,dr=u}}}function em(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;dr=u}function Xu(u){if(u!==dr)return!1;if(!ei)return em(u),ei=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!Nv(u.type,u.memoizedProps)),f&&(f=Vr)){if(Qp(u))throw Hv(),Error(n(418));for(;f;)jv(u,f),f=Ea(f.nextSibling)}if(em(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"){if(f===0){Vr=Ea(u.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++}u=u.nextSibling}Vr=null}}else Vr=dr?Ea(u.stateNode.nextSibling):null;return!0}function Hv(){for(var u=Vr;u;)u=Ea(u.nextSibling)}function El(){Vr=dr=null,ei=!1}function Yu(u){Js===null?Js=[u]:Js.push(u)}var mT=P.ReactCurrentBatchConfig;function If(u,f,x){if(u=x.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var M=x.stateNode}if(!M)throw Error(n(147,u));var I=M,O=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===O?f.ref:(f=function(H){var se=I.refs;H===null?delete se[O]:se[O]=H},f._stringRef=O,f)}if(typeof u!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,u))}return u}function Rf(u,f){throw u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function Gv(u){var f=u._init;return f(u._payload)}function $v(u){function f(ge,le){if(u){var xe=ge.deletions;xe===null?(ge.deletions=[le],ge.flags|=16):xe.push(le)}}function x(ge,le){if(!u)return null;for(;le!==null;)f(ge,le),le=le.sibling;return null}function M(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function I(ge,le){return ge=od(ge,le),ge.index=0,ge.sibling=null,ge}function O(ge,le,xe){return ge.index=xe,u?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<le?(ge.flags|=2,le):xe):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function H(ge){return u&&ge.alternate===null&&(ge.flags|=2),ge}function se(ge,le,xe,Xe){return le===null||le.tag!==6?(le=LT(xe,ge.mode,Xe),le.return=ge,le):(le=I(le,xe),le.return=ge,le)}function oe(ge,le,xe,Xe){var Et=xe.type;return Et===D?Ve(ge,le,xe.props.children,Xe,xe.key):le!==null&&(le.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Z&&Gv(Et)===le.type)?(Xe=I(le,xe.props),Xe.ref=If(ge,le,xe),Xe.return=ge,Xe):(Xe=q_(xe.type,xe.key,xe.props,null,ge.mode,Xe),Xe.ref=If(ge,le,xe),Xe.return=ge,Xe)}function Ee(ge,le,xe,Xe){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=DT(xe,ge.mode,Xe),le.return=ge,le):(le=I(le,xe.children||[]),le.return=ge,le)}function Ve(ge,le,xe,Xe,Et){return le===null||le.tag!==7?(le=Xf(xe,ge.mode,Xe,Et),le.return=ge,le):(le=I(le,xe),le.return=ge,le)}function We(ge,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=LT(""+le,ge.mode,xe),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case k:return xe=q_(le.type,le.key,le.props,null,ge.mode,xe),xe.ref=If(ge,null,le),xe.return=ge,xe;case F:return le=DT(le,ge.mode,xe),le.return=ge,le;case Z:var Xe=le._init;return We(ge,Xe(le._payload),xe)}if(ie(le)||Q(le))return le=Xf(le,ge.mode,xe,null),le.return=ge,le;Rf(ge,le)}return null}function Ue(ge,le,xe,Xe){var Et=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Et!==null?null:se(ge,le,""+xe,Xe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case k:return xe.key===Et?oe(ge,le,xe,Xe):null;case F:return xe.key===Et?Ee(ge,le,xe,Xe):null;case Z:return Et=xe._init,Ue(ge,le,Et(xe._payload),Xe)}if(ie(xe)||Q(xe))return Et!==null?null:Ve(ge,le,xe,Xe,null);Rf(ge,xe)}return null}function ht(ge,le,xe,Xe,Et){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ge=ge.get(xe)||null,se(le,ge,""+Xe,Et);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case k:return ge=ge.get(Xe.key===null?xe:Xe.key)||null,oe(le,ge,Xe,Et);case F:return ge=ge.get(Xe.key===null?xe:Xe.key)||null,Ee(le,ge,Xe,Et);case Z:var Nt=Xe._init;return ht(ge,le,xe,Nt(Xe._payload),Et)}if(ie(Xe)||Q(Xe))return ge=ge.get(xe)||null,Ve(le,ge,Xe,Et,null);Rf(le,Xe)}return null}function xt(ge,le,xe,Xe){for(var Et=null,Nt=null,Lt=le,Ht=le=0,Ar=null;Lt!==null&&Ht<xe.length;Ht++){Lt.index>Ht?(Ar=Lt,Lt=null):Ar=Lt.sibling;var In=Ue(ge,Lt,xe[Ht],Xe);if(In===null){Lt===null&&(Lt=Ar);break}u&&Lt&&In.alternate===null&&f(ge,Lt),le=O(In,le,Ht),Nt===null?Et=In:Nt.sibling=In,Nt=In,Lt=Ar}if(Ht===xe.length)return x(ge,Lt),ei&&Aa(ge,Ht),Et;if(Lt===null){for(;Ht<xe.length;Ht++)Lt=We(ge,xe[Ht],Xe),Lt!==null&&(le=O(Lt,le,Ht),Nt===null?Et=Lt:Nt.sibling=Lt,Nt=Lt);return ei&&Aa(ge,Ht),Et}for(Lt=M(ge,Lt);Ht<xe.length;Ht++)Ar=ht(Lt,ge,Ht,xe[Ht],Xe),Ar!==null&&(u&&Ar.alternate!==null&&Lt.delete(Ar.key===null?Ht:Ar.key),le=O(Ar,le,Ht),Nt===null?Et=Ar:Nt.sibling=Ar,Nt=Ar);return u&&Lt.forEach(function(ad){return f(ge,ad)}),ei&&Aa(ge,Ht),Et}function bt(ge,le,xe,Xe){var Et=Q(xe);if(typeof Et!="function")throw Error(n(150));if(xe=Et.call(xe),xe==null)throw Error(n(151));for(var Nt=Et=null,Lt=le,Ht=le=0,Ar=null,In=xe.next();Lt!==null&&!In.done;Ht++,In=xe.next()){Lt.index>Ht?(Ar=Lt,Lt=null):Ar=Lt.sibling;var ad=Ue(ge,Lt,In.value,Xe);if(ad===null){Lt===null&&(Lt=Ar);break}u&&Lt&&ad.alternate===null&&f(ge,Lt),le=O(ad,le,Ht),Nt===null?Et=ad:Nt.sibling=ad,Nt=ad,Lt=Ar}if(In.done)return x(ge,Lt),ei&&Aa(ge,Ht),Et;if(Lt===null){for(;!In.done;Ht++,In=xe.next())In=We(ge,In.value,Xe),In!==null&&(le=O(In,le,Ht),Nt===null?Et=In:Nt.sibling=In,Nt=In);return ei&&Aa(ge,Ht),Et}for(Lt=M(ge,Lt);!In.done;Ht++,In=xe.next())In=ht(Lt,ge,Ht,In.value,Xe),In!==null&&(u&&In.alternate!==null&&Lt.delete(In.key===null?Ht:In.key),le=O(In,le,Ht),Nt===null?Et=In:Nt.sibling=In,Nt=In);return u&&Lt.forEach(function(I$){return f(ge,I$)}),ei&&Aa(ge,Ht),Et}function ji(ge,le,xe,Xe){if(typeof xe=="object"&&xe!==null&&xe.type===D&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case k:e:{for(var Et=xe.key,Nt=le;Nt!==null;){if(Nt.key===Et){if(Et=xe.type,Et===D){if(Nt.tag===7){x(ge,Nt.sibling),le=I(Nt,xe.props.children),le.return=ge,ge=le;break e}}else if(Nt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Z&&Gv(Et)===Nt.type){x(ge,Nt.sibling),le=I(Nt,xe.props),le.ref=If(ge,Nt,xe),le.return=ge,ge=le;break e}x(ge,Nt);break}else f(ge,Nt);Nt=Nt.sibling}xe.type===D?(le=Xf(xe.props.children,ge.mode,Xe,xe.key),le.return=ge,ge=le):(Xe=q_(xe.type,xe.key,xe.props,null,ge.mode,Xe),Xe.ref=If(ge,le,xe),Xe.return=ge,ge=Xe)}return H(ge);case F:e:{for(Nt=xe.key;le!==null;){if(le.key===Nt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){x(ge,le.sibling),le=I(le,xe.children||[]),le.return=ge,ge=le;break e}else{x(ge,le);break}else f(ge,le);le=le.sibling}le=DT(xe,ge.mode,Xe),le.return=ge,ge=le}return H(ge);case Z:return Nt=xe._init,ji(ge,le,Nt(xe._payload),Xe)}if(ie(xe))return xt(ge,le,xe,Xe);if(Q(xe))return bt(ge,le,xe,Xe);Rf(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,le!==null&&le.tag===6?(x(ge,le.sibling),le=I(le,xe),le.return=ge,ge=le):(x(ge,le),le=LT(xe,ge.mode,Xe),le.return=ge,ge=le),H(ge)):x(ge,le)}return ji}var Mc=$v(!0),kf=$v(!1),Ac=vi(null),Pc=null,Ia=null,Ku=null;function Ic(){Ku=Ia=Pc=null}function Nf(u){var f=Ac.current;qn(Ac),u._currentValue=f}function Lf(u,f,x){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===x)break;u=u.return}}function Tl(u,f){Pc=u,Ku=Ia=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(Zt=!0),u.firstContext=null)}function As(u){var f=u._currentValue;if(Ku!==u)if(u={context:u,memoizedValue:f,next:null},Ia===null){if(Pc===null)throw Error(n(308));Ia=u,Pc.dependencies={lanes:0,firstContext:u}}else Ia=Ia.next=u;return f}var Ra=null;function qv(u){Ra===null?Ra=[u]:Ra.push(u)}function Df(u,f,x,M){var I=f.interleaved;return I===null?(x.next=x,qv(f)):(x.next=I.next,I.next=x),f.interleaved=x,bo(u,M)}function bo(u,f){u.lanes|=f;var x=u.alternate;for(x!==null&&(x.lanes|=f),x=u,u=u.return;u!==null;)u.childLanes|=f,x=u.alternate,x!==null&&(x.childLanes|=f),x=u,u=u.return;return x.tag===3?x.stateNode:null}var Un=!1;function Qt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ti(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Vn(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function oi(u,f,x){var M=u.updateQueue;if(M===null)return null;if(M=M.shared,(Cn&2)!==0){var I=M.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),M.pending=f,bo(u,x)}return I=M.interleaved,I===null?(f.next=f,qv(M)):(f.next=I.next,I.next=f),M.interleaved=f,bo(u,x)}function Tr(u,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194240)!==0)){var M=f.lanes;M&=u.pendingLanes,x|=M,f.lanes=x,Iu(u,x)}}function Rc(u,f){var x=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var I=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var H={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};O===null?I=O=H:O=O.next=H,x=x.next}while(x!==null);O===null?I=O=f:O=O.next=f}else I=O=f;x={baseState:M.baseState,firstBaseUpdate:I,lastBaseUpdate:O,shared:M.shared,effects:M.effects},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=f}function yi(u,f,x,M){var I=u.updateQueue;Un=!1;var O=I.firstBaseUpdate,H=I.lastBaseUpdate,se=I.shared.pending;if(se!==null){I.shared.pending=null;var oe=se,Ee=oe.next;oe.next=null,H===null?O=Ee:H.next=Ee,H=oe;var Ve=u.alternate;Ve!==null&&(Ve=Ve.updateQueue,se=Ve.lastBaseUpdate,se!==H&&(se===null?Ve.firstBaseUpdate=Ee:se.next=Ee,Ve.lastBaseUpdate=oe))}if(O!==null){var We=I.baseState;H=0,Ve=Ee=oe=null,se=O;do{var Ue=se.lane,ht=se.eventTime;if((M&Ue)===Ue){Ve!==null&&(Ve=Ve.next={eventTime:ht,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var xt=u,bt=se;switch(Ue=f,ht=x,bt.tag){case 1:if(xt=bt.payload,typeof xt=="function"){We=xt.call(ht,We,Ue);break e}We=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=bt.payload,Ue=typeof xt=="function"?xt.call(ht,We,Ue):xt,Ue==null)break e;We=ne({},We,Ue);break e;case 2:Un=!0}}se.callback!==null&&se.lane!==0&&(u.flags|=64,Ue=I.effects,Ue===null?I.effects=[se]:Ue.push(se))}else ht={eventTime:ht,lane:Ue,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Ve===null?(Ee=Ve=ht,oe=We):Ve=Ve.next=ht,H|=Ue;if(se=se.next,se===null){if(se=I.shared.pending,se===null)break;Ue=se,se=Ue.next,Ue.next=null,I.lastBaseUpdate=Ue,I.shared.pending=null}}while(!0);if(Ve===null&&(oe=We),I.baseState=oe,I.firstBaseUpdate=Ee,I.lastBaseUpdate=Ve,f=I.shared.interleaved,f!==null){I=f;do H|=I.lane,I=I.next;while(I!==f)}else O===null&&(I.shared.lanes=0);Hf|=H,u.lanes=H,u.memoizedState=We}}function Ju(u,f,x){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var M=u[f],I=M.callback;if(I!==null){if(M.callback=null,M=x,typeof I!="function")throw Error(n(191,I));I.call(M)}}}var Yo={},Ps=vi(Yo),kc=vi(Yo),ka=vi(Yo);function Ni(u){if(u===Yo)throw Error(n(174));return u}function Of(u,f){switch(Wn(ka,f),Wn(kc,u),Wn(Ps,Yo),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:nt(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=nt(f,u)}qn(Ps),Wn(Ps,f)}function Cl(){qn(Ps),qn(kc),qn(ka)}function Nc(u){Ni(ka.current);var f=Ni(Ps.current),x=nt(f,u.type);f!==x&&(Wn(kc,u),Wn(Ps,x))}function Qu(u){kc.current===u&&(qn(Ps),qn(kc))}var ti=vi(0);function So(u){for(var f=u;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Zu=[];function Ko(){for(var u=0;u<Zu.length;u++)Zu[u]._workInProgressVersionPrimary=null;Zu.length=0}var Lc=P.ReactCurrentDispatcher,Dc=P.ReactCurrentBatchConfig,Na=0,Xn=null,xi=null,En=null,wo=!1,Cr=!1,Ml=0,as=0;function fr(){throw Error(n(321))}function Ff(u,f){if(f===null)return!1;for(var x=0;x<f.length&&x<u.length;x++)if(!Ts(u[x],f[x]))return!1;return!0}function zf(u,f,x,M,I,O){if(Na=O,Xn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Lc.current=u===null||u.memoizedState===null?R_:k_,u=x(M,I),Cr){O=0;do{if(Cr=!1,Ml=0,25<=O)throw Error(n(301));O+=1,En=xi=null,f.updateQueue=null,Lc.current=N_,u=x(M,I)}while(Cr)}if(Lc.current=am,f=xi!==null&&xi.next!==null,Na=0,En=xi=Xn=null,wo=!1,f)throw Error(n(300));return u}function Xv(){var u=Ml!==0;return Ml=0,u}function hr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Xn.memoizedState=En=u:En=En.next=u,En}function Is(){if(xi===null){var u=Xn.alternate;u=u!==null?u.memoizedState:null}else u=xi.next;var f=En===null?Xn.memoizedState:En.next;if(f!==null)En=f,xi=u;else{if(u===null)throw Error(n(310));xi=u,u={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},En===null?Xn.memoizedState=En=u:En=En.next=u}return En}function ed(u,f){return typeof f=="function"?f(u):f}function Bf(u){var f=Is(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=u;var M=xi,I=M.baseQueue,O=x.pending;if(O!==null){if(I!==null){var H=I.next;I.next=O.next,O.next=H}M.baseQueue=I=O,x.pending=null}if(I!==null){O=I.next,M=M.baseState;var se=H=null,oe=null,Ee=O;do{var Ve=Ee.lane;if((Na&Ve)===Ve)oe!==null&&(oe=oe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),M=Ee.hasEagerState?Ee.eagerState:u(M,Ee.action);else{var We={lane:Ve,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};oe===null?(se=oe=We,H=M):oe=oe.next=We,Xn.lanes|=Ve,Hf|=Ve}Ee=Ee.next}while(Ee!==null&&Ee!==O);oe===null?H=M:oe.next=se,Ts(M,f.memoizedState)||(Zt=!0),f.memoizedState=M,f.baseState=H,f.baseQueue=oe,x.lastRenderedState=M}if(u=x.interleaved,u!==null){I=u;do O=I.lane,Xn.lanes|=O,Hf|=O,I=I.next;while(I!==u)}else I===null&&(x.lanes=0);return[f.memoizedState,x.dispatch]}function La(u){var f=Is(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=u;var M=x.dispatch,I=x.pending,O=f.memoizedState;if(I!==null){x.pending=null;var H=I=I.next;do O=u(O,H.action),H=H.next;while(H!==I);Ts(O,f.memoizedState)||(Zt=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),x.lastRenderedState=O}return[O,M]}function Yv(){}function Kv(u,f){var x=Xn,M=Is(),I=f(),O=!Ts(M.memoizedState,I);if(O&&(M.memoizedState=I,Zt=!0),M=M.queue,Zv(T_.bind(null,x,M,u),[u]),M.getSnapshot!==f||O||En!==null&&En.memoizedState.tag&1){if(x.flags|=2048,Eo(9,Uf.bind(null,x,M,I,f),void 0,null),Mr===null)throw Error(n(349));(Na&30)!==0||tm(x,f,I)}return I}function tm(u,f,x){u.flags|=16384,u={getSnapshot:f,value:x},f=Xn.updateQueue,f===null?(f={lastEffect:null,stores:null},Xn.updateQueue=f,f.stores=[u]):(x=f.stores,x===null?f.stores=[u]:x.push(u))}function Uf(u,f,x,M){f.value=x,f.getSnapshot=M,C_(f)&&Jv(u)}function T_(u,f,x){return x(function(){C_(f)&&Jv(u)})}function C_(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!Ts(u,x)}catch{return!0}}function Jv(u){var f=bo(u,1);f!==null&&Ba(f,u,1,-1)}function Qv(u){var f=hr();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:u},f.queue=u,u=u.dispatch=Oc.bind(null,Xn,u),[f.memoizedState,u]}function Eo(u,f,x,M){return u={tag:u,create:f,destroy:x,deps:M,next:null},f=Xn.updateQueue,f===null?(f={lastEffect:null,stores:null},Xn.updateQueue=f,f.lastEffect=u.next=u):(x=f.lastEffect,x===null?f.lastEffect=u.next=u:(M=x.next,x.next=u,u.next=M,f.lastEffect=u)),u}function M_(){return Is().memoizedState}function Jo(u,f,x,M){var I=hr();Xn.flags|=u,I.memoizedState=Eo(1|f,x,void 0,M===void 0?null:M)}function Vf(u,f,x,M){var I=Is();M=M===void 0?null:M;var O=void 0;if(xi!==null){var H=xi.memoizedState;if(O=H.destroy,M!==null&&Ff(M,H.deps)){I.memoizedState=Eo(f,x,O,M);return}}Xn.flags|=u,I.memoizedState=Eo(1|f,x,O,M)}function jr(u,f){return Jo(8390656,8,u,f)}function Zv(u,f){return Vf(2048,8,u,f)}function ey(u,f){return Vf(4,2,u,f)}function A_(u,f){return Vf(4,4,u,f)}function P_(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function ty(u,f,x){return x=x!=null?x.concat([u]):null,Vf(4,4,P_.bind(null,f,u),x)}function nm(){}function I_(u,f){var x=Is();f=f===void 0?null:f;var M=x.memoizedState;return M!==null&&f!==null&&Ff(f,M[1])?M[0]:(x.memoizedState=[u,f],u)}function Rs(u,f){var x=Is();f=f===void 0?null:f;var M=x.memoizedState;return M!==null&&f!==null&&Ff(f,M[1])?M[0]:(u=u(),x.memoizedState=[u,f],u)}function im(u,f,x){return(Na&21)===0?(u.baseState&&(u.baseState=!1,Zt=!0),u.memoizedState=x):(Ts(x,f)||(x=ns(),Xn.lanes|=x,Hf|=x,u.baseState=!0),f)}function gT(u,f){var x=wn;wn=x!==0&&4>x?x:4,u(!0);var M=Dc.transition;Dc.transition={};try{u(!1),f()}finally{wn=x,Dc.transition=M}}function Da(){return Is().memoizedState}function rm(u,f,x){var M=rd(u);if(x={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null},jf(u))sm(f,x);else if(x=Df(u,f,x,M),x!==null){var I=Ns();Ba(x,u,M,I),om(x,f,M)}}function Oc(u,f,x){var M=rd(u),I={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null};if(jf(u))sm(f,I);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var H=f.lastRenderedState,se=O(H,x);if(I.hasEagerState=!0,I.eagerState=se,Ts(se,H)){var oe=f.interleaved;oe===null?(I.next=I,qv(f)):(I.next=oe.next,oe.next=I),f.interleaved=I;return}}catch{}finally{}x=Df(u,f,I,M),x!==null&&(I=Ns(),Ba(x,u,M,I),om(x,f,M))}}function jf(u){var f=u.alternate;return u===Xn||f!==null&&f===Xn}function sm(u,f){Cr=wo=!0;var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}function om(u,f,x){if((x&4194240)!==0){var M=f.lanes;M&=u.pendingLanes,x|=M,f.lanes=x,Iu(u,x)}}var am={readContext:As,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},R_={readContext:As,useCallback:function(u,f){return hr().memoizedState=[u,f===void 0?null:f],u},useContext:As,useEffect:jr,useImperativeHandle:function(u,f,x){return x=x!=null?x.concat([u]):null,Jo(4194308,4,P_.bind(null,f,u),x)},useLayoutEffect:function(u,f){return Jo(4194308,4,u,f)},useInsertionEffect:function(u,f){return Jo(4,2,u,f)},useMemo:function(u,f){var x=hr();return f=f===void 0?null:f,u=u(),x.memoizedState=[u,f],u},useReducer:function(u,f,x){var M=hr();return f=x!==void 0?x(f):f,M.memoizedState=M.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},M.queue=u,u=u.dispatch=rm.bind(null,Xn,u),[M.memoizedState,u]},useRef:function(u){var f=hr();return u={current:u},f.memoizedState=u},useState:Qv,useDebugValue:nm,useDeferredValue:function(u){return hr().memoizedState=u},useTransition:function(){var u=Qv(!1),f=u[0];return u=gT.bind(null,u[1]),hr().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,x){var M=Xn,I=hr();if(ei){if(x===void 0)throw Error(n(407));x=x()}else{if(x=f(),Mr===null)throw Error(n(349));(Na&30)!==0||tm(M,f,x)}I.memoizedState=x;var O={value:x,getSnapshot:f};return I.queue=O,jr(T_.bind(null,M,O,u),[u]),M.flags|=2048,Eo(9,Uf.bind(null,M,O,x,f),void 0,null),x},useId:function(){var u=hr(),f=Mr.identifierPrefix;if(ei){var x=Ks,M=Ze;x=(M&~(1<<32-dn(M)-1)).toString(32)+x,f=":"+f+"R"+x,x=Ml++,0<x&&(f+="H"+x.toString(32)),f+=":"}else x=as++,f=":"+f+"r"+x.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},k_={readContext:As,useCallback:I_,useContext:As,useEffect:Zv,useImperativeHandle:ty,useInsertionEffect:ey,useLayoutEffect:A_,useMemo:Rs,useReducer:Bf,useRef:M_,useState:function(){return Bf(ed)},useDebugValue:nm,useDeferredValue:function(u){var f=Is();return im(f,xi.memoizedState,u)},useTransition:function(){var u=Bf(ed)[0],f=Is().memoizedState;return[u,f]},useMutableSource:Yv,useSyncExternalStore:Kv,useId:Da,unstable_isNewReconciler:!1},N_={readContext:As,useCallback:I_,useContext:As,useEffect:Zv,useImperativeHandle:ty,useInsertionEffect:ey,useLayoutEffect:A_,useMemo:Rs,useReducer:La,useRef:M_,useState:function(){return La(ed)},useDebugValue:nm,useDeferredValue:function(u){var f=Is();return xi===null?f.memoizedState=u:im(f,xi.memoizedState,u)},useTransition:function(){var u=La(ed)[0],f=Is().memoizedState;return[u,f]},useMutableSource:Yv,useSyncExternalStore:Kv,useId:Da,unstable_isNewReconciler:!1};function Qs(u,f){if(u&&u.defaultProps){f=ne({},f),u=u.defaultProps;for(var x in u)f[x]===void 0&&(f[x]=u[x]);return f}return f}function Wf(u,f,x,M){f=u.memoizedState,x=x(M,f),x=x==null?f:ne({},f,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var lm={isMounted:function(u){return(u=u._reactInternals)?ga(u)===u:!1},enqueueSetState:function(u,f,x){u=u._reactInternals;var M=Ns(),I=rd(u),O=Vn(M,I);O.payload=f,x!=null&&(O.callback=x),f=oi(u,O,I),f!==null&&(Ba(f,u,I,M),Tr(f,u,I))},enqueueReplaceState:function(u,f,x){u=u._reactInternals;var M=Ns(),I=rd(u),O=Vn(M,I);O.tag=1,O.payload=f,x!=null&&(O.callback=x),f=oi(u,O,I),f!==null&&(Ba(f,u,I,M),Tr(f,u,I))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var x=Ns(),M=rd(u),I=Vn(x,M);I.tag=2,f!=null&&(I.callback=f),f=oi(u,I,M),f!==null&&(Ba(f,u,M,x),Tr(f,u,M))}};function L_(u,f,x,M,I,O,H){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,O,H):f.prototype&&f.prototype.isPureReactComponent?!vc(x,M)||!vc(I,O):!0}function m(u,f,x){var M=!1,I=Ca,O=f.contextType;return typeof O=="object"&&O!==null?O=As(O):(I=Er(f)?Ma:ur.current,M=f.contextTypes,O=(M=M!=null)?wc(u,I):Ca),f=new f(x,O),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lm,u.stateNode=f,f._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=I,u.__reactInternalMemoizedMaskedChildContext=O),f}function g(u,f,x,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,M),f.state!==u&&lm.enqueueReplaceState(f,f.state,null)}function C(u,f,x,M){var I=u.stateNode;I.props=x,I.state=u.memoizedState,I.refs={},Qt(u);var O=f.contextType;typeof O=="object"&&O!==null?I.context=As(O):(O=Er(f)?Ma:ur.current,I.context=wc(u,O)),I.state=u.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(Wf(u,f,O,x),I.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(f=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),f!==I.state&&lm.enqueueReplaceState(I,I.state,null),yi(u,x,I,M),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308)}function A(u,f){try{var x="",M=f;do x+=ve(M),M=M.return;while(M);var I=x}catch(O){I=`
Error generating stack: `+O.message+`
`+O.stack}return{value:u,source:f,stack:I,digest:null}}function L(u,f,x){return{value:u,source:null,stack:x??null,digest:f??null}}function V(u,f){try{console.error(f.value)}catch(x){setTimeout(function(){throw x})}}var re=typeof WeakMap=="function"?WeakMap:Map;function ce(u,f,x){x=Vn(-1,x),x.tag=3,x.payload={element:null};var M=f.value;return x.callback=function(){V_||(V_=!0,CT=M),V(u,f)},x}function Me(u,f,x){x=Vn(-1,x),x.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var I=f.value;x.payload=function(){return M(I)},x.callback=function(){V(u,f)}}var O=u.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(x.callback=function(){V(u,f),typeof M!="function"&&(nd===null?nd=new Set([this]):nd.add(this));var H=f.stack;this.componentDidCatch(f.value,{componentStack:H!==null?H:""})}),x}function Ge(u,f,x){var M=u.pingCache;if(M===null){M=u.pingCache=new re;var I=new Set;M.set(f,I)}else I=M.get(f),I===void 0&&(I=new Set,M.set(f,I));I.has(x)||(I.add(x),u=x$.bind(null,u,f,x),f.then(u,u))}function mt(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function Gt(u,f,x,M,I){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(f=Vn(-1,1),f.tag=2,oi(x,f,1))),x.lanes|=1),u):(u.flags|=65536,u.lanes=I,u)}var It=P.ReactCurrentOwner,Zt=!1;function dt(u,f,x,M){f.child=u===null?kf(f,null,x,M):Mc(f,u.child,x,M)}function pr(u,f,x,M,I){x=x.render;var O=f.ref;return Tl(f,I),M=zf(u,f,x,M,O,I),x=Xv(),u!==null&&!Zt?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~I,Fc(u,f,I)):(ei&&x&&Vv(f),f.flags|=1,dt(u,f,M,I),f.child)}function ks(u,f,x,M,I){if(u===null){var O=x.type;return typeof O=="function"&&!NT(O)&&O.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(f.tag=15,f.type=O,_e(u,f,O,M,I)):(u=q_(x.type,null,M,f,f.mode,I),u.ref=f.ref,u.return=f,f.child=u)}if(O=u.child,(u.lanes&I)===0){var H=O.memoizedProps;if(x=x.compare,x=x!==null?x:vc,x(H,M)&&u.ref===f.ref)return Fc(u,f,I)}return f.flags|=1,u=od(O,M),u.ref=f.ref,u.return=f,f.child=u}function _e(u,f,x,M,I){if(u!==null){var O=u.memoizedProps;if(vc(O,M)&&u.ref===f.ref)if(Zt=!1,f.pendingProps=M=O,(u.lanes&I)!==0)(u.flags&131072)!==0&&(Zt=!0);else return f.lanes=u.lanes,Fc(u,f,I)}return st(u,f,x,M,I)}function fe(u,f,x){var M=f.pendingProps,I=M.children,O=u!==null?u.memoizedState:null;if(M.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(um,To),To|=x;else{if((x&1073741824)===0)return u=O!==null?O.baseLanes|x:x,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,Wn(um,To),To|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=O!==null?O.baseLanes:x,Wn(um,To),To|=M}else O!==null?(M=O.baseLanes|x,f.memoizedState=null):M=x,Wn(um,To),To|=M;return dt(u,f,I,x),f.child}function Te(u,f){var x=f.ref;(u===null&&x!==null||u!==null&&u.ref!==x)&&(f.flags|=512,f.flags|=2097152)}function st(u,f,x,M,I){var O=Er(x)?Ma:ur.current;return O=wc(f,O),Tl(f,I),x=zf(u,f,x,M,O,I),M=Xv(),u!==null&&!Zt?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~I,Fc(u,f,I)):(ei&&M&&Vv(f),f.flags|=1,dt(u,f,x,I),f.child)}function St(u,f,x,M,I){if(Er(x)){var O=!0;Ec(f)}else O=!1;if(Tl(f,I),f.stateNode===null)O_(u,f),m(f,x,M),C(f,x,M,I),M=!0;else if(u===null){var H=f.stateNode,se=f.memoizedProps;H.props=se;var oe=H.context,Ee=x.contextType;typeof Ee=="object"&&Ee!==null?Ee=As(Ee):(Ee=Er(x)?Ma:ur.current,Ee=wc(f,Ee));var Ve=x.getDerivedStateFromProps,We=typeof Ve=="function"||typeof H.getSnapshotBeforeUpdate=="function";We||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==M||oe!==Ee)&&g(f,H,M,Ee),Un=!1;var Ue=f.memoizedState;H.state=Ue,yi(f,M,H,I),oe=f.memoizedState,se!==M||Ue!==oe||Br.current||Un?(typeof Ve=="function"&&(Wf(f,x,Ve,M),oe=f.memoizedState),(se=Un||L_(f,x,se,M,Ue,oe,Ee))?(We||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(f.flags|=4194308)):(typeof H.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=oe),H.props=M,H.state=oe,H.context=Ee,M=se):(typeof H.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{H=f.stateNode,Ti(u,f),se=f.memoizedProps,Ee=f.type===f.elementType?se:Qs(f.type,se),H.props=Ee,We=f.pendingProps,Ue=H.context,oe=x.contextType,typeof oe=="object"&&oe!==null?oe=As(oe):(oe=Er(x)?Ma:ur.current,oe=wc(f,oe));var ht=x.getDerivedStateFromProps;(Ve=typeof ht=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==We||Ue!==oe)&&g(f,H,M,oe),Un=!1,Ue=f.memoizedState,H.state=Ue,yi(f,M,H,I);var xt=f.memoizedState;se!==We||Ue!==xt||Br.current||Un?(typeof ht=="function"&&(Wf(f,x,ht,M),xt=f.memoizedState),(Ee=Un||L_(f,x,Ee,M,Ue,xt,oe)||!1)?(Ve||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(M,xt,oe),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(M,xt,oe)),typeof H.componentDidUpdate=="function"&&(f.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof H.componentDidUpdate!="function"||se===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=xt),H.props=M,H.state=xt,H.context=oe,M=Ee):(typeof H.componentDidUpdate!="function"||se===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=1024),M=!1)}return Yt(u,f,x,M,O,I)}function Yt(u,f,x,M,I,O){Te(u,f);var H=(f.flags&128)!==0;if(!M&&!H)return I&&Bv(f,x,!1),Fc(u,f,O);M=f.stateNode,It.current=f;var se=H&&typeof x.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,u!==null&&H?(f.child=Mc(f,u.child,null,O),f.child=Mc(f,null,se,O)):dt(u,f,se,O),f.memoizedState=M.state,I&&Bv(f,x,!0),f.child}function $t(u){var f=u.stateNode;f.pendingContext?zv(u,f.pendingContext,f.pendingContext!==f.context):f.context&&zv(u,f.context,!1),Of(u,f.containerInfo)}function _n(u,f,x,M,I){return El(),Yu(I),f.flags|=256,dt(u,f,x,M),f.child}var Li={dehydrated:null,treeContext:null,retryLane:0};function xn(u){return{baseLanes:u,cachePool:null,transitions:null}}function Oa(u,f,x){var M=f.pendingProps,I=ti.current,O=!1,H=(f.flags&128)!==0,se;if((se=H)||(se=u!==null&&u.memoizedState===null?!1:(I&2)!==0),se?(O=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(I|=1),Wn(ti,I&1),u===null)return Zp(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(H=M.children,u=M.fallback,O?(M=f.mode,O=f.child,H={mode:"hidden",children:H},(M&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=H):O=X_(H,M,0,null),u=Xf(u,M,x,null),O.return=f,u.return=f,O.sibling=u,f.child=O,f.child.memoizedState=xn(x),f.memoizedState=Li,u):ny(f,H));if(I=u.memoizedState,I!==null&&(se=I.dehydrated,se!==null))return a$(u,f,H,M,se,I,x);if(O){O=M.fallback,H=f.mode,I=u.child,se=I.sibling;var oe={mode:"hidden",children:M.children};return(H&1)===0&&f.child!==I?(M=f.child,M.childLanes=0,M.pendingProps=oe,f.deletions=null):(M=od(I,oe),M.subtreeFlags=I.subtreeFlags&14680064),se!==null?O=od(se,O):(O=Xf(O,H,x,null),O.flags|=2),O.return=f,M.return=f,M.sibling=O,f.child=M,M=O,O=f.child,H=u.child.memoizedState,H=H===null?xn(x):{baseLanes:H.baseLanes|x,cachePool:null,transitions:H.transitions},O.memoizedState=H,O.childLanes=u.childLanes&~x,f.memoizedState=Li,M}return O=u.child,u=O.sibling,M=od(O,{mode:"visible",children:M.children}),(f.mode&1)===0&&(M.lanes=x),M.return=f,M.sibling=null,u!==null&&(x=f.deletions,x===null?(f.deletions=[u],f.flags|=16):x.push(u)),f.child=M,f.memoizedState=null,M}function ny(u,f){return f=X_({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function D_(u,f,x,M){return M!==null&&Yu(M),Mc(f,u.child,null,x),u=ny(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function a$(u,f,x,M,I,O,H){if(x)return f.flags&256?(f.flags&=-257,M=L(Error(n(422))),D_(u,f,H,M)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(O=M.fallback,I=f.mode,M=X_({mode:"visible",children:M.children},I,0,null),O=Xf(O,I,H,null),O.flags|=2,M.return=f,O.return=f,M.sibling=O,f.child=M,(f.mode&1)!==0&&Mc(f,u.child,null,H),f.child.memoizedState=xn(H),f.memoizedState=Li,O);if((f.mode&1)===0)return D_(u,f,H,null);if(I.data==="$!"){if(M=I.nextSibling&&I.nextSibling.dataset,M)var se=M.dgst;return M=se,O=Error(n(419)),M=L(O,M,void 0),D_(u,f,H,M)}if(se=(H&u.childLanes)!==0,Zt||se){if(M=Mr,M!==null){switch(H&-H){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(M.suspendedLanes|H))!==0?0:I,I!==0&&I!==O.retryLane&&(O.retryLane=I,bo(u,I),Ba(M,u,I,-1))}return kT(),M=L(Error(n(421))),D_(u,f,H,M)}return I.data==="$?"?(f.flags|=128,f.child=u.child,f=_$.bind(null,u),I._reactRetry=f,null):(u=O.treeContext,Vr=Ea(I.nextSibling),dr=f,ei=!0,Js=null,u!==null&&(Ur[Ji++]=Ze,Ur[Ji++]=Ks,Ur[Ji++]=Cc,Ze=u.id,Ks=u.overflow,Cc=f),f=ny(f,M.children),f.flags|=4096,f)}function Nk(u,f,x){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),Lf(u.return,f,x)}function vT(u,f,x,M,I){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:I}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=M,O.tail=x,O.tailMode=I)}function Lk(u,f,x){var M=f.pendingProps,I=M.revealOrder,O=M.tail;if(dt(u,f,M.children,x),M=ti.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Nk(u,x,f);else if(u.tag===19)Nk(u,x,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(Wn(ti,M),(f.mode&1)===0)f.memoizedState=null;else switch(I){case"forwards":for(x=f.child,I=null;x!==null;)u=x.alternate,u!==null&&So(u)===null&&(I=x),x=x.sibling;x=I,x===null?(I=f.child,f.child=null):(I=x.sibling,x.sibling=null),vT(f,!1,I,x,O);break;case"backwards":for(x=null,I=f.child,f.child=null;I!==null;){if(u=I.alternate,u!==null&&So(u)===null){f.child=I;break}u=I.sibling,I.sibling=x,x=I,I=u}vT(f,!0,x,null,O);break;case"together":vT(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function O_(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Fc(u,f,x){if(u!==null&&(f.dependencies=u.dependencies),Hf|=f.lanes,(x&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,x=od(u,u.pendingProps),f.child=x,x.return=f;u.sibling!==null;)u=u.sibling,x=x.sibling=od(u,u.pendingProps),x.return=f;x.sibling=null}return f.child}function l$(u,f,x){switch(f.tag){case 3:$t(f),El();break;case 5:Nc(f);break;case 1:Er(f.type)&&Ec(f);break;case 4:Of(f,f.stateNode.containerInfo);break;case 10:var M=f.type._context,I=f.memoizedProps.value;Wn(Ac,M._currentValue),M._currentValue=I;break;case 13:if(M=f.memoizedState,M!==null)return M.dehydrated!==null?(Wn(ti,ti.current&1),f.flags|=128,null):(x&f.child.childLanes)!==0?Oa(u,f,x):(Wn(ti,ti.current&1),u=Fc(u,f,x),u!==null?u.sibling:null);Wn(ti,ti.current&1);break;case 19:if(M=(x&f.childLanes)!==0,(u.flags&128)!==0){if(M)return Lk(u,f,x);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Wn(ti,ti.current),M)break;return null;case 22:case 23:return f.lanes=0,fe(u,f,x)}return Fc(u,f,x)}var Dk,yT,Ok,Fk;Dk=function(u,f){for(var x=f.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},yT=function(){},Ok=function(u,f,x,M){var I=u.memoizedProps;if(I!==M){u=f.stateNode,Ni(Ps.current);var O=null;switch(x){case"input":I=Be(u,I),M=Be(u,M),O=[];break;case"select":I=ne({},I,{value:void 0}),M=ne({},M,{value:void 0}),O=[];break;case"textarea":I=be(u,I),M=be(u,M),O=[];break;default:typeof I.onClick!="function"&&typeof M.onClick=="function"&&(u.onclick=Tf)}Xt(x,M);var H;x=null;for(Ee in I)if(!M.hasOwnProperty(Ee)&&I.hasOwnProperty(Ee)&&I[Ee]!=null)if(Ee==="style"){var se=I[Ee];for(H in se)se.hasOwnProperty(H)&&(x||(x={}),x[H]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(r.hasOwnProperty(Ee)?O||(O=[]):(O=O||[]).push(Ee,null));for(Ee in M){var oe=M[Ee];if(se=I!=null?I[Ee]:void 0,M.hasOwnProperty(Ee)&&oe!==se&&(oe!=null||se!=null))if(Ee==="style")if(se){for(H in se)!se.hasOwnProperty(H)||oe&&oe.hasOwnProperty(H)||(x||(x={}),x[H]="");for(H in oe)oe.hasOwnProperty(H)&&se[H]!==oe[H]&&(x||(x={}),x[H]=oe[H])}else x||(O||(O=[]),O.push(Ee,x)),x=oe;else Ee==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,se=se?se.__html:void 0,oe!=null&&se!==oe&&(O=O||[]).push(Ee,oe)):Ee==="children"?typeof oe!="string"&&typeof oe!="number"||(O=O||[]).push(Ee,""+oe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ee)?(oe!=null&&Ee==="onScroll"&&$n("scroll",u),O||se===oe||(O=[])):(O=O||[]).push(Ee,oe))}x&&(O=O||[]).push("style",x);var Ee=O;(f.updateQueue=Ee)&&(f.flags|=4)}},Fk=function(u,f,x,M){x!==M&&(f.flags|=4)};function iy(u,f){if(!ei)switch(u.tailMode){case"hidden":f=u.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function ls(u){var f=u.alternate!==null&&u.alternate.child===u.child,x=0,M=0;if(f)for(var I=u.child;I!==null;)x|=I.lanes|I.childLanes,M|=I.subtreeFlags&14680064,M|=I.flags&14680064,I.return=u,I=I.sibling;else for(I=u.child;I!==null;)x|=I.lanes|I.childLanes,M|=I.subtreeFlags,M|=I.flags,I.return=u,I=I.sibling;return u.subtreeFlags|=M,u.childLanes=x,f}function c$(u,f,x){var M=f.pendingProps;switch(Pa(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ls(f),null;case 1:return Er(f.type)&&Cf(),ls(f),null;case 3:return M=f.stateNode,Cl(),qn(Br),qn(ur),Ko(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Xu(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Js!==null&&(PT(Js),Js=null))),yT(u,f),ls(f),null;case 5:Qu(f);var I=Ni(ka.current);if(x=f.type,u!==null&&f.stateNode!=null)Ok(u,f,x,M,I),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(n(166));return ls(f),null}if(u=Ni(Ps.current),Xu(f)){M=f.stateNode,x=f.type;var O=f.memoizedProps;switch(M[Vi]=f,M[qu]=O,u=(f.mode&1)!==0,x){case"dialog":$n("cancel",M),$n("close",M);break;case"iframe":case"object":case"embed":$n("load",M);break;case"video":case"audio":for(I=0;I<Sl.length;I++)$n(Sl[I],M);break;case"source":$n("error",M);break;case"img":case"image":case"link":$n("error",M),$n("load",M);break;case"details":$n("toggle",M);break;case"input":et(M,O),$n("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!O.multiple},$n("invalid",M);break;case"textarea":ke(M,O),$n("invalid",M)}Xt(x,O),I=null;for(var H in O)if(O.hasOwnProperty(H)){var se=O[H];H==="children"?typeof se=="string"?M.textContent!==se&&(O.suppressHydrationWarning!==!0&&Ef(M.textContent,se,u),I=["children",se]):typeof se=="number"&&M.textContent!==""+se&&(O.suppressHydrationWarning!==!0&&Ef(M.textContent,se,u),I=["children",""+se]):r.hasOwnProperty(H)&&se!=null&&H==="onScroll"&&$n("scroll",M)}switch(x){case"input":at(M),tt(M,O,!0);break;case"textarea":at(M),ze(M);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(M.onclick=Tf)}M=I,f.updateQueue=M,M!==null&&(f.flags|=4)}else{H=I.nodeType===9?I:I.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Mt(x)),u==="http://www.w3.org/1999/xhtml"?x==="script"?(u=H.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof M.is=="string"?u=H.createElement(x,{is:M.is}):(u=H.createElement(x),x==="select"&&(H=u,M.multiple?H.multiple=!0:M.size&&(H.size=M.size))):u=H.createElementNS(u,x),u[Vi]=f,u[qu]=M,Dk(u,f,!1,!1),f.stateNode=u;e:{switch(H=Bn(x,M),x){case"dialog":$n("cancel",u),$n("close",u),I=M;break;case"iframe":case"object":case"embed":$n("load",u),I=M;break;case"video":case"audio":for(I=0;I<Sl.length;I++)$n(Sl[I],u);I=M;break;case"source":$n("error",u),I=M;break;case"img":case"image":case"link":$n("error",u),$n("load",u),I=M;break;case"details":$n("toggle",u),I=M;break;case"input":et(u,M),I=Be(u,M),$n("invalid",u);break;case"option":I=M;break;case"select":u._wrapperState={wasMultiple:!!M.multiple},I=ne({},M,{value:void 0}),$n("invalid",u);break;case"textarea":ke(u,M),I=be(u,M),$n("invalid",u);break;default:I=M}Xt(x,I),se=I;for(O in se)if(se.hasOwnProperty(O)){var oe=se[O];O==="style"?pt(u,oe):O==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&jt(u,oe)):O==="children"?typeof oe=="string"?(x!=="textarea"||oe!=="")&&He(u,oe):typeof oe=="number"&&He(u,""+oe):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(r.hasOwnProperty(O)?oe!=null&&O==="onScroll"&&$n("scroll",u):oe!=null&&T(u,O,oe,H))}switch(x){case"input":at(u),tt(u,M,!1);break;case"textarea":at(u),ze(u);break;case"option":M.value!=null&&u.setAttribute("value",""+me(M.value));break;case"select":u.multiple=!!M.multiple,O=M.value,O!=null?$(u,!!M.multiple,O,!1):M.defaultValue!=null&&$(u,!!M.multiple,M.defaultValue,!0);break;default:typeof I.onClick=="function"&&(u.onclick=Tf)}switch(x){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ls(f),null;case 6:if(u&&f.stateNode!=null)Fk(u,f,u.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(n(166));if(x=Ni(ka.current),Ni(Ps.current),Xu(f)){if(M=f.stateNode,x=f.memoizedProps,M[Vi]=f,(O=M.nodeValue!==x)&&(u=dr,u!==null))switch(u.tag){case 3:Ef(M.nodeValue,x,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Ef(M.nodeValue,x,(u.mode&1)!==0)}O&&(f.flags|=4)}else M=(x.nodeType===9?x:x.ownerDocument).createTextNode(M),M[Vi]=f,f.stateNode=M}return ls(f),null;case 13:if(qn(ti),M=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(ei&&Vr!==null&&(f.mode&1)!==0&&(f.flags&128)===0)Hv(),El(),f.flags|=98560,O=!1;else if(O=Xu(f),M!==null&&M.dehydrated!==null){if(u===null){if(!O)throw Error(n(318));if(O=f.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Vi]=f}else El(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ls(f),O=!1}else Js!==null&&(PT(Js),Js=null),O=!0;if(!O)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=x,f):(M=M!==null,M!==(u!==null&&u.memoizedState!==null)&&M&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(ti.current&1)!==0?mr===0&&(mr=3):kT())),f.updateQueue!==null&&(f.flags|=4),ls(f),null);case 4:return Cl(),yT(u,f),u===null&&Hu(f.stateNode.containerInfo),ls(f),null;case 10:return Nf(f.type._context),ls(f),null;case 17:return Er(f.type)&&Cf(),ls(f),null;case 19:if(qn(ti),O=f.memoizedState,O===null)return ls(f),null;if(M=(f.flags&128)!==0,H=O.rendering,H===null)if(M)iy(O,!1);else{if(mr!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(H=So(u),H!==null){for(f.flags|=128,iy(O,!1),M=H.updateQueue,M!==null&&(f.updateQueue=M,f.flags|=4),f.subtreeFlags=0,M=x,x=f.child;x!==null;)O=x,u=M,O.flags&=14680066,H=O.alternate,H===null?(O.childLanes=0,O.lanes=u,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=H.childLanes,O.lanes=H.lanes,O.child=H.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=H.memoizedProps,O.memoizedState=H.memoizedState,O.updateQueue=H.updateQueue,O.type=H.type,u=H.dependencies,O.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),x=x.sibling;return Wn(ti,ti.current&1|2),f.child}u=u.sibling}O.tail!==null&&Je()>dm&&(f.flags|=128,M=!0,iy(O,!1),f.lanes=4194304)}else{if(!M)if(u=So(H),u!==null){if(f.flags|=128,M=!0,x=u.updateQueue,x!==null&&(f.updateQueue=x,f.flags|=4),iy(O,!0),O.tail===null&&O.tailMode==="hidden"&&!H.alternate&&!ei)return ls(f),null}else 2*Je()-O.renderingStartTime>dm&&x!==1073741824&&(f.flags|=128,M=!0,iy(O,!1),f.lanes=4194304);O.isBackwards?(H.sibling=f.child,f.child=H):(x=O.last,x!==null?x.sibling=H:f.child=H,O.last=H)}return O.tail!==null?(f=O.tail,O.rendering=f,O.tail=f.sibling,O.renderingStartTime=Je(),f.sibling=null,x=ti.current,Wn(ti,M?x&1|2:x&1),f):(ls(f),null);case 22:case 23:return RT(),M=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(f.flags|=8192),M&&(f.mode&1)!==0?(To&1073741824)!==0&&(ls(f),f.subtreeFlags&6&&(f.flags|=8192)):ls(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function u$(u,f){switch(Pa(f),f.tag){case 1:return Er(f.type)&&Cf(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Cl(),qn(Br),qn(ur),Ko(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Qu(f),null;case 13:if(qn(ti),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));El()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return qn(ti),null;case 4:return Cl(),null;case 10:return Nf(f.type._context),null;case 22:case 23:return RT(),null;case 24:return null;default:return null}}var F_=!1,cs=!1,d$=typeof WeakSet=="function"?WeakSet:Set,vt=null;function cm(u,f){var x=u.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(M){Di(u,f,M)}else x.current=null}function xT(u,f,x){try{x()}catch(M){Di(u,f,M)}}var zk=!1;function f$(u,f){if($u=Hs,u=mi(),qi(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var M=x.getSelection&&x.getSelection();if(M&&M.rangeCount!==0){x=M.anchorNode;var I=M.anchorOffset,O=M.focusNode;M=M.focusOffset;try{x.nodeType,O.nodeType}catch{x=null;break e}var H=0,se=-1,oe=-1,Ee=0,Ve=0,We=u,Ue=null;t:for(;;){for(var ht;We!==x||I!==0&&We.nodeType!==3||(se=H+I),We!==O||M!==0&&We.nodeType!==3||(oe=H+M),We.nodeType===3&&(H+=We.nodeValue.length),(ht=We.firstChild)!==null;)Ue=We,We=ht;for(;;){if(We===u)break t;if(Ue===x&&++Ee===I&&(se=H),Ue===O&&++Ve===M&&(oe=H),(ht=We.nextSibling)!==null)break;We=Ue,Ue=We.parentNode}We=ht}x=se===-1||oe===-1?null:{start:se,end:oe}}else x=null}x=x||{start:0,end:0}}else x=null;for(kv={focusedElem:u,selectionRange:x},Hs=!1,vt=f;vt!==null;)if(f=vt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,vt=u;else for(;vt!==null;){f=vt;try{var xt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var bt=xt.memoizedProps,ji=xt.memoizedState,ge=f.stateNode,le=ge.getSnapshotBeforeUpdate(f.elementType===f.type?bt:Qs(f.type,bt),ji);ge.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var xe=f.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Xe){Di(f,f.return,Xe)}if(u=f.sibling,u!==null){u.return=f.return,vt=u;break}vt=f.return}return xt=zk,zk=!1,xt}function ry(u,f,x){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var I=M=M.next;do{if((I.tag&u)===u){var O=I.destroy;I.destroy=void 0,O!==void 0&&xT(f,x,O)}I=I.next}while(I!==M)}}function z_(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&u)===u){var M=x.create;x.destroy=M()}x=x.next}while(x!==f)}}function _T(u){var f=u.ref;if(f!==null){var x=u.stateNode;switch(u.tag){case 5:u=x;break;default:u=x}typeof f=="function"?f(u):f.current=u}}function Bk(u){var f=u.alternate;f!==null&&(u.alternate=null,Bk(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[Vi],delete f[qu],delete f[Sc],delete f[$p],delete f[qp])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Uk(u){return u.tag===5||u.tag===3||u.tag===4}function Vk(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Uk(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function bT(u,f,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?x.nodeType===8?x.parentNode.insertBefore(u,f):x.insertBefore(u,f):(x.nodeType===8?(f=x.parentNode,f.insertBefore(u,x)):(f=x,f.appendChild(u)),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=Tf));else if(M!==4&&(u=u.child,u!==null))for(bT(u,f,x),u=u.sibling;u!==null;)bT(u,f,x),u=u.sibling}function ST(u,f,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?x.insertBefore(u,f):x.appendChild(u);else if(M!==4&&(u=u.child,u!==null))for(ST(u,f,x),u=u.sibling;u!==null;)ST(u,f,x),u=u.sibling}var Wr=null,Fa=!1;function td(u,f,x){for(x=x.child;x!==null;)jk(u,f,x),x=x.sibling}function jk(u,f,x){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Zn,x)}catch{}switch(x.tag){case 5:cs||cm(x,f);case 6:var M=Wr,I=Fa;Wr=null,td(u,f,x),Wr=M,Fa=I,Wr!==null&&(Fa?(u=Wr,x=x.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)):Wr.removeChild(x.stateNode));break;case 18:Wr!==null&&(Fa?(u=Wr,x=x.stateNode,u.nodeType===8?Gp(u.parentNode,x):u.nodeType===1&&Gp(u,x),hf(u)):Gp(Wr,x.stateNode));break;case 4:M=Wr,I=Fa,Wr=x.stateNode.containerInfo,Fa=!0,td(u,f,x),Wr=M,Fa=I;break;case 0:case 11:case 14:case 15:if(!cs&&(M=x.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){I=M=M.next;do{var O=I,H=O.destroy;O=O.tag,H!==void 0&&((O&2)!==0||(O&4)!==0)&&xT(x,f,H),I=I.next}while(I!==M)}td(u,f,x);break;case 1:if(!cs&&(cm(x,f),M=x.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=x.memoizedProps,M.state=x.memoizedState,M.componentWillUnmount()}catch(se){Di(x,f,se)}td(u,f,x);break;case 21:td(u,f,x);break;case 22:x.mode&1?(cs=(M=cs)||x.memoizedState!==null,td(u,f,x),cs=M):td(u,f,x);break;default:td(u,f,x)}}function Wk(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var x=u.stateNode;x===null&&(x=u.stateNode=new d$),f.forEach(function(M){var I=b$.bind(null,u,M);x.has(M)||(x.add(M),M.then(I,I))})}}function za(u,f){var x=f.deletions;if(x!==null)for(var M=0;M<x.length;M++){var I=x[M];try{var O=u,H=f,se=H;e:for(;se!==null;){switch(se.tag){case 5:Wr=se.stateNode,Fa=!1;break e;case 3:Wr=se.stateNode.containerInfo,Fa=!0;break e;case 4:Wr=se.stateNode.containerInfo,Fa=!0;break e}se=se.return}if(Wr===null)throw Error(n(160));jk(O,H,I),Wr=null,Fa=!1;var oe=I.alternate;oe!==null&&(oe.return=null),I.return=null}catch(Ee){Di(I,f,Ee)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)Hk(f,u),f=f.sibling}function Hk(u,f){var x=u.alternate,M=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(za(f,u),Al(u),M&4){try{ry(3,u,u.return),z_(3,u)}catch(bt){Di(u,u.return,bt)}try{ry(5,u,u.return)}catch(bt){Di(u,u.return,bt)}}break;case 1:za(f,u),Al(u),M&512&&x!==null&&cm(x,x.return);break;case 5:if(za(f,u),Al(u),M&512&&x!==null&&cm(x,x.return),u.flags&32){var I=u.stateNode;try{He(I,"")}catch(bt){Di(u,u.return,bt)}}if(M&4&&(I=u.stateNode,I!=null)){var O=u.memoizedProps,H=x!==null?x.memoizedProps:O,se=u.type,oe=u.updateQueue;if(u.updateQueue=null,oe!==null)try{se==="input"&&O.type==="radio"&&O.name!=null&&Ae(I,O),Bn(se,H);var Ee=Bn(se,O);for(H=0;H<oe.length;H+=2){var Ve=oe[H],We=oe[H+1];Ve==="style"?pt(I,We):Ve==="dangerouslySetInnerHTML"?jt(I,We):Ve==="children"?He(I,We):T(I,Ve,We,Ee)}switch(se){case"input":Ct(I,O);break;case"textarea":Ie(I,O);break;case"select":var Ue=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!O.multiple;var ht=O.value;ht!=null?$(I,!!O.multiple,ht,!1):Ue!==!!O.multiple&&(O.defaultValue!=null?$(I,!!O.multiple,O.defaultValue,!0):$(I,!!O.multiple,O.multiple?[]:"",!1))}I[qu]=O}catch(bt){Di(u,u.return,bt)}}break;case 6:if(za(f,u),Al(u),M&4){if(u.stateNode===null)throw Error(n(162));I=u.stateNode,O=u.memoizedProps;try{I.nodeValue=O}catch(bt){Di(u,u.return,bt)}}break;case 3:if(za(f,u),Al(u),M&4&&x!==null&&x.memoizedState.isDehydrated)try{hf(f.containerInfo)}catch(bt){Di(u,u.return,bt)}break;case 4:za(f,u),Al(u);break;case 13:za(f,u),Al(u),I=u.child,I.flags&8192&&(O=I.memoizedState!==null,I.stateNode.isHidden=O,!O||I.alternate!==null&&I.alternate.memoizedState!==null||(TT=Je())),M&4&&Wk(u);break;case 22:if(Ve=x!==null&&x.memoizedState!==null,u.mode&1?(cs=(Ee=cs)||Ve,za(f,u),cs=Ee):za(f,u),Al(u),M&8192){if(Ee=u.memoizedState!==null,(u.stateNode.isHidden=Ee)&&!Ve&&(u.mode&1)!==0)for(vt=u,Ve=u.child;Ve!==null;){for(We=vt=Ve;vt!==null;){switch(Ue=vt,ht=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:ry(4,Ue,Ue.return);break;case 1:cm(Ue,Ue.return);var xt=Ue.stateNode;if(typeof xt.componentWillUnmount=="function"){M=Ue,x=Ue.return;try{f=M,xt.props=f.memoizedProps,xt.state=f.memoizedState,xt.componentWillUnmount()}catch(bt){Di(M,x,bt)}}break;case 5:cm(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){qk(We);continue}}ht!==null?(ht.return=Ue,vt=ht):qk(We)}Ve=Ve.sibling}e:for(Ve=null,We=u;;){if(We.tag===5){if(Ve===null){Ve=We;try{I=We.stateNode,Ee?(O=I.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(se=We.stateNode,oe=We.memoizedProps.style,H=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,se.style.display=Ot("display",H))}catch(bt){Di(u,u.return,bt)}}}else if(We.tag===6){if(Ve===null)try{We.stateNode.nodeValue=Ee?"":We.memoizedProps}catch(bt){Di(u,u.return,bt)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===u)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===u)break e;for(;We.sibling===null;){if(We.return===null||We.return===u)break e;Ve===We&&(Ve=null),We=We.return}Ve===We&&(Ve=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:za(f,u),Al(u),M&4&&Wk(u);break;case 21:break;default:za(f,u),Al(u)}}function Al(u){var f=u.flags;if(f&2){try{e:{for(var x=u.return;x!==null;){if(Uk(x)){var M=x;break e}x=x.return}throw Error(n(160))}switch(M.tag){case 5:var I=M.stateNode;M.flags&32&&(He(I,""),M.flags&=-33);var O=Vk(u);ST(u,O,I);break;case 3:case 4:var H=M.stateNode.containerInfo,se=Vk(u);bT(u,se,H);break;default:throw Error(n(161))}}catch(oe){Di(u,u.return,oe)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function h$(u,f,x){vt=u,Gk(u)}function Gk(u,f,x){for(var M=(u.mode&1)!==0;vt!==null;){var I=vt,O=I.child;if(I.tag===22&&M){var H=I.memoizedState!==null||F_;if(!H){var se=I.alternate,oe=se!==null&&se.memoizedState!==null||cs;se=F_;var Ee=cs;if(F_=H,(cs=oe)&&!Ee)for(vt=I;vt!==null;)H=vt,oe=H.child,H.tag===22&&H.memoizedState!==null?Xk(I):oe!==null?(oe.return=H,vt=oe):Xk(I);for(;O!==null;)vt=O,Gk(O),O=O.sibling;vt=I,F_=se,cs=Ee}$k(u)}else(I.subtreeFlags&8772)!==0&&O!==null?(O.return=I,vt=O):$k(u)}}function $k(u){for(;vt!==null;){var f=vt;if((f.flags&8772)!==0){var x=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:cs||z_(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!cs)if(x===null)M.componentDidMount();else{var I=f.elementType===f.type?x.memoizedProps:Qs(f.type,x.memoizedProps);M.componentDidUpdate(I,x.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var O=f.updateQueue;O!==null&&Ju(f,O,M);break;case 3:var H=f.updateQueue;if(H!==null){if(x=null,f.child!==null)switch(f.child.tag){case 5:x=f.child.stateNode;break;case 1:x=f.child.stateNode}Ju(f,H,x)}break;case 5:var se=f.stateNode;if(x===null&&f.flags&4){x=se;var oe=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&x.focus();break;case"img":oe.src&&(x.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ee=f.alternate;if(Ee!==null){var Ve=Ee.memoizedState;if(Ve!==null){var We=Ve.dehydrated;We!==null&&hf(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}cs||f.flags&512&&_T(f)}catch(Ue){Di(f,f.return,Ue)}}if(f===u){vt=null;break}if(x=f.sibling,x!==null){x.return=f.return,vt=x;break}vt=f.return}}function qk(u){for(;vt!==null;){var f=vt;if(f===u){vt=null;break}var x=f.sibling;if(x!==null){x.return=f.return,vt=x;break}vt=f.return}}function Xk(u){for(;vt!==null;){var f=vt;try{switch(f.tag){case 0:case 11:case 15:var x=f.return;try{z_(4,f)}catch(oe){Di(f,x,oe)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var I=f.return;try{M.componentDidMount()}catch(oe){Di(f,I,oe)}}var O=f.return;try{_T(f)}catch(oe){Di(f,O,oe)}break;case 5:var H=f.return;try{_T(f)}catch(oe){Di(f,H,oe)}}}catch(oe){Di(f,f.return,oe)}if(f===u){vt=null;break}var se=f.sibling;if(se!==null){se.return=f.return,vt=se;break}vt=f.return}}var p$=Math.ceil,B_=P.ReactCurrentDispatcher,wT=P.ReactCurrentOwner,Qo=P.ReactCurrentBatchConfig,Cn=0,Mr=null,Qi=null,Hr=0,To=0,um=vi(0),mr=0,sy=null,Hf=0,U_=0,ET=0,oy=null,Zs=null,TT=0,dm=1/0,zc=null,V_=!1,CT=null,nd=null,j_=!1,id=null,W_=0,ay=0,MT=null,H_=-1,G_=0;function Ns(){return(Cn&6)!==0?Je():H_!==-1?H_:H_=Je()}function rd(u){return(u.mode&1)===0?1:(Cn&2)!==0&&Hr!==0?Hr&-Hr:mT.transition!==null?(G_===0&&(G_=ns()),G_):(u=wn,u!==0||(u=window.event,u=u===void 0?16:u_(u.type)),u)}function Ba(u,f,x,M){if(50<ay)throw ay=0,MT=null,Error(n(185));cf(u,x,M),((Cn&2)===0||u!==Mr)&&(u===Mr&&((Cn&2)===0&&(U_|=x),mr===4&&sd(u,Hr)),eo(u,M),x===1&&Cn===0&&(f.mode&1)===0&&(dm=Je()+500,Af&&Xo()))}function eo(u,f){var x=u.callbackNode;lr(u,f);var M=ts(u,u===Mr?Hr:0);if(M===0)x!==null&&qe(x),u.callbackNode=null,u.callbackPriority=0;else if(f=M&-M,u.callbackPriority!==f){if(x!=null&&qe(x),f===1)u.tag===0?E_(Kk.bind(null,u)):Pf(Kk.bind(null,u)),pT(function(){(Cn&6)===0&&Xo()}),x=null;else{switch(Ru(M)){case 1:x=Pt;break;case 4:x=_t;break;case 16:x=mn;break;case 536870912:x=Pn;break;default:x=mn}x=rN(x,Yk.bind(null,u))}u.callbackPriority=f,u.callbackNode=x}}function Yk(u,f){if(H_=-1,G_=0,(Cn&6)!==0)throw Error(n(327));var x=u.callbackNode;if(fm()&&u.callbackNode!==x)return null;var M=ts(u,u===Mr?Hr:0);if(M===0)return null;if((M&30)!==0||(M&u.expiredLanes)!==0||f)f=$_(u,M);else{f=M;var I=Cn;Cn|=2;var O=Qk();(Mr!==u||Hr!==f)&&(zc=null,dm=Je()+500,$f(u,f));do try{v$();break}catch(se){Jk(u,se)}while(!0);Ic(),B_.current=O,Cn=I,Qi!==null?f=0:(Mr=null,Hr=0,f=mr)}if(f!==0){if(f===2&&(I=ml(u),I!==0&&(M=I,f=AT(u,I))),f===1)throw x=sy,$f(u,0),sd(u,M),eo(u,Je()),x;if(f===6)sd(u,M);else{if(I=u.current.alternate,(M&30)===0&&!m$(I)&&(f=$_(u,M),f===2&&(O=ml(u),O!==0&&(M=O,f=AT(u,O))),f===1))throw x=sy,$f(u,0),sd(u,M),eo(u,Je()),x;switch(u.finishedWork=I,u.finishedLanes=M,f){case 0:case 1:throw Error(n(345));case 2:qf(u,Zs,zc);break;case 3:if(sd(u,M),(M&130023424)===M&&(f=TT+500-Je(),10<f)){if(ts(u,0)!==0)break;if(I=u.suspendedLanes,(I&M)!==M){Ns(),u.pingedLanes|=u.suspendedLanes&I;break}u.timeoutHandle=Lv(qf.bind(null,u,Zs,zc),f);break}qf(u,Zs,zc);break;case 4:if(sd(u,M),(M&4194240)===M)break;for(f=u.eventTimes,I=-1;0<M;){var H=31-dn(M);O=1<<H,H=f[H],H>I&&(I=H),M&=~O}if(M=I,M=Je()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*p$(M/1960))-M,10<M){u.timeoutHandle=Lv(qf.bind(null,u,Zs,zc),M);break}qf(u,Zs,zc);break;case 5:qf(u,Zs,zc);break;default:throw Error(n(329))}}}return eo(u,Je()),u.callbackNode===x?Yk.bind(null,u):null}function AT(u,f){var x=oy;return u.current.memoizedState.isDehydrated&&($f(u,f).flags|=256),u=$_(u,f),u!==2&&(f=Zs,Zs=x,f!==null&&PT(f)),u}function PT(u){Zs===null?Zs=u:Zs.push.apply(Zs,u)}function m$(u){for(var f=u;;){if(f.flags&16384){var x=f.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var M=0;M<x.length;M++){var I=x[M],O=I.getSnapshot;I=I.value;try{if(!Ts(O(),I))return!1}catch{return!1}}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function sd(u,f){for(f&=~ET,f&=~U_,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var x=31-dn(f),M=1<<x;u[x]=-1,f&=~M}}function Kk(u){if((Cn&6)!==0)throw Error(n(327));fm();var f=ts(u,0);if((f&1)===0)return eo(u,Je()),null;var x=$_(u,f);if(u.tag!==0&&x===2){var M=ml(u);M!==0&&(f=M,x=AT(u,M))}if(x===1)throw x=sy,$f(u,0),sd(u,f),eo(u,Je()),x;if(x===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,qf(u,Zs,zc),eo(u,Je()),null}function IT(u,f){var x=Cn;Cn|=1;try{return u(f)}finally{Cn=x,Cn===0&&(dm=Je()+500,Af&&Xo())}}function Gf(u){id!==null&&id.tag===0&&(Cn&6)===0&&fm();var f=Cn;Cn|=1;var x=Qo.transition,M=wn;try{if(Qo.transition=null,wn=1,u)return u()}finally{wn=M,Qo.transition=x,Cn=f,(Cn&6)===0&&Xo()}}function RT(){To=um.current,qn(um)}function $f(u,f){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;if(x!==-1&&(u.timeoutHandle=-1,Dv(x)),Qi!==null)for(x=Qi.return;x!==null;){var M=x;switch(Pa(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Cf();break;case 3:Cl(),qn(Br),qn(ur),Ko();break;case 5:Qu(M);break;case 4:Cl();break;case 13:qn(ti);break;case 19:qn(ti);break;case 10:Nf(M.type._context);break;case 22:case 23:RT()}x=x.return}if(Mr=u,Qi=u=od(u.current,null),Hr=To=f,mr=0,sy=null,ET=U_=Hf=0,Zs=oy=null,Ra!==null){for(f=0;f<Ra.length;f++)if(x=Ra[f],M=x.interleaved,M!==null){x.interleaved=null;var I=M.next,O=x.pending;if(O!==null){var H=O.next;O.next=I,M.next=H}x.pending=M}Ra=null}return u}function Jk(u,f){do{var x=Qi;try{if(Ic(),Lc.current=am,wo){for(var M=Xn.memoizedState;M!==null;){var I=M.queue;I!==null&&(I.pending=null),M=M.next}wo=!1}if(Na=0,En=xi=Xn=null,Cr=!1,Ml=0,wT.current=null,x===null||x.return===null){mr=1,sy=f,Qi=null;break}e:{var O=u,H=x.return,se=x,oe=f;if(f=Hr,se.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ee=oe,Ve=se,We=Ve.tag;if((Ve.mode&1)===0&&(We===0||We===11||We===15)){var Ue=Ve.alternate;Ue?(Ve.updateQueue=Ue.updateQueue,Ve.memoizedState=Ue.memoizedState,Ve.lanes=Ue.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var ht=mt(H);if(ht!==null){ht.flags&=-257,Gt(ht,H,se,O,f),ht.mode&1&&Ge(O,Ee,f),f=ht,oe=Ee;var xt=f.updateQueue;if(xt===null){var bt=new Set;bt.add(oe),f.updateQueue=bt}else xt.add(oe);break e}else{if((f&1)===0){Ge(O,Ee,f),kT();break e}oe=Error(n(426))}}else if(ei&&se.mode&1){var ji=mt(H);if(ji!==null){(ji.flags&65536)===0&&(ji.flags|=256),Gt(ji,H,se,O,f),Yu(A(oe,se));break e}}O=oe=A(oe,se),mr!==4&&(mr=2),oy===null?oy=[O]:oy.push(O),O=H;do{switch(O.tag){case 3:O.flags|=65536,f&=-f,O.lanes|=f;var ge=ce(O,oe,f);Rc(O,ge);break e;case 1:se=oe;var le=O.type,xe=O.stateNode;if((O.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(nd===null||!nd.has(xe)))){O.flags|=65536,f&=-f,O.lanes|=f;var Xe=Me(O,se,f);Rc(O,Xe);break e}}O=O.return}while(O!==null)}eN(x)}catch(Et){f=Et,Qi===x&&x!==null&&(Qi=x=x.return);continue}break}while(!0)}function Qk(){var u=B_.current;return B_.current=am,u===null?am:u}function kT(){(mr===0||mr===3||mr===2)&&(mr=4),Mr===null||(Hf&268435455)===0&&(U_&268435455)===0||sd(Mr,Hr)}function $_(u,f){var x=Cn;Cn|=2;var M=Qk();(Mr!==u||Hr!==f)&&(zc=null,$f(u,f));do try{g$();break}catch(I){Jk(u,I)}while(!0);if(Ic(),Cn=x,B_.current=M,Qi!==null)throw Error(n(261));return Mr=null,Hr=0,mr}function g$(){for(;Qi!==null;)Zk(Qi)}function v$(){for(;Qi!==null&&!ut();)Zk(Qi)}function Zk(u){var f=iN(u.alternate,u,To);u.memoizedProps=u.pendingProps,f===null?eN(u):Qi=f,wT.current=null}function eN(u){var f=u;do{var x=f.alternate;if(u=f.return,(f.flags&32768)===0){if(x=c$(x,f,To),x!==null){Qi=x;return}}else{if(x=u$(x,f),x!==null){x.flags&=32767,Qi=x;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{mr=6,Qi=null;return}}if(f=f.sibling,f!==null){Qi=f;return}Qi=f=u}while(f!==null);mr===0&&(mr=5)}function qf(u,f,x){var M=wn,I=Qo.transition;try{Qo.transition=null,wn=1,y$(u,f,x,M)}finally{Qo.transition=I,wn=M}return null}function y$(u,f,x,M){do fm();while(id!==null);if((Cn&6)!==0)throw Error(n(327));x=u.finishedWork;var I=u.finishedLanes;if(x===null)return null;if(u.finishedWork=null,u.finishedLanes=0,x===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var O=x.lanes|x.childLanes;if(uT(u,O),u===Mr&&(Qi=Mr=null,Hr=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||j_||(j_=!0,rN(mn,function(){return fm(),null})),O=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||O){O=Qo.transition,Qo.transition=null;var H=wn;wn=1;var se=Cn;Cn|=4,wT.current=null,f$(u,x),Hk(x,u),Xi(kv),Hs=!!$u,kv=$u=null,u.current=x,h$(x),yt(),Cn=se,wn=H,Qo.transition=O}else u.current=x;if(j_&&(j_=!1,id=u,W_=I),O=u.pendingLanes,O===0&&(nd=null),Qe(x.stateNode),eo(u,Je()),f!==null)for(M=u.onRecoverableError,x=0;x<f.length;x++)I=f[x],M(I.value,{componentStack:I.stack,digest:I.digest});if(V_)throw V_=!1,u=CT,CT=null,u;return(W_&1)!==0&&u.tag!==0&&fm(),O=u.pendingLanes,(O&1)!==0?u===MT?ay++:(ay=0,MT=u):ay=0,Xo(),null}function fm(){if(id!==null){var u=Ru(W_),f=Qo.transition,x=wn;try{if(Qo.transition=null,wn=16>u?16:u,id===null)var M=!1;else{if(u=id,id=null,W_=0,(Cn&6)!==0)throw Error(n(331));var I=Cn;for(Cn|=4,vt=u.current;vt!==null;){var O=vt,H=O.child;if((vt.flags&16)!==0){var se=O.deletions;if(se!==null){for(var oe=0;oe<se.length;oe++){var Ee=se[oe];for(vt=Ee;vt!==null;){var Ve=vt;switch(Ve.tag){case 0:case 11:case 15:ry(8,Ve,O)}var We=Ve.child;if(We!==null)We.return=Ve,vt=We;else for(;vt!==null;){Ve=vt;var Ue=Ve.sibling,ht=Ve.return;if(Bk(Ve),Ve===Ee){vt=null;break}if(Ue!==null){Ue.return=ht,vt=Ue;break}vt=ht}}}var xt=O.alternate;if(xt!==null){var bt=xt.child;if(bt!==null){xt.child=null;do{var ji=bt.sibling;bt.sibling=null,bt=ji}while(bt!==null)}}vt=O}}if((O.subtreeFlags&2064)!==0&&H!==null)H.return=O,vt=H;else e:for(;vt!==null;){if(O=vt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:ry(9,O,O.return)}var ge=O.sibling;if(ge!==null){ge.return=O.return,vt=ge;break e}vt=O.return}}var le=u.current;for(vt=le;vt!==null;){H=vt;var xe=H.child;if((H.subtreeFlags&2064)!==0&&xe!==null)xe.return=H,vt=xe;else e:for(H=le;vt!==null;){if(se=vt,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:z_(9,se)}}catch(Et){Di(se,se.return,Et)}if(se===H){vt=null;break e}var Xe=se.sibling;if(Xe!==null){Xe.return=se.return,vt=Xe;break e}vt=se.return}}if(Cn=I,Xo(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Zn,u)}catch{}M=!0}return M}finally{wn=x,Qo.transition=f}}return!1}function tN(u,f,x){f=A(x,f),f=ce(u,f,1),u=oi(u,f,1),f=Ns(),u!==null&&(cf(u,1,f),eo(u,f))}function Di(u,f,x){if(u.tag===3)tN(u,u,x);else for(;f!==null;){if(f.tag===3){tN(f,u,x);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(nd===null||!nd.has(M))){u=A(x,u),u=Me(f,u,1),f=oi(f,u,1),u=Ns(),f!==null&&(cf(f,1,u),eo(f,u));break}}f=f.return}}function x$(u,f,x){var M=u.pingCache;M!==null&&M.delete(f),f=Ns(),u.pingedLanes|=u.suspendedLanes&x,Mr===u&&(Hr&x)===x&&(mr===4||mr===3&&(Hr&130023424)===Hr&&500>Je()-TT?$f(u,0):ET|=x),eo(u,f)}function nN(u,f){f===0&&((u.mode&1)===0?f=1:(f=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var x=Ns();u=bo(u,f),u!==null&&(cf(u,f,x),eo(u,x))}function _$(u){var f=u.memoizedState,x=0;f!==null&&(x=f.retryLane),nN(u,x)}function b$(u,f){var x=0;switch(u.tag){case 13:var M=u.stateNode,I=u.memoizedState;I!==null&&(x=I.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(n(314))}M!==null&&M.delete(f),nN(u,x)}var iN;iN=function(u,f,x){if(u!==null)if(u.memoizedProps!==f.pendingProps||Br.current)Zt=!0;else{if((u.lanes&x)===0&&(f.flags&128)===0)return Zt=!1,l$(u,f,x);Zt=(u.flags&131072)!==0}else Zt=!1,ei&&(f.flags&1048576)!==0&&Uv(f,Jp,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;O_(u,f),u=f.pendingProps;var I=wc(f,ur.current);Tl(f,x),I=zf(null,f,M,u,I,x);var O=Xv();return f.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Er(M)?(O=!0,Ec(f)):O=!1,f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Qt(f),I.updater=lm,f.stateNode=I,I._reactInternals=f,C(f,M,u,x),f=Yt(null,f,M,!0,O,x)):(f.tag=0,ei&&O&&Vv(f),dt(null,f,I,x),f=f.child),f;case 16:M=f.elementType;e:{switch(O_(u,f),u=f.pendingProps,I=M._init,M=I(M._payload),f.type=M,I=f.tag=w$(M),u=Qs(M,u),I){case 0:f=st(null,f,M,u,x);break e;case 1:f=St(null,f,M,u,x);break e;case 11:f=pr(null,f,M,u,x);break e;case 14:f=ks(null,f,M,Qs(M.type,u),x);break e}throw Error(n(306,M,""))}return f;case 0:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Qs(M,I),st(u,f,M,I,x);case 1:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Qs(M,I),St(u,f,M,I,x);case 3:e:{if($t(f),u===null)throw Error(n(387));M=f.pendingProps,O=f.memoizedState,I=O.element,Ti(u,f),yi(f,M,null,x);var H=f.memoizedState;if(M=H.element,O.isDehydrated)if(O={element:M,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){I=A(Error(n(423)),f),f=_n(u,f,M,x,I);break e}else if(M!==I){I=A(Error(n(424)),f),f=_n(u,f,M,x,I);break e}else for(Vr=Ea(f.stateNode.containerInfo.firstChild),dr=f,ei=!0,Js=null,x=kf(f,null,M,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(El(),M===I){f=Fc(u,f,x);break e}dt(u,f,M,x)}f=f.child}return f;case 5:return Nc(f),u===null&&Zp(f),M=f.type,I=f.pendingProps,O=u!==null?u.memoizedProps:null,H=I.children,Nv(M,I)?H=null:O!==null&&Nv(M,O)&&(f.flags|=32),Te(u,f),dt(u,f,H,x),f.child;case 6:return u===null&&Zp(f),null;case 13:return Oa(u,f,x);case 4:return Of(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Mc(f,null,M,x):dt(u,f,M,x),f.child;case 11:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Qs(M,I),pr(u,f,M,I,x);case 7:return dt(u,f,f.pendingProps,x),f.child;case 8:return dt(u,f,f.pendingProps.children,x),f.child;case 12:return dt(u,f,f.pendingProps.children,x),f.child;case 10:e:{if(M=f.type._context,I=f.pendingProps,O=f.memoizedProps,H=I.value,Wn(Ac,M._currentValue),M._currentValue=H,O!==null)if(Ts(O.value,H)){if(O.children===I.children&&!Br.current){f=Fc(u,f,x);break e}}else for(O=f.child,O!==null&&(O.return=f);O!==null;){var se=O.dependencies;if(se!==null){H=O.child;for(var oe=se.firstContext;oe!==null;){if(oe.context===M){if(O.tag===1){oe=Vn(-1,x&-x),oe.tag=2;var Ee=O.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ve=Ee.pending;Ve===null?oe.next=oe:(oe.next=Ve.next,Ve.next=oe),Ee.pending=oe}}O.lanes|=x,oe=O.alternate,oe!==null&&(oe.lanes|=x),Lf(O.return,x,f),se.lanes|=x;break}oe=oe.next}}else if(O.tag===10)H=O.type===f.type?null:O.child;else if(O.tag===18){if(H=O.return,H===null)throw Error(n(341));H.lanes|=x,se=H.alternate,se!==null&&(se.lanes|=x),Lf(H,x,f),H=O.sibling}else H=O.child;if(H!==null)H.return=O;else for(H=O;H!==null;){if(H===f){H=null;break}if(O=H.sibling,O!==null){O.return=H.return,H=O;break}H=H.return}O=H}dt(u,f,I.children,x),f=f.child}return f;case 9:return I=f.type,M=f.pendingProps.children,Tl(f,x),I=As(I),M=M(I),f.flags|=1,dt(u,f,M,x),f.child;case 14:return M=f.type,I=Qs(M,f.pendingProps),I=Qs(M.type,I),ks(u,f,M,I,x);case 15:return _e(u,f,f.type,f.pendingProps,x);case 17:return M=f.type,I=f.pendingProps,I=f.elementType===M?I:Qs(M,I),O_(u,f),f.tag=1,Er(M)?(u=!0,Ec(f)):u=!1,Tl(f,x),m(f,M,I),C(f,M,I,x),Yt(null,f,M,!0,u,x);case 19:return Lk(u,f,x);case 22:return fe(u,f,x)}throw Error(n(156,f.tag))};function rN(u,f){return pe(u,f)}function S$(u,f,x,M){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zo(u,f,x,M){return new S$(u,f,x,M)}function NT(u){return u=u.prototype,!(!u||!u.isReactComponent)}function w$(u){if(typeof u=="function")return NT(u)?1:0;if(u!=null){if(u=u.$$typeof,u===W)return 11;if(u===K)return 14}return 2}function od(u,f){var x=u.alternate;return x===null?(x=Zo(u.tag,f,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=f,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&14680064,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,f=u.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x}function q_(u,f,x,M,I,O){var H=2;if(M=u,typeof u=="function")NT(u)&&(H=1);else if(typeof u=="string")H=5;else e:switch(u){case D:return Xf(x.children,I,O,f);case B:H=8,I|=8;break;case N:return u=Zo(12,x,f,I|2),u.elementType=N,u.lanes=O,u;case Y:return u=Zo(13,x,f,I),u.elementType=Y,u.lanes=O,u;case ee:return u=Zo(19,x,f,I),u.elementType=ee,u.lanes=O,u;case G:return X_(x,I,O,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case R:H=10;break e;case U:H=9;break e;case W:H=11;break e;case K:H=14;break e;case Z:H=16,M=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return f=Zo(H,x,f,I),f.elementType=u,f.type=M,f.lanes=O,f}function Xf(u,f,x,M){return u=Zo(7,u,M,f),u.lanes=x,u}function X_(u,f,x,M){return u=Zo(22,u,M,f),u.elementType=G,u.lanes=x,u.stateNode={isHidden:!1},u}function LT(u,f,x){return u=Zo(6,u,null,f),u.lanes=x,u}function DT(u,f,x){return f=Zo(4,u.children!==null?u.children:[],u.key,f),f.lanes=x,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function E$(u,f,x,M,I){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=M,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function OT(u,f,x,M,I,O,H,se,oe){return u=new E$(u,f,x,se,oe),f===1?(f=1,O===!0&&(f|=8)):f=0,O=Zo(3,null,null,f),u.current=O,O.stateNode=u,O.memoizedState={element:M,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qt(O),u}function T$(u,f,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:M==null?null:""+M,children:u,containerInfo:f,implementation:x}}function sN(u){if(!u)return Ca;u=u._reactInternals;e:{if(ga(u)!==u||u.tag!==1)throw Error(n(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Er(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(u.tag===1){var x=u.type;if(Er(x))return Mf(u,x,f)}return f}function oN(u,f,x,M,I,O,H,se,oe){return u=OT(x,M,!0,u,I,O,H,se,oe),u.context=sN(null),x=u.current,M=Ns(),I=rd(x),O=Vn(M,I),O.callback=f??null,oi(x,O,I),u.current.lanes=I,cf(u,I,M),eo(u,M),u}function Y_(u,f,x,M){var I=f.current,O=Ns(),H=rd(I);return x=sN(x),f.context===null?f.context=x:f.pendingContext=x,f=Vn(O,H),f.payload={element:u},M=M===void 0?null:M,M!==null&&(f.callback=M),u=oi(I,f,H),u!==null&&(Ba(u,I,H,O),Tr(u,I,H)),H}function K_(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function aN(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<f?x:f}}function FT(u,f){aN(u,f),(u=u.alternate)&&aN(u,f)}function C$(){return null}var lN=typeof reportError=="function"?reportError:function(u){console.error(u)};function zT(u){this._internalRoot=u}J_.prototype.render=zT.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));Y_(u,f,null,null)},J_.prototype.unmount=zT.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;Gf(function(){Y_(null,u,null,null)}),f[Ms]=null}};function J_(u){this._internalRoot=u}J_.prototype.unstable_scheduleHydration=function(u){if(u){var f=gp();u={blockedOn:null,target:u,priority:f};for(var x=0;x<gl.length&&f!==0&&f<gl[x].priority;x++);gl.splice(x,0,u),x===0&&xp(u)}};function BT(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Q_(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function cN(){}function M$(u,f,x,M,I){if(I){if(typeof M=="function"){var O=M;M=function(){var Ee=K_(H);O.call(Ee)}}var H=oN(f,M,u,0,null,!1,!1,"",cN);return u._reactRootContainer=H,u[Ms]=H.current,Hu(u.nodeType===8?u.parentNode:u),Gf(),H}for(;I=u.lastChild;)u.removeChild(I);if(typeof M=="function"){var se=M;M=function(){var Ee=K_(oe);se.call(Ee)}}var oe=OT(u,0,!1,null,null,!1,!1,"",cN);return u._reactRootContainer=oe,u[Ms]=oe.current,Hu(u.nodeType===8?u.parentNode:u),Gf(function(){Y_(f,oe,x,M)}),oe}function Z_(u,f,x,M,I){var O=x._reactRootContainer;if(O){var H=O;if(typeof I=="function"){var se=I;I=function(){var oe=K_(H);se.call(oe)}}Y_(f,H,u,I)}else H=M$(x,f,u,I,M);return K_(H)}uf=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var x=Ln(f.pendingLanes);x!==0&&(Iu(f,x|1),eo(f,Je()),(Cn&6)===0&&(dm=Je()+500,Xo()))}break;case 13:Gf(function(){var M=bo(u,1);if(M!==null){var I=Ns();Ba(M,u,1,I)}}),FT(u,1)}},mv=function(u){if(u.tag===13){var f=bo(u,134217728);if(f!==null){var x=Ns();Ba(f,u,134217728,x)}FT(u,134217728)}},c_=function(u){if(u.tag===13){var f=rd(u),x=bo(u,f);if(x!==null){var M=Ns();Ba(x,u,f,M)}FT(u,f)}},gp=function(){return wn},vp=function(u,f){var x=wn;try{return wn=u,f()}finally{wn=x}},Ne=function(u,f,x){switch(f){case"input":if(Ct(u,x),f=x.name,x.type==="radio"&&f!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<x.length;f++){var M=x[f];if(M!==u&&M.form===u.form){var I=Xp(M);if(!I)throw Error(n(90));J(M),Ct(M,I)}}}break;case"textarea":Ie(u,x);break;case"select":f=x.value,f!=null&&$(u,!!x.multiple,f,!1)}},ki=IT,yn=Gf;var A$={usingClientEntryPoint:!1,Events:[Ta,Ei,Xp,cn,ri,IT]},ly={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P$={bundleType:ly.bundleType,version:ly.version,rendererPackageName:ly.rendererPackageName,rendererConfig:ly.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Se(u),u===null?null:u.stateNode},findFiberByHostInstance:ly.findFiberByHostInstance||C$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e1.isDisabled&&e1.supportsFiber)try{Zn=e1.inject(P$),gt=e1}catch{}}return to.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A$,to.createPortal=function(u,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BT(f))throw Error(n(200));return T$(u,f,null,x)},to.createRoot=function(u,f){if(!BT(u))throw Error(n(299));var x=!1,M="",I=lN;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(M=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),f=OT(u,1,!1,null,null,x,!1,M,I),u[Ms]=f.current,Hu(u.nodeType===8?u.parentNode:u),new zT(f)},to.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Se(f),u=u===null?null:u.stateNode,u},to.flushSync=function(u){return Gf(u)},to.hydrate=function(u,f,x){if(!Q_(f))throw Error(n(200));return Z_(null,u,f,!0,x)},to.hydrateRoot=function(u,f,x){if(!BT(u))throw Error(n(405));var M=x!=null&&x.hydratedSources||null,I=!1,O="",H=lN;if(x!=null&&(x.unstable_strictMode===!0&&(I=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onRecoverableError!==void 0&&(H=x.onRecoverableError)),f=oN(f,null,u,1,x??null,I,!1,O,H),u[Ms]=f.current,Hu(u),M)for(u=0;u<M.length;u++)x=M[u],I=x._getVersion,I=I(x._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[x,I]:f.mutableSourceEagerHydrationData.push(x,I);return new J_(f)},to.render=function(u,f,x){if(!Q_(f))throw Error(n(200));return Z_(null,u,f,!1,x)},to.unmountComponentAtNode=function(u){if(!Q_(u))throw Error(n(40));return u._reactRootContainer?(Gf(function(){Z_(null,null,u,!1,function(){u._reactRootContainer=null,u[Ms]=null})}),!0):!1},to.unstable_batchedUpdates=IT,to.unstable_renderSubtreeIntoContainer=function(u,f,x,M){if(!Q_(x))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Z_(u,f,x,!1,M)},to.version="18.3.1-next-f1338f8080-20240426",to}var yN;function lB(){if(yN)return jT.exports;yN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jT.exports=F$(),jT.exports}var xN;function z$(){if(xN)return t1;xN=1;var t=lB();return t1.createRoot=t.createRoot,t1.hydrateRoot=t.hydrateRoot,t1}var B$=z$();const ua=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" ");function U$(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function n0(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,a=z.createContext(o);a.displayName=e;function l(){var d;const c=z.useContext(a);if(!c&&n){const h=new Error(s??U$(i,r));throw h.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,h,l),h}return c}return[a.Provider,l,a]}function V$(...t){return function(...n){t.forEach(i=>i==null?void 0:i(...n))}}const j$=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),W$=/^on[A-Z]/;function P0(...t){let e={};for(let n of t){for(let i in e){if(W$.test(i)&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=V$(e[i],n[i]);continue}if(i==="className"||i==="class"){e[i]=j$(e[i],n[i]);continue}if(i==="style"){e[i]=Object.assign({},e[i]??{},n[i]??{});continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}const H$=Object.freeze({}),G$=Object.freeze({});function cB(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,q$=cB(function(t){return $$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function X$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Y$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var K$=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Y$(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=X$(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),ms="-ms-",iS="-moz-",Dn="-webkit-",uB="comm",c2="rule",u2="decl",J$="@import",dB="@keyframes",Q$="@layer",Z$=Math.abs,Lw=String.fromCharCode,eq=Object.assign;function tq(t,e){return Yr(t,0)^45?(((e<<2^Yr(t,0))<<2^Yr(t,1))<<2^Yr(t,2))<<2^Yr(t,3):0}function fB(t){return t.trim()}function nq(t,e){return(t=e.exec(t))?t[0]:t}function On(t,e,n){return t.replace(e,n)}function lA(t,e){return t.indexOf(e)}function Yr(t,e){return t.charCodeAt(e)|0}function I0(t,e,n){return t.slice(e,n)}function Ol(t){return t.length}function d2(t){return t.length}function n1(t,e){return e.push(t),t}function iq(t,e){return t.map(e).join("")}var Dw=1,wg=1,hB=0,co=0,tr=0,Hg="";function Ow(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:Dw,column:wg,length:o,return:""}}function uy(t,e){return eq(Ow("",null,null,"",null,null,0),t,{length:-t.length},e)}function rq(){return tr}function sq(){return tr=co>0?Yr(Hg,--co):0,wg--,tr===10&&(wg=1,Dw--),tr}function Lo(){return tr=co<hB?Yr(Hg,co++):0,wg++,tr===10&&(wg=1,Dw++),tr}function Wl(){return Yr(Hg,co)}function Mb(){return co}function wx(t,e){return I0(Hg,t,e)}function R0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pB(t){return Dw=wg=1,hB=Ol(Hg=t),co=0,[]}function mB(t){return Hg="",t}function Ab(t){return fB(wx(co-1,cA(t===91?t+2:t===40?t+1:t)))}function oq(t){for(;(tr=Wl())&&tr<33;)Lo();return R0(t)>2||R0(tr)>3?"":" "}function aq(t,e){for(;--e&&Lo()&&!(tr<48||tr>102||tr>57&&tr<65||tr>70&&tr<97););return wx(t,Mb()+(e<6&&Wl()==32&&Lo()==32))}function cA(t){for(;Lo();)switch(tr){case t:return co;case 34:case 39:t!==34&&t!==39&&cA(tr);break;case 40:t===41&&cA(t);break;case 92:Lo();break}return co}function lq(t,e){for(;Lo()&&t+tr!==57;)if(t+tr===84&&Wl()===47)break;return"/*"+wx(e,co-1)+"*"+Lw(t===47?t:Lo())}function cq(t){for(;!R0(Wl());)Lo();return wx(t,co)}function uq(t){return mB(Pb("",null,null,null,[""],t=pB(t),0,[0],t))}function Pb(t,e,n,i,r,s,o,a,l){for(var c=0,d=0,h=o,p=0,v=0,y=0,b=1,S=1,_=1,E=0,T="",P=r,k=s,F=i,D=T;S;)switch(y=E,E=Lo()){case 40:if(y!=108&&Yr(D,h-1)==58){lA(D+=On(Ab(E),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:D+=Ab(E);break;case 9:case 10:case 13:case 32:D+=oq(y);break;case 92:D+=aq(Mb()-1,7);continue;case 47:switch(Wl()){case 42:case 47:n1(dq(lq(Lo(),Mb()),e,n),l);break;default:D+="/"}break;case 123*b:a[c++]=Ol(D)*_;case 125*b:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+d:_==-1&&(D=On(D,/\f/g,"")),v>0&&Ol(D)-h&&n1(v>32?bN(D+";",i,n,h-1):bN(On(D," ","")+";",i,n,h-2),l);break;case 59:D+=";";default:if(n1(F=_N(D,e,n,c,d,r,a,T,P=[],k=[],h),s),E===123)if(d===0)Pb(D,e,F,F,P,s,h,a,k);else switch(p===99&&Yr(D,3)===110?100:p){case 100:case 108:case 109:case 115:Pb(t,F,F,i&&n1(_N(t,F,F,0,0,r,a,T,r,P=[],h),k),r,k,h,a,i?P:k);break;default:Pb(D,F,F,F,[""],k,0,a,k)}}c=d=v=0,b=_=1,T=D="",h=o;break;case 58:h=1+Ol(D),v=y;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&sq()==125)continue}switch(D+=Lw(E),E*b){case 38:_=d>0?1:(D+="\f",-1);break;case 44:a[c++]=(Ol(D)-1)*_,_=1;break;case 64:Wl()===45&&(D+=Ab(Lo())),p=Wl(),d=h=Ol(T=D+=cq(Mb())),E++;break;case 45:y===45&&Ol(D)==2&&(b=0)}}return s}function _N(t,e,n,i,r,s,o,a,l,c,d){for(var h=r-1,p=r===0?s:[""],v=d2(p),y=0,b=0,S=0;y<i;++y)for(var _=0,E=I0(t,h+1,h=Z$(b=o[y])),T=t;_<v;++_)(T=fB(b>0?p[_]+" "+E:On(E,/&\f/g,p[_])))&&(l[S++]=T);return Ow(t,e,n,r===0?c2:a,l,c,d)}function dq(t,e,n){return Ow(t,e,n,uB,Lw(rq()),I0(t,2,-2),0)}function bN(t,e,n,i){return Ow(t,e,n,u2,I0(t,0,i),I0(t,i+1,-1),i)}function fg(t,e){for(var n="",i=d2(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function fq(t,e,n,i){switch(t.type){case Q$:if(t.children.length)break;case J$:case u2:return t.return=t.return||t.value;case uB:return"";case dB:return t.return=t.value+"{"+fg(t.children,i)+"}";case c2:t.value=t.props.join(",")}return Ol(n=fg(t.children,i))?t.return=t.value+"{"+n+"}":""}function hq(t){var e=d2(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function pq(t){return function(e){e.root||(e=e.return)&&t(e)}}var mq=function(e,n,i){for(var r=0,s=0;r=s,s=Wl(),r===38&&s===12&&(n[i]=1),!R0(s);)Lo();return wx(e,co)},gq=function(e,n){var i=-1,r=44;do switch(R0(r)){case 0:r===38&&Wl()===12&&(n[i]=1),e[i]+=mq(co-1,n,i);break;case 2:e[i]+=Ab(r);break;case 4:if(r===44){e[++i]=Wl()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=Lw(r)}while(r=Lo());return e},vq=function(e,n){return mB(gq(pB(e),n))},SN=new WeakMap,yq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!SN.get(i))&&!r){SN.set(e,!0);for(var s=[],o=vq(n,s),a=i.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},xq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function gB(t,e){switch(tq(t,e)){case 5103:return Dn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Dn+t+iS+t+ms+t+t;case 6828:case 4268:return Dn+t+ms+t+t;case 6165:return Dn+t+ms+"flex-"+t+t;case 5187:return Dn+t+On(t,/(\w+).+(:[^]+)/,Dn+"box-$1$2"+ms+"flex-$1$2")+t;case 5443:return Dn+t+ms+"flex-item-"+On(t,/flex-|-self/,"")+t;case 4675:return Dn+t+ms+"flex-line-pack"+On(t,/align-content|flex-|-self/,"")+t;case 5548:return Dn+t+ms+On(t,"shrink","negative")+t;case 5292:return Dn+t+ms+On(t,"basis","preferred-size")+t;case 6060:return Dn+"box-"+On(t,"-grow","")+Dn+t+ms+On(t,"grow","positive")+t;case 4554:return Dn+On(t,/([^-])(transform)/g,"$1"+Dn+"$2")+t;case 6187:return On(On(On(t,/(zoom-|grab)/,Dn+"$1"),/(image-set)/,Dn+"$1"),t,"")+t;case 5495:case 3959:return On(t,/(image-set\([^]*)/,Dn+"$1$`$1");case 4968:return On(On(t,/(.+:)(flex-)?(.*)/,Dn+"box-pack:$3"+ms+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dn+t+t;case 4095:case 3583:case 4068:case 2532:return On(t,/(.+)-inline(.+)/,Dn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ol(t)-1-e>6)switch(Yr(t,e+1)){case 109:if(Yr(t,e+4)!==45)break;case 102:return On(t,/(.+:)(.+)-([^]+)/,"$1"+Dn+"$2-$3$1"+iS+(Yr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lA(t,"stretch")?gB(On(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Yr(t,e+1)!==115)break;case 6444:switch(Yr(t,Ol(t)-3-(~lA(t,"!important")&&10))){case 107:return On(t,":",":"+Dn)+t;case 101:return On(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Dn+(Yr(t,14)===45?"inline-":"")+"box$3$1"+Dn+"$2$3$1"+ms+"$2box$3")+t}break;case 5936:switch(Yr(t,e+11)){case 114:return Dn+t+ms+On(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Dn+t+ms+On(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Dn+t+ms+On(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Dn+t+ms+t+t}return t}var _q=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case u2:e.return=gB(e.value,e.length);break;case dB:return fg([uy(e,{value:On(e.value,"@","@"+Dn)})],r);case c2:if(e.length)return iq(e.props,function(s){switch(nq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fg([uy(e,{props:[On(s,/:(read-\w+)/,":"+iS+"$1")]})],r);case"::placeholder":return fg([uy(e,{props:[On(s,/:(plac\w+)/,":"+Dn+"input-$1")]}),uy(e,{props:[On(s,/:(plac\w+)/,":"+iS+"$1")]}),uy(e,{props:[On(s,/:(plac\w+)/,ms+"input-$1")]})],r)}return""})}},bq=[_q],Sq=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(b){var S=b.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var r=e.stylisPlugins||bq,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var S=b.getAttribute("data-emotion").split(" "),_=1;_<S.length;_++)s[S[_]]=!0;a.push(b)});var l,c=[yq,xq];{var d,h=[fq,pq(function(b){d.insert(b)})],p=hq(c.concat(r,h)),v=function(S){return fg(uq(S),p)};l=function(S,_,E,T){d=E,v(S?S+"{"+_.styles+"}":_.styles),T&&(y.inserted[_.name]=!0)}}var y={key:n,sheet:new K$({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y};function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bh.apply(null,arguments)}var GT={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function wq(){if(wN)return jn;wN=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function T(k){if(typeof k=="object"&&k!==null){var F=k.$$typeof;switch(F){case e:switch(k=k.type,k){case l:case c:case i:case s:case r:case h:return k;default:switch(k=k&&k.$$typeof,k){case a:case d:case y:case v:case o:return k;default:return F}}case n:return F}}}function P(k){return T(k)===c}return jn.AsyncMode=l,jn.ConcurrentMode=c,jn.ContextConsumer=a,jn.ContextProvider=o,jn.Element=e,jn.ForwardRef=d,jn.Fragment=i,jn.Lazy=y,jn.Memo=v,jn.Portal=n,jn.Profiler=s,jn.StrictMode=r,jn.Suspense=h,jn.isAsyncMode=function(k){return P(k)||T(k)===l},jn.isConcurrentMode=P,jn.isContextConsumer=function(k){return T(k)===a},jn.isContextProvider=function(k){return T(k)===o},jn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},jn.isForwardRef=function(k){return T(k)===d},jn.isFragment=function(k){return T(k)===i},jn.isLazy=function(k){return T(k)===y},jn.isMemo=function(k){return T(k)===v},jn.isPortal=function(k){return T(k)===n},jn.isProfiler=function(k){return T(k)===s},jn.isStrictMode=function(k){return T(k)===r},jn.isSuspense=function(k){return T(k)===h},jn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===i||k===c||k===s||k===r||k===h||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===y||k.$$typeof===v||k.$$typeof===o||k.$$typeof===a||k.$$typeof===d||k.$$typeof===S||k.$$typeof===_||k.$$typeof===E||k.$$typeof===b)},jn.typeOf=T,jn}var EN;function Eq(){return EN||(EN=1,GT.exports=wq()),GT.exports}var $T,TN;function Tq(){if(TN)return $T;TN=1;var t=Eq(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=i,s[t.Memo]=r;function o(y){return t.isMemo(y)?r:s[y.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;function v(y,b,S){if(typeof b!="string"){if(p){var _=h(b);_&&_!==p&&v(y,_,S)}var E=l(b);c&&(E=E.concat(c(b)));for(var T=o(y),P=o(b),k=0;k<E.length;++k){var F=E[k];if(!n[F]&&!(S&&S[F])&&!(P&&P[F])&&!(T&&T[F])){var D=d(b,F);try{a(y,F,D)}catch{}}}}return y}return $T=v,$T}Tq();var Cq=!0;function vB(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var f2=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||Cq===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},h2=function(e,n,i){f2(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Mq(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Aq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pq=/[A-Z]|^ms/g,Iq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yB=function(e){return e.charCodeAt(1)===45},CN=function(e){return e!=null&&typeof e!="boolean"},qT=cB(function(t){return yB(t)?t:t.replace(Pq,"-$&").toLowerCase()}),MN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Iq,function(i,r,s){return Fl={name:r,styles:s,next:Fl},r})}return Aq[e]!==1&&!yB(e)&&typeof n=="number"&&n!==0?n+"px":n};function k0(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return Fl={name:r.name,styles:r.styles,next:Fl},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Fl={name:o.name,styles:o.styles,next:Fl},o=o.next;var a=s.styles+";";return a}return Rq(t,e,n)}case"function":{if(t!==void 0){var l=Fl,c=n(t);return Fl=l,k0(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function Rq(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=k0(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?i+=s+"{"+e[a]+"}":CN(a)&&(i+=qT(s)+":"+MN(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)CN(o[l])&&(i+=qT(s)+":"+MN(s,o[l])+";");else{var c=k0(t,e,o);switch(s){case"animation":case"animationName":{i+=qT(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var AN=/label:\s*([^\s;{]+)\s*(;|$)/g,Fl;function Fw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";Fl=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=k0(n,e,s);else{var o=s;r+=o[0]}for(var a=1;a<t.length;a++)if(r+=k0(n,e,t[a]),i){var l=s;r+=l[a]}AN.lastIndex=0;for(var c="",d;(d=AN.exec(r))!==null;)c+="-"+d[1];var h=Mq(r)+c;return{name:h,styles:r,next:Fl}}var kq=function(e){return e()},xB=pN.useInsertionEffect?pN.useInsertionEffect:!1,_B=xB||kq,PN=xB||z.useLayoutEffect,bB=z.createContext(typeof HTMLElement<"u"?Sq({key:"css"}):null);bB.Provider;var p2=function(e){return z.forwardRef(function(n,i){var r=z.useContext(bB);return e(n,r,i)})},m2=z.createContext({}),g2={}.hasOwnProperty,uA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Nq=function(e,n){var i={};for(var r in n)g2.call(n,r)&&(i[r]=n[r]);return i[uA]=e,i},Lq=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return f2(n,i,r),_B(function(){return h2(n,i,r)}),null},Dq=p2(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[uA],s=[i],o="";typeof t.className=="string"?o=vB(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Fw(s,void 0,z.useContext(m2));o+=e.key+"-"+a.name;var l={};for(var c in t)g2.call(t,c)&&c!=="css"&&c!==uA&&(l[c]=t[c]);return l.className=o,n&&(l.ref=n),z.createElement(z.Fragment,null,z.createElement(Lq,{cache:e,serialized:a,isStringTag:typeof r=="string"}),z.createElement(r,l))}),Oq=Dq,IN=function(e,n){var i=arguments;if(n==null||!g2.call(n,"css"))return z.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=Oq,s[1]=Nq(e,n);for(var o=2;o<r;o++)s[o]=i[o];return z.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(IN||(IN={}));var RN=p2(function(t,e){var n=t.styles,i=Fw([n],void 0,z.useContext(m2)),r=z.useRef();return PN(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),r.current=[o,a],function(){o.flush()}},[e]),PN(function(){var s=r.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(i.next!==void 0&&h2(e,i.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function Fq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Fw(e)}function SB(){var t=Fq.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function zq(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Bq(...t){return e=>{t.forEach(n=>{zq(n,e)})}}function Ex(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Uq(t){return t.default||t}const so=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),Ql=t=>typeof t=="string",v2=t=>typeof t=="function";function Vq(t){var n;const e=z.version;return!Ql(e)||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const[jq,zw]=n0({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function Wq(t){const{value:e,children:n}=t;return w.jsxs(jq,{value:e,children:[!e._config.disableLayers&&w.jsx(RN,{styles:e.layers.atRule}),w.jsx(RN,{styles:e._global}),n]})}const Hq=(t,e)=>{const n={},i={},r=Object.keys(t);for(const s of r)e(s)?i[s]=t[s]:n[s]=t[s];return[i,n]},hg=(t,e)=>{const n=v2(e)?e:i=>e.includes(i);return Hq(t,n)},Gq=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function $q(t){return typeof t=="string"&&Gq.has(t)}function qq(t,e,n){const{css:i,isValidProperty:r}=zw(),{children:s,...o}=t,a=z.useMemo(()=>{const[p,v]=hg(o,E=>n(E,e.variantKeys)),[y,b]=hg(v,e.variantKeys),[S,_]=hg(b,r);return{forwardedProps:p,variantProps:y,styleProps:S,elementProps:_}},[e.variantKeys,n,o,r]),{css:l,...c}=a.styleProps,d=z.useMemo(()=>{const p={...a.variantProps};return e.variantKeys.includes("colorPalette")||(p.colorPalette=o.colorPalette),e.variantKeys.includes("orientation")||(p.orientation=o.orientation),e(p)},[e,a.variantProps,o.colorPalette,o.orientation]);return{styles:z.useMemo(()=>i(d,...Xq(l),c),[i,d,l,c]),props:{...a.forwardedProps,...a.elementProps,children:s}}}const Xq=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),Yq=Uq(q$),Kq=Yq,Jq=t=>t!=="theme",Qq=(t,e,n)=>{let i;if(e){const r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?s=>t.__emotion_forwardProp(s)&&r(s):r}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i};let Zq=typeof document<"u";const kN=({cache:t,serialized:e,isStringTag:n})=>{f2(t,e,n);const i=_B(()=>h2(t,e,n));if(!Zq&&i!==void 0){let r=e.name,s=e.next;for(;s!==void 0;)r=ua(r,s.name),s=s.next;return w.jsx("style",{"data-emotion":ua(t.key,r),dangerouslySetInnerHTML:{__html:i},nonce:t.sheet.nonce})}return null},eX=(t,e={},n={})=>{const i=t.__emotion_real===t,r=i&&t.__emotion_base||t;let s,o;n!==void 0&&(s=n.label,o=n.target);let a=[];const l=p2((c,d,h)=>{var ee;const{cva:p,isValidProperty:v}=zw(),y=e.__cva__?e:p(e),b=nX(t.__emotion_cva,y),S=K=>(Z,G)=>K.includes(Z)?!0:!(G!=null&&G.includes(Z))&&!v(Z);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=S(n.forwardProps));const _=(K,Z)=>{const G=typeof t=="string"&&t.charCodeAt(0)>96?Kq:Jq,j=!(Z!=null&&Z.includes(K))&&!v(K);return G(K)&&j},E=Qq(t,n,i)||_,T=z.useMemo(()=>Object.assign({},n.defaultProps,Ex(c)),[c]),{props:P,styles:k}=qq(T,b,E);let F="",D=[k],B=P;if(P.theme==null){B={};for(let K in P)B[K]=P[K];B.theme=z.useContext(m2)}typeof P.className=="string"?F=vB(d.registered,D,P.className):P.className!=null&&(F=ua(F,P.className));const N=Fw(a.concat(D),d.registered,B);F=ua(F,`${d.key}-${N.name}`),o!==void 0&&(F=ua(F,o));const R=!E("as");let U=R&&P.as||r,W={};for(let K in P)if(!(R&&K==="as")){if($q(K)){const Z=K.replace("html","").toLowerCase();W[Z]=P[K];continue}E(K)&&(W[K]=P[K])}W.className=F.trim(),W.ref=h;const Y=n.forwardAsChild||((ee=n.forwardProps)==null?void 0:ee.includes("asChild"));if(P.asChild&&!Y){const K=z.Children.only(P.children);U=K.type,W.children=null,Reflect.deleteProperty(W,"asChild"),W=P0(W,K.props),W.ref=Bq(h,Vq(K))}return W.as&&Y?(W.as=void 0,w.jsxs(z.Fragment,{children:[w.jsx(kN,{cache:d,serialized:N,isStringTag:typeof U=="string"}),w.jsx(U,{asChild:!0,...W,children:w.jsx(P.as,{children:W.children})})]})):w.jsxs(z.Fragment,{children:[w.jsx(kN,{cache:d,serialized:N,isStringTag:typeof U=="string"}),w.jsx(U,{...W})]})});return l.displayName=s!==void 0?s:`chakra(${typeof r=="string"?r:r.displayName||r.name||"Component"})`,l.__emotion_real=l,l.__emotion_base=r,l.__emotion_forwardProp=n.shouldForwardProp,l.__emotion_cva=e,Object.defineProperty(l,"toString",{value(){return`.${o}`}}),l},XT=eX.bind(),YT=new Map,tX=new Proxy(XT,{apply(t,e,n){return XT(...n)},get(t,e){return YT.has(e)||YT.set(e,XT(e)),YT.get(e)}}),Bo=tX,nX=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e);function iX(t){const{key:e,recipe:n}=t,i=zw();return z.useMemo(()=>{const r=n||(e!=null?i.getRecipe(e):{});return i.cva(structuredClone(r))},[e,n,i])}const rX=t=>t.charAt(0).toUpperCase()+t.slice(1);function Tx(t){const{key:e,recipe:n}=t,i=rX(e||n.className||"Component"),[r,s]=n0({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`});function o(c){const{unstyled:d,...h}=c,p=iX({key:e,recipe:h.recipe||n}),[v,y]=z.useMemo(()=>p.splitVariantProps(h),[p,h]);return{styles:d?H$:p(v),className:p.className,props:y}}const a=(c,d)=>{const h=Bo(c,{},d),p=z.forwardRef((v,y)=>{const b=s(),S=z.useMemo(()=>P0(b,v),[v,b]),{styles:_,className:E,props:T}=o(S);return w.jsx(h,{...T,ref:y,css:[_,S.css],className:ua(E,S.className)})});return p.displayName=c.displayName||c.name,p};function l(){return r}return{withContext:a,PropsProvider:r,withPropsProvider:l,usePropsContext:s,useRecipeResult:o}}var NN=t=>Math.max(0,Math.min(1,t)),sX=(t,e)=>t.map((n,i)=>t[(Math.max(e,0)+i)%t.length]),Bw=t=>typeof t=="object"&&t!==null,oX=2147483647,Kt=t=>t?"":void 0,dA=t=>t?"true":void 0,aX=1,lX=9,cX=11,bs=t=>Bw(t)&&t.nodeType===aX&&typeof t.nodeName=="string",y2=t=>Bw(t)&&t.nodeType===lX,uX=t=>Bw(t)&&t===t.window,wB=t=>bs(t)?t.localName||"":"#document";function dX(t){return["html","body","#document"].includes(wB(t))}var fX=t=>Bw(t)&&t.nodeType!==void 0,N0=t=>fX(t)&&t.nodeType===cX&&"host"in t,hX=t=>bs(t)&&t.localName==="input",pX=t=>bs(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,mX=/(textarea|select)/;function gX(t){if(t==null||!bs(t))return!1;try{return hX(t)&&t.selectionStart!=null||mX.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function rS(t,e){var i;if(!t||!e||!bs(t)||!bs(e))return!1;const n=(i=e.getRootNode)==null?void 0:i.call(e);if(t===e||t.contains(e))return!0;if(n&&N0(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Eu(t){return y2(t)?t:uX(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function vX(t){return Eu(t).documentElement}function Kd(t){var e;return N0(t)?Kd(t.host):y2(t)?t.defaultView??window:bs(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function EB(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function yX(t){if(wB(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N0(t)&&t.host||vX(t);return N0(e)?e.host:e}var KT=new WeakMap;function xX(t){return KT.has(t)||KT.set(t,Kd(t).getComputedStyle(t)),KT.get(t)}var TB=()=>typeof document<"u";function _X(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}var x2=t=>TB()&&t.test(_X()),bX=t=>TB()&&t.test(navigator.vendor),SX=()=>x2(/^Mac/),CB=()=>wX()&&bX(/apple/i),wX=()=>x2(/mac|iphone|ipad|ipod/i),_2=()=>x2(/iP(hone|ad|od)|iOS/);function EX(t){var e,n,i;return((e=t.composedPath)==null?void 0:e.call(t))??((i=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n))}function Id(t){const e=EX(t);return(e==null?void 0:e[0])??t.target}function TX(t){return IX(t).isComposing}var fA=t=>t.button===0,CX=t=>t.button===2||SX()&&t.ctrlKey&&t.button===0,hA=t=>t.ctrlKey||t.altKey||t.metaKey,MX=t=>"touches"in t&&t.touches.length>0,AX={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},LN={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function PX(t,e={}){const{dir:n="ltr",orientation:i="horizontal"}=e;let r=t.key;return r=AX[r]??r,n==="rtl"&&i==="horizontal"&&r in LN&&(r=LN[r]),r}function IX(t){return t.nativeEvent??t}var RX=new Set(["PageUp","PageDown"]),kX=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function MB(t){return t.ctrlKey||t.metaKey?.1:RX.has(t.key)||t.shiftKey&&kX.has(t.key)?10:1}function b2(t,e="client"){const n=MX(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var vr=(t,e,n,i)=>{const r=typeof t=="function"?t():t;return r==null||r.addEventListener(e,n,i),()=>{r==null||r.removeEventListener(e,n,i)}};function NX(t,e){const{type:n="HTMLInputElement",property:i="value"}=e,r=Kd(t)[n].prototype;return Object.getOwnPropertyDescriptor(r,i)??{}}function LX(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function S2(t,e,n="value"){var r;const i=LX(t);i&&((r=NX(t,{type:i,property:n}).set)==null||r.call(t,e)),t.setAttribute(n,e)}function AB(t,e){const{value:n,bubbles:i=!0}=e;if(!t)return;const r=Kd(t);t instanceof r.HTMLInputElement&&(S2(t,`${n}`),t.dispatchEvent(new r.Event("input",{bubbles:i})))}function DX(t){return OX(t)?t.form:t.closest("form")}function OX(t){return t.matches("textarea, input, select, button")}function FX(t,e){if(!t)return;const n=DX(t),i=r=>{r.defaultPrevented||e()};return n==null||n.addEventListener("reset",i,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",i)}function zX(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const i=Kd(n),r=new i.MutationObserver(()=>e(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function PB(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:i}=e,r=[FX(t,i),zX(t,n)];return()=>r.forEach(s=>s==null?void 0:s())}var IB=t=>bs(t)&&t.tagName==="IFRAME",BX=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),UX=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,w2="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",E2=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(w2));(e==!0||e=="if-empty"&&n.length===0)&&bs(t)&&Dd(t)&&n.unshift(t);const r=n.filter(Dd);return r.forEach((s,o)=>{if(IB(s)&&s.contentDocument){const a=s.contentDocument.body;r.splice(o,1,...E2(a))}}),r};function Dd(t){return!t||t.closest("[inert]")?!1:t.matches(w2)&&pX(t)}function RB(t,e){if(!t)return[];const i=Array.from(t.querySelectorAll(w2)).filter(fh);return i.forEach((r,s)=>{if(IB(r)&&r.contentDocument){const o=r.contentDocument.body,a=RB(o);i.splice(s,1,...a)}}),i.length,i}function fh(t){return t!=null&&t.tabIndex>0?!0:Dd(t)&&!UX(t)}function dy(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||gX(t))&&!BX(t)?0:t.tabIndex}function VX(t){const e=new Set;function n(i){const r=globalThis.requestAnimationFrame(i);e.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(t)),function(){e.forEach(r=>r())}}function da(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function jX(t,e){if(!t)return;const{attributes:n,callback:i}=e,r=t.ownerDocument.defaultView||window,s=new r.MutationObserver(o=>{for(const a of o)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&i(a)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function WX(t,e){const{defer:n}=e,i=n?da:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(jX(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function pA(t){const e=yX(t);return dX(e)?Eu(e).body:bs(e)&&GX(e)?e:pA(e)}var HX=/auto|scroll|overlay|hidden|clip/;function GX(t){const e=Kd(t),{overflow:n,overflowX:i,overflowY:r,display:s}=e.getComputedStyle(t);return HX.test(n+r+i)&&!["inline","contents"].includes(s)}function mA(t,e){const{left:n,top:i,width:r,height:s}=e.getBoundingClientRect(),o={x:t.x-n,y:t.y-i},a={x:NN(o.x/r),y:NN(o.y/s)};function l(c={}){const{dir:d="ltr",orientation:h="horizontal",inverted:p}=c,v=typeof p=="object"?p.x:p,y=typeof p=="object"?p.y:p;return h==="horizontal"?d==="rtl"||v?1-a.x:a.x:y?1-a.y:a.y}return{offset:o,percent:a,getPercentValue:l}}function $X(t,e){const n=t.body,i="pointerLockElement"in t||"mozPointerLockElement"in t,r=()=>!!t.pointerLockElement;function s(){}function o(l){r(),console.error("PointerLock error occurred:",l),t.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch{}const a=[vr(t,"pointerlockchange",s,!1),vr(t,"pointerlockerror",o,!1)];return()=>{a.forEach(l=>l()),t.exitPointerLock()}}var Jm="default",gA="",Ib=new WeakMap;function qX(t={}){const{target:e,doc:n}=t,i=n??document,r=i.documentElement;return _2()?(Jm==="default"&&(gA=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),Jm="disabled"):e&&(Ib.set(e,e.style.userSelect),e.style.userSelect="none"),()=>XX({target:e,doc:i})}function XX(t={}){const{target:e,doc:n}=t,r=(n??document).documentElement;if(_2()){if(Jm!=="disabled")return;Jm="restoring",setTimeout(()=>{VX(()=>{Jm==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=gA||""),gA="",Jm="default")})},300)}else if(e&&Ib.has(e)){const s=Ib.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),Ib.delete(e)}}function YX(t={}){const{defer:e,target:n,...i}=t,r=e?da:o=>o(),s=[];return s.push(r(()=>{const o=typeof n=="function"?n():n;s.push(qX({...i,target:o}))})),()=>{s.forEach(o=>o==null?void 0:o())}}function KX(t,e){const{onPointerMove:n,onPointerUp:i}=e,s=[vr(t,"pointermove",o=>{const a=b2(o),l=Math.sqrt(a.x**2+a.y**2),c=o.pointerType==="touch"?10:5;if(!(l<c)){if(o.pointerType==="mouse"&&o.button===0){i();return}n({point:a,event:o})}},!1),vr(t,"pointerup",i,!1),vr(t,"pointercancel",i,!1),vr(t,"contextmenu",i,!1),YX({doc:t})];return()=>{s.forEach(o=>o())}}function Qc(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function JX(t,e){return(t==null?void 0:t.querySelector(e))??null}var T2=t=>t.id;function QX(t,e,n=T2){return t.find(i=>n(i)===e)}function C2(t,e,n=T2){const i=QX(t,e,n);return i?t.indexOf(i):-1}function kB(t,e,n=!0){let i=C2(t,e);return i=n?(i+1)%t.length:Math.min(i+1,t.length-1),t[i]}function NB(t,e,n=!0){let i=C2(t,e);return i===-1?n?t[t.length-1]:null:(i=n?(i-1+t.length)%t.length:Math.max(0,i-1),t[i])}function $i(t){const e={getRootNode:n=>{var i;return((i=n.getRootNode)==null?void 0:i.call(n))??document},getDoc:n=>Eu(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>EB(e.getRootNode(n)),isActiveElement:(n,i)=>i===e.getActiveElement(n),getById:(n,i)=>e.getRootNode(n).getElementById(i),setValue:(n,i)=>{n==null||i==null||S2(n,i.toString())}};return{...e,...t}}var ZX=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),eY=t=>{var e;return ZX(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},tY=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function nY(t,e,n,i=T2){const r=n?C2(t,n,i):-1;let s=n?sX(t,r):t;return e.length===1&&(s=s.filter(a=>i(a)!==n)),s.find(a=>tY(eY(a),e))}var JT=new WeakMap;function iY(t,e,n){JT.has(t)||JT.set(t,new Map);const i=JT.get(t),r=i.get(e);if(!r)return i.set(e,n()),()=>{var a;(a=i.get(e))==null||a(),i.delete(e)};const s=n(),o=()=>{s(),r(),i.delete(e)};return i.set(e,o),()=>{i.get(e)===o&&(s(),i.set(e,r))}}function rY(t,e){return t?iY(t,"style",()=>{const i=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=i}}):()=>{}}function sY(t,e){const{state:n,activeId:i,key:r,timeout:s=350,itemToId:o}=e,a=n.keysSoFar+r,c=a.length>1&&Array.from(a).every(y=>y===a[0])?a[0]:a;let d=t.slice();const h=nY(d,c,i,o);function p(){clearTimeout(n.timer),n.timer=-1}function v(y){n.keysSoFar=y,p(),y!==""&&(n.timer=+setTimeout(()=>{v(""),p()},s))}return v(a),h}var oY=Object.assign(sY,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:aY});function aY(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var lY=1e3/60;function cY(t,e){const n=t();if(bs(n)&&n.isConnected)return e(n),()=>{};{const i=setInterval(()=>{const r=t();bs(r)&&r.isConnected&&(e(r),clearInterval(i))},lY);return()=>clearInterval(i)}}function uY(t,e){const n=[];return t==null||t.forEach(i=>{const r=cY(i,e);n.push(r)}),()=>{n.forEach(i=>i())}}function dY(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Tu(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,a=z.createContext(o);a.displayName=e;function l(){var d;const c=z.useContext(a);if(!c&&n){const h=new Error(s??dY(i,r));throw h.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,h,l),h}return c}return[a.Provider,l,a]}const[O2e,M2]=Tu({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function fY(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function A2(...t){return e=>{for(const n of t)fY(n,e)}}const hY=Symbol(),P2=Symbol(),$y="a",LB="f",DN="p",DB="c",OB="t",FB="h",Rb="w",zB="o",BB="k";let pY=(t,e)=>new Proxy(t,e);const vA=Object.getPrototypeOf,yA=new WeakMap,UB=t=>t&&(yA.has(t)?yA.get(t):vA(t)===Object.prototype||vA(t)===Array.prototype),ON=t=>typeof t=="object"&&t!==null,mY=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),gY=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(vA(t),e)},vY=(t,e)=>{const n={[LB]:e};let i=!1;const r=(a,l)=>{if(!i){let c=n[$y].get(t);if(c||(c={},n[$y].set(t,c)),a===Rb)c[Rb]=!0;else{let d=c[a];d||(d=new Set,c[a]=d),d.add(l)}}},s=()=>{i=!0,n[$y].delete(t)},o={get(a,l){return l===P2?t:(r(BB,l),jB(Reflect.get(a,l),n[$y],n[DB],n[OB]))},has(a,l){return l===hY?(s(),!0):(r(FB,l),Reflect.has(a,l))},getOwnPropertyDescriptor(a,l){return r(zB,l),Reflect.getOwnPropertyDescriptor(a,l)},ownKeys(a){return r(Rb),Reflect.ownKeys(a)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},VB=t=>t[P2]||t,jB=(t,e,n,i)=>{if(!UB(t))return t;let r=i&&i.get(t);if(!r){const l=VB(t);mY(l)?r=[l,gY(l)]:r=[l],i==null||i.set(t,r)}const[s,o]=r;let a=n&&n.get(s);return(!a||a[1][LB]!==!!o)&&(a=vY(s,!!o),a[1][DN]=pY(o||s,a[0]),n&&n.set(s,a)),a[1][$y]=e,a[1][DB]=n,a[1][OB]=i,a[1][DN]},yY=(t,e)=>{const n=Reflect.ownKeys(t),i=Reflect.ownKeys(e);return n.length!==i.length||n.some((r,s)=>r!==i[s])},WB=(t,e,n,i,r=Object.is)=>{if(r(t,e))return!1;if(!ON(t)||!ON(e))return!0;const s=n.get(VB(t));if(!s)return!0;if(i){if(i.get(t)===e)return!1;i.set(t,e)}let o=null;for(const a of s[FB]||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[Rb]===!0){if(o=yY(t,e),o)return o}else for(const a of s[zB]||[]){const l=!!Reflect.getOwnPropertyDescriptor(t,a),c=!!Reflect.getOwnPropertyDescriptor(e,a);if(o=l!==c,o)return o}for(const a of s[BB]||[])if(o=WB(t[a],e[a],n,i,r),o)return o;if(o===null)throw new Error("invalid used");return o},xY=t=>UB(t)&&t[P2]||null,FN=(t,e=!0)=>{yA.set(t,e)};function _Y(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function I2(t,e){const n=_Y();return n?(n[t]||(n[t]=e()),n[t]):e()}var i0=I2("__zag__refSet",()=>new WeakSet),bY=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,SY=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,wY=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",EY=t=>bY(t)||SY(t)||wY(t),xA=t=>t!==null&&typeof t=="object",_A=t=>xA(t)&&!i0.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!EY(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise);function zN(t,e,n){typeof n.value=="object"&&!_A(n.value)&&(n.value=Sh(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Sh(t){if(typeof t!="object")return t;var e=0,n,i,r,s=Object.prototype.toString.call(t);if(s==="[object Object]"?r=Object.create(Object.getPrototypeOf(t)||null):s==="[object Array]"?r=Array(t.length):s==="[object Set]"?(r=new Set,t.forEach(function(o){r.add(Sh(o))})):s==="[object Map]"?(r=new Map,t.forEach(function(o,a){r.set(Sh(a),Sh(o))})):s==="[object Date]"?r=new Date(+t):s==="[object RegExp]"?r=new RegExp(t.source,t.flags):s==="[object DataView]"?r=new t.constructor(Sh(t.buffer)):s==="[object ArrayBuffer]"?r=t.slice(0):s==="[object Blob]"?r=t.slice():s.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)zN(r,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(r,n=i[e])&&r[n]===t[n]||zN(r,n,Object.getOwnPropertyDescriptor(t,n))}return r||t}var xh=I2("__zag__proxyStateMap",()=>new WeakMap),TY=(t=Object.is,e=(a,l)=>new Proxy(a,l),n=new WeakMap,i=(a,l)=>{const c=n.get(a);if((c==null?void 0:c[0])===l)return c[1];const d=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return FN(d,!0),n.set(a,[l,d]),Reflect.ownKeys(a).forEach(h=>{const p=Reflect.get(a,h);i0.has(p)?(FN(p,!1),d[h]=p):xh.has(p)?d[h]=Rd(p):d[h]=p}),Object.freeze(d)},r=new WeakMap,s=[1,1],o=a=>{if(!xA(a))throw new Error("object required");const l=r.get(a);if(l)return l;let c=s[0];const d=new Set,h=(D,B=++s[0])=>{c!==B&&(c=B,d.forEach(N=>N(D,B)))};let p=s[1];const v=(D=++s[1])=>(p!==D&&!d.size&&(p=D,b.forEach(([B])=>{const N=B[1](D);N>c&&(c=N)})),c),y=D=>(B,N)=>{const R=[...B];R[1]=[D,...R[1]],h(R,N)},b=new Map,S=(D,B)=>{if(d.size){const N=B[3](y(D));b.set(D,[B,N])}else b.set(D,[B])},_=D=>{var N;const B=b.get(D);B&&(b.delete(D),(N=B[1])==null||N.call(B))},E=D=>(d.add(D),d.size===1&&b.forEach(([N,R],U)=>{const W=N[3](y(U));b.set(U,[N,W])}),()=>{d.delete(D),d.size===0&&b.forEach(([N,R],U)=>{R&&(R(),b.set(U,[N]))})}),T=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),k=e(T,{deleteProperty(D,B){const N=Reflect.get(D,B);_(B);const R=Reflect.deleteProperty(D,B);return R&&h(["delete",[B],N]),R},set(D,B,N,R){var ee;const U=Reflect.has(D,B),W=Reflect.get(D,B,R);if(U&&(t(W,N)||r.has(N)&&t(W,r.get(N))))return!0;_(B),xA(N)&&(N=xY(N)||N);let Y=N;if(!((ee=Object.getOwnPropertyDescriptor(D,B))!=null&&ee.set)){!xh.has(N)&&_A(N)&&(Y=Uw(N));const K=!i0.has(Y)&&xh.get(Y);K&&S(B,K)}return Reflect.set(D,B,Y,R),h(["set",[B],N,W]),!0}});r.set(a,k);const F=[T,v,i,E];return xh.set(k,F),Reflect.ownKeys(a).forEach(D=>{const B=Object.getOwnPropertyDescriptor(a,D);B.get||B.set?Object.defineProperty(T,D,B):k[D]=a[D]}),k})=>[o,xh,i0,t,e,_A,n,i,r,s],[CY]=TY();function Uw(t={}){return CY(t)}function bA(t,e,n){const i=xh.get(t);let r;const s=[],o=i[3];let a=!1;const c=o(d=>{if(s.push(d),n){e(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function Rd(t){const e=xh.get(t),[n,i,r]=e;return r(n,i())}function Eg(t){return i0.add(t),t}function MY(t,e){Object.keys(e).forEach(r=>{if(Object.getOwnPropertyDescriptor(t,r))throw new Error("object property already defined");const s=e[r],{get:o,set:a}=typeof s=="function"?{get:s}:s,l={};l.get=()=>o(Rd(i)),a&&(l.set=c=>a(i,c)),Object.defineProperty(t,r,l)});const i=Uw(t);return i}var HB=t=>t[0],GB=t=>t[t.length-1];function AY(t){for(;t.length>0;)t.pop();return t}var BN=t=>(t==null?void 0:t.constructor.name)==="Array",PY=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Od(t[n],e[n]))return!1;return!0},Od=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(BN(t)&&BN(e))return PY(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<i;r++){const s=n[r];if(!Od(t[s],e[s]))return!1}return!0},UN=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,Xc=t=>t,IY=()=>{},sS=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},VN=(()=>{let t=0;return()=>(t++,t.toString(36))})(),oS=t=>Array.isArray(t),$B=t=>t!=null&&typeof t=="object",kb=t=>$B(t)&&!oS(t),RY=t=>typeof t=="number"&&!Number.isNaN(t),ko=t=>typeof t=="string",L0=t=>typeof t=="function",qB=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),kY=t=>Object.prototype.toString.call(t),XB=Function.prototype.toString,NY=XB.call(Object),i1=t=>{if(!$B(t)||kY(t)!="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=qB(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XB.call(n)==NY},{floor:SA,abs:aS,round:R2,min:LY,max:DY,pow:OY,sign:FY}=Math,qy=t=>Number.isNaN(t),uu=t=>qy(t)?0:t,zY=(t,e)=>(t%e+e)%e,BY=(t,e,n)=>t===0?n:e[t-1],UY=(t,e,n)=>t===e.length-1?n:e[t+1],VY=(t,e)=>uu(t)>=e,jY=(t,e)=>uu(t)<=e,WY=(t,e,n)=>uu(t)>=e&&uu(t)<=n,HY=(t,e,n)=>R2((uu(t)-e)/n)*n+e,kd=(t,e,n)=>LY(DY(uu(t),e),n),k2=(t,e,n)=>(uu(t)-e)/(n-e),YB=(t,e,n,i)=>kd(HY(t*(n-e)+e,e,i),e,n),r1=(t,e)=>{let n=t,i=e.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){let o=OY(10,s);n=R2(n*o)/o}return n},r0=(t,e)=>typeof e=="number"?SA(t*e+.5)/e:R2(t),KB=(t,e,n,i)=>{e=Number(e),n=Number(n);let r=(t-(qy(e)?0:e))%i,s=r1(aS(r)*2>=i?t+FY(r)*(i-aS(r)):t-r,i);return qy(e)?!qy(n)&&s>n&&(s=e+SA(r1((n-e)/i,i))*i):s<e?s=e:!qy(n)&&s>n&&(s=e+SA(r1((n-e)/i,i))*i),r1(s,i)},GY=(t,e,n)=>t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)];function JB(t,e){const n=BY(t,e.values,e.min),i=UY(t,e.values,e.max);let r=e.values.slice();return function(o){let a=KB(o,n,i,e.step);return r=GY(r,t,o),r[t]=a,r}}function $Y(t,e){const n=e.values[t]+e.step;return JB(t,e)(n)}function qY(t,e){const n=e.values[t]-e.step;return JB(t,e)(n)}var XY=(t,e)=>{let n=t.findIndex(s=>e-s<0);if(n===0)return n;if(n===-1)return t.length-1;let i=t[n-1],r=t[n];return aS(i-e)<aS(r-e)?n-1:n},YY=(t,e,n,i)=>t.map((r,s)=>({min:s===0?e:t[s-1]+i,max:s===t.length-1?n:t[s+1]-i,value:r})),wA=(t,e)=>{const[n,i]=t,[r,s]=e;return o=>n===i||r===s?r:r+(s-r)/(i-n)*(o-n)},jN=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},QB=(t,e,n)=>{let i=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const r=10**Math.max(jN(t),jN(n));t=Math.round(t*r),n=Math.round(n*r),i=e==="+"?t+n:t-n,i/=r}return i},KY=(t,e)=>QB(uu(t),"+",e),JY=(t,e)=>QB(uu(t),"-",e);function Gg(t){if(!QY(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const r=t[i];r!==void 0&&(n[i]=Gg(r))}return n}var QY=t=>t&&typeof t=="object"&&t.constructor===Object;function Nb(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function Lb(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}var ZY=Object.defineProperty,eK=(t,e,n)=>e in t?ZY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e,n)=>eK(t,typeof e!="symbol"?e+"":e,n);function ZB(t,...e){if(!i1(t))throw new TypeError("Source argument must be a plain object");for(const n of e){if(!i1(n))continue;const i=Gg(n);for(const r in i){if(!Object.prototype.hasOwnProperty.call(i,r)||r==="__proto__"||r==="constructor"||r==="prototype")continue;const s=t[r],o=n[r];i1(o)?t[r]=i1(s)?ZB(s,o):{...o}:t[r]=o}}return t}function Ua(t){return ko(t)?{type:t}:t}function bd(t){return t?oS(t)?t.slice():[t]:[]}function eU(t){return kb(t)&&t.predicate!=null}var tU=()=>!0;function N2(t,e,n,i){return r=>{var s;return ko(r)?!!((s=t[r])!=null&&s.call(t,e,n,i)):L0(r)?r(e,n,i):r.predicate(t)(e,n,i)}}function tK(...t){return{predicate:e=>(n,i,r)=>t.map(N2(e,n,i,r)).every(Boolean)}}function nK(t){return{predicate:e=>(n,i,r)=>!N2(e,n,i,r)(t)}}var iK={and:tK,not:nK};function rK(t){return{predicate:e=>(n,i,r)=>{var s;return(s=t.find(o=>{const a=o.guard??tU;return N2(e,n,i,r)(a)}))==null?void 0:s.actions}}}function nU(t,e){return t=t??tU,(n,i,r)=>{if(ko(t)){const s=e[t];return L0(s)?s(n,i,r):s}return eU(t)?t.predicate(e)(n,i,r):t==null?void 0:t(n,i,r)}}function QT(t,e){return(n,i,r)=>eU(t)?t.predicate(e)(n,i,r):t}function sK(t){var s,o;const e=t.computed??Xc({}),n=t.context??Xc({}),i=t.initial?(o=(s=t.states)==null?void 0:s[t.initial])==null?void 0:o.tags:[],r=Uw({value:t.initial??"",previousValue:"",event:Xc({}),previousEvent:Xc({}),context:MY(n,e),done:!1,tags:i??[],hasTag(a){return this.tags.includes(a)},matches(...a){return a.includes(this.value)},can(a){return Xc(this).nextEvents.includes(a)},get nextEvents(){var c,d;const a=((d=(c=t.states)==null?void 0:c[this.value])==null?void 0:d.on)??{},l=(t==null?void 0:t.on)??{};return Object.keys({...a,...l})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Xc(r)}function fy(t,e){return(n,i)=>{if(RY(t))return t;if(L0(t))return t(n,i);if(ko(t)){const r=Number.parseFloat(t);if(!Number.isNaN(r))return r;if(e){const s=e==null?void 0:e[t];return Lb(s==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),L0(s)?s(n,i):s}}}}function oK(t){return ko(t)?{target:t}:t}function aK(t,e){return(n,i,r)=>bd(t).map(oK).find(s=>nU(s.guard,e)(n,i,r)??s.target??s.actions)}var lK=class{constructor(t,e){var n,i,r,s,o;Tt(this,"status","Not Started"),Tt(this,"state"),Tt(this,"initialState"),Tt(this,"initialContext"),Tt(this,"id"),Tt(this,"type","machine"),Tt(this,"activityEvents",new Map),Tt(this,"delayedEvents",new Map),Tt(this,"stateListeners",new Set),Tt(this,"doneListeners",new Set),Tt(this,"contextWatchers",new Set),Tt(this,"removeStateListener",IY),Tt(this,"parent"),Tt(this,"children",new Map),Tt(this,"guardMap"),Tt(this,"actionMap"),Tt(this,"delayMap"),Tt(this,"activityMap"),Tt(this,"sync"),Tt(this,"options"),Tt(this,"config"),Tt(this,"_created",()=>{if(!this.config.created)return;const a=Ua("machine.created");this.executeActions(this.config.created,a)}),Tt(this,"start",a=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=bA(this.state,()=>{this.stateListeners.forEach(v=>{v(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ua("machine.start"),bd(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ua("machine.start"));const l=Ua("machine.init"),c=kb(a)?a.value:a,d=kb(a)?a.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},p=this.getNextStateInfo(h,l);return this.initialState=p,this.performStateChangeEffects(this.state.value,p,l),this}),Tt(this,"setupContextWatchers",()=>{const{watch:a}=this.config;if(!a)return;let l=Rd(this.state.context);const c=bA(this.state.context,()=>{var h;const d=Rd(this.state.context);for(const[p,v]of Object.entries(a))(((h=this.options.compareFns)==null?void 0:h[p])??Object.is)(l[p],d[p])||this.executeActions(v,this.state.event);l=d});this.contextWatchers.add(c)}),Tt(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ua("machine.stop")),this.executeActions(this.config.exit,Ua("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Tt(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Tt(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(a=>a()),this.contextWatchers.clear()}),Tt(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(a=>{a.forEach(l=>l())}),this.delayedEvents.clear()}),Tt(this,"stopActivities",a=>{var l,c;a?((l=this.activityEvents.get(a))==null||l.forEach(d=>d()),(c=this.activityEvents.get(a))==null||c.clear(),this.activityEvents.delete(a)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Tt(this,"sendChild",(a,l)=>{const c=Ua(a),d=UN(l,this.contextSnapshot),h=this.children.get(d);h||Lb(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Tt(this,"stopChild",a=>{this.children.has(a)||Lb(`[@zag-js/core > stop-child] Cannot stop unknown child ${a}`),this.children.get(a).stop(),this.children.delete(a)}),Tt(this,"removeChild",a=>{this.children.delete(a)}),Tt(this,"stopChildren",()=>{this.children.forEach(a=>a.stop()),this.children.clear()}),Tt(this,"setParent",a=>{this.parent=a}),Tt(this,"spawn",(a,l)=>{const c=UN(a);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Xc(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Xc(Eg(c))}),Tt(this,"stopActivity",a=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(a))==null||c(),l==null||l.delete(a)}),Tt(this,"addActivityCleanup",(a,l,c)=>{var d;a&&(this.activityEvents.has(a)?(d=this.activityEvents.get(a))==null||d.set(l,c):this.activityEvents.set(a,new Map([[l,c]])))}),Tt(this,"setState",a=>{this.state.previousValue=this.state.value,this.state.value=a;const l=this.getStateNode(a);a==null?AY(this.state.tags):this.state.tags=bd(l==null?void 0:l.tags)}),Tt(this,"setContext",a=>{a&&ZB(this.state.context,a)}),Tt(this,"setOptions",a=>{const l=Gg(a);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Tt(this,"getStateNode",a=>{var l;if(a)return(l=this.config.states)==null?void 0:l[a]}),Tt(this,"getNextStateInfo",(a,l)=>{const c=this.determineTransition(a,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,p=this.state.value!==h,v=this.getStateNode(h),b={reenter:!d&&!p&&!(c!=null&&c.internal),transition:c,stateNode:v,target:h,changed:p};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",b.target),b}),Tt(this,"getAfterActions",(a,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(a,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Tt(this,"getDelayedEventActions",a=>{const l=this.getStateNode(a),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(oS(l.after)){const p=this.determineTransition(l.after,c);if(!p)return;if(!qB(p,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(p)}`);const y=fy(p.delay,this.delayMap)(this.contextSnapshot,c),b=this.getAfterActions(p,y);return d.push(b.entry),h.push(b.exit),{entries:d,exits:h}}if(kb(l.after))for(const p in l.after){const v=l.after[p],b=fy(p,this.delayMap)(this.contextSnapshot,c),S=this.getAfterActions(v,b);d.push(S.entry),h.push(S.exit)}return{entries:d,exits:h}}),Tt(this,"executeActions",(a,l)=>{var d;const c=QT(a,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of bd(c)){const p=ko(h)?(d=this.actionMap)==null?void 0:d[h]:h;Nb(ko(h)&&!p,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),p==null||p(this.state.context,l,this.meta)}}),Tt(this,"executeActivities",(a,l,c)=>{var d;for(const h of l){const p=ko(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!p){Nb(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const v=p(this.state.context,a,this.meta);if(v){const y=ko(h)?h:h.name||VN();this.addActivityCleanup(c??this.state.value,y,v)}}}),Tt(this,"createEveryActivities",(a,l)=>{if(a)if(oS(a)){const c=bd(a).find(v=>{const y=v.delay,S=fy(y,this.delayMap)(this.contextSnapshot,this.state.event);return nU(v.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??S!=null});if(!c)return;const h=fy(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const v=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(v)}})}else for(const c in a){const d=a==null?void 0:a[c],p=fy(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const y=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},p);return()=>{globalThis.clearInterval(y)}})}}),Tt(this,"setEvent",a=>{this.state.previousEvent=this.state.event,this.state.event=Eg(Ua(a))}),Tt(this,"performExitEffects",(a,l)=>{const c=this.state.value;if(c==="")return;const d=a?this.getStateNode(a):void 0;this.stopActivities(c);const h=QT(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),p=bd(h),v=this.delayedEvents.get(c);v&&p.push(...v),this.executeActions(p,l),this.delayedEvents.delete(c)}),Tt(this,"performEntryEffects",(a,l)=>{const c=this.getStateNode(a),d=bd(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,y=>{d.unshift(y)}),d.length>0&&this.executeActivities(l,d);const h=QT(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),p=bd(h),v=this.getDelayedEventActions(a);c!=null&&c.after&&v&&(this.delayedEvents.set(a,v==null?void 0:v.exits),p.push(...v.entries)),this.executeActions(p,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(y=>{y(this.stateSnapshot)}),this.stop())}),Tt(this,"performTransitionEffects",(a,l)=>{const c=this.determineTransition(a,l);this.executeActions(c==null?void 0:c.actions,l)}),Tt(this,"performStateChangeEffects",(a,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(a,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Tt(this,"determineTransition",(a,l)=>{const c=aK(a,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Tt(this,"sendParent",a=>{var c;this.parent||Lb("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ua(a);(c=this.parent)==null||c.send(l)}),Tt(this,"log",(...a)=>{}),Tt(this,"send",a=>{const l=Ua(a);this.transition(this.state.value,l)}),Tt(this,"transition",(a,l)=>{var v,y;const c=ko(a)?this.getStateNode(a):a==null?void 0:a.stateNode,d=Ua(l);if(!c&&!this.config.on){const b=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${a}, \`event\`: ${d.type}`;Nb(b);return}const h=((v=c==null?void 0:c.on)==null?void 0:v[d.type])??((y=this.config.on)==null?void 0:y[d.type]),p=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,p,d),p.stateNode}),Tt(this,"subscribe",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),()=>{this.stateListeners.delete(a)})),Tt(this,"onDone",a=>(this.doneListeners.add(a),this)),Tt(this,"onTransition",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),this)),this.config=Sh(t),this.options=Sh(e??{}),this.id=this.config.id??`machine-${VN()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((i=this.options)==null?void 0:i.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((s=this.options)==null?void 0:s.activities)??{},this.sync=((o=this.options)==null?void 0:o.sync)??!1,this.state=sK(this.config),this.initialContext=Rd(this.state.context)}get stateSnapshot(){return Xc(Rd(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Vw=(t,e)=>new lK(t,e),cK=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),uK=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,WN=t=>{const e={};let n;for(;n=uK.exec(t);)e[n[1]]=n[2];return e},dK=(t,e)=>{if(ko(t)){if(ko(e))return`${t};${e}`;t=WN(t)}else ko(e)&&(e=WN(e));return Object.assign({},t??{},e??{})};function Fn(...t){let e={};for(let n of t){for(let i in e){if(i.startsWith("on")&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=sS(n[i],e[i]);continue}if(i==="className"||i==="class"){e[i]=cK(e[i],n[i]);continue}if(i==="style"){e[i]=dK(e[i],n[i]);continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}function fK(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ZT=t=>{const e=z.memo(z.forwardRef((n,i)=>{const{asChild:r,children:s,...o}=n;if(!r)return z.createElement(t,{...o,ref:i},s);const a=z.Children.only(s);if(!z.isValidElement(a))return null;const l=fK(a);return z.cloneElement(a,{...Fn(o,a.props),ref:i?A2(i,l):l})}));return e.displayName=t.displayName||t.name,e},hK=()=>{const t=new Map;return new Proxy(ZT,{apply(e,n,i){return ZT(i[0])},get(e,n){const i=n;return t.has(i)||t.set(i,ZT(i)),t.get(i)}})},Qn=hK(),Jd=()=>(t,e)=>e.reduce((n,i)=>{const[r,s]=n,o=i;return s[o]!==void 0&&(r[o]=s[o]),delete s[o],[r,s]},[{},{...t}]),iU=t=>Jd()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function pK(t){return new Proxy({},{get(){return t}})}var zn=()=>t=>Array.from(new Set(t));function mK(t,e,n){const i=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&i,present:i,setNode(r){r&&e({type:"NODE.SET",node:r})},unmount(){e({type:"UNMOUNT"})}}}function gK(t){return Vw({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){var n,i;return HN((n=e.styles)==null?void 0:n.animationDuration)+HN((i=e.styles)==null?void 0:i.animationDelay)+vK}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){var n;(n=e.onExitComplete)==null||n.call(e)},setNode(e,n){e.node=Eg(n.node)},setStyles(e,n){const i=n.node.ownerDocument.defaultView||window;e.styles=Eg(i.getComputedStyle(n.node))},syncPresence(e,n,{send:i}){var o;if(e.present){i({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&((o=e.node)==null?void 0:o.ownerDocument.visibilityState)==="hidden"){i({type:"UNMOUNT",src:"visibilitychange"});return}const r=s1(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{var a,l;e.unmountAnimationName=r,r==="none"||r===e.prevAnimationName||((a=e.styles)==null?void 0:a.display)==="none"||((l=e.styles)==null?void 0:l.animationDuration)==="0s"?i({type:"UNMOUNT",src:"presence.changed"}):i({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=s1(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,n,{send:i}){const r=e.node;if(!r)return;const s=a=>{var c,d;(((d=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:d[0])??a.target)===r&&(e.prevAnimationName=s1(e.styles))},o=a=>{var d,h;const l=s1(e.styles);(((h=(d=a.composedPath)==null?void 0:d.call(a))==null?void 0:h[0])??a.target)===r&&l===e.unmountAnimationName&&i({type:"UNMOUNT",src:"animationend"})};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",o),r.addEventListener("animationend",o),()=>{r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",o),r.removeEventListener("animationend",o)}}}})}function s1(t){return(t==null?void 0:t.animationName)||"none"}function HN(t){return parseFloat(t||"0")*1e3}var vK=16.667;zn()(["onExitComplete","present","immediate"]);var yK=lB(),L2=pK(t=>t),GN=t=>(t==null?void 0:t.constructor.name)==="Array",xK=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!D2(t[n],e[n]))return!1;return!0},D2=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(GN(t)&&GN(e))return xK(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<i;r++){const s=n[r];if(!D2(t[s],e[s]))return!1}return!0},_K=Function.prototype.toString;_K.call(Object);function rU(t){if(!bK(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const r=t[i];r!==void 0&&(n[i]=rU(r))}return n}var bK=t=>t&&typeof t=="object"&&t.constructor===Object;function SK(t,e){const n=z.useRef(!1),i=z.useRef(!1);z.useEffect(()=>{if(n.current&&i.current)return t();i.current=!0},e),z.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var wK=I2("__zag__targetCache",()=>new WeakMap);function EK(t,e){const{actions:n,context:i,sync:r}=e??{},s=z.useRef(void 0),o=z.useRef(void 0),a=z.useSyncExternalStore(z.useCallback(h=>bA(t.state,h,r),[r]),()=>{const h=Rd(t.state);try{if(s.current&&o.current&&!WB(s.current,h,o.current,new WeakMap))return s.current}catch{}return h},()=>Rd(t.state));t.setOptions({actions:n});const l=z.useMemo(()=>rU(i??{}),[i]);SK(()=>{const h=Object.entries(l),p=t.contextSnapshot??{};h.map(([b,S])=>({key:b,curr:S,prev:p[b],equal:D2(p[b],S)})).every(({equal:b})=>b)||t.setContext(l)},[l]);const c=new WeakMap;z.useEffect(()=>{s.current=a,o.current=c});const d=z.useMemo(()=>new WeakMap,[]);return jB(a,c,d,wK)}function TK(t){const e=z.useRef(void 0);return e.current||(e.current={v:t()}),e.current.v}var CK=typeof document<"u"?z.useLayoutEffect:z.useEffect;function MK(t,e){const{state:n,context:i}=e??{},r=TK(()=>{const o=typeof t=="function"?t():t;return i&&o.setContext(i),o._created(),o}),s=z.useRef(void 0);return CK(()=>{const o=n??s.current;return r.start(o),()=>{r.stop()}},[]),r}function jw(t,e){const n=MK(t,e);return[EK(n,e),n.send,n]}function Hl(t,e={}){const{sync:n=!1}=e,i=AK(t);return z.useCallback((...r)=>{var s;return n?queueMicrotask(()=>{var o;return(o=i.current)==null?void 0:o.call(i,...r)}):(s=i.current)==null?void 0:s.call(i,...r)},[n,i])}function AK(t){const e=z.useRef(t);return e.current=t,e}const O2=t=>{const{lazyMount:e,unmountOnExit:n,present:i,...r}=t,s=z.useRef(!1),o={...r,present:i,onExitComplete:Hl(t.onExitComplete)},[a,l]=jw(gK(o),{context:o}),c=mK(a,l);c.present&&(s.current=!0);const d=!c.present&&!s.current&&e||n&&!c.present&&s.current,h=()=>({"data-state":i?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:h,present:c.present,unmounted:d}},[sU,F2]=Tu({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});var Jt=(t,e=[])=>({parts:(...n)=>{if(PK(e))return Jt(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Jt(t,[...e,...n]),rename:n=>Jt(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${hm(t)}"][data-part="${hm(i)}"]`,`& [data-scope="${hm(t)}"][data-part="${hm(i)}"]`].join(", "),attrs:{"data-scope":hm(t),"data-part":hm(i)}}}),{})}),hm=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),PK=t=>t.length===0,oU=Jt("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");oU.build();var Pl=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`accordion:${t.id}:item:${e}`},getItemContentId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,e))??`accordion:${t.id}:content:${e}`},getItemTriggerId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,e))??`accordion:${t.id}:trigger:${e}`},getRootEl:t=>Pl.getById(t,Pl.getRootId(t)),getTriggerEls:t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(Pl.getRootId(t))}']:not([disabled])`;return Qc(Pl.getRootEl(t),n)},getFirstTriggerEl:t=>HB(Pl.getTriggerEls(t)),getLastTriggerEl:t=>GB(Pl.getTriggerEls(t)),getNextTriggerEl:(t,e)=>kB(Pl.getTriggerEls(t),Pl.getItemTriggerId(t,e)),getPrevTriggerEl:(t,e)=>NB(Pl.getTriggerEls(t),Pl.getItemTriggerId(t,e))});zn()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);zn()(["value","disabled"]);var aU=Jt("collapsible").parts("root","trigger","content");aU.build();var pm=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`collapsible:${t.id}`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`collapsible:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`collapsible:${t.id}:trigger`},getRootEl:t=>pm.getById(t,pm.getRootId(t)),getContentEl:t=>pm.getById(t,pm.getContentId(t)),getTriggerEl:t=>pm.getById(t,pm.getTriggerId(t))});zn()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const[F2e,Ww]=Tu({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function IK(t){const e={each(n){var i;for(let r=0;r<((i=t.frames)==null?void 0:i.length);r+=1){const s=t.frames[r];s&&n(s)}},addEventListener(n,i,r){return e.each(s=>{try{s.document.addEventListener(n,i,r)}catch{}}),()=>{try{e.removeEventListener(n,i,r)}catch{}}},removeEventListener(n,i,r){e.each(s=>{try{s.document.removeEventListener(n,i,r)}catch{}})}};return e}function RK(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,i,r)=>{try{e==null||e.addEventListener(n,i,r)}catch{}return()=>{try{e==null||e.removeEventListener(n,i,r)}catch{}}},removeEventListener:(n,i,r)=>{try{e==null||e.removeEventListener(n,i,r)}catch{}}}}var $N="pointerdown.outside",qN="focus.outside";function kK(t){for(const e of t)if(bs(e)&&Dd(e))return!0;return!1}var lU=t=>"clientY"in t;function NK(t,e){if(!lU(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function LK(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function XN(t,e){if(!e||!lU(t))return!1;const n=e.scrollHeight>e.clientHeight,i=n&&t.clientX>e.offsetLeft+e.clientWidth,r=e.scrollWidth>e.clientWidth,s=r&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(r?16:0)},a={x:t.clientX,y:t.clientY};return LK(o,a)?i||s:!1}function DK(t,e){const{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:o}=e;if(!t)return;const a=Eu(t),l=Kd(t),c=IK(l),d=RK(l);function h(_){const E=Id(_);if(!bs(E)||!E.isConnected||rS(t,E)||NK(t,_))return!1;const T=a.querySelector(`[aria-controls="${t.id}"]`);if(T){const k=pA(T);if(XN(_,k))return!1}const P=pA(t);return XN(_,P)?!1:!(n!=null&&n(E))}const p=new Set;function v(_){function E(){var k;const T=o?da:F=>F(),P=((k=_.composedPath)==null?void 0:k.call(_))??[_.target];T(()=>{if(!(!t||!h(_))){if(r||s){const F=sS(r,s);t.addEventListener($N,F,{once:!0})}YN(t,$N,{bubbles:!1,cancelable:!0,detail:{originalEvent:_,contextmenu:CX(_),focusable:kK(P)}})}})}_.pointerType==="touch"?(p.forEach(T=>T()),p.add(vr(a,"click",E,{once:!0})),p.add(d.addEventListener("click",E,{once:!0})),p.add(c.addEventListener("click",E,{once:!0}))):E()}const y=new Set,b=setTimeout(()=>{y.add(vr(a,"pointerdown",v,!0)),y.add(d.addEventListener("pointerdown",v,!0)),y.add(c.addEventListener("pointerdown",v,!0))},0);function S(_){(o?da:T=>T())(()=>{if(!(!t||!h(_))){if(i||s){const T=sS(i,s);t.addEventListener(qN,T,{once:!0})}YN(t,qN,{bubbles:!1,cancelable:!0,detail:{originalEvent:_,contextmenu:!1,focusable:Dd(Id(_))}})}})}return y.add(vr(a,"focusin",S,!0)),y.add(d.addEventListener("focusin",S,!0)),y.add(c.addEventListener("focusin",S,!0)),()=>{clearTimeout(b),p.forEach(_=>_()),y.forEach(_=>_())}}function OK(t,e){const{defer:n}=e,i=n?da:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(DK(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function YN(t,e,n){const i=t.ownerDocument.defaultView||window,r=new i.CustomEvent(e,n);return t.dispatchEvent(r)}function FK(t,e){const n=i=>{i.key==="Escape"&&(i.isComposing||e==null||e(i))};return vr(Eu(t),"keydown",n,{capture:!0})}var qa={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var i;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>rS(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>rS(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(i=>i.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},KN;function JN(){qa.layers.forEach(({node:t})=>{t.style.pointerEvents=qa.isBelowPointerBlockingLayer(t)?"none":"auto"})}function zK(t){t.style.pointerEvents=""}function BK(t,e){const n=Eu(t),i=[];if(qa.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(KN=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const r=uY(e,s=>{i.push(rY(s,{pointerEvents:"auto"}))});i.push(r)}return()=>{qa.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=KN,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function UK(t,e){if(!t){Nb("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:n,pointerBlocking:i,exclude:r,debug:s}=e,o={dismiss:n,node:t,pointerBlocking:i};qa.add(o),JN();function a(p){var y,b;const v=Id(p.detail.originalEvent);qa.isBelowPointerBlockingLayer(t)||qa.isInBranch(v)||((y=e.onPointerDownOutside)==null||y.call(e,p),(b=e.onInteractOutside)==null||b.call(e,p),!p.defaultPrevented&&(s&&console.log("onPointerDownOutside:",p.detail.originalEvent),n==null||n()))}function l(p){var y,b;const v=Id(p.detail.originalEvent);qa.isInBranch(v)||((y=e.onFocusOutside)==null||y.call(e,p),(b=e.onInteractOutside)==null||b.call(e,p),!p.defaultPrevented&&(s&&console.log("onFocusOutside:",p.detail.originalEvent),n==null||n()))}function c(p){var v;qa.isTopMost(t)&&((v=e.onEscapeKeyDown)==null||v.call(e,p),!p.defaultPrevented&&n&&(p.preventDefault(),n()))}function d(p){var S;if(!t)return!1;const v=typeof r=="function"?r():r,y=Array.isArray(v)?v:[v],b=(S=e.persistentElements)==null?void 0:S.map(_=>_()).filter(bs);return b&&y.push(...b),y.some(_=>rS(_,p))||qa.isInNestedLayer(t,p)}const h=[i?BK(t,e.persistentElements):void 0,FK(t,c),OK(t,{exclude:d,onFocusOutside:l,onPointerDownOutside:a,defer:e.defer})];return()=>{qa.remove(t),JN(),zK(t),h.forEach(p=>p==null?void 0:p())}}function VK(t,e){const{defer:n}=e,i=n?da:s=>s(),r=[];return r.push(i(()=>{const s=L0(t)?t():t;r.push(UK(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}var cU=Jt("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);cU.build();var ai=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`color-picker:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`color-picker:${t.id}:label`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},getFormatSelectId:t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},getAreaId:t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},getAreaGradientId:t=>{var e;return((e=t.ids)==null?void 0:e.areaGradient)??`color-picker:${t.id}:area-gradient`},getAreaThumbId:t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},getChannelSliderTrackId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:i.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},getChannelSliderThumbId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:i.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},getContentEl:t=>ai.getById(t,ai.getContentId(t)),getAreaThumbEl:t=>ai.getById(t,ai.getAreaThumbId(t)),getChannelSliderThumbEl:(t,e)=>ai.getById(t,ai.getChannelSliderThumbId(t,e)),getChannelInputEl:(t,e)=>{const n=`input[data-channel="${e}"]`;return[...Qc(ai.getContentEl(t),n),...Qc(ai.getControlEl(t),n)]},getFormatSelectEl:t=>ai.getById(t,ai.getFormatSelectId(t)),getHiddenInputEl:t=>ai.getById(t,ai.getHiddenInputId(t)),getAreaEl:t=>ai.getById(t,ai.getAreaId(t)),getAreaValueFromPoint(t,e){const n=ai.getAreaEl(t);if(!n)return;const{percent:i}=mA(e,n);return i},getControlEl:t=>ai.getById(t,ai.getControlId(t)),getTriggerEl:t=>ai.getById(t,ai.getTriggerId(t)),getPositionerEl:t=>ai.getById(t,ai.getPositionerId(t)),getChannelSliderTrackEl:(t,e)=>ai.getById(t,ai.getChannelSliderTrackId(t,e)),getChannelSliderValueFromPoint(t,e,n){const i=ai.getChannelSliderTrackEl(t,n);if(!i)return;const{percent:r}=mA(e,i);return r},getChannelInputEls:t=>[...Qc(ai.getContentEl(t),"input[data-channel]"),...Qc(ai.getControlEl(t),"input[data-channel]")]});const[uU,jK]=Tu({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),dU=t=>Jd()(t,["lazyMount","unmountOnExit"]);var fU=Jt("avatar").parts("root","image","fallback");fU.build();var o1=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`avatar:${t.id}`},getImageId:t=>{var e;return((e=t.ids)==null?void 0:e.image)??`avatar:${t.id}:image`},getFallbackId:t=>{var e;return((e=t.ids)==null?void 0:e.fallback)??`avatar:${t.id}:fallback`},getRootEl:t=>o1.getById(t,o1.getRootId(t)),getImageEl:t=>o1.getById(t,o1.getImageId(t))});zn()(["dir","id","ids","onStatusChange","getRootNode"]);var hU=Jt("checkbox").parts("root","label","control","indicator");hU.build();var a1=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`checkbox:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`checkbox:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`checkbox:${t.id}:control`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`checkbox:${t.id}:input`},getRootEl:t=>a1.getById(t,a1.getRootId(t)),getHiddenInputEl:t=>a1.getById(t,a1.getHiddenInputId(t))});zn()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const WK=hU.extendWith("group"),[z2e,pU]=Tu({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),HK=cU.extendWith("view");var mm=new WeakMap,l1=new WeakMap,c1={},eC=0,mU=t=>t&&(t.host||mU(t.parentNode)),GK=(t,e)=>e.map(n=>{if(t.contains(n))return n;const i=mU(n);return i&&t.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),$K=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),qK=(t,e)=>{const{parentNode:n,markerName:i,controlAttribute:r,explicitBooleanValue:s}=e,o=GK(n,Array.isArray(t)?t:[t]);c1[i]||(c1[i]=new WeakMap);const a=c1[i],l=[],c=new Set,d=new Set(o),h=v=>{!v||c.has(v)||(c.add(v),h(v.parentNode))};o.forEach(h);const p=v=>{!v||d.has(v)||Array.prototype.forEach.call(v.children,y=>{if(c.has(y))p(y);else try{if($K(y))return;const b=y.getAttribute(r),S=s?b==="true":b!==null&&b!=="false",_=(mm.get(y)||0)+1,E=(a.get(y)||0)+1;mm.set(y,_),a.set(y,E),l.push(y),_===1&&S&&l1.set(y,!0),E===1&&y.setAttribute(i,""),S||y.setAttribute(r,s?"true":"")}catch(b){console.error("[zag-js > ariaHidden] cannot operate on ",y,b)}})};return p(n),c.clear(),eC++,()=>{l.forEach(v=>{const y=mm.get(v)-1,b=a.get(v)-1;mm.set(v,y),a.set(v,b),y||(l1.has(v)||v.removeAttribute(r),l1.delete(v)),b||v.removeAttribute(i)}),eC--,eC||(mm=new WeakMap,mm=new WeakMap,l1=new WeakMap,c1={})}},XK=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,YK=(t,e=XK(t),n="data-aria-hidden")=>{if(e)return qK(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden",explicitBooleanValue:!0})},KK=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function JK(t,e={}){const{defer:n=!0}=e,i=n?KK:s=>s(),r=[];return r.push(i(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&r.push(YK(o))})),()=>{r.forEach(s=>s==null?void 0:s())}}const[gU,Qd]=Tu({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),vU=z.forwardRef((t,e)=>{const n=Qd(),i=jK(),r=O2({...i,present:n.open}),s=Fn(n.getBackdropProps(),r.getPresenceProps(),t);return r.unmounted?null:w.jsx(Qn.div,{...s,ref:A2(r.ref,e)})});vU.displayName="DialogBackdrop";const yU=z.forwardRef((t,e)=>{const n=Qd(),i=Fn(n.getCloseTriggerProps(),t);return w.jsx(Qn.button,{...i,ref:e})});yU.displayName="DialogCloseTrigger";const xU=z.forwardRef((t,e)=>{const n=Qd(),i=F2(),r=Fn(n.getContentProps(),i.getPresenceProps(),t);return i.unmounted?null:w.jsx(Qn.div,{...r,ref:A2(i.ref,e)})});xU.displayName="DialogContent";const _U=z.forwardRef((t,e)=>{const n=Qd(),i=Fn(n.getDescriptionProps(),t);return w.jsx(Qn.div,{...i,ref:e})});_U.displayName="DialogDescription";const bU=z.forwardRef((t,e)=>{const n=Qd(),i=Fn(n.getPositionerProps(),t);return F2().unmounted?null:w.jsx(Qn.div,{...i,ref:e})});bU.displayName="DialogPositioner";var QK=Object.defineProperty,ZK=(t,e,n)=>e in t?QK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ci=(t,e,n)=>ZK(t,typeof e!="symbol"?e+"":e,n),QN={activateTrap(t,e){if(t.length>0){const i=t[t.length-1];i!==e&&i.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},eJ=[],tJ=class{constructor(t,e){Ci(this,"trapStack"),Ci(this,"config"),Ci(this,"doc"),Ci(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Ci(this,"listenerCleanups",[]),Ci(this,"handleFocus",i=>{const r=Id(i),s=this.findContainerIndex(r,i)>=0;if(s||y2(r))s&&(this.state.mostRecentlyFocusedNode=r);else{i.stopImmediatePropagation();let o,a=!0;if(this.state.mostRecentlyFocusedNode)if(dy(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){const d=c.findIndex(h=>h===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<c.length&&(o=c[d+1],a=!1):d-1>=0&&(o=c[d-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>dy(c)>0))||(a=!1);else a=!1;a&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Ci(this,"handlePointerDown",i=>{const r=Id(i);if(!(this.findContainerIndex(r,i)>=0)){if(py(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}py(this.config.allowOutsideClick,i)||i.preventDefault()}}),Ci(this,"handleClick",i=>{const r=Id(i);this.findContainerIndex(r,i)>=0||py(this.config.clickOutsideDeactivates,i)||py(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),Ci(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;const r=this.config.isKeyBackward(i),s=this.findNextNavNode({event:i,isBackward:r});if(!s)return;hy(i)&&i.preventDefault(),this.tryFocus(s)}}),Ci(this,"handleEscapeKey",i=>{nJ(i)&&py(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),Ci(this,"_mutationObserver"),Ci(this,"setupMutationObserver",()=>{const i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(r=>{r.some(o=>Array.from(o.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Ci(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(r=>{var s;(s=this._mutationObserver)==null||s.observe(r,{subtree:!0,childList:!0})})}),Ci(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Dd(i))if(this.findContainerIndex(this.doc.activeElement)>=0)i=this.doc.activeElement;else{const r=this.state.tabbableGroups[0];i=r&&r.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),Ci(this,"tryFocus",i=>{if(i!==!1&&i!==EB(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,iJ(i)&&i.select()}}),Ci(this,"deactivate",i=>{if(!this.state.active)return this;const r={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...i};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),QN.deactivateTrap(this.trapStack,this);const s=this.getOption(r,"onDeactivate"),o=this.getOption(r,"onPostDeactivate"),a=this.getOption(r,"checkCanReturnFocus"),l=this.getOption(r,"returnFocus","returnFocusOnDeactivate");s==null||s();const c=()=>{ZN(()=>{if(l){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}o==null||o()})};if(l&&a){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(d).then(c,c),this}return c(),this}),Ci(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;const r=this.getOption(i,"onPause"),s=this.getOption(i,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),Ci(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;const r=this.getOption(i,"onUnpause"),s=this.getOption(i,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),Ci(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Ci(this,"getReturnFocusNode",i=>{const r=this.getNodeForOption("setReturnFocus",{params:[i]});return r||(r===!1?!1:i)}),Ci(this,"getOption",(i,r,s)=>i&&i[r]!==void 0?i[r]:this.config[s||r]),Ci(this,"getNodeForOption",(i,{hasFallback:r=!1,params:s=[]}={})=>{let o=this.config[i];if(typeof o=="function"&&(o=o(...s)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let a=o;if(typeof o=="string"){try{a=this.doc.querySelector(o)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!r)throw new Error(`\`${i}\` as selector refers to no known node`)}return a}),Ci(this,"findNextNavNode",i=>{const{event:r,isBackward:s=!1}=i,o=i.target||Id(r);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(o,r),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>o===h);if(d<0&&((c==null?void 0:c.container)===o||Dd(o)&&!fh(o)&&!(c!=null&&c.nextTabbableNode(o,!1)))&&(d=l),d>=0){const h=d===0?this.state.tabbableGroups.length-1:d-1,p=this.state.tabbableGroups[h];a=dy(o)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else hy(r)||(a=c==null?void 0:c.nextTabbableNode(o,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>o===h);if(d<0&&((c==null?void 0:c.container)===o||Dd(o)&&!fh(o)&&!(c!=null&&c.nextTabbableNode(o)))&&(d=l),d>=0){const h=d===this.state.tabbableGroups.length-1?0:d+1,p=this.state.tabbableGroups[h];a=dy(o)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else hy(r)||(a=c==null?void 0:c.nextTabbableNode(o))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=e.trapStack||eJ;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(i){return hy(i)&&!i.shiftKey},isKeyBackward(i){return hy(i)&&i.shiftKey},...e};this.doc=n.document||Eu(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:r})=>i.contains(t)||(n==null?void 0:n.includes(i))||r.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=RB(t),n=E2(t),i=e.length>0?e[0]:void 0,r=e.length>0?e[e.length-1]:void 0,s=n.find(c=>fh(c)),o=n.slice().reverse().find(c=>fh(c)),a=!!e.find(c=>dy(c)>0);function l(c,d=!0){const h=e.indexOf(c);return h<0?d?n.slice(n.indexOf(c)+1).find(p=>fh(p)):n.slice(0,n.indexOf(c)).reverse().find(p=>fh(p)):e[h+(d?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:i,lastTabbableNode:r,firstDomTabbableNode:s,lastDomTabbableNode:o,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return QN.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?ZN(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(vr(this.doc,"focusin",this.handleFocus,!0),vr(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),vr(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),vr(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),vr(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),vr(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),i=this.getOption(t,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const r=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return i?(i(this.state.containers.concat()).then(r,r),this):(r(),this)}},hy=t=>t.key==="Tab",py=(t,...e)=>typeof t=="function"?t(...e):t,nJ=t=>!t.isComposing&&t.key==="Escape",ZN=t=>setTimeout(t,0),iJ=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function rJ(t,e={}){let n;const i=da(()=>{const r=typeof t=="function"?t():t;if(r){n=new tJ(r,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:r,...e,document:Eu(r)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),i()}}var tC="data-scroll-lock";function e3(t,e){if(!t)return;const n=Object.keys(e).reduce((i,r)=>(i[r]=t.style.getPropertyValue(r),i),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n)}}function sJ(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function oJ(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function aJ(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:r}=e;if(r.hasAttribute(tC))return;r.setAttribute(tC,"");const o=n.innerWidth-i.clientWidth,a=()=>sJ(i,"--scrollbar-width",`${o}px`),l=oJ(i),c=()=>e3(r,{overflow:"hidden",[l]:`${o}px`}),d=()=>{const{scrollX:p,scrollY:v,visualViewport:y}=n,b=(y==null?void 0:y.offsetLeft)??0,S=(y==null?void 0:y.offsetTop)??0,_=e3(r,{position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(S))}px`,left:`${-(p-Math.floor(b))}px`,right:"0",[l]:`${o}px`});return()=>{_==null||_(),n.scrollTo({left:p,top:v,behavior:"instant"})}},h=[a(),_2()?d():c()];return()=>{h.forEach(p=>p==null?void 0:p()),r.removeAttribute(tC)}}var z2=Jt("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Yf=z2.build(),bn=$i({getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},getBackdropId:t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},getContentEl:t=>bn.getById(t,bn.getContentId(t)),getPositionerEl:t=>bn.getById(t,bn.getPositionerId(t)),getBackdropEl:t=>bn.getById(t,bn.getBackdropId(t)),getTriggerEl:t=>bn.getById(t,bn.getTriggerId(t)),getTitleEl:t=>bn.getById(t,bn.getTitleId(t)),getDescriptionEl:t=>bn.getById(t,bn.getDescriptionId(t)),getCloseTriggerEl:t=>bn.getById(t,bn.getCloseTriggerId(t))});function lJ(t,e,n){const i=t.context["aria-label"],r=t.matches("open"),s=t.context.renderedElements;return{open:r,setOpen(o){o!==r&&e(o?"OPEN":"CLOSE")},getTriggerProps(){return n.button({...Yf.trigger.attrs,dir:t.context.dir,id:bn.getTriggerId(t.context),"aria-haspopup":"dialog",type:"button","aria-expanded":r,"data-state":r?"open":"closed","aria-controls":bn.getContentId(t.context),onClick(o){o.defaultPrevented||e("TOGGLE")}})},getBackdropProps(){return n.element({...Yf.backdrop.attrs,dir:t.context.dir,hidden:!r,id:bn.getBackdropId(t.context),"data-state":r?"open":"closed"})},getPositionerProps(){return n.element({...Yf.positioner.attrs,dir:t.context.dir,id:bn.getPositionerId(t.context),style:{pointerEvents:r?void 0:"none"}})},getContentProps(){return n.element({...Yf.content.attrs,dir:t.context.dir,role:t.context.role,hidden:!r,id:bn.getContentId(t.context),tabIndex:-1,"data-state":r?"open":"closed","aria-modal":!0,"aria-label":i||void 0,"aria-labelledby":i||!s.title?void 0:bn.getTitleId(t.context),"aria-describedby":s.description?bn.getDescriptionId(t.context):void 0})},getTitleProps(){return n.element({...Yf.title.attrs,dir:t.context.dir,id:bn.getTitleId(t.context)})},getDescriptionProps(){return n.element({...Yf.description.attrs,dir:t.context.dir,id:bn.getDescriptionId(t.context)})},getCloseTriggerProps(){return n.button({...Yf.closeTrigger.attrs,dir:t.context.dir,id:bn.getCloseTriggerId(t.context),type:"button",onClick(o){o.defaultPrevented||(o.stopPropagation(),e("CLOSE"))}})}}}function cJ(t){const e=Gg(t);return Vw({id:"dialog",initial:e.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...e},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackDismissableElement(n,i,{send:r}){return VK(()=>bn.getContentEl(n),{defer:!0,pointerBlocking:n.modal,exclude:[bn.getTriggerEl(n)],onInteractOutside(o){var a;(a=n.onInteractOutside)==null||a.call(n,o),n.closeOnInteractOutside||o.preventDefault()},persistentElements:n.persistentElements,onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onEscapeKeyDown(o){var a;(a=n.onEscapeKeyDown)==null||a.call(n,o),n.closeOnEscape||o.preventDefault()},onDismiss(){r({type:"CLOSE",src:"interact-outside"})}})},preventScroll(n){if(n.preventScroll)return aJ(bn.getDoc(n))},trapFocus(n){return!n.trapFocus||!n.modal?void 0:rJ(()=>bn.getContentEl(n),{preventScroll:!0,returnFocusOnDeactivate:!!n.restoreFocus,initialFocus:n.initialFocusEl,setReturnFocus:r=>{var s;return((s=n.finalFocusEl)==null?void 0:s.call(n))??r}})},hideContentBelow(n){return n.modal?JK(()=>[bn.getContentEl(n)],{defer:!0}):void 0}},actions:{setAlertDialogProps(n){n.role==="alertdialog"&&(n.initialFocusEl||(n.initialFocusEl=()=>bn.getCloseTriggerEl(n)),n.closeOnInteractOutside=!1)},checkRenderedElements(n){da(()=>{n.renderedElements.title=!!bn.getTitleEl(n),n.renderedElements.description=!!bn.getDescriptionEl(n)})},syncZIndex(n){da(()=>{const i=bn.getContentEl(n);if(!i)return;const r=xX(i);[bn.getPositionerEl(n),bn.getBackdropEl(n)].forEach(o=>{o==null||o.style.setProperty("--z-index",r.zIndex)})})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},toggleVisibility(n,i,{send:r}){r({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}zn()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const uJ=(t={})=>{const{getRootNode:e}=Ww(),{dir:n}=M2(),i={id:z.useId(),getRootNode:e,dir:n,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},r={...i,open:t.open,onOpenChange:Hl(t.onOpenChange,{sync:!0}),onEscapeKeyDown:Hl(t.onEscapeKeyDown),onInteractOutside:Hl(t.onInteractOutside)},[s,o]=jw(cJ(i),{context:r});return lJ(s,o,L2)},dJ=t=>{const[e,{children:n,...i}]=iU(t),[r]=dU(e),s=uJ(i),o=O2(Fn({present:s.open},e));return w.jsx(gU,{value:s,children:w.jsx(uU,{value:r,children:w.jsx(sU,{value:o,children:n})})})},fJ=t=>{const[e,{value:n,children:i}]=iU(t),[r]=dU(e),s=O2(Fn({present:n.open},e));return w.jsx(gU,{value:n,children:w.jsx(uU,{value:r,children:w.jsx(sU,{value:s,children:i})})})},SU=z.forwardRef((t,e)=>{const n=Qd(),i=Fn(n.getTitleProps(),t);return w.jsx(Qn.h2,{...i,ref:e})});SU.displayName="DialogTitle";const wU=z.forwardRef((t,e)=>{const n=Qd(),i=F2(),r=Fn({...n.getTriggerProps(),"aria-controls":i.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return w.jsx(Qn.button,{...r,ref:e})});wU.displayName="DialogTrigger";var EU=Jt("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");EU.build();var Il=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`editable:${t.id}`},getAreaId:t=>{var e;return((e=t.ids)==null?void 0:e.area)??`editable:${t.id}:area`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`editable:${t.id}:label`},getPreviewId:t=>{var e;return((e=t.ids)==null?void 0:e.preview)??`editable:${t.id}:preview`},getInputId:t=>{var e;return((e=t.ids)==null?void 0:e.input)??`editable:${t.id}:input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`editable:${t.id}:control`},getSubmitTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.submitTrigger)??`editable:${t.id}:submit`},getCancelTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.cancelTrigger)??`editable:${t.id}:cancel`},getEditTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.editTrigger)??`editable:${t.id}:edit`},getInputEl:t=>Il.getById(t,Il.getInputId(t)),getPreviewEl:t=>Il.getById(t,Il.getPreviewId(t)),getSubmitTriggerEl:t=>Il.getById(t,Il.getSubmitTriggerId(t)),getCancelTriggerEl:t=>Il.getById(t,Il.getCancelTriggerId(t)),getEditTriggerEl:t=>Il.getById(t,Il.getEditTriggerId(t))});zn()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","edit.controlled","submitMode","translations","value"]);const TU=Jt("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");TU.build();const CU=Jt("fieldset").parts("root","errorText","helperText","legend");CU.build();var MU=Jt("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");MU.build();var gm=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`file:${t.id}`},getDropzoneId:t=>{var e;return((e=t.ids)==null?void 0:e.dropzone)??`file:${t.id}:dropzone`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`file:${t.id}:input`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`file:${t.id}:trigger`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`file:${t.id}:label`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`file:${t.id}:item:${e}`},getItemNameId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemName)==null?void 0:i.call(n,e))??`file:${t.id}:item-name:${e}`},getItemSizeTextId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemSizeText)==null?void 0:i.call(n,e))??`file:${t.id}:item-size:${e}`},getItemPreviewId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemPreview)==null?void 0:i.call(n,e))??`file:${t.id}:item-preview:${e}`},getRootEl:t=>gm.getById(t,gm.getRootId(t)),getHiddenInputEl:t=>gm.getById(t,gm.getHiddenInputId(t)),getDropzoneEl:t=>gm.getById(t,gm.getDropzoneId(t))});zn()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);zn()(["file"]);var AU=Jt("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");AU.build();var vm=$i({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`hover-card:${t.id}:arrow`},getTriggerEl:t=>vm.getById(t,vm.getTriggerId(t)),getContentEl:t=>vm.getById(t,vm.getContentId(t)),getPositionerEl:t=>vm.getById(t,vm.getPositionerId(t))});zn()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","open.controlled","open","openDelay","positioning"]);var PU=Jt("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");PU.build();var us=$i({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},getContextTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`menu:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},getGroupId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.group)==null?void 0:i.call(n,e))??`menu:${t.id}:group:${e}`},getGroupLabelId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,e))??`menu:${t.id}:group-label:${e}`},getContentEl:t=>us.getById(t,us.getContentId(t)),getPositionerEl:t=>us.getById(t,us.getPositionerId(t)),getTriggerEl:t=>us.getById(t,us.getTriggerId(t)),getHighlightedItemEl:t=>t.highlightedValue?us.getById(t,t.highlightedValue):null,getArrowEl:t=>us.getById(t,us.getArrowId(t)),getElements:t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(us.getContentId(t))}]:not([data-disabled])`;return Qc(us.getContentEl(t),n)},getFirstEl:t=>HB(us.getElements(t)),getLastEl:t=>GB(us.getElements(t)),getNextEl:(t,e)=>kB(us.getElements(t),t.highlightedValue,e??t.loopFocus),getPrevEl:(t,e)=>NB(us.getElements(t),t.highlightedValue,e??t.loopFocus),getElemByKey:(t,e)=>oY(us.getElements(t),{state:t.typeaheadState,key:e,activeId:t.highlightedValue}),isTargetDisabled:t=>bs(t)&&(t.dataset.disabled===""||t.hasAttribute("disabled")),isTriggerItem:t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},getOptionFromItemEl(t){return{id:t.id,name:t.dataset.name,value:t.dataset.value,valueText:t.dataset.valueText,type:t.dataset.type}}});zn()(["anchorPoint","aria-label","closeOnSelect","composite","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open.controlled","open","positioning","typeahead"]);zn()(["closeOnSelect","disabled","value","valueText"]);zn()(["htmlFor"]);zn()(["id"]);zn()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);const[IU,tp]=Tu({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),RU=z.forwardRef((t,e)=>{const n=tp(),i=Fn(n.getControlProps(),t);return w.jsx(Qn.div,{...i,ref:e})});RU.displayName="NumberInputControl";const kU=z.forwardRef((t,e)=>{const n=tp(),i=Fn(n.getDecrementTriggerProps(),t);return w.jsx(Qn.button,{...i,ref:e})});kU.displayName="NumberInputDecrementTrigger";const NU=z.forwardRef((t,e)=>{const n=tp(),i=Fn(n.getIncrementTriggerProps(),t);return w.jsx(Qn.button,{...i,ref:e})});NU.displayName="NumberInputIncrementTrigger";const LU=z.forwardRef((t,e)=>{const n=tp(),i=Fn(n.getInputProps(),t),r=pU();return w.jsx(Qn.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...i,ref:e})});LU.displayName="NumberInputInput";const DU=z.forwardRef((t,e)=>{const n=tp(),i=Fn(n.getLabelProps(),t);return w.jsx(Qn.label,{...i,ref:e})});DU.displayName="NumberInputLabel";let nC=new Map,EA=!1;try{EA=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let lS=!1;try{lS=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const OU={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class hJ{format(e){let n="";if(!EA&&this.options.signDisplay!=null?n=mJ(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!lS){var i;let{unit:r,unitDisplay:s="short",locale:o}=this.resolvedOptions();if(!r)return n;let a=(i=OU[r])===null||i===void 0?void 0:i[s];n+=a[o]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(n);return[...i.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...r.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!EA&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!lS&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=pJ(e,n),this.options=n}}function pJ(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!lS){var i;let{unit:o,unitDisplay:a="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=OU[o])===null||i===void 0)&&i[a]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let r=t+(e?Object.entries(e).sort((o,a)=>o[0]<a[0]?-1:1).join():"");if(nC.has(r))return nC.get(r);let s=new Intl.NumberFormat(t,e);return nC.set(r,s),s}function mJ(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let i=!1;if(e==="always"?i=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let r=t.format(-n),s=t.format(n),o=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}const gJ=new RegExp("^.*\\(.*\\).*$"),vJ=["latn","arab","hanidec","deva","beng"];class FU{parse(e){return iC(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,i){return iC(this.locale,this.options,e).isValidPartialNumber(e,n,i)}getNumberingSystem(e){return iC(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const t3=new Map;function iC(t,e,n){let i=n3(t,e);if(!t.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let r of vJ)if(r!==i.options.numberingSystem){let s=n3(t+(t.includes("-u-")?"-nu-":"-u-nu-")+r,e);if(s.isValidPartialNumber(n))return s}}return i}function n3(t,e){let n=t+(e?Object.entries(e).sort((r,s)=>r[0]<s[0]?-1:1).join():""),i=t3.get(n);return i||(i=new yJ(t,e),t3.set(n,i)),i}class yJ{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=u1(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,o>-1&&(n=`-${n}`)}let i=n?+n:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var r,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new FU(this.locale,o).parse(new hJ(this.locale,o).format(i))}return this.options.currencySign==="accounting"&&gJ.test(e)&&(i=-1*i),i}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=u1(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=u1(e,"."," ")),e}isValidPartialNumber(e,n=-1/0,i=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&i>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=u1(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=_J(e,this.formatter,this.options,n);var i,r;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const i3=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),xJ=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function _J(t,e,n,i){var r,s,o,a;let l=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=l.formatToParts(-10000.111),d=l.formatToParts(10000.111),h=xJ.map(R=>l.formatToParts(R));var p;let v=(p=(r=c.find(R=>R.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&p!==void 0?p:"-",y=(s=d.find(R=>R.type==="plusSign"))===null||s===void 0?void 0:s.value;!y&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(y="+");let S=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(R=>R.type==="decimal"))===null||o===void 0?void 0:o.value,_=(a=c.find(R=>R.type==="group"))===null||a===void 0?void 0:a.value,E=c.filter(R=>!i3.has(R.type)).map(R=>r3(R.value)),T=h.flatMap(R=>R.filter(U=>!i3.has(U.type)).map(U=>r3(U.value))),P=[...new Set([...E,...T])].sort((R,U)=>U.length-R.length),k=P.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${P.join("|")}|[\\p{White_Space}]`,"gu"),F=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),D=new Map(F.map((R,U)=>[R,U])),B=new RegExp(`[${F.join("")}]`,"g");return{minusSign:v,plusSign:y,decimal:S,group:_,literals:k,numeral:B,index:R=>String(D.get(R))}}function u1(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function r3(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var zU=Jt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),ld=zU.build(),an=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},getInputId:t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},getIncrementTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},getDecrementTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},getScrubberId:t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},getCursorId:t=>`number-input:${t.id}:cursor`,getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},getInputEl:t=>an.getById(t,an.getInputId(t)),getIncrementTriggerEl:t=>an.getById(t,an.getIncrementTriggerId(t)),getDecrementTriggerEl:t=>an.getById(t,an.getDecrementTriggerId(t)),getScrubberEl:t=>an.getById(t,an.getScrubberId(t)),getCursorEl:t=>an.getDoc(t).getElementById(an.getCursorId(t)),getPressedTriggerEl:(t,e=t.hint)=>{let n=null;return e==="increment"&&(n=an.getIncrementTriggerEl(t)),e==="decrement"&&(n=an.getDecrementTriggerEl(t)),n},setupVirtualCursor(t){if(!CB())return an.createVirtualCursor(t),()=>{var e;(e=an.getCursorEl(t))==null||e.remove()}},preventTextSelection(t){const e=an.getDoc(t),n=e.documentElement,i=e.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},getMousemoveValue(t,e){const n=an.getWin(t),i=r0(e.movementX,n.devicePixelRatio),r=r0(e.movementY,n.devicePixelRatio);let s=i>0?"increment":i<0?"decrement":null;t.isRtl&&s==="increment"&&(s="decrement"),t.isRtl&&s==="decrement"&&(s="increment");const o={x:t.scrubberCursorPoint.x+i,y:t.scrubberCursorPoint.y+r},a=n.innerWidth,l=r0(7.5,n.devicePixelRatio);return o.x=zY(o.x+l,a)-l,{hint:s,point:o}},createVirtualCursor(t){const e=an.getDoc(t),n=e.createElement("div");n.className="scrubber--cursor",n.id=an.getCursorId(t),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:oX,transform:t.scrubberCursorPoint?`translate3d(${t.scrubberCursorPoint.x}px, ${t.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,e.body.appendChild(n)}});function bJ(t,e,n){const i=t.hasTag("focus"),r=t.context.isDisabled,s=t.context.readOnly,o=t.context.isValueEmpty,a=t.context.isOutOfRange||!!t.context.invalid,l=r||!t.context.canIncrement||s,c=r||!t.context.canDecrement||s,d=t.context.translations;return{focused:i,invalid:a,empty:o,value:t.context.formattedValue,valueAsNumber:t.context.valueAsNumber,setValue(h){e({type:"VALUE.SET",value:h})},clearValue(){e("VALUE.CLEAR")},increment(){e("VALUE.INCREMENT")},decrement(){e("VALUE.DECREMENT")},setToMax(){e({type:"VALUE.SET",value:t.context.max})},setToMin(){e({type:"VALUE.SET",value:t.context.min})},focus(){var h;(h=an.getInputEl(t.context))==null||h.focus()},getRootProps(){return n.element({id:an.getRootId(t.context),...ld.root.attrs,dir:t.context.dir,"data-disabled":Kt(r),"data-focus":Kt(i),"data-invalid":Kt(a)})},getLabelProps(){return n.label({...ld.label.attrs,dir:t.context.dir,"data-disabled":Kt(r),"data-focus":Kt(i),"data-invalid":Kt(a),id:an.getLabelId(t.context),htmlFor:an.getInputId(t.context)})},getControlProps(){return n.element({...ld.control.attrs,dir:t.context.dir,role:"group","aria-disabled":r,"data-focus":Kt(i),"data-disabled":Kt(r),"data-invalid":Kt(a),"aria-invalid":dA(t.context.invalid)})},getValueTextProps(){return n.element({...ld.valueText.attrs,dir:t.context.dir,"data-disabled":Kt(r),"data-invalid":Kt(a),"data-focus":Kt(i)})},getInputProps(){return n.input({...ld.input.attrs,dir:t.context.dir,name:t.context.name,form:t.context.form,id:an.getInputId(t.context),role:"spinbutton",defaultValue:t.context.formattedValue,pattern:t.context.pattern,inputMode:t.context.inputMode,"aria-invalid":dA(a),"data-invalid":Kt(a),disabled:r,"data-disabled":Kt(r),readOnly:t.context.readOnly,required:t.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":t.context.min,"aria-valuemax":t.context.max,"aria-valuenow":Number.isNaN(t.context.valueAsNumber)?void 0:t.context.valueAsNumber,"aria-valuetext":t.context.valueText,onFocus(){e("INPUT.FOCUS")},onBlur(){e("INPUT.BLUR")},onInput(h){e({type:"INPUT.CHANGE",target:h.currentTarget,hint:"set"})},onBeforeInput(h){try{const{selectionStart:p,selectionEnd:v,value:y}=h.currentTarget,b=y.slice(0,p)+(h.data??"")+y.slice(v);t.context.parser.isValidPartialNumber(b)||h.preventDefault()}catch{}},onKeyDown(h){if(h.defaultPrevented||s||TX(h))return;const p=MB(h)*t.context.step,y={ArrowUp(){e({type:"INPUT.ARROW_UP",step:p}),h.preventDefault()},ArrowDown(){e({type:"INPUT.ARROW_DOWN",step:p}),h.preventDefault()},Home(){hA(h)||(e("INPUT.HOME"),h.preventDefault())},End(){hA(h)||(e("INPUT.END"),h.preventDefault())},Enter(){e("INPUT.ENTER")}}[h.key];y==null||y(h)}})},getDecrementTriggerProps(){return n.button({...ld.decrementTrigger.attrs,dir:t.context.dir,id:an.getDecrementTriggerId(t.context),disabled:c,"data-disabled":Kt(c),"aria-label":d.decrementLabel,type:"button",tabIndex:-1,"aria-controls":an.getInputId(t.context),onPointerDown(h){var p;c||!fA(h)||(e({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:h.pointerType}),h.pointerType==="mouse"&&h.preventDefault(),h.pointerType==="touch"&&((p=h.currentTarget)==null||p.focus({preventScroll:!0})))},onPointerUp(h){e({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:h.pointerType})},onPointerLeave(){c||e({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return n.button({...ld.incrementTrigger.attrs,dir:t.context.dir,id:an.getIncrementTriggerId(t.context),disabled:l,"data-disabled":Kt(l),"aria-label":d.incrementLabel,type:"button",tabIndex:-1,"aria-controls":an.getInputId(t.context),onPointerDown(h){var p;l||!fA(h)||(e({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:h.pointerType}),h.pointerType==="mouse"&&h.preventDefault(),h.pointerType==="touch"&&((p=h.currentTarget)==null||p.focus({preventScroll:!0})))},onPointerUp(h){e({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:h.pointerType})},onPointerLeave(h){e({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:h.pointerType})}})},getScrubberProps(){return n.element({...ld.scrubber.attrs,dir:t.context.dir,"data-disabled":Kt(r),id:an.getScrubberId(t.context),role:"presentation",onMouseDown(h){if(r)return;const p=b2(h),y=Kd(h.currentTarget).devicePixelRatio;p.x=p.x-r0(7.5,y),p.y=p.y-r0(7.5,y),e({type:"SCRUBBER.PRESS_DOWN",point:p}),h.preventDefault()},style:{cursor:r?void 0:"ew-resize"}})}}}function SJ(t){if(t.ownerDocument.activeElement===t)try{const{selectionStart:e,selectionEnd:n,value:i}=t,r=i.substring(0,e),s=i.substring(n);return{start:e,end:n,value:i,beforeTxt:r,afterTxt:s}}catch{}}function wJ(t,e){if(t.ownerDocument.activeElement===t){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:i="",afterTxt:r="",start:s}=e;let o=n.length;if(n.endsWith(r))o=n.length-r.length;else if(n.startsWith(i))o=i.length;else if(s!=null){const a=i[s-1],l=n.indexOf(a,s-1);l!==-1&&(o=l+1)}t.setSelectionRange(o,o)}catch{}}}var s3=(t,e={})=>Eg(new Intl.NumberFormat(t,e)),o3=(t,e={})=>Eg(new FU(t,e)),a3=(t,e)=>t.formatOptions?t.parser.parse(String(e)):parseFloat(e),Kf=(t,e)=>Number.isNaN(e)?"":t.formatOptions?t.formatter.format(e):e.toString(),{not:rC,and:d1}=iK;function EJ(t){const e=Gg(t);return Vw({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...e,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:s3(e.locale||"en-US",e.formatOptions),parser:o3(e.locale||"en-US",e.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}},computed:{isRtl:n=>n.dir==="rtl",valueAsNumber:n=>a3(n,n.value),formattedValue:n=>Kf(n,n.valueAsNumber),isAtMin:n=>jY(n.valueAsNumber,n.min),isAtMax:n=>VY(n.valueAsNumber,n.max),isOutOfRange:n=>!WY(n.valueAsNumber,n.min,n.max),isValueEmpty:n=>n.value==="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,canIncrement:n=>n.allowOverflow||!n.isAtMax,canDecrement:n=>n.allowOverflow||!n.isAtMin,valueText:n=>{var i,r;return(r=(i=n.translations).valueText)==null?void 0:r.call(i,n.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:d1("clampValueOnBlur",rC("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:rK([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:d1("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:d1(rC("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:d1(rC("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:n=>n.clampValueOnBlur,isAtMin:n=>n.isAtMin,spinOnPress:n=>!!n.spinOnPress,isAtMax:n=>n.isAtMax,isInRange:n=>!n.isOutOfRange,isDecrementHint:(n,i)=>(i.hint??n.hint)==="decrement",isIncrementHint:(n,i)=>(i.hint??n.hint)==="increment",isTouchPointer:(n,i)=>i.pointerType==="touch"},activities:{trackFormControl(n,i,{initialContext:r}){const s=an.getInputEl(n);return PB(s,{onFieldsetDisabledChange(o){n.fieldsetDisabled=o},onFormReset(){Rl.value(n,r.value)}})},setupVirtualCursor(n){return an.setupVirtualCursor(n)},preventTextSelection(n){return an.preventTextSelection(n)},trackButtonDisabled(n,i,{send:r}){const s=an.getPressedTriggerEl(n,n.hint);return WX(s,{attributes:["disabled"],callback(){r({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(n,i,{send:r}){const s=an.getInputEl(n);if(!s||!an.isActiveElement(n,s)||!n.allowMouseWheel)return;function o(a){a.preventDefault();const l=Math.sign(a.deltaY)*-1;l===1?r("VALUE.INCREMENT"):l===-1&&r("VALUE.DECREMENT")}return vr(s,"wheel",o,{passive:!1})},activatePointerLock(n){if(!CB())return $X(an.getDoc(n))},trackMousemove(n,i,{send:r}){const s=an.getDoc(n);function o(l){if(!n.scrubberCursorPoint)return;const c=an.getMousemoveValue(n,l);c.hint&&r({type:"SCRUBBER.POINTER_MOVE",hint:c.hint,point:c.point})}function a(){r("SCRUBBER.POINTER_UP")}return sS(vr(s,"mousemove",o,!1),vr(s,"mouseup",a,!1))}},actions:{focusInput(n){if(!n.focusInputOnChange)return;const i=an.getInputEl(n);an.isActiveElement(n,i)||da(()=>i==null?void 0:i.focus({preventScroll:!0}))},increment(n,i){const r=KY(n.valueAsNumber,i.step??n.step),s=Kf(n,kd(r,n.min,n.max));Rl.value(n,s)},decrement(n,i){const r=JY(n.valueAsNumber,i.step??n.step),s=Kf(n,kd(r,n.min,n.max));Rl.value(n,s)},setClampedValue(n){const i=kd(n.valueAsNumber,n.min,n.max);Rl.value(n,Kf(n,i))},setRawValue(n,i){const r=a3(n,i.value),s=Kf(n,kd(r,n.min,n.max));Rl.value(n,s)},setValue(n,i){var s;const r=((s=i.target)==null?void 0:s.value)??i.value;Rl.value(n,r)},clearValue(n){Rl.value(n,"")},incrementToMax(n){const i=Kf(n,n.max);Rl.value(n,i)},decrementToMin(n){const i=Kf(n,n.min);Rl.value(n,i)},setHint(n,i){n.hint=i.hint},clearHint(n){n.hint=null},setHintToSet(n){n.hint="set"},invokeOnFocus(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!0,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnBlur(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!1,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnInvalid(n){var r;if(!n.isOutOfRange)return;const i=n.valueAsNumber>n.max?"rangeOverflow":"rangeUnderflow";(r=n.onValueInvalid)==null||r.call(n,{reason:i,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},syncInputElement(n,i){const r=i.type.endsWith("CHANGE")?n.value:n.formattedValue;TJ.input(n,r)},setFormattedValue(n){Rl.value(n,n.formattedValue)},setCursorPoint(n,i){n.scrubberCursorPoint=i.point},clearCursorPoint(n){n.scrubberCursorPoint=null},setVirtualCursorPosition(n){const i=an.getCursorEl(n);if(!i||!n.scrubberCursorPoint)return;const{x:r,y:s}=n.scrubberCursorPoint;i.style.transform=`translate3d(${r}px, ${s}px, 0px)`},setFormatterAndParser(n){n.locale&&(n.formatter=s3(n.locale,n.formatOptions),n.parser=o3(n.locale,n.formatOptions))}},compareFns:{formatOptions:(n,i)=>Od(n,i),scrubberCursorPoint:(n,i)=>Od(n,i)}})}var TJ={input(t,e){const n=an.getInputEl(t);if(!n)return;const i=SJ(n);da(()=>{S2(n,e),wJ(n,i)})}},CJ={onChange:t=>{var e;(e=t.onValueChange)==null||e.call(t,{value:t.value,valueAsNumber:t.valueAsNumber})}},Rl={value:(t,e)=>{Od(t.value,e)||(t.value=e,CJ.onChange(t))}};const MJ=(t={})=>{const{getRootNode:e}=Ww(),{dir:n,locale:i}=M2(),r=pU(),s={id:z.useId(),ids:{label:r==null?void 0:r.ids.label,input:r==null?void 0:r.ids.control},disabled:r==null?void 0:r.disabled,readOnly:r==null?void 0:r.readOnly,required:r==null?void 0:r.required,invalid:r==null?void 0:r.invalid,dir:n,locale:i,getRootNode:e,value:t.defaultValue,...t},o={...s,value:t.value,onValueChange:Hl(t.onValueChange,{sync:!0}),onValueInvalid:Hl(t.onValueInvalid),onFocusChange:Hl(t.onFocusChange)},[a,l]=jw(EJ(s),{context:o});return bJ(a,l,L2)},BU=z.forwardRef((t,e)=>{const[n,i]=Jd()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),r=MJ(n),s=Fn(r.getRootProps(),i);return w.jsx(IU,{value:r,children:w.jsx(Qn.div,{...s,ref:e})})});BU.displayName="NumberInputRoot";const UU=z.forwardRef((t,e)=>{const[{value:n},i]=Jd()(t,["value"]),r=Fn(n.getRootProps(),i);return w.jsx(IU,{value:n,children:w.jsx(Qn.div,{...r,ref:e})})});UU.displayName="NumberInputRootProvider";const VU=z.forwardRef((t,e)=>{const n=tp(),i=Fn(n.getScrubberProps(),t);return w.jsx(Qn.div,{...i,ref:e})});VU.displayName="NumberInputScrubber";const jU=z.forwardRef((t,e)=>{const{children:n,...i}=t,r=tp(),s=Fn(r.getValueTextProps(),i);return w.jsx(Qn.span,{...s,ref:e,children:n||r.value})});jU.displayName="NumberInputValueText";var WU=Jt("pinInput").parts("root","label","input","control");WU.build();var kl=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`pin-input:${t.id}`},getInputId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.input)==null?void 0:i.call(n,e))??`pin-input:${t.id}:${e}`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`pin-input:${t.id}:hidden`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`pin-input:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`pin-input:${t.id}:control`},getRootEl:t=>kl.getById(t,kl.getRootId(t)),getInputEls:t=>{const n=`input[data-ownedby=${CSS.escape(kl.getRootId(t))}]`;return Qc(kl.getRootEl(t),n)},getInputEl:(t,e)=>kl.getById(t,kl.getInputId(t,e)),getFocusedInputEl:t=>kl.getInputEls(t)[t.focusedIndex],getFirstInputEl:t=>kl.getInputEls(t)[0],getHiddenInputEl:t=>kl.getById(t,kl.getHiddenInputId(t))}),HU=Jt("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");HU.build();var no=$i({getAnchorId:t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},getAnchorEl:t=>no.getById(t,no.getAnchorId(t)),getTriggerEl:t=>no.getById(t,no.getTriggerId(t)),getContentEl:t=>no.getById(t,no.getContentId(t)),getPositionerEl:t=>no.getById(t,no.getPositionerId(t)),getTitleEl:t=>no.getById(t,no.getTitleId(t)),getDescriptionEl:t=>no.getById(t,no.getDescriptionId(t)),getFocusableEls:t=>E2(no.getContentEl(t)),getFirstFocusableEl:t=>no.getFocusableEls(t)[0]});zn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const AJ=t=>{var l;const{children:e,disabled:n}=t,[i,r]=z.useState((l=t.container)==null?void 0:l.current),s=z.useSyncExternalStore(IJ,()=>!1,()=>!0),{getRootNode:o}=Ww();if(z.useEffect(()=>{r(()=>{var c;return(c=t.container)==null?void 0:c.current})},[t.container]),s||n)return w.jsx(w.Fragment,{children:e});const a=i??PJ(o);return w.jsx(w.Fragment,{children:z.Children.map(e,c=>yK.createPortal(c,a))})},PJ=t=>{const e=t==null?void 0:t(),n=e.getRootNode();return N0(n)?n:Eu(e).body},IJ=()=>()=>{};var B2=Jt("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");B2.build();$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`progress-${t.id}`},getTrackId:t=>{var e;return((e=t.ids)==null?void 0:e.track)??`progress-${t.id}-track`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`progress-${t.id}-label`},getCircleId:t=>{var e;return((e=t.ids)==null?void 0:e.circle)??`progress-${t.id}-circle`}});zn()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]);var GU=Jt("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");GU.build();var l3=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`qrcode:${t.id}:root`},getFrameId:t=>{var e;return((e=t.ids)==null?void 0:e.frame)??`qrcode:${t.id}:frame`},getFrameEl:t=>l3.getById(t,l3.getFrameId(t))});zn()(["ids","value","id","encoding","dir","getRootNode","onValueChange"]);var U2=Jt("radio-group").parts("root","label","item","itemText","itemControl","indicator");U2.build();var ds=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:${e}`},getItemHiddenInputId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:input:${e}`},getItemControlId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:control:${e}`},getItemLabelId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:label:${e}`},getIndicatorId:t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},getRootEl:t=>ds.getById(t,ds.getRootId(t)),getItemHiddenInputEl:(t,e)=>ds.getById(t,ds.getItemHiddenInputId(t,e)),getIndicatorEl:t=>ds.getById(t,ds.getIndicatorId(t)),getFirstEnabledInputEl:t=>{var e;return(e=ds.getRootEl(t))==null?void 0:e.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:t=>{var e;return(e=ds.getRootEl(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},getInputEls:t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(ds.getRootId(t))}']:not([disabled])`;return Qc(ds.getRootEl(t),n)},getActiveRadioEl:t=>{if(t.value)return ds.getById(t,ds.getItemId(t,t.value))},getOffsetRect:t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),getRectById:(t,e)=>{const n=ds.getById(t,ds.getItemId(t,e));if(n)return ds.resolveRect(ds.getOffsetRect(n))},resolveRect:t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`})});zn()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);zn()(["value","disabled","invalid"]);var $U=Jt("rating-group").parts("root","label","item","control");$U.build();var cd=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`rating:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`rating:${t.id}:label`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`rating:${t.id}:input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`rating:${t.id}:control`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`rating:${t.id}:item:${e}`},getRootEl:t=>cd.getById(t,cd.getRootId(t)),getControlEl:t=>cd.getById(t,cd.getControlId(t)),getRadioEl:(t,e=t.value)=>{const n=`[role=radio][aria-posinset='${Math.ceil(e)}']`;return JX(cd.getControlEl(t),n)},getHiddenInputEl:t=>cd.getById(t,cd.getHiddenInputId(t)),dispatchChangeEvent:t=>{const e=cd.getHiddenInputEl(t);e&&AB(e,{value:t.value})}});zn()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value"]);zn()(["index"]);const qU=U2.rename("segment-group");qU.build();var XU=Jt("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");XU.build();var io=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`select:${t.id}`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},getClearTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`select:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`select:${t.id}:control`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`select:${t.id}:option:${e}`},getHiddenSelectId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},getItemGroupId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,e))??`select:${t.id}:optgroup:${e}`},getItemGroupLabelId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,e))??`select:${t.id}:optgroup-label:${e}`},getHiddenSelectEl:t=>io.getById(t,io.getHiddenSelectId(t)),getContentEl:t=>io.getById(t,io.getContentId(t)),getControlEl:t=>io.getById(t,io.getControlId(t)),getTriggerEl:t=>io.getById(t,io.getTriggerId(t)),getClearTriggerEl:t=>io.getById(t,io.getClearTriggerId(t)),getPositionerEl:t=>io.getById(t,io.getPositionerId(t)),getHighlightedOptionEl(t){return t.highlightedValue?io.getById(t,io.getItemId(t,t.highlightedValue)):null}});zn()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);zn()(["item","persistFocus"]);zn()(["id"]);zn()(["htmlFor"]);const[YU,Zl]=Tu({name:"SliderContext",hookName:"useSliderContext",providerName:"<SliderProvider />"}),KU=z.forwardRef((t,e)=>{const n=Zl(),i=Fn(n.getControlProps(),t);return w.jsx(Qn.div,{...i,ref:e})});KU.displayName="SliderControl";const[RJ,JU]=Tu({name:"SliderThumbPropsContext",hookName:"useSliderThumbPropsContext",providerName:"<SliderThumbPropsProvider />"}),QU=z.forwardRef((t,e)=>{const n=Zl(),{index:i}=JU(),r=Fn(n.getDraggingIndicatorProps({index:i}),t);return w.jsx(Qn.span,{...r,ref:e,children:t.children||n.getThumbValue(i)})});QU.displayName="SliderDraggingIndicator";const ZU=z.forwardRef((t,e)=>{const n=Zl(),i=JU(),r=Fn(n.getHiddenInputProps(i),t);return w.jsx(Qn.input,{...r,ref:e})});ZU.displayName="SliderHiddenInput";const e6=z.forwardRef((t,e)=>{const n=Zl(),i=Fn(n.getLabelProps(),t);return w.jsx(Qn.label,{...i,ref:e})});e6.displayName="SliderLabel";const t6=z.forwardRef((t,e)=>{const[n,i]=Jd()(t,["value"]),r=Zl(),s=Fn(r.getMarkerProps(n),i);return w.jsx(Qn.span,{...s,ref:e})});t6.displayName="SliderMarker";const n6=z.forwardRef((t,e)=>{const n=Zl(),i=Fn(n.getMarkerGroupProps(),t);return w.jsx(Qn.div,{...i,ref:e})});n6.displayName="SliderMarkerGroup";const i6=z.forwardRef((t,e)=>{const n=Zl(),i=Fn(n.getRangeProps(),t);return w.jsx(Qn.div,{...i,ref:e})});i6.displayName="SliderRange";function kJ(t,e){if(!t){e(void 0);return}e({width:t.offsetWidth,height:t.offsetHeight});const n=t.ownerDocument.defaultView??window,i=new n.ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const[s]=r;let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;e({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}function NJ(t){const{getNodes:e,observeMutation:n=!0,callback:i}=t,r=[];let s=null;function o(){const a=e();s=a[0];const l=a.map((c,d)=>kJ(c,h=>{i(h,d)}));r.push(...l)}if(o(),n){const a=LJ(s,o);r.push(a)}return()=>{r.forEach(a=>{a==null||a()})}}function LJ(t,e){var r;if(!t||!t.parentElement)return;const n=((r=t.ownerDocument)==null?void 0:r.defaultView)??window,i=new n.MutationObserver(()=>{e()});return i.observe(t.parentElement,{childList:!0}),()=>{i.disconnect()}}var r6=Jt("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),Nl=r6.build();function DJ(t){const e=t[0],n=t[t.length-1];return[e,n]}function OJ(t){const[e,n]=DJ(t.valuePercent);if(t.valuePercent.length===1){if(t.origin==="center"){const i=t.valuePercent[0]<50,r=i?`${t.valuePercent[0]}%`:"50%",s=i?"50%":`${100-t.valuePercent[0]}%`;return{start:r,end:s}}return{start:"0%",end:`${100-n}%`}}return{start:`${e}%`,end:`${100-n}%`}}function FJ(t){return t.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[t.isRtl?"right":"left"]:"var(--slider-range-start)",[t.isRtl?"left":"right"]:"var(--slider-range-end)"}}function zJ(t){const{height:e=0}=t.thumbSize??{},n=wA([t.min,t.max],[-e/2,e/2]);return parseFloat(n(t.value).toFixed(2))}function BJ(t){const{width:e=0}=t.thumbSize??{};if(t.isRtl){const i=wA([t.max,t.min],[-e/2,e/2]);return-1*parseFloat(i(t.value).toFixed(2))}const n=wA([t.min,t.max],[-e/2,e/2]);return parseFloat(n(t.value).toFixed(2))}function UJ(t,e){if(t.thumbAlignment==="center")return`${e}%`;const n=t.isVertical?zJ(t):BJ(t);return`calc(${e}% - ${n}px)`}function s6(t){let e=k2(t.value,t.min,t.max)*100;return UJ(t,e)}function o6(t){let e="visible";return t.thumbAlignment==="contain"&&!t.hasMeasuredThumbSize&&(e="hidden"),e}function VJ(t,e){const n=t.isVertical?"bottom":"insetInlineStart";return{visibility:o6(t),position:"absolute",transform:"var(--slider-thumb-transform)",[n]:`var(--slider-thumb-offset-${e})`}}function jJ(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function WJ(t){const e=OJ(t);return{...t.value.reduce((i,r,s)=>{const o=s6({...t,value:r});return{...i,[`--slider-thumb-offset-${s}`]:o}},{}),"--slider-thumb-transform":t.isVertical?"translateY(50%)":t.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":e.start,"--slider-range-end":e.end}}function HJ(t,e){return{visibility:o6(t),position:"absolute",pointerEvents:"none",[t.isHorizontal?"insetInlineStart":"bottom"]:s6({...t,value:e}),translate:"var(--tx) var(--ty)","--tx":t.isHorizontal?t.isRtl?"50%":"-50%":"0%","--ty":t.isHorizontal?"0%":"50%"}}function GJ(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var $J={getRootStyle:WJ,getControlStyle:jJ,getThumbStyle:VJ,getRangeStyle:FJ,getMarkerStyle:HJ,getMarkerGroupStyle:GJ},en=$i({...$J,getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},getThumbId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.thumb)==null?void 0:i.call(n,e))??`slider:${t.id}:thumb:${e}`},getHiddenInputId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:i.call(n,e))??`slider:${t.id}:input:${e}`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},getTrackId:t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},getRangeId:t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},getValueTextId:t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},getMarkerId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.marker)==null?void 0:i.call(n,e))??`slider:${t.id}:marker:${e}`},getRootEl:t=>en.getById(t,en.getRootId(t)),getThumbEl:(t,e)=>en.getById(t,en.getThumbId(t,e)),getHiddenInputEl:(t,e)=>en.getById(t,en.getHiddenInputId(t,e)),getControlEl:t=>en.getById(t,en.getControlId(t)),getElements:t=>Qc(en.getControlEl(t),"[role=slider]"),getFirstEl:t=>en.getElements(t)[0],getRangeEl:t=>en.getById(t,en.getRangeId(t)),getValueFromPoint(t,e){const n=en.getControlEl(t);if(!n)return;const r=mA(e,n).getPercentValue({orientation:t.orientation,dir:t.dir,inverted:{y:!0}});return YB(r,t.min,t.max,t.step)},dispatchChangeEvent(t){Array.from(t.value).forEach((n,i)=>{const r=en.getHiddenInputEl(t,i);r&&AB(r,{value:n})})}});function c3(t,e){return e.map((n,i,r)=>TA({...t,value:r},n,i))}function Fd(t,e){return YY(t.value,t.min,t.max,t.minStepsBetweenThumbs)[e]}function TA(t,e,n){const i=Fd(t,n),r=KB(e,t.min,t.max,t.step);return kd(r,i.min,i.max)}function qJ(t,e,n){const i=e??t.focusedIndex,r=Fd(t,i),s=qY(i,{...r,step:n??t.step,values:t.value});return s[i]=kd(s[i],r.min,r.max),s}function XJ(t,e,n){const i=e??t.focusedIndex,r=Fd(t,i),s=$Y(i,{...r,step:n??t.step,values:t.value});return s[i]=kd(s[i],r.min,r.max),s}function YJ(t,e){return XY(t.value,e)}function KJ(t,e){for(let n=0;n<e.length;n++){const i=e[n];t[n]=i}}function JJ(t,e,n){const i=t.context["aria-label"],r=t.context["aria-labelledby"],s=t.context.value,o=t.matches("focus"),a=t.matches("dragging"),l=t.context.isDisabled,c=t.context.invalid,d=t.context.isInteractive,h=t.context.orientation==="horizontal",p=t.context.orientation==="vertical";function v(b){return k2(b,t.context.min,t.context.max)}function y(b){return YB(b,t.context.min,t.context.max,t.context.step)}return{value:t.context.value,dragging:a,focused:o,setValue(b){e({type:"SET_VALUE",value:b})},getThumbValue(b){return s[b]},setThumbValue(b,S){e({type:"SET_VALUE",index:b,value:S})},getValuePercent:v,getPercentValue:y,getThumbPercent(b){return v(s[b])},setThumbPercent(b,S){const _=y(S);e({type:"SET_VALUE",index:b,value:_})},getThumbMin(b){return Fd(t.context,b).min},getThumbMax(b){return Fd(t.context,b).max},increment(b){e({type:"INCREMENT",index:b})},decrement(b){e({type:"DECREMENT",index:b})},focus(){d&&e({type:"FOCUS",index:0})},getLabelProps(){return n.label({...Nl.label.attrs,dir:t.context.dir,"data-disabled":Kt(l),"data-orientation":t.context.orientation,"data-invalid":Kt(c),"data-dragging":Kt(a),"data-focus":Kt(o),id:en.getLabelId(t.context),htmlFor:en.getHiddenInputId(t.context,0),onClick(b){var S;d&&(b.preventDefault(),(S=en.getFirstEl(t.context))==null||S.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return n.element({...Nl.root.attrs,"data-disabled":Kt(l),"data-orientation":t.context.orientation,"data-dragging":Kt(a),"data-invalid":Kt(c),"data-focus":Kt(o),id:en.getRootId(t.context),dir:t.context.dir,style:en.getRootStyle(t.context)})},getValueTextProps(){return n.element({...Nl.valueText.attrs,dir:t.context.dir,"data-disabled":Kt(l),"data-orientation":t.context.orientation,"data-invalid":Kt(c),"data-focus":Kt(o),id:en.getValueTextId(t.context)})},getTrackProps(){return n.element({...Nl.track.attrs,dir:t.context.dir,id:en.getTrackId(t.context),"data-disabled":Kt(l),"data-invalid":Kt(c),"data-dragging":Kt(a),"data-orientation":t.context.orientation,"data-focus":Kt(o),style:{position:"relative"}})},getThumbProps(b){var D,B;const{index:S=0,name:_}=b,E=s[S],T=Fd(t.context,S),P=(B=(D=t.context).getAriaValueText)==null?void 0:B.call(D,{value:E,index:S}),k=Array.isArray(i)?i[S]:i,F=Array.isArray(r)?r[S]:r;return n.element({...Nl.thumb.attrs,dir:t.context.dir,"data-index":S,"data-name":_,id:en.getThumbId(t.context,S),"data-disabled":Kt(l),"data-orientation":t.context.orientation,"data-focus":Kt(o&&t.context.focusedIndex===S),"data-dragging":Kt(a&&t.context.focusedIndex===S),draggable:!1,"aria-disabled":dA(l),"aria-label":k,"aria-labelledby":F??en.getLabelId(t.context),"aria-orientation":t.context.orientation,"aria-valuemax":T.max,"aria-valuemin":T.min,"aria-valuenow":s[S],"aria-valuetext":P,role:"slider",tabIndex:l?void 0:0,style:en.getThumbStyle(t.context,S),onPointerDown(N){d&&(e({type:"THUMB_POINTER_DOWN",index:S}),N.stopPropagation())},onBlur(){d&&e("BLUR")},onFocus(){d&&e({type:"FOCUS",index:S})},onKeyDown(N){if(N.defaultPrevented||!d)return;const R=MB(N)*t.context.step,U={ArrowUp(){h||e({type:"ARROW_INC",step:R,src:"ArrowUp"})},ArrowDown(){h||e({type:"ARROW_DEC",step:R,src:"ArrowDown"})},ArrowLeft(){p||e({type:"ARROW_DEC",step:R,src:"ArrowLeft"})},ArrowRight(){p||e({type:"ARROW_INC",step:R,src:"ArrowRight"})},PageUp(){e({type:"ARROW_INC",step:R,src:"PageUp"})},PageDown(){e({type:"ARROW_DEC",step:R,src:"PageDown"})},Home(){e("HOME")},End(){e("END")}},W=PX(N,t.context),Y=U[W];Y&&(Y(N),N.preventDefault(),N.stopPropagation())}})},getHiddenInputProps(b){const{index:S=0,name:_}=b;return n.input({name:_??(t.context.name?t.context.name+(t.context.value.length>1?"[]":""):void 0),form:t.context.form,type:"text",hidden:!0,defaultValue:t.context.value[S],id:en.getHiddenInputId(t.context,S)})},getRangeProps(){return n.element({id:en.getRangeId(t.context),...Nl.range.attrs,dir:t.context.dir,"data-dragging":Kt(a),"data-focus":Kt(o),"data-invalid":Kt(c),"data-disabled":Kt(l),"data-orientation":t.context.orientation,style:en.getRangeStyle(t.context)})},getControlProps(){return n.element({...Nl.control.attrs,dir:t.context.dir,id:en.getControlId(t.context),"data-dragging":Kt(a),"data-disabled":Kt(l),"data-orientation":t.context.orientation,"data-invalid":Kt(c),"data-focus":Kt(o),style:en.getControlStyle(),onPointerDown(b){if(!d||!fA(b)||hA(b))return;const S=b2(b);e({type:"POINTER_DOWN",point:S}),b.preventDefault(),b.stopPropagation()}})},getMarkerGroupProps(){return n.element({...Nl.markerGroup.attrs,role:"presentation",dir:t.context.dir,"aria-hidden":!0,"data-orientation":t.context.orientation,style:en.getMarkerGroupStyle()})},getMarkerProps(b){const S=en.getMarkerStyle(t.context,b.value);let _;const E=t.context.value[0],T=t.context.value[t.context.value.length-1];return b.value<E?_="under-value":b.value>T?_="over-value":_="at-value",n.element({...Nl.marker.attrs,id:en.getMarkerId(t.context,b.value),role:"presentation",dir:t.context.dir,"data-orientation":t.context.orientation,"data-value":b.value,"data-disabled":Kt(l),"data-state":_,style:S})},getDraggingIndicatorProps(b){const{index:S=0}=b,_=S===t.context.focusedIndex&&a;return n.element({...Nl.draggingIndicator.attrs,role:"presentation",dir:t.context.dir,hidden:!_,"data-orientation":t.context.orientation,"data-state":_?"open":"closed",style:en.getThumbStyle(t.context,S)})}}}var QJ=(t,e)=>(t==null?void 0:t.width)===(e==null?void 0:e.width)&&(t==null?void 0:t.height)===(e==null?void 0:e.height);function ZJ(t){const e=Gg(t);return Vw({id:"slider",initial:"idle",context:{thumbSize:null,thumbAlignment:"contain",min:0,max:100,step:1,value:[0],origin:"start",orientation:"horizontal",dir:"ltr",minStepsBetweenThumbs:0,disabled:!1,readOnly:!1,...e,focusedIndex:-1,fieldsetDisabled:!1},computed:{isHorizontal:n=>n.orientation==="horizontal",isVertical:n=>n.orientation==="vertical",isRtl:n=>n.orientation==="horizontal"&&n.dir==="rtl",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.readOnly||n.isDisabled),hasMeasuredThumbSize:n=>n.thumbSize!=null,valuePercent(n){return n.value.map(i=>100*k2(i,n.min,n.max))}},watch:{value:["syncInputElements"]},entry:["coarseValue"],activities:["trackFormControlState","trackThumbsSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:"setValueAtIndex"},{actions:"setValue"}],INCREMENT:{actions:"incrementThumbAtIndex"},DECREMENT:{actions:"decrementThumbAtIndex"}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:"setFocusedIndex"},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:"focusActiveThumb",on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:"clearFocusedIndex"}}},dragging:{entry:"focusActiveThumb",activities:"trackPointerMove",on:{POINTER_UP:{target:"focus",actions:"invokeOnChangeEnd"},POINTER_MOVE:{actions:"setPointerValue"}}}}},{guards:{hasIndex:(n,i)=>i.index!=null},activities:{trackFormControlState(n,i,{initialContext:r}){return PB(en.getRootEl(n),{onFieldsetDisabledChange(s){n.fieldsetDisabled=s},onFormReset(){ea.value(n,r.value)}})},trackPointerMove(n,i,{send:r}){return KX(en.getDoc(n),{onPointerMove(s){r({type:"POINTER_MOVE",point:s.point})},onPointerUp(){r("POINTER_UP")}})},trackThumbsSize(n){if(!(n.thumbAlignment!=="contain"||n.thumbSize))return NJ({getNodes:()=>en.getElements(n),observeMutation:!0,callback(i){!i||QJ(n.thumbSize,i)||(n.thumbSize=i)}})}},actions:{syncInputElements(n){n.value.forEach((i,r)=>{const s=en.getHiddenInputEl(n,r);en.setValue(s,i)})},invokeOnChangeEnd(n){Db.valueChangeEnd(n)},setClosestThumbIndex(n,i){const r=en.getValueFromPoint(n,i.point);if(r==null)return;const s=YJ(n,r);ea.focusedIndex(n,s)},setFocusedIndex(n,i){ea.focusedIndex(n,i.index)},clearFocusedIndex(n){ea.focusedIndex(n,-1)},setPointerValue(n,i){const r=en.getValueFromPoint(n,i.point);if(r==null)return;const s=TA(n,r,n.focusedIndex);ea.valueAtIndex(n,n.focusedIndex,s)},focusActiveThumb(n){da(()=>{const i=en.getThumbEl(n,n.focusedIndex);i==null||i.focus({preventScroll:!0})})},decrementThumbAtIndex(n,i){const r=qJ(n,i.index,i.step);ea.value(n,r)},incrementThumbAtIndex(n,i){const r=XJ(n,i.index,i.step);ea.value(n,r)},setFocusedThumbToMin(n){const{min:i}=Fd(n,n.focusedIndex);ea.valueAtIndex(n,n.focusedIndex,i)},setFocusedThumbToMax(n){const{max:i}=Fd(n,n.focusedIndex);ea.valueAtIndex(n,n.focusedIndex,i)},coarseValue(n){const i=c3(n,n.value);ea.value(n,i)},setValueAtIndex(n,i){const r=TA(n,i.value,i.index);ea.valueAtIndex(n,i.index,r)},setValue(n,i){const r=c3(n,i.value);ea.value(n,r)}}})}var Db={valueChange(t){var e;(e=t.onValueChange)==null||e.call(t,{value:Array.from(t.value)}),en.dispatchChangeEvent(t)},valueChangeEnd(t){var e;(e=t.onValueChangeEnd)==null||e.call(t,{value:Array.from(t.value)})},focusChange(t){var e;(e=t.onFocusChange)==null||e.call(t,{value:Array.from(t.value),focusedIndex:t.focusedIndex})}},ea={valueAtIndex:(t,e,n)=>{Od(t.value[e],n)||(t.value[e]=n,Db.valueChange(t))},value:(t,e)=>{Od(t.value,e)||(KJ(t.value,e),Db.valueChange(t))},focusedIndex:(t,e)=>{Od(t.focusedIndex,e)||(t.focusedIndex=e,Db.focusChange(t))}};zn()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);zn()(["index","name"]);const eQ=(t={})=>{const{getRootNode:e}=Ww(),{dir:n}=M2(),i={id:z.useId(),dir:n,getRootNode:e,value:t.defaultValue,...t},r={...i,value:t.value,onValueChange:Hl(t.onValueChange,{sync:!0}),onValueChangeEnd:Hl(t.onValueChangeEnd),onFocusChange:Hl(t.onFocusChange)},[s,o]=jw(ZJ(i),{context:r});return JJ(s,o,L2)},a6=z.forwardRef((t,e)=>{const[n,i]=Jd()(t,["aria-label","aria-labelledby","defaultValue","disabled","form","getAriaValueText","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]),r=eQ(n),s=Fn(r.getRootProps(),i);return w.jsx(YU,{value:r,children:w.jsx(Qn.div,{...s,ref:e})})});a6.displayName="SliderRoot";const l6=z.forwardRef((t,e)=>{const[{value:n},i]=Jd()(t,["value"]),r=Fn(n.getRootProps(),i);return w.jsx(YU,{value:n,children:w.jsx(Qn.div,{...r,ref:e})})});l6.displayName="SliderRootProvider";const c6=z.forwardRef((t,e)=>{const[n,i]=Jd()(t,["index","name"]),r=Zl(),s=Fn(r.getThumbProps(n),i);return w.jsx(RJ,{value:n,children:w.jsx(Qn.div,{...s,ref:e})})});c6.displayName="SliderThumb";const u6=z.forwardRef((t,e)=>{const n=Zl(),i=Fn(n.getTrackProps(),t);return w.jsx(Qn.div,{...i,ref:e})});u6.displayName="SliderTrack";const d6=z.forwardRef((t,e)=>{const{children:n,...i}=t,r=Zl(),s=Fn(r.getValueTextProps(),i);return w.jsx(Qn.span,{...s,ref:e,children:n||r.value.join(", ")})});d6.displayName="SliderValueText";var f6=Jt("switch").parts("root","label","control","thumb");f6.build();var f1=$i({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},getThumbId:t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},getRootEl:t=>f1.getById(t,f1.getRootId(t)),getHiddenInputEl:t=>f1.getById(t,f1.getHiddenInputId(t))});zn()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var h6=Jt("tooltip").parts("trigger","arrow","arrowTip","positioner","content");h6.build();var ud=$i({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`tooltip:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`tooltip:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},getTriggerEl:t=>ud.getById(t,ud.getTriggerId(t)),getContentEl:t=>ud.getById(t,ud.getContentId(t)),getPositionerEl:t=>ud.getById(t,ud.getPositionerId(t)),getArrowEl:t=>ud.getById(t,ud.getArrowId(t))});Uw({id:null,prevId:null,setId(t){this.prevId=this.id,this.id=t}});zn()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const tQ=(t,e)=>{var l;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,i]=t.split("/");if(!n||!i||n==="currentBg")return{invalid:!0,value:n};const r=e(`colors.${n}`),s=(l=e.raw(`opacity.${i}`))==null?void 0:l.value;if(!s&&isNaN(Number(i)))return{invalid:!0,value:n};const o=s?Number(s)*100+"%":`${i}%`,a=r??n;return{invalid:!1,color:a,value:`color-mix(in srgb, ${a} ${o}, transparent)`}},ii=t=>(e,n)=>{const i=n.utils.colorMix(e);if(i.invalid)return{[t]:e};const r="--mix-"+t;return{[r]:i.value,[t]:`var(${r}, ${i.color})`}};function CA(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>CA(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=CA(t[n]);return e}function MA(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!so(t[n])&&so(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&so(e[n]))MA(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let i=0;for(;i<e[n].length;i++)so(t[n][i])&&so(e[n][i])?MA(t[n][i],e[n][i]):t[n][i]=e[n][i]}else Object.assign(t,{[n]:e[n]});return t}function $g(t,...e){for(const n of e)MA(t,n);return t}const nQ=t=>t,wr=t=>t,qt=t=>t,iQ=t=>t,rQ=t=>t,p6=t=>t,sQ=t=>t,oQ=t=>t,aQ=t=>t;function m6(){const t=e=>e;return new Proxy(t,{get(){return t}})}const sr=m6(),V2=m6(),g6=t=>t,v6=(...t)=>$g({},...t.map(CA)),lQ=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function cQ(t){return`${t}`.replace(lQ,e=>`\\${e}`)}const uQ=/[A-Z]/g;function dQ(t){return t.replace(uQ,e=>`-${e.toLowerCase()}`)}function y6(t,e={}){const{fallback:n="",prefix:i=""}=e,r=dQ(["-",i,cQ(t)].filter(Boolean).join("-"));return{var:r,ref:`var(${r}${n?`, ${n}`:""})`}}const fQ=t=>/^var\(--.+\)$/.test(t),Pr=(t,e)=>e!=null?`${t}(${e})`:e,Jf=t=>{if(fQ(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},u3=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const i=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":i,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":i,[t]:{outline:"none"}}}[e]??{}}}),hQ=ii("borderColor"),Bc=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),pQ=nQ({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),Qm=y6("bg-currentcolor"),d3=t=>t===Qm.ref||t==="currentBg",ni=t=>({...t("colors"),currentBg:Qm}),mQ=g6({conditions:pQ,utilities:{background:{values:ni,shorthand:["bg"],transform(t,e){if(d3(e.raw))return{background:Qm.ref};const n=ii("background")(t,e);return{...n,[Qm.var]:n==null?void 0:n.background}}},backgroundColor:{values:ni,shorthand:["bgColor"],transform(t,e){if(d3(e.raw))return{backgroundColor:Qm.ref};const n=ii("backgroundColor")(t,e);return{...n,[Qm.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:ni,transform:ii("--gradient-from")},gradientTo:{values:ni,transform:ii("--gradient-to")},gradientVia:{values:ni,transform(t,e){return{...ii("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:ni,transform:ii("borderColor")},borderTopColor:{values:ni,transform:ii("borderTopColor")},borderBlockStartColor:{values:ni,transform:ii("borderBlockStartColor")},borderBottomColor:{values:ni,transform:ii("borderBottomColor")},borderBlockEndColor:{values:ni,transform:ii("borderBlockEndColor")},borderLeftColor:{values:ni,transform:ii("borderLeftColor")},borderInlineStartColor:{values:ni,shorthand:["borderStartColor"],transform:ii("borderInlineStartColor")},borderRightColor:{values:ni,transform:ii("borderRightColor")},borderInlineEndColor:{values:ni,shorthand:["borderEndColor"],transform:ii("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:ni,transform:ii("color")},fill:{values:ni,transform:ii("fill")},stroke:{values:ni,transform:ii("stroke")},accentColor:{values:ni,transform:ii("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:ni,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":hQ(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:ni,transform:ii("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":Pr("blur",t)})},brightness:{transform:t=>({"--brightness":Pr("brightness",t)})},contrast:{transform:t=>({"--contrast":Pr("contrast",t)})},grayscale:{transform:t=>({"--grayscale":Pr("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":Pr("hue-rotate",Jf(t))})},invert:{transform:t=>({"--invert":Pr("invert",t)})},saturate:{transform:t=>({"--saturate":Pr("saturate",t)})},sepia:{transform:t=>({"--sepia":Pr("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":Pr("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":Pr("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":Pr("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":Pr("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":Pr("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":Pr("hue-rotate",Jf(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":Pr("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":Pr("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":Pr("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":Pr("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:ni,transform:ii("outlineColor")},focusRing:u3("&:is(:focus, [data-focus])"),focusVisibleRing:u3("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:ni,transform:ii("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:ni,transform:ii("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:ni,transform:ii("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:ni,transform:ii("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:ni,transform:ii("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":Jf(t)})},skewY:{transform:t=>({"--skew-y":Jf(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:Jf(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":Jf(t)}}},rotateY:{transform(t){return{"--rotate-y":Jf(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Bc("all");case"position":return Bc("left, right, top, bottom, inset-inline, inset-block");case"colors":return Bc("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Bc("opacity");case"shadow":return Bc("box-shadow");case"transform":return Bc("transform");case"size":return Bc("width, height");case"backgrounds":return Bc("background, background-color, background-image, background-position");case"common":return Bc("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return gQ[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:ni,transform:ii("caretColor")},cursor:{values:"cursor"}}}),gQ={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var vQ="",yQ=vQ.split(","),xQ="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",_Q=xQ.split(",").concat(yQ),bQ=new Map(_Q.map(t=>[t,!0]));function SQ(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var wQ=/&|@/,EQ=SQ(t=>bQ.has(t)||t.startsWith("--")||wQ.test(t));const TQ=t=>t!=null;function du(t,e,n={}){const{stop:i,getKey:r}=n;function s(o,a=[]){if(so(o)||Array.isArray(o)){const l={};for(const[c,d]of Object.entries(o)){const h=(r==null?void 0:r(c,d))??c,p=[...a,h];if(i!=null&&i(o,p))return e(o,a);const v=s(d,p);TQ(v)&&(l[h]=v)}return l}return e(o,a)}return s(t)}function x6(t,e){return Array.isArray(t)?t.map(n=>e(n)):so(t)?du(t,n=>e(n)):t!=null?e(t):t}function CQ(t,e){const n={};return du(t,(i,r)=>{i&&(n[r.join(".")]=i.value)},{stop:e}),n}var sC,f3;function MQ(){if(f3)return sC;f3=1,sC=s,s.default=s,s.stable=c,s.stableStringify=c;var t="[...]",e="[Circular]",n=[],i=[];function r(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(p,v,y,b){typeof b>"u"&&(b=r()),a(p,"",0,[],void 0,0,b);var S;try{i.length===0?S=JSON.stringify(p,v,y):S=JSON.stringify(p,h(v),y)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var _=n.pop();_.length===4?Object.defineProperty(_[0],_[1],_[3]):_[0][_[1]]=_[2]}}return S}function o(p,v,y,b){var S=Object.getOwnPropertyDescriptor(b,y);S.get!==void 0?S.configurable?(Object.defineProperty(b,y,{value:p}),n.push([b,y,v,S])):i.push([v,y,p]):(b[y]=p,n.push([b,y,v]))}function a(p,v,y,b,S,_,E){_+=1;var T;if(typeof p=="object"&&p!==null){for(T=0;T<b.length;T++)if(b[T]===p){o(e,p,v,S);return}if(typeof E.depthLimit<"u"&&_>E.depthLimit){o(t,p,v,S);return}if(typeof E.edgesLimit<"u"&&y+1>E.edgesLimit){o(t,p,v,S);return}if(b.push(p),Array.isArray(p))for(T=0;T<p.length;T++)a(p[T],T,T,b,p,_,E);else{var P=Object.keys(p);for(T=0;T<P.length;T++){var k=P[T];a(p[k],k,T,b,p,_,E)}}b.pop()}}function l(p,v){return p<v?-1:p>v?1:0}function c(p,v,y,b){typeof b>"u"&&(b=r());var S=d(p,"",0,[],void 0,0,b)||p,_;try{i.length===0?_=JSON.stringify(S,v,y):_=JSON.stringify(S,h(v),y)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var E=n.pop();E.length===4?Object.defineProperty(E[0],E[1],E[3]):E[0][E[1]]=E[2]}}return _}function d(p,v,y,b,S,_,E){_+=1;var T;if(typeof p=="object"&&p!==null){for(T=0;T<b.length;T++)if(b[T]===p){o(e,p,v,S);return}try{if(typeof p.toJSON=="function")return}catch{return}if(typeof E.depthLimit<"u"&&_>E.depthLimit){o(t,p,v,S);return}if(typeof E.edgesLimit<"u"&&y+1>E.edgesLimit){o(t,p,v,S);return}if(b.push(p),Array.isArray(p))for(T=0;T<p.length;T++)d(p[T],T,T,b,p,_,E);else{var P={},k=Object.keys(p).sort(l);for(T=0;T<k.length;T++){var F=k[T];d(p[F],F,T,b,p,_,E),P[F]=p[F]}if(typeof S<"u")n.push([S,v,p]),S[v]=P;else return P}b.pop()}}function h(p){return p=typeof p<"u"?p:function(v,y){return y},function(v,y){if(i.length>0)for(var b=0;b<i.length;b++){var S=i[b];if(S[1]===v&&S[0]===y){y=S[2],i.splice(b,1);break}}return p.call(this,v,y)}}return sC}var AQ=MQ();const PQ=Sx(AQ),Qa=t=>{const e=Object.create(null);function n(...i){const r=i.map(s=>PQ(s)).join("|");return e[r]===void 0&&(e[r]=t(...i)),e[r]}return n},_6=16,cS="px",j2="em",s0="rem";function b6(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${cS}|${j2}|${s0}`),i=t.match(new RegExp(`${e.source}(${n.source})`));return i==null?void 0:i[1]}function S6(t=""){if(typeof t=="number")return`${t}px`;const e=b6(t);if(!e||e===cS)return t;if(e===j2||e===s0)return`${parseFloat(t)*_6}${cS}`}function w6(t=""){const e=b6(t);if(!e||e===s0)return t;if(e===j2)return`${parseFloat(t)}${s0}`;if(e===cS)return`${parseFloat(t)/_6}${s0}`}const IQ=t=>t.charAt(0).toUpperCase()+t.slice(1);function RQ(t){const e=kQ(t),n=Object.fromEntries(e);function i(p){return n[p]}function r(p){return ym(i(p))}function s(){const p=Object.keys(n),v=NQ(p),y=p.flatMap(b=>{const S=i(b),_=[`${b}Down`,ym({max:Ob(S.min)})],E=[b,ym({min:S.min})],T=[`${b}Only`,r(b)];return[E,T,_]}).filter(([,b])=>b!=="").concat(v.map(([b,S])=>{const _=i(b),E=i(S);return[`${b}To${IQ(S)}`,ym({min:_.min,max:Ob(E.min)})]}));return Object.fromEntries(y)}function o(){const p=s();return Object.fromEntries(Object.entries(p))}const a=o(),l=p=>a[p];function c(){return["base",...Object.keys(n)]}function d(p){return ym({min:i(p).min})}function h(p){return ym({max:Ob(i(p).min)})}return{values:Object.values(n),only:r,keys:c,conditions:a,getCondition:l,up:d,down:h}}function Ob(t){const e=parseFloat(S6(t)??"")-.04;return w6(`${e}px`)}function kQ(t){return Object.entries(t).sort(([,n],[,i])=>parseInt(n,10)<parseInt(i,10)?-1:1).map(([n,i],r,s)=>{var a;let o=null;return r<=s.length-1&&(o=(a=s[r+1])==null?void 0:a[1]),o!=null&&(o=Ob(o)),[n,{name:n,min:w6(i),max:o}]})}function NQ(t){const e=[];return t.forEach((n,i)=>{let r=i;r++;let s=t[r];for(;s;)e.push([n,s]),r++,s=t[r]}),e}function ym({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const LQ=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,i])=>e(n,i))),DQ=t=>{const{breakpoints:e,conditions:n={}}=t,i=LQ(n,(d,h)=>[`_${d}`,h]),r=Object.assign({},i,e.conditions);function s(){return Object.keys(r)}function o(d){return s().includes(d)||/^@|&|&$/.test(d)||d.startsWith("_")}function a(d){return d.filter(h=>h!=="base").sort((h,p)=>{const v=o(h),y=o(p);return v&&!y?1:!v&&y?-1:0})}function l(d){return d.startsWith("@breakpoint")?e.getCondition(d.replace("@breakpoint ","")):d}function c(d){return Reflect.get(r,d)||d}return{keys:s,sort:a,has:o,resolve:c,breakpoints:e.keys(),expandAtRule:l}},E6=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),OQ=E6("width"),FQ=E6("height"),T6=t=>({isMin:y3(t.minMax,t.maxMin,t.min),isMax:y3(t.maxMin,t.minMax,t.max)}),{isMin:AA,isMax:h3}=T6(OQ),{isMin:PA,isMax:p3}=T6(FQ),m3=/print/i,g3=/^print$/i,zQ=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,BQ=/(\d)/,Xy=Number.MAX_VALUE,UQ={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function v3(t){const e=zQ.exec(t)||(AA(t)||PA(t)?BQ.exec(t):null);if(!e)return Xy;if(e[0]==="0")return 0;const n=parseFloat(e[1]),i=e[2];return n*(UQ[i]||1)}function y3(t,e,n){return i=>t.test(i)||!e.test(i)&&n.test(i)}function VQ(t,e){const n=m3.test(t),i=g3.test(t),r=m3.test(e),s=g3.test(e);return n&&r?!i&&s?1:i&&!s?-1:t.localeCompare(e):n?1:r?-1:null}const jQ=Qa((t,e)=>{const n=VQ(t,e);if(n!==null)return n;const i=AA(t)||PA(t),r=h3(t)||p3(t),s=AA(e)||PA(e),o=h3(e)||p3(e);if(i&&o)return-1;if(r&&s)return 1;const a=v3(t),l=v3(e);return a===Xy&&l===Xy?t.localeCompare(e):a===Xy?1:l===Xy?-1:a!==l?a>l?r?-1:1:r?1:-1:t.localeCompare(e)});function x3(t){return t.sort(([e],[n])=>jQ(e,n))}function C6(t){const e=[],n=[],i={};for(const[o,a]of Object.entries(t))o.startsWith("@media")?e.push([o,a]):o.startsWith("@container")?n.push([o,a]):so(a)?i[o]=C6(a):i[o]=a;const r=x3(e),s=x3(n);return{...i,...Object.fromEntries(r),...Object.fromEntries(s)}}const M6=/\s*!(important)?/i,WQ=t=>Ql(t)?M6.test(t):!1,HQ=t=>Ql(t)?t.replace(M6,"").trim():t;function A6(t){const{transform:e,conditions:n,normalize:i}=t,r=qQ(t);return Qa(function(...o){const a=r(...o),l=i(a),c=Object.create(null);return du(l,(d,h)=>{const p=WQ(d);if(d==null)return;const[v,...y]=n.sort(h).map(n.resolve);p&&(d=HQ(d));let b=e(v,d)??Object.create(null);b=du(b,S=>Ql(S)&&p?`${S} !important`:S,{getKey:S=>n.expandAtRule(S)}),GQ(c,y.flat(),b)}),C6(c)})}function GQ(t,e,n){let i=t;for(const r of e)r&&(i[r]||(i[r]=Object.create(null)),i=i[r]);$g(i,n)}function $Q(...t){return t.filter(e=>so(e)&&Object.keys(Ex(e)).length>0)}function qQ(t){function e(n){const i=$Q(...n);return i.length===1?i:i.map(r=>t.normalize(r))}return Qa(function(...i){return $g({},...e(i))})}function P6(t,e=[]){const n=Object.assign({},t);for(const i of e)i in n&&delete n[i];return n}const XQ=(...t)=>{const e=t.filter(Boolean);return Array.from(new Set(e))},I6=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function YQ(t){const{css:e,conditions:n,normalize:i,layers:r}=t;function s(a={}){const{base:l,variants:c,defaultVariants:d,compoundVariants:h}=I6(a),p=A6({conditions:n,normalize:i,transform(E,T){var P;return(P=c[E])==null?void 0:P[T]}}),v=(E={})=>{const T=i({...d,...Ex(E)});let P={...l};$g(P,p(T));const k=o(h,T);return r.wrap("recipes",e(P,k))},y=Object.keys(c),b=E=>{const T=P6(E,["recipe"]),[P,k]=hg(T,y);return y.includes("colorPalette")||(P.colorPalette=E.colorPalette||d.colorPalette),y.includes("orientation")&&(k.orientation=E.orientation),[P,k]},S=Object.fromEntries(Object.entries(c).map(([E,T])=>[E,Object.keys(T)]));return Object.assign(E=>e(v(E)),{className:a.className,__cva__:!0,variantMap:S,variantKeys:y,raw:v,config:a,splitVariantProps:b,merge(E){return s(KQ(t)(this,E))}})}function o(a,l){let c={};return a.forEach(d=>{Object.entries(d).every(([p,v])=>p==="css"?!0:(Array.isArray(v)?v:[v]).some(b=>l[p]===b))&&(c=e(c,d.css))}),c}return s}function KQ(t){const{css:e}=t;return function(i,r){const s=I6(r.config),o=XQ(i.variantKeys,Object.keys(r.variants)),a=e(i.base,s.base),l=Object.fromEntries(o.map(p=>[p,e(i.config.variants[p],s.variants[p])])),c=$g(i.config.defaultVariants,s.defaultVariants),d=[...i.compoundVariants,...s.compoundVariants];return{className:ua(i.className,r.className),base:a,variants:l,defaultVariants:c,compoundVariants:d}}}const JQ={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},_3={reset:0,base:1,tokens:2,recipes:3};function QQ(t){const e=t.layers??JQ,i=Object.values(e).sort((r,s)=>_3[r]-_3[s]);return{names:i,atRule:`@layer ${i.join(", ")};`,wrap(r,s){return t.disableLayers?s:{[`@layer ${e[r]}`]:s}}}}function ZQ(t){const{utility:e,normalize:n}=t,{hasShorthand:i,resolveShorthand:r}=e;return function(s){return du(s,n,{stop:o=>Array.isArray(o),getKey:i?r:void 0})}}function eZ(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:i="parent"}=so(e)?e:{};let r="";n&&i==="parent"?r=`${n} `:n&&i==="element"&&(r=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(i==="element"){const a=Object.entries(s).reduce((l,[c,d])=>(l[c]={[r]:d},l),{});Object.assign(o,a)}else r?o[r]=s:Object.assign(o,s);return o}function tZ(t){const{conditions:e,isValidProperty:n}=t;return function(r){return du(r,s=>s,{getKey:(s,o)=>so(o)&&!e.has(s)&&!n(s)?nZ(s).map(a=>"&"+a).join(", "):s})}}function nZ(t){const e=[];let n=0,i="",r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="\\"&&!r){r=!0,i+=o;continue}if(r){r=!1,i+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(i.trim()),i=""):i+=o}return i&&e.push(i.trim()),e}const iZ=(t={})=>{const e=r=>{var s;return{base:((s=t.base)==null?void 0:s[r])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?rZ(t.compoundVariants,r):[]}},i=(t.slots??[]).map(r=>[r,e(r)]);for(const[r,s]of Object.entries(t.variants??{}))for(const[o,a]of Object.entries(s))i.forEach(([l,c])=>{var d;(d=c.variants)[r]??(d[r]={}),c.variants[r][o]=a[l]??{}});return Object.fromEntries(i)},rZ=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function sZ(t){const{cva:e}=t;return function(i={}){const r=Object.entries(iZ(i)).map(([h,p])=>[h,e(p)]);function s(h){const p=r.map(([v,y])=>[v,y(h)]);return Object.fromEntries(p)}const o=i.variants??{},a=Object.keys(o);function l(h){var b;const p=P6(h,["recipe"]),[v,y]=hg(p,a);return a.includes("colorPalette")||(v.colorPalette=h.colorPalette||((b=i.defaultVariants)==null?void 0:b.colorPalette)),a.includes("orientation")&&(y.orientation=h.orientation),[v,y]}const c=Object.fromEntries(Object.entries(o).map(([h,p])=>[h,Object.keys(p)]));let d={};return i.className&&(d=Object.fromEntries(i.slots.map(h=>[h,`${i.className}__${h}`]))),Object.assign(s,{variantMap:c,variantKeys:a,splitVariantProps:l,classNameMap:d})}}const oZ=()=>t=>Array.from(new Set(t)),aZ=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,lZ=function(t,e){return e?t==="\0"?"�":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},R6=t=>(t+"").replace(aZ,lZ),k6=(t,e)=>{let n="",i=0,r="char",s="",o="";const a=[];for(;i<t.length;){const l=t[i];if(l==="{"){const d=t.indexOf("}",i);if(d===-1)break;const h=t.slice(i+1,d),p=e(h);n+=p??h,i=d+1;continue}if(r==="token"&&l===","){t[i]===""&&i++,r="fallback",a.push(r);const d=e(s);d!=null&&d.endsWith(")")&&(n+=d.slice(0,-1)),s="",o="";continue}if(r==="fallback"&&o+l===", var("){const p=cZ(t.slice(i+1))+i+1,v=t.slice(i+1,p);if(p===-1)break;n+=", var("+v+")",i=p+1,r=a.pop()??r,o="";continue}if(r==="token"||r==="fallback"){if(i++,l===")"){r=a.pop()??r??"char",o+=l;const d=s&&(e(s)??R6(s));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const p=k6(o,e);p&&(o=p.slice(0,-1))}else if(o){const p=e(o);p&&(o=p)}}const h=n.at(-1);o?h!=null&&h.trim()?n+=d.slice(0,-1)+(", "+o+")"):n+=o:n+=d||")",s="",o="",r="char";continue}r==="token"&&(s+=l),r==="fallback"&&(o+=l);continue}const c=t.indexOf("token(",i);if(c!==-1){const d=c+6;n+=t.slice(i,c),i=d,r="token",a.push(r);continue}n+=l,i++}return n},cZ=t=>{let e=0;const n=["("];for(;e<t.length;){const i=t[e];if(i==="(")n.push(i);else if(i===")"&&(n.pop(),n.length===0))return e;e++}return e};function N6(t){const e={};return t.forEach((n,i)=>{n instanceof Map?e[i]=Object.fromEntries(n):e[i]=n}),e}const L6=/({([^}]*)})/g,uZ=/[{}]/g,dZ=/\w+\.\w+/,D6=t=>{if(!Ql(t))return[];const e=t.match(L6);return e?e.map(n=>n.replace(uZ,"")).map(n=>n.trim()):[]},fZ=t=>L6.test(t);function O6(t){var n,i,r;if(!((n=t.extensions)!=null&&n.references))return((r=(i=t.extensions)==null?void 0:i.cssVar)==null?void 0:r.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((s,o)=>{const a=e[o];if(a.extensions.conditions)return s;const l=O6(a);return s.replace(`{${o}}`,l)},t.value),delete t.extensions.references,t.value}function F6(t){return so(t)&&t.reference?t.reference:String(t)}const Hw=(t,...e)=>e.map(F6).join(` ${t} `).replace(/calc/g,""),b3=(...t)=>`calc(${Hw("+",...t)})`,S3=(...t)=>`calc(${Hw("-",...t)})`,IA=(...t)=>`calc(${Hw("*",...t)})`,w3=(...t)=>`calc(${Hw("/",...t)})`,E3=t=>{const e=F6(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:IA(e,-1)},Xm=Object.assign(t=>({add:(...e)=>Xm(b3(t,...e)),subtract:(...e)=>Xm(S3(t,...e)),multiply:(...e)=>Xm(IA(t,...e)),divide:(...e)=>Xm(w3(t,...e)),negate:()=>Xm(E3(t)),toString:()=>t.toString()}),{add:b3,subtract:S3,multiply:IA,divide:w3,negate:E3}),hZ={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:i,formatTokenName:r,registerToken:s}=t;n.filter(({extensions:a})=>a.category==="spacing").forEach(a=>{const l=a.path.slice(),c=i(l,e);if(Ql(a.value)&&a.value==="0rem")return;const d=structuredClone(a);Object.assign(d.extensions,{negative:!0,prop:`-${a.extensions.prop}`,originalPath:l}),d.value=Xm.negate(c.ref);const h=d.path[d.path.length-1];h!=null&&(d.path[d.path.length-1]=`-${h}`),d.path&&(d.name=r(d.path)),s(d)})}},pZ=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),mZ={enforce:"post",transform(t){t.allTokens.filter(n=>pZ.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:S6(n.value)})})}},gZ={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:i}=t,r=e.filter(({extensions:a})=>a.category==="colors"),s=new Map,o=new Map;r.forEach(a=>{const{colorPalette:l}=a.extensions;l&&(l.keys.forEach(c=>{s.set(i(c),c)}),l.roots.forEach(c=>{var p;const d=i(c),h=o.get(d)||[];if(h.push(a),o.set(d,h),a.extensions.default&&c.length===1){const v=(p=l.keys[0])==null?void 0:p.filter(Boolean);if(!v.length)return;const y=c.concat(v);s.set(i(y),[])}}))}),s.forEach(a=>{const l=["colors","colorPalette",...a].filter(Boolean),c=i(l),d=i(l.slice(1));n({name:c,value:c,originalValue:c,path:l,extensions:{condition:"base",originalPath:l,category:"colors",prop:d,virtual:!0}},"pre")})}},vZ={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},yZ=[hZ,gZ,mZ,vZ],xZ={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:i}=e,{negative:r,originalPath:s}=t.extensions,o=r?s:t.path;return{cssVar:i(o.filter(Boolean),n)}}},_Z={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:i}=e,r=D6(t.value);return r.length&&r.forEach(s=>{const o=i(s.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},bZ={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const a=[...t.path];a.shift(),n=a}if(n.length===0)return{};const i=n.reduce((a,l,c,d)=>{const h=d.slice(0,c+1);return a.push(h),a},[]),r=n[0],s=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(r)+1).reduce((a,l,c,d)=>(a.push(d.slice(c)),a),[]);return o.length===0&&o.push([""]),{colorPalette:{value:s,roots:i,keys:o}}}},SZ=[xZ,_Z,bZ],T3=t=>so(t)&&Object.prototype.hasOwnProperty.call(t,"value");function wZ(t){return t?{breakpoints:x6(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function EZ(t){const{prefix:e="",tokens:n={},semanticTokens:i={},breakpoints:r={}}=t,s=me=>me.join("."),o=(me,ye)=>y6(me.join("-"),{prefix:ye}),a=[],l=new Map,c=new Map,d=new Map,h=new Map,p=new Map,v=new Map,y=new Map,b=new Map,S=[];function _(me,ye){a.push(me),l.set(me.name,me),ye&&b.forEach(je=>{je.enforce===ye&&ne(je,me)})}const E=wZ(r),T=Ex({...n,breakpoints:E.breakpoints,sizes:{...n.sizes,...E.sizes}});function P(){du(T,(me,ye)=>{const je=ye.includes("DEFAULT");ye=C3(ye);const at=ye[0],J=s(ye),Pe=Ql(me)?{value:me}:me,Be={value:Pe.value,originalValue:Pe.value,name:J,path:ye,extensions:{condition:"base",originalPath:ye,category:at,prop:s(ye.slice(1))}};je&&(Be.extensions.default=!0),_(Be)},{stop:T3}),du(i,(me,ye)=>{const je=ye.includes("DEFAULT");ye=z6(C3(ye));const at=ye[0],J=s(ye),Pe=Ql(me.value)?{value:{base:me.value}}:me,Be={value:Pe.value.base||"",originalValue:Pe.value.base||"",name:J,path:ye,extensions:{originalPath:ye,category:at,conditions:Pe.value,condition:"base",prop:s(ye.slice(1))}};je&&(Be.extensions.default=!0),_(Be)},{stop:T3})}function k(me){return l.get(me)}function F(me){const{condition:ye}=me.extensions;ye&&(c.has(ye)||c.set(ye,new Set),c.get(ye).add(me))}function D(me){const{category:ye,prop:je}=me.extensions;ye&&(y.has(ye)||y.set(ye,new Map),y.get(ye).set(je,me))}function B(me){const{condition:ye,negative:je,virtual:at,cssVar:J}=me.extensions;je||at||!ye||!J||(d.has(ye)||d.set(ye,new Map),d.get(ye).set(J.var,me.value))}function N(me){const{category:ye,prop:je,cssVar:at,negative:J}=me.extensions;if(!ye)return;v.has(ye)||v.set(ye,new Map);const Pe=J?me.extensions.conditions?me.originalValue:me.value:at.ref;v.get(ye).set(je,Pe),p.set([ye,je].join("."),Pe)}function R(me){const{colorPalette:ye,virtual:je,default:at}=me.extensions;!ye||je||ye.roots.forEach(J=>{var tt;const Pe=s(J);h.has(Pe)||h.set(Pe,new Map);const Be=CZ([...me.path],[...J]),et=s(Be),Ae=k(et);if(!Ae||!Ae.extensions.cssVar)return;const{var:Ct}=Ae.extensions.cssVar;if(h.get(Pe).set(Ct,me.extensions.cssVar.ref),at&&J.length===1){const lt=s(["colors","colorPalette"]),ie=k(lt);if(!ie)return;const $=s(me.path),be=k($);if(!be)return;const ke=(tt=ye.keys[0])==null?void 0:tt.filter(Boolean);if(!ke.length)return;const Ie=s(J.concat(ke));h.has(Ie)||h.set(Ie,new Map),h.get(Ie).set(ie.extensions.cssVar.var,be.extensions.cssVar.ref)}})}let U={};function W(){a.forEach(me=>{F(me),D(me),B(me),N(me),R(me)}),U=N6(v)}const Y=(me,ye)=>{var Ae;if(!me||typeof me!="string")return{invalid:!0,value:me};const[je,at]=me.split("/");if(!je||!at)return{invalid:!0,value:je};const J=ye(je),Pe=(Ae=k(`opacity.${at}`))==null?void 0:Ae.value;if(!Pe&&isNaN(Number(at)))return{invalid:!0,value:je};const Be=Pe?Number(Pe)*100+"%":`${at}%`,et=J??je;return{invalid:!1,color:et,value:`color-mix(in srgb, ${et} ${Be}, transparent)`}},ee=Qa((me,ye)=>p.get(me)??ye),K=Qa(me=>U[me]||null),Z=Qa(me=>k6(me,ye=>{if(!ye)return;if(ye.includes("/")){const at=Y(ye,J=>ee(J));if(at.invalid)throw new Error("Invalid color mix at "+ye+": "+at.value);return at.value}const je=ee(ye);return je||(dZ.test(ye)?R6(ye):ye)})),G={prefix:e,allTokens:a,tokenMap:l,registerToken:_,getByName:k,formatTokenName:s,formatCssVar:o,flatMap:p,cssVarMap:d,categoryMap:y,colorPaletteMap:h,getVar:ee,getCategoryValues:K,expandReferenceInValue:Z};function j(...me){me.forEach(ye=>{b.set(ye.name,ye)})}function Q(...me){S.push(...me)}function ne(me,ye){if(ye.extensions.references||v2(me.match)&&!me.match(ye))return;const at=(J=>me.transform(J,G))(ye);switch(!0){case me.type==="extensions":Object.assign(ye.extensions,at);break;case me.type==="value":ye.value=at;break;default:ye[me.type]=at;break}}function q(me){S.forEach(ye=>{ye.enforce===me&&ye.transform(G)})}function ae(me){b.forEach(ye=>{ye.enforce===me&&a.forEach(je=>{ne(ye,je)})})}function Re(){a.forEach(me=>{const ye=TZ(me);!ye||ye.length===0||ye.forEach(je=>{_(je)})})}function he(me){return D6(me).map(je=>k(je)).filter(Boolean)}function ve(){a.forEach(me=>{if(!fZ(me.value))return;const ye=he(me.value);me.extensions.references=ye.reduce((je,at)=>(je[at.name]=at,je),{})})}function Oe(){a.forEach(me=>{O6(me)})}function Fe(){q("pre"),ae("pre"),Re(),ve(),Oe(),q("post"),ae("post"),W()}return P(),j(...SZ),Q(...yZ),Fe(),G}function C3(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function z6(t){return t.filter(e=>e!=="base")}function TZ(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return du(e,(i,r)=>{const s=z6(r);if(!s.length)return;const o=structuredClone(t);o.value=i,o.extensions.condition=s.join(":"),n.push(o)}),n}function CZ(t,e){const n=t.findIndex((i,r)=>e.every((s,o)=>t[r+o]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}oZ()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function MZ(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function AZ(t){const e=MZ(t.config),n=t.tokens,i=new Map,r=new Map;function s(B,N){e[B]=N,o(B,N)}const o=(B,N)=>{const R=b(N);R&&(r.set(B,R),h(B,N))},a=()=>{for(const[B,N]of Object.entries(e))N&&o(B,N)},l=()=>{for(const[B,N]of Object.entries(e)){const{shorthand:R}=N??{};if(!R)continue;(Array.isArray(R)?R:[R]).forEach(W=>i.set(W,B))}},c=()=>{const B=N6(n.colorPaletteMap);s("colorPalette",{values:Object.keys(B),transform:Qa(N=>B[N])})},d=new Map,h=(B,N)=>{if(!N)return;const R=b(N,W=>`type:Tokens["${W}"]`);if(typeof R=="object"&&R.type){d.set(B,new Set([`type:${R.type}`]));return}if(R){const W=new Set(Object.keys(R));d.set(B,W)}const U=d.get(B)??new Set;N.property&&d.set(B,U.add(`CssProperties["${N.property}"]`))},p=()=>{for(const[B,N]of Object.entries(e))N&&h(B,N)},v=(B,N)=>{const R=d.get(B)??new Set;d.set(B,new Set([...R,...N]))},y=()=>{const B=new Map;for(const[N,R]of d.entries()){if(R.size===0){B.set(N,["string"]);continue}const U=Array.from(R).map(W=>W.startsWith("CssProperties")?W:W.startsWith("type:")?W.replace("type:",""):JSON.stringify(W));B.set(N,U)}return B},b=(B,N)=>{const{values:R}=B,U=W=>{const Y=N==null?void 0:N(W);return Y?{[Y]:Y}:void 0};return Ql(R)?(U==null?void 0:U(R))??n.getCategoryValues(R)??{}:Array.isArray(R)?R.reduce((W,Y)=>(W[Y]=Y,W),{}):v2(R)?R(N?U:n.getCategoryValues):R},S=Qa((B,N)=>({[B]:B.startsWith("--")?n.getVar(N,N):N})),_=Object.assign(n.getVar,{raw:B=>n.getByName(B)}),E=Qa((B,N)=>{var ee;const R=k(B);Ql(N)&&!N.includes("_EMO_")&&(N=n.expandReferenceInValue(N));const U=e[R];if(!U)return S(R,N);const W=(ee=r.get(R))==null?void 0:ee[N];if(!U.transform)return S(B,W??N);const Y=K=>tQ(K,_);return U.transform(W??N,{raw:N,token:_,utils:{colorMix:Y}})});function T(){l(),c(),a(),p()}T();const P=i.size>0,k=Qa(B=>i.get(B)??B);return{keys:()=>[...Array.from(i.keys()),...Object.keys(e)],hasShorthand:P,transform:E,shorthands:i,resolveShorthand:k,register:s,getTypes:y,addPropertyType:v}}function PZ(...t){const e=v6(...t),{theme:n={},utilities:i={},globalCss:r={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:a}=e,l=QQ(e),c=EZ({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),d=RQ(n.breakpoints??{}),h=DQ({conditions:e.conditions??{},breakpoints:d}),p=AZ({config:i,tokens:c});function v(){const{textStyles:j,layerStyles:Q,animationStyles:ne}=n,q=Ex({textStyle:j,layerStyle:Q,animationStyle:ne});for(const[ae,Re]of Object.entries(q)){const he=CQ(Re??{},ve=>so(ve)&&"value"in ve);p.register(ae,{values:Object.keys(he),transform(ve){return T(he[ve])}})}}v(),p.addPropertyType("animationName",Object.keys(n.keyframes??{}));const y=new Set(["css",...p.keys(),...h.keys()]),b=Qa(j=>y.has(j)||EQ(j)),S=j=>Array.isArray(j)?j.reduce((Q,ne,q)=>{const ae=h.breakpoints[q];return ne!=null&&(Q[ae]=ne),Q},{}):j,_=ZQ({utility:p,normalize:S}),E=tZ({conditions:h,isValidProperty:b}),T=A6({transform:p.transform,conditions:h,normalize:_}),P=YQ({css:T,conditions:h,normalize:_,layers:l}),k=sZ({cva:P});function F(){const j={};for(const[Q,ne]of c.cssVarMap.entries()){const q=Object.fromEntries(ne);if(Object.keys(q).length===0)continue;const ae=Q==="base"?s:h.resolve(Q),Re=T(E({[ae]:q}));$g(j,Re)}return l.wrap("tokens",j)}function D(){const j=Object.fromEntries(Object.entries(n.keyframes??{}).map(([ne,q])=>[`@keyframes ${ne}`,q])),Q=Object.assign({},j,T(E(r)));return l.wrap("base",Q)}function B(j){return hg(j,b)}function N(){const j=eZ({preflight:a});return l.wrap("reset",j)}const R=IZ(c),U=(j,Q)=>{var ne;return((ne=R.get(j))==null?void 0:ne.value)||Q};U.var=(j,Q)=>{var ne;return((ne=R.get(j))==null?void 0:ne.variable)||Q};function W(j,Q){var ne;return((ne=n.recipes)==null?void 0:ne[j])??Q}function Y(j,Q){var ne;return((ne=n.slotRecipes)==null?void 0:ne[j])??Q}function ee(j){return Object.hasOwnProperty.call(n.recipes??{},j)}function K(j){return Object.hasOwnProperty.call(n.slotRecipes??{},j)}function Z(j){return ee(j)||K(j)}const G=[N(),D(),F()];return{$$chakra:!0,_config:e,_global:G,breakpoints:d,tokens:c,conditions:h,utility:p,token:U,properties:y,layers:l,isValidProperty:b,splitCssProps:B,normalizeValue:S,getTokenCss:F,getGlobalCss:D,getPreflightCss:N,css:T,cva:P,sva:k,getRecipe:W,getSlotRecipe:Y,hasRecipe:Z,isRecipe:ee,isSlotRecipe:K}}function IZ(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:i,virtual:r,conditions:s}=n.extensions,o=s||r?i.ref:n.value;e.set(n.name,{value:o,variable:i.ref})}),e}const RZ={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},oC="var(--chakra-empty,/*!*/ /*!*/)",kZ=rQ({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":oC,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,oC])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,oC])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),NZ=aQ({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),LZ=oQ({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),W2=wr({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),DZ=wr({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),qr=wr({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:OZ,defaultVariants:FZ}=W2,zZ=wr({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:OZ,defaultVariants:FZ}),B6=wr({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),BZ=wr({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),UZ=wr({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),VZ=wr({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),er=wr({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),jZ=wr({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:er.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),WZ=wr({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),HZ=wr({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),GZ=wr({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),Xr=wr({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),$Z=wr({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),qZ=wr({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),XZ=wr({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),YZ=wr({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),KZ=wr({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),JZ={badge:W2,button:DZ,code:zZ,container:BZ,heading:UZ,input:er,inputAddon:jZ,kbd:WZ,link:HZ,mark:GZ,separator:$Z,skeleton:qZ,skipNavLink:XZ,spinner:YZ,textarea:KZ,icon:VZ,checkmark:qr,radiomark:Xr,colorSwatch:B6},QZ=V2.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),ZZ=V2.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),eee=V2.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),tee=oU.extendWith("itemBody"),nee=Jt("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),iee=Jt("alert").parts("title","description","root","indicator","content"),ree=Jt("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),see=Jt("blockquote").parts("root","icon","content","caption"),oee=Jt("card").parts("root","header","body","footer","title","description"),aee=Jt("checkbox-card",["root","control","label","description","addon","indicator","content"]),lee=Jt("data-list").parts("root","item","itemLabel","itemValue"),cee=z2.extendWith("header","body","footer","backdrop"),uee=z2.extendWith("header","body","footer","backdrop"),dee=EU.extendWith("textarea"),fee=Jt("empty-state",["root","content","indicator","title","description"]),hee=TU.extendWith("requiredIndicator"),pee=CU.extendWith("content"),mee=MU.extendWith("itemContent","dropzoneContent","fileText"),gee=Jt("list").parts("root","item","indicator"),vee=PU.extendWith("itemCommand"),yee=Jt("select").parts("root","field","indicator"),xee=HU.extendWith("header","body","footer"),U6=U2.extendWith("itemAddon","itemIndicator"),_ee=U6.extendWith("itemContent","itemDescription"),bee=$U.extendWith("itemIndicator"),See=XU.extendWith("indicatorGroup"),wee=r6.extendWith("markerIndicator"),Eee=Jt("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),Tee=Jt("status").parts("root","indicator"),Cee=Jt("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),Mee=f6.extendWith("indicator"),Aee=Jt("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),Pee=Jt("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),Iee=Jt("tabs").parts("root","trigger","list","content","contentGroup","indicator"),Ree=Jt("tag").parts("root","label","closeTrigger","startElement","endElement"),kee=Jt("timeline").parts("root","item","content","separator","indicator","connector","title","description"),Nee=HK.extendWith("channelText"),Lee=qt({className:"chakra-accordion",slots:tee.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Dee=qt({className:"chakra-action-bar",slots:nee.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),Oee=qt({slots:iee.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),Fee=qt({slots:fU.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),zee=qt({className:"chakra-blockquote",slots:see.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),Bee=qt({className:"chakra-breadcrumb",slots:ree.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),Uee=qt({className:"chakra-card",slots:oee.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var Z5,ez,tz,nz,iz,rz,sz,oz,az,lz,cz,uz,dz,fz;const Vee=qt({slots:WK.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:qr.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(ez=(Z5=qr.variants)==null?void 0:Z5.size)==null?void 0:ez.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(nz=(tz=qr.variants)==null?void 0:tz.size)==null?void 0:nz.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(rz=(iz=qr.variants)==null?void 0:iz.size)==null?void 0:rz.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(oz=(sz=qr.variants)==null?void 0:sz.size)==null?void 0:oz.lg}},variant:{outline:{control:(lz=(az=qr.variants)==null?void 0:az.variant)==null?void 0:lz.outline},solid:{control:(uz=(cz=qr.variants)==null?void 0:cz.variant)==null?void 0:uz.solid},subtle:{control:(fz=(dz=qr.variants)==null?void 0:dz.variant)==null?void 0:fz.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var hz,pz,mz,gz,vz,yz,xz;const jee=qt({slots:aee.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:qr.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(hz=qr.variants)==null?void 0:hz.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(pz=qr.variants)==null?void 0:pz.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(mz=qr.variants)==null?void 0:mz.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(gz=qr.variants)==null?void 0:gz.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(vz=qr.variants)==null?void 0:vz.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(yz=qr.variants)==null?void 0:yz.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(xz=qr.variants)==null?void 0:xz.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),Wee=qt({slots:aU.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var _z,bz,Sz,wz,Ez,Tz,Cz,Mz,Az,Pz,Iz,Rz,kz,Nz,Lz,Dz,Oz,Fz;const Hee=qt({className:"colorPicker",slots:Nee.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...B6.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...er.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(bz=(_z=er.variants)==null?void 0:_z.size)==null?void 0:bz["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(wz=(Sz=er.variants)==null?void 0:Sz.size)==null?void 0:wz.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(Tz=(Ez=er.variants)==null?void 0:Ez.size)==null?void 0:Tz.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(Mz=(Cz=er.variants)==null?void 0:Cz.size)==null?void 0:Mz.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(Pz=(Az=er.variants)==null?void 0:Az.size)==null?void 0:Pz.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(Rz=(Iz=er.variants)==null?void 0:Iz.size)==null?void 0:Rz.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(Nz=(kz=er.variants)==null?void 0:kz.size)==null?void 0:Nz["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(Dz=(Lz=er.variants)==null?void 0:Lz.variant)==null?void 0:Dz.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(Fz=(Oz=er.variants)==null?void 0:Oz.variant)==null?void 0:Fz.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),Gee=qt({slots:lee.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),$ee=qt({slots:cee.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),qee=qt({slots:uee.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),M3=p6({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),Xee=qt({slots:dee.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...M3,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...M3,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),Yee=qt({slots:fee.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),Kee=qt({className:"chakra-field",slots:hee.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),Jee=qt({className:"fieldset",slots:pee.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Qee=qt({className:"chakra-file-upload",slots:mee.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),Zee=qt({className:"chakra-hover-card",slots:AU.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),ete=qt({className:"chakra-list",slots:gee.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),tte=qt({className:"chakra-menu",slots:vee.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),Fb=qt({className:"chakra-select",slots:See.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var zz,Bz;const nte=qt({className:"chakra-native-select",slots:yee.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(zz=Fb.variants)==null?void 0:zz.variant.outline.trigger},subtle:{field:(Bz=Fb.variants)==null?void 0:Bz.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:Fb.defaultVariants});function RA(t,e){const n={};for(const i in t){const r=e(i,t[i]);n[r[0]]=r[1]}return n}const A3=p6({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),ite=qt({className:"chakra-number-input",slots:zU.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...er.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...A3,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...A3,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:er.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:er.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:er.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:er.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:RA(er.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:P3,defaultVariants:rte}=er,ste=qt({className:"chakra-pin-input",slots:WU.keys(),base:{input:{...er.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:RA(P3.size,(t,e)=>[t,{input:e}]),variant:RA(P3.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:rte}),ote=qt({className:"chakra-popover",slots:xee.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),ate=qt({slots:B2.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),lte=qt({className:"chakra-progress-circle",slots:B2.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),cte=qt({slots:GU.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var Uz,Vz,jz,Wz,Hz,Gz,$z;const ute=qt({className:"chakra-radio-card",slots:_ee.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:Xr.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(Uz=Xr.variants)==null?void 0:Uz.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(Vz=Xr.variants)==null?void 0:Vz.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(jz=Xr.variants)==null?void 0:jz.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(Wz=Xr.variants)==null?void 0:Wz.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(Hz=Xr.variants)==null?void 0:Hz.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(Gz=Xr.variants)==null?void 0:Gz.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:($z=Xr.variants)==null?void 0:$z.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var qz,Xz,Yz,Kz,Jz,Qz,Zz,eB,tB,nB,iB,rB,sB,oB;const dte=qt({className:"chakra-radio-group",slots:U6.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:Xr.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(Xz=(qz=Xr.variants)==null?void 0:qz.variant)==null?void 0:Xz.outline},subtle:{itemControl:(Kz=(Yz=Xr.variants)==null?void 0:Yz.variant)==null?void 0:Kz.subtle},solid:{itemControl:(Qz=(Jz=Xr.variants)==null?void 0:Jz.variant)==null?void 0:Qz.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(eB=(Zz=Xr.variants)==null?void 0:Zz.size)==null?void 0:eB.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(nB=(tB=Xr.variants)==null?void 0:tB.size)==null?void 0:nB.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(rB=(iB=Xr.variants)==null?void 0:iB.size)==null?void 0:rB.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(oB=(sB=Xr.variants)==null?void 0:sB.size)==null?void 0:oB.lg}}},defaultVariants:{size:"md",variant:"solid"}}),fte=qt({className:"chakra-rating-group",slots:bee.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),hte=qt({className:"chakra-segment-group",slots:qU.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),pte=qt({className:"chakra-slider",slots:wee.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),mte=qt({className:"chakra-stat",slots:Eee.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),gte=qt({className:"chakra-status",slots:Tee.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),vte=qt({className:"chakra-steps",slots:Cee.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),yte=qt({slots:Mee.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),xte=qt({className:"chakra-table",slots:Aee.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),_te=qt({slots:Iee.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var aB;const ta=(aB=W2.variants)==null?void 0:aB.variant,bte=qt({slots:Ree.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:ta==null?void 0:ta.subtle},solid:{root:ta==null?void 0:ta.solid},outline:{root:ta==null?void 0:ta.outline},surface:{root:ta==null?void 0:ta.surface}}},defaultVariants:{size:"md",variant:"surface"}}),Ste=qt({slots:kee.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),wte=qt({slots:Pee.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),Ete=qt({slots:h6.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),Tte={accordion:Lee,actionBar:Dee,alert:Oee,avatar:Fee,blockquote:zee,breadcrumb:Bee,card:Uee,checkbox:Vee,checkboxCard:jee,collapsible:Wee,dataList:Gee,dialog:$ee,drawer:qee,editable:Xee,emptyState:Yee,field:Kee,fieldset:Jee,fileUpload:Qee,hoverCard:Zee,list:ete,menu:tte,nativeSelect:nte,numberInput:ite,pinInput:ste,popover:ote,progress:ate,progressCircle:lte,radioCard:ute,radioGroup:dte,ratingGroup:fte,segmentGroup:hte,select:Fb,slider:pte,stat:mte,steps:vte,switch:yte,table:xte,tabs:_te,tag:bte,toast:wte,tooltip:Ete,status:gte,timeline:Ste,colorPicker:Hee,qrCode:cte},Cte=sQ({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),Mte=sr.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),Ate=sr.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),Pte=sr.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),Ite=sr.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),Rte=sr.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),kte=sr.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),Nte=sr.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),Lte=sr.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),Dte=sr.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),Ote=sr.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),I3='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',Fte=sr.fonts({heading:{value:`Inter, ${I3}`},body:{value:`Inter, ${I3}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),zte=iQ({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),Bte=sr.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),Ute=sr.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),Vte=sr.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),V6=sr.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),jte=sr.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),Wte=sr.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),Hte=sr.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),Gte=sr.sizes({...jte,...V6,...Hte,...Wte}),$te=sr.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),qte=g6({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:kZ,theme:{breakpoints:RZ,keyframes:zte,tokens:{aspectRatios:Ate,animations:Mte,blurs:Pte,borders:Ite,colors:Rte,durations:Nte,easings:Lte,fonts:Fte,fontSizes:Dte,fontWeights:Ote,letterSpacings:Bte,lineHeights:Ute,radii:Vte,spacing:V6,sizes:Gte,zIndex:$te,cursor:kte},semanticTokens:{colors:QZ,shadows:eee,radii:ZZ},recipes:JZ,slotRecipes:Tte,textStyles:Cte,layerStyles:NZ,animationStyles:LZ}}),Xte=v6(mQ,qte),Yte=PZ(Xte);function Kte(t){const{key:e,recipe:n}=t,i=zw();return z.useMemo(()=>{const r=n||(e!=null?i.getSlotRecipe(e):{});return i.sva(structuredClone(r))},[e,n,i])}const Jte=t=>t.charAt(0).toUpperCase()+t.slice(1),H2=t=>{const{key:e,recipe:n}=t,i=Jte(e||n.className||"Component"),[r,s]=n0({name:`${i}StylesContext`,errorMessage:`use${i}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `}),[o,a]=n0({name:`${i}ClassNameContext`,errorMessage:`use${i}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `,strict:!1}),[l,c]=n0({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`,defaultValue:{}});function d(y){const{unstyled:b,...S}=y,_=Kte({key:e,recipe:S.recipe||n}),[E,T]=z.useMemo(()=>_.splitVariantProps(S),[S,_]);return{styles:z.useMemo(()=>b?G$:_(E),[b,E,_]),classNames:_.classNameMap,props:T}}function h(y,b={}){const{defaultProps:S}=b,_=E=>{const T=c(),P=z.useMemo(()=>P0(S,T,E),[T,E]),{styles:k,classNames:F,props:D}=d(P);return w.jsx(r,{value:k,children:w.jsx(o,{value:F,children:w.jsx(y,{...D})})})};return _.displayName=y.displayName||y.name,_}return{StylesProvider:r,ClassNamesProvider:o,PropsProvider:l,usePropsContext:c,useRecipeResult:d,withProvider:(y,b,S)=>{const{defaultProps:_,...E}=S??{},T=Bo(y,{},E),P=z.forwardRef((k,F)=>{var ee;const D=c(),B=z.useMemo(()=>P0(_??{},D,k),[D,k]),{styles:N,props:R,classNames:U}=d(B),W=U[b],Y=w.jsx(r,{value:N,children:w.jsx(o,{value:U,children:w.jsx(T,{ref:F,...R,css:[N[b],B.css],className:ua(B.className,W)})})});return((ee=S==null?void 0:S.wrapElement)==null?void 0:ee.call(S,Y,B))??Y});return P.displayName=y.displayName||y.name,P},withContext:(y,b,S)=>{const _=Bo(y,{},S),E=z.forwardRef((T,P)=>{const k=s(),F=a(),D=F==null?void 0:F[b];return w.jsx(_,{...T,css:[b?k[b]:void 0,T.css],ref:P,className:ua(T.className,D)})});return E.displayName=y.displayName||y.name,E},withRootProvider:h,useStyles:s,useClassNames:a}},Qte=t=>w.jsx(Bo.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:w.jsx("path",{d:"m18 15-6-6-6 6"})}),Zte=t=>w.jsx(Bo.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:w.jsx("path",{d:"m6 9 6 6 6-6"})}),Rn=Bo("div");Rn.displayName="Box";const ene=z.forwardRef(function(e,n){const{size:i,...r}=e;return w.jsx(Rn,{...r,ref:n,boxSize:i,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...e.css}})}),tne=z.forwardRef(function(e,n){const{size:i,...r}=e;return w.jsx(ene,{size:i,ref:n,borderRadius:"9999px",...r})}),h1=Bo("span"),j6=Bo("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});j6.displayName="AbsoluteCenter";const{withContext:nne}=Tx({key:"spinner"}),ine=nne("span"),rne=z.forwardRef(function(e,n){const{spinner:i=w.jsx(ine,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:r="start",children:s,text:o,visible:a=!0,...l}=e;return a?o?w.jsxs(h1,{ref:n,display:"contents",...l,children:[r==="start"&&i,o,r==="end"&&i]}):i?w.jsxs(h1,{ref:n,display:"contents",...l,children:[w.jsx(j6,{display:"inline-flex",children:i}),w.jsx(h1,{opacity:0,children:s})]}):w.jsx(h1,{ref:n,display:"contents",...l,children:s}):s}),{useRecipeResult:sne,usePropsContext:one}=Tx({key:"button"}),zl=z.forwardRef(function(e,n){const i=one(),r=z.useMemo(()=>P0(i,e),[i,e]),s=sne(r),{loading:o,loadingText:a,children:l,spinner:c,spinnerPlacement:d,...h}=s.props;return w.jsx(Bo.button,{type:"button",ref:n,...h,disabled:o||h.disabled,className:ua(s.className,r.className),css:[s.styles,r.css],children:!r.asChild&&o?w.jsx(rne,{spinner:c,text:a,spinnerPlacement:d,children:l}):l})}),Do=z.forwardRef(function(e,n){return w.jsx(zl,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})});function ane(t){const{when:e,fallback:n,children:i}=t;let r;return e?r=typeof i=="function"?i(e):i:r=n,z.isValidElement(r)?r:w.jsx(w.Fragment,{children:r})}const lne=t=>{const{children:e,fallback:n}=t,[i,r]=z.useState(!1);return z.useEffect(()=>{r(!0)},[]),w.jsx(ane,{when:i,fallback:n,children:e})};function cne(t){const{gap:e,direction:n}=t,i={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":x6(n,r=>i[r])}}function une(t){return z.Children.toArray(t).filter(e=>z.isValidElement(e))}const G2=z.forwardRef(function(e,n){const{direction:i="column",align:r,justify:s,gap:o="0.5rem",wrap:a,children:l,separator:c,className:d,...h}=e,p=z.useMemo(()=>cne({gap:o,direction:i}),[o,i]),v=z.useMemo(()=>c?une(l).map((y,b,S)=>{const _=typeof y.key<"u"?y.key:b,E=z.cloneElement(c,{css:[p,c.props.css]});return w.jsxs(z.Fragment,{children:[y,b===S.length-1?null:E]},_)}):l,[l,c,p]);return w.jsx(Bo.div,{ref:n,display:"flex",alignItems:r,justifyContent:s,flexDirection:i,flexWrap:a,gap:c?void 0:o,className:ua("chakra-stack",d),...h,children:v})}),{withRootProvider:W6,withContext:ec}=H2({key:"drawer"});W6(fJ,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const dne=W6(dJ,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});ec(wU,"trigger",{forwardAsChild:!0});const fne=ec(bU,"positioner",{forwardAsChild:!0}),hne=ec(xU,"content",{forwardAsChild:!0});ec(_U,"description",{forwardAsChild:!0});ec(SU,"title",{forwardAsChild:!0});const pne=ec(yU,"closeTrigger",{forwardAsChild:!0});z.forwardRef(function(e,n){const i=Qd();return w.jsx(Bo.button,{...e,ref:n,onClick:()=>i.setOpen(!1)})});const mne=ec(vU,"backdrop",{forwardAsChild:!0}),gne=ec("div","body");ec("div","footer");const vne=ec("div","header");function yne(t){const{each:e,fallback:n,children:i}=t;return(e==null?void 0:e.length)===0?n||null:e==null?void 0:e.map(i)}const Ya=z.forwardRef(function(e,n){const{direction:i,align:r,justify:s,wrap:o,basis:a,grow:l,shrink:c,inline:d,...h}=e;return w.jsx(Bo.div,{ref:n,...h,css:{display:d?"inline-flex":"flex",flexDirection:i,alignItems:r,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c,...e.css}})}),o0=z.forwardRef(function(e,n){const{align:i,fit:r="cover",...s}=e;return w.jsx(Bo.img,{ref:n,objectFit:r,objectPosition:i,className:ua("chakra-image",e.className),...s})}),{withContext:xne}=Tx({key:"link"}),xm=xne("a"),{withProvider:H6,withContext:np}=H2({key:"numberInput"});H6(UU,"root",{forwardAsChild:!0});const _ne=H6(BU,"root",{forwardAsChild:!0}),bne=np(DU,"label",{forwardAsChild:!0});np(LU,"input",{forwardAsChild:!0});const G6=np(NU,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:w.jsx(Qte,{})}}),$6=np(kU,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:w.jsx(Zte,{})}});np(RU,"control",{forwardAsChild:!0,defaultProps:{children:w.jsxs(w.Fragment,{children:[w.jsx(G6,{}),w.jsx($6,{})]})}});np(VU,"scrubber",{forwardAsChild:!0});const Sne=np(jU,"valueText",{forwardAsChild:!0}),{withContext:wne}=Tx({key:"skeleton"}),$2=wne("div");z.forwardRef(function(e,n){const{size:i,...r}=e;return w.jsx(tne,{size:i,asChild:!0,ref:n,children:w.jsx($2,{...r})})});z.forwardRef(function(e,n){const{noOfLines:i=3,gap:r,rootProps:s,...o}=e;return w.jsx(G2,{gap:r,width:"full",ref:n,...s,children:Array.from({length:i}).map((a,l)=>w.jsx($2,{height:"4",_last:{maxW:i===1?"100%":"80%"},...o},l))})});const{withProvider:q6,withContext:tc}=H2({key:"slider"});q6(l6,"root",{forwardAsChild:!0});const Ene=q6(a6,"root",{forwardAsChild:!0}),Tne=tc(u6,"track",{forwardAsChild:!0}),Cne=tc(i6,"range",{forwardAsChild:!0}),Mne=tc(c6,"thumb",{forwardAsChild:!0}),Ane=tc(d6,"valueText",{forwardAsChild:!0}),R3=tc(e6,"label",{forwardAsChild:!0}),X6=tc(n6,"markerGroup",{forwardAsChild:!0}),Y6=tc(t6,"marker",{forwardAsChild:!0}),K6=tc("div","markerIndicator");tc(QU,"draggingIndicator",{forwardAsChild:!0});z.forwardRef(function(e,n){const{marks:i,...r}=e;return i!=null&&i.length?w.jsx(X6,{ref:n,...r,children:i.map((s,o)=>{const a=typeof s=="number"?s:s.value,l=typeof s=="number"?void 0:s.label;return w.jsxs(Y6,{value:a,children:[w.jsx(K6,{}),l!=null&&w.jsx("span",{className:"chakra-slider__marker-label",children:l})]},o)})}):null});const Pne=tc(KU,"control",{forwardAsChild:!0}),Ine=ZU,J6=z.forwardRef(function(e,n){return w.jsx(G2,{align:"center",...e,direction:"row",ref:n})}),Q6=z.forwardRef(function(e,n){return w.jsx(G2,{align:"center",...e,direction:"column",ref:n})}),{withContext:Rne}=Tx({key:"text"}),gr=Rne("p");var kne=(t,e,n,i,r,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(v){(Array.isArray(t)?t:[t]).forEach(y=>{let b=y==="class",S=b&&s?r.map(_=>s[_]||_):r;b?(l.classList.remove(...S),l.classList.add(s&&s[v]?s[v]:v)):l.setAttribute(y,v)}),h(v)}function h(v){a&&c.includes(v)&&(l.style.colorScheme=v)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)d(i);else try{let v=localStorage.getItem(e)||n,y=o&&v==="system"?p():v;d(y)}catch{}},k3=["light","dark"],Z6="(prefers-color-scheme: dark)",Nne=typeof window>"u",q2=z.createContext(void 0),Lne={setTheme:t=>{},themes:[]},Dne=()=>{var t;return(t=z.useContext(q2))!=null?t:Lne},One=t=>z.useContext(q2)?z.createElement(z.Fragment,null,t.children):z.createElement(zne,{...t}),Fne=["light","dark"],zne=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:r="theme",themes:s=Fne,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:h})=>{let[p,v]=z.useState(()=>Une(r,o)),[y,b]=z.useState(()=>p==="system"?aC():p),S=l?Object.values(l):s,_=z.useCallback(k=>{let F=k;if(!F)return;k==="system"&&n&&(F=aC());let D=l?l[F]:F,B=e?Vne(d):null,N=document.documentElement,R=U=>{U==="class"?(N.classList.remove(...S),D&&N.classList.add(D)):U.startsWith("data-")&&(D?N.setAttribute(U,D):N.removeAttribute(U))};if(Array.isArray(a)?a.forEach(R):R(a),i){let U=k3.includes(o)?o:null,W=k3.includes(F)?F:U;N.style.colorScheme=W}B==null||B()},[d]),E=z.useCallback(k=>{let F=typeof k=="function"?k(p):k;v(F);try{localStorage.setItem(r,F)}catch{}},[p]),T=z.useCallback(k=>{let F=aC(k);b(F),p==="system"&&n&&!t&&_("system")},[p,t]);z.useEffect(()=>{let k=window.matchMedia(Z6);return k.addListener(T),T(k),()=>k.removeListener(T)},[T]),z.useEffect(()=>{let k=F=>{F.key===r&&(F.newValue?v(F.newValue):E(o))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[E]),z.useEffect(()=>{_(t??p)},[t,p]);let P=z.useMemo(()=>({theme:p,setTheme:E,forcedTheme:t,resolvedTheme:p==="system"?y:p,themes:n?[...s,"system"]:s,systemTheme:n?y:void 0}),[p,E,t,y,n,s]);return z.createElement(q2.Provider,{value:P},z.createElement(Bne,{forcedTheme:t,storageKey:r,attribute:a,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:l,themes:s,nonce:d,scriptProps:h}),c)},Bne=z.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,s,t,a,o,i,r]).slice(1,-1);return z.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${kne.toString()})(${d})`}})}),Une=(t,e)=>{if(Nne)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Vne=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},aC=t=>(t||(t=window.matchMedia(Z6)),t.matches?"dark":"light"),eV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N3=it.createContext&&it.createContext(eV),jne=["attr","size","title"];function Wne(t,e){if(t==null)return{};var n=Hne(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Hne(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uS.apply(this,arguments)}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(i){Gne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Gne(t,e,n){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tV(t){return t&&t.map((e,n)=>it.createElement(e.tag,dS({key:n},e.attr),tV(e.child)))}function fi(t){return e=>it.createElement(Xne,uS({attr:dS({},t.attr)},e),tV(t.child))}function Xne(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=Wne(t,jne),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),it.createElement("svg",uS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:dS(dS({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&it.createElement("title",null,s),t.children)};return N3!==void 0?it.createElement(N3.Consumer,null,n=>e(n)):e(eV)}function Yne(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"},child:[]}]})(t)}function Kne(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(t)}function Jne(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function Qne(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]},{tag:"path",attr:{d:"M14.05 2a9 9 0 0 1 8 7.94"},child:[]},{tag:"path",attr:{d:"M14.05 6A5 5 0 0 1 18 10"},child:[]}]})(t)}function Zne(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function eie(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}function tie(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(t)}function nie(t){return w.jsx(One,{attribute:"class",disableTransitionOnChange:!0,...t})}function nV(){const{resolvedTheme:t,setTheme:e}=Dne();return{colorMode:t,setColorMode:e,toggleColorMode:()=>{e(t==="light"?"dark":"light")}}}function iie(){const{colorMode:t}=nV();return t==="light"?w.jsx(eie,{}):w.jsx(Jne,{})}z.forwardRef(function(e,n){const{toggleColorMode:i}=nV();return w.jsx(lne,{fallback:w.jsx($2,{boxSize:"8"}),children:w.jsx(Do,{onClick:i,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:w.jsx(iie,{})})})});function iV(t){return w.jsx(Wq,{value:Yte,children:w.jsx(nie,{...t})})}var my={},D3;function rie(){if(D3)return my;D3=1,Object.defineProperty(my,"__esModule",{value:!0}),my.parse=o,my.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,v){const y=new s,b=p.length;if(b<2)return y;const S=(v==null?void 0:v.decode)||d;let _=0;do{const E=p.indexOf("=",_);if(E===-1)break;const T=p.indexOf(";",_),P=T===-1?b:T;if(E>P){_=p.lastIndexOf(";",E-1)+1;continue}const k=a(p,_,E),F=l(p,E,k),D=p.slice(k,F);if(y[D]===void 0){let B=a(p,E+1,P),N=l(p,P,B);const R=S(p.slice(B,N));y[D]=R}_=P+1}while(_<b);return y}function a(p,v,y){do{const b=p.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<y);return y}function l(p,v,y){for(;v>y;){const b=p.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return y}function c(p,v,y){const b=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=b(v);if(!e.test(S))throw new TypeError(`argument val is invalid: ${v}`);let _=p+"="+S;if(!y)return _;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);_+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);_+="; Domain="+y.domain}if(y.path){if(!i.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);_+="; Path="+y.path}if(y.expires){if(!h(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);_+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(_+="; HttpOnly"),y.secure&&(_+="; Secure"),y.partitioned&&(_+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return _}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return r.call(p)==="[object Date]"}return my}rie();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O3="popstate";function sie(t={}){function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=ip(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),kA("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:D0(s))}function i(r,s){fa(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return aie(e,n,i,t)}function bi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oie(){return Math.random().toString(36).substring(2,10)}function F3(t,e){return{usr:t.state,key:t.key,idx:e}}function kA(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ip(e):e,state:n,key:e&&e.key||i||oie()}}function D0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ip(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aie(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=d(),_=S==null?null:S-c;c=S,l&&l({action:a,location:b.location,delta:_})}function p(S,_){a="PUSH";let E=kA(b.location,S,_);n&&n(E,S),c=d()+1;let T=F3(E,c),P=b.createHref(E);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(P)}s&&l&&l({action:a,location:b.location,delta:1})}function v(S,_){a="REPLACE";let E=kA(b.location,S,_);n&&n(E,S),c=d();let T=F3(E,c),P=b.createHref(E);o.replaceState(T,"",P),s&&l&&l({action:a,location:b.location,delta:0})}function y(S){let _=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof S=="string"?S:D0(S);return E=E.replace(/ $/,"%20"),bi(_,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,_)}let b={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(O3,h),l=S,()=>{r.removeEventListener(O3,h),l=null}},createHref(S){return e(r,S)},createURL:y,encodeLocation(S){let _=y(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(S){return o.go(S)}};return b}function rV(t,e,n="/"){return lie(t,e,n,!1)}function lie(t,e,n,i){let r=typeof e=="string"?ip(e):e,s=fu(r.pathname||"/",n);if(s==null)return null;let o=sV(t);cie(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_ie(s);a=yie(o[l],c,i)}return a}function sV(t,e=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(bi(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=ru([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(bi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),sV(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:gie(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of oV(s.path))r(s,o,l)}),e}function oV(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=oV(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cie(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vie(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uie=/^:[\w-]+$/,die=3,fie=2,hie=1,pie=10,mie=-2,z3=t=>t==="*";function gie(t,e){let n=t.split("/"),i=n.length;return n.some(z3)&&(i+=mie),e&&(i+=fie),n.filter(r=>!z3(r)).reduce((r,s)=>r+(uie.test(s)?die:s===""?hie:pie),i)}function vie(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function yie(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=fS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!i[i.length-1].route.index&&(h=fS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:ru([s,h.pathname]),pathnameBase:Eie(ru([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ru([s,h.pathnameBase]))}return o}function fS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xie(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[p];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function xie(t,e=!1,n=!0){fa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function _ie(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function bie(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ip(t):t;return{pathname:n?n.startsWith("/")?n:Sie(n,e):e,search:Tie(i),hash:Cie(r)}}function Sie(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function lC(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wie(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X2(t){let e=wie(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Y2(t,e,n,i=!1){let r;typeof t=="string"?r=ip(t):(r={...t},bi(!r.pathname||!r.pathname.includes("?"),lC("?","pathname","search",r)),bi(!r.pathname||!r.pathname.includes("#"),lC("#","pathname","hash",r)),bi(!r.search||!r.search.includes("#"),lC("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=bie(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var ru=t=>t.join("/").replace(/\/\/+/g,"/"),Eie=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tie=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mie(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var aV=["POST","PUT","PATCH","DELETE"];new Set(aV);var Aie=["GET",...aV];new Set(Aie);var qg=z.createContext(null);qg.displayName="DataRouter";var Gw=z.createContext(null);Gw.displayName="DataRouterState";var lV=z.createContext({isTransitioning:!1});lV.displayName="ViewTransition";var Pie=z.createContext(new Map);Pie.displayName="Fetchers";var Iie=z.createContext(null);Iie.displayName="Await";var al=z.createContext(null);al.displayName="Navigation";var Cx=z.createContext(null);Cx.displayName="Location";var nc=z.createContext({outlet:null,matches:[],isDataRoute:!1});nc.displayName="Route";var K2=z.createContext(null);K2.displayName="RouteError";function Rie(t,{relative:e}={}){bi(Xg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=z.useContext(al),{hash:r,pathname:s,search:o}=Mx(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:ru([n,s])),i.createHref({pathname:a,search:o,hash:r})}function Xg(){return z.useContext(Cx)!=null}function ll(){return bi(Xg(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Cx).location}var cV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uV(t){z.useContext(al).static||z.useLayoutEffect(t)}function dV(){let{isDataRoute:t}=z.useContext(nc);return t?Hie():kie()}function kie(){bi(Xg(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(qg),{basename:e,navigator:n}=z.useContext(al),{matches:i}=z.useContext(nc),{pathname:r}=ll(),s=JSON.stringify(X2(i)),o=z.useRef(!1);return uV(()=>{o.current=!0}),z.useCallback((l,c={})=>{if(fa(o.current,cV),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Y2(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ru([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,r,t])}z.createContext(null);function Mx(t,{relative:e}={}){let{matches:n}=z.useContext(nc),{pathname:i}=ll(),r=JSON.stringify(X2(n));return z.useMemo(()=>Y2(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Nie(t,e){return fV(t,e)}function fV(t,e,n,i){var E;bi(Xg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=z.useContext(al),{matches:o}=z.useContext(nc),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let T=h&&h.path||"";hV(c,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=ll(),v;if(e){let T=typeof e=="string"?ip(e):e;bi(d==="/"||((E=T.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=p;let y=v.pathname||"/",b=y;if(d!=="/"){let T=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:rV(t,{pathname:b});fa(h||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),fa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=zie(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:ru([d,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:ru([d,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,i);return e&&_?z.createElement(Cx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function Lie(){let t=Wie(),e=Mie(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:r},n):null,o)}var Die=z.createElement(Lie,null),Oie=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(nc.Provider,{value:this.props.routeContext},z.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fie({routeContext:t,match:e,children:n}){let i=z.useContext(qg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(nc.Provider,{value:t},n)}function zie(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);bi(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,d)=>{let h,p=!1,v=null,y=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||Die,o&&(a<0&&d===0?(hV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===d&&(p=!0,y=c.route.hydrateFallbackElement||null)));let b=e.concat(r.slice(0,d+1)),S=()=>{let _;return h?_=v:p?_=y:c.route.Component?_=z.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,z.createElement(Fie,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?z.createElement(Oie,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function J2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bie(t){let e=z.useContext(qg);return bi(e,J2(t)),e}function Uie(t){let e=z.useContext(Gw);return bi(e,J2(t)),e}function Vie(t){let e=z.useContext(nc);return bi(e,J2(t)),e}function Q2(t){let e=Vie(t),n=e.matches[e.matches.length-1];return bi(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jie(){return Q2("useRouteId")}function Wie(){var i;let t=z.useContext(K2),e=Uie("useRouteError"),n=Q2("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Hie(){let{router:t}=Bie("useNavigate"),e=Q2("useNavigate"),n=z.useRef(!1);return uV(()=>{n.current=!0}),z.useCallback(async(r,s={})=>{fa(n.current,cV),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var B3={};function hV(t,e,n){!e&&!B3[t]&&(B3[t]=!0,fa(!1,n))}z.memo(Gie);function Gie({routes:t,future:e,state:n}){return fV(t,void 0,n,e)}function pV({to:t,replace:e,state:n,relative:i}){bi(Xg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=z.useContext(al);fa(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=z.useContext(nc),{pathname:o}=ll(),a=dV(),l=Y2(t,X2(s),o,i==="path"),c=JSON.stringify(l);return z.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:i})},[a,c,i,e,n]),null}function Gr(t){bi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $ie({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){bi(!Xg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=z.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=ip(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:p="default"}=n,v=z.useMemo(()=>{let y=fu(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:p},navigationType:i}},[o,l,c,d,h,p,i]);return fa(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:z.createElement(al.Provider,{value:a},z.createElement(Cx.Provider,{children:e,value:v}))}function qie({children:t,location:e}){return Nie(NA(t),e)}function NA(t,e=[]){let n=[];return z.Children.forEach(t,(i,r)=>{if(!z.isValidElement(i))return;let s=[...e,r];if(i.type===z.Fragment){n.push.apply(n,NA(i.props.children,s));return}bi(i.type===Gr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=NA(i.props.children,s)),n.push(o)}),n}var zb="get",Bb="application/x-www-form-urlencoded";function $w(t){return t!=null&&typeof t.tagName=="string"}function Xie(t){return $w(t)&&t.tagName.toLowerCase()==="button"}function Yie(t){return $w(t)&&t.tagName.toLowerCase()==="form"}function Kie(t){return $w(t)&&t.tagName.toLowerCase()==="input"}function Jie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qie(t,e){return t.button===0&&(!e||e==="_self")&&!Jie(t)}var p1=null;function Zie(){if(p1===null)try{new FormData(document.createElement("form"),0),p1=!1}catch{p1=!0}return p1}var ere=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cC(t){return t!=null&&!ere.has(t)?(fa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bb}"`),null):t}function tre(t,e){let n,i,r,s,o;if(Yie(t)){let a=t.getAttribute("action");i=a?fu(a,e):null,n=t.getAttribute("method")||zb,r=cC(t.getAttribute("enctype"))||Bb,s=new FormData(t)}else if(Xie(t)||Kie(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(i=l?fu(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||zb,r=cC(t.getAttribute("formenctype"))||cC(a.getAttribute("enctype"))||Bb,s=new FormData(a,t),!Zie()){let{name:c,type:d,value:h}=t;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if($w(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zb,i=null,r=Bb,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function Z2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function nre(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ire(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rre(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await nre(s,n);return o.links?o.links():[]}return[]}));return lre(i.flat(1).filter(ire).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function U3(t,e,n,i,r,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function sre(t,e,{includeHydrateFallback:n}={}){return ore(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function ore(t){return[...new Set(t)]}function are(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function lre(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(are(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function cre(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&fu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function mV(){let t=z.useContext(qg);return Z2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ure(){let t=z.useContext(Gw);return Z2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var eI=z.createContext(void 0);eI.displayName="FrameworkContext";function gV(){let t=z.useContext(eI);return Z2(t,"You must render this element inside a <HydratedRouter> element"),t}function dre(t,e){let n=z.useContext(eI),[i,r]=z.useState(!1),[s,o]=z.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,p=z.useRef(null);z.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=_=>{_.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),z.useEffect(()=>{if(i){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[i]);let v=()=>{r(!0)},y=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:gy(a,v),onBlur:gy(l,y),onMouseEnter:gy(c,v),onMouseLeave:gy(d,y),onTouchStart:gy(h,v)}]:[!1,p,{}]}function gy(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fre({page:t,...e}){let{router:n}=mV(),i=z.useMemo(()=>rV(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?z.createElement(pre,{page:t,matches:i,...e}):null}function hre(t){let{manifest:e,routeModules:n}=gV(),[i,r]=z.useState([]);return z.useEffect(()=>{let s=!1;return rre(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function pre({page:t,matches:e,...n}){let i=ll(),{manifest:r,routeModules:s}=gV(),{basename:o}=mV(),{loaderData:a,matches:l}=ure(),c=z.useMemo(()=>U3(t,e,l,r,i,"data"),[t,e,l,r,i]),d=z.useMemo(()=>U3(t,e,l,r,i,"assets"),[t,e,l,r,i]),h=z.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let y=new Set,b=!1;if(e.forEach(_=>{var T;let E=r.routes[_.route.id];!E||!E.hasLoader||(!c.some(P=>P.route.id===_.route.id)&&_.route.id in a&&((T=s[_.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?b=!0:y.add(_.route.id))}),y.size===0)return[];let S=cre(t,o);return b&&y.size>0&&S.searchParams.set("_routes",e.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[o,a,i,r,c,e,t,s]),p=z.useMemo(()=>sre(d,r),[d,r]),v=hre(d);return z.createElement(z.Fragment,null,h.map(y=>z.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>z.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:b})=>z.createElement("link",{key:y,...b})))}function mre(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vV&&(window.__reactRouterVersion="7.4.0")}catch{}function gre({basename:t,children:e,window:n}){let i=z.useRef();i.current==null&&(i.current=sie({window:n,v5Compat:!0}));let r=i.current,[s,o]=z.useState({action:r.action,location:r.location}),a=z.useCallback(l=>{z.startTransition(()=>o(l))},[o]);return z.useLayoutEffect(()=>r.listen(a),[r,a]),z.createElement($ie,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var yV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ai=z.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...p},v){let{basename:y}=z.useContext(al),b=typeof c=="string"&&yV.test(c),S,_=!1;if(typeof c=="string"&&b&&(S=c,vV))try{let N=new URL(window.location.href),R=c.startsWith("//")?new URL(N.protocol+c):new URL(c),U=fu(R.pathname,y);R.origin===N.origin&&U!=null?c=U+R.search+R.hash:_=!0}catch{fa(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Rie(c,{relative:r}),[T,P,k]=dre(i,p),F=_re(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function D(N){e&&e(N),N.defaultPrevented||F(N)}let B=z.createElement("a",{...p,...k,href:S||E,onClick:_||s?e:D,ref:mre(v,P),target:l,"data-discover":!b&&n==="render"?"true":void 0});return T&&!b?z.createElement(z.Fragment,null,B,z.createElement(fre,{page:E})):B});Ai.displayName="Link";var vre=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=Mx(o,{relative:c.relative}),p=ll(),v=z.useContext(Gw),{navigator:y,basename:b}=z.useContext(al),S=v!=null&&Tre(h)&&a===!0,_=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,E=p.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&b&&(T=fu(T,b)||T);const P=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=E===_||!r&&E.startsWith(_)&&E.charAt(P)==="/",F=T!=null&&(T===_||!r&&T.startsWith(_)&&T.charAt(_.length)==="/"),D={isActive:k,isPending:F,isTransitioning:S},B=k?e:void 0,N;typeof i=="function"?N=i(D):N=[i,k?"active":null,F?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(D):s;return z.createElement(Ai,{...c,"aria-current":B,className:N,ref:d,style:R,to:o,viewTransition:a},typeof l=="function"?l(D):l)});vre.displayName="NavLink";var yre=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=zb,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...p},v)=>{let y=wre(),b=Ere(a,{relative:c}),S=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&yV.test(a),E=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;y(P||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return z.createElement("form",{ref:v,method:S,action:b,onSubmit:i?l:E,...p,"data-discover":!_&&t==="render"?"true":void 0})});yre.displayName="Form";function xre(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xV(t){let e=z.useContext(qg);return bi(e,xre(t)),e}function _re(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=dV(),l=ll(),c=Mx(t,{relative:s});return z.useCallback(d=>{if(Qie(d,e)){d.preventDefault();let h=n!==void 0?n:D0(l)===D0(c);a(t,{replace:h,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,n,i,e,t,r,s,o])}var bre=0,Sre=()=>`__${String(++bre)}__`;function wre(){let{router:t}=xV("useSubmit"),{basename:e}=z.useContext(al),n=jie();return z.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=tre(i,e);if(r.navigate===!1){let d=r.fetcherKey||Sre();await t.fetch(d,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function Ere(t,{relative:e}={}){let{basename:n}=z.useContext(al),i=z.useContext(nc);bi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Mx(t||".",{relative:e})},o=ll();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ru([n,s.pathname])),D0(s)}function Tre(t,e={}){let n=z.useContext(lV);bi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xV("useViewTransitionState"),r=Mx(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=fu(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=fu(n.nextLocation.pathname,i)||n.nextLocation.pathname;return fS(r.pathname,o)!=null||fS(r.pathname,s)!=null}new TextEncoder;const Cre=z.forwardRef(function(e,n){return w.jsx(Do,{variant:"ghost","aria-label":"Close",ref:n,...e,children:e.children??w.jsx(tie,{})})}),Mre=z.forwardRef(function(e,n){const{children:i,portalled:r=!0,portalRef:s,offset:o,...a}=e;return w.jsx(AJ,{disabled:!r,container:s,children:w.jsx(fne,{padding:o,children:w.jsx(hne,{ref:n,...a,asChild:!1,children:i})})})}),Are=z.forwardRef(function(e,n){return w.jsx(pne,{position:"absolute",top:"2",insetEnd:"2",...e,asChild:!0,children:w.jsx(Cre,{size:"sm",ref:n})})}),Pre=dne,Ire=vne,Rre=gne,kre=mne;function Nre(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M491.938 18.813l-17.72 2.375-89.374 11.968-6.22.844-1.562 6.094-18.5 72.156-136.187 137.28c-2.094-4.4-4.324-8.708-6.875-12.843-7.317-11.86-18.338-22.357-34.844-25.687-6.457-1.303-12.664-1.702-18.53-1.28-17.602 1.26-32.182 9.775-41.69 22.5-10.95 14.654-15.87 34.054-15.31 54.405-36.16 4.516-66.336 31.382-80.657 64.313-15.608 35.885-11.856 80.956 24.655 111.156 43.28 35.8 88.28 31.622 119.875 11.22 28.593-18.467 47.778-48.14 50.813-74.752 18.615-2.81 38.424-9.03 56.375-17.968 20.474-10.195 38.536-23.433 48.406-40.063l7.625-12.874-14.908-1.22c-34.56-2.818-53.76-12.87-66.406-26.217l146-147.22 18.938 1.375 6.156.438 2.813-5.5 6.125-11.907 25.03 11.906L464 132.438l-24.53-11.656 7.655-14.874 25.844 12.28 8.03-16.874-25.313-12.03L464 73.155 491.03 86l8.033-16.875L472.53 56.53l11.22-21.81 8.188-15.907zm-124.532 111l13.22 13.093-200.22 201.875c-1.556-1.983-3.227-3.898-5.062-5.717-2.65-2.628-5.493-4.96-8.47-7l200.532-202.25zm-235.47 210.093c10.914-.046 21.837 4.094 30.25 12.438 16.834 16.69 16.938 43.576.25 60.406-16.685 16.83-43.573 16.94-60.405.25-16.83-16.69-16.936-43.576-.25-60.406 8.345-8.415 19.245-12.64 30.157-12.688z"},child:[]}]})(t)}function Lre(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}const Dre=()=>{};var V3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke=function(t,e){if(!t)throw Yg(e)},Yg=function(t){return new Error("Firebase Database ("+_V.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Ore=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(p=64)),i.push(n[d],n[h],n[p],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ore(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new Fre;const p=s<<2|a>>4;if(i.push(p),c!==64){const v=a<<4&240|c>>2;if(i.push(v),h!==64){const y=c<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SV=function(t){const e=bV(t);return tI.encodeByteArray(e,!0)},hS=function(t){return SV(t).replace(/\./g,"")},pS=function(t){try{return tI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zre(t){return wV(void 0,t)}function wV(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Bre(n)||(t[n]=wV(t[n],e[n]));return t}function Bre(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vre=()=>Ure().__FIREBASE_DEFAULTS__,jre=()=>{if(typeof process>"u"||typeof V3>"u")return;const t=V3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pS(t[1]);return e&&JSON.parse(e)},nI=()=>{try{return Dre()||Vre()||jre()||Wre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EV=t=>{var e,n;return(n=(e=nI())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hre=t=>{const e=EV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},TV=()=>{var t;return(t=nI())===null||t===void 0?void 0:t.config},CV=t=>{var e;return(e=nI())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hS(JSON.stringify(n)),hS(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(js())}function $re(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qre(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xre(){const t=js();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yre(){return _V.NODE_ADMIN===!0}function Kre(){try{return typeof indexedDB=="object"}catch{return!1}}function Jre(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre="FirebaseError";class Zd extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Qre,Object.setPrototypeOf(this,Zd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ax.prototype.create)}}class Ax{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Zre(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Zd(r,a,i)}}function Zre(t,e){return t.replace(ese,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const ese=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){return JSON.parse(t)}function yr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=O0(pS(s[0])||""),n=O0(pS(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},tse=function(t){const e=AV(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},nse=function(t){const e=AV(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Uh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function LA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mS(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Vh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(j3(s)&&j3(o)){if(!Vh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function j3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yy(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ky(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(p<<1|p>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const p=(r<<5|r>>>27)+c+l+d+i[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=p}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function rse(t,e){const n=new sse(t,e);return n.subscribe.bind(n)}class sse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ose(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=uC),r.error===void 0&&(r.error=uC),r.complete===void 0&&(r.complete=uC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ose(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uC(){}function qw(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ke(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Xw=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return t&&t._delegate?t._delegate:t}class jh{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lse=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Kg;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(use(e))try{this.getOrInitializeService({instanceIdentifier:hh})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=hh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hh){return this.instances.has(e)}getOptions(e=hh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cse(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hh){return this.component?this.component.multipleInstances?e:hh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cse(t){return t===hh?void 0:t}function use(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yn||(Yn={}));const fse={debug:Yn.DEBUG,verbose:Yn.VERBOSE,info:Yn.INFO,warn:Yn.WARN,error:Yn.ERROR,silent:Yn.SILENT},hse=Yn.INFO,pse={[Yn.DEBUG]:"log",[Yn.VERBOSE]:"log",[Yn.INFO]:"info",[Yn.WARN]:"warn",[Yn.ERROR]:"error"},mse=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=pse[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rI{constructor(e){this.name=e,this._logLevel=hse,this._logHandler=mse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yn.DEBUG,...e),this._logHandler(this,Yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yn.VERBOSE,...e),this._logHandler(this,Yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yn.INFO,...e),this._logHandler(this,Yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yn.WARN,...e),this._logHandler(this,Yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yn.ERROR,...e),this._logHandler(this,Yn.ERROR,...e)}}const gse=(t,e)=>e.some(n=>t instanceof n);let W3,H3;function vse(){return W3||(W3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yse(){return H3||(H3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PV=new WeakMap,DA=new WeakMap,IV=new WeakMap,dC=new WeakMap,sI=new WeakMap;function xse(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zd(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PV.set(n,t)}).catch(()=>{}),sI.set(e,t),e}function _se(t){if(DA.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});DA.set(t,e)}let OA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return DA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bse(t){OA=t(OA)}function Sse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(fC(this),e,...n);return IV.set(i,e.sort?e.sort():[e]),zd(i)}:yse().includes(t)?function(...e){return t.apply(fC(this),e),zd(PV.get(this))}:function(...e){return zd(t.apply(fC(this),e))}}function wse(t){return typeof t=="function"?Sse(t):(t instanceof IDBTransaction&&_se(t),gse(t,vse())?new Proxy(t,OA):t)}function zd(t){if(t instanceof IDBRequest)return xse(t);if(dC.has(t))return dC.get(t);const e=wse(t);return e!==t&&(dC.set(t,e),sI.set(e,t)),e}const fC=t=>sI.get(t);function Ese(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=zd(o);return i&&o.addEventListener("upgradeneeded",l=>{i(zd(o.result),l.oldVersion,l.newVersion,zd(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Tse=["get","getKey","getAll","getAllKeys","count"],Cse=["put","add","delete","clear"],hC=new Map;function G3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hC.get(e))return hC.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Cse.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Tse.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return hC.set(e,s),s}bse(t=>({...t,get:(e,n,i)=>G3(e,n)||t.get(e,n,i),has:(e,n)=>!!G3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ase(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Ase(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const FA="@firebase/app",$3="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new rI("@firebase/app"),Pse="@firebase/app-compat",Ise="@firebase/analytics-compat",Rse="@firebase/analytics",kse="@firebase/app-check-compat",Nse="@firebase/app-check",Lse="@firebase/auth",Dse="@firebase/auth-compat",Ose="@firebase/database",Fse="@firebase/data-connect",zse="@firebase/database-compat",Bse="@firebase/functions",Use="@firebase/functions-compat",Vse="@firebase/installations",jse="@firebase/installations-compat",Wse="@firebase/messaging",Hse="@firebase/messaging-compat",Gse="@firebase/performance",$se="@firebase/performance-compat",qse="@firebase/remote-config",Xse="@firebase/remote-config-compat",Yse="@firebase/storage",Kse="@firebase/storage-compat",Jse="@firebase/firestore",Qse="@firebase/vertexai",Zse="@firebase/firestore-compat",eoe="firebase",toe="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="[DEFAULT]",noe={[FA]:"fire-core",[Pse]:"fire-core-compat",[Rse]:"fire-analytics",[Ise]:"fire-analytics-compat",[Nse]:"fire-app-check",[kse]:"fire-app-check-compat",[Lse]:"fire-auth",[Dse]:"fire-auth-compat",[Ose]:"fire-rtdb",[Fse]:"fire-data-connect",[zse]:"fire-rtdb-compat",[Bse]:"fire-fn",[Use]:"fire-fn-compat",[Vse]:"fire-iid",[jse]:"fire-iid-compat",[Wse]:"fire-fcm",[Hse]:"fire-fcm-compat",[Gse]:"fire-perf",[$se]:"fire-perf-compat",[qse]:"fire-rc",[Xse]:"fire-rc-compat",[Yse]:"fire-gcs",[Kse]:"fire-gcs-compat",[Jse]:"fire-fst",[Zse]:"fire-fst-compat",[Qse]:"fire-vertex","fire-js":"fire-js",[eoe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new Map,ioe=new Map,BA=new Map;function q3(t,e){try{t.container.addComponent(e)}catch(n){hu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tg(t){const e=t.name;if(BA.has(e))return hu.debug(`There were multiple attempts to register component ${e}.`),!1;BA.set(e,t);for(const n of gS.values())q3(n,t);for(const n of ioe.values())q3(n,t);return!0}function oI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function aa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bd=new Ax("app","Firebase",roe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=toe;function RV(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zA,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Bd.create("bad-app-name",{appName:String(r)});if(n||(n=TV()),!n)throw Bd.create("no-options");const s=gS.get(r);if(s){if(Vh(n,s.options)&&Vh(i,s.config))return s;throw Bd.create("duplicate-app",{appName:r})}const o=new dse(r);for(const l of BA.values())o.addComponent(l);const a=new soe(n,i,o);return gS.set(r,a),a}function kV(t=zA){const e=gS.get(t);if(!e&&t===zA&&TV())return RV();if(!e)throw Bd.create("no-app",{appName:t});return e}function Ud(t,e,n){var i;let r=(i=noe[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hu.warn(a.join(" "));return}Tg(new jh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ooe="firebase-heartbeat-database",aoe=1,F0="firebase-heartbeat-store";let pC=null;function NV(){return pC||(pC=Ese(ooe,aoe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(F0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bd.create("idb-open",{originalErrorMessage:t.message})})),pC}async function loe(t){try{const n=(await NV()).transaction(F0),i=await n.objectStore(F0).get(LV(t));return await n.done,i}catch(e){if(e instanceof Zd)hu.warn(e.message);else{const n=Bd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hu.warn(n.message)}}}async function X3(t,e){try{const i=(await NV()).transaction(F0,"readwrite");await i.objectStore(F0).put(e,LV(t)),await i.done}catch(n){if(n instanceof Zd)hu.warn(n.message);else{const i=Bd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hu.warn(i.message)}}}function LV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=1024,uoe=30;class doe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hoe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>uoe){const o=poe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){hu.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y3(),{heartbeatsToSend:i,unsentEntries:r}=foe(this._heartbeatsCache.heartbeats),s=hS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hu.warn(n),""}}}function Y3(){return new Date().toISOString().substring(0,10)}function foe(t,e=coe){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),K3(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),K3(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class hoe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kre()?Jre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await loe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return X3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return X3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function K3(t){return hS(JSON.stringify({version:2,heartbeats:t})).length}function poe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){Tg(new jh("platform-logger",e=>new Mse(e),"PRIVATE")),Tg(new jh("heartbeat",e=>new doe(e),"PRIVATE")),Ud(FA,$3,t),Ud(FA,$3,"esm2017"),Ud("fire-js","")}moe("");function aI(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function DV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const goe=DV,OV=new Ax("auth","Firebase",DV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new rI("@firebase/auth");function voe(t,...e){vS.logLevel<=Yn.WARN&&vS.warn(`Auth (${Qg}): ${t}`,...e)}function Ub(t,...e){vS.logLevel<=Yn.ERROR&&vS.error(`Auth (${Qg}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t,...e){throw lI(t,...e)}function Gl(t,...e){return lI(t,...e)}function FV(t,e,n){const i=Object.assign(Object.assign({},goe()),{[e]:n});return new Ax("auth","Firebase",i).create(e,{appName:t.name})}function su(t){return FV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lI(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return OV.create(t,...e)}function Ut(t,e,...n){if(!t)throw lI(e,...n)}function Zc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ub(e),new Error(e)}function pu(t,e){t||Zc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yoe(){return J3()==="http:"||J3()==="https:"}function J3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yoe()||qre()||"connection"in navigator)?navigator.onLine:!0}function _oe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.shortDelay=e,this.longDelay=n,pu(n>e,"Short delay should be less than long delay!"),this.isMobile=iI()||MV()}get(){return xoe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){pu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe=new Px(3e4,6e4);function ef(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cu(t,e,n,i,r={}){return BV(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Jg(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return $re()||(c.referrerPolicy="no-referrer"),zV.fetch()(UV(t,t.config.apiHost,n,a),c)})}async function BV(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},boe),e);try{const r=new Eoe(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw m1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw m1(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw m1(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw m1(t,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw FV(t,d,c);nl(t,d)}}catch(r){if(r instanceof Zd)throw r;nl(t,"network-request-failed",{message:String(r)})}}async function Ix(t,e,n,i,r={}){const s=await Cu(t,e,n,i,r);return"mfaPendingCredential"in s&&nl(t,"multi-factor-auth-required",{_serverResponse:s}),s}function UV(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?cI(t.config,r):`${t.config.apiScheme}://${r}`}function woe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Eoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gl(this.auth,"network-request-failed")),Soe.get())})}}function m1(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Gl(t,e,i);return r.customData._tokenResponse=n,r}function Q3(t){return t!==void 0&&t.enterprise!==void 0}class Toe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return woe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Coe(t,e){return Cu(t,"GET","/v2/recaptchaConfig",ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Moe(t,e){return Cu(t,"POST","/v1/accounts:delete",e)}async function VV(t,e){return Cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Aoe(t,e=!1){const n=Dr(t),i=await n.getIdToken(e),r=uI(i);Ut(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:a0(mC(r.auth_time)),issuedAtTime:a0(mC(r.iat)),expirationTime:a0(mC(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mC(t){return Number(t)*1e3}function uI(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ub("JWT malformed, contained fewer than 3 sections"),null;try{const r=pS(n);return r?JSON.parse(r):(Ub("Failed to decode base64 JWT payload"),null)}catch(r){return Ub("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Z3(t){const e=uI(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Zd&&Poe(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Poe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=a0(this.lastLoginAt),this.creationTime=a0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Cg(t,VV(n,{idToken:i}));Ut(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jV(s.providerUserInfo):[],a=koe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new VA(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Roe(t){const e=Dr(t);await yS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function koe(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function jV(t){return t.map(e=>{var{providerId:n}=e,i=aI(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Noe(t,e){const n=await BV(t,{},async()=>{const i=Jg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=UV(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zV.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Loe(t,e){return Cu(t,"POST","/v2/accounts:revokeToken",ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const n=Z3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Noe(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new pg;return i&&(Ut(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ut(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ut(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pg,this.toJSON())}_performRefresh(){return Zc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eu{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=aI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ioe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cg(this,this.stsTokenManager.getToken(this.auth,e));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Aoe(this,e)}reload(){return Roe(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await yS(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(aa(this.auth.app))return Promise.reject(su(this.auth));const e=await this.getIdToken();return await Cg(this,Moe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,d;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:P,isAnonymous:k,providerData:F,stsTokenManager:D}=n;Ut(T&&D,e,"internal-error");const B=pg.fromJSON(this.name,D);Ut(typeof T=="string",e,"internal-error"),dd(h,e.name),dd(p,e.name),Ut(typeof P=="boolean",e,"internal-error"),Ut(typeof k=="boolean",e,"internal-error"),dd(v,e.name),dd(y,e.name),dd(b,e.name),dd(S,e.name),dd(_,e.name),dd(E,e.name);const N=new eu({uid:T,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:B,createdAt:_,lastLoginAt:E});return F&&Array.isArray(F)&&(N.providerData=F.map(R=>Object.assign({},R))),S&&(N._redirectEventId=S),N}static async _fromIdTokenResponse(e,n,i=!1){const r=new pg;r.updateFromServerResponse(n);const s=new eu({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await yS(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ut(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?jV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new pg;a.updateFromIdToken(i);const l=new eu({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new VA(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new Map;function tu(t){pu(t instanceof Function,"Expected a class definition");let e=eL.get(t);return e?(pu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WV.type="NONE";const tL=WV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e,n){return`firebase:${t}:${e}:${n}`}class mg{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Vb(this.userKey,r.apiKey,s),this.fullPersistenceKey=Vb("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new mg(tu(tL),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||tu(tL);const o=Vb(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=eu._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mg(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new mg(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YV(e))return"Blackberry";if(KV(e))return"Webos";if(GV(e))return"Safari";if((e.includes("chrome/")||$V(e))&&!e.includes("edge/"))return"Chrome";if(XV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HV(t=js()){return/firefox\//i.test(t)}function GV(t=js()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $V(t=js()){return/crios\//i.test(t)}function qV(t=js()){return/iemobile/i.test(t)}function XV(t=js()){return/android/i.test(t)}function YV(t=js()){return/blackberry/i.test(t)}function KV(t=js()){return/webos/i.test(t)}function dI(t=js()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Doe(t=js()){var e;return dI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ooe(){return Xre()&&document.documentMode===10}function JV(t=js()){return dI(t)||XV(t)||KV(t)||YV(t)||/windows phone/i.test(t)||qV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e=[]){let n;switch(t){case"Browser":n=nL(js());break;case"Worker":n=`${nL(js())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qg}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zoe(t,e={}){return Cu(t,"GET","/v2/passwordPolicy",ef(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=6;class Uoe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Boe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iL(this),this.idTokenSubscription=new iL(this),this.beforeStateQueue=new Foe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tu(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await mg.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VV(this,{idToken:e}),i=await eu._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(aa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yS(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_oe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(aa(this.app))return Promise.reject(su(this));const n=e?Dr(e):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return aa(this.app)?Promise.reject(su(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return aa(this.app)?Promise.reject(su(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zoe(this),n=new Uoe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ax("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Loe(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tu(e)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await mg.create(this,[tu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(aa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&voe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rp(t){return Dr(t)}class iL{constructor(e){this.auth=e,this.observer=null,this.addObserver=rse(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function joe(t){Yw=t}function ZV(t){return Yw.loadJS(t)}function Woe(){return Yw.recaptchaEnterpriseScript}function Hoe(){return Yw.gapiScript}function Goe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $oe{constructor(){this.enterprise=new qoe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qoe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xoe="recaptcha-enterprise",e8="NO_RECAPTCHA";class Yoe{constructor(e){this.type=Xoe,this.auth=rp(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Coe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Toe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;Q3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(e8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $oe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Q3(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Woe();l.length!==0&&(l+=a),ZV(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function rL(t,e,n,i=!1,r=!1){const s=new Yoe(t);let o;if(r)o=e8;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function jA(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rL(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rL(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Koe(t,e){const n=oI(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Vh(s,e??{}))return r;nl(r,"already-initialized")}return n.initialize({options:e})}function Joe(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(tu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Qoe(t,e,n){const i=rp(t);Ut(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=t8(e),{host:o,port:a}=Zoe(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ut(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ut(Vh(c,i.config.emulator)&&Vh(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,eae()}function t8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zoe(t){const e=t8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:sL(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:sL(o)}}}function sL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zc("not implemented")}_getIdTokenResponse(e){return Zc("not implemented")}_linkToIdToken(e,n){return Zc("not implemented")}_getReauthenticationResolver(e){return Zc("not implemented")}}async function tae(t,e){return Cu(t,"POST","/v1/accounts:update",e)}async function nae(t,e){return Cu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iae(t,e){return Ix(t,"POST","/v1/accounts:signInWithPassword",ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rae(t,e){return Ix(t,"POST","/v1/accounts:signInWithEmailLink",ef(t,e))}async function sae(t,e){return Ix(t,"POST","/v1/accounts:signInWithEmailLink",ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends fI{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new z0(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new z0(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jA(e,n,"signInWithPassword",iae);case"emailLink":return rae(e,{email:this._email,oobCode:this._password});default:nl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jA(e,i,"signUpPassword",nae);case"emailLink":return sae(e,{idToken:n,email:this._email,oobCode:this._password});default:nl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t,e){return Ix(t,"POST","/v1/accounts:signInWithIdp",ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae="http://localhost";class Wh extends fI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=aI(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Wh(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gg(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,gg(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gg(e,n)}buildRequest(){const e={requestUri:oae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lae(t){const e=Yy(Ky(t)).link,n=e?Yy(Ky(e)).deep_link_id:null,i=Yy(Ky(t)).deep_link_id;return(i?Yy(Ky(i)).link:null)||i||n||e||t}class hI{constructor(e){var n,i,r,s,o,a;const l=Yy(Ky(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,h=aae((r=l.mode)!==null&&r!==void 0?r:null);Ut(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lae(e);try{return new hI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.providerId=Zg.PROVIDER_ID}static credential(e,n){return z0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=hI.parseLink(n);return Ut(i,"argument-error"),z0._fromEmailAndCode(e,i.code,i.tenantId)}}Zg.PROVIDER_ID="password";Zg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends n8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Rx{constructor(){super("facebook.com")}static credential(e){return Wh._fromParams({providerId:Td.PROVIDER_ID,signInMethod:Td.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Td.credentialFromTaggedObject(e)}static credentialFromError(e){return Td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Td.credential(e.oauthAccessToken)}catch{return null}}}Td.FACEBOOK_SIGN_IN_METHOD="facebook.com";Td.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Rx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cd.credential(n,i)}catch{return null}}}Cd.GOOGLE_SIGN_IN_METHOD="google.com";Cd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends Rx{constructor(){super("github.com")}static credential(e){return Wh._fromParams({providerId:Md.PROVIDER_ID,signInMethod:Md.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Md.credentialFromTaggedObject(e)}static credentialFromError(e){return Md.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Md.credential(e.oauthAccessToken)}catch{return null}}}Md.GITHUB_SIGN_IN_METHOD="github.com";Md.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Rx{constructor(){super("twitter.com")}static credential(e,n){return Wh._fromParams({providerId:Ad.PROVIDER_ID,signInMethod:Ad.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ad.credentialFromTaggedObject(e)}static credentialFromError(e){return Ad.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ad.credential(n,i)}catch{return null}}}Ad.TWITTER_SIGN_IN_METHOD="twitter.com";Ad.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cae(t,e){return Ix(t,"POST","/v1/accounts:signUp",ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await eu._fromIdTokenResponse(e,i,r),o=oL(i);return new Hh({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=oL(i);return new Hh({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function oL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Zd{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,xS.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new xS(e,n,i,r)}}function i8(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xS._fromErrorAndOperation(t,s,e,i):s})}async function uae(t,e,n=!1){const i=await Cg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hh._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dae(t,e,n=!1){const{auth:i}=t;if(aa(i.app))return Promise.reject(su(i));const r="reauthenticate";try{const s=await Cg(t,i8(i,r,e,t),n);Ut(s.idToken,i,"internal-error");const o=uI(s.idToken);Ut(o,i,"internal-error");const{sub:a}=o;return Ut(t.uid===a,i,"user-mismatch"),Hh._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nl(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e,n=!1){if(aa(t.app))return Promise.reject(su(t));const i="signIn",r=await i8(t,i,e),s=await Hh._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function fae(t,e){return r8(rp(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t){const e=rp(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hae(t,e,n){if(aa(t.app))return Promise.reject(su(t));const i=rp(t),o=await jA(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cae).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&s8(t),l}),a=await Hh._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function pae(t,e,n){return aa(t.app)?Promise.reject(su(t)):fae(Dr(t),Zg.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&s8(t),i})}function mae(t,e){return gae(Dr(t),null,e)}async function gae(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Cg(t,tae(i,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(t,e){return Dr(t).setPersistence(e)}function yae(t,e,n,i){return Dr(t).onIdTokenChanged(e,n,i)}function xae(t,e,n){return Dr(t).beforeAuthStateChanged(e,n)}function _ae(t){return Dr(t).signOut()}const _S="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_S,"1"),this.storage.removeItem(_S),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae=1e3,Sae=10;class a8 extends o8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);Ooe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Sae):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},bae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a8.type="LOCAL";const l8=a8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8 extends o8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c8.type="SESSION";const u8=c8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Kw(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await wae(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=pI("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(){return window}function Tae(t){$l().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(){return typeof $l().WorkerGlobalScope<"u"&&typeof $l().importScripts=="function"}async function Cae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Aae(){return d8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="firebaseLocalStorageDb",Pae=1,bS="firebaseLocalStorage",h8="fbase_key";class kx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jw(t,e){return t.transaction([bS],e?"readwrite":"readonly").objectStore(bS)}function Iae(){const t=indexedDB.deleteDatabase(f8);return new kx(t).toPromise()}function WA(){const t=indexedDB.open(f8,Pae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(bS,{keyPath:h8})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(bS)?e(i):(i.close(),await Iae(),e(await WA()))})})}async function aL(t,e,n){const i=Jw(t,!0).put({[h8]:e,value:n});return new kx(i).toPromise()}async function Rae(t,e){const n=Jw(t,!1).get(e),i=await new kx(n).toPromise();return i===void 0?null:i.value}function lL(t,e){const n=Jw(t,!0).delete(e);return new kx(n).toPromise()}const kae=800,Nae=3;class p8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Nae)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kw._getInstance(Aae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cae(),!this.activeServiceWorker)return;this.sender=new Eae(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WA();return await aL(e,_S,"1"),await lL(e,_S),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>aL(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Rae(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Jw(r,!1).getAll();return new kx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p8.type="LOCAL";const Lae=p8;new Px(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dae(t,e){return e?tu(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends fI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gg(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Oae(t){return r8(t.auth,new mI(t),t.bypassAuthState)}function Fae(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),dae(n,new mI(t),t.bypassAuthState)}async function zae(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),uae(n,new mI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oae;case"linkViaPopup":case"linkViaRedirect":return zae;case"reauthViaPopup":case"reauthViaRedirect":return Fae;default:nl(this.auth,"internal-error")}}resolve(e){pu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bae=new Px(2e3,1e4);class Zm extends m8{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Zm.currentPopupAction&&Zm.currentPopupAction.cancel(),Zm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){pu(this.filter.length===1,"Popup operations only handle one event");const e=pI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bae.get())};e()}}Zm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae="pendingRedirect",jb=new Map;class Vae extends m8{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=jb.get(this.auth._key());if(!e){try{const i=await jae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}jb.set(this.auth._key(),e)}return this.bypassAuthState||jb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jae(t,e){const n=Gae(e),i=Hae(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function Wae(t,e){jb.set(t._key(),e)}function Hae(t){return tu(t._redirectPersistence)}function Gae(t){return Vb(Uae,t.config.apiKey,t.name)}async function $ae(t,e,n=!1){if(aa(t.app))return Promise.reject(su(t));const i=rp(t),r=Dae(i,e),o=await new Vae(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qae=10*60*1e3;class Xae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yae(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!g8(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Gl(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qae&&this.cachedEventUids.clear(),this.cachedEventUids.has(cL(e))}saveEventToCache(e){this.cachedEventUids.add(cL(e)),this.lastProcessedEventTime=Date.now()}}function cL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kae(t,e={}){return Cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qae=/^https?/;async function Zae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kae(t);for(const n of e)try{if(ele(n))return}catch{}nl(t,"unauthorized-domain")}function ele(t){const e=UA(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Qae.test(n))return!1;if(Jae.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle=new Px(3e4,6e4);function uL(){const t=$l().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nle(t){return new Promise((e,n)=>{var i,r,s;function o(){uL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uL(),n(Gl(t,"network-request-failed"))},timeout:tle.get()})}if(!((r=(i=$l().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=$l().gapi)===null||s===void 0)&&s.load)o();else{const a=Goe("iframefcb");return $l()[a]=()=>{gapi.load?o():n(Gl(t,"network-request-failed"))},ZV(`${Hoe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wb=null,e})}let Wb=null;function ile(t){return Wb=Wb||nle(t),Wb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=new Px(5e3,15e3),sle="__/auth/iframe",ole="emulator/auth/iframe",ale={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cle(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cI(e,ole):`https://${t.config.authDomain}/${sle}`,i={apiKey:e.apiKey,appName:t.name,v:Qg},r=lle.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Jg(i).slice(1)}`}async function ule(t){const e=await ile(t),n=$l().gapi;return Ut(n,t,"internal-error"),e.open({where:document.body,url:cle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ale,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Gl(t,"network-request-failed"),a=$l().setTimeout(()=>{s(o)},rle.get());function l(){$l().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fle=500,hle=600,ple="_blank",mle="http://localhost";class dL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gle(t,e,n,i=fle,r=hle){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dle),{width:i.toString(),height:r.toString(),top:s,left:o}),c=js().toLowerCase();n&&(a=$V(c)?ple:n),HV(c)&&(e=e||mle,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,y])=>`${p}${v}=${y},`,"");if(Doe(c)&&a!=="_self")return vle(e||"",a),new dL(null);const h=window.open(e||"",a,d);Ut(h,t,"popup-blocked");try{h.focus()}catch{}return new dL(h)}function vle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="__/auth/handler",xle="emulator/auth/handler",_le=encodeURIComponent("fac");async function fL(t,e,n,i,r,s){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Qg,eventId:r};if(e instanceof n8){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Rx){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${_le}=${encodeURIComponent(l)}`:"";return`${ble(t)}?${Jg(a).slice(1)}${c}`}function ble({config:t}){return t.emulator?cI(t,xle):`https://${t.authDomain}/${yle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="webStorageSupport";class Sle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u8,this._completeRedirectFn=$ae,this._overrideRedirectResult=Wae}async _openPopup(e,n,i,r){var s;pu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await fL(e,n,i,UA(),r);return gle(e,o,pI())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await fL(e,n,i,UA(),r);return Tae(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(pu(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ule(e),i=new Xae(e);return n.register("authEvent",r=>(Ut(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gC,{type:gC},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[gC];o!==void 0&&n(!!o),nl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JV()||GV()||dI()}}const wle=Sle;var hL="@firebase/auth",pL="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cle(t){Tg(new jh("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ut(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QV(t)},c=new Voe(i,r,s,l);return Joe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Tg(new jh("auth-internal",e=>{const n=rp(e.getProvider("auth").getImmediate());return(i=>new Ele(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ud(hL,pL,Tle(t)),Ud(hL,pL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=5*60,Ale=CV("authIdTokenMaxAge")||Mle;let mL=null;const Ple=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Ale)return;const r=n==null?void 0:n.token;mL!==r&&(mL=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Ile(t=kV()){const e=oI(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Koe(t,{popupRedirectResolver:wle,persistence:[Lae,l8,u8]}),i=CV("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=Ple(s.toString());xae(n,o,()=>o(n.currentUser)),yae(n,a=>o(a))}}const r=EV("auth");return r&&Qoe(n,`http://${r}`),n}function Rle(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}joe({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Gl("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Rle().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cle("Browser");var kle="firebase",Nle="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ud(kle,Nle,"app");var gL={};const vL="@firebase/database",yL="1.0.14";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let v8="";function Lle(t){v8=t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dle{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:O0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ole{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dle(e)}}catch{}return new Ole},wh=y8("localStorage"),Fle=y8("sessionStorage");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vg=new rI("@firebase/database"),x8=function(){let t=1;return function(){return t++}}(),_8=function(t){const e=ase(t),n=new ise;n.update(e);const i=n.digest();return tI.encodeByteArray(i)},Nx=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Nx.apply(null,i):typeof i=="object"?e+=yr(i):e+=i,e+=" "}return e};let l0=null,xL=!0;const zle=function(t,e){Ke(!0,"Can't turn on custom loggers persistently."),vg.logLevel=Yn.VERBOSE,l0=vg.log.bind(vg)},Kr=function(...t){if(xL===!0&&(xL=!1,l0===null&&Fle.get("logging_enabled")===!0&&zle()),l0){const e=Nx.apply(null,t);l0(e)}},Lx=function(t){return function(...e){Kr(t,...e)}},HA=function(...t){const e="FIREBASE INTERNAL ERROR: "+Nx(...t);vg.error(e)},mu=function(...t){const e=`FIREBASE FATAL ERROR: ${Nx(...t)}`;throw vg.error(e),new Error(e)},Bs=function(...t){const e="FIREBASE WARNING: "+Nx(...t);vg.warn(e)},Ble=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ule=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mg="[MIN_NAME]",Gh="[MAX_NAME]",sp=function(t,e){if(t===e)return 0;if(t===Mg||e===Gh)return-1;if(e===Mg||t===Gh)return 1;{const n=_L(t),i=_L(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Vle=function(t,e){return t===e?0:t<e?-1:1},vy=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yr(e))},vI=function(t){if(typeof t!="object"||t===null)return yr(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=yr(e[i]),n+=":",n+=vI(t[e[i]]);return n+="}",n},b8=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Jr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const S8=function(t){Ke(!gI(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},jle=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Wle=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hle(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Gle=new RegExp("^-?(0*)\\d{1,10}$"),$le=-2147483648,qle=2147483647,_L=function(t){if(Gle.test(t)){const e=Number(t);if(e>=$le&&e<=qle)return e}return null},ev=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Bs("Exception was thrown by user callback.",n),e},Math.floor(0))}},Xle=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},c0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yle{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,aa(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Bs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kle{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Kr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bs(e)}}class Hb{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hb.OWNER="owner";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yI="5",w8="v",E8="s",T8="r",C8="f",M8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,A8="ls",P8="p",GA="ac",I8="websocket",R8="long_polling";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k8{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Jle(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function N8(t,e,n){Ke(typeof e=="string","typeof type must == string"),Ke(typeof n=="object","typeof params must == object");let i;if(e===I8)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===R8)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jle(t)&&(n.ns=t.namespace);const r=[];return Jr(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qle{constructor(){this.counters_={}}incrementCounter(e,n=1){cl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zre(this.counters_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vC={},yC={};function xI(t){const e=t.toString();return vC[e]||(vC[e]=new Qle),vC[e]}function Zle(t,e){const n=t.toString();return yC[n]||(yC[n]=e()),yC[n]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ece{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ev(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bL="start",tce="close",nce="pLPCommand",ice="pRTLPCB",L8="id",D8="pw",O8="ser",rce="cb",sce="seg",oce="ts",ace="d",lce="dframe",F8=1870,z8=30,cce=F8-z8,uce=25e3,dce=3e4;class eg{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lx(e),this.stats_=xI(n),this.urlFn=l=>(this.appCheckToken&&(l[GA]=this.appCheckToken),N8(n,R8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ece(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dce)),Ule(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _I((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bL)this.id=a,this.password=l;else if(o===tce)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[bL]="t",i[O8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[rce]=this.scriptTagHolder.uniqueCallbackIdentifier),i[w8]=yI,this.transportSessionId&&(i[E8]=this.transportSessionId),this.lastSessionId&&(i[A8]=this.lastSessionId),this.applicationId&&(i[P8]=this.applicationId),this.appCheckToken&&(i[GA]=this.appCheckToken),typeof location<"u"&&location.hostname&&M8.test(location.hostname)&&(i[T8]=C8);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eg.forceAllow_=!0}static forceDisallow(){eg.forceDisallow_=!0}static isAvailable(){return eg.forceAllow_?!0:!eg.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jle()&&!Wle()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=yr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=SV(n),r=b8(i,cce);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[lce]="t",i[L8]=e,i[D8]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=yr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _I{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=x8(),window[nce+this.uniqueCallbackIdentifier]=e,window[ice+this.uniqueCallbackIdentifier]=n,this.myIFrame=_I.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Kr("frame writing exception"),a.stack&&Kr(a.stack),Kr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Kr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[L8]=this.myID,e[D8]=this.myPW,e[O8]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+z8+i.length<=F8;){const o=this.pendingSegs.shift();i=i+"&"+sce+r+"="+o.seg+"&"+oce+r+"="+o.ts+"&"+ace+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(uce)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Kr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fce=16384,hce=45e3;let SS=null;typeof MozWebSocket<"u"?SS=MozWebSocket:typeof WebSocket<"u"&&(SS=WebSocket);class Ka{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lx(this.connId),this.stats_=xI(n),this.connURL=Ka.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[w8]=yI,typeof location<"u"&&location.hostname&&M8.test(location.hostname)&&(o[T8]=C8),n&&(o[E8]=n),i&&(o[A8]=i),r&&(o[GA]=r),s&&(o[P8]=s),N8(e,I8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wh.set("previous_websocket_failure",!0);try{let i;Yre(),this.mySock=new SS(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ka.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&SS!==null&&!Ka.forceDisallow_}static previouslyFailed(){return wh.isInMemoryStorage||wh.get("previous_websocket_failure")===!0}markConnectionHealthy(){wh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=O0(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=yr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=b8(n,fce);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hce))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ka.responsesRequiredToBeHealthy=2;Ka.healthyTimeout=3e4;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B0{static get ALL_TRANSPORTS(){return[eg,Ka]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ka&&Ka.isAvailable();let i=n&&!Ka.previouslyFailed();if(e.webSocketOnly&&(n||Bs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ka];else{const r=this.transports_=[];for(const s of B0.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);B0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}B0.globalTransportInitialized_=!1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pce=6e4,mce=5e3,gce=10*1024,vce=100*1024,xC="t",SL="d",yce="s",wL="r",xce="e",EL="o",TL="a",CL="n",ML="p",_ce="h";class bce{constructor(e,n,i,r,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lx("c:"+this.id+":"),this.transportManager_=new B0(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=c0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vce?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gce?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xC in e){const n=e[xC];n===TL?this.upgradeIfSecondaryHealthy_():n===wL?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EL&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vy("t",e),i=vy("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ML,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TL,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:CL,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vy("t",e),i=vy("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vy(xC,e);if(SL in e){const i=e[SL];if(n===_ce){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===CL){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yce?this.onConnectionShutdown_(i):n===wL?this.onReset_(i):n===xce?HA("Server Error: "+i):n===EL?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yI!==i&&Bs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),c0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pce))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):c0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mce))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ML,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B8{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U8{constructor(e){this.allowedEvents_=e,this.listeners_={},Ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){Ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wS extends U8{static getInstance(){return new wS}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AL=32,PL=768;let Jn=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Nn(){return new Jn("")}function hn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wd(t){return t.pieces_.length-t.pieceNum_}function di(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Jn(t.pieces_,e)}function bI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Sce(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function U0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function V8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Jn(e,0)}function Bi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Jn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Jn(n,0)}function vn(t){return t.pieceNum_>=t.pieces_.length}function Fs(t,e){const n=hn(t),i=hn(e);if(n===null)return e;if(n===i)return Fs(di(t),di(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wce(t,e){const n=U0(t,0),i=U0(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=sp(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function SI(t,e){if(Wd(t)!==Wd(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function la(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Wd(t)>Wd(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Ece{constructor(e,n){this.errorPrefix_=n,this.parts_=U0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xw(this.parts_[i]);j8(this)}}function Tce(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xw(e),j8(t)}function Cce(t){const e=t.parts_.pop();t.byteLength_-=Xw(e),t.parts_.length>0&&(t.byteLength_-=1)}function j8(t){if(t.byteLength_>PL)throw new Error(t.errorPrefix_+"has a key path longer than "+PL+" bytes ("+t.byteLength_+").");if(t.parts_.length>AL)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+AL+") or object contains a cycle "+ph(t))}function ph(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wI extends U8{static getInstance(){return new wI}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yy=1e3,Mce=60*5*1e3,IL=30*1e3,Ace=1.3,Pce=3e4,Ice="server_kill",RL=3;class ou extends B8{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ou.nextPersistentConnectionId_++,this.log_=Lx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yy,this.maxReconnectDelay_=Mce,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(yr(s)),Ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Kg,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;ou.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cl(e,"w")){const i=Uh(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Bs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nse(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=IL)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=tse(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yr(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):HA("Unrecognized action received from server: "+yr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Pce&&(this.reconnectDelay_=yy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ace)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ou.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(h){Ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Kr("getToken() completed but was canceled"):(Kr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new bce(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,v=>{Bs(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ice)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Bs(h),l())}}}interrupt(e){Kr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],LA(this.interruptReasons_)&&(this.reconnectDelay_=yy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>vI(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Jn(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Kr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RL&&(this.reconnectDelay_=IL,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Kr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RL&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+v8.replace(/\./g,"-")]=1,iI()?e["framework.cordova"]=1:MV()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wS.getInstance().currentlyOnline();return LA(this.interruptReasons_)&&e}}ou.nextPersistentConnectionId_=0;ou.nextConnectionId_=0;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pn(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new pn(Mg,e),r=new pn(Mg,n);return this.compare(i,r)!==0}minPost(){return pn.MIN}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let g1;class W8 extends Qw{static get __EMPTY_NODE(){return g1}static set __EMPTY_NODE(e){g1=e}compare(e,n){return sp(e.name,n.name)}isDefinedOn(e){throw Yg("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pn.MIN}maxPost(){return new pn(Gh,g1)}makePost(e,n){return Ke(typeof e=="string","KeyIndex indexValue must always be a string."),new pn(e,g1)}toString(){return".key"}}const yg=new W8;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v1{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kr{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??kr.RED,this.left=r??oo.EMPTY_NODE,this.right=s??oo.EMPTY_NODE}copy(e,n,i,r,s){return new kr(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return oo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return oo.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kr.RED=!0;kr.BLACK=!1;class Rce{copy(e,n,i,r,s){return this}insert(e,n,i){return new kr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class oo{constructor(e,n=oo.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new oo(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kr.BLACK,null,null))}remove(e){return new oo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kr.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new v1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new v1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new v1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new v1(this.root_,null,this.comparator_,!0,e)}}oo.EMPTY_NODE=new Rce;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kce(t,e){return sp(t.name,e.name)}function EI(t,e){return sp(t,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let $A;function Nce(t){$A=t}const H8=function(t){return typeof t=="number"?"number:"+S8(t):"string:"+t},G8=function(t){if(t.isLeafNode()){const e=t.val();Ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cl(e,".sv"),"Priority must be a string or number.")}else Ke(t===$A||t.isEmpty(),"priority of unexpected type.");Ke(t===$A||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let kL;class Rr{static set __childrenNodeConstructor(e){kL=e}static get __childrenNodeConstructor(){return kL}constructor(e,n=Rr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G8(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vn(e)?this:hn(e)===".priority"?this.priorityNode_:Rr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=hn(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ke(i!==".priority"||Wd(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Rr.__childrenNodeConstructor.EMPTY_NODE.updateChild(di(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+H8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=S8(this.value_):e+=this.value_,this.lazyHash_=_8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rr.__childrenNodeConstructor?-1:(Ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Rr.VALUE_TYPE_ORDER.indexOf(n),s=Rr.VALUE_TYPE_ORDER.indexOf(i);return Ke(r>=0,"Unknown leaf type: "+n),Ke(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let $8,q8;function Lce(t){$8=t}function Dce(t){q8=t}class Oce extends Qw{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?sp(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pn.MIN}maxPost(){return new pn(Gh,new Rr("[PRIORITY-POST]",q8))}makePost(e,n){const i=$8(e);return new pn(n,new Rr("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ri=new Oce;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fce=Math.log(2);class zce{constructor(e){const n=s=>parseInt(Math.log(s)/Fce,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ES=function(t,e,n,i){t.sort(e);const r=function(l,c){const d=c-l;let h,p;if(d===0)return null;if(d===1)return h=t[l],p=n?n(h):h,new kr(p,h.node,kr.BLACK,null,null);{const v=parseInt(d/2,10)+l,y=r(l,v),b=r(v+1,c);return h=t[v],p=n?n(h):h,new kr(p,h.node,kr.BLACK,y,b)}},s=function(l){let c=null,d=null,h=t.length;const p=function(y,b){const S=h-y,_=h;h-=y;const E=r(S+1,_),T=t[S],P=n?n(T):T;v(new kr(P,T.node,b,null,E))},v=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<l.count;++y){const b=l.nextBitIsOne(),S=Math.pow(2,l.count-(y+1));b?p(S,kr.BLACK):(p(S,kr.BLACK),p(S,kr.RED))}return d},o=new zce(t.length),a=s(o);return new oo(i||e,a)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let _C;const _m={};class nu{static get Default(){return Ke(_m&&Ri,"ChildrenNode.ts has not been loaded"),_C=_C||new nu({".priority":_m},{".priority":Ri}),_C}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Uh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof oo?n:null}hasIndex(e){return cl(this.indexSet_,e.toString())}addIndex(e,n){Ke(e!==yg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(pn.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=ES(i,e.getCompare()):a=_m;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new nu(d,c)}addToIndexes(e,n){const i=mS(this.indexes_,(r,s)=>{const o=Uh(this.indexSet_,s);if(Ke(o,"Missing index implementation for "+s),r===_m)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(pn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ES(a,o.getCompare())}else return _m;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new pn(e.name,a))),l.insert(e,e.node)}});return new nu(i,this.indexSet_)}removeFromIndexes(e,n){const i=mS(this.indexes_,r=>{if(r===_m)return r;{const s=n.get(e.name);return s?r.remove(new pn(e.name,s)):r}});return new nu(i,this.indexSet_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let xy;class zt{static get EMPTY_NODE(){return xy||(xy=new zt(new oo(EI),null,nu.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&G8(this.priorityNode_),this.children_.isEmpty()&&Ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xy}updatePriority(e){return this.children_.isEmpty()?this:new zt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?xy:n}}getChild(e){const n=hn(e);return n===null?this:this.getImmediateChild(n).getChild(di(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new pn(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?xy:this.priorityNode_;return new zt(r,o,s)}}updateChild(e,n){const i=hn(e);if(i===null)return n;{Ke(hn(e)!==".priority"||Wd(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(di(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Ri,(o,a)=>{n[o]=a.val(e),i++,s&&zt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+H8(this.getPriority().val())+":"),this.forEachChild(Ri,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":_8(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new pn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pn(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,pn.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,pn.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dx?-1:0}withIndex(e){if(e===yg||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new zt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===yg||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ri),r=n.getIterator(Ri);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===yg?null:this.indexMap_.get(e.toString())}}zt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Bce extends zt{constructor(){super(new oo(EI),zt.EMPTY_NODE,nu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return zt.EMPTY_NODE}isEmpty(){return!1}}const Dx=new Bce;Object.defineProperties(pn,{MIN:{value:new pn(Mg,zt.EMPTY_NODE)},MAX:{value:new pn(Gh,Dx)}});W8.__EMPTY_NODE=zt.EMPTY_NODE;Rr.__childrenNodeConstructor=zt;Nce(Dx);Dce(Dx);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Uce=!0;function nr(t,e=null){if(t===null)return zt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rr(n,nr(e))}if(!(t instanceof Array)&&Uce){const n=[];let i=!1;if(Jr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=nr(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new pn(o,l)))}}),n.length===0)return zt.EMPTY_NODE;const s=ES(n,kce,o=>o.name,EI);if(i){const o=ES(n,Ri.getCompare());return new zt(s,nr(e),new nu({".priority":o},{".priority":Ri}))}else return new zt(s,nr(e),nu.Default)}else{let n=zt.EMPTY_NODE;return Jr(t,(i,r)=>{if(cl(t,i)&&i.substring(0,1)!=="."){const s=nr(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(nr(e))}}Lce(nr);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vce extends Qw{constructor(e){super(),this.indexPath_=e,Ke(!vn(e)&&hn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?sp(e.name,n.name):s}makePost(e,n){const i=nr(e),r=zt.EMPTY_NODE.updateChild(this.indexPath_,i);return new pn(n,r)}maxPost(){const e=zt.EMPTY_NODE.updateChild(this.indexPath_,Dx);return new pn(Gh,e)}toString(){return U0(this.indexPath_,0).join("/")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jce extends Qw{compare(e,n){const i=e.node.compareTo(n.node);return i===0?sp(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pn.MIN}maxPost(){return pn.MAX}makePost(e,n){const i=nr(e);return new pn(n,i)}toString(){return".value"}}const Wce=new jce;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X8(t){return{type:"value",snapshotNode:t}}function Ag(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function V0(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function j0(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Hce(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TI{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){Ke(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(V0(n,a)):Ke(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ag(n,i)):o.trackChildChange(j0(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ri,(r,s)=>{n.hasChild(r)||i.trackChildChange(V0(r,s))}),n.isLeafNode()||n.forEachChild(Ri,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(j0(r,s,o))}else i.trackChildChange(Ag(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?zt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W0{constructor(e){this.indexedFilter_=new TI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=W0.getStartPost_(e),this.endPost_=W0.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new pn(n,i))||(i=zt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=zt.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(zt.EMPTY_NODE);const s=this;return n.forEachChild(Ri,(o,a)=>{s.matches(new pn(o,a))||(r=r.updateImmediateChild(o,zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gce{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new W0(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new pn(n,i))||(i=zt.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=zt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=zt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(zt.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,zt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(p,v)=>h(v,p)}else o=this.index_.getCompare();const a=e;Ke(a.numChildren()===this.limit_,"");const l=new pn(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let p=r.getChildAfterChild(this.index_,c,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);const v=p==null?1:o(p,l);if(d&&!i.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(j0(n,i,h)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(V0(n,h));const b=a.updateImmediateChild(n,zt.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(Ag(p.name,p.node)),b.updateImmediateChild(p.name,p.node)):b}}else return i.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(V0(c.name,c.node)),s.trackChildChange(Ag(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,zt.EMPTY_NODE)):e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ri}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mg}hasEnd(){return this.endSet_}getIndexEndValue(){return Ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ri}copy(){const e=new CI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $ce(t){return t.loadsAllData()?new TI(t.getIndex()):t.hasLimit()?new Gce(t):new W0(t)}function NL(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ri?n="$priority":t.index_===Wce?n="$value":t.index_===yg?n="$key":(Ke(t.index_ instanceof Vce,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=yr(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=yr(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+yr(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=yr(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+yr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LL(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ri&&(e.i=t.index_.toString()),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TS extends B8{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Lx("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=TS.getListenId_(e,i),a={};this.listens_[o]=a;const l=NL(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,i),Uh(this.listens_,o)===a){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",r(p,null)}})}unlisten(e,n){const i=TS.getListenId_(e,n);delete this.listens_[i]}get(e){const n=NL(e._queryParams),i=e._path.toString(),r=new Kg;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jg(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=O0(a.responseText)}catch{Bs("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Bs("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qce{constructor(){this.rootNode_=zt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CS(){return{value:null,children:new Map}}function Y8(t,e,n){if(vn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=hn(e);t.children.has(i)||t.children.set(i,CS());const r=t.children.get(i);e=di(e),Y8(r,e,n)}}function qA(t,e,n){t.value!==null?n(e,t.value):Xce(t,(i,r)=>{const s=new Jn(e.toString()+"/"+i);qA(r,s,n)})}function Xce(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yce{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Jr(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DL=10*1e3,Kce=30*1e3,Jce=5*60*1e3;class Qce{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Yce(e);const i=DL+(Kce-DL)*Math.random();c0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Jr(e,(r,s)=>{s>0&&cl(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),c0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Jce))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Za;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Za||(Za={}));function MI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function AI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function PI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MS{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Za.ACK_USER_WRITE,this.source=MI()}operationForChild(e){if(vn(this.path)){if(this.affectedTree.value!=null)return Ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Jn(e));return new MS(Nn(),n,this.revert)}}else return Ke(hn(this.path)===e,"operationForChild called for unrelated child."),new MS(di(this.path),this.affectedTree,this.revert)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H0{constructor(e,n){this.source=e,this.path=n,this.type=Za.LISTEN_COMPLETE}operationForChild(e){return vn(this.path)?new H0(this.source,Nn()):new H0(this.source,di(this.path))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $h{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Za.OVERWRITE}operationForChild(e){return vn(this.path)?new $h(this.source,Nn(),this.snap.getImmediateChild(e)):new $h(this.source,di(this.path),this.snap)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pg{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Za.MERGE}operationForChild(e){if(vn(this.path)){const n=this.children.subtree(new Jn(e));return n.isEmpty()?null:n.value?new $h(this.source,Nn(),n.value):new Pg(this.source,Nn(),n)}else return Ke(hn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pg(this.source,di(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hd{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vn(e))return this.isFullyInitialized()&&!this.filtered_;const n=hn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zce{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eue(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Hce(o.childName,o.snapshotNode))}),_y(t,r,"child_removed",e,i,n),_y(t,r,"child_added",e,i,n),_y(t,r,"child_moved",s,i,n),_y(t,r,"child_changed",e,i,n),_y(t,r,"value",e,i,n),r}function _y(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>nue(t,a,l)),o.forEach(a=>{const l=tue(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function tue(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function nue(t,e,n){if(e.childName==null||n.childName==null)throw Yg("Should only compare child_ events.");const i=new pn(e.childName,e.snapshotNode),r=new pn(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zw(t,e){return{eventCache:t,serverCache:e}}function u0(t,e,n,i){return Zw(new Hd(e,n,i),t.serverCache)}function K8(t,e,n,i){return Zw(t.eventCache,new Hd(e,n,i))}function AS(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let bC;const iue=()=>(bC||(bC=new oo(Vle)),bC);class ci{static fromObject(e){let n=new ci(null);return Jr(e,(i,r)=>{n=n.set(new Jn(i),r)}),n}constructor(e,n=iue()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Nn(),value:this.value};if(vn(e))return null;{const i=hn(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(di(e),n);return s!=null?{path:Bi(new Jn(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vn(e))return this;{const n=hn(e),i=this.children.get(n);return i!==null?i.subtree(di(e)):new ci(null)}}set(e,n){if(vn(e))return new ci(n,this.children);{const i=hn(e),s=(this.children.get(i)||new ci(null)).set(di(e),n),o=this.children.insert(i,s);return new ci(this.value,o)}}remove(e){if(vn(e))return this.children.isEmpty()?new ci(null):new ci(null,this.children);{const n=hn(e),i=this.children.get(n);if(i){const r=i.remove(di(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new ci(null):new ci(this.value,s)}else return this}}get(e){if(vn(e))return this.value;{const n=hn(e),i=this.children.get(n);return i?i.get(di(e)):null}}setTree(e,n){if(vn(e))return n;{const i=hn(e),s=(this.children.get(i)||new ci(null)).setTree(di(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new ci(this.value,o)}}fold(e){return this.fold_(Nn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Bi(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Nn(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(vn(e))return null;{const s=hn(e),o=this.children.get(s);return o?o.findOnPath_(di(e),Bi(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nn(),n)}foreachOnPath_(e,n,i){if(vn(e))return this;{this.value&&i(n,this.value);const r=hn(e),s=this.children.get(r);return s?s.foreachOnPath_(di(e),Bi(n,r),i):new ci(null)}}foreach(e){this.foreach_(Nn(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Bi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class el{constructor(e){this.writeTree_=e}static empty(){return new el(new ci(null))}}function d0(t,e,n){if(vn(e))return new el(new ci(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Fs(r,e);return s=s.updateChild(o,n),new el(t.writeTree_.set(r,s))}else{const r=new ci(n),s=t.writeTree_.setTree(e,r);return new el(s)}}}function XA(t,e,n){let i=t;return Jr(n,(r,s)=>{i=d0(i,Bi(e,r),s)}),i}function OL(t,e){if(vn(e))return el.empty();{const n=t.writeTree_.setTree(e,new ci(null));return new el(n)}}function YA(t,e){return op(t,e)!=null}function op(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fs(n.path,e)):null}function FL(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ri,(i,r)=>{e.push(new pn(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new pn(i,r.value))}),e}function Vd(t,e){if(vn(e))return t;{const n=op(t,e);return n!=null?new el(new ci(n)):new el(t.writeTree_.subtree(e))}}function KA(t){return t.writeTree_.isEmpty()}function Ig(t,e){return J8(Nn(),t.writeTree_,e)}function J8(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(Ke(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=J8(Bi(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Bi(t,".priority"),i)),n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eE(t,e){return tj(e,t)}function rue(t,e,n,i,r){Ke(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=d0(t.visibleWrites,e,n)),t.lastWriteId=i}function sue(t,e,n,i){Ke(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=XA(t.visibleWrites,e,n),t.lastWriteId=i}function oue(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function aue(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ke(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&lue(a,i.path)?r=!1:la(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return cue(t),!0;if(i.snap)t.visibleWrites=OL(t.visibleWrites,i.path);else{const a=i.children;Jr(a,l=>{t.visibleWrites=OL(t.visibleWrites,Bi(i.path,l))})}return!0}else return!1}function lue(t,e){if(t.snap)return la(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&la(Bi(t.path,n),e))return!0;return!1}function cue(t){t.visibleWrites=Q8(t.allWrites,uue,Nn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function uue(t){return t.visible}function Q8(t,e,n){let i=el.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)la(n,o)?(a=Fs(n,o),i=d0(i,a,s.snap)):la(o,n)&&(a=Fs(o,n),i=d0(i,Nn(),s.snap.getChild(a)));else if(s.children){if(la(n,o))a=Fs(n,o),i=XA(i,a,s.children);else if(la(o,n))if(a=Fs(o,n),vn(a))i=XA(i,Nn(),s.children);else{const l=Uh(s.children,hn(a));if(l){const c=l.getChild(di(a));i=d0(i,Nn(),c)}}}else throw Yg("WriteRecord should have .snap or .children")}}return i}function Z8(t,e,n,i,r){if(!i&&!r){const s=op(t.visibleWrites,e);if(s!=null)return s;{const o=Vd(t.visibleWrites,e);if(KA(o))return n;if(n==null&&!YA(o,Nn()))return null;{const a=n||zt.EMPTY_NODE;return Ig(o,a)}}}else{const s=Vd(t.visibleWrites,e);if(!r&&KA(s))return n;if(!r&&n==null&&!YA(s,Nn()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(la(c.path,e)||la(e,c.path))},a=Q8(t.allWrites,o,e),l=n||zt.EMPTY_NODE;return Ig(a,l)}}}function due(t,e,n){let i=zt.EMPTY_NODE;const r=op(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ri,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Vd(t.visibleWrites,e);return n.forEachChild(Ri,(o,a)=>{const l=Ig(Vd(s,new Jn(o)),a);i=i.updateImmediateChild(o,l)}),FL(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Vd(t.visibleWrites,e);return FL(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function fue(t,e,n,i,r){Ke(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Bi(e,n);if(YA(t.visibleWrites,s))return null;{const o=Vd(t.visibleWrites,s);return KA(o)?r.getChild(n):Ig(o,r.getChild(n))}}function hue(t,e,n,i){const r=Bi(e,n),s=op(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Vd(t.visibleWrites,r);return Ig(o,i.getNode().getImmediateChild(n))}else return null}function pue(t,e){return op(t.visibleWrites,e)}function mue(t,e,n,i,r,s,o){let a;const l=Vd(t.visibleWrites,e),c=op(l,Nn());if(c!=null)a=c;else if(n!=null)a=Ig(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),p=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=p.getNext();for(;v&&d.length<r;)h(v,i)!==0&&d.push(v),v=p.getNext();return d}else return[]}function gue(){return{visibleWrites:el.empty(),allWrites:[],lastWriteId:-1}}function PS(t,e,n,i){return Z8(t.writeTree,t.treePath,e,n,i)}function II(t,e){return due(t.writeTree,t.treePath,e)}function zL(t,e,n,i){return fue(t.writeTree,t.treePath,e,n,i)}function IS(t,e){return pue(t.writeTree,Bi(t.treePath,e))}function vue(t,e,n,i,r,s){return mue(t.writeTree,t.treePath,e,n,i,r,s)}function RI(t,e,n){return hue(t.writeTree,t.treePath,e,n)}function ej(t,e){return tj(Bi(t.treePath,e),t.writeTree)}function tj(t,e){return{treePath:t,writeTree:e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yue{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ke(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,j0(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,V0(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Ag(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,j0(i,e.snapshotNode,r.oldSnap));else throw Yg("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xue{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const nj=new xue;class kI{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Hd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RI(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qh(this.viewCache_),s=vue(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _ue(t){return{filter:t}}function bue(t,e){Ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Sue(t,e,n,i,r){const s=new yue;let o,a;if(n.type===Za.OVERWRITE){const c=n;c.source.fromUser?o=JA(t,e,c.path,c.snap,i,r,s):(Ke(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!vn(c.path),o=RS(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Za.MERGE){const c=n;c.source.fromUser?o=Eue(t,e,c.path,c.children,i,r,s):(Ke(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=QA(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Za.ACK_USER_WRITE){const c=n;c.revert?o=Mue(t,e,c.path,i,r,s):o=Tue(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Za.LISTEN_COMPLETE)o=Cue(t,e,n.path,i,s);else throw Yg("Unknown operation type: "+n.type);const l=s.getChanges();return wue(e,o,l),{viewCache:o,changes:l}}function wue(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=AS(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(X8(AS(e)))}}function ij(t,e,n,i,r,s){const o=e.eventCache;if(IS(i,n)!=null)return e;{let a,l;if(vn(n))if(Ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qh(e),d=c instanceof zt?c:zt.EMPTY_NODE,h=II(i,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=PS(i,qh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=hn(n);if(c===".priority"){Ke(Wd(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=zL(i,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=di(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const p=zL(i,n,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(c).updateChild(d,p):h=o.getNode().getImmediateChild(c)}else h=RI(i,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,r,s):a=o.getNode()}}return u0(e,a,o.isFullyInitialized()||vn(n),t.filter.filtersNodes())}}function RS(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(vn(n))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,i);c=d.updateFullNode(l.getNode(),v,null)}else{const v=hn(n);if(!l.isCompleteForPath(n)&&Wd(n)>1)return e;const y=di(n),S=l.getNode().getImmediateChild(v).updateChild(y,i);v===".priority"?c=d.updatePriority(l.getNode(),S):c=d.updateChild(l.getNode(),v,S,y,nj,null)}const h=K8(e,c,l.isFullyInitialized()||vn(n),d.filtersNodes()),p=new kI(r,h,s);return ij(t,h,n,r,p,a)}function JA(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const d=new kI(r,e,s);if(vn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=u0(e,c,!0,t.filter.filtersNodes());else{const h=hn(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=u0(e,c,a.isFullyInitialized(),a.isFiltered());else{const p=di(n),v=a.getNode().getImmediateChild(h);let y;if(vn(p))y=i;else{const b=d.getCompleteChild(h);b!=null?bI(p)===".priority"&&b.getChild(V8(p)).isEmpty()?y=b:y=b.updateChild(p,i):y=zt.EMPTY_NODE}if(v.equals(y))l=e;else{const b=t.filter.updateChild(a.getNode(),h,y,p,d,o);l=u0(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function BL(t,e){return t.eventCache.isCompleteForChild(e)}function Eue(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const d=Bi(n,l);BL(e,hn(d))&&(a=JA(t,a,d,c,r,s,o))}),i.foreach((l,c)=>{const d=Bi(n,l);BL(e,hn(d))||(a=JA(t,a,d,c,r,s,o))}),a}function UL(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function QA(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;vn(n)?c=i:c=new ci(null).setTree(n,i);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),y=UL(t,v,p);l=RS(t,l,new Jn(h),y,r,s,o,a)}}),c.children.inorderTraversal((h,p)=>{const v=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!d.hasChild(h)&&!v){const y=e.serverCache.getNode().getImmediateChild(h),b=UL(t,y,p);l=RS(t,l,new Jn(h),b,r,s,o,a)}}),l}function Tue(t,e,n,i,r,s,o){if(IS(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(vn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return RS(t,e,n,l.getNode().getChild(n),r,s,a,o);if(vn(n)){let c=new ci(null);return l.getNode().forEachChild(yg,(d,h)=>{c=c.set(new Jn(d),h)}),QA(t,e,n,c,r,s,a,o)}else return e}else{let c=new ci(null);return i.foreach((d,h)=>{const p=Bi(n,d);l.isCompleteForPath(p)&&(c=c.set(d,l.getNode().getChild(p)))}),QA(t,e,n,c,r,s,a,o)}}function Cue(t,e,n,i,r){const s=e.serverCache,o=K8(e,s.getNode(),s.isFullyInitialized()||vn(n),s.isFiltered());return ij(t,o,n,i,nj,r)}function Mue(t,e,n,i,r,s){let o;if(IS(i,n)!=null)return e;{const a=new kI(i,e,r),l=e.eventCache.getNode();let c;if(vn(n)||hn(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=PS(i,qh(e));else{const h=e.serverCache.getNode();Ke(h instanceof zt,"serverChildren would be complete if leaf node"),d=II(i,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=hn(n);let h=RI(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,di(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,zt.EMPTY_NODE,di(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=PS(i,qh(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||IS(i,Nn())!=null,u0(e,c,o,t.filter.filtersNodes())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Aue{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new TI(i.getIndex()),s=$ce(i);this.processor_=_ue(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(zt.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(zt.EMPTY_NODE,a.getNode(),null),d=new Hd(l,o.isFullyInitialized(),r.filtersNodes()),h=new Hd(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zw(h,d),this.eventGenerator_=new Zce(this.query_)}get query(){return this.query_}}function Pue(t){return t.viewCache_.serverCache.getNode()}function Iue(t){return AS(t.viewCache_)}function Rue(t,e){const n=qh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vn(e)&&!n.getImmediateChild(hn(e)).isEmpty())?n.getChild(e):null}function VL(t){return t.eventRegistrations_.length===0}function kue(t,e){t.eventRegistrations_.push(e)}function jL(t,e,n){const i=[];if(n){Ke(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function WL(t,e,n,i){e.type===Za.MERGE&&e.source.queryId!==null&&(Ke(qh(t.viewCache_),"We should always have a full cache before handling merges"),Ke(AS(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=Sue(t.processor_,r,e,n,i);return bue(t.processor_,s.viewCache),Ke(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,rj(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Nue(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ri,(s,o)=>{i.push(Ag(s,o))}),n.isFullyInitialized()&&i.push(X8(n.getNode())),rj(t,i,n.getNode(),e)}function rj(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return eue(t.eventGenerator_,e,n,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let kS;class sj{constructor(){this.views=new Map}}function Lue(t){Ke(!kS,"__referenceConstructor has already been defined"),kS=t}function Due(){return Ke(kS,"Reference.ts has not been loaded"),kS}function Oue(t){return t.views.size===0}function NI(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return Ke(s!=null,"SyncTree gave us an op for an invalid query."),WL(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(WL(o,e,n,i));return s}}function oj(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=PS(n,r?i:null),l=!1;a?l=!0:i instanceof zt?(a=II(n,i),l=!1):(a=zt.EMPTY_NODE,l=!1);const c=Zw(new Hd(a,l,!1),new Hd(i,r,!1));return new Aue(e,c)}return o}function Fue(t,e,n,i,r,s){const o=oj(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),kue(o,n),Nue(o,n)}function zue(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Gd(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(jL(c,n,i)),VL(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(jL(l,n,i)),VL(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Gd(t)&&s.push(new(Due())(e._repo,e._path)),{removed:s,events:o}}function aj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jd(t,e){let n=null;for(const i of t.views.values())n=n||Rue(i,e);return n}function lj(t,e){if(e._queryParams.loadsAllData())return tE(t);{const i=e._queryIdentifier;return t.views.get(i)}}function cj(t,e){return lj(t,e)!=null}function Gd(t){return tE(t)!=null}function tE(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let NS;function Bue(t){Ke(!NS,"__referenceConstructor has already been defined"),NS=t}function Uue(){return Ke(NS,"Reference.ts has not been loaded"),NS}let Vue=1;class HL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ci(null),this.pendingWriteTree_=gue(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LI(t,e,n,i,r){return rue(t.pendingWriteTree_,e,n,i,r),r?tv(t,new $h(MI(),e,n)):[]}function jue(t,e,n,i){sue(t.pendingWriteTree_,e,n,i);const r=ci.fromObject(n);return tv(t,new Pg(MI(),e,r))}function Nd(t,e,n=!1){const i=oue(t.pendingWriteTree_,e);if(aue(t.pendingWriteTree_,e)){let s=new ci(null);return i.snap!=null?s=s.set(Nn(),!0):Jr(i.children,o=>{s=s.set(new Jn(o),!0)}),tv(t,new MS(i.path,s,n))}else return[]}function Ox(t,e,n){return tv(t,new $h(AI(),e,n))}function Wue(t,e,n){const i=ci.fromObject(n);return tv(t,new Pg(AI(),e,i))}function Hue(t,e){return tv(t,new H0(AI(),e))}function Gue(t,e,n){const i=DI(t,n);if(i){const r=OI(i),s=r.path,o=r.queryId,a=Fs(s,e),l=new H0(PI(o),a);return FI(t,s,l)}else return[]}function LS(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||cj(o,e))){const l=zue(o,e,n,i);Oue(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const d=c.findIndex(p=>p._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(p,v)=>Gd(v));if(d&&!h){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const v=Xue(p);for(let y=0;y<v.length;++y){const b=v[y],S=b.query,_=hj(t,b);t.listenProvider_.startListening(f0(S),G0(t,S),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!i&&(d?t.listenProvider_.stopListening(f0(e),null):c.forEach(p=>{const v=t.queryToTagMap.get(iE(p));t.listenProvider_.stopListening(f0(p),v)}))}Yue(t,c)}return a}function uj(t,e,n,i){const r=DI(t,i);if(r!=null){const s=OI(r),o=s.path,a=s.queryId,l=Fs(o,e),c=new $h(PI(a),l,n);return FI(t,o,c)}else return[]}function $ue(t,e,n,i){const r=DI(t,i);if(r){const s=OI(r),o=s.path,a=s.queryId,l=Fs(o,e),c=ci.fromObject(n),d=new Pg(PI(a),l,c);return FI(t,o,d)}else return[]}function ZA(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(p,v)=>{const y=Fs(p,r);s=s||jd(v,y),o=o||Gd(v)});let a=t.syncPointTree_.get(r);a?(o=o||Gd(a),s=s||jd(a,Nn())):(a=new sj,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=zt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((v,y)=>{const b=jd(y,Nn());b&&(s=s.updateImmediateChild(v,b))}));const c=cj(a,e);if(!c&&!e._queryParams.loadsAllData()){const p=iE(e);Ke(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const v=Kue();t.queryToTagMap.set(p,v),t.tagToQueryMap.set(v,p)}const d=eE(t.pendingWriteTree_,r);let h=Fue(a,e,n,d,s,l);if(!c&&!o&&!i){const p=lj(a,e);h=h.concat(Jue(t,e,p))}return h}function nE(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Fs(o,e),c=jd(a,l);if(c)return c});return Z8(r,e,s,n,!0)}function que(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Fs(c,n);i=i||jd(d,h)});let r=t.syncPointTree_.get(n);r?i=i||jd(r,Nn()):(r=new sj,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Hd(i,!0,!1):null,a=eE(t.pendingWriteTree_,e._path),l=oj(r,e,a,s?o.getNode():zt.EMPTY_NODE,s);return Iue(l)}function tv(t,e){return dj(e,t.syncPointTree_,null,eE(t.pendingWriteTree_,Nn()))}function dj(t,e,n,i){if(vn(t.path))return fj(t,e,n,i);{const r=e.get(Nn());n==null&&r!=null&&(n=jd(r,Nn()));let s=[];const o=hn(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=ej(i,o);s=s.concat(dj(a,l,c,d))}return r&&(s=s.concat(NI(r,t,i,n))),s}}function fj(t,e,n,i){const r=e.get(Nn());n==null&&r!=null&&(n=jd(r,Nn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=ej(i,o),d=t.operationForChild(o);d&&(s=s.concat(fj(d,a,l,c)))}),r&&(s=s.concat(NI(r,t,i,n))),s}function hj(t,e){const n=e.query,i=G0(t,n);return{hashFn:()=>(Pue(e)||zt.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?Gue(t,n._path,i):Hue(t,n._path);{const s=Hle(r,n);return LS(t,n,null,s)}}}}function G0(t,e){const n=iE(e);return t.queryToTagMap.get(n)}function iE(t){return t._path.toString()+"$"+t._queryIdentifier}function DI(t,e){return t.tagToQueryMap.get(e)}function OI(t){const e=t.indexOf("$");return Ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Jn(t.substr(0,e))}}function FI(t,e,n){const i=t.syncPointTree_.get(e);Ke(i,"Missing sync point for query tag that we're tracking");const r=eE(t.pendingWriteTree_,e);return NI(i,n,r,null)}function Xue(t){return t.fold((e,n,i)=>{if(n&&Gd(n))return[tE(n)];{let r=[];return n&&(r=aj(n)),Jr(i,(s,o)=>{r=r.concat(o)}),r}})}function f0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Uue())(t._repo,t._path):t}function Yue(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=iE(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function Kue(){return Vue++}function Jue(t,e,n){const i=e._path,r=G0(t,e),s=hj(t,n),o=t.listenProvider_.startListening(f0(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)Ke(!Gd(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!vn(c)&&d&&Gd(d))return[tE(d).query];{let p=[];return d&&(p=p.concat(aj(d).map(v=>v.query))),Jr(h,(v,y)=>{p=p.concat(y)}),p}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(f0(d),G0(t,d))}}return o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zI(n)}node(){return this.node_}}class BI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bi(this.path_,e);return new BI(this.syncTree_,n)}node(){return nE(this.syncTree_,this.path_)}}const Que=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},GL=function(t,e,n){if(!t||typeof t!="object")return t;if(Ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Zue(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ede(t[".sv"],e);Ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Zue=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ke(!1,"Unexpected server value: "+t)}},ede=function(t,e,n){t.hasOwnProperty("increment")||Ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Ke(!1,"Unexpected increment value: "+i);const r=e.node();if(Ke(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},pj=function(t,e,n,i){return VI(e,new BI(n,t),i)},UI=function(t,e,n){return VI(t,new zI(e),n)};function VI(t,e,n){const i=t.getPriority().val(),r=GL(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=GL(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Rr(a,nr(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Rr(r))),o.forEachChild(Ri,(a,l)=>{const c=VI(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jI{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function rE(t,e){let n=e instanceof Jn?e:new Jn(e),i=t,r=hn(n);for(;r!==null;){const s=Uh(i.node.children,r)||{children:{},childCount:0};i=new jI(r,i,s),n=di(n),r=hn(n)}return i}function ap(t){return t.node.value}function WI(t,e){t.node.value=e,eP(t)}function mj(t){return t.node.childCount>0}function tde(t){return ap(t)===void 0&&!mj(t)}function sE(t,e){Jr(t.node.children,(n,i)=>{e(new jI(n,t,i))})}function gj(t,e,n,i){n&&e(t),sE(t,r=>{gj(r,e,!0)})}function nde(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Fx(t){return new Jn(t.parent===null?t.name:Fx(t.parent)+"/"+t.name)}function eP(t){t.parent!==null&&ide(t.parent,t.name,t)}function ide(t,e,n){const i=tde(n),r=cl(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,eP(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,eP(t))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rde=/[\[\].#$\/\u0000-\u001F\u007F]/,sde=/[\[\].#$\u0000-\u001F\u007F]/,SC=10*1024*1024,HI=function(t){return typeof t=="string"&&t.length!==0&&!rde.test(t)},vj=function(t){return typeof t=="string"&&t.length!==0&&!sde.test(t)},ode=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vj(t)},yj=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!gI(t)||t&&typeof t=="object"&&cl(t,".sv")},xj=function(t,e,n,i){i&&e===void 0||zx(qw(t,"value"),e,n)},zx=function(t,e,n){const i=n instanceof Jn?new Ece(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ph(i));if(typeof e=="function")throw new Error(t+"contains a function "+ph(i)+" with contents = "+e.toString());if(gI(e))throw new Error(t+"contains "+e.toString()+" "+ph(i));if(typeof e=="string"&&e.length>SC/3&&Xw(e)>SC)throw new Error(t+"contains a string greater than "+SC+" utf8 bytes "+ph(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Jr(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!HI(o)))throw new Error(t+" contains an invalid key ("+o+") "+ph(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Tce(i,o),zx(t,a,i),Cce(i)}),r&&s)throw new Error(t+' contains ".value" child '+ph(i)+" in addition to actual children.")}},ade=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=U0(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!HI(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(wce);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&la(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},lde=function(t,e,n,i){const r=qw(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Jr(e,(o,a)=>{const l=new Jn(o);if(zx(r,a,Bi(n,l)),bI(l)===".priority"&&!yj(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),ade(r,s)},_j=function(t,e,n,i){if(!vj(n))throw new Error(qw(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cde=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_j(t,e,n)},oE=function(t,e){if(hn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ude=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!HI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ode(n))throw new Error(qw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dde{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aE(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!SI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function bj(t,e,n){aE(t,n),Sj(t,i=>SI(i,e))}function Uo(t,e,n){aE(t,n),Sj(t,i=>la(i,e)||la(e,i))}function Sj(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(fde(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fde(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();l0&&Kr("event: "+n.toString()),ev(i)}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hde="repo_interrupt",pde=25;class mde{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dde,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=CS(),this.transactionQueueTree_=new jI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gde(t,e,n){if(t.stats_=xI(t.repoInfo_),t.forceRestClient_||Xle())t.server_=new TS(t.repoInfo_,(i,r,s,o)=>{$L(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qL(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yr(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ou(t.repoInfo_,e,(i,r,s,o)=>{$L(t,i,r,s,o)},i=>{qL(t,i)},i=>{vde(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Zle(t.repoInfo_,()=>new Qce(t.stats_,t.server_)),t.infoData_=new qce,t.infoSyncTree_=new HL({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Ox(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),GI(t,"connected",!1),t.serverSyncTree_=new HL({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Uo(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function wj(t){const n=t.infoData_.getNode(new Jn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Bx(t){return Que({timestamp:wj(t)})}function $L(t,e,n,i,r){t.dataUpdateCount++;const s=new Jn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=mS(n,c=>nr(c));o=$ue(t.serverSyncTree_,s,l,r)}else{const l=nr(n);o=uj(t.serverSyncTree_,s,l,r)}else if(i){const l=mS(n,c=>nr(c));o=Wue(t.serverSyncTree_,s,l)}else{const l=nr(n);o=Ox(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Rg(t,s)),Uo(t.eventQueue_,a,o)}function qL(t,e){GI(t,"connected",e),e===!1&&bde(t)}function vde(t,e){Jr(e,(n,i)=>{GI(t,n,i)})}function GI(t,e,n){const i=new Jn("/.info/"+e),r=nr(n);t.infoData_.updateSnapshot(i,r);const s=Ox(t.infoSyncTree_,i,r);Uo(t.eventQueue_,i,s)}function lE(t){return t.nextWriteId_++}function yde(t,e,n){const i=que(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=nr(r).withIndex(e._queryParams.getIndex());ZA(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ox(t.serverSyncTree_,e._path,s);else{const a=G0(t.serverSyncTree_,e);o=uj(t.serverSyncTree_,e._path,s,a)}return Uo(t.eventQueue_,e._path,o),LS(t.serverSyncTree_,e,n,null,!0),s},r=>(nv(t,"get for query "+yr(e)+" failed: "+r),Promise.reject(new Error(r))))}function xde(t,e,n,i,r){nv(t,"set",{path:e.toString(),value:n,priority:i});const s=Bx(t),o=nr(n,i),a=nE(t.serverSyncTree_,e),l=UI(o,a,s),c=lE(t),d=LI(t.serverSyncTree_,e,l,c,!0);aE(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(p,v)=>{const y=p==="ok";y||Bs("set at "+e+" failed: "+p);const b=Nd(t.serverSyncTree_,c,!y);Uo(t.eventQueue_,e,b),tP(t,r,p,v)});const h=qI(t,e);Rg(t,h),Uo(t.eventQueue_,h,[])}function _de(t,e,n,i){nv(t,"update",{path:e.toString(),value:n});let r=!0;const s=Bx(t),o={};if(Jr(n,(a,l)=>{r=!1,o[a]=pj(Bi(e,a),nr(l),t.serverSyncTree_,s)}),r)Kr("update() called with empty data.  Don't do anything."),tP(t,i,"ok",void 0);else{const a=lE(t),l=jue(t.serverSyncTree_,e,o,a);aE(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||Bs("update at "+e+" failed: "+c);const p=Nd(t.serverSyncTree_,a,!h),v=p.length>0?Rg(t,e):e;Uo(t.eventQueue_,v,p),tP(t,i,c,d)}),Jr(n,c=>{const d=qI(t,Bi(e,c));Rg(t,d)}),Uo(t.eventQueue_,e,[])}}function bde(t){nv(t,"onDisconnectEvents");const e=Bx(t),n=CS();qA(t.onDisconnect_,Nn(),(r,s)=>{const o=pj(r,s,t.serverSyncTree_,e);Y8(n,r,o)});let i=[];qA(n,Nn(),(r,s)=>{i=i.concat(Ox(t.serverSyncTree_,r,s));const o=qI(t,r);Rg(t,o)}),t.onDisconnect_=CS(),Uo(t.eventQueue_,Nn(),i)}function Sde(t,e,n){let i;hn(e._path)===".info"?i=ZA(t.infoSyncTree_,e,n):i=ZA(t.serverSyncTree_,e,n),bj(t.eventQueue_,e._path,i)}function XL(t,e,n){let i;hn(e._path)===".info"?i=LS(t.infoSyncTree_,e,n):i=LS(t.serverSyncTree_,e,n),bj(t.eventQueue_,e._path,i)}function wde(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hde)}function nv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Kr(n,...e)}function tP(t,e,n,i){e&&ev(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function Ede(t,e,n,i,r,s){nv(t,"transaction on "+e);const o={path:e,update:n,onComplete:i,status:null,order:x8(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=$I(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{zx("transaction failed: Data returned ",l,o.path),o.status=0;const c=rE(t.transactionQueueTree_,e),d=ap(c)||[];d.push(o),WI(c,d);let h;typeof l=="object"&&l!==null&&cl(l,".priority")?(h=Uh(l,".priority"),Ke(yj(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(nE(t.serverSyncTree_,e)||zt.EMPTY_NODE).getPriority().val();const p=Bx(t),v=nr(l,h),y=UI(v,a,p);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=y,o.currentWriteId=lE(t);const b=LI(t.serverSyncTree_,e,y,o.currentWriteId,o.applyLocally);Uo(t.eventQueue_,e,b),cE(t,t.transactionQueueTree_)}}function $I(t,e,n){return nE(t.serverSyncTree_,e,n)||zt.EMPTY_NODE}function cE(t,e=t.transactionQueueTree_){if(e||uE(t,e),ap(e)){const n=Tj(t,e);Ke(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&Tde(t,Fx(e),n)}else mj(e)&&sE(e,n=>{cE(t,n)})}function Tde(t,e,n){const i=n.map(c=>c.currentWriteId),r=$I(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const d=n[c];Ke(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Fs(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{nv(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Nd(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();uE(t,rE(t.transactionQueueTree_,e)),cE(t,t.transactionQueueTree_),Uo(t.eventQueue_,e,d);for(let p=0;p<h.length;p++)ev(h[p])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Bs("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Rg(t,e)}},o)}function Rg(t,e){const n=Ej(t,e),i=Fx(n),r=Tj(t,n);return Cde(t,r,i),i}function Cde(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Fs(n,l.path);let d=!1,h;if(Ke(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,r=r.concat(Nd(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=pde)d=!0,h="maxretry",r=r.concat(Nd(t.serverSyncTree_,l.currentWriteId,!0));else{const p=$I(t,l.path,o);l.currentInputSnapshot=p;const v=e[a].update(p.val());if(v!==void 0){zx("transaction failed: Data returned ",v,l.path);let y=nr(v);typeof v=="object"&&v!=null&&cl(v,".priority")||(y=y.updatePriority(p.getPriority()));const S=l.currentWriteId,_=Bx(t),E=UI(y,p,_);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=E,l.currentWriteId=lE(t),o.splice(o.indexOf(S),1),r=r.concat(LI(t.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),r=r.concat(Nd(t.serverSyncTree_,S,!0))}else d=!0,h="nodata",r=r.concat(Nd(t.serverSyncTree_,l.currentWriteId,!0))}Uo(t.eventQueue_,n,r),r=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}uE(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)ev(i[a]);cE(t,t.transactionQueueTree_)}function Ej(t,e){let n,i=t.transactionQueueTree_;for(n=hn(e);n!==null&&ap(i)===void 0;)i=rE(i,n),e=di(e),n=hn(e);return i}function Tj(t,e){const n=[];return Cj(t,e,n),n.sort((i,r)=>i.order-r.order),n}function Cj(t,e,n){const i=ap(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);sE(e,r=>{Cj(t,r,n)})}function uE(t,e){const n=ap(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,WI(e,n.length>0?n:void 0)}sE(e,i=>{uE(t,i)})}function qI(t,e){const n=Fx(Ej(t,e)),i=rE(t.transactionQueueTree_,e);return nde(i,r=>{wC(t,r)}),wC(t,i),gj(i,r=>{wC(t,r)}),n}function wC(t,e){const n=ap(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Nd(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?WI(e,void 0):n.length=s+1,Uo(t.eventQueue_,Fx(e),r);for(let o=0;o<i.length;o++)ev(i[o])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mde(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function Ade(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Bs(`Invalid query segment '${n}' in query '${t}'`)}return e}const YL=function(t,e){const n=Pde(t),i=n.namespace;n.domain==="firebase.com"&&mu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&mu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ble();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new k8(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Jn(n.pathString)}},Pde=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(r=Mde(t.substring(d,h)));const p=Ade(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=i}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KL="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ide=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=KL.charAt(n%64),n=Math.floor(n/64);Ke(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=KL.charAt(e[r]);return Ke(o.length===20,"nextPushId: Length should be 20."),o}}();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rde{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yr(this.snapshot.exportVal())}}class kde{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mj{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ke(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XI{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return vn(this._path)?null:bI(this._path)}get ref(){return new ic(this._repo,this._path)}get _queryIdentifier(){const e=LL(this._queryParams),n=vI(e);return n==="{}"?"default":n}get _queryObject(){return LL(this._queryParams)}isEqual(e){if(e=Dr(e),!(e instanceof XI))return!1;const n=this._repo===e._repo,i=SI(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sce(this._path)}}class ic extends XI{constructor(e,n){super(e,n,new CI,!1)}get parent(){const e=V8(this._path);return e===null?null:new ic(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class kg{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Jn(e),i=il(this.ref,e);return new kg(this._node.getChild(n),i,Ri)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new kg(r,il(this.ref,i),Ri)))}hasChild(e){const n=new Jn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _i(t,e){return t=Dr(t),t._checkNotDeleted("ref"),e!==void 0?il(t._root,e):t._root}function il(t,e){return t=Dr(t),hn(t._path)===null?cde("child","path",e):_j("child","path",e),new ic(t._repo,Bi(t._path,e))}function DS(t,e){t=Dr(t),oE("push",t._path),xj("push",e,t._path,!0);const n=wj(t._repo),i=Ide(n),r=il(t,i),s=il(t,i);let o;return e!=null?o=YI(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function OS(t){return oE("remove",t._path),YI(t,null)}function YI(t,e){t=Dr(t),oE("set",t._path),xj("set",e,t._path,!1);const n=new Kg;return xde(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Aj(t,e){lde("update",e,t._path);const n=new Kg;return _de(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function tl(t){t=Dr(t);const e=new Mj(()=>{}),n=new dE(e);return yde(t._repo,t,n).then(i=>new kg(i,new ic(t._repo,t._path),t._queryParams.getIndex()))}class dE{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Rde("value",this,new kg(e.snapshotNode,new ic(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kde(this,e,n):null}matches(e){return e instanceof dE?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Nde(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,c=(d,h)=>{XL(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Mj(n,s||void 0),a=new dE(o);return Sde(t._repo,t,a),()=>XL(t._repo,t,a)}function nP(t,e,n,i){return Nde(t,"value",e,n,i)}Lue(ic);Bue(ic);/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lde="FIREBASE_DATABASE_EMULATOR_HOST",iP={};let Dde=!1;function Ode(t,e,n,i){t.repoInfo_=new k8(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function Fde(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||mu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=YL(s,r),a=o.repoInfo,l;typeof process<"u"&&gL&&(l=gL[Lde]),l?(s=`http://${l}?ns=${a.namespace}`,o=YL(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new Kle(t.name,t.options,e);ude("Invalid Firebase Database URL",o),vn(o.path)||mu("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Bde(a,t,c,new Yle(t,n));return new Ude(d,t)}function zde(t,e){const n=iP[e];(!n||n[t.key]!==t)&&mu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wde(t),delete n[t.key]}function Bde(t,e,n,i){let r=iP[e.name];r||(r={},iP[e.name]=r);let s=r[t.toURLString()];return s&&mu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mde(t,Dde,n,i),r[t.toURLString()]=s,s}class Ude{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gde(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ic(this._repo,Nn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zde(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mu("Cannot call "+e+" on a deleted database.")}}function uo(t=kV(),e){const n=oI(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Hre("database");i&&Vde(n,...i)}return n}function Vde(t,e,n,i={}){t=Dr(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&Vh(i,s.repoInfo_.emulatorOptions))return;mu("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&mu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hb(Hb.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:Gre(i.mockUserToken,t.app.options.projectId);o=new Hb(a)}Ode(s,r,i,o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jde(t){Lle(Qg),Tg(new jh("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Fde(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Ud(vL,yL,t),Ud(vL,yL,"esm2017")}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wde{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function FS(t,e,n){var i;if(t=Dr(t),oE("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(i=void 0)!==null&&i!==void 0?i:!0,s=new Kg,o=(l,c,d)=>{let h=null;l?s.reject(l):(h=new kg(d,new ic(t._repo,t._path),Ri),s.resolve(new Wde(c,h)))},a=nP(t,()=>{});return Ede(t._repo,t._path,e,o,a,r),s.promise}ou.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ou.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jde();const Hde={apiKey:"AIzaSyDxXkITg6FBLtodHZ7fZej5pwgxiDs0rNc",authDomain:"bpa-web-1d994.firebaseapp.com",projectId:"bpa-web-1d994",storageBucket:"bpa-web-1d994.firebasestorage.app",messagingSenderId:"81824784556",appId:"1=81824784556=web=be68cc61cedcd7d077ff09",measurementId:"G-Q2KXJTK4FY"},Gde=RV(Hde),Dl=Ile();uo(Gde);const $0=()=>{const[t,e]=z.useState(""),[n,i]=z.useState(""),[r,s]=z.useState(null),[o,a]=z.useState(""),[l,c]=z.useState(""),[d,h]=z.useState(""),[p,v]=z.useState(""),[y,b]=z.useState(""),S=F=>{e(F.target.value)},_=F=>{i(F.target.value)},E=async()=>{try{await vae(Dl,l8),await pae(Dl,t,n),e(""),i(""),h(""),v(""),b(""),a("Logged in successfully.")}catch(F){a(`Error signing in: ${F.message}`)}},T=async()=>{try{await hae(Dl,t,n),e(""),i(""),h(""),v(""),b(""),c("Account Created successfully.")}catch(F){c(`Error Creating Account: ${F.message}`)}},P=async()=>{try{Dl.currentUser?(await mae(Dl.currentUser,n),c("Password updated successfully.")):c("No user is currently signed in.")}catch{}},k=async()=>{try{await _ae(Dl),s(null),a("Logged out successfully.")}catch(F){console.error("Error signing out:",F)}};return z.useEffect(()=>{const F=Dl.onAuthStateChanged(D=>{s(D||null)});return()=>F()},[Dl]),{email:t,password:n,user:r,Name:d,setName:h,Phone:p,setPhone:v,DateOfBirth:y,setDateOfBirth:b,loginStatus:o,createAccountStatus:l,handleEmailChange:S,handlePasswordChange:_,handleUpdatePassword:P,handleLogin:E,handleCreateAccount:T,handleSignout:k}};function zS(t){return fi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function $de(t){return fi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function rP(t){return fi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function qde(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function Xde(t){return fi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Yde(t){return fi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Kde(t){return fi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function JL(t){return fi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function QL(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Jde(t){return fi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"},child:[]}]})(t)}function ZL(t){return fi({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const eD=SB`
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
`,tD=SB`
  0%, 100% {
    transform: scale(1) translateY(0);
  }
  50% {
    transform: scale(1.2) translateY(-10px);
  }
`;function Qde(){const t=ll(),[e,n]=z.useState(!1),[i,r]=z.useState(!1),[s,o]=z.useState(""),{user:a}=z.useContext(wu),[l,c]=z.useState(0),[d,h]=z.useState(0),[p,v]=z.useState(!1);z.useEffect(()=>{if(a){const S=uo(),_=_i(S,"users/"+(a.email?a.email.replace(".",","):""));tl(_).then(P=>{if(P.exists()){const k=P.val();o(k.Name)}}).catch(P=>{console.error(P)});const E=il(_,"/cart/totalItems"),T=il(_,"/tours/totalItems");nP(E,P=>{if(P.exists()){const k=P.val();c(k),v(!0),setTimeout(()=>v(!1),500)}},P=>{console.error(P)}),nP(T,P=>{if(P.exists()){const k=P.val();h(k),v(!0),setTimeout(()=>v(!1),500)}},P=>{console.error(P)})}},[a]);const{handleSignout:y}=$0(),b=({to:S,children:_})=>w.jsx(Ai,{to:S,onClick:()=>window.scrollTo(0,0),children:w.jsx(Rn,{fontFamily:"Sansation",fontSize:16,fontWeight:"300",bg:t.pathname===S?"white":"transparent",color:t.pathname===S?"black":"white",p:"6px 12px",textAlign:"center",onClick:()=>n(!1),transition:"color 0.3s ease",borderRadius:"8px",_after:{content:'""',display:"block",width:"0",height:t.pathname!==S?"2px":"0",bg:"#E9204F",transition:"width 0.3s ease",marginTop:t.pathname!==S?"4px":"0"},_hover:t.pathname!==S?{color:"#E9204F",_after:{width:"100%"}}:{},children:_})});return w.jsxs(w.Fragment,{children:[w.jsxs(Ya,{bg:"black",pt:{base:"3",md:"3"},pb:{base:"2",md:"2"},align:"center",justify:"center",position:"relative",w:"100%",h:{base:"72px",md:"80px"},px:4,children:[w.jsxs(Ya,{flex:"1",justify:"right",align:"center",display:{base:"none",md:"flex"},children:[w.jsx(b,{to:"/about-us",children:"ABOUT US"}),w.jsx(b,{to:"/tour",children:"TOUR"})]}),w.jsx(Rn,{mx:{base:0,md:1},children:w.jsx(Ai,{to:"/",onClick:()=>window.scrollTo(0,0),children:w.jsx(o0,{src:" /images/Full Logo.png",alt:"Home",height:"50px",transition:"transform 0.3s ease",_hover:{transform:"scale(1.1)"}})})}),w.jsxs(Ya,{flex:"1",justify:"left",align:"center",display:{base:"none",md:"flex"},children:[w.jsx(b,{to:"/store",children:"STORE"}),w.jsx(b,{to:"/contact-us",children:"CONTACT US"})]}),w.jsx(Rn,{position:"absolute",right:"0",mr:5,display:{base:"none",md:"flex"},children:w.jsx(Ya,{align:"center",children:a?w.jsxs(w.Fragment,{children:[w.jsx(Ai,{to:"/cart",children:w.jsxs(Rn,{position:"relative",children:[w.jsx(Do,{color:"white",size:"2xl",variant:"ghost",animation:p?`${eD} 0.5s`:"none",children:w.jsx(JL,{})}),(l>0||d>0)&&w.jsx(Rn,{position:"absolute",top:"3",right:"2",bg:"#E9204F",color:"white",borderRadius:"full",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",animation:p?`${tD} 0.5s`:"none",children:l+d})]})}),w.jsx(Rn,{width:"10px"}),w.jsxs(Rn,{position:"relative",children:[w.jsxs(zl,{p:5,backgroundColor:"#E9204F",onClick:()=>r(!i),_hover:{bg:"#c5173e"},_active:{bg:"#a31332"},children:["Hi, ",s.split(" ")[0]+"  ","▼"]}),i&&w.jsxs(Rn,{position:"absolute",top:"100%",right:"0",mt:2,bg:"gray.800",color:"white",boxShadow:"lg",borderRadius:"md",overflow:"hidden",zIndex:10,children:[w.jsx(Ai,{to:"/account",onClick:()=>r(!1),children:w.jsxs(Rn,{p:3,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",children:[w.jsx(ZL,{style:{marginRight:"8px"}}),"Account"]})}),w.jsxs(Rn,{p:3,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",onClick:()=>{r(!1),y()},children:[w.jsx(QL,{style:{marginRight:"8px"}}),"Logout"]})]})]})]}):w.jsxs(w.Fragment,{children:[w.jsx(Ai,{to:"/signup",children:w.jsx(zl,{p:5,children:"Sign Up"})}),w.jsx(Rn,{width:"10px"}),w.jsx(Ai,{to:"/login",children:w.jsx(zl,{p:5,backgroundColor:"#E9204F",children:"Login"})})]})})}),w.jsx(Rn,{position:"absolute",mt:0,right:"0",mr:5,display:{base:"flex",md:"none"},children:w.jsx(Do,{"aria-label":"Open menu",size:"lg",variant:"ghost",color:"white",onClick:()=>n(!0),children:w.jsx(Lre,{})})})]}),w.jsxs(Pre,{open:e,placement:"end",onOpenChange:S=>n(S.open),size:"xs",children:[w.jsx(kre,{}),w.jsxs(Mre,{bg:"#09090b",color:"white",maxWidth:"240px",children:[w.jsx(Are,{}),w.jsx(Rn,{height:"20px"}),w.jsx(Ire,{fontSize:"xl",fontWeight:"300",fontFamily:"Sansation",pl:3,children:"Menu"}),w.jsx(Rn,{height:"20px"}),w.jsx(Rre,{children:w.jsxs(Q6,{align:"start",children:[w.jsx(b,{to:"/",children:"HOME"}),w.jsx(b,{to:"/about-us",children:"ABOUT US"}),w.jsx(b,{to:"/tour",children:"TOUR"}),w.jsx(b,{to:"/store",children:"STORE"}),w.jsx(b,{to:"/contact-us",children:"CONTACT US"}),w.jsx(Rn,{mt:8,ml:3,display:"flex",justifyContent:"space-between",width:"60%",children:w.jsx(Ya,{align:"center",children:a?w.jsxs(w.Fragment,{children:[w.jsx(Ai,{to:"/cart",children:w.jsxs(Rn,{position:"relative",children:[w.jsx(Do,{color:"white",size:"2xl",variant:"ghost",animation:p?`${eD} 0.5s`:"none",children:w.jsx(JL,{})}),w.jsx(Rn,{position:"absolute",top:"3",right:"2",bg:"#E9204F",color:"white",borderRadius:"full",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",animation:p?`${tD} 0.5s`:"none",children:"1"})]})}),w.jsx(Rn,{width:"10px"}),w.jsxs(Rn,{position:"relative",children:[w.jsx(Rn,{children:w.jsxs(zl,{position:"relative",p:5,backgroundColor:"#E9204F",onClick:()=>r(!i),children:["Hi, ",s.split(" ")[0]+"  ","▼"]})}),i&&w.jsxs(Rn,{position:"absolute",top:"100%",right:"0",mt:2,bg:"gray.800",color:"white",boxShadow:"md",borderRadius:"md",overflow:"hidden",children:[w.jsx(Ai,{to:"/account",onClick:()=>r(!1),children:w.jsxs(Rn,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",children:[w.jsx(ZL,{style:{marginRight:"8px"}}),"Account"]})}),w.jsxs(Rn,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",onClick:y,children:[w.jsx(QL,{style:{marginRight:"8px"}}),"Logout"]})]})]})]}):w.jsxs(w.Fragment,{children:[w.jsx(Ai,{to:"/signup",children:w.jsx(zl,{p:5,children:"Sign Up"})}),w.jsx(Rn,{width:"10px"}),w.jsx(Ai,{to:"/login",children:w.jsx(zl,{p:5,backgroundColor:"#E9204F",children:"Login"})})]})})})]})})]})]})]})}const EC=({frontside_imageUrl:t,icon:e,frontside_title:n,inside_title:i,inside_imageUrl:r,inside_description:s})=>w.jsx("div",{className:"flip-card",children:w.jsxs("div",{className:"flip-card-inner",children:[w.jsxs("div",{className:"flip-card-front",children:[w.jsx("img",{src:t,alt:"Frontside",className:"card-image"}),w.jsx("div",{className:"front-content",children:w.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px"},children:n})})]}),w.jsxs("div",{className:"flip-card-back",children:[w.jsx("img",{src:r,alt:"Inside",className:"card-image"}),w.jsxs("div",{className:"back-content",children:[w.jsx(e,{className:"icon"}),w.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px"},children:i}),w.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.5",textAlign:"center",padding:"0 20px"},children:s})]})]})]})});function nD(t){return fi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Zde(t){return fi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function Pj(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(t)}function efe(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M421.84 37.37a25.86 25.86 0 0 0-22.6-4.46L199.92 86.49A32.3 32.3 0 0 0 176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0 0 23.23 45.63A54.78 54.78 0 0 0 135.34 480a55.82 55.82 0 0 0 17.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 0 0 208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 0 1 5 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 0 0 304 375.92a55.67 55.67 0 0 0 23.23 45.8 54.63 54.63 0 0 0 49.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 0 0 432 375.92V58a25.74 25.74 0 0 0-10.16-20.63z"},child:[]}]})(t)}const tfe=({imageUrl:t,title:e,date:n,duration:i,tracks:r})=>w.jsxs("div",{className:"album-card",children:[w.jsx("div",{className:"album-cover",children:w.jsx("img",{src:t,alt:e})}),w.jsxs("div",{className:"album-details",children:[w.jsx("h2",{className:"album-name",children:e}),w.jsxs("div",{className:"album-info",children:[w.jsxs("span",{children:[w.jsx("span",{className:"album-icon",children:w.jsx(zS,{})}),n]}),w.jsxs("span",{children:[w.jsx("span",{className:"album-icon",children:w.jsx(Zde,{})}),i," min"]}),w.jsxs("span",{children:[w.jsx("span",{className:"album-icon",children:w.jsx(efe,{})}),r," tracks"]})]})]})]});function rc(){return w.jsx(Rn,{bg:"#09090b",py:4,fontFamily:"Sansation",fontWeight:"700",fontSize:"14px",position:"relative",width:"100%",height:"auto",pt:8,children:w.jsxs(Ya,{direction:"column",align:"center",justify:"center",maxW:"1200px",mx:"auto",px:6,gap:4,height:"auto",children:[w.jsxs(Ya,{justify:"center",gap:6,mb:4,children:[w.jsx(xm,{href:"https://open.spotify.com/user/3134f72ql3dn4z6gbrvcrgcs4vqa",children:w.jsx(o0,{src:" /images/Spotify.png",alt:"Spotify",height:"24px"})}),w.jsx(xm,{href:"https://music.apple.com",children:w.jsx(o0,{src:" /images/Apple.png",alt:"Apple Music",height:"24px"})}),w.jsx(xm,{href:"https://music.youtube.com/channel/UC_-Opt2taZLj_xpxP1utQxw?feature=shared",children:w.jsx(o0,{src:" /images/Youtube.png",alt:"Youtube",height:"24px"})})]}),w.jsx(gr,{color:"white",mb:2,children:"© 2025 Stage Fright"}),w.jsxs(Ya,{gap:4,justify:"center",align:"center",direction:"row",children:[w.jsx(Ai,{to:"/contact-us",color:"white",onClick:()=>window.scrollTo(0,0),children:w.jsx(xm,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Contact Us"})}),w.jsx(gr,{color:"white",children:"|"}),w.jsx(Ai,{to:"/terms",color:"white",onClick:()=>window.scrollTo(0,0),children:w.jsx(xm,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Terms"})}),w.jsx(gr,{color:"white",children:"|"}),w.jsx(Ai,{to:"/privacy",color:"white",onClick:()=>window.scrollTo(0,0),children:w.jsx(xm,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Privacy"})})]})]})})}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ux="168",nfe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ife={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ij=0,sP=1,Rj=2,rfe=3,kj=0,fE=1,h0=2,$a=3,gu=0,Us=1,Ja=2,au=0,Rh=1,oP=2,aP=3,lP=4,Nj=5,Pd=100,Lj=101,Dj=102,Oj=103,Fj=104,zj=200,Bj=201,Uj=202,Vj=203,BS=204,US=205,jj=206,Wj=207,Hj=208,Gj=209,$j=210,qj=211,Xj=212,Yj=213,Kj=214,Jj=0,Qj=1,Zj=2,q0=3,eW=4,tW=5,nW=6,iW=7,Vx=0,rW=1,sW=2,ql=0,oW=1,aW=2,lW=3,KI=4,cW=5,uW=6,dW=7,cP="attached",fW="detached",hE=300,vu=301,$d=302,X0=303,Y0=304,iv=306,K0=1e3,ca=1001,J0=1002,Lr=1003,JI=1004,sfe=1004,tg=1005,ofe=1005,ir=1006,p0=1007,afe=1007,Bl=1008,lfe=1008,rl=1009,QI=1010,ZI=1011,Ng=1012,pE=1013,yu=1014,ao=1015,rv=1016,mE=1017,gE=1018,Xh=1020,eR=35902,tR=1021,nR=1022,ys=1023,iR=1024,rR=1025,kh=1026,Yh=1027,vE=1028,jx=1029,sR=1030,yE=1031,cfe=1032,xE=1033,m0=33776,g0=33777,v0=33778,y0=33779,VS=35840,jS=35841,WS=35842,HS=35843,GS=36196,$S=37492,qS=37496,XS=37808,YS=37809,KS=37810,JS=37811,QS=37812,ZS=37813,ew=37814,tw=37815,nw=37816,iw=37817,rw=37818,sw=37819,ow=37820,aw=37821,x0=36492,lw=36494,cw=36495,oR=36283,uw=36284,dw=36285,fw=36286,hW=2200,pW=2201,mW=2202,Q0=2300,hw=2301,Gb=2302,Eh=2400,Th=2401,Z0=2402,_E=2500,aR=2501,ufe=0,dfe=1,ffe=2,gW=3200,vW=3201,hfe=3202,pfe=3203,tf=0,yW=1,Yc="",oa="srgb",Mu="srgb-linear",bE="display-p3",Wx="display-p3-linear",ex="linear",li="srgb",tx="rec709",nx="p3",mfe=0,mh=7680,gfe=7681,vfe=7682,yfe=7683,xfe=34055,_fe=34056,bfe=5386,Sfe=512,wfe=513,Efe=514,Tfe=515,Cfe=516,Mfe=517,Afe=518,uP=519,xW=512,_W=513,bW=514,lR=515,SW=516,wW=517,EW=518,TW=519,ix=35044,Pfe=35048,Ife=35040,Rfe=35045,kfe=35049,Nfe=35041,Lfe=35046,Dfe=35050,Ofe=35042,Ffe="100",dP="300 es",Ul=2e3,rx=2001;class sc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const fs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let iD=1234567;const Nh=Math.PI/180,Lg=180/Math.PI;function Oo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(fs[t&255]+fs[t>>8&255]+fs[t>>16&255]+fs[t>>24&255]+"-"+fs[e&255]+fs[e>>8&255]+"-"+fs[e>>16&15|64]+fs[e>>24&255]+"-"+fs[n&63|128]+fs[n>>8&255]+"-"+fs[n>>16&255]+fs[n>>24&255]+fs[i&255]+fs[i>>8&255]+fs[i>>16&255]+fs[i>>24&255]).toLowerCase()}function zi(t,e,n){return Math.max(e,Math.min(n,t))}function cR(t,e){return(t%e+e)%e}function zfe(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Bfe(t,e,n){return t!==e?(n-t)/(e-t):0}function _0(t,e,n){return(1-n)*t+n*e}function Ufe(t,e,n,i){return _0(t,e,1-Math.exp(-n*i))}function Vfe(t,e=1){return e-Math.abs(cR(t,e*2)-e)}function jfe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Wfe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Hfe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Gfe(t,e){return t+Math.random()*(e-t)}function $fe(t){return t*(.5-Math.random())}function qfe(t){t!==void 0&&(iD=t);let e=iD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Xfe(t){return t*Nh}function Yfe(t){return t*Lg}function Kfe(t){return(t&t-1)===0&&t!==0}function Jfe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Qfe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Zfe(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),v=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":t.set(a*d,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*d,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*d,a*c);break;case"XZX":t.set(a*d,l*y,l*v,a*c);break;case"YXY":t.set(l*v,a*d,l*y,a*c);break;case"ZYZ":t.set(l*y,l*v,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Os(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function nn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const CW={DEG2RAD:Nh,RAD2DEG:Lg,generateUUID:Oo,clamp:zi,euclideanModulo:cR,mapLinear:zfe,inverseLerp:Bfe,lerp:_0,damp:Ufe,pingpong:Vfe,smoothstep:jfe,smootherstep:Wfe,randInt:Hfe,randFloat:Gfe,randFloatSpread:$fe,seededRandom:qfe,degToRad:Xfe,radToDeg:Yfe,isPowerOfTwo:Kfe,ceilPowerOfTwo:Jfe,floorPowerOfTwo:Qfe,setQuaternionFromProperEuler:Zfe,normalize:nn,denormalize:Os};class De{constructor(e=0,n=0){De.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(zi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tn{constructor(e,n,i,r,s,o,a,l,c){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=n,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],p=i[2],v=i[5],y=i[8],b=r[0],S=r[3],_=r[6],E=r[1],T=r[4],P=r[7],k=r[2],F=r[5],D=r[8];return s[0]=o*b+a*E+l*k,s[3]=o*S+a*T+l*F,s[6]=o*_+a*P+l*D,s[1]=c*b+d*E+h*k,s[4]=c*S+d*T+h*F,s[7]=c*_+d*P+h*D,s[2]=p*b+v*E+y*k,s[5]=p*S+v*T+y*F,s[8]=p*_+v*P+y*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,v=c*s-o*l,y=n*h+i*p+r*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/y;return e[0]=h*b,e[1]=(r*c-d*i)*b,e[2]=(a*i-r*o)*b,e[3]=p*b,e[4]=(d*n-r*l)*b,e[5]=(r*s-a*n)*b,e[6]=v*b,e[7]=(i*l-c*n)*b,e[8]=(o*n-i*s)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(TC.makeScale(e,n)),this}rotate(e){return this.premultiply(TC.makeRotation(-e)),this}translate(e,n){return this.premultiply(TC.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const TC=new tn;function MW(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const ehe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ng(t,e){return new ehe[t](e)}function sx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function AW(){const t=sx("canvas");return t.style.display="block",t}const rD={};function xg(t){t in rD||(rD[t]=!0,console.warn(t))}function the(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const sD=new tn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),oD=new tn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),by={[Mu]:{transfer:ex,primaries:tx,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[oa]:{transfer:li,primaries:tx,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Wx]:{transfer:ex,primaries:nx,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(oD),fromReference:t=>t.applyMatrix3(sD)},[bE]:{transfer:li,primaries:nx,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(oD),fromReference:t=>t.applyMatrix3(sD).convertLinearToSRGB()}},nhe=new Set([Mu,Wx]),kn={enabled:!0,_workingColorSpace:Mu,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!nhe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=by[e].toReference,r=by[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return by[t].primaries},getTransfer:function(t){return t===Yc?ex:by[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(by[e].luminanceCoefficients)}};function _g(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function CC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let bm;class PW{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{bm===void 0&&(bm=sx("canvas")),bm.width=e.width,bm.height=e.height;const i=bm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=bm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=sx("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=_g(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(_g(n[i]/255)*255):n[i]=_g(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ihe=0;class Ch{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ihe++}),this.uuid=Oo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(MC(r[o].image)):s.push(MC(r[o]))}else s=MC(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function MC(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?PW.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let rhe=0;class Si extends sc{constructor(e=Si.DEFAULT_IMAGE,n=Si.DEFAULT_MAPPING,i=ca,r=ca,s=ir,o=Bl,a=ys,l=rl,c=Si.DEFAULT_ANISOTROPY,d=Yc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:rhe++}),this.uuid=Oo(),this.name="",this.source=new Ch(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==hE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case K0:e.x=e.x-Math.floor(e.x);break;case ca:e.x=e.x<0?0:1;break;case J0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case K0:e.y=e.y-Math.floor(e.y);break;case ca:e.y=e.y<0?0:1;break;case J0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Si.DEFAULT_IMAGE=null;Si.DEFAULT_MAPPING=hE;Si.DEFAULT_ANISOTROPY=1;class Tn{constructor(e=0,n=0,i=0,r=1){Tn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],v=l[5],y=l[9],b=l[2],S=l[6],_=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-b)<.01&&Math.abs(y-S)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+b)<.1&&Math.abs(y+S)<.1&&Math.abs(c+v+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(c+1)/2,P=(v+1)/2,k=(_+1)/2,F=(d+p)/4,D=(h+b)/4,B=(y+S)/4;return T>P&&T>k?T<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(T),r=F/i,s=D/i):P>k?P<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(P),i=F/r,s=B/r):k<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(k),i=D/s,r=B/s),this.set(i,r,s,n),this}let E=Math.sqrt((S-y)*(S-y)+(h-b)*(h-b)+(p-d)*(p-d));return Math.abs(E)<.001&&(E=1),this.x=(S-y)/E,this.y=(h-b)/E,this.z=(p-d)/E,this.w=Math.acos((c+v+_-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class IW extends sc{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Tn(0,0,e,n),this.scissorTest=!1,this.viewport=new Tn(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ir,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new Si(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ch(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class sl extends IW{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class SE extends Si{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Lr,this.minFilter=Lr,this.wrapR=ca,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class she extends sl{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new SE(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class uR extends Si{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Lr,this.minFilter=Lr,this.wrapR=ca,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ohe extends sl{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new uR(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class _r{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],v=s[o+1],y=s[o+2],b=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=v,e[n+2]=y,e[n+3]=b;return}if(h!==b||l!==p||c!==v||d!==y){let S=1-a;const _=l*p+c*v+d*y+h*b,E=_>=0?1:-1,T=1-_*_;if(T>Number.EPSILON){const k=Math.sqrt(T),F=Math.atan2(k,_*E);S=Math.sin(S*F)/k,a=Math.sin(a*F)/k}const P=a*E;if(l=l*S+p*P,c=c*S+v*P,d=d*S+y*P,h=h*S+b*P,S===1-a){const k=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=k,c*=k,d*=k,h*=k}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[o],p=s[o+1],v=s[o+2],y=s[o+3];return e[n]=a*y+d*h+l*v-c*p,e[n+1]=l*y+d*p+c*h-a*v,e[n+2]=c*y+d*v+a*p-l*h,e[n+3]=d*y-a*h-l*p-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),v=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*v*y,this._y=c*v*h-p*d*y,this._z=c*d*y+p*v*h,this._w=c*d*h-p*v*y;break;case"YXZ":this._x=p*d*h+c*v*y,this._y=c*v*h-p*d*y,this._z=c*d*y-p*v*h,this._w=c*d*h+p*v*y;break;case"ZXY":this._x=p*d*h-c*v*y,this._y=c*v*h+p*d*y,this._z=c*d*y+p*v*h,this._w=c*d*h-p*v*y;break;case"ZYX":this._x=p*d*h-c*v*y,this._y=c*v*h+p*d*y,this._z=c*d*y-p*v*h,this._w=c*d*h+p*v*y;break;case"YZX":this._x=p*d*h+c*v*y,this._y=c*v*h+p*d*y,this._z=c*d*y-p*v*h,this._w=c*d*h-p*v*y;break;case"XZY":this._x=p*d*h-c*v*y,this._y=c*v*h-p*d*y,this._z=c*d*y+p*v*h,this._w=c*d*h+p*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],h=n[10],p=i+a+h;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(d-l)*v,this._y=(s-c)*v,this._z=(o-r)*v}else if(i>a&&i>h){const v=2*Math.sqrt(1+i-a-h);this._w=(d-l)/v,this._x=.25*v,this._y=(r+o)/v,this._z=(s+c)/v}else if(a>h){const v=2*Math.sqrt(1+a-i-h);this._w=(s-c)/v,this._x=(r+o)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+h-i-a);this._w=(o-r)/v,this._x=(s+c)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zi(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*i+n*this._x,this._y=v*r+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-n)*d)/c,p=Math.sin(n*d)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,i=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(aD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(aD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),d=2*(a*n-s*r),h=2*(s*i-o*n);return this.x=n+l*c+o*h-a*d,this.y=i+l*d+a*c-s*h,this.z=r+l*h+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return AC.copy(this).projectOnVector(e),this.sub(AC)}reflect(e){return this.sub(AC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(zi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const AC=new te,aD=new _r;class Vs{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Va.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Va.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Va.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Va):Va.fromBufferAttribute(s,o),Va.applyMatrix4(e.matrixWorld),this.expandByPoint(Va);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),y1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),y1.copy(i.boundingBox)),y1.applyMatrix4(e.matrixWorld),this.union(y1)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Va),Va.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sy),x1.subVectors(this.max,Sy),Sm.subVectors(e.a,Sy),wm.subVectors(e.b,Sy),Em.subVectors(e.c,Sy),fd.subVectors(wm,Sm),hd.subVectors(Em,wm),Qf.subVectors(Sm,Em);let n=[0,-fd.z,fd.y,0,-hd.z,hd.y,0,-Qf.z,Qf.y,fd.z,0,-fd.x,hd.z,0,-hd.x,Qf.z,0,-Qf.x,-fd.y,fd.x,0,-hd.y,hd.x,0,-Qf.y,Qf.x,0];return!PC(n,Sm,wm,Em,x1)||(n=[1,0,0,0,1,0,0,0,1],!PC(n,Sm,wm,Em,x1))?!1:(_1.crossVectors(fd,hd),n=[_1.x,_1.y,_1.z],PC(n,Sm,wm,Em,x1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Va).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Va).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Uc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Uc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Uc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Uc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Uc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Uc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Uc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Uc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Uc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Uc=[new te,new te,new te,new te,new te,new te,new te,new te],Va=new te,y1=new Vs,Sm=new te,wm=new te,Em=new te,fd=new te,hd=new te,Qf=new te,Sy=new te,x1=new te,_1=new te,Zf=new te;function PC(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Zf.fromArray(t,s);const a=r.x*Math.abs(Zf.x)+r.y*Math.abs(Zf.y)+r.z*Math.abs(Zf.z),l=e.dot(Zf),c=n.dot(Zf),d=i.dot(Zf);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const ahe=new Vs,wy=new te,IC=new te;class _s{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):ahe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wy.subVectors(e,this.center);const n=wy.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(wy,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(IC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wy.copy(e.center).add(IC)),this.expandByPoint(wy.copy(e.center).sub(IC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Vc=new te,RC=new te,b1=new te,pd=new te,kC=new te,S1=new te,NC=new te;class sv{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Vc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Vc.copy(this.origin).addScaledVector(this.direction,n),Vc.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){RC.copy(e).add(n).multiplyScalar(.5),b1.copy(n).sub(e).normalize(),pd.copy(this.origin).sub(RC);const s=e.distanceTo(n)*.5,o=-this.direction.dot(b1),a=pd.dot(this.direction),l=-pd.dot(b1),c=pd.lengthSq(),d=Math.abs(1-o*o);let h,p,v,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const b=1/d;h*=b,p*=b,v=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),v=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),v=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),v=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(RC).addScaledVector(b1,p),v}intersectSphere(e,n){Vc.subVectors(e.center,this.origin);const i=Vc.dot(this.direction),r=Vc.dot(Vc)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Vc)!==null}intersectTriangle(e,n,i,r,s){kC.subVectors(n,e),S1.subVectors(i,e),NC.crossVectors(kC,S1);let o=this.direction.dot(NC),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;pd.subVectors(this.origin,e);const l=a*this.direction.dot(S1.crossVectors(pd,S1));if(l<0)return null;const c=a*this.direction.dot(kC.cross(pd));if(c<0||l+c>o)return null;const d=-a*pd.dot(NC);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Dt{constructor(e,n,i,r,s,o,a,l,c,d,h,p,v,y,b,S){Dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,d,h,p,v,y,b,S)}set(e,n,i,r,s,o,a,l,c,d,h,p,v,y,b,S){const _=this.elements;return _[0]=e,_[4]=n,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=d,_[10]=h,_[14]=p,_[3]=v,_[7]=y,_[11]=b,_[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Dt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Tm.setFromMatrixColumn(e,0).length(),s=1/Tm.setFromMatrixColumn(e,1).length(),o=1/Tm.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,v=o*h,y=a*d,b=a*h;n[0]=l*d,n[4]=-l*h,n[8]=c,n[1]=v+y*c,n[5]=p-b*c,n[9]=-a*l,n[2]=b-p*c,n[6]=y+v*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*d,v=l*h,y=c*d,b=c*h;n[0]=p+b*a,n[4]=y*a-v,n[8]=o*c,n[1]=o*h,n[5]=o*d,n[9]=-a,n[2]=v*a-y,n[6]=b+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*d,v=l*h,y=c*d,b=c*h;n[0]=p-b*a,n[4]=-o*h,n[8]=y+v*a,n[1]=v+y*a,n[5]=o*d,n[9]=b-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*d,v=o*h,y=a*d,b=a*h;n[0]=l*d,n[4]=y*c-v,n[8]=p*c+b,n[1]=l*h,n[5]=b*c+p,n[9]=v*c-y,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,v=o*c,y=a*l,b=a*c;n[0]=l*d,n[4]=b-p*h,n[8]=y*h+v,n[1]=h,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=v*h+y,n[10]=p-b*h}else if(e.order==="XZY"){const p=o*l,v=o*c,y=a*l,b=a*c;n[0]=l*d,n[4]=-h,n[8]=c*d,n[1]=p*h+b,n[5]=o*d,n[9]=v*h-y,n[2]=y*h-v,n[6]=a*d,n[10]=b*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lhe,e,che)}lookAt(e,n,i){const r=this.elements;return Co.subVectors(e,n),Co.lengthSq()===0&&(Co.z=1),Co.normalize(),md.crossVectors(i,Co),md.lengthSq()===0&&(Math.abs(i.z)===1?Co.x+=1e-4:Co.z+=1e-4,Co.normalize(),md.crossVectors(i,Co)),md.normalize(),w1.crossVectors(Co,md),r[0]=md.x,r[4]=w1.x,r[8]=Co.x,r[1]=md.y,r[5]=w1.y,r[9]=Co.y,r[2]=md.z,r[6]=w1.z,r[10]=Co.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],p=i[9],v=i[13],y=i[2],b=i[6],S=i[10],_=i[14],E=i[3],T=i[7],P=i[11],k=i[15],F=r[0],D=r[4],B=r[8],N=r[12],R=r[1],U=r[5],W=r[9],Y=r[13],ee=r[2],K=r[6],Z=r[10],G=r[14],j=r[3],Q=r[7],ne=r[11],q=r[15];return s[0]=o*F+a*R+l*ee+c*j,s[4]=o*D+a*U+l*K+c*Q,s[8]=o*B+a*W+l*Z+c*ne,s[12]=o*N+a*Y+l*G+c*q,s[1]=d*F+h*R+p*ee+v*j,s[5]=d*D+h*U+p*K+v*Q,s[9]=d*B+h*W+p*Z+v*ne,s[13]=d*N+h*Y+p*G+v*q,s[2]=y*F+b*R+S*ee+_*j,s[6]=y*D+b*U+S*K+_*Q,s[10]=y*B+b*W+S*Z+_*ne,s[14]=y*N+b*Y+S*G+_*q,s[3]=E*F+T*R+P*ee+k*j,s[7]=E*D+T*U+P*K+k*Q,s[11]=E*B+T*W+P*Z+k*ne,s[15]=E*N+T*Y+P*G+k*q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],v=e[14],y=e[3],b=e[7],S=e[11],_=e[15];return y*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*v-i*l*v)+b*(+n*l*v-n*c*p+s*o*p-r*o*v+r*c*d-s*l*d)+S*(+n*c*h-n*a*v-s*o*h+i*o*v+s*a*d-i*c*d)+_*(-r*a*d-n*l*h+n*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],v=e[11],y=e[12],b=e[13],S=e[14],_=e[15],E=h*S*c-b*p*c+b*l*v-a*S*v-h*l*_+a*p*_,T=y*p*c-d*S*c-y*l*v+o*S*v+d*l*_-o*p*_,P=d*b*c-y*h*c+y*a*v-o*b*v-d*a*_+o*h*_,k=y*h*l-d*b*l-y*a*p+o*b*p+d*a*S-o*h*S,F=n*E+i*T+r*P+s*k;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/F;return e[0]=E*D,e[1]=(b*p*s-h*S*s-b*r*v+i*S*v+h*r*_-i*p*_)*D,e[2]=(a*S*s-b*l*s+b*r*c-i*S*c-a*r*_+i*l*_)*D,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*v-i*l*v)*D,e[4]=T*D,e[5]=(d*S*s-y*p*s+y*r*v-n*S*v-d*r*_+n*p*_)*D,e[6]=(y*l*s-o*S*s-y*r*c+n*S*c+o*r*_-n*l*_)*D,e[7]=(o*p*s-d*l*s+d*r*c-n*p*c-o*r*v+n*l*v)*D,e[8]=P*D,e[9]=(y*h*s-d*b*s-y*i*v+n*b*v+d*i*_-n*h*_)*D,e[10]=(o*b*s-y*a*s+y*i*c-n*b*c-o*i*_+n*a*_)*D,e[11]=(d*a*s-o*h*s-d*i*c+n*h*c+o*i*v-n*a*v)*D,e[12]=k*D,e[13]=(d*b*r-y*h*r+y*i*p-n*b*p-d*i*S+n*h*S)*D,e[14]=(y*a*r-o*b*r-y*i*l+n*b*l+o*i*S-n*a*S)*D,e[15]=(o*h*r-d*a*r+d*i*l-n*h*l-o*i*p+n*a*p)*D,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,d=o+o,h=a+a,p=s*c,v=s*d,y=s*h,b=o*d,S=o*h,_=a*h,E=l*c,T=l*d,P=l*h,k=i.x,F=i.y,D=i.z;return r[0]=(1-(b+_))*k,r[1]=(v+P)*k,r[2]=(y-T)*k,r[3]=0,r[4]=(v-P)*F,r[5]=(1-(p+_))*F,r[6]=(S+E)*F,r[7]=0,r[8]=(y+T)*D,r[9]=(S-E)*D,r[10]=(1-(p+b))*D,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Tm.set(r[0],r[1],r[2]).length();const o=Tm.set(r[4],r[5],r[6]).length(),a=Tm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ja.copy(this);const c=1/s,d=1/o,h=1/a;return ja.elements[0]*=c,ja.elements[1]*=c,ja.elements[2]*=c,ja.elements[4]*=d,ja.elements[5]*=d,ja.elements[6]*=d,ja.elements[8]*=h,ja.elements[9]*=h,ja.elements[10]*=h,n.setFromRotationMatrix(ja),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Ul){const l=this.elements,c=2*s/(n-e),d=2*s/(i-r),h=(n+e)/(n-e),p=(i+r)/(i-r);let v,y;if(a===Ul)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===rx)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Ul){const l=this.elements,c=1/(n-e),d=1/(i-r),h=1/(o-s),p=(n+e)*c,v=(i+r)*d;let y,b;if(a===Ul)y=(o+s)*h,b=-2*h;else if(a===rx)y=s*h,b=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=b,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Tm=new te,ja=new Dt,lhe=new te(0,0,0),che=new te(1,1,1),md=new te,w1=new te,Co=new te,lD=new Dt,cD=new _r;class fo{constructor(e=0,n=0,i=0,r=fo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],h=r[2],p=r[6],v=r[10];switch(n){case"XYZ":this._y=Math.asin(zi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-zi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(zi(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-zi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(zi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-zi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return lD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lD,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return cD.setFromEuler(this),this.setFromQuaternion(cD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}fo.DEFAULT_ORDER="XYZ";class Lh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uhe=0;const uD=new te,Cm=new _r,jc=new Dt,E1=new te,Ey=new te,dhe=new te,fhe=new _r,dD=new te(1,0,0),fD=new te(0,1,0),hD=new te(0,0,1),pD={type:"added"},hhe={type:"removed"},Mm={type:"childadded",child:null},LC={type:"childremoved",child:null};class An extends sc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uhe++}),this.uuid=Oo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=An.DEFAULT_UP.clone();const e=new te,n=new fo,i=new _r,r=new te(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Dt},normalMatrix:{value:new tn}}),this.matrix=new Dt,this.matrixWorld=new Dt,this.matrixAutoUpdate=An.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Lh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Cm.setFromAxisAngle(e,n),this.quaternion.multiply(Cm),this}rotateOnWorldAxis(e,n){return Cm.setFromAxisAngle(e,n),this.quaternion.premultiply(Cm),this}rotateX(e){return this.rotateOnAxis(dD,e)}rotateY(e){return this.rotateOnAxis(fD,e)}rotateZ(e){return this.rotateOnAxis(hD,e)}translateOnAxis(e,n){return uD.copy(e).applyQuaternion(this.quaternion),this.position.add(uD.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(dD,e)}translateY(e){return this.translateOnAxis(fD,e)}translateZ(e){return this.translateOnAxis(hD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(jc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?E1.copy(e):E1.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ey.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?jc.lookAt(Ey,E1,this.up):jc.lookAt(E1,Ey,this.up),this.quaternion.setFromRotationMatrix(jc),r&&(jc.extractRotation(r.matrixWorld),Cm.setFromRotationMatrix(jc),this.quaternion.premultiply(Cm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(pD),Mm.child=e,this.dispatchEvent(Mm),Mm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(hhe),LC.child=e,this.dispatchEvent(LC),LC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),jc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),jc.multiply(e.parent.matrixWorld)),e.applyMatrix4(jc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(pD),Mm.child=e,this.dispatchEvent(Mm),Mm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ey,e,dhe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ey,fhe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),v.length>0&&(i.animations=v),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}An.DEFAULT_UP=new te(0,1,0);An.DEFAULT_MATRIX_AUTO_UPDATE=!0;An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Wa=new te,Wc=new te,DC=new te,Hc=new te,Am=new te,Pm=new te,mD=new te,OC=new te,FC=new te,zC=new te;class No{constructor(e=new te,n=new te,i=new te){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Wa.subVectors(e,n),r.cross(Wa);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Wa.subVectors(r,n),Wc.subVectors(i,n),DC.subVectors(e,n);const o=Wa.dot(Wa),a=Wa.dot(Wc),l=Wa.dot(DC),c=Wc.dot(Wc),d=Wc.dot(DC),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,v=(c*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-v-y,y,v)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Hc)===null?!1:Hc.x>=0&&Hc.y>=0&&Hc.x+Hc.y<=1}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,Hc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Hc.x),l.addScaledVector(o,Hc.y),l.addScaledVector(a,Hc.z),l)}static isFrontFacing(e,n,i,r){return Wa.subVectors(i,n),Wc.subVectors(e,n),Wa.cross(Wc).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Wa.subVectors(this.c,this.b),Wc.subVectors(this.a,this.b),Wa.cross(Wc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return No.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return No.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return No.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return No.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return No.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Am.subVectors(r,i),Pm.subVectors(s,i),OC.subVectors(e,i);const l=Am.dot(OC),c=Pm.dot(OC);if(l<=0&&c<=0)return n.copy(i);FC.subVectors(e,r);const d=Am.dot(FC),h=Pm.dot(FC);if(d>=0&&h<=d)return n.copy(r);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(i).addScaledVector(Am,o);zC.subVectors(e,s);const v=Am.dot(zC),y=Pm.dot(zC);if(y>=0&&v<=y)return n.copy(s);const b=v*c-l*y;if(b<=0&&c>=0&&y<=0)return a=c/(c-y),n.copy(i).addScaledVector(Pm,a);const S=d*y-v*h;if(S<=0&&h-d>=0&&v-y>=0)return mD.subVectors(s,r),a=(h-d)/(h-d+(v-y)),n.copy(r).addScaledVector(mD,a);const _=1/(S+b+p);return o=b*_,a=p*_,n.copy(i).addScaledVector(Am,o).addScaledVector(Pm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const RW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gd={h:0,s:0,l:0},T1={h:0,s:0,l:0};function BC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ft{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=oa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,kn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=kn.workingColorSpace){return this.r=e,this.g=n,this.b=i,kn.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=kn.workingColorSpace){if(e=cR(e,1),n=zi(n,0,1),i=zi(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=BC(o,s,e+1/3),this.g=BC(o,s,e),this.b=BC(o,s,e-1/3)}return kn.toWorkingColorSpace(this,r),this}setStyle(e,n=oa){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=oa){const i=RW[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_g(e.r),this.g=_g(e.g),this.b=_g(e.b),this}copyLinearToSRGB(e){return this.r=CC(e.r),this.g=CC(e.g),this.b=CC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=oa){return kn.fromWorkingColorSpace(hs.copy(this),e),Math.round(zi(hs.r*255,0,255))*65536+Math.round(zi(hs.g*255,0,255))*256+Math.round(zi(hs.b*255,0,255))}getHexString(e=oa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=kn.workingColorSpace){kn.fromWorkingColorSpace(hs.copy(this),n);const i=hs.r,r=hs.g,s=hs.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=kn.workingColorSpace){return kn.fromWorkingColorSpace(hs.copy(this),n),e.r=hs.r,e.g=hs.g,e.b=hs.b,e}getStyle(e=oa){kn.fromWorkingColorSpace(hs.copy(this),e);const n=hs.r,i=hs.g,r=hs.b;return e!==oa?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(gd),this.setHSL(gd.h+e,gd.s+n,gd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(gd),e.getHSL(T1);const i=_0(gd.h,T1.h,n),r=_0(gd.s,T1.s,n),s=_0(gd.l,T1.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const hs=new ft;ft.NAMES=RW;let phe=0;class Ss extends sc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:phe++}),this.uuid=Oo(),this.name="",this.type="Material",this.blending=Rh,this.side=gu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=BS,this.blendDst=US,this.blendEquation=Pd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ft(0,0,0),this.blendAlpha=0,this.depthFunc=q0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mh,this.stencilZFail=mh,this.stencilZPass=mh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rh&&(i.blending=this.blending),this.side!==gu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==BS&&(i.blendSrc=this.blendSrc),this.blendDst!==US&&(i.blendDst=this.blendDst),this.blendEquation!==Pd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==q0&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uP&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==mh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==mh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class nf extends Ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.combine=Vx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Kc=mhe();function mhe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function ro(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=zi(t,-65504,65504),Kc.floatView[0]=t;const e=Kc.uint32View[0],n=e>>23&511;return Kc.baseTable[n]+((e&8388607)>>Kc.shiftTable[n])}function Jy(t){const e=t>>10;return Kc.uint32View[0]=Kc.mantissaTable[Kc.offsetTable[e]+(t&1023)]+Kc.exponentTable[e],Kc.floatView[0]}const ghe={toHalfFloat:ro,fromHalfFloat:Jy},Zi=new te,C1=new De;class Kn{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=ix,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ao,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return xg("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)C1.fromBufferAttribute(this,n),C1.applyMatrix3(e),this.setXY(n,C1.x,C1.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.applyMatrix3(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.applyMatrix4(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.applyNormalMatrix(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.transformDirection(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Os(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=nn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Os(n,this.array)),n}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Os(n,this.array)),n}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Os(n,this.array)),n}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Os(n,this.array)),n}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array),s=nn(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ix&&(e.usage=this.usage),e}}class vhe extends Kn{constructor(e,n,i){super(new Int8Array(e),n,i)}}class yhe extends Kn{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class xhe extends Kn{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class _he extends Kn{constructor(e,n,i){super(new Int16Array(e),n,i)}}class dR extends Kn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class bhe extends Kn{constructor(e,n,i){super(new Int32Array(e),n,i)}}class fR extends Kn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class She extends Kn{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Jy(this.array[e*this.itemSize]);return this.normalized&&(n=Os(n,this.array)),n}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize]=ro(n),this}getY(e){let n=Jy(this.array[e*this.itemSize+1]);return this.normalized&&(n=Os(n,this.array)),n}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+1]=ro(n),this}getZ(e){let n=Jy(this.array[e*this.itemSize+2]);return this.normalized&&(n=Os(n,this.array)),n}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+2]=ro(n),this}getW(e){let n=Jy(this.array[e*this.itemSize+3]);return this.normalized&&(n=Os(n,this.array)),n}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+3]=ro(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array)),this.array[e+0]=ro(n),this.array[e+1]=ro(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[e+0]=ro(n),this.array[e+1]=ro(i),this.array[e+2]=ro(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array),s=nn(s,this.array)),this.array[e+0]=ro(n),this.array[e+1]=ro(i),this.array[e+2]=ro(r),this.array[e+3]=ro(s),this}}class wt extends Kn{constructor(e,n,i){super(new Float32Array(e),n,i)}}let whe=0;const na=new Dt,UC=new An,Im=new te,Mo=new Vs,Ty=new Vs,Ir=new te;class ln extends sc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:whe++}),this.uuid=Oo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(MW(e)?fR:dR)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new tn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return na.makeRotationFromQuaternion(e),this.applyMatrix4(na),this}rotateX(e){return na.makeRotationX(e),this.applyMatrix4(na),this}rotateY(e){return na.makeRotationY(e),this.applyMatrix4(na),this}rotateZ(e){return na.makeRotationZ(e),this.applyMatrix4(na),this}translate(e,n,i){return na.makeTranslation(e,n,i),this.applyMatrix4(na),this}scale(e,n,i){return na.makeScale(e,n,i),this.applyMatrix4(na),this}lookAt(e){return UC.lookAt(e),UC.updateMatrix(),this.applyMatrix4(UC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Im).negate(),this.translate(Im.x,Im.y,Im.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new wt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Mo.setFromBufferAttribute(s),this.morphTargetsRelative?(Ir.addVectors(this.boundingBox.min,Mo.min),this.boundingBox.expandByPoint(Ir),Ir.addVectors(this.boundingBox.max,Mo.max),this.boundingBox.expandByPoint(Ir)):(this.boundingBox.expandByPoint(Mo.min),this.boundingBox.expandByPoint(Mo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _s);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const i=this.boundingSphere.center;if(Mo.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Ty.setFromBufferAttribute(a),this.morphTargetsRelative?(Ir.addVectors(Mo.min,Ty.min),Mo.expandByPoint(Ir),Ir.addVectors(Mo.max,Ty.max),Mo.expandByPoint(Ir)):(Mo.expandByPoint(Ty.min),Mo.expandByPoint(Ty.max))}Mo.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Ir.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ir));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Ir.fromBufferAttribute(a,c),l&&(Im.fromBufferAttribute(e,c),Ir.add(Im)),r=Math.max(r,i.distanceToSquared(Ir))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let B=0;B<i.count;B++)a[B]=new te,l[B]=new te;const c=new te,d=new te,h=new te,p=new De,v=new De,y=new De,b=new te,S=new te;function _(B,N,R){c.fromBufferAttribute(i,B),d.fromBufferAttribute(i,N),h.fromBufferAttribute(i,R),p.fromBufferAttribute(s,B),v.fromBufferAttribute(s,N),y.fromBufferAttribute(s,R),d.sub(c),h.sub(c),v.sub(p),y.sub(p);const U=1/(v.x*y.y-y.x*v.y);isFinite(U)&&(b.copy(d).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar(U),S.copy(h).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(U),a[B].add(b),a[N].add(b),a[R].add(b),l[B].add(S),l[N].add(S),l[R].add(S))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let B=0,N=E.length;B<N;++B){const R=E[B],U=R.start,W=R.count;for(let Y=U,ee=U+W;Y<ee;Y+=3)_(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const T=new te,P=new te,k=new te,F=new te;function D(B){k.fromBufferAttribute(r,B),F.copy(k);const N=a[B];T.copy(N),T.sub(k.multiplyScalar(k.dot(N))).normalize(),P.crossVectors(F,N);const U=P.dot(l[B])<0?-1:1;o.setXYZW(B,T.x,T.y,T.z,U)}for(let B=0,N=E.length;B<N;++B){const R=E[B],U=R.start,W=R.count;for(let Y=U,ee=U+W;Y<ee;Y+=3)D(e.getX(Y+0)),D(e.getX(Y+1)),D(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Kn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,v=i.count;p<v;p++)i.setXYZ(p,0,0,0);const r=new te,s=new te,o=new te,a=new te,l=new te,c=new te,d=new te,h=new te;if(e)for(let p=0,v=e.count;p<v;p+=3){const y=e.getX(p+0),b=e.getX(p+1),S=e.getX(p+2);r.fromBufferAttribute(n,y),s.fromBufferAttribute(n,b),o.fromBufferAttribute(n,S),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,b),c.fromBufferAttribute(i,S),a.add(d),l.add(d),c.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(b,l.x,l.y,l.z),i.setXYZ(S,c.x,c.y,c.z)}else for(let p=0,v=n.count;p<v;p+=3)r.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ir.fromBufferAttribute(e,n),Ir.normalize(),e.setXYZ(n,Ir.x,Ir.y,Ir.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let v=0,y=0;for(let b=0,S=l.length;b<S;b++){a.isInterleavedBufferAttribute?v=l[b]*a.data.stride+a.offset:v=l[b]*d;for(let _=0;_<d;_++)p[y++]=c[v++]}return new Kn(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ln,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],v=e(p,i);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const v=c[h];d.push(v.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,v=h.length;p<v;p++)d.push(h[p].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gD=new Dt,eh=new sv,M1=new _s,vD=new te,Rm=new te,km=new te,Nm=new te,VC=new te,A1=new te,P1=new De,I1=new De,R1=new De,yD=new te,xD=new te,_D=new te,k1=new te,N1=new te;class rr extends An{constructor(e=new ln,n=new nf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){A1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(VC.fromBufferAttribute(h,e),o?A1.addScaledVector(VC,d):A1.addScaledVector(VC.sub(n),d))}n.add(A1)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),M1.copy(i.boundingSphere),M1.applyMatrix4(s),eh.copy(e.ray).recast(e.near),!(M1.containsPoint(eh.origin)===!1&&(eh.intersectSphere(M1,vD)===null||eh.origin.distanceToSquared(vD)>(e.far-e.near)**2))&&(gD.copy(s).invert(),eh.copy(e.ray).applyMatrix4(gD),!(i.boundingBox!==null&&eh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,eh)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,p=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,b=p.length;y<b;y++){const S=p[y],_=o[S.materialIndex],E=Math.max(S.start,v.start),T=Math.min(a.count,Math.min(S.start+S.count,v.start+v.count));for(let P=E,k=T;P<k;P+=3){const F=a.getX(P),D=a.getX(P+1),B=a.getX(P+2);r=L1(this,_,e,i,c,d,h,F,D,B),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const y=Math.max(0,v.start),b=Math.min(a.count,v.start+v.count);for(let S=y,_=b;S<_;S+=3){const E=a.getX(S),T=a.getX(S+1),P=a.getX(S+2);r=L1(this,o,e,i,c,d,h,E,T,P),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,b=p.length;y<b;y++){const S=p[y],_=o[S.materialIndex],E=Math.max(S.start,v.start),T=Math.min(l.count,Math.min(S.start+S.count,v.start+v.count));for(let P=E,k=T;P<k;P+=3){const F=P,D=P+1,B=P+2;r=L1(this,_,e,i,c,d,h,F,D,B),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const y=Math.max(0,v.start),b=Math.min(l.count,v.start+v.count);for(let S=y,_=b;S<_;S+=3){const E=S,T=S+1,P=S+2;r=L1(this,o,e,i,c,d,h,E,T,P),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}}}function Ehe(t,e,n,i,r,s,o,a){let l;if(e.side===Us?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===gu,a),l===null)return null;N1.copy(a),N1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(N1);return c<n.near||c>n.far?null:{distance:c,point:N1.clone(),object:t}}function L1(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,Rm),t.getVertexPosition(l,km),t.getVertexPosition(c,Nm);const d=Ehe(t,e,n,i,Rm,km,Nm,k1);if(d){r&&(P1.fromBufferAttribute(r,a),I1.fromBufferAttribute(r,l),R1.fromBufferAttribute(r,c),d.uv=No.getInterpolation(k1,Rm,km,Nm,P1,I1,R1,new De)),s&&(P1.fromBufferAttribute(s,a),I1.fromBufferAttribute(s,l),R1.fromBufferAttribute(s,c),d.uv1=No.getInterpolation(k1,Rm,km,Nm,P1,I1,R1,new De)),o&&(yD.fromBufferAttribute(o,a),xD.fromBufferAttribute(o,l),_D.fromBufferAttribute(o,c),d.normal=No.getInterpolation(k1,Rm,km,Nm,yD,xD,_D,new te),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new te,materialIndex:0};No.getNormal(Rm,km,Nm,h.normal),d.face=h}return d}class lp extends ln{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,v=0;y("z","y","x",-1,-1,i,n,e,o,s,0),y("z","y","x",1,-1,i,n,-e,o,s,1),y("x","z","y",1,1,e,i,n,r,o,2),y("x","z","y",1,-1,e,i,-n,r,o,3),y("x","y","z",1,-1,e,n,i,r,s,4),y("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new wt(c,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(h,2));function y(b,S,_,E,T,P,k,F,D,B,N){const R=P/D,U=k/B,W=P/2,Y=k/2,ee=F/2,K=D+1,Z=B+1;let G=0,j=0;const Q=new te;for(let ne=0;ne<Z;ne++){const q=ne*U-Y;for(let ae=0;ae<K;ae++){const Re=ae*R-W;Q[b]=Re*E,Q[S]=q*T,Q[_]=ee,c.push(Q.x,Q.y,Q.z),Q[b]=0,Q[S]=0,Q[_]=F>0?1:-1,d.push(Q.x,Q.y,Q.z),h.push(ae/D),h.push(1-ne/B),G+=1}}for(let ne=0;ne<B;ne++)for(let q=0;q<D;q++){const ae=p+q+K*ne,Re=p+q+K*(ne+1),he=p+(q+1)+K*(ne+1),ve=p+(q+1)+K*ne;l.push(ae,Re,ve),l.push(Re,he,ve),j+=6}a.addGroup(v,j,N),v+=j,p+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Dg(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ds(t){const e={};for(let n=0;n<t.length;n++){const i=Dg(t[n]);for(const r in i)e[r]=i[r]}return e}function The(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function kW(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:kn.workingColorSpace}const hR={clone:Dg,merge:Ds};var Che=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Mhe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ha extends Ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Che,this.fragmentShader=Mhe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Dg(e.uniforms),this.uniformsGroups=The(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class Hx extends An{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Dt,this.projectionMatrix=new Dt,this.projectionMatrixInverse=new Dt,this.coordinateSystem=Ul}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const vd=new te,bD=new De,SD=new De;class Nr extends Hx{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Lg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lg*2*Math.atan(Math.tan(Nh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){vd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(vd.x,vd.y).multiplyScalar(-e/vd.z),vd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(vd.x,vd.y).multiplyScalar(-e/vd.z)}getViewSize(e,n){return this.getViewBounds(e,bD,SD),n.subVectors(SD,bD)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Nh*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Lm=-90,Dm=1;class NW extends An{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Nr(Lm,Dm,e,n);r.layers=this.layers,this.add(r);const s=new Nr(Lm,Dm,e,n);s.layers=this.layers,this.add(s);const o=new Nr(Lm,Dm,e,n);o.layers=this.layers,this.add(o);const a=new Nr(Lm,Dm,e,n);a.layers=this.layers,this.add(a);const l=new Nr(Lm,Dm,e,n);l.layers=this.layers,this.add(l);const c=new Nr(Lm,Dm,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Ul)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===rx)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const b=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=b,e.setRenderTarget(i,5,r),e.render(n,d),e.setRenderTarget(h,p,v),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class Gx extends Si{constructor(e,n,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],n=n!==void 0?n:vu,super(e,n,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class LW extends sl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Gx(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ir}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new lp(5,5,5),s=new ha({name:"CubemapFromEquirect",uniforms:Dg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Us,blending:au});s.uniforms.tEquirect.value=n;const o=new rr(r,s),a=n.minFilter;return n.minFilter===Bl&&(n.minFilter=ir),new NW(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const jC=new te,Ahe=new te,Phe=new tn;class Ed{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=jC.subVectors(i,n).cross(Ahe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(jC),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Phe.getNormalMatrix(e),r=this.coplanarPoint(jC).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const th=new _s,D1=new te;class $x{constructor(e=new Ed,n=new Ed,i=new Ed,r=new Ed,s=new Ed,o=new Ed){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ul){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],d=r[5],h=r[6],p=r[7],v=r[8],y=r[9],b=r[10],S=r[11],_=r[12],E=r[13],T=r[14],P=r[15];if(i[0].setComponents(l-s,p-c,S-v,P-_).normalize(),i[1].setComponents(l+s,p+c,S+v,P+_).normalize(),i[2].setComponents(l+o,p+d,S+y,P+E).normalize(),i[3].setComponents(l-o,p-d,S-y,P-E).normalize(),i[4].setComponents(l-a,p-h,S-b,P-T).normalize(),n===Ul)i[5].setComponents(l+a,p+h,S+b,P+T).normalize();else if(n===rx)i[5].setComponents(a,h,b,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),th.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),th.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(th)}intersectsSprite(e){return th.center.set(0,0,0),th.radius=.7071067811865476,th.applyMatrix4(e.matrixWorld),this.intersectsSphere(th)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(D1.x=r.normal.x>0?e.max.x:e.min.x,D1.y=r.normal.y>0?e.max.y:e.min.y,D1.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(D1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function DW(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Ihe(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,h=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,d),a.onUploadCallback();let v;if(c instanceof Float32Array)v=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?v=t.HALF_FLOAT:v=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=t.SHORT;else if(c instanceof Uint32Array)v=t.UNSIGNED_INT;else if(c instanceof Int32Array)v=t.INT;else if(c instanceof Int8Array)v=t.BYTE;else if(c instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function i(a,l,c){const d=l.array,h=l._updateRange,p=l.updateRanges;if(t.bindBuffer(c,a),h.count===-1&&p.length===0&&t.bufferSubData(c,0,d),p.length!==0){for(let v=0,y=p.length;v<y;v++){const b=p[v];t.bufferSubData(c,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}l.clearUpdateRanges()}h.count!==-1&&(t.bufferSubData(c,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count),h.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class ov extends ln{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,h=e/a,p=n/l,v=[],y=[],b=[],S=[];for(let _=0;_<d;_++){const E=_*p-o;for(let T=0;T<c;T++){const P=T*h-s;y.push(P,-E,0),b.push(0,0,1),S.push(T/a),S.push(1-_/l)}}for(let _=0;_<l;_++)for(let E=0;E<a;E++){const T=E+c*_,P=E+c*(_+1),k=E+1+c*(_+1),F=E+1+c*_;v.push(T,P,F),v.push(P,k,F)}this.setIndex(v),this.setAttribute("position",new wt(y,3)),this.setAttribute("normal",new wt(b,3)),this.setAttribute("uv",new wt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ov(e.width,e.height,e.widthSegments,e.heightSegments)}}var Rhe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,khe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Nhe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lhe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Dhe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Ohe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Fhe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,zhe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Bhe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Uhe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Vhe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jhe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Whe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Hhe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ghe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$he=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,qhe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Xhe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Yhe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Khe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Jhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Qhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Zhe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,epe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tpe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,npe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ipe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rpe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,spe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ope=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ape="gl_FragColor = linearToOutputTexel( gl_FragColor );",lpe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,cpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,upe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,dpe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,fpe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ppe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mpe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gpe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vpe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ype=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xpe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_pe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bpe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Spe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,wpe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Epe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Tpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Cpe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Mpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ape=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Ppe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Ipe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Rpe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,kpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Npe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Lpe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Dpe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ope=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Fpe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,zpe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Bpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Upe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vpe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jpe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Wpe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Hpe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Gpe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$pe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,qpe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Xpe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Ype=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Kpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Qpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zpe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,eme=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tme=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,nme=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ime=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,rme=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,sme=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ome=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ame=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,lme=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,cme=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ume=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,dme=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,fme=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,hme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,pme=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,mme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,gme=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vme=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,yme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xme=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_me=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,bme=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Sme=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wme=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Eme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Tme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Cme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Mme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ame=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Pme=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ime=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Rme=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nme=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Dme=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ome=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Fme=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,zme=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Bme=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Ume=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Vme=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jme=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wme=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Gme=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$me=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qme=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xme=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Yme=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Jme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Qme=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zme=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ege=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tge=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nge=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ige=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rge=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oge=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,age=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,lge=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,on={alphahash_fragment:Rhe,alphahash_pars_fragment:khe,alphamap_fragment:Nhe,alphamap_pars_fragment:Lhe,alphatest_fragment:Dhe,alphatest_pars_fragment:Ohe,aomap_fragment:Fhe,aomap_pars_fragment:zhe,batching_pars_vertex:Bhe,batching_vertex:Uhe,begin_vertex:Vhe,beginnormal_vertex:jhe,bsdfs:Whe,iridescence_fragment:Hhe,bumpmap_pars_fragment:Ghe,clipping_planes_fragment:$he,clipping_planes_pars_fragment:qhe,clipping_planes_pars_vertex:Xhe,clipping_planes_vertex:Yhe,color_fragment:Khe,color_pars_fragment:Jhe,color_pars_vertex:Qhe,color_vertex:Zhe,common:epe,cube_uv_reflection_fragment:tpe,defaultnormal_vertex:npe,displacementmap_pars_vertex:ipe,displacementmap_vertex:rpe,emissivemap_fragment:spe,emissivemap_pars_fragment:ope,colorspace_fragment:ape,colorspace_pars_fragment:lpe,envmap_fragment:cpe,envmap_common_pars_fragment:upe,envmap_pars_fragment:dpe,envmap_pars_vertex:fpe,envmap_physical_pars_fragment:wpe,envmap_vertex:hpe,fog_vertex:ppe,fog_pars_vertex:mpe,fog_fragment:gpe,fog_pars_fragment:vpe,gradientmap_pars_fragment:ype,lightmap_pars_fragment:xpe,lights_lambert_fragment:_pe,lights_lambert_pars_fragment:bpe,lights_pars_begin:Spe,lights_toon_fragment:Epe,lights_toon_pars_fragment:Tpe,lights_phong_fragment:Cpe,lights_phong_pars_fragment:Mpe,lights_physical_fragment:Ape,lights_physical_pars_fragment:Ppe,lights_fragment_begin:Ipe,lights_fragment_maps:Rpe,lights_fragment_end:kpe,logdepthbuf_fragment:Npe,logdepthbuf_pars_fragment:Lpe,logdepthbuf_pars_vertex:Dpe,logdepthbuf_vertex:Ope,map_fragment:Fpe,map_pars_fragment:zpe,map_particle_fragment:Bpe,map_particle_pars_fragment:Upe,metalnessmap_fragment:Vpe,metalnessmap_pars_fragment:jpe,morphinstance_vertex:Wpe,morphcolor_vertex:Hpe,morphnormal_vertex:Gpe,morphtarget_pars_vertex:$pe,morphtarget_vertex:qpe,normal_fragment_begin:Xpe,normal_fragment_maps:Ype,normal_pars_fragment:Kpe,normal_pars_vertex:Jpe,normal_vertex:Qpe,normalmap_pars_fragment:Zpe,clearcoat_normal_fragment_begin:eme,clearcoat_normal_fragment_maps:tme,clearcoat_pars_fragment:nme,iridescence_pars_fragment:ime,opaque_fragment:rme,packing:sme,premultiplied_alpha_fragment:ome,project_vertex:ame,dithering_fragment:lme,dithering_pars_fragment:cme,roughnessmap_fragment:ume,roughnessmap_pars_fragment:dme,shadowmap_pars_fragment:fme,shadowmap_pars_vertex:hme,shadowmap_vertex:pme,shadowmask_pars_fragment:mme,skinbase_vertex:gme,skinning_pars_vertex:vme,skinning_vertex:yme,skinnormal_vertex:xme,specularmap_fragment:_me,specularmap_pars_fragment:bme,tonemapping_fragment:Sme,tonemapping_pars_fragment:wme,transmission_fragment:Eme,transmission_pars_fragment:Tme,uv_pars_fragment:Cme,uv_pars_vertex:Mme,uv_vertex:Ame,worldpos_vertex:Pme,background_vert:Ime,background_frag:Rme,backgroundCube_vert:kme,backgroundCube_frag:Nme,cube_vert:Lme,cube_frag:Dme,depth_vert:Ome,depth_frag:Fme,distanceRGBA_vert:zme,distanceRGBA_frag:Bme,equirect_vert:Ume,equirect_frag:Vme,linedashed_vert:jme,linedashed_frag:Wme,meshbasic_vert:Hme,meshbasic_frag:Gme,meshlambert_vert:$me,meshlambert_frag:qme,meshmatcap_vert:Xme,meshmatcap_frag:Yme,meshnormal_vert:Kme,meshnormal_frag:Jme,meshphong_vert:Qme,meshphong_frag:Zme,meshphysical_vert:ege,meshphysical_frag:tge,meshtoon_vert:nge,meshtoon_frag:ige,points_vert:rge,points_frag:sge,shadow_vert:oge,shadow_frag:age,sprite_vert:lge,sprite_frag:cge},ot={common:{diffuse:{value:new ft(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},envMapRotation:{value:new tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new ft(16777215)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},Xa={basic:{uniforms:Ds([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:Ds([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new ft(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:Ds([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new ft(0)},specular:{value:new ft(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:Ds([ot.common,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.roughnessmap,ot.metalnessmap,ot.fog,ot.lights,{emissive:{value:new ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:Ds([ot.common,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.gradientmap,ot.fog,ot.lights,{emissive:{value:new ft(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:Ds([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:Ds([ot.points,ot.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:Ds([ot.common,ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:Ds([ot.common,ot.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:Ds([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:Ds([ot.sprite,ot.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tn}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:Ds([ot.common,ot.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:Ds([ot.lights,ot.fog,{color:{value:new ft(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};Xa.physical={uniforms:Ds([Xa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new De(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new ft(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new De},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new ft(0)},specularColor:{value:new ft(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new De},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const O1={r:0,b:0,g:0},nh=new fo,uge=new Dt;function dge(t,e,n,i,r,s,o){const a=new ft(0);let l=s===!0?0:1,c,d,h=null,p=0,v=null;function y(E){let T=E.isScene===!0?E.background:null;return T&&T.isTexture&&(T=(E.backgroundBlurriness>0?n:e).get(T)),T}function b(E){let T=!1;const P=y(E);P===null?_(a,l):P&&P.isColor&&(_(P,1),T=!0);const k=t.xr.getEnvironmentBlendMode();k==="additive"?i.buffers.color.setClear(0,0,0,1,o):k==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||T)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(E,T){const P=y(T);P&&(P.isCubeTexture||P.mapping===iv)?(d===void 0&&(d=new rr(new lp(1,1,1),new ha({name:"BackgroundCubeMaterial",uniforms:Dg(Xa.backgroundCube.uniforms),vertexShader:Xa.backgroundCube.vertexShader,fragmentShader:Xa.backgroundCube.fragmentShader,side:Us,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(k,F,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),nh.copy(T.backgroundRotation),nh.x*=-1,nh.y*=-1,nh.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(nh.y*=-1,nh.z*=-1),d.material.uniforms.envMap.value=P,d.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(uge.makeRotationFromEuler(nh)),d.material.toneMapped=kn.getTransfer(P.colorSpace)!==li,(h!==P||p!==P.version||v!==t.toneMapping)&&(d.material.needsUpdate=!0,h=P,p=P.version,v=t.toneMapping),d.layers.enableAll(),E.unshift(d,d.geometry,d.material,0,0,null)):P&&P.isTexture&&(c===void 0&&(c=new rr(new ov(2,2),new ha({name:"BackgroundMaterial",uniforms:Dg(Xa.background.uniforms),vertexShader:Xa.background.vertexShader,fragmentShader:Xa.background.fragmentShader,side:gu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=P,c.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,c.material.toneMapped=kn.getTransfer(P.colorSpace)!==li,P.matrixAutoUpdate===!0&&P.updateMatrix(),c.material.uniforms.uvTransform.value.copy(P.matrix),(h!==P||p!==P.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,h=P,p=P.version,v=t.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null))}function _(E,T){E.getRGB(O1,kW(t)),i.buffers.color.setClear(O1.r,O1.g,O1.b,T,o)}return{getClearColor:function(){return a},setClearColor:function(E,T=1){a.set(E),l=T,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,_(a,l)},render:b,addToRenderList:S}}function fge(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(R,U,W,Y,ee){let K=!1;const Z=h(Y,W,U);s!==Z&&(s=Z,c(s.object)),K=v(R,Y,W,ee),K&&y(R,Y,W,ee),ee!==null&&e.update(ee,t.ELEMENT_ARRAY_BUFFER),(K||o)&&(o=!1,P(R,U,W,Y),ee!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function l(){return t.createVertexArray()}function c(R){return t.bindVertexArray(R)}function d(R){return t.deleteVertexArray(R)}function h(R,U,W){const Y=W.wireframe===!0;let ee=i[R.id];ee===void 0&&(ee={},i[R.id]=ee);let K=ee[U.id];K===void 0&&(K={},ee[U.id]=K);let Z=K[Y];return Z===void 0&&(Z=p(l()),K[Y]=Z),Z}function p(R){const U=[],W=[],Y=[];for(let ee=0;ee<n;ee++)U[ee]=0,W[ee]=0,Y[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:W,attributeDivisors:Y,object:R,attributes:{},index:null}}function v(R,U,W,Y){const ee=s.attributes,K=U.attributes;let Z=0;const G=W.getAttributes();for(const j in G)if(G[j].location>=0){const ne=ee[j];let q=K[j];if(q===void 0&&(j==="instanceMatrix"&&R.instanceMatrix&&(q=R.instanceMatrix),j==="instanceColor"&&R.instanceColor&&(q=R.instanceColor)),ne===void 0||ne.attribute!==q||q&&ne.data!==q.data)return!0;Z++}return s.attributesNum!==Z||s.index!==Y}function y(R,U,W,Y){const ee={},K=U.attributes;let Z=0;const G=W.getAttributes();for(const j in G)if(G[j].location>=0){let ne=K[j];ne===void 0&&(j==="instanceMatrix"&&R.instanceMatrix&&(ne=R.instanceMatrix),j==="instanceColor"&&R.instanceColor&&(ne=R.instanceColor));const q={};q.attribute=ne,ne&&ne.data&&(q.data=ne.data),ee[j]=q,Z++}s.attributes=ee,s.attributesNum=Z,s.index=Y}function b(){const R=s.newAttributes;for(let U=0,W=R.length;U<W;U++)R[U]=0}function S(R){_(R,0)}function _(R,U){const W=s.newAttributes,Y=s.enabledAttributes,ee=s.attributeDivisors;W[R]=1,Y[R]===0&&(t.enableVertexAttribArray(R),Y[R]=1),ee[R]!==U&&(t.vertexAttribDivisor(R,U),ee[R]=U)}function E(){const R=s.newAttributes,U=s.enabledAttributes;for(let W=0,Y=U.length;W<Y;W++)U[W]!==R[W]&&(t.disableVertexAttribArray(W),U[W]=0)}function T(R,U,W,Y,ee,K,Z){Z===!0?t.vertexAttribIPointer(R,U,W,ee,K):t.vertexAttribPointer(R,U,W,Y,ee,K)}function P(R,U,W,Y){b();const ee=Y.attributes,K=W.getAttributes(),Z=U.defaultAttributeValues;for(const G in K){const j=K[G];if(j.location>=0){let Q=ee[G];if(Q===void 0&&(G==="instanceMatrix"&&R.instanceMatrix&&(Q=R.instanceMatrix),G==="instanceColor"&&R.instanceColor&&(Q=R.instanceColor)),Q!==void 0){const ne=Q.normalized,q=Q.itemSize,ae=e.get(Q);if(ae===void 0)continue;const Re=ae.buffer,he=ae.type,ve=ae.bytesPerElement,Oe=he===t.INT||he===t.UNSIGNED_INT||Q.gpuType===pE;if(Q.isInterleavedBufferAttribute){const Fe=Q.data,me=Fe.stride,ye=Q.offset;if(Fe.isInstancedInterleavedBuffer){for(let je=0;je<j.locationSize;je++)_(j.location+je,Fe.meshPerAttribute);R.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let je=0;je<j.locationSize;je++)S(j.location+je);t.bindBuffer(t.ARRAY_BUFFER,Re);for(let je=0;je<j.locationSize;je++)T(j.location+je,q/j.locationSize,he,ne,me*ve,(ye+q/j.locationSize*je)*ve,Oe)}else{if(Q.isInstancedBufferAttribute){for(let Fe=0;Fe<j.locationSize;Fe++)_(j.location+Fe,Q.meshPerAttribute);R.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let Fe=0;Fe<j.locationSize;Fe++)S(j.location+Fe);t.bindBuffer(t.ARRAY_BUFFER,Re);for(let Fe=0;Fe<j.locationSize;Fe++)T(j.location+Fe,q/j.locationSize,he,ne,q*ve,q/j.locationSize*Fe*ve,Oe)}}else if(Z!==void 0){const ne=Z[G];if(ne!==void 0)switch(ne.length){case 2:t.vertexAttrib2fv(j.location,ne);break;case 3:t.vertexAttrib3fv(j.location,ne);break;case 4:t.vertexAttrib4fv(j.location,ne);break;default:t.vertexAttrib1fv(j.location,ne)}}}}E()}function k(){B();for(const R in i){const U=i[R];for(const W in U){const Y=U[W];for(const ee in Y)d(Y[ee].object),delete Y[ee];delete U[W]}delete i[R]}}function F(R){if(i[R.id]===void 0)return;const U=i[R.id];for(const W in U){const Y=U[W];for(const ee in Y)d(Y[ee].object),delete Y[ee];delete U[W]}delete i[R.id]}function D(R){for(const U in i){const W=i[U];if(W[R.id]===void 0)continue;const Y=W[R.id];for(const ee in Y)d(Y[ee].object),delete Y[ee];delete W[R.id]}}function B(){N(),o=!0,s!==r&&(s=r,c(s.object))}function N(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:B,resetDefaultState:N,dispose:k,releaseStatesOfGeometry:F,releaseStatesOfProgram:D,initAttributes:b,enableAttribute:S,disableUnusedAttributes:E}}function hge(t,e,n){let i;function r(c){i=c}function s(c,d){t.drawArrays(i,c,d),n.update(d,i,1)}function o(c,d,h){h!==0&&(t.drawArraysInstanced(i,c,d,h),n.update(d,i,h))}function a(c,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,d,0,h);let v=0;for(let y=0;y<h;y++)v+=d[y];n.update(v,i,1)}function l(c,d,h,p){if(h===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<c.length;y++)o(c[y],d[y],p[y]);else{v.multiDrawArraysInstancedWEBGL(i,c,0,d,0,p,0,h);let y=0;for(let b=0;b<h;b++)y+=d[b];for(let b=0;b<p.length;b++)n.update(y,i,p[b])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function pge(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(F){return!(F!==ys&&i.convert(F)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(F){const D=F===rv&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==rl&&i.convert(F)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==ao&&!D)}function l(F){if(F==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),E=t.getParameter(t.MAX_VARYING_VECTORS),T=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=v>0,k=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:b,maxAttributes:S,maxVertexUniforms:_,maxVaryings:E,maxFragmentUniforms:T,vertexTextures:P,maxSamples:k}}function mge(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Ed,a=new tn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const v=h.length!==0||p||i!==0||r;return r=p,i=h.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=d(h,p,0)},this.setState=function(h,p,v){const y=h.clippingPlanes,b=h.clipIntersection,S=h.clipShadows,_=t.get(h);if(!r||y===null||y.length===0||s&&!S)s?d(null):c();else{const E=s?0:i,T=E*4;let P=_.clippingState||null;l.value=P,P=d(y,p,T,v);for(let k=0;k!==T;++k)P[k]=n[k];_.clippingState=P,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=E}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,v,y){const b=h!==null?h.length:0;let S=null;if(b!==0){if(S=l.value,y!==!0||S===null){const _=v+b*4,E=p.matrixWorldInverse;a.getNormalMatrix(E),(S===null||S.length<_)&&(S=new Float32Array(_));for(let T=0,P=v;T!==b;++T,P+=4)o.copy(h[T]).applyMatrix4(E,a),o.normal.toArray(S,P),S[P+3]=o.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,S}}function gge(t){let e=new WeakMap;function n(o,a){return a===X0?o.mapping=vu:a===Y0&&(o.mapping=$d),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===X0||a===Y0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new LW(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class qx extends Hx{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const ig=4,wD=[.125,.215,.35,.446,.526,.582],_h=20,WC=new qx,ED=new ft;let HC=null,GC=0,$C=0,qC=!1;const gh=(1+Math.sqrt(5))/2,Om=1/gh,TD=[new te(-gh,Om,0),new te(gh,Om,0),new te(-Om,0,gh),new te(Om,0,gh),new te(0,gh,-Om),new te(0,gh,Om),new te(-1,1,-1),new te(1,1,-1),new te(-1,1,1),new te(1,1,1)];class fP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){HC=this._renderer.getRenderTarget(),GC=this._renderer.getActiveCubeFace(),$C=this._renderer.getActiveMipmapLevel(),qC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=AD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(HC,GC,$C),this._renderer.xr.enabled=qC,e.scissorTest=!1,F1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===vu||e.mapping===$d?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HC=this._renderer.getRenderTarget(),GC=this._renderer.getActiveCubeFace(),$C=this._renderer.getActiveMipmapLevel(),qC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:ir,minFilter:ir,generateMipmaps:!1,type:rv,format:ys,colorSpace:Mu,depthBuffer:!1},r=CD(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=CD(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=vge(s)),this._blurMaterial=yge(s,e,n)}return r}_compileMaterial(e){const n=new rr(this._lodPlanes[0],e);this._renderer.compile(n,WC)}_sceneToCubeUV(e,n,i,r){const a=new Nr(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(ED),d.toneMapping=ql,d.autoClear=!1;const v=new nf({name:"PMREM.Background",side:Us,depthWrite:!1,depthTest:!1}),y=new rr(new lp,v);let b=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,b=!0):(v.color.copy(ED),b=!0);for(let _=0;_<6;_++){const E=_%3;E===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):E===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const T=this._cubeSize;F1(r,E*T,_>2?T:0,T,T),d.setRenderTarget(r),b&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=S}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===vu||e.mapping===$d;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=AD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MD());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new rr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;F1(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,WC)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=TD[(r-s-1)%TD.length];this._blur(e,s-1,s,o,a)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new rr(this._lodPlanes[r],c),p=c.uniforms,v=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*_h-1),b=s/y,S=isFinite(s)?1+Math.floor(d*b):_h;S>_h&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${_h}`);const _=[];let E=0;for(let D=0;D<_h;++D){const B=D/b,N=Math.exp(-B*B/2);_.push(N),D===0?E+=N:D<S&&(E+=2*N)}for(let D=0;D<_.length;D++)_[D]=_[D]/E;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:T}=this;p.dTheta.value=y,p.mipInt.value=T-i;const P=this._sizeLods[r],k=3*P*(r>T-ig?r-T+ig:0),F=4*(this._cubeSize-P);F1(n,k,F,3*P,2*P),l.setRenderTarget(n),l.render(h,WC)}}function vge(t){const e=[],n=[],i=[];let r=t;const s=t-ig+1+wD.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-ig?l=wD[o-t+ig-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],v=6,y=6,b=3,S=2,_=1,E=new Float32Array(b*y*v),T=new Float32Array(S*y*v),P=new Float32Array(_*y*v);for(let F=0;F<v;F++){const D=F%3*2/3-1,B=F>2?0:-1,N=[D,B,0,D+2/3,B,0,D+2/3,B+1,0,D,B,0,D+2/3,B+1,0,D,B+1,0];E.set(N,b*y*F),T.set(p,S*y*F);const R=[F,F,F,F,F,F];P.set(R,_*y*F)}const k=new ln;k.setAttribute("position",new Kn(E,b)),k.setAttribute("uv",new Kn(T,S)),k.setAttribute("faceIndex",new Kn(P,_)),e.push(k),r>ig&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function CD(t,e,n){const i=new sl(t,e,n);return i.texture.mapping=iv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function F1(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function yge(t,e,n){const i=new Float32Array(_h),r=new te(0,1,0);return new ha({name:"SphericalGaussianBlur",defines:{n:_h,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:pR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:au,depthTest:!1,depthWrite:!1})}function MD(){return new ha({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:pR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:au,depthTest:!1,depthWrite:!1})}function AD(){return new ha({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:pR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:au,depthTest:!1,depthWrite:!1})}function pR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function xge(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===X0||l===Y0,d=l===vu||l===$d;if(c||d){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new fP(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const v=a.image;return c&&v&&v.height>0||d&&v&&r(v)?(n===null&&(n=new fP(t)),h=c?n.fromEquirectangular(a):n.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function _ge(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&xg("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function bge(t,e,n,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const b=p.morphAttributes[y];for(let S=0,_=b.length;S<_;S++)e.remove(b[S])}p.removeEventListener("dispose",o),delete r[p.id];const v=s.get(p);v&&(e.remove(v),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],t.ARRAY_BUFFER);const v=h.morphAttributes;for(const y in v){const b=v[y];for(let S=0,_=b.length;S<_;S++)e.update(b[S],t.ARRAY_BUFFER)}}function c(h){const p=[],v=h.index,y=h.attributes.position;let b=0;if(v!==null){const E=v.array;b=v.version;for(let T=0,P=E.length;T<P;T+=3){const k=E[T+0],F=E[T+1],D=E[T+2];p.push(k,F,F,D,D,k)}}else if(y!==void 0){const E=y.array;b=y.version;for(let T=0,P=E.length/3-1;T<P;T+=3){const k=T+0,F=T+1,D=T+2;p.push(k,F,F,D,D,k)}}else return;const S=new(MW(p)?fR:dR)(p,1);S.version=b;const _=s.get(h);_&&e.remove(_),s.set(h,S)}function d(h){const p=s.get(h);if(p){const v=h.index;v!==null&&p.version<v.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function Sge(t,e,n){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,v){t.drawElements(i,v,s,p*o),n.update(v,i,1)}function c(p,v,y){y!==0&&(t.drawElementsInstanced(i,v,s,p*o,y),n.update(v,i,y))}function d(p,v,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,p,0,y);let S=0;for(let _=0;_<y;_++)S+=v[_];n.update(S,i,1)}function h(p,v,y,b){if(y===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let _=0;_<p.length;_++)c(p[_]/o,v[_],b[_]);else{S.multiDrawElementsInstancedWEBGL(i,v,0,s,p,0,b,0,y);let _=0;for(let E=0;E<y;E++)_+=v[E];for(let E=0;E<b.length;E++)n.update(_,i,b[E])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function wge(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Ege(t,e,n){const i=new WeakMap,r=new Tn;function s(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=d!==void 0?d.length:0;let p=i.get(a);if(p===void 0||p.count!==h){let R=function(){B.dispose(),i.delete(a),a.removeEventListener("dispose",R)};var v=R;p!==void 0&&p.texture.dispose();const y=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,S=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],E=a.morphAttributes.normal||[],T=a.morphAttributes.color||[];let P=0;y===!0&&(P=1),b===!0&&(P=2),S===!0&&(P=3);let k=a.attributes.position.count*P,F=1;k>e.maxTextureSize&&(F=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const D=new Float32Array(k*F*4*h),B=new SE(D,k,F,h);B.type=ao,B.needsUpdate=!0;const N=P*4;for(let U=0;U<h;U++){const W=_[U],Y=E[U],ee=T[U],K=k*F*4*U;for(let Z=0;Z<W.count;Z++){const G=Z*N;y===!0&&(r.fromBufferAttribute(W,Z),D[K+G+0]=r.x,D[K+G+1]=r.y,D[K+G+2]=r.z,D[K+G+3]=0),b===!0&&(r.fromBufferAttribute(Y,Z),D[K+G+4]=r.x,D[K+G+5]=r.y,D[K+G+6]=r.z,D[K+G+7]=0),S===!0&&(r.fromBufferAttribute(ee,Z),D[K+G+8]=r.x,D[K+G+9]=r.y,D[K+G+10]=r.z,D[K+G+11]=ee.itemSize===4?r.w:1)}}p={count:h,texture:B,size:new De(k,F)},i.set(a,p),a.addEventListener("dispose",R)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let S=0;S<c.length;S++)y+=c[S];const b=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function Tge(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class mR extends Si{constructor(e,n,i,r,s,o,a,l,c,d=kh){if(d!==kh&&d!==Yh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===kh&&(i=yu),i===void 0&&d===Yh&&(i=Xh),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Lr,this.minFilter=l!==void 0?l:Lr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const OW=new Si,PD=new mR(1,1),FW=new SE,zW=new uR,BW=new Gx,ID=[],RD=[],kD=new Float32Array(16),ND=new Float32Array(9),LD=new Float32Array(4);function av(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=ID[r];if(s===void 0&&(s=new Float32Array(r),ID[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function br(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Sr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function wE(t,e){let n=RD[e];n===void 0&&(n=new Int32Array(e),RD[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Cge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Mge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(br(n,e))return;t.uniform2fv(this.addr,e),Sr(n,e)}}function Age(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(br(n,e))return;t.uniform3fv(this.addr,e),Sr(n,e)}}function Pge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(br(n,e))return;t.uniform4fv(this.addr,e),Sr(n,e)}}function Ige(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(br(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Sr(n,e)}else{if(br(n,i))return;LD.set(i),t.uniformMatrix2fv(this.addr,!1,LD),Sr(n,i)}}function Rge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(br(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Sr(n,e)}else{if(br(n,i))return;ND.set(i),t.uniformMatrix3fv(this.addr,!1,ND),Sr(n,i)}}function kge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(br(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Sr(n,e)}else{if(br(n,i))return;kD.set(i),t.uniformMatrix4fv(this.addr,!1,kD),Sr(n,i)}}function Nge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Lge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(br(n,e))return;t.uniform2iv(this.addr,e),Sr(n,e)}}function Dge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(br(n,e))return;t.uniform3iv(this.addr,e),Sr(n,e)}}function Oge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(br(n,e))return;t.uniform4iv(this.addr,e),Sr(n,e)}}function Fge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function zge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(br(n,e))return;t.uniform2uiv(this.addr,e),Sr(n,e)}}function Bge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(br(n,e))return;t.uniform3uiv(this.addr,e),Sr(n,e)}}function Uge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(br(n,e))return;t.uniform4uiv(this.addr,e),Sr(n,e)}}function Vge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(PD.compareFunction=lR,s=PD):s=OW,n.setTexture2D(e||s,r)}function jge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||zW,r)}function Wge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||BW,r)}function Hge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||FW,r)}function Gge(t){switch(t){case 5126:return Cge;case 35664:return Mge;case 35665:return Age;case 35666:return Pge;case 35674:return Ige;case 35675:return Rge;case 35676:return kge;case 5124:case 35670:return Nge;case 35667:case 35671:return Lge;case 35668:case 35672:return Dge;case 35669:case 35673:return Oge;case 5125:return Fge;case 36294:return zge;case 36295:return Bge;case 36296:return Uge;case 35678:case 36198:case 36298:case 36306:case 35682:return Vge;case 35679:case 36299:case 36307:return jge;case 35680:case 36300:case 36308:case 36293:return Wge;case 36289:case 36303:case 36311:case 36292:return Hge}}function $ge(t,e){t.uniform1fv(this.addr,e)}function qge(t,e){const n=av(e,this.size,2);t.uniform2fv(this.addr,n)}function Xge(t,e){const n=av(e,this.size,3);t.uniform3fv(this.addr,n)}function Yge(t,e){const n=av(e,this.size,4);t.uniform4fv(this.addr,n)}function Kge(t,e){const n=av(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Jge(t,e){const n=av(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Qge(t,e){const n=av(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Zge(t,e){t.uniform1iv(this.addr,e)}function eve(t,e){t.uniform2iv(this.addr,e)}function tve(t,e){t.uniform3iv(this.addr,e)}function nve(t,e){t.uniform4iv(this.addr,e)}function ive(t,e){t.uniform1uiv(this.addr,e)}function rve(t,e){t.uniform2uiv(this.addr,e)}function sve(t,e){t.uniform3uiv(this.addr,e)}function ove(t,e){t.uniform4uiv(this.addr,e)}function ave(t,e,n){const i=this.cache,r=e.length,s=wE(n,r);br(i,s)||(t.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||OW,s[o])}function lve(t,e,n){const i=this.cache,r=e.length,s=wE(n,r);br(i,s)||(t.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||zW,s[o])}function cve(t,e,n){const i=this.cache,r=e.length,s=wE(n,r);br(i,s)||(t.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||BW,s[o])}function uve(t,e,n){const i=this.cache,r=e.length,s=wE(n,r);br(i,s)||(t.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||FW,s[o])}function dve(t){switch(t){case 5126:return $ge;case 35664:return qge;case 35665:return Xge;case 35666:return Yge;case 35674:return Kge;case 35675:return Jge;case 35676:return Qge;case 5124:case 35670:return Zge;case 35667:case 35671:return eve;case 35668:case 35672:return tve;case 35669:case 35673:return nve;case 5125:return ive;case 36294:return rve;case 36295:return sve;case 36296:return ove;case 35678:case 36198:case 36298:case 36306:case 35682:return ave;case 35679:case 36299:case 36307:return lve;case 35680:case 36300:case 36308:case 36293:return cve;case 36289:case 36303:case 36311:case 36292:return uve}}class fve{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Gge(n.type)}}class hve{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=dve(n.type)}}class pve{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const XC=/(\w+)(\])?(\[|\.)?/g;function DD(t,e){t.seq.push(e),t.map[e.id]=e}function mve(t,e,n){const i=t.name,r=i.length;for(XC.lastIndex=0;;){const s=XC.exec(i),o=XC.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){DD(n,c===void 0?new fve(a,t,e):new hve(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new pve(a),DD(n,h)),n=h}}}class $b{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);mve(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function OD(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const gve=37297;let vve=0;function yve(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function xve(t){const e=kn.getPrimaries(kn.workingColorSpace),n=kn.getPrimaries(t);let i;switch(e===n?i="":e===nx&&n===tx?i="LinearDisplayP3ToLinearSRGB":e===tx&&n===nx&&(i="LinearSRGBToLinearDisplayP3"),t){case Mu:case Wx:return[i,"LinearTransferOETF"];case oa:case bE:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function FD(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+yve(t.getShaderSource(e),o)}else return r}function _ve(t,e){const n=xve(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function bve(t,e){let n;switch(e){case oW:n="Linear";break;case aW:n="Reinhard";break;case lW:n="Cineon";break;case KI:n="ACESFilmic";break;case uW:n="AgX";break;case dW:n="Neutral";break;case cW:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const z1=new te;function Sve(){kn.getLuminanceCoefficients(z1);const t=z1.x.toFixed(4),e=z1.y.toFixed(4),n=z1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function wve(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qy).join(`
`)}function Eve(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Tve(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Qy(t){return t!==""}function zD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function BD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Cve=/^[ \t]*#include +<([\w\d./]+)>/gm;function hP(t){return t.replace(Cve,Ave)}const Mve=new Map;function Ave(t,e){let n=on[e];if(n===void 0){const i=Mve.get(e);if(i!==void 0)n=on[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return hP(n)}const Pve=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UD(t){return t.replace(Pve,Ive)}function Ive(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function VD(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Rve(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===fE?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===h0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===$a&&(e="SHADOWMAP_TYPE_VSM"),e}function kve(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case vu:case $d:e="ENVMAP_TYPE_CUBE";break;case iv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Nve(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case $d:e="ENVMAP_MODE_REFRACTION";break}return e}function Lve(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Vx:e="ENVMAP_BLENDING_MULTIPLY";break;case rW:e="ENVMAP_BLENDING_MIX";break;case sW:e="ENVMAP_BLENDING_ADD";break}return e}function Dve(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Ove(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Rve(n),c=kve(n),d=Nve(n),h=Lve(n),p=Dve(n),v=wve(n),y=Eve(s),b=r.createProgram();let S,_,E=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Qy).join(`
`),S.length>0&&(S+=`
`),_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Qy).join(`
`),_.length>0&&(_+=`
`)):(S=[VD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qy).join(`
`),_=[VD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ql?"#define TONE_MAPPING":"",n.toneMapping!==ql?on.tonemapping_pars_fragment:"",n.toneMapping!==ql?bve("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",on.colorspace_pars_fragment,_ve("linearToOutputTexel",n.outputColorSpace),Sve(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qy).join(`
`)),o=hP(o),o=zD(o,n),o=BD(o,n),a=hP(a),a=zD(a,n),a=BD(a,n),o=UD(o),a=UD(a),n.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,S=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,_=["#define varying in",n.glslVersion===dP?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===dP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const T=E+S+o,P=E+_+a,k=OD(r,r.VERTEX_SHADER,T),F=OD(r,r.FRAGMENT_SHADER,P);r.attachShader(b,k),r.attachShader(b,F),n.index0AttributeName!==void 0?r.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(b,0,"position"),r.linkProgram(b);function D(U){if(t.debug.checkShaderErrors){const W=r.getProgramInfoLog(b).trim(),Y=r.getShaderInfoLog(k).trim(),ee=r.getShaderInfoLog(F).trim();let K=!0,Z=!0;if(r.getProgramParameter(b,r.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,b,k,F);else{const G=FD(r,k,"vertex"),j=FD(r,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(b,r.VALIDATE_STATUS)+`

Material Name: `+U.name+`
Material Type: `+U.type+`

Program Info Log: `+W+`
`+G+`
`+j)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(Y===""||ee==="")&&(Z=!1);Z&&(U.diagnostics={runnable:K,programLog:W,vertexShader:{log:Y,prefix:S},fragmentShader:{log:ee,prefix:_}})}r.deleteShader(k),r.deleteShader(F),B=new $b(r,b),N=Tve(r,b)}let B;this.getUniforms=function(){return B===void 0&&D(this),B};let N;this.getAttributes=function(){return N===void 0&&D(this),N};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=r.getProgramParameter(b,gve)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=vve++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=k,this.fragmentShader=F,this}let Fve=0;class zve{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Bve(e),n.set(e,i)),i}}class Bve{constructor(e){this.id=Fve++,this.code=e,this.usedTimes=0}}function Uve(t,e,n,i,r,s,o){const a=new Lh,l=new zve,c=new Set,d=[],h=r.logarithmicDepthBuffer,p=r.vertexTextures;let v=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(N){return c.add(N),N===0?"uv":`uv${N}`}function S(N,R,U,W,Y){const ee=W.fog,K=Y.geometry,Z=N.isMeshStandardMaterial?W.environment:null,G=(N.isMeshStandardMaterial?n:e).get(N.envMap||Z),j=G&&G.mapping===iv?G.image.height:null,Q=y[N.type];N.precision!==null&&(v=r.getMaxPrecision(N.precision),v!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",v,"instead."));const ne=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,q=ne!==void 0?ne.length:0;let ae=0;K.morphAttributes.position!==void 0&&(ae=1),K.morphAttributes.normal!==void 0&&(ae=2),K.morphAttributes.color!==void 0&&(ae=3);let Re,he,ve,Oe;if(Q){const yn=Xa[Q];Re=yn.vertexShader,he=yn.fragmentShader}else Re=N.vertexShader,he=N.fragmentShader,l.update(N),ve=l.getVertexShaderID(N),Oe=l.getFragmentShaderID(N);const Fe=t.getRenderTarget(),me=Y.isInstancedMesh===!0,ye=Y.isBatchedMesh===!0,je=!!N.map,at=!!N.matcap,J=!!G,Pe=!!N.aoMap,Be=!!N.lightMap,et=!!N.bumpMap,Ae=!!N.normalMap,Ct=!!N.displacementMap,tt=!!N.emissiveMap,lt=!!N.metalnessMap,ie=!!N.roughnessMap,$=N.anisotropy>0,be=N.clearcoat>0,ke=N.dispersion>0,Ie=N.iridescence>0,ze=N.sheen>0,Mt=N.transmission>0,nt=$&&!!N.anisotropyMap,ct=be&&!!N.clearcoatMap,jt=be&&!!N.clearcoatNormalMap,He=be&&!!N.clearcoatRoughnessMap,rt=Ie&&!!N.iridescenceMap,un=Ie&&!!N.iridescenceThicknessMap,Ot=ze&&!!N.sheenColorMap,pt=ze&&!!N.sheenRoughnessMap,Wt=!!N.specularMap,Xt=!!N.specularColorMap,Bn=!!N.specularIntensityMap,ue=Mt&&!!N.transmissionMap,$e=Mt&&!!N.thicknessMap,Ne=!!N.gradientMap,Le=!!N.alphaMap,Ye=N.alphaTest>0,kt=!!N.alphaHash,cn=!!N.extensions;let ri=ql;N.toneMapped&&(Fe===null||Fe.isXRRenderTarget===!0)&&(ri=t.toneMapping);const ki={shaderID:Q,shaderType:N.type,shaderName:N.name,vertexShader:Re,fragmentShader:he,defines:N.defines,customVertexShaderID:ve,customFragmentShaderID:Oe,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:v,batching:ye,batchingColor:ye&&Y._colorsTexture!==null,instancing:me,instancingColor:me&&Y.instanceColor!==null,instancingMorph:me&&Y.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Fe===null?t.outputColorSpace:Fe.isXRRenderTarget===!0?Fe.texture.colorSpace:Mu,alphaToCoverage:!!N.alphaToCoverage,map:je,matcap:at,envMap:J,envMapMode:J&&G.mapping,envMapCubeUVHeight:j,aoMap:Pe,lightMap:Be,bumpMap:et,normalMap:Ae,displacementMap:p&&Ct,emissiveMap:tt,normalMapObjectSpace:Ae&&N.normalMapType===yW,normalMapTangentSpace:Ae&&N.normalMapType===tf,metalnessMap:lt,roughnessMap:ie,anisotropy:$,anisotropyMap:nt,clearcoat:be,clearcoatMap:ct,clearcoatNormalMap:jt,clearcoatRoughnessMap:He,dispersion:ke,iridescence:Ie,iridescenceMap:rt,iridescenceThicknessMap:un,sheen:ze,sheenColorMap:Ot,sheenRoughnessMap:pt,specularMap:Wt,specularColorMap:Xt,specularIntensityMap:Bn,transmission:Mt,transmissionMap:ue,thicknessMap:$e,gradientMap:Ne,opaque:N.transparent===!1&&N.blending===Rh&&N.alphaToCoverage===!1,alphaMap:Le,alphaTest:Ye,alphaHash:kt,combine:N.combine,mapUv:je&&b(N.map.channel),aoMapUv:Pe&&b(N.aoMap.channel),lightMapUv:Be&&b(N.lightMap.channel),bumpMapUv:et&&b(N.bumpMap.channel),normalMapUv:Ae&&b(N.normalMap.channel),displacementMapUv:Ct&&b(N.displacementMap.channel),emissiveMapUv:tt&&b(N.emissiveMap.channel),metalnessMapUv:lt&&b(N.metalnessMap.channel),roughnessMapUv:ie&&b(N.roughnessMap.channel),anisotropyMapUv:nt&&b(N.anisotropyMap.channel),clearcoatMapUv:ct&&b(N.clearcoatMap.channel),clearcoatNormalMapUv:jt&&b(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:He&&b(N.clearcoatRoughnessMap.channel),iridescenceMapUv:rt&&b(N.iridescenceMap.channel),iridescenceThicknessMapUv:un&&b(N.iridescenceThicknessMap.channel),sheenColorMapUv:Ot&&b(N.sheenColorMap.channel),sheenRoughnessMapUv:pt&&b(N.sheenRoughnessMap.channel),specularMapUv:Wt&&b(N.specularMap.channel),specularColorMapUv:Xt&&b(N.specularColorMap.channel),specularIntensityMapUv:Bn&&b(N.specularIntensityMap.channel),transmissionMapUv:ue&&b(N.transmissionMap.channel),thicknessMapUv:$e&&b(N.thicknessMap.channel),alphaMapUv:Le&&b(N.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(Ae||$),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!K.attributes.uv&&(je||Le),fog:!!ee,useFog:N.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:Y.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ae,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&U.length>0,shadowMapType:t.shadowMap.type,toneMapping:ri,decodeVideoTexture:je&&N.map.isVideoTexture===!0&&kn.getTransfer(N.map.colorSpace)===li,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===Ja,flipSided:N.side===Us,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:cn&&N.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(cn&&N.extensions.multiDraw===!0||ye)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return ki.vertexUv1s=c.has(1),ki.vertexUv2s=c.has(2),ki.vertexUv3s=c.has(3),c.clear(),ki}function _(N){const R=[];if(N.shaderID?R.push(N.shaderID):(R.push(N.customVertexShaderID),R.push(N.customFragmentShaderID)),N.defines!==void 0)for(const U in N.defines)R.push(U),R.push(N.defines[U]);return N.isRawShaderMaterial===!1&&(E(R,N),T(R,N),R.push(t.outputColorSpace)),R.push(N.customProgramCacheKey),R.join()}function E(N,R){N.push(R.precision),N.push(R.outputColorSpace),N.push(R.envMapMode),N.push(R.envMapCubeUVHeight),N.push(R.mapUv),N.push(R.alphaMapUv),N.push(R.lightMapUv),N.push(R.aoMapUv),N.push(R.bumpMapUv),N.push(R.normalMapUv),N.push(R.displacementMapUv),N.push(R.emissiveMapUv),N.push(R.metalnessMapUv),N.push(R.roughnessMapUv),N.push(R.anisotropyMapUv),N.push(R.clearcoatMapUv),N.push(R.clearcoatNormalMapUv),N.push(R.clearcoatRoughnessMapUv),N.push(R.iridescenceMapUv),N.push(R.iridescenceThicknessMapUv),N.push(R.sheenColorMapUv),N.push(R.sheenRoughnessMapUv),N.push(R.specularMapUv),N.push(R.specularColorMapUv),N.push(R.specularIntensityMapUv),N.push(R.transmissionMapUv),N.push(R.thicknessMapUv),N.push(R.combine),N.push(R.fogExp2),N.push(R.sizeAttenuation),N.push(R.morphTargetsCount),N.push(R.morphAttributeCount),N.push(R.numDirLights),N.push(R.numPointLights),N.push(R.numSpotLights),N.push(R.numSpotLightMaps),N.push(R.numHemiLights),N.push(R.numRectAreaLights),N.push(R.numDirLightShadows),N.push(R.numPointLightShadows),N.push(R.numSpotLightShadows),N.push(R.numSpotLightShadowsWithMaps),N.push(R.numLightProbes),N.push(R.shadowMapType),N.push(R.toneMapping),N.push(R.numClippingPlanes),N.push(R.numClipIntersection),N.push(R.depthPacking)}function T(N,R){a.disableAll(),R.supportsVertexTextures&&a.enable(0),R.instancing&&a.enable(1),R.instancingColor&&a.enable(2),R.instancingMorph&&a.enable(3),R.matcap&&a.enable(4),R.envMap&&a.enable(5),R.normalMapObjectSpace&&a.enable(6),R.normalMapTangentSpace&&a.enable(7),R.clearcoat&&a.enable(8),R.iridescence&&a.enable(9),R.alphaTest&&a.enable(10),R.vertexColors&&a.enable(11),R.vertexAlphas&&a.enable(12),R.vertexUv1s&&a.enable(13),R.vertexUv2s&&a.enable(14),R.vertexUv3s&&a.enable(15),R.vertexTangents&&a.enable(16),R.anisotropy&&a.enable(17),R.alphaHash&&a.enable(18),R.batching&&a.enable(19),R.dispersion&&a.enable(20),R.batchingColor&&a.enable(21),N.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.doubleSided&&a.enable(10),R.flipSided&&a.enable(11),R.useDepthPacking&&a.enable(12),R.dithering&&a.enable(13),R.transmission&&a.enable(14),R.sheen&&a.enable(15),R.opaque&&a.enable(16),R.pointsUvs&&a.enable(17),R.decodeVideoTexture&&a.enable(18),R.alphaToCoverage&&a.enable(19),N.push(a.mask)}function P(N){const R=y[N.type];let U;if(R){const W=Xa[R];U=hR.clone(W.uniforms)}else U=N.uniforms;return U}function k(N,R){let U;for(let W=0,Y=d.length;W<Y;W++){const ee=d[W];if(ee.cacheKey===R){U=ee,++U.usedTimes;break}}return U===void 0&&(U=new Ove(t,R,N,s),d.push(U)),U}function F(N){if(--N.usedTimes===0){const R=d.indexOf(N);d[R]=d[d.length-1],d.pop(),N.destroy()}}function D(N){l.remove(N)}function B(){l.dispose()}return{getParameters:S,getProgramCacheKey:_,getUniforms:P,acquireProgram:k,releaseProgram:F,releaseShaderCache:D,programs:d,dispose:B}}function Vve(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function r(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function jve(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function jD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WD(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(h,p,v,y,b,S){let _=t[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:v,groupOrder:y,renderOrder:h.renderOrder,z:b,group:S},t[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=v,_.groupOrder=y,_.renderOrder=h.renderOrder,_.z=b,_.group=S),e++,_}function a(h,p,v,y,b,S){const _=o(h,p,v,y,b,S);v.transmission>0?i.push(_):v.transparent===!0?r.push(_):n.push(_)}function l(h,p,v,y,b,S){const _=o(h,p,v,y,b,S);v.transmission>0?i.unshift(_):v.transparent===!0?r.unshift(_):n.unshift(_)}function c(h,p){n.length>1&&n.sort(h||jve),i.length>1&&i.sort(p||jD),r.length>1&&r.sort(p||jD)}function d(){for(let h=e,p=t.length;h<p;h++){const v=t[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function Wve(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new WD,t.set(i,[o])):r>=s.length?(o=new WD,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Hve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new ft};break;case"SpotLight":n={position:new te,direction:new te,color:new ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new ft,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new ft,groundColor:new ft};break;case"RectAreaLight":n={color:new ft,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function Gve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let $ve=0;function qve(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Xve(t){const e=new Hve,n=Gve(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new te);const r=new te,s=new Dt,o=new Dt;function a(c){let d=0,h=0,p=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let v=0,y=0,b=0,S=0,_=0,E=0,T=0,P=0,k=0,F=0,D=0;c.sort(qve);for(let N=0,R=c.length;N<R;N++){const U=c[N],W=U.color,Y=U.intensity,ee=U.distance,K=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)d+=W.r*Y,h+=W.g*Y,p+=W.b*Y;else if(U.isLightProbe){for(let Z=0;Z<9;Z++)i.probe[Z].addScaledVector(U.sh.coefficients[Z],Y);D++}else if(U.isDirectionalLight){const Z=e.get(U);if(Z.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){const G=U.shadow,j=n.get(U);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.directionalShadow[v]=j,i.directionalShadowMap[v]=K,i.directionalShadowMatrix[v]=U.shadow.matrix,E++}i.directional[v]=Z,v++}else if(U.isSpotLight){const Z=e.get(U);Z.position.setFromMatrixPosition(U.matrixWorld),Z.color.copy(W).multiplyScalar(Y),Z.distance=ee,Z.coneCos=Math.cos(U.angle),Z.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),Z.decay=U.decay,i.spot[b]=Z;const G=U.shadow;if(U.map&&(i.spotLightMap[k]=U.map,k++,G.updateMatrices(U),U.castShadow&&F++),i.spotLightMatrix[b]=G.matrix,U.castShadow){const j=n.get(U);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.spotShadow[b]=j,i.spotShadowMap[b]=K,P++}b++}else if(U.isRectAreaLight){const Z=e.get(U);Z.color.copy(W).multiplyScalar(Y),Z.halfWidth.set(U.width*.5,0,0),Z.halfHeight.set(0,U.height*.5,0),i.rectArea[S]=Z,S++}else if(U.isPointLight){const Z=e.get(U);if(Z.color.copy(U.color).multiplyScalar(U.intensity),Z.distance=U.distance,Z.decay=U.decay,U.castShadow){const G=U.shadow,j=n.get(U);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,j.shadowCameraNear=G.camera.near,j.shadowCameraFar=G.camera.far,i.pointShadow[y]=j,i.pointShadowMap[y]=K,i.pointShadowMatrix[y]=U.shadow.matrix,T++}i.point[y]=Z,y++}else if(U.isHemisphereLight){const Z=e.get(U);Z.skyColor.copy(U.color).multiplyScalar(Y),Z.groundColor.copy(U.groundColor).multiplyScalar(Y),i.hemi[_]=Z,_++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ot.LTC_FLOAT_1,i.rectAreaLTC2=ot.LTC_FLOAT_2):(i.rectAreaLTC1=ot.LTC_HALF_1,i.rectAreaLTC2=ot.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=p;const B=i.hash;(B.directionalLength!==v||B.pointLength!==y||B.spotLength!==b||B.rectAreaLength!==S||B.hemiLength!==_||B.numDirectionalShadows!==E||B.numPointShadows!==T||B.numSpotShadows!==P||B.numSpotMaps!==k||B.numLightProbes!==D)&&(i.directional.length=v,i.spot.length=b,i.rectArea.length=S,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=P+k-F,i.spotLightMap.length=k,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=D,B.directionalLength=v,B.pointLength=y,B.spotLength=b,B.rectAreaLength=S,B.hemiLength=_,B.numDirectionalShadows=E,B.numPointShadows=T,B.numSpotShadows=P,B.numSpotMaps=k,B.numLightProbes=D,i.version=$ve++)}function l(c,d){let h=0,p=0,v=0,y=0,b=0;const S=d.matrixWorldInverse;for(let _=0,E=c.length;_<E;_++){const T=c[_];if(T.isDirectionalLight){const P=i.directional[h];P.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(S),h++}else if(T.isSpotLight){const P=i.spot[v];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(S),P.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(S),v++}else if(T.isRectAreaLight){const P=i.rectArea[y];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(S),o.identity(),s.copy(T.matrixWorld),s.premultiply(S),o.extractRotation(s),P.halfWidth.set(T.width*.5,0,0),P.halfHeight.set(0,T.height*.5,0),P.halfWidth.applyMatrix4(o),P.halfHeight.applyMatrix4(o),y++}else if(T.isPointLight){const P=i.point[p];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(S),p++}else if(T.isHemisphereLight){const P=i.hemi[b];P.direction.setFromMatrixPosition(T.matrixWorld),P.direction.transformDirection(S),b++}}}return{setup:a,setupView:l,state:i}}function HD(t){const e=new Xve(t),n=[],i=[];function r(d){c.camera=d,n.length=0,i.length=0}function s(d){n.push(d)}function o(d){i.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Yve(t){let e=new WeakMap;function n(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new HD(t),e.set(r,[a])):s>=o.length?(a=new HD(t),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:n,dispose:i}}class gR extends Ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=gW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vR extends Ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Kve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Jve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Qve(t,e,n){let i=new $x;const r=new De,s=new De,o=new Tn,a=new gR({depthPacking:vW}),l=new vR,c={},d=n.maxTextureSize,h={[gu]:Us,[Us]:gu,[Ja]:Ja},p=new ha({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new De},radius:{value:4}},vertexShader:Kve,fragmentShader:Jve}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const y=new ln;y.setAttribute("position",new Kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new rr(y,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fE;let _=this.type;this.render=function(F,D,B){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||F.length===0)return;const N=t.getRenderTarget(),R=t.getActiveCubeFace(),U=t.getActiveMipmapLevel(),W=t.state;W.setBlending(au),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const Y=_!==$a&&this.type===$a,ee=_===$a&&this.type!==$a;for(let K=0,Z=F.length;K<Z;K++){const G=F[K],j=G.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const Q=j.getFrameExtents();if(r.multiply(Q),s.copy(j.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/Q.x),r.x=s.x*Q.x,j.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/Q.y),r.y=s.y*Q.y,j.mapSize.y=s.y)),j.map===null||Y===!0||ee===!0){const q=this.type!==$a?{minFilter:Lr,magFilter:Lr}:{};j.map!==null&&j.map.dispose(),j.map=new sl(r.x,r.y,q),j.map.texture.name=G.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const ne=j.getViewportCount();for(let q=0;q<ne;q++){const ae=j.getViewport(q);o.set(s.x*ae.x,s.y*ae.y,s.x*ae.z,s.y*ae.w),W.viewport(o),j.updateMatrices(G,q),i=j.getFrustum(),P(D,B,j.camera,G,this.type)}j.isPointLightShadow!==!0&&this.type===$a&&E(j,B),j.needsUpdate=!1}_=this.type,S.needsUpdate=!1,t.setRenderTarget(N,R,U)};function E(F,D){const B=e.update(b);p.defines.VSM_SAMPLES!==F.blurSamples&&(p.defines.VSM_SAMPLES=F.blurSamples,v.defines.VSM_SAMPLES=F.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new sl(r.x,r.y)),p.uniforms.shadow_pass.value=F.map.texture,p.uniforms.resolution.value=F.mapSize,p.uniforms.radius.value=F.radius,t.setRenderTarget(F.mapPass),t.clear(),t.renderBufferDirect(D,null,B,p,b,null),v.uniforms.shadow_pass.value=F.mapPass.texture,v.uniforms.resolution.value=F.mapSize,v.uniforms.radius.value=F.radius,t.setRenderTarget(F.map),t.clear(),t.renderBufferDirect(D,null,B,v,b,null)}function T(F,D,B,N){let R=null;const U=B.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(U!==void 0)R=U;else if(R=B.isPointLight===!0?l:a,t.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const W=R.uuid,Y=D.uuid;let ee=c[W];ee===void 0&&(ee={},c[W]=ee);let K=ee[Y];K===void 0&&(K=R.clone(),ee[Y]=K,D.addEventListener("dispose",k)),R=K}if(R.visible=D.visible,R.wireframe=D.wireframe,N===$a?R.side=D.shadowSide!==null?D.shadowSide:D.side:R.side=D.shadowSide!==null?D.shadowSide:h[D.side],R.alphaMap=D.alphaMap,R.alphaTest=D.alphaTest,R.map=D.map,R.clipShadows=D.clipShadows,R.clippingPlanes=D.clippingPlanes,R.clipIntersection=D.clipIntersection,R.displacementMap=D.displacementMap,R.displacementScale=D.displacementScale,R.displacementBias=D.displacementBias,R.wireframeLinewidth=D.wireframeLinewidth,R.linewidth=D.linewidth,B.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const W=t.properties.get(R);W.light=B}return R}function P(F,D,B,N,R){if(F.visible===!1)return;if(F.layers.test(D.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&R===$a)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,F.matrixWorld);const Y=e.update(F),ee=F.material;if(Array.isArray(ee)){const K=Y.groups;for(let Z=0,G=K.length;Z<G;Z++){const j=K[Z],Q=ee[j.materialIndex];if(Q&&Q.visible){const ne=T(F,Q,N,R);F.onBeforeShadow(t,F,D,B,Y,ne,j),t.renderBufferDirect(B,null,Y,ne,F,j),F.onAfterShadow(t,F,D,B,Y,ne,j)}}}else if(ee.visible){const K=T(F,ee,N,R);F.onBeforeShadow(t,F,D,B,Y,K,null),t.renderBufferDirect(B,null,Y,K,F,null),F.onAfterShadow(t,F,D,B,Y,K,null)}}const W=F.children;for(let Y=0,ee=W.length;Y<ee;Y++)P(W[Y],D,B,N,R)}function k(F){F.target.removeEventListener("dispose",k);for(const B in c){const N=c[B],R=F.target.uuid;R in N&&(N[R].dispose(),delete N[R])}}}function Zve(t){function e(){let ue=!1;const $e=new Tn;let Ne=null;const Le=new Tn(0,0,0,0);return{setMask:function(Ye){Ne!==Ye&&!ue&&(t.colorMask(Ye,Ye,Ye,Ye),Ne=Ye)},setLocked:function(Ye){ue=Ye},setClear:function(Ye,kt,cn,ri,ki){ki===!0&&(Ye*=ri,kt*=ri,cn*=ri),$e.set(Ye,kt,cn,ri),Le.equals($e)===!1&&(t.clearColor(Ye,kt,cn,ri),Le.copy($e))},reset:function(){ue=!1,Ne=null,Le.set(-1,0,0,0)}}}function n(){let ue=!1,$e=null,Ne=null,Le=null;return{setTest:function(Ye){Ye?Oe(t.DEPTH_TEST):Fe(t.DEPTH_TEST)},setMask:function(Ye){$e!==Ye&&!ue&&(t.depthMask(Ye),$e=Ye)},setFunc:function(Ye){if(Ne!==Ye){switch(Ye){case Jj:t.depthFunc(t.NEVER);break;case Qj:t.depthFunc(t.ALWAYS);break;case Zj:t.depthFunc(t.LESS);break;case q0:t.depthFunc(t.LEQUAL);break;case eW:t.depthFunc(t.EQUAL);break;case tW:t.depthFunc(t.GEQUAL);break;case nW:t.depthFunc(t.GREATER);break;case iW:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ne=Ye}},setLocked:function(Ye){ue=Ye},setClear:function(Ye){Le!==Ye&&(t.clearDepth(Ye),Le=Ye)},reset:function(){ue=!1,$e=null,Ne=null,Le=null}}}function i(){let ue=!1,$e=null,Ne=null,Le=null,Ye=null,kt=null,cn=null,ri=null,ki=null;return{setTest:function(yn){ue||(yn?Oe(t.STENCIL_TEST):Fe(t.STENCIL_TEST))},setMask:function(yn){$e!==yn&&!ue&&(t.stencilMask(yn),$e=yn)},setFunc:function(yn,Qr,Zr){(Ne!==yn||Le!==Qr||Ye!==Zr)&&(t.stencilFunc(yn,Qr,Zr),Ne=yn,Le=Qr,Ye=Zr)},setOp:function(yn,Qr,Zr){(kt!==yn||cn!==Qr||ri!==Zr)&&(t.stencilOp(yn,Qr,Zr),kt=yn,cn=Qr,ri=Zr)},setLocked:function(yn){ue=yn},setClear:function(yn){ki!==yn&&(t.clearStencil(yn),ki=yn)},reset:function(){ue=!1,$e=null,Ne=null,Le=null,Ye=null,kt=null,cn=null,ri=null,ki=null}}}const r=new e,s=new n,o=new i,a=new WeakMap,l=new WeakMap;let c={},d={},h=new WeakMap,p=[],v=null,y=!1,b=null,S=null,_=null,E=null,T=null,P=null,k=null,F=new ft(0,0,0),D=0,B=!1,N=null,R=null,U=null,W=null,Y=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,Z=0;const G=t.getParameter(t.VERSION);G.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(G)[1]),K=Z>=1):G.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),K=Z>=2);let j=null,Q={};const ne=t.getParameter(t.SCISSOR_BOX),q=t.getParameter(t.VIEWPORT),ae=new Tn().fromArray(ne),Re=new Tn().fromArray(q);function he(ue,$e,Ne,Le){const Ye=new Uint8Array(4),kt=t.createTexture();t.bindTexture(ue,kt),t.texParameteri(ue,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ue,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let cn=0;cn<Ne;cn++)ue===t.TEXTURE_3D||ue===t.TEXTURE_2D_ARRAY?t.texImage3D($e,0,t.RGBA,1,1,Le,0,t.RGBA,t.UNSIGNED_BYTE,Ye):t.texImage2D($e+cn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ye);return kt}const ve={};ve[t.TEXTURE_2D]=he(t.TEXTURE_2D,t.TEXTURE_2D,1),ve[t.TEXTURE_CUBE_MAP]=he(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[t.TEXTURE_2D_ARRAY]=he(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ve[t.TEXTURE_3D]=he(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Oe(t.DEPTH_TEST),s.setFunc(q0),et(!1),Ae(sP),Oe(t.CULL_FACE),Pe(au);function Oe(ue){c[ue]!==!0&&(t.enable(ue),c[ue]=!0)}function Fe(ue){c[ue]!==!1&&(t.disable(ue),c[ue]=!1)}function me(ue,$e){return d[ue]!==$e?(t.bindFramebuffer(ue,$e),d[ue]=$e,ue===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=$e),ue===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=$e),!0):!1}function ye(ue,$e){let Ne=p,Le=!1;if(ue){Ne=h.get($e),Ne===void 0&&(Ne=[],h.set($e,Ne));const Ye=ue.textures;if(Ne.length!==Ye.length||Ne[0]!==t.COLOR_ATTACHMENT0){for(let kt=0,cn=Ye.length;kt<cn;kt++)Ne[kt]=t.COLOR_ATTACHMENT0+kt;Ne.length=Ye.length,Le=!0}}else Ne[0]!==t.BACK&&(Ne[0]=t.BACK,Le=!0);Le&&t.drawBuffers(Ne)}function je(ue){return v!==ue?(t.useProgram(ue),v=ue,!0):!1}const at={[Pd]:t.FUNC_ADD,[Lj]:t.FUNC_SUBTRACT,[Dj]:t.FUNC_REVERSE_SUBTRACT};at[Oj]=t.MIN,at[Fj]=t.MAX;const J={[zj]:t.ZERO,[Bj]:t.ONE,[Uj]:t.SRC_COLOR,[BS]:t.SRC_ALPHA,[$j]:t.SRC_ALPHA_SATURATE,[Hj]:t.DST_COLOR,[jj]:t.DST_ALPHA,[Vj]:t.ONE_MINUS_SRC_COLOR,[US]:t.ONE_MINUS_SRC_ALPHA,[Gj]:t.ONE_MINUS_DST_COLOR,[Wj]:t.ONE_MINUS_DST_ALPHA,[qj]:t.CONSTANT_COLOR,[Xj]:t.ONE_MINUS_CONSTANT_COLOR,[Yj]:t.CONSTANT_ALPHA,[Kj]:t.ONE_MINUS_CONSTANT_ALPHA};function Pe(ue,$e,Ne,Le,Ye,kt,cn,ri,ki,yn){if(ue===au){y===!0&&(Fe(t.BLEND),y=!1);return}if(y===!1&&(Oe(t.BLEND),y=!0),ue!==Nj){if(ue!==b||yn!==B){if((S!==Pd||T!==Pd)&&(t.blendEquation(t.FUNC_ADD),S=Pd,T=Pd),yn)switch(ue){case Rh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case oP:t.blendFunc(t.ONE,t.ONE);break;case aP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case lP:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case Rh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case oP:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case aP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case lP:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}_=null,E=null,P=null,k=null,F.set(0,0,0),D=0,b=ue,B=yn}return}Ye=Ye||$e,kt=kt||Ne,cn=cn||Le,($e!==S||Ye!==T)&&(t.blendEquationSeparate(at[$e],at[Ye]),S=$e,T=Ye),(Ne!==_||Le!==E||kt!==P||cn!==k)&&(t.blendFuncSeparate(J[Ne],J[Le],J[kt],J[cn]),_=Ne,E=Le,P=kt,k=cn),(ri.equals(F)===!1||ki!==D)&&(t.blendColor(ri.r,ri.g,ri.b,ki),F.copy(ri),D=ki),b=ue,B=!1}function Be(ue,$e){ue.side===Ja?Fe(t.CULL_FACE):Oe(t.CULL_FACE);let Ne=ue.side===Us;$e&&(Ne=!Ne),et(Ne),ue.blending===Rh&&ue.transparent===!1?Pe(au):Pe(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),s.setFunc(ue.depthFunc),s.setTest(ue.depthTest),s.setMask(ue.depthWrite),r.setMask(ue.colorWrite);const Le=ue.stencilWrite;o.setTest(Le),Le&&(o.setMask(ue.stencilWriteMask),o.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),o.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),tt(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?Oe(t.SAMPLE_ALPHA_TO_COVERAGE):Fe(t.SAMPLE_ALPHA_TO_COVERAGE)}function et(ue){N!==ue&&(ue?t.frontFace(t.CW):t.frontFace(t.CCW),N=ue)}function Ae(ue){ue!==Ij?(Oe(t.CULL_FACE),ue!==R&&(ue===sP?t.cullFace(t.BACK):ue===Rj?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Fe(t.CULL_FACE),R=ue}function Ct(ue){ue!==U&&(K&&t.lineWidth(ue),U=ue)}function tt(ue,$e,Ne){ue?(Oe(t.POLYGON_OFFSET_FILL),(W!==$e||Y!==Ne)&&(t.polygonOffset($e,Ne),W=$e,Y=Ne)):Fe(t.POLYGON_OFFSET_FILL)}function lt(ue){ue?Oe(t.SCISSOR_TEST):Fe(t.SCISSOR_TEST)}function ie(ue){ue===void 0&&(ue=t.TEXTURE0+ee-1),j!==ue&&(t.activeTexture(ue),j=ue)}function $(ue,$e,Ne){Ne===void 0&&(j===null?Ne=t.TEXTURE0+ee-1:Ne=j);let Le=Q[Ne];Le===void 0&&(Le={type:void 0,texture:void 0},Q[Ne]=Le),(Le.type!==ue||Le.texture!==$e)&&(j!==Ne&&(t.activeTexture(Ne),j=Ne),t.bindTexture(ue,$e||ve[ue]),Le.type=ue,Le.texture=$e)}function be(){const ue=Q[j];ue!==void 0&&ue.type!==void 0&&(t.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function ke(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ze(){try{t.texSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Mt(){try{t.texSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function nt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ct(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function jt(){try{t.texStorage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function He(){try{t.texStorage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function rt(){try{t.texImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function un(){try{t.texImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ot(ue){ae.equals(ue)===!1&&(t.scissor(ue.x,ue.y,ue.z,ue.w),ae.copy(ue))}function pt(ue){Re.equals(ue)===!1&&(t.viewport(ue.x,ue.y,ue.z,ue.w),Re.copy(ue))}function Wt(ue,$e){let Ne=l.get($e);Ne===void 0&&(Ne=new WeakMap,l.set($e,Ne));let Le=Ne.get(ue);Le===void 0&&(Le=t.getUniformBlockIndex($e,ue.name),Ne.set(ue,Le))}function Xt(ue,$e){const Le=l.get($e).get(ue);a.get($e)!==Le&&(t.uniformBlockBinding($e,Le,ue.__bindingPointIndex),a.set($e,Le))}function Bn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},j=null,Q={},d={},h=new WeakMap,p=[],v=null,y=!1,b=null,S=null,_=null,E=null,T=null,P=null,k=null,F=new ft(0,0,0),D=0,B=!1,N=null,R=null,U=null,W=null,Y=null,ae.set(0,0,t.canvas.width,t.canvas.height),Re.set(0,0,t.canvas.width,t.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Oe,disable:Fe,bindFramebuffer:me,drawBuffers:ye,useProgram:je,setBlending:Pe,setMaterial:Be,setFlipSided:et,setCullFace:Ae,setLineWidth:Ct,setPolygonOffset:tt,setScissorTest:lt,activeTexture:ie,bindTexture:$,unbindTexture:be,compressedTexImage2D:ke,compressedTexImage3D:Ie,texImage2D:rt,texImage3D:un,updateUBOMapping:Wt,uniformBlockBinding:Xt,texStorage2D:jt,texStorage3D:He,texSubImage2D:ze,texSubImage3D:Mt,compressedTexSubImage2D:nt,compressedTexSubImage3D:ct,scissor:Ot,viewport:pt,reset:Bn}}function eye(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function tye(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function nye(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function pP(t,e,n,i){const r=iye(i);switch(n){case tR:return t*e;case iR:return t*e;case rR:return t*e*2;case vE:return t*e/r.components*r.byteLength;case jx:return t*e/r.components*r.byteLength;case sR:return t*e*2/r.components*r.byteLength;case yE:return t*e*2/r.components*r.byteLength;case nR:return t*e*3/r.components*r.byteLength;case ys:return t*e*4/r.components*r.byteLength;case xE:return t*e*4/r.components*r.byteLength;case m0:case g0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case v0:case y0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case jS:case HS:return Math.max(t,16)*Math.max(e,8)/4;case VS:case WS:return Math.max(t,8)*Math.max(e,8)/2;case GS:case $S:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case qS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case XS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case YS:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case KS:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case JS:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case QS:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case ZS:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case ew:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case tw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case nw:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case iw:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case rw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case sw:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case ow:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case aw:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case x0:case lw:case cw:return Math.ceil(t/4)*Math.ceil(e/4)*16;case oR:case uw:return Math.ceil(t/4)*Math.ceil(e/4)*8;case dw:case fw:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function iye(t){switch(t){case rl:case QI:return{byteLength:1,components:1};case Ng:case ZI:case rv:return{byteLength:2,components:1};case mE:case gE:return{byteLength:2,components:4};case yu:case pE:case ao:return{byteLength:4,components:1};case eR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const rye={contain:eye,cover:tye,fill:nye,getByteLength:pP};function sye(t,e,n,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new De,d=new WeakMap;let h;const p=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(ie,$){return v?new OffscreenCanvas(ie,$):sx("canvas")}function b(ie,$,be){let ke=1;const Ie=lt(ie);if((Ie.width>be||Ie.height>be)&&(ke=be/Math.max(Ie.width,Ie.height)),ke<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const ze=Math.floor(ke*Ie.width),Mt=Math.floor(ke*Ie.height);h===void 0&&(h=y(ze,Mt));const nt=$?y(ze,Mt):h;return nt.width=ze,nt.height=Mt,nt.getContext("2d").drawImage(ie,0,0,ze,Mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+ze+"x"+Mt+")."),nt}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),ie;return ie}function S(ie){return ie.generateMipmaps&&ie.minFilter!==Lr&&ie.minFilter!==ir}function _(ie){t.generateMipmap(ie)}function E(ie,$,be,ke,Ie=!1){if(ie!==null){if(t[ie]!==void 0)return t[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let ze=$;if($===t.RED&&(be===t.FLOAT&&(ze=t.R32F),be===t.HALF_FLOAT&&(ze=t.R16F),be===t.UNSIGNED_BYTE&&(ze=t.R8)),$===t.RED_INTEGER&&(be===t.UNSIGNED_BYTE&&(ze=t.R8UI),be===t.UNSIGNED_SHORT&&(ze=t.R16UI),be===t.UNSIGNED_INT&&(ze=t.R32UI),be===t.BYTE&&(ze=t.R8I),be===t.SHORT&&(ze=t.R16I),be===t.INT&&(ze=t.R32I)),$===t.RG&&(be===t.FLOAT&&(ze=t.RG32F),be===t.HALF_FLOAT&&(ze=t.RG16F),be===t.UNSIGNED_BYTE&&(ze=t.RG8)),$===t.RG_INTEGER&&(be===t.UNSIGNED_BYTE&&(ze=t.RG8UI),be===t.UNSIGNED_SHORT&&(ze=t.RG16UI),be===t.UNSIGNED_INT&&(ze=t.RG32UI),be===t.BYTE&&(ze=t.RG8I),be===t.SHORT&&(ze=t.RG16I),be===t.INT&&(ze=t.RG32I)),$===t.RGB&&be===t.UNSIGNED_INT_5_9_9_9_REV&&(ze=t.RGB9_E5),$===t.RGBA){const Mt=Ie?ex:kn.getTransfer(ke);be===t.FLOAT&&(ze=t.RGBA32F),be===t.HALF_FLOAT&&(ze=t.RGBA16F),be===t.UNSIGNED_BYTE&&(ze=Mt===li?t.SRGB8_ALPHA8:t.RGBA8),be===t.UNSIGNED_SHORT_4_4_4_4&&(ze=t.RGBA4),be===t.UNSIGNED_SHORT_5_5_5_1&&(ze=t.RGB5_A1)}return(ze===t.R16F||ze===t.R32F||ze===t.RG16F||ze===t.RG32F||ze===t.RGBA16F||ze===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function T(ie,$){let be;return ie?$===null||$===yu||$===Xh?be=t.DEPTH24_STENCIL8:$===ao?be=t.DEPTH32F_STENCIL8:$===Ng&&(be=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===yu||$===Xh?be=t.DEPTH_COMPONENT24:$===ao?be=t.DEPTH_COMPONENT32F:$===Ng&&(be=t.DEPTH_COMPONENT16),be}function P(ie,$){return S(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==Lr&&ie.minFilter!==ir?Math.log2(Math.max($.width,$.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?$.mipmaps.length:1}function k(ie){const $=ie.target;$.removeEventListener("dispose",k),D($),$.isVideoTexture&&d.delete($)}function F(ie){const $=ie.target;$.removeEventListener("dispose",F),N($)}function D(ie){const $=i.get(ie);if($.__webglInit===void 0)return;const be=ie.source,ke=p.get(be);if(ke){const Ie=ke[$.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&B(ie),Object.keys(ke).length===0&&p.delete(be)}i.remove(ie)}function B(ie){const $=i.get(ie);t.deleteTexture($.__webglTexture);const be=ie.source,ke=p.get(be);delete ke[$.__cacheKey],o.memory.textures--}function N(ie){const $=i.get(ie);if(ie.depthTexture&&ie.depthTexture.dispose(),ie.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++){if(Array.isArray($.__webglFramebuffer[ke]))for(let Ie=0;Ie<$.__webglFramebuffer[ke].length;Ie++)t.deleteFramebuffer($.__webglFramebuffer[ke][Ie]);else t.deleteFramebuffer($.__webglFramebuffer[ke]);$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[ke])}else{if(Array.isArray($.__webglFramebuffer))for(let ke=0;ke<$.__webglFramebuffer.length;ke++)t.deleteFramebuffer($.__webglFramebuffer[ke]);else t.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let ke=0;ke<$.__webglColorRenderbuffer.length;ke++)$.__webglColorRenderbuffer[ke]&&t.deleteRenderbuffer($.__webglColorRenderbuffer[ke]);$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer)}const be=ie.textures;for(let ke=0,Ie=be.length;ke<Ie;ke++){const ze=i.get(be[ke]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),i.remove(be[ke])}i.remove(ie)}let R=0;function U(){R=0}function W(){const ie=R;return ie>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+r.maxTextures),R+=1,ie}function Y(ie){const $=[];return $.push(ie.wrapS),$.push(ie.wrapT),$.push(ie.wrapR||0),$.push(ie.magFilter),$.push(ie.minFilter),$.push(ie.anisotropy),$.push(ie.internalFormat),$.push(ie.format),$.push(ie.type),$.push(ie.generateMipmaps),$.push(ie.premultiplyAlpha),$.push(ie.flipY),$.push(ie.unpackAlignment),$.push(ie.colorSpace),$.join()}function ee(ie,$){const be=i.get(ie);if(ie.isVideoTexture&&Ct(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&be.__version!==ie.version){const ke=ie.image;if(ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(be,ie,$);return}}n.bindTexture(t.TEXTURE_2D,be.__webglTexture,t.TEXTURE0+$)}function K(ie,$){const be=i.get(ie);if(ie.version>0&&be.__version!==ie.version){Re(be,ie,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,be.__webglTexture,t.TEXTURE0+$)}function Z(ie,$){const be=i.get(ie);if(ie.version>0&&be.__version!==ie.version){Re(be,ie,$);return}n.bindTexture(t.TEXTURE_3D,be.__webglTexture,t.TEXTURE0+$)}function G(ie,$){const be=i.get(ie);if(ie.version>0&&be.__version!==ie.version){he(be,ie,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture,t.TEXTURE0+$)}const j={[K0]:t.REPEAT,[ca]:t.CLAMP_TO_EDGE,[J0]:t.MIRRORED_REPEAT},Q={[Lr]:t.NEAREST,[JI]:t.NEAREST_MIPMAP_NEAREST,[tg]:t.NEAREST_MIPMAP_LINEAR,[ir]:t.LINEAR,[p0]:t.LINEAR_MIPMAP_NEAREST,[Bl]:t.LINEAR_MIPMAP_LINEAR},ne={[xW]:t.NEVER,[TW]:t.ALWAYS,[_W]:t.LESS,[lR]:t.LEQUAL,[bW]:t.EQUAL,[EW]:t.GEQUAL,[SW]:t.GREATER,[wW]:t.NOTEQUAL};function q(ie,$){if($.type===ao&&e.has("OES_texture_float_linear")===!1&&($.magFilter===ir||$.magFilter===p0||$.magFilter===tg||$.magFilter===Bl||$.minFilter===ir||$.minFilter===p0||$.minFilter===tg||$.minFilter===Bl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ie,t.TEXTURE_WRAP_S,j[$.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,j[$.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,j[$.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,Q[$.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,Q[$.minFilter]),$.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,ne[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Lr||$.minFilter!==tg&&$.minFilter!==Bl||$.type===ao&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||i.get($).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ie,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,r.getMaxAnisotropy())),i.get($).__currentAnisotropy=$.anisotropy}}}function ae(ie,$){let be=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,$.addEventListener("dispose",k));const ke=$.source;let Ie=p.get(ke);Ie===void 0&&(Ie={},p.set(ke,Ie));const ze=Y($);if(ze!==ie.__cacheKey){Ie[ze]===void 0&&(Ie[ze]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,be=!0),Ie[ze].usedTimes++;const Mt=Ie[ie.__cacheKey];Mt!==void 0&&(Ie[ie.__cacheKey].usedTimes--,Mt.usedTimes===0&&B($)),ie.__cacheKey=ze,ie.__webglTexture=Ie[ze].texture}return be}function Re(ie,$,be){let ke=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(ke=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(ke=t.TEXTURE_3D);const Ie=ae(ie,$),ze=$.source;n.bindTexture(ke,ie.__webglTexture,t.TEXTURE0+be);const Mt=i.get(ze);if(ze.version!==Mt.__version||Ie===!0){n.activeTexture(t.TEXTURE0+be);const nt=kn.getPrimaries(kn.workingColorSpace),ct=$.colorSpace===Yc?null:kn.getPrimaries($.colorSpace),jt=$.colorSpace===Yc||nt===ct?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,jt);let He=b($.image,!1,r.maxTextureSize);He=tt($,He);const rt=s.convert($.format,$.colorSpace),un=s.convert($.type);let Ot=E($.internalFormat,rt,un,$.colorSpace,$.isVideoTexture);q(ke,$);let pt;const Wt=$.mipmaps,Xt=$.isVideoTexture!==!0,Bn=Mt.__version===void 0||Ie===!0,ue=ze.dataReady,$e=P($,He);if($.isDepthTexture)Ot=T($.format===Yh,$.type),Bn&&(Xt?n.texStorage2D(t.TEXTURE_2D,1,Ot,He.width,He.height):n.texImage2D(t.TEXTURE_2D,0,Ot,He.width,He.height,0,rt,un,null));else if($.isDataTexture)if(Wt.length>0){Xt&&Bn&&n.texStorage2D(t.TEXTURE_2D,$e,Ot,Wt[0].width,Wt[0].height);for(let Ne=0,Le=Wt.length;Ne<Le;Ne++)pt=Wt[Ne],Xt?ue&&n.texSubImage2D(t.TEXTURE_2D,Ne,0,0,pt.width,pt.height,rt,un,pt.data):n.texImage2D(t.TEXTURE_2D,Ne,Ot,pt.width,pt.height,0,rt,un,pt.data);$.generateMipmaps=!1}else Xt?(Bn&&n.texStorage2D(t.TEXTURE_2D,$e,Ot,He.width,He.height),ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,He.width,He.height,rt,un,He.data)):n.texImage2D(t.TEXTURE_2D,0,Ot,He.width,He.height,0,rt,un,He.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Xt&&Bn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,Ot,Wt[0].width,Wt[0].height,He.depth);for(let Ne=0,Le=Wt.length;Ne<Le;Ne++)if(pt=Wt[Ne],$.format!==ys)if(rt!==null)if(Xt){if(ue)if($.layerUpdates.size>0){const Ye=pP(pt.width,pt.height,$.format,$.type);for(const kt of $.layerUpdates){const cn=pt.data.subarray(kt*Ye/pt.data.BYTES_PER_ELEMENT,(kt+1)*Ye/pt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ne,0,0,kt,pt.width,pt.height,1,rt,cn,0,0)}$.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ne,0,0,0,pt.width,pt.height,He.depth,rt,pt.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ne,Ot,pt.width,pt.height,He.depth,0,pt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Xt?ue&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ne,0,0,0,pt.width,pt.height,He.depth,rt,un,pt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ne,Ot,pt.width,pt.height,He.depth,0,rt,un,pt.data)}else{Xt&&Bn&&n.texStorage2D(t.TEXTURE_2D,$e,Ot,Wt[0].width,Wt[0].height);for(let Ne=0,Le=Wt.length;Ne<Le;Ne++)pt=Wt[Ne],$.format!==ys?rt!==null?Xt?ue&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ne,0,0,pt.width,pt.height,rt,pt.data):n.compressedTexImage2D(t.TEXTURE_2D,Ne,Ot,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xt?ue&&n.texSubImage2D(t.TEXTURE_2D,Ne,0,0,pt.width,pt.height,rt,un,pt.data):n.texImage2D(t.TEXTURE_2D,Ne,Ot,pt.width,pt.height,0,rt,un,pt.data)}else if($.isDataArrayTexture)if(Xt){if(Bn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,Ot,He.width,He.height,He.depth),ue)if($.layerUpdates.size>0){const Ne=pP(He.width,He.height,$.format,$.type);for(const Le of $.layerUpdates){const Ye=He.data.subarray(Le*Ne/He.data.BYTES_PER_ELEMENT,(Le+1)*Ne/He.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,He.width,He.height,1,rt,un,Ye)}$.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,He.width,He.height,He.depth,rt,un,He.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ot,He.width,He.height,He.depth,0,rt,un,He.data);else if($.isData3DTexture)Xt?(Bn&&n.texStorage3D(t.TEXTURE_3D,$e,Ot,He.width,He.height,He.depth),ue&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,He.width,He.height,He.depth,rt,un,He.data)):n.texImage3D(t.TEXTURE_3D,0,Ot,He.width,He.height,He.depth,0,rt,un,He.data);else if($.isFramebufferTexture){if(Bn)if(Xt)n.texStorage2D(t.TEXTURE_2D,$e,Ot,He.width,He.height);else{let Ne=He.width,Le=He.height;for(let Ye=0;Ye<$e;Ye++)n.texImage2D(t.TEXTURE_2D,Ye,Ot,Ne,Le,0,rt,un,null),Ne>>=1,Le>>=1}}else if(Wt.length>0){if(Xt&&Bn){const Ne=lt(Wt[0]);n.texStorage2D(t.TEXTURE_2D,$e,Ot,Ne.width,Ne.height)}for(let Ne=0,Le=Wt.length;Ne<Le;Ne++)pt=Wt[Ne],Xt?ue&&n.texSubImage2D(t.TEXTURE_2D,Ne,0,0,rt,un,pt):n.texImage2D(t.TEXTURE_2D,Ne,Ot,rt,un,pt);$.generateMipmaps=!1}else if(Xt){if(Bn){const Ne=lt(He);n.texStorage2D(t.TEXTURE_2D,$e,Ot,Ne.width,Ne.height)}ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,rt,un,He)}else n.texImage2D(t.TEXTURE_2D,0,Ot,rt,un,He);S($)&&_(ke),Mt.__version=ze.version,$.onUpdate&&$.onUpdate($)}ie.__version=$.version}function he(ie,$,be){if($.image.length!==6)return;const ke=ae(ie,$),Ie=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+be);const ze=i.get(Ie);if(Ie.version!==ze.__version||ke===!0){n.activeTexture(t.TEXTURE0+be);const Mt=kn.getPrimaries(kn.workingColorSpace),nt=$.colorSpace===Yc?null:kn.getPrimaries($.colorSpace),ct=$.colorSpace===Yc||Mt===nt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);const jt=$.isCompressedTexture||$.image[0].isCompressedTexture,He=$.image[0]&&$.image[0].isDataTexture,rt=[];for(let Le=0;Le<6;Le++)!jt&&!He?rt[Le]=b($.image[Le],!0,r.maxCubemapSize):rt[Le]=He?$.image[Le].image:$.image[Le],rt[Le]=tt($,rt[Le]);const un=rt[0],Ot=s.convert($.format,$.colorSpace),pt=s.convert($.type),Wt=E($.internalFormat,Ot,pt,$.colorSpace),Xt=$.isVideoTexture!==!0,Bn=ze.__version===void 0||ke===!0,ue=Ie.dataReady;let $e=P($,un);q(t.TEXTURE_CUBE_MAP,$);let Ne;if(jt){Xt&&Bn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,$e,Wt,un.width,un.height);for(let Le=0;Le<6;Le++){Ne=rt[Le].mipmaps;for(let Ye=0;Ye<Ne.length;Ye++){const kt=Ne[Ye];$.format!==ys?Ot!==null?Xt?ue&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,0,0,kt.width,kt.height,Ot,kt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,Wt,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,0,0,kt.width,kt.height,Ot,pt,kt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,Wt,kt.width,kt.height,0,Ot,pt,kt.data)}}}else{if(Ne=$.mipmaps,Xt&&Bn){Ne.length>0&&$e++;const Le=lt(rt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,$e,Wt,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(He){Xt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,rt[Le].width,rt[Le].height,Ot,pt,rt[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Wt,rt[Le].width,rt[Le].height,0,Ot,pt,rt[Le].data);for(let Ye=0;Ye<Ne.length;Ye++){const cn=Ne[Ye].image[Le].image;Xt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,0,0,cn.width,cn.height,Ot,pt,cn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,Wt,cn.width,cn.height,0,Ot,pt,cn.data)}}else{Xt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,Ot,pt,rt[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Wt,Ot,pt,rt[Le]);for(let Ye=0;Ye<Ne.length;Ye++){const kt=Ne[Ye];Xt?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,0,0,Ot,pt,kt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,Wt,Ot,pt,kt.image[Le])}}}S($)&&_(t.TEXTURE_CUBE_MAP),ze.__version=Ie.version,$.onUpdate&&$.onUpdate($)}ie.__version=$.version}function ve(ie,$,be,ke,Ie,ze){const Mt=s.convert(be.format,be.colorSpace),nt=s.convert(be.type),ct=E(be.internalFormat,Mt,nt,be.colorSpace);if(!i.get($).__hasExternalTextures){const He=Math.max(1,$.width>>ze),rt=Math.max(1,$.height>>ze);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,ze,ct,He,rt,$.depth,0,Mt,nt,null):n.texImage2D(Ie,ze,ct,He,rt,0,Mt,nt,null)}n.bindFramebuffer(t.FRAMEBUFFER,ie),Ae($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ke,Ie,i.get(be).__webglTexture,0,et($)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ke,Ie,i.get(be).__webglTexture,ze),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Oe(ie,$,be){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),$.depthBuffer){const ke=$.depthTexture,Ie=ke&&ke.isDepthTexture?ke.type:null,ze=T($.stencilBuffer,Ie),Mt=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=et($);Ae($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,ze,$.width,$.height):be?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,ze,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,ze,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Mt,t.RENDERBUFFER,ie)}else{const ke=$.textures;for(let Ie=0;Ie<ke.length;Ie++){const ze=ke[Ie],Mt=s.convert(ze.format,ze.colorSpace),nt=s.convert(ze.type),ct=E(ze.internalFormat,Mt,nt,ze.colorSpace),jt=et($);be&&Ae($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,jt,ct,$.width,$.height):Ae($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,jt,ct,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,ct,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Fe(ie,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),ee($.depthTexture,0);const ke=i.get($.depthTexture).__webglTexture,Ie=et($);if($.depthTexture.format===kh)Ae($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0,Ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0);else if($.depthTexture.format===Yh)Ae($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0,Ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0);else throw new Error("Unknown depthTexture format")}function me(ie){const $=i.get(ie),be=ie.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==ie.depthTexture){const ke=ie.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),ke){const Ie=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,ke.removeEventListener("dispose",Ie)};ke.addEventListener("dispose",Ie),$.__depthDisposeCallback=Ie}$.__boundDepthTexture=ke}if(ie.depthTexture&&!$.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");Fe($.__webglFramebuffer,ie)}else if(be){$.__webglDepthbuffer=[];for(let ke=0;ke<6;ke++)if(n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[ke]),$.__webglDepthbuffer[ke]===void 0)$.__webglDepthbuffer[ke]=t.createRenderbuffer(),Oe($.__webglDepthbuffer[ke],ie,!1);else{const Ie=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ze=$.__webglDepthbuffer[ke];t.bindRenderbuffer(t.RENDERBUFFER,ze),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,ze)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=t.createRenderbuffer(),Oe($.__webglDepthbuffer,ie,!1);else{const ke=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=$.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,ke,t.RENDERBUFFER,Ie)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(ie,$,be){const ke=i.get(ie);$!==void 0&&ve(ke.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),be!==void 0&&me(ie)}function je(ie){const $=ie.texture,be=i.get(ie),ke=i.get($);ie.addEventListener("dispose",F);const Ie=ie.textures,ze=ie.isWebGLCubeRenderTarget===!0,Mt=Ie.length>1;if(Mt||(ke.__webglTexture===void 0&&(ke.__webglTexture=t.createTexture()),ke.__version=$.version,o.memory.textures++),ze){be.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if($.mipmaps&&$.mipmaps.length>0){be.__webglFramebuffer[nt]=[];for(let ct=0;ct<$.mipmaps.length;ct++)be.__webglFramebuffer[nt][ct]=t.createFramebuffer()}else be.__webglFramebuffer[nt]=t.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){be.__webglFramebuffer=[];for(let nt=0;nt<$.mipmaps.length;nt++)be.__webglFramebuffer[nt]=t.createFramebuffer()}else be.__webglFramebuffer=t.createFramebuffer();if(Mt)for(let nt=0,ct=Ie.length;nt<ct;nt++){const jt=i.get(Ie[nt]);jt.__webglTexture===void 0&&(jt.__webglTexture=t.createTexture(),o.memory.textures++)}if(ie.samples>0&&Ae(ie)===!1){be.__webglMultisampledFramebuffer=t.createFramebuffer(),be.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let nt=0;nt<Ie.length;nt++){const ct=Ie[nt];be.__webglColorRenderbuffer[nt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,be.__webglColorRenderbuffer[nt]);const jt=s.convert(ct.format,ct.colorSpace),He=s.convert(ct.type),rt=E(ct.internalFormat,jt,He,ct.colorSpace,ie.isXRRenderTarget===!0),un=et(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,un,rt,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,be.__webglColorRenderbuffer[nt])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(be.__webglDepthRenderbuffer=t.createRenderbuffer(),Oe(be.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ze){n.bindTexture(t.TEXTURE_CUBE_MAP,ke.__webglTexture),q(t.TEXTURE_CUBE_MAP,$);for(let nt=0;nt<6;nt++)if($.mipmaps&&$.mipmaps.length>0)for(let ct=0;ct<$.mipmaps.length;ct++)ve(be.__webglFramebuffer[nt][ct],ie,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,ct);else ve(be.__webglFramebuffer[nt],ie,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);S($)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Mt){for(let nt=0,ct=Ie.length;nt<ct;nt++){const jt=Ie[nt],He=i.get(jt);n.bindTexture(t.TEXTURE_2D,He.__webglTexture),q(t.TEXTURE_2D,jt),ve(be.__webglFramebuffer,ie,jt,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,0),S(jt)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let nt=t.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(nt=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(nt,ke.__webglTexture),q(nt,$),$.mipmaps&&$.mipmaps.length>0)for(let ct=0;ct<$.mipmaps.length;ct++)ve(be.__webglFramebuffer[ct],ie,$,t.COLOR_ATTACHMENT0,nt,ct);else ve(be.__webglFramebuffer,ie,$,t.COLOR_ATTACHMENT0,nt,0);S($)&&_(nt),n.unbindTexture()}ie.depthBuffer&&me(ie)}function at(ie){const $=ie.textures;for(let be=0,ke=$.length;be<ke;be++){const Ie=$[be];if(S(Ie)){const ze=ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Mt=i.get(Ie).__webglTexture;n.bindTexture(ze,Mt),_(ze),n.unbindTexture()}}}const J=[],Pe=[];function Be(ie){if(ie.samples>0){if(Ae(ie)===!1){const $=ie.textures,be=ie.width,ke=ie.height;let Ie=t.COLOR_BUFFER_BIT;const ze=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Mt=i.get(ie),nt=$.length>1;if(nt)for(let ct=0;ct<$.length;ct++)n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Mt.__webglFramebuffer);for(let ct=0;ct<$.length;ct++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),nt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Mt.__webglColorRenderbuffer[ct]);const jt=i.get($[ct]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,jt,0)}t.blitFramebuffer(0,0,be,ke,0,0,be,ke,Ie,t.NEAREST),l===!0&&(J.length=0,Pe.length=0,J.push(t.COLOR_ATTACHMENT0+ct),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(J.push(ze),Pe.push(ze),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Pe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,J))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),nt)for(let ct=0;ct<$.length;ct++){n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,Mt.__webglColorRenderbuffer[ct]);const jt=i.get($[ct]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,jt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const $=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$])}}}function et(ie){return Math.min(r.maxSamples,ie.samples)}function Ae(ie){const $=i.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function Ct(ie){const $=o.render.frame;d.get(ie)!==$&&(d.set(ie,$),ie.update())}function tt(ie,$){const be=ie.colorSpace,ke=ie.format,Ie=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||be!==Mu&&be!==Yc&&(kn.getTransfer(be)===li?(ke!==ys||Ie!==rl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),$}function lt(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(c.width=ie.naturalWidth||ie.width,c.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(c.width=ie.displayWidth,c.height=ie.displayHeight):(c.width=ie.width,c.height=ie.height),c}this.allocateTextureUnit=W,this.resetTextureUnits=U,this.setTexture2D=ee,this.setTexture2DArray=K,this.setTexture3D=Z,this.setTextureCube=G,this.rebindTextures=ye,this.setupRenderTarget=je,this.updateRenderTargetMipmap=at,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ae}function UW(t,e){function n(i,r=Yc){let s;const o=kn.getTransfer(r);if(i===rl)return t.UNSIGNED_BYTE;if(i===mE)return t.UNSIGNED_SHORT_4_4_4_4;if(i===gE)return t.UNSIGNED_SHORT_5_5_5_1;if(i===eR)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===QI)return t.BYTE;if(i===ZI)return t.SHORT;if(i===Ng)return t.UNSIGNED_SHORT;if(i===pE)return t.INT;if(i===yu)return t.UNSIGNED_INT;if(i===ao)return t.FLOAT;if(i===rv)return t.HALF_FLOAT;if(i===tR)return t.ALPHA;if(i===nR)return t.RGB;if(i===ys)return t.RGBA;if(i===iR)return t.LUMINANCE;if(i===rR)return t.LUMINANCE_ALPHA;if(i===kh)return t.DEPTH_COMPONENT;if(i===Yh)return t.DEPTH_STENCIL;if(i===vE)return t.RED;if(i===jx)return t.RED_INTEGER;if(i===sR)return t.RG;if(i===yE)return t.RG_INTEGER;if(i===xE)return t.RGBA_INTEGER;if(i===m0||i===g0||i===v0||i===y0)if(o===li)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===m0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===g0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===v0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===y0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===m0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===g0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===v0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===y0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===VS||i===jS||i===WS||i===HS)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===VS)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===jS)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===WS)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===HS)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===GS||i===$S||i===qS)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===GS||i===$S)return o===li?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===qS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===XS||i===YS||i===KS||i===JS||i===QS||i===ZS||i===ew||i===tw||i===nw||i===iw||i===rw||i===sw||i===ow||i===aw)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===XS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===YS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===KS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===JS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===QS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===ZS)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===ew)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===tw)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===nw)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===iw)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===rw)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===sw)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===ow)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===aw)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===x0||i===lw||i===cw)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===x0)return o===li?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===lw)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===cw)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===oR||i===uw||i===dw||i===fw)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===x0)return s.COMPRESSED_RED_RGTC1_EXT;if(i===uw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===dw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===fw)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Xh?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class VW extends Nr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class rg extends An{constructor(){super(),this.isGroup=!0,this.type="Group"}}const oye={type:"move"};class YC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new rg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new rg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new rg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const b of e.hand.values()){const S=n.getJointPose(b,i),_=this._getHandJoint(c,b);S!==null&&(_.matrix.fromArray(S.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=S.radius),_.visible=S!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),v=.02,y=.005;c.inputState.pinching&&p>v+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=v-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(oye)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new rg;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const aye=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,lye=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class cye{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new Si,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new ha({vertexShader:aye,fragmentShader:lye,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new rr(new ov(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class uye extends sc{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,v=null,y=null;const b=new cye,S=n.getContextAttributes();let _=null,E=null;const T=[],P=[],k=new De;let F=null;const D=new Nr;D.layers.enable(1),D.viewport=new Tn;const B=new Nr;B.layers.enable(2),B.viewport=new Tn;const N=[D,B],R=new VW;R.layers.enable(1),R.layers.enable(2);let U=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let ve=T[he];return ve===void 0&&(ve=new YC,T[he]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(he){let ve=T[he];return ve===void 0&&(ve=new YC,T[he]=ve),ve.getGripSpace()},this.getHand=function(he){let ve=T[he];return ve===void 0&&(ve=new YC,T[he]=ve),ve.getHandSpace()};function Y(he){const ve=P.indexOf(he.inputSource);if(ve===-1)return;const Oe=T[ve];Oe!==void 0&&(Oe.update(he.inputSource,he.frame,c||o),Oe.dispatchEvent({type:he.type,data:he.inputSource}))}function ee(){r.removeEventListener("select",Y),r.removeEventListener("selectstart",Y),r.removeEventListener("selectend",Y),r.removeEventListener("squeeze",Y),r.removeEventListener("squeezestart",Y),r.removeEventListener("squeezeend",Y),r.removeEventListener("end",ee),r.removeEventListener("inputsourceschange",K);for(let he=0;he<T.length;he++){const ve=P[he];ve!==null&&(P[he]=null,T[he].disconnect(ve))}U=null,W=null,b.reset(),e.setRenderTarget(_),v=null,p=null,h=null,r=null,E=null,Re.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(k.width,k.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){s=he,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){a=he,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(he){c=he},this.getBaseLayer=function(){return p!==null?p:v},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(he){if(r=he,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",Y),r.addEventListener("selectstart",Y),r.addEventListener("selectend",Y),r.addEventListener("squeeze",Y),r.addEventListener("squeezestart",Y),r.addEventListener("squeezeend",Y),r.addEventListener("end",ee),r.addEventListener("inputsourceschange",K),S.xrCompatible!==!0&&await n.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(k),r.renderState.layers===void 0){const ve={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,n,ve),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),E=new sl(v.framebufferWidth,v.framebufferHeight,{format:ys,type:rl,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let ve=null,Oe=null,Fe=null;S.depth&&(Fe=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=S.stencil?Yh:kh,Oe=S.stencil?Xh:yu);const me={colorFormat:n.RGBA8,depthFormat:Fe,scaleFactor:s};h=new XRWebGLBinding(r,n),p=h.createProjectionLayer(me),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),E=new sl(p.textureWidth,p.textureHeight,{format:ys,type:rl,depthTexture:new mR(p.textureWidth,p.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}E.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Re.setContext(r),Re.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function K(he){for(let ve=0;ve<he.removed.length;ve++){const Oe=he.removed[ve],Fe=P.indexOf(Oe);Fe>=0&&(P[Fe]=null,T[Fe].disconnect(Oe))}for(let ve=0;ve<he.added.length;ve++){const Oe=he.added[ve];let Fe=P.indexOf(Oe);if(Fe===-1){for(let ye=0;ye<T.length;ye++)if(ye>=P.length){P.push(Oe),Fe=ye;break}else if(P[ye]===null){P[ye]=Oe,Fe=ye;break}if(Fe===-1)break}const me=T[Fe];me&&me.connect(Oe)}}const Z=new te,G=new te;function j(he,ve,Oe){Z.setFromMatrixPosition(ve.matrixWorld),G.setFromMatrixPosition(Oe.matrixWorld);const Fe=Z.distanceTo(G),me=ve.projectionMatrix.elements,ye=Oe.projectionMatrix.elements,je=me[14]/(me[10]-1),at=me[14]/(me[10]+1),J=(me[9]+1)/me[5],Pe=(me[9]-1)/me[5],Be=(me[8]-1)/me[0],et=(ye[8]+1)/ye[0],Ae=je*Be,Ct=je*et,tt=Fe/(-Be+et),lt=tt*-Be;if(ve.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(lt),he.translateZ(tt),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert(),me[10]===-1)he.projectionMatrix.copy(ve.projectionMatrix),he.projectionMatrixInverse.copy(ve.projectionMatrixInverse);else{const ie=je+tt,$=at+tt,be=Ae-lt,ke=Ct+(Fe-lt),Ie=J*at/$*ie,ze=Pe*at/$*ie;he.projectionMatrix.makePerspective(be,ke,Ie,ze,ie,$),he.projectionMatrixInverse.copy(he.projectionMatrix).invert()}}function Q(he,ve){ve===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(ve.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(r===null)return;let ve=he.near,Oe=he.far;b.texture!==null&&(b.depthNear>0&&(ve=b.depthNear),b.depthFar>0&&(Oe=b.depthFar)),R.near=B.near=D.near=ve,R.far=B.far=D.far=Oe,(U!==R.near||W!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),U=R.near,W=R.far);const Fe=he.parent,me=R.cameras;Q(R,Fe);for(let ye=0;ye<me.length;ye++)Q(me[ye],Fe);me.length===2?j(R,D,B):R.projectionMatrix.copy(D.projectionMatrix),ne(he,R,Fe)};function ne(he,ve,Oe){Oe===null?he.matrix.copy(ve.matrixWorld):(he.matrix.copy(Oe.matrixWorld),he.matrix.invert(),he.matrix.multiply(ve.matrixWorld)),he.matrix.decompose(he.position,he.quaternion,he.scale),he.updateMatrixWorld(!0),he.projectionMatrix.copy(ve.projectionMatrix),he.projectionMatrixInverse.copy(ve.projectionMatrixInverse),he.isPerspectiveCamera&&(he.fov=Lg*2*Math.atan(1/he.projectionMatrix.elements[5]),he.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&v===null))return l},this.setFoveation=function(he){l=he,p!==null&&(p.fixedFoveation=he),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=he)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(R)};let q=null;function ae(he,ve){if(d=ve.getViewerPose(c||o),y=ve,d!==null){const Oe=d.views;v!==null&&(e.setRenderTargetFramebuffer(E,v.framebuffer),e.setRenderTarget(E));let Fe=!1;Oe.length!==R.cameras.length&&(R.cameras.length=0,Fe=!0);for(let ye=0;ye<Oe.length;ye++){const je=Oe[ye];let at=null;if(v!==null)at=v.getViewport(je);else{const Pe=h.getViewSubImage(p,je);at=Pe.viewport,ye===0&&(e.setRenderTargetTextures(E,Pe.colorTexture,p.ignoreDepthValues?void 0:Pe.depthStencilTexture),e.setRenderTarget(E))}let J=N[ye];J===void 0&&(J=new Nr,J.layers.enable(ye),J.viewport=new Tn,N[ye]=J),J.matrix.fromArray(je.transform.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale),J.projectionMatrix.fromArray(je.projectionMatrix),J.projectionMatrixInverse.copy(J.projectionMatrix).invert(),J.viewport.set(at.x,at.y,at.width,at.height),ye===0&&(R.matrix.copy(J.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Fe===!0&&R.cameras.push(J)}const me=r.enabledFeatures;if(me&&me.includes("depth-sensing")){const ye=h.getDepthInformation(Oe[0]);ye&&ye.isValid&&ye.texture&&b.init(e,ye,r.renderState)}}for(let Oe=0;Oe<T.length;Oe++){const Fe=P[Oe],me=T[Oe];Fe!==null&&me!==void 0&&me.update(Fe,ve,c||o)}q&&q(he,ve),ve.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ve}),y=null}const Re=new DW;Re.setAnimationLoop(ae),this.setAnimationLoop=function(he){q=he},this.dispose=function(){}}}const ih=new fo,dye=new Dt;function fye(t,e){function n(S,_){S.matrixAutoUpdate===!0&&S.updateMatrix(),_.value.copy(S.matrix)}function i(S,_){_.color.getRGB(S.fogColor.value,kW(t)),_.isFog?(S.fogNear.value=_.near,S.fogFar.value=_.far):_.isFogExp2&&(S.fogDensity.value=_.density)}function r(S,_,E,T,P){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(S,_):_.isMeshToonMaterial?(s(S,_),h(S,_)):_.isMeshPhongMaterial?(s(S,_),d(S,_)):_.isMeshStandardMaterial?(s(S,_),p(S,_),_.isMeshPhysicalMaterial&&v(S,_,P)):_.isMeshMatcapMaterial?(s(S,_),y(S,_)):_.isMeshDepthMaterial?s(S,_):_.isMeshDistanceMaterial?(s(S,_),b(S,_)):_.isMeshNormalMaterial?s(S,_):_.isLineBasicMaterial?(o(S,_),_.isLineDashedMaterial&&a(S,_)):_.isPointsMaterial?l(S,_,E,T):_.isSpriteMaterial?c(S,_):_.isShadowMaterial?(S.color.value.copy(_.color),S.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(S,_){S.opacity.value=_.opacity,_.color&&S.diffuse.value.copy(_.color),_.emissive&&S.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(S.map.value=_.map,n(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,n(_.alphaMap,S.alphaMapTransform)),_.bumpMap&&(S.bumpMap.value=_.bumpMap,n(_.bumpMap,S.bumpMapTransform),S.bumpScale.value=_.bumpScale,_.side===Us&&(S.bumpScale.value*=-1)),_.normalMap&&(S.normalMap.value=_.normalMap,n(_.normalMap,S.normalMapTransform),S.normalScale.value.copy(_.normalScale),_.side===Us&&S.normalScale.value.negate()),_.displacementMap&&(S.displacementMap.value=_.displacementMap,n(_.displacementMap,S.displacementMapTransform),S.displacementScale.value=_.displacementScale,S.displacementBias.value=_.displacementBias),_.emissiveMap&&(S.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,S.emissiveMapTransform)),_.specularMap&&(S.specularMap.value=_.specularMap,n(_.specularMap,S.specularMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest);const E=e.get(_),T=E.envMap,P=E.envMapRotation;T&&(S.envMap.value=T,ih.copy(P),ih.x*=-1,ih.y*=-1,ih.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(ih.y*=-1,ih.z*=-1),S.envMapRotation.value.setFromMatrix4(dye.makeRotationFromEuler(ih)),S.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=_.reflectivity,S.ior.value=_.ior,S.refractionRatio.value=_.refractionRatio),_.lightMap&&(S.lightMap.value=_.lightMap,S.lightMapIntensity.value=_.lightMapIntensity,n(_.lightMap,S.lightMapTransform)),_.aoMap&&(S.aoMap.value=_.aoMap,S.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,S.aoMapTransform))}function o(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,_.map&&(S.map.value=_.map,n(_.map,S.mapTransform))}function a(S,_){S.dashSize.value=_.dashSize,S.totalSize.value=_.dashSize+_.gapSize,S.scale.value=_.scale}function l(S,_,E,T){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.size.value=_.size*E,S.scale.value=T*.5,_.map&&(S.map.value=_.map,n(_.map,S.uvTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,n(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function c(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.rotation.value=_.rotation,_.map&&(S.map.value=_.map,n(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,n(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function d(S,_){S.specular.value.copy(_.specular),S.shininess.value=Math.max(_.shininess,1e-4)}function h(S,_){_.gradientMap&&(S.gradientMap.value=_.gradientMap)}function p(S,_){S.metalness.value=_.metalness,_.metalnessMap&&(S.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,S.metalnessMapTransform)),S.roughness.value=_.roughness,_.roughnessMap&&(S.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,S.roughnessMapTransform)),_.envMap&&(S.envMapIntensity.value=_.envMapIntensity)}function v(S,_,E){S.ior.value=_.ior,_.sheen>0&&(S.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),S.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(S.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,S.sheenColorMapTransform)),_.sheenRoughnessMap&&(S.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,S.sheenRoughnessMapTransform))),_.clearcoat>0&&(S.clearcoat.value=_.clearcoat,S.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(S.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,S.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(S.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Us&&S.clearcoatNormalScale.value.negate())),_.dispersion>0&&(S.dispersion.value=_.dispersion),_.iridescence>0&&(S.iridescence.value=_.iridescence,S.iridescenceIOR.value=_.iridescenceIOR,S.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(S.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,S.iridescenceMapTransform)),_.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),_.transmission>0&&(S.transmission.value=_.transmission,S.transmissionSamplerMap.value=E.texture,S.transmissionSamplerSize.value.set(E.width,E.height),_.transmissionMap&&(S.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,S.transmissionMapTransform)),S.thickness.value=_.thickness,_.thicknessMap&&(S.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=_.attenuationDistance,S.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(S.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(S.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=_.specularIntensity,S.specularColor.value.copy(_.specularColor),_.specularColorMap&&(S.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,S.specularColorMapTransform)),_.specularIntensityMap&&(S.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,S.specularIntensityMapTransform))}function y(S,_){_.matcap&&(S.matcap.value=_.matcap)}function b(S,_){const E=e.get(_).light;S.referencePosition.value.setFromMatrixPosition(E.matrixWorld),S.nearDistance.value=E.shadow.camera.near,S.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function hye(t,e,n,i){let r={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(E,T){const P=T.program;i.uniformBlockBinding(E,P)}function c(E,T){let P=r[E.id];P===void 0&&(y(E),P=d(E),r[E.id]=P,E.addEventListener("dispose",S));const k=T.program;i.updateUBOMapping(E,k);const F=e.render.frame;s[E.id]!==F&&(p(E),s[E.id]=F)}function d(E){const T=h();E.__bindingPointIndex=T;const P=t.createBuffer(),k=E.__size,F=E.usage;return t.bindBuffer(t.UNIFORM_BUFFER,P),t.bufferData(t.UNIFORM_BUFFER,k,F),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,P),P}function h(){for(let E=0;E<a;E++)if(o.indexOf(E)===-1)return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(E){const T=r[E.id],P=E.uniforms,k=E.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let F=0,D=P.length;F<D;F++){const B=Array.isArray(P[F])?P[F]:[P[F]];for(let N=0,R=B.length;N<R;N++){const U=B[N];if(v(U,F,N,k)===!0){const W=U.__offset,Y=Array.isArray(U.value)?U.value:[U.value];let ee=0;for(let K=0;K<Y.length;K++){const Z=Y[K],G=b(Z);typeof Z=="number"||typeof Z=="boolean"?(U.__data[0]=Z,t.bufferSubData(t.UNIFORM_BUFFER,W+ee,U.__data)):Z.isMatrix3?(U.__data[0]=Z.elements[0],U.__data[1]=Z.elements[1],U.__data[2]=Z.elements[2],U.__data[3]=0,U.__data[4]=Z.elements[3],U.__data[5]=Z.elements[4],U.__data[6]=Z.elements[5],U.__data[7]=0,U.__data[8]=Z.elements[6],U.__data[9]=Z.elements[7],U.__data[10]=Z.elements[8],U.__data[11]=0):(Z.toArray(U.__data,ee),ee+=G.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,U.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(E,T,P,k){const F=E.value,D=T+"_"+P;if(k[D]===void 0)return typeof F=="number"||typeof F=="boolean"?k[D]=F:k[D]=F.clone(),!0;{const B=k[D];if(typeof F=="number"||typeof F=="boolean"){if(B!==F)return k[D]=F,!0}else if(B.equals(F)===!1)return B.copy(F),!0}return!1}function y(E){const T=E.uniforms;let P=0;const k=16;for(let D=0,B=T.length;D<B;D++){const N=Array.isArray(T[D])?T[D]:[T[D]];for(let R=0,U=N.length;R<U;R++){const W=N[R],Y=Array.isArray(W.value)?W.value:[W.value];for(let ee=0,K=Y.length;ee<K;ee++){const Z=Y[ee],G=b(Z),j=P%k,Q=j%G.boundary,ne=j+Q;P+=Q,ne!==0&&k-ne<G.storage&&(P+=k-ne),W.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=P,P+=G.storage}}}const F=P%k;return F>0&&(P+=k-F),E.__size=P,E.__cache={},this}function b(E){const T={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(T.boundary=4,T.storage=4):E.isVector2?(T.boundary=8,T.storage=8):E.isVector3||E.isColor?(T.boundary=16,T.storage=12):E.isVector4?(T.boundary=16,T.storage=16):E.isMatrix3?(T.boundary=48,T.storage=48):E.isMatrix4?(T.boundary=64,T.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),T}function S(E){const T=E.target;T.removeEventListener("dispose",S);const P=o.indexOf(T.__bindingPointIndex);o.splice(P,1),t.deleteBuffer(r[T.id]),delete r[T.id],delete s[T.id]}function _(){for(const E in r)t.deleteBuffer(r[E]);o=[],r={},s={}}return{bind:l,update:c,dispose:_}}class jW{constructor(e={}){const{canvas:n=AW(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const v=new Uint32Array(4),y=new Int32Array(4);let b=null,S=null;const _=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=oa,this.toneMapping=ql,this.toneMappingExposure=1;const T=this;let P=!1,k=0,F=0,D=null,B=-1,N=null;const R=new Tn,U=new Tn;let W=null;const Y=new ft(0);let ee=0,K=n.width,Z=n.height,G=1,j=null,Q=null;const ne=new Tn(0,0,K,Z),q=new Tn(0,0,K,Z);let ae=!1;const Re=new $x;let he=!1,ve=!1;const Oe=new Dt,Fe=new te,me=new Tn,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let je=!1;function at(){return D===null?G:1}let J=i;function Pe(X,de){return n.getContext(X,de)}try{const X={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Ux}`),n.addEventListener("webglcontextlost",Ne,!1),n.addEventListener("webglcontextrestored",Le,!1),n.addEventListener("webglcontextcreationerror",Ye,!1),J===null){const de="webgl2";if(J=Pe(de,X),J===null)throw Pe(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Be,et,Ae,Ct,tt,lt,ie,$,be,ke,Ie,ze,Mt,nt,ct,jt,He,rt,un,Ot,pt,Wt,Xt,Bn;function ue(){Be=new _ge(J),Be.init(),Wt=new UW(J,Be),et=new pge(J,Be,e,Wt),Ae=new Zve(J),Ct=new wge(J),tt=new Vve,lt=new sye(J,Be,Ae,tt,et,Wt,Ct),ie=new gge(T),$=new xge(T),be=new Ihe(J),Xt=new fge(J,be),ke=new bge(J,be,Ct,Xt),Ie=new Tge(J,ke,be,Ct),un=new Ege(J,et,lt),jt=new mge(tt),ze=new Uve(T,ie,$,Be,et,Xt,jt),Mt=new fye(T,tt),nt=new Wve,ct=new Yve(Be),rt=new dge(T,ie,$,Ae,Ie,p,l),He=new Qve(T,Ie,et),Bn=new hye(J,Ct,et,Ae),Ot=new hge(J,Be,Ct),pt=new Sge(J,Be,Ct),Ct.programs=ze.programs,T.capabilities=et,T.extensions=Be,T.properties=tt,T.renderLists=nt,T.shadowMap=He,T.state=Ae,T.info=Ct}ue();const $e=new uye(T,J);this.xr=$e,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const X=Be.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Be.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(X){X!==void 0&&(G=X,this.setSize(K,Z,!1))},this.getSize=function(X){return X.set(K,Z)},this.setSize=function(X,de,Se=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=X,Z=de,n.width=Math.floor(X*G),n.height=Math.floor(de*G),Se===!0&&(n.style.width=X+"px",n.style.height=de+"px"),this.setViewport(0,0,X,de)},this.getDrawingBufferSize=function(X){return X.set(K*G,Z*G).floor()},this.setDrawingBufferSize=function(X,de,Se){K=X,Z=de,G=Se,n.width=Math.floor(X*Se),n.height=Math.floor(de*Se),this.setViewport(0,0,X,de)},this.getCurrentViewport=function(X){return X.copy(R)},this.getViewport=function(X){return X.copy(ne)},this.setViewport=function(X,de,Se,we){X.isVector4?ne.set(X.x,X.y,X.z,X.w):ne.set(X,de,Se,we),Ae.viewport(R.copy(ne).multiplyScalar(G).round())},this.getScissor=function(X){return X.copy(q)},this.setScissor=function(X,de,Se,we){X.isVector4?q.set(X.x,X.y,X.z,X.w):q.set(X,de,Se,we),Ae.scissor(U.copy(q).multiplyScalar(G).round())},this.getScissorTest=function(){return ae},this.setScissorTest=function(X){Ae.setScissorTest(ae=X)},this.setOpaqueSort=function(X){j=X},this.setTransparentSort=function(X){Q=X},this.getClearColor=function(X){return X.copy(rt.getClearColor())},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=function(){rt.setClearAlpha.apply(rt,arguments)},this.clear=function(X=!0,de=!0,Se=!0){let we=0;if(X){let pe=!1;if(D!==null){const qe=D.texture.format;pe=qe===xE||qe===yE||qe===jx}if(pe){const qe=D.texture.type,ut=qe===rl||qe===yu||qe===Ng||qe===Xh||qe===mE||qe===gE,yt=rt.getClearColor(),Je=rt.getClearAlpha(),At=yt.r,Pt=yt.g,_t=yt.b;ut?(v[0]=At,v[1]=Pt,v[2]=_t,v[3]=Je,J.clearBufferuiv(J.COLOR,0,v)):(y[0]=At,y[1]=Pt,y[2]=_t,y[3]=Je,J.clearBufferiv(J.COLOR,0,y))}else we|=J.COLOR_BUFFER_BIT}de&&(we|=J.DEPTH_BUFFER_BIT),Se&&(we|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ne,!1),n.removeEventListener("webglcontextrestored",Le,!1),n.removeEventListener("webglcontextcreationerror",Ye,!1),nt.dispose(),ct.dispose(),tt.dispose(),ie.dispose(),$.dispose(),Ie.dispose(),Xt.dispose(),Bn.dispose(),ze.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Zr),$e.removeEventListener("sessionend",hl),po.stop()};function Ne(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const X=Ct.autoReset,de=He.enabled,Se=He.autoUpdate,we=He.needsUpdate,pe=He.type;ue(),Ct.autoReset=X,He.enabled=de,He.autoUpdate=Se,He.needsUpdate=we,He.type=pe}function Ye(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function kt(X){const de=X.target;de.removeEventListener("dispose",kt),cn(de)}function cn(X){ri(X),tt.remove(X)}function ri(X){const de=tt.get(X).programs;de!==void 0&&(de.forEach(function(Se){ze.releaseProgram(Se)}),X.isShaderMaterial&&ze.releaseShaderCache(X))}this.renderBufferDirect=function(X,de,Se,we,pe,qe){de===null&&(de=ye);const ut=pe.isMesh&&pe.matrixWorld.determinant()<0,yt=pv(X,de,Se,we,pe);Ae.setMaterial(we,ut);let Je=Se.index,At=1;if(we.wireframe===!0){if(Je=ke.getWireframeAttribute(Se),Je===void 0)return;At=2}const Pt=Se.drawRange,_t=Se.attributes.position;let mn=Pt.start*At,Hn=(Pt.start+Pt.count)*At;qe!==null&&(mn=Math.max(mn,qe.start*At),Hn=Math.min(Hn,(qe.start+qe.count)*At)),Je!==null?(mn=Math.max(mn,0),Hn=Math.min(Hn,Je.count)):_t!=null&&(mn=Math.max(mn,0),Hn=Math.min(Hn,_t.count));const Pn=Hn-mn;if(Pn<0||Pn===1/0)return;Xt.setup(pe,we,yt,Se,Je);let Zn,gt=Ot;if(Je!==null&&(Zn=be.get(Je),gt=pt,gt.setIndex(Zn)),pe.isMesh)we.wireframe===!0?(Ae.setLineWidth(we.wireframeLinewidth*at()),gt.setMode(J.LINES)):gt.setMode(J.TRIANGLES);else if(pe.isLine){let Qe=we.linewidth;Qe===void 0&&(Qe=1),Ae.setLineWidth(Qe*at()),pe.isLineSegments?gt.setMode(J.LINES):pe.isLineLoop?gt.setMode(J.LINE_LOOP):gt.setMode(J.LINE_STRIP)}else pe.isPoints?gt.setMode(J.POINTS):pe.isSprite&&gt.setMode(J.TRIANGLES);if(pe.isBatchedMesh)if(pe._multiDrawInstances!==null)gt.renderMultiDrawInstances(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount,pe._multiDrawInstances);else if(Be.get("WEBGL_multi_draw"))gt.renderMultiDraw(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount);else{const Qe=pe._multiDrawStarts,dn=pe._multiDrawCounts,Bt=pe._multiDrawCount,Gn=Je?be.get(Je).bytesPerElement:1,es=tt.get(we).currentProgram.getUniforms();for(let hi=0;hi<Bt;hi++)es.setValue(J,"_gl_DrawID",hi),gt.render(Qe[hi]/Gn,dn[hi])}else if(pe.isInstancedMesh)gt.renderInstances(mn,Pn,pe.count);else if(Se.isInstancedBufferGeometry){const Qe=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,dn=Math.min(Se.instanceCount,Qe);gt.renderInstances(mn,Pn,dn)}else gt.render(mn,Pn)};function ki(X,de,Se){X.transparent===!0&&X.side===Ja&&X.forceSinglePass===!1?(X.side=Us,X.needsUpdate=!0,pl(X,de,Se),X.side=gu,X.needsUpdate=!0,pl(X,de,Se),X.side=Ja):pl(X,de,Se)}this.compile=function(X,de,Se=null){Se===null&&(Se=X),S=ct.get(Se),S.init(de),E.push(S),Se.traverseVisible(function(pe){pe.isLight&&pe.layers.test(de.layers)&&(S.pushLight(pe),pe.castShadow&&S.pushShadow(pe))}),X!==Se&&X.traverseVisible(function(pe){pe.isLight&&pe.layers.test(de.layers)&&(S.pushLight(pe),pe.castShadow&&S.pushShadow(pe))}),S.setupLights();const we=new Set;return X.traverse(function(pe){const qe=pe.material;if(qe)if(Array.isArray(qe))for(let ut=0;ut<qe.length;ut++){const yt=qe[ut];ki(yt,Se,pe),we.add(yt)}else ki(qe,Se,pe),we.add(qe)}),E.pop(),S=null,we},this.compileAsync=function(X,de,Se=null){const we=this.compile(X,de,Se);return new Promise(pe=>{function qe(){if(we.forEach(function(ut){tt.get(ut).currentProgram.isReady()&&we.delete(ut)}),we.size===0){pe(X);return}setTimeout(qe,10)}Be.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let yn=null;function Qr(X){yn&&yn(X)}function Zr(){po.stop()}function hl(){po.start()}const po=new DW;po.setAnimationLoop(Qr),typeof self<"u"&&po.setContext(self),this.setAnimationLoop=function(X){yn=X,$e.setAnimationLoop(X),X===null?po.stop():po.start()},$e.addEventListener("sessionstart",Zr),$e.addEventListener("sessionend",hl),this.render=function(X,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(de),de=$e.getCamera()),X.isScene===!0&&X.onBeforeRender(T,X,de,D),S=ct.get(X,E.length),S.init(de),E.push(S),Oe.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),Re.setFromProjectionMatrix(Oe),ve=this.localClippingEnabled,he=jt.init(this.clippingPlanes,ve),b=nt.get(X,_.length),b.init(),_.push(b),$e.enabled===!0&&$e.isPresenting===!0){const qe=T.xr.getDepthSensingMesh();qe!==null&&pa(qe,de,-1/0,T.sortObjects)}pa(X,de,0,T.sortObjects),b.finish(),T.sortObjects===!0&&b.sort(j,Q),je=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,je&&rt.addToRenderList(b,X),this.info.render.frame++,he===!0&&jt.beginShadows();const Se=S.state.shadowsArray;He.render(Se,X,de),he===!0&&jt.endShadows(),this.info.autoReset===!0&&this.info.reset();const we=b.opaque,pe=b.transmissive;if(S.setupLights(),de.isArrayCamera){const qe=de.cameras;if(pe.length>0)for(let ut=0,yt=qe.length;ut<yt;ut++){const Je=qe[ut];Wo(we,pe,X,Je)}je&&rt.render(X);for(let ut=0,yt=qe.length;ut<yt;ut++){const Je=qe[ut];lf(b,X,Je,Je.viewport)}}else pe.length>0&&Wo(we,pe,X,de),je&&rt.render(X),lf(b,X,de);D!==null&&(lt.updateMultisampleRenderTarget(D),lt.updateRenderTargetMipmap(D)),X.isScene===!0&&X.onAfterRender(T,X,de),Xt.resetDefaultState(),B=-1,N=null,E.pop(),E.length>0?(S=E[E.length-1],he===!0&&jt.setGlobalState(T.clippingPlanes,S.state.camera)):S=null,_.pop(),_.length>0?b=_[_.length-1]:b=null};function pa(X,de,Se,we){if(X.visible===!1)return;if(X.layers.test(de.layers)){if(X.isGroup)Se=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(de);else if(X.isLight)S.pushLight(X),X.castShadow&&S.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||Re.intersectsSprite(X)){we&&me.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Oe);const ut=Ie.update(X),yt=X.material;yt.visible&&b.push(X,ut,yt,Se,me.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||Re.intersectsObject(X))){const ut=Ie.update(X),yt=X.material;if(we&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),me.copy(X.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),me.copy(ut.boundingSphere.center)),me.applyMatrix4(X.matrixWorld).applyMatrix4(Oe)),Array.isArray(yt)){const Je=ut.groups;for(let At=0,Pt=Je.length;At<Pt;At++){const _t=Je[At],mn=yt[_t.materialIndex];mn&&mn.visible&&b.push(X,ut,mn,Se,me.z,_t)}}else yt.visible&&b.push(X,ut,yt,Se,me.z,null)}}const qe=X.children;for(let ut=0,yt=qe.length;ut<yt;ut++)pa(qe[ut],de,Se,we)}function lf(X,de,Se,we){const pe=X.opaque,qe=X.transmissive,ut=X.transparent;S.setupLightsView(Se),he===!0&&jt.setGlobalState(T.clippingPlanes,Se),we&&Ae.viewport(R.copy(we)),pe.length>0&&ma(pe,de,Se),qe.length>0&&ma(qe,de,Se),ut.length>0&&ma(ut,de,Se),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Wo(X,de,Se,we){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[we.id]===void 0&&(S.state.transmissionRenderTarget[we.id]=new sl(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?rv:rl,minFilter:Bl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:kn.workingColorSpace}));const qe=S.state.transmissionRenderTarget[we.id],ut=we.viewport||R;qe.setSize(ut.z,ut.w);const yt=T.getRenderTarget();T.setRenderTarget(qe),T.getClearColor(Y),ee=T.getClearAlpha(),ee<1&&T.setClearColor(16777215,.5),T.clear(),je&&rt.render(Se);const Je=T.toneMapping;T.toneMapping=ql;const At=we.viewport;if(we.viewport!==void 0&&(we.viewport=void 0),S.setupLightsView(we),he===!0&&jt.setGlobalState(T.clippingPlanes,we),ma(X,Se,we),lt.updateMultisampleRenderTarget(qe),lt.updateRenderTargetMipmap(qe),Be.has("WEBGL_multisampled_render_to_texture")===!1){let Pt=!1;for(let _t=0,mn=de.length;_t<mn;_t++){const Hn=de[_t],Pn=Hn.object,Zn=Hn.geometry,gt=Hn.material,Qe=Hn.group;if(gt.side===Ja&&Pn.layers.test(we.layers)){const dn=gt.side;gt.side=Us,gt.needsUpdate=!0,mo(Pn,Se,we,Zn,gt,Qe),gt.side=dn,gt.needsUpdate=!0,Pt=!0}}Pt===!0&&(lt.updateMultisampleRenderTarget(qe),lt.updateRenderTargetMipmap(qe))}T.setRenderTarget(yt),T.setClearColor(Y,ee),At!==void 0&&(we.viewport=At),T.toneMapping=Je}function ma(X,de,Se){const we=de.isScene===!0?de.overrideMaterial:null;for(let pe=0,qe=X.length;pe<qe;pe++){const ut=X[pe],yt=ut.object,Je=ut.geometry,At=we===null?ut.material:we,Pt=ut.group;yt.layers.test(Se.layers)&&mo(yt,de,Se,Je,At,Pt)}}function mo(X,de,Se,we,pe,qe){X.onBeforeRender(T,de,Se,we,pe,qe),X.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),pe.onBeforeRender(T,de,Se,we,X,qe),pe.transparent===!0&&pe.side===Ja&&pe.forceSinglePass===!1?(pe.side=Us,pe.needsUpdate=!0,T.renderBufferDirect(Se,de,we,pe,X,qe),pe.side=gu,pe.needsUpdate=!0,T.renderBufferDirect(Se,de,we,pe,X,qe),pe.side=Ja):T.renderBufferDirect(Se,de,we,pe,X,qe),X.onAfterRender(T,de,Se,we,pe,qe)}function pl(X,de,Se){de.isScene!==!0&&(de=ye);const we=tt.get(X),pe=S.state.lights,qe=S.state.shadowsArray,ut=pe.state.version,yt=ze.getParameters(X,pe.state,qe,de,Se),Je=ze.getProgramCacheKey(yt);let At=we.programs;we.environment=X.isMeshStandardMaterial?de.environment:null,we.fog=de.fog,we.envMap=(X.isMeshStandardMaterial?$:ie).get(X.envMap||we.environment),we.envMapRotation=we.environment!==null&&X.envMap===null?de.environmentRotation:X.envMapRotation,At===void 0&&(X.addEventListener("dispose",kt),At=new Map,we.programs=At);let Pt=At.get(Je);if(Pt!==void 0){if(we.currentProgram===Pt&&we.lightsStateVersion===ut)return pp(X,yt),Pt}else yt.uniforms=ze.getUniforms(X),X.onBeforeCompile(yt,T),Pt=ze.acquireProgram(yt,Je),At.set(Je,Pt),we.uniforms=yt.uniforms;const _t=we.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(_t.clippingPlanes=jt.uniform),pp(X,yt),we.needsLights=mp(X),we.lightsStateVersion=ut,we.needsLights&&(_t.ambientLightColor.value=pe.state.ambient,_t.lightProbe.value=pe.state.probe,_t.directionalLights.value=pe.state.directional,_t.directionalLightShadows.value=pe.state.directionalShadow,_t.spotLights.value=pe.state.spot,_t.spotLightShadows.value=pe.state.spotShadow,_t.rectAreaLights.value=pe.state.rectArea,_t.ltc_1.value=pe.state.rectAreaLTC1,_t.ltc_2.value=pe.state.rectAreaLTC2,_t.pointLights.value=pe.state.point,_t.pointLightShadows.value=pe.state.pointShadow,_t.hemisphereLights.value=pe.state.hemi,_t.directionalShadowMap.value=pe.state.directionalShadowMap,_t.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,_t.spotShadowMap.value=pe.state.spotShadowMap,_t.spotLightMatrix.value=pe.state.spotLightMatrix,_t.spotLightMap.value=pe.state.spotLightMap,_t.pointShadowMap.value=pe.state.pointShadowMap,_t.pointShadowMatrix.value=pe.state.pointShadowMatrix),we.currentProgram=Pt,we.uniformsList=null,Pt}function hp(X){if(X.uniformsList===null){const de=X.currentProgram.getUniforms();X.uniformsList=$b.seqWithValue(de.seq,X.uniforms)}return X.uniformsList}function pp(X,de){const Se=tt.get(X);Se.outputColorSpace=de.outputColorSpace,Se.batching=de.batching,Se.batchingColor=de.batchingColor,Se.instancing=de.instancing,Se.instancingColor=de.instancingColor,Se.instancingMorph=de.instancingMorph,Se.skinning=de.skinning,Se.morphTargets=de.morphTargets,Se.morphNormals=de.morphNormals,Se.morphColors=de.morphColors,Se.morphTargetsCount=de.morphTargetsCount,Se.numClippingPlanes=de.numClippingPlanes,Se.numIntersection=de.numClipIntersection,Se.vertexAlphas=de.vertexAlphas,Se.vertexTangents=de.vertexTangents,Se.toneMapping=de.toneMapping}function pv(X,de,Se,we,pe){de.isScene!==!0&&(de=ye),lt.resetTextureUnits();const qe=de.fog,ut=we.isMeshStandardMaterial?de.environment:null,yt=D===null?T.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:Mu,Je=(we.isMeshStandardMaterial?$:ie).get(we.envMap||ut),At=we.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,Pt=!!Se.attributes.tangent&&(!!we.normalMap||we.anisotropy>0),_t=!!Se.morphAttributes.position,mn=!!Se.morphAttributes.normal,Hn=!!Se.morphAttributes.color;let Pn=ql;we.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Pn=T.toneMapping);const Zn=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,gt=Zn!==void 0?Zn.length:0,Qe=tt.get(we),dn=S.state.lights;if(he===!0&&(ve===!0||X!==N)){const lr=X===N&&we.id===B;jt.setState(we,X,lr)}let Bt=!1;we.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==dn.state.version||Qe.outputColorSpace!==yt||pe.isBatchedMesh&&Qe.batching===!1||!pe.isBatchedMesh&&Qe.batching===!0||pe.isBatchedMesh&&Qe.batchingColor===!0&&pe.colorTexture===null||pe.isBatchedMesh&&Qe.batchingColor===!1&&pe.colorTexture!==null||pe.isInstancedMesh&&Qe.instancing===!1||!pe.isInstancedMesh&&Qe.instancing===!0||pe.isSkinnedMesh&&Qe.skinning===!1||!pe.isSkinnedMesh&&Qe.skinning===!0||pe.isInstancedMesh&&Qe.instancingColor===!0&&pe.instanceColor===null||pe.isInstancedMesh&&Qe.instancingColor===!1&&pe.instanceColor!==null||pe.isInstancedMesh&&Qe.instancingMorph===!0&&pe.morphTexture===null||pe.isInstancedMesh&&Qe.instancingMorph===!1&&pe.morphTexture!==null||Qe.envMap!==Je||we.fog===!0&&Qe.fog!==qe||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==jt.numPlanes||Qe.numIntersection!==jt.numIntersection)||Qe.vertexAlphas!==At||Qe.vertexTangents!==Pt||Qe.morphTargets!==_t||Qe.morphNormals!==mn||Qe.morphColors!==Hn||Qe.toneMapping!==Pn||Qe.morphTargetsCount!==gt)&&(Bt=!0):(Bt=!0,Qe.__version=we.version);let Gn=Qe.currentProgram;Bt===!0&&(Gn=pl(we,de,pe));let es=!1,hi=!1,wi=!1;const Ln=Gn.getUniforms(),ts=Qe.uniforms;if(Ae.useProgram(Gn.program)&&(es=!0,hi=!0,wi=!0),we.id!==B&&(B=we.id,hi=!0),es||N!==X){Ln.setValue(J,"projectionMatrix",X.projectionMatrix),Ln.setValue(J,"viewMatrix",X.matrixWorldInverse);const lr=Ln.map.cameraPosition;lr!==void 0&&lr.setValue(J,Fe.setFromMatrixPosition(X.matrixWorld)),et.logarithmicDepthBuffer&&Ln.setValue(J,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&Ln.setValue(J,"isOrthographic",X.isOrthographicCamera===!0),N!==X&&(N=X,hi=!0,wi=!0)}if(pe.isSkinnedMesh){Ln.setOptional(J,pe,"bindMatrix"),Ln.setOptional(J,pe,"bindMatrixInverse");const lr=pe.skeleton;lr&&(lr.boneTexture===null&&lr.computeBoneTexture(),Ln.setValue(J,"boneTexture",lr.boneTexture,lt))}pe.isBatchedMesh&&(Ln.setOptional(J,pe,"batchingTexture"),Ln.setValue(J,"batchingTexture",pe._matricesTexture,lt),Ln.setOptional(J,pe,"batchingIdTexture"),Ln.setValue(J,"batchingIdTexture",pe._indirectTexture,lt),Ln.setOptional(J,pe,"batchingColorTexture"),pe._colorsTexture!==null&&Ln.setValue(J,"batchingColorTexture",pe._colorsTexture,lt));const Au=Se.morphAttributes;if((Au.position!==void 0||Au.normal!==void 0||Au.color!==void 0)&&un.update(pe,Se,Gn),(hi||Qe.receiveShadow!==pe.receiveShadow)&&(Qe.receiveShadow=pe.receiveShadow,Ln.setValue(J,"receiveShadow",pe.receiveShadow)),we.isMeshGouraudMaterial&&we.envMap!==null&&(ts.envMap.value=Je,ts.flipEnvMap.value=Je.isCubeTexture&&Je.isRenderTargetTexture===!1?-1:1),we.isMeshStandardMaterial&&we.envMap===null&&de.environment!==null&&(ts.envMapIntensity.value=de.environmentIntensity),hi&&(Ln.setValue(J,"toneMappingExposure",T.toneMappingExposure),Qe.needsLights&&ga(ts,wi),qe&&we.fog===!0&&Mt.refreshFogUniforms(ts,qe),Mt.refreshMaterialUniforms(ts,we,G,Z,S.state.transmissionRenderTarget[X.id]),$b.upload(J,hp(Qe),ts,lt)),we.isShaderMaterial&&we.uniformsNeedUpdate===!0&&($b.upload(J,hp(Qe),ts,lt),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&Ln.setValue(J,"center",pe.center),Ln.setValue(J,"modelViewMatrix",pe.modelViewMatrix),Ln.setValue(J,"normalMatrix",pe.normalMatrix),Ln.setValue(J,"modelMatrix",pe.matrixWorld),we.isShaderMaterial||we.isRawShaderMaterial){const lr=we.uniformsGroups;for(let ml=0,ns=lr.length;ml<ns;ml++){const Pu=lr[ml];Bn.update(Pu,Gn),Bn.bind(Pu,Gn)}}return Gn}function ga(X,de){X.ambientLightColor.needsUpdate=de,X.lightProbe.needsUpdate=de,X.directionalLights.needsUpdate=de,X.directionalLightShadows.needsUpdate=de,X.pointLights.needsUpdate=de,X.pointLightShadows.needsUpdate=de,X.spotLights.needsUpdate=de,X.spotLightShadows.needsUpdate=de,X.rectAreaLights.needsUpdate=de,X.hemisphereLights.needsUpdate=de}function mp(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(X,de,Se){tt.get(X.texture).__webglTexture=de,tt.get(X.depthTexture).__webglTexture=Se;const we=tt.get(X);we.__hasExternalTextures=!0,we.__autoAllocateDepthBuffer=Se===void 0,we.__autoAllocateDepthBuffer||Be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),we.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(X,de){const Se=tt.get(X);Se.__webglFramebuffer=de,Se.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(X,de=0,Se=0){D=X,k=de,F=Se;let we=!0,pe=null,qe=!1,ut=!1;if(X){const Je=tt.get(X);if(Je.__useDefaultFramebuffer!==void 0)Ae.bindFramebuffer(J.FRAMEBUFFER,null),we=!1;else if(Je.__webglFramebuffer===void 0)lt.setupRenderTarget(X);else if(Je.__hasExternalTextures)lt.rebindTextures(X,tt.get(X.texture).__webglTexture,tt.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const _t=X.depthTexture;if(Je.__boundDepthTexture!==_t){if(_t!==null&&tt.has(_t)&&(X.width!==_t.image.width||X.height!==_t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");lt.setupDepthRenderbuffer(X)}}const At=X.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(ut=!0);const Pt=tt.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Pt[de])?pe=Pt[de][Se]:pe=Pt[de],qe=!0):X.samples>0&&lt.useMultisampledRTT(X)===!1?pe=tt.get(X).__webglMultisampledFramebuffer:Array.isArray(Pt)?pe=Pt[Se]:pe=Pt,R.copy(X.viewport),U.copy(X.scissor),W=X.scissorTest}else R.copy(ne).multiplyScalar(G).floor(),U.copy(q).multiplyScalar(G).floor(),W=ae;if(Ae.bindFramebuffer(J.FRAMEBUFFER,pe)&&we&&Ae.drawBuffers(X,pe),Ae.viewport(R),Ae.scissor(U),Ae.setScissorTest(W),qe){const Je=tt.get(X.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+de,Je.__webglTexture,Se)}else if(ut){const Je=tt.get(X.texture),At=de||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,Je.__webglTexture,Se||0,At)}B=-1},this.readRenderTargetPixels=function(X,de,Se,we,pe,qe,ut){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=tt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&ut!==void 0&&(yt=yt[ut]),yt){Ae.bindFramebuffer(J.FRAMEBUFFER,yt);try{const Je=X.texture,At=Je.format,Pt=Je.type;if(!et.textureFormatReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!et.textureTypeReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=X.width-we&&Se>=0&&Se<=X.height-pe&&J.readPixels(de,Se,we,pe,Wt.convert(At),Wt.convert(Pt),qe)}finally{const Je=D!==null?tt.get(D).__webglFramebuffer:null;Ae.bindFramebuffer(J.FRAMEBUFFER,Je)}}},this.readRenderTargetPixelsAsync=async function(X,de,Se,we,pe,qe,ut){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=tt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&ut!==void 0&&(yt=yt[ut]),yt){Ae.bindFramebuffer(J.FRAMEBUFFER,yt);try{const Je=X.texture,At=Je.format,Pt=Je.type;if(!et.textureFormatReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!et.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(de>=0&&de<=X.width-we&&Se>=0&&Se<=X.height-pe){const _t=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,_t),J.bufferData(J.PIXEL_PACK_BUFFER,qe.byteLength,J.STREAM_READ),J.readPixels(de,Se,we,pe,Wt.convert(At),Wt.convert(Pt),0),J.flush();const mn=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);await the(J,mn,4);try{J.bindBuffer(J.PIXEL_PACK_BUFFER,_t),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,qe)}finally{J.deleteBuffer(_t),J.deleteSync(mn)}return qe}}finally{const Je=D!==null?tt.get(D).__webglFramebuffer:null;Ae.bindFramebuffer(J.FRAMEBUFFER,Je)}}},this.copyFramebufferToTexture=function(X,de=null,Se=0){X.isTexture!==!0&&(xg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),de=arguments[0]||null,X=arguments[1]);const we=Math.pow(2,-Se),pe=Math.floor(X.image.width*we),qe=Math.floor(X.image.height*we),ut=de!==null?de.x:0,yt=de!==null?de.y:0;lt.setTexture2D(X,0),J.copyTexSubImage2D(J.TEXTURE_2D,Se,0,0,ut,yt,pe,qe),Ae.unbindTexture()},this.copyTextureToTexture=function(X,de,Se=null,we=null,pe=0){X.isTexture!==!0&&(xg("WebGLRenderer: copyTextureToTexture function signature has changed."),we=arguments[0]||null,X=arguments[1],de=arguments[2],pe=arguments[3]||0,Se=null);let qe,ut,yt,Je,At,Pt;Se!==null?(qe=Se.max.x-Se.min.x,ut=Se.max.y-Se.min.y,yt=Se.min.x,Je=Se.min.y):(qe=X.image.width,ut=X.image.height,yt=0,Je=0),we!==null?(At=we.x,Pt=we.y):(At=0,Pt=0);const _t=Wt.convert(de.format),mn=Wt.convert(de.type);lt.setTexture2D(de,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,de.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,de.unpackAlignment);const Hn=J.getParameter(J.UNPACK_ROW_LENGTH),Pn=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Zn=J.getParameter(J.UNPACK_SKIP_PIXELS),gt=J.getParameter(J.UNPACK_SKIP_ROWS),Qe=J.getParameter(J.UNPACK_SKIP_IMAGES),dn=X.isCompressedTexture?X.mipmaps[pe]:X.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,dn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,dn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,yt),J.pixelStorei(J.UNPACK_SKIP_ROWS,Je),X.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,pe,At,Pt,qe,ut,_t,mn,dn.data):X.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,pe,At,Pt,dn.width,dn.height,_t,dn.data):J.texSubImage2D(J.TEXTURE_2D,pe,At,Pt,qe,ut,_t,mn,dn),J.pixelStorei(J.UNPACK_ROW_LENGTH,Hn),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Pn),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Zn),J.pixelStorei(J.UNPACK_SKIP_ROWS,gt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Qe),pe===0&&de.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),Ae.unbindTexture()},this.copyTextureToTexture3D=function(X,de,Se=null,we=null,pe=0){X.isTexture!==!0&&(xg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Se=arguments[0]||null,we=arguments[1]||null,X=arguments[2],de=arguments[3],pe=arguments[4]||0);let qe,ut,yt,Je,At,Pt,_t,mn,Hn;const Pn=X.isCompressedTexture?X.mipmaps[pe]:X.image;Se!==null?(qe=Se.max.x-Se.min.x,ut=Se.max.y-Se.min.y,yt=Se.max.z-Se.min.z,Je=Se.min.x,At=Se.min.y,Pt=Se.min.z):(qe=Pn.width,ut=Pn.height,yt=Pn.depth,Je=0,At=0,Pt=0),we!==null?(_t=we.x,mn=we.y,Hn=we.z):(_t=0,mn=0,Hn=0);const Zn=Wt.convert(de.format),gt=Wt.convert(de.type);let Qe;if(de.isData3DTexture)lt.setTexture3D(de,0),Qe=J.TEXTURE_3D;else if(de.isDataArrayTexture||de.isCompressedArrayTexture)lt.setTexture2DArray(de,0),Qe=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,de.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,de.unpackAlignment);const dn=J.getParameter(J.UNPACK_ROW_LENGTH),Bt=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Gn=J.getParameter(J.UNPACK_SKIP_PIXELS),es=J.getParameter(J.UNPACK_SKIP_ROWS),hi=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,Pn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Pn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Je),J.pixelStorei(J.UNPACK_SKIP_ROWS,At),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Pt),X.isDataTexture||X.isData3DTexture?J.texSubImage3D(Qe,pe,_t,mn,Hn,qe,ut,yt,Zn,gt,Pn.data):de.isCompressedArrayTexture?J.compressedTexSubImage3D(Qe,pe,_t,mn,Hn,qe,ut,yt,Zn,Pn.data):J.texSubImage3D(Qe,pe,_t,mn,Hn,qe,ut,yt,Zn,gt,Pn),J.pixelStorei(J.UNPACK_ROW_LENGTH,dn),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Bt),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Gn),J.pixelStorei(J.UNPACK_SKIP_ROWS,es),J.pixelStorei(J.UNPACK_SKIP_IMAGES,hi),pe===0&&de.generateMipmaps&&J.generateMipmap(Qe),Ae.unbindTexture()},this.initRenderTarget=function(X){tt.get(X).__webglFramebuffer===void 0&&lt.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?lt.setTextureCube(X,0):X.isData3DTexture?lt.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?lt.setTexture2DArray(X,0):lt.setTexture2D(X,0),Ae.unbindTexture()},this.resetState=function(){k=0,F=0,D=null,Ae.reset(),Xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ul}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===bE?"display-p3":"srgb",n.unpackColorSpace=kn.workingColorSpace===Wx?"display-p3":"srgb"}}class EE{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ft(e),this.density=n}clone(){return new EE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class TE{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new ft(e),this.near=n,this.far=i}clone(){return new TE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class yR extends An{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new fo,this.environmentIntensity=1,this.environmentRotation=new fo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class CE{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=ix,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Oo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return xg("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ls=new te;class Kh{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Ls.fromBufferAttribute(this,n),Ls.applyMatrix4(e),this.setXYZ(n,Ls.x,Ls.y,Ls.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ls.fromBufferAttribute(this,n),Ls.applyNormalMatrix(e),this.setXYZ(n,Ls.x,Ls.y,Ls.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ls.fromBufferAttribute(this,n),Ls.transformDirection(e),this.setXYZ(n,Ls.x,Ls.y,Ls.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Os(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=nn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Os(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Os(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Os(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Os(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array),s=nn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Kn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xR extends Ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Fm;const Cy=new te,zm=new te,Bm=new te,Um=new De,My=new De,WW=new Dt,B1=new te,Ay=new te,U1=new te,GD=new De,KC=new De,$D=new De;class HW extends An{constructor(e=new xR){if(super(),this.isSprite=!0,this.type="Sprite",Fm===void 0){Fm=new ln;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new CE(n,5);Fm.setIndex([0,1,2,0,2,3]),Fm.setAttribute("position",new Kh(i,3,0,!1)),Fm.setAttribute("uv",new Kh(i,2,3,!1))}this.geometry=Fm,this.material=e,this.center=new De(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zm.setFromMatrixScale(this.matrixWorld),WW.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zm.multiplyScalar(-Bm.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;V1(B1.set(-.5,-.5,0),Bm,o,zm,r,s),V1(Ay.set(.5,-.5,0),Bm,o,zm,r,s),V1(U1.set(.5,.5,0),Bm,o,zm,r,s),GD.set(0,0),KC.set(1,0),$D.set(1,1);let a=e.ray.intersectTriangle(B1,Ay,U1,!1,Cy);if(a===null&&(V1(Ay.set(-.5,.5,0),Bm,o,zm,r,s),KC.set(0,1),a=e.ray.intersectTriangle(B1,U1,Ay,!1,Cy),a===null))return;const l=e.ray.origin.distanceTo(Cy);l<e.near||l>e.far||n.push({distance:l,point:Cy.clone(),uv:No.getInterpolation(Cy,B1,Ay,U1,GD,KC,$D,new De),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function V1(t,e,n,i,r,s){Um.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(My.x=s*Um.x-r*Um.y,My.y=r*Um.x+s*Um.y):My.copy(Um),t.copy(e),t.x+=My.x,t.y+=My.y,t.applyMatrix4(WW)}const j1=new te,qD=new te;class GW extends An{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){j1.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(j1);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){j1.setFromMatrixPosition(e.matrixWorld),qD.setFromMatrixPosition(this.matrixWorld);const i=j1.distanceTo(qD)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const XD=new te,YD=new Tn,KD=new Tn,pye=new te,JD=new Dt,W1=new te,JC=new _s,QD=new Dt,QC=new sv;class $W extends rr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=cP,this.bindMatrix=new Dt,this.bindMatrixInverse=new Dt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Vs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,W1),this.boundingBox.expandByPoint(W1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new _s),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,W1),this.boundingSphere.expandByPoint(W1)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),JC.copy(this.boundingSphere),JC.applyMatrix4(r),e.ray.intersectsSphere(JC)!==!1&&(QD.copy(r).invert(),QC.copy(e.ray).applyMatrix4(QD),!(this.boundingBox!==null&&QC.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,QC)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Tn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===cP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===fW?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;YD.fromBufferAttribute(r.attributes.skinIndex,e),KD.fromBufferAttribute(r.attributes.skinWeight,e),XD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=KD.getComponent(s);if(o!==0){const a=YD.getComponent(s);JD.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(pye.copy(XD).applyMatrix4(JD),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class _R extends An{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xl extends Si{constructor(e=null,n=1,i=1,r,s,o,a,l,c=Lr,d=Lr,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ZD=new Dt,mye=new Dt;class ME{constructor(e=[],n=[]){this.uuid=Oo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Dt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:mye;ZD.multiplyMatrices(a,n[s]),ZD.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ME(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Xl(n,e,e,ys,ao);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _R),this.bones.push(o),this.boneInverses.push(new Dt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Og extends Kn{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vm=new Dt,eO=new Dt,H1=[],tO=new Vs,gye=new Dt,Py=new rr,Iy=new _s;class qW extends rr{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Og(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,gye)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Vs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Vm),tO.copy(e.boundingBox).applyMatrix4(Vm),this.boundingBox.union(tO)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new _s),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Vm),Iy.copy(e.boundingSphere).applyMatrix4(Vm),this.boundingSphere.union(Iy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Py.geometry=this.geometry,Py.material=this.material,Py.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Iy.copy(this.boundingSphere),Iy.applyMatrix4(i),e.ray.intersectsSphere(Iy)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Vm),eO.multiplyMatrices(i,Vm),Py.matrixWorld=eO,Py.raycast(e,H1);for(let o=0,a=H1.length;o<a;o++){const l=H1[o];l.instanceId=s,l.object=this,n.push(l)}H1.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Og(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Xl(new Float32Array(r*this.count),r,this.count,vE,ao));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function vye(t,e){return t.z-e.z}function yye(t,e){return e.z-t.z}class xye{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const yd=new Dt,ZC=new Dt,_ye=new Dt,bye=new ft(1,1,1),nO=new Dt,eM=new $x,G1=new Vs,rh=new _s,Ry=new te,iO=new te,Sye=new te,tM=new xye,ps=new rr,$1=[];function wye(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class XW extends rr{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,i=n*2,r){super(new ln,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Xl(n,e,e,ys,ao);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Xl(n,e,e,jx,yu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Xl(n,e,e,ys,ao);i.colorSpace=kn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(i*l),h=new Kn(d,l,c);n.setAttribute(s,h)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Kn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vs);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,yd),this.getBoundingBoxAt(s,G1).applyMatrix4(yd),e.union(G1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _s);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,yd),this.getBoundingSphereAt(s,rh).applyMatrix4(yd),e.union(rh)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const n=this._drawInfo.length-1,i=this._matricesTexture,r=i.image.data;_ye.toArray(r,n*16),i.needsUpdate=!0;const s=this._colorsTexture;return s&&(bye.toArray(s.image.data,n*4),s.needsUpdate=!0),n}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=n,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),d=c!==null;if(d&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._geometryCount;return this._geometryCount++,o.push(r),a.push({start:d?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Vs,sphereInitialized:!1,sphere:new _s}),this.setGeometryAt(h,e),h}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const v in i.attributes){const y=n.getAttribute(v),b=i.getAttribute(v);wye(y,b,l);const S=y.itemSize;for(let _=y.count,E=c;_<E;_++){const T=l+_;for(let P=0;P<S;P++)b.setComponent(T,P,0)}b.needsUpdate=!0,b.addUpdateRange(l*S,c*S)}if(r){const v=a.indexStart;for(let y=0;y<o.count;y++)s.setX(v+y,l+o.getX(y));for(let y=o.count,b=a.indexCount;y<b;y++)s.setX(v+y,l);s.needsUpdate=!0,s.addUpdateRange(v,a.indexCount)}const d=this._bounds[e];n.boundingBox!==null?(d.box.copy(n.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,n.boundingSphere!==null?(d.sphere.copy(n.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const h=this._drawRanges[e],p=n.getAttribute("position");return h.count=r?o.count:p.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.box,s=this.geometry;if(i.boxInitialized===!1){r.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let c=l.start,d=l.start+l.count;c<d;c++){let h=c;o&&(h=o.getX(h)),r.expandByPoint(Ry.fromBufferAttribute(a,h))}i.boxInitialized=!0}return n.copy(r),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,G1),G1.getCenter(r.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let c=0;for(let d=l.start,h=l.start+l.count;d<h;d++){let p=d;o&&(p=o.getX(p)),Ry.fromBufferAttribute(a,p),c=Math.max(c,r.center.distanceToSquared(Ry))}r.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(r),n}setMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture,s=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(n.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,r=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(r,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const i=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const i=this._drawInfo;return e>=i.length||i[e].active===!1||i[e].visible===n?this:(i[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}raycast(e,n){const i=this._drawInfo,r=this._drawRanges,s=this.matrixWorld,o=this.geometry;ps.material=this.material,ps.geometry.index=o.index,ps.geometry.attributes=o.attributes,ps.geometry.boundingBox===null&&(ps.geometry.boundingBox=new Vs),ps.geometry.boundingSphere===null&&(ps.geometry.boundingSphere=new _s);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const c=i[a].geometryIndex,d=r[c];ps.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,ps.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ps.geometry.boundingBox),this.getBoundingSphereAt(c,ps.geometry.boundingSphere),ps.raycast(e,$1);for(let h=0,p=$1.length;h<p;h++){const v=$1[h];v.object=this,v.batchId=a,n.push(v)}$1.length=0}ps.material=null,ps.geometry.index=null,ps.geometry.attributes={},ps.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._drawInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,h=this._drawRanges,p=this.perObjectFrustumCulled,v=this._indirectTexture,y=v.image.data;p&&(nO.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),eM.setFromProjectionMatrix(nO,e.coordinateSystem));let b=0;if(this.sortObjects){ZC.copy(this.matrixWorld).invert(),Ry.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ZC),iO.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ZC);for(let E=0,T=l.length;E<T;E++)if(l[E].visible&&l[E].active){const P=l[E].geometryIndex;this.getMatrixAt(E,yd),this.getBoundingSphereAt(P,rh).applyMatrix4(yd);let k=!1;if(p&&(k=!eM.intersectsSphere(rh)),!k){const F=Sye.subVectors(rh.center,Ry).dot(iO);tM.push(h[P],F,E)}}const S=tM.list,_=this.customSort;_===null?S.sort(s.transparent?yye:vye):_.call(this,S,i);for(let E=0,T=S.length;E<T;E++){const P=S[E];c[b]=P.start*a,d[b]=P.count,y[b]=P.index,b++}tM.reset()}else for(let S=0,_=l.length;S<_;S++)if(l[S].visible&&l[S].active){const E=l[S].geometryIndex;let T=!1;if(p&&(this.getMatrixAt(S,yd),this.getBoundingSphereAt(E,rh).applyMatrix4(yd),T=!eM.intersectsSphere(rh)),!T){const P=h[E];c[b]=P.start*a,d[b]=P.count,y[b]=S,b++}}v.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Ws extends Ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ft(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pw=new te,mw=new te,rO=new Dt,ky=new sv,q1=new _s,nM=new te,sO=new te;class qd extends An{constructor(e=new ln,n=new Ws){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)pw.fromBufferAttribute(n,r-1),mw.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=pw.distanceTo(mw);e.setAttribute("lineDistance",new wt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),q1.copy(i.boundingSphere),q1.applyMatrix4(r),q1.radius+=s,e.ray.intersectsSphere(q1)===!1)return;rO.copy(r).invert(),ky.copy(e.ray).applyMatrix4(rO);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=i.index,p=i.attributes.position;if(d!==null){const v=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let b=v,S=y-1;b<S;b+=c){const _=d.getX(b),E=d.getX(b+1),T=X1(this,e,ky,l,_,E);T&&n.push(T)}if(this.isLineLoop){const b=d.getX(y-1),S=d.getX(v),_=X1(this,e,ky,l,b,S);_&&n.push(_)}}else{const v=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let b=v,S=y-1;b<S;b+=c){const _=X1(this,e,ky,l,b,b+1);_&&n.push(_)}if(this.isLineLoop){const b=X1(this,e,ky,l,y-1,v);b&&n.push(b)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function X1(t,e,n,i,r,s){const o=t.geometry.attributes.position;if(pw.fromBufferAttribute(o,r),mw.fromBufferAttribute(o,s),n.distanceSqToSegment(pw,mw,nM,sO)>i)return;nM.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(nM);if(!(l<e.near||l>e.far))return{distance:l,point:sO.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,object:t}}const oO=new te,aO=new te;class oc extends qd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)oO.fromBufferAttribute(n,r),aO.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+oO.distanceTo(aO);e.setAttribute("lineDistance",new wt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YW extends qd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class bR extends Ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const lO=new Dt,mP=new sv,Y1=new _s,K1=new te;class KW extends An{constructor(e=new ln,n=new bR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Y1.copy(i.boundingSphere),Y1.applyMatrix4(r),Y1.radius+=s,e.ray.intersectsSphere(Y1)===!1)return;lO.copy(r).invert(),mP.copy(e.ray).applyMatrix4(lO);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let y=p,b=v;y<b;y++){const S=c.getX(y);K1.fromBufferAttribute(h,S),cO(K1,S,l,r,e,n,this)}}else{const p=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let y=p,b=v;y<b;y++)K1.fromBufferAttribute(h,y),cO(K1,y,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function cO(t,e,n,i,r,s,o){const a=mP.distanceSqToPoint(t);if(a<n){const l=new te;mP.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Eye extends Si{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ir,this.magFilter=s!==void 0?s:ir,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Tye extends Si{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Lr,this.minFilter=Lr,this.generateMipmaps=!1,this.needsUpdate=!0}}class AE extends Si{constructor(e,n,i,r,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Cye extends AE{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ca,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Mye extends AE{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,vu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Aye extends Si{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ul{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,v=(o-d)/p;return(r+v)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new De:new te);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new te,r=[],s=[],o=[],a=new te,l=new Dt;for(let v=0;v<=e;v++){const y=v/e;r[v]=this.getTangentAt(y,new te)}s[0]=new te,o[0]=new te;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(r[v-1],r[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(zi(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(r[v],s[v])}if(n===!0){let v=Math.acos(zi(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],v*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class PE extends ul{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new De){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,v=c-this.aY;l=p*d-v*h+this.aX,c=p*h+v*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class JW extends PE{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function SR(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,v=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,v*=d,r(o,a,p,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const J1=new te,iM=new SR,rM=new SR,sM=new SR;class QW extends ul{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new te){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(J1.subVectors(r[0],r[1]).add(r[0]),c=J1);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(J1.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=J1),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),v),b=Math.pow(h.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(d),v);b<1e-4&&(b=1),y<1e-4&&(y=b),S<1e-4&&(S=b),iM.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,y,b,S),rM.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,y,b,S),sM.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,y,b,S)}else this.curveType==="catmullrom"&&(iM.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),rM.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),sM.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return i.set(iM.calc(l),rM.calc(l),sM.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new te().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function uO(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function Pye(t,e){const n=1-t;return n*n*e}function Iye(t,e){return 2*(1-t)*t*e}function Rye(t,e){return t*t*e}function b0(t,e,n,i){return Pye(t,e)+Iye(t,n)+Rye(t,i)}function kye(t,e){const n=1-t;return n*n*n*e}function Nye(t,e){const n=1-t;return 3*n*n*t*e}function Lye(t,e){return 3*(1-t)*t*t*e}function Dye(t,e){return t*t*t*e}function S0(t,e,n,i,r){return kye(t,e)+Nye(t,n)+Lye(t,i)+Dye(t,r)}class wR extends ul{constructor(e=new De,n=new De,i=new De,r=new De){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new De){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(S0(e,r.x,s.x,o.x,a.x),S0(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZW extends ul{constructor(e=new te,n=new te,i=new te,r=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new te){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(S0(e,r.x,s.x,o.x,a.x),S0(e,r.y,s.y,o.y,a.y),S0(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ER extends ul{constructor(e=new De,n=new De){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new De){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new De){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eH extends ul{constructor(e=new te,n=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new te){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TR extends ul{constructor(e=new De,n=new De,i=new De){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new De){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(b0(e,r.x,s.x,o.x),b0(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CR extends ul{constructor(e=new te,n=new te,i=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new te){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(b0(e,r.x,s.x,o.x),b0(e,r.y,s.y,o.y),b0(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MR extends ul{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new De){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(uO(a,l.x,c.x,d.x,h.x),uO(a,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new De().fromArray(r))}return this}}var gw=Object.freeze({__proto__:null,ArcCurve:JW,CatmullRomCurve3:QW,CubicBezierCurve:wR,CubicBezierCurve3:ZW,EllipseCurve:PE,LineCurve:ER,LineCurve3:eH,QuadraticBezierCurve:TR,QuadraticBezierCurve3:CR,SplineCurve:MR});class tH extends ul{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new gw[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new gw[r.type]().fromJSON(r))}return this}}class ox extends tH{constructor(e){super(),this.type="Path",this.currentPoint=new De,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new ER(this.currentPoint.clone(),new De(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new TR(this.currentPoint.clone(),new De(e,n),new De(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new wR(this.currentPoint.clone(),new De(e,n),new De(i,r),new De(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new MR(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new PE(e,n,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xx extends ln{constructor(e=[new De(0,-.5),new De(.5,0),new De(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=zi(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/n,h=new te,p=new De,v=new te,y=new te,b=new te;let S=0,_=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:S=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,v.x=_*1,v.y=-S,v.z=_*0,b.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:S=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,v.x=_*1,v.y=-S,v.z=_*0,y.copy(v),v.x+=b.x,v.y+=b.y,v.z+=b.z,v.normalize(),l.push(v.x,v.y,v.z),b.copy(y)}for(let E=0;E<=n;E++){const T=i+E*d*r,P=Math.sin(T),k=Math.cos(T);for(let F=0;F<=e.length-1;F++){h.x=e[F].x*P,h.y=e[F].y,h.z=e[F].x*k,o.push(h.x,h.y,h.z),p.x=E/n,p.y=F/(e.length-1),a.push(p.x,p.y);const D=l[3*F+0]*P,B=l[3*F+1],N=l[3*F+0]*k;c.push(D,B,N)}}for(let E=0;E<n;E++)for(let T=0;T<e.length-1;T++){const P=T+E*e.length,k=P,F=P+e.length,D=P+e.length+1,B=P+1;s.push(k,F,B),s.push(D,B,F)}this.setIndex(s),this.setAttribute("position",new wt(o,3)),this.setAttribute("uv",new wt(a,2)),this.setAttribute("normal",new wt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xx(e.points,e.segments,e.phiStart,e.phiLength)}}class IE extends Xx{constructor(e=1,n=1,i=4,r=8){const s=new ox;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new IE(e.radius,e.length,e.capSegments,e.radialSegments)}}class RE extends ln{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new te,d=new De;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const v=i+h/n*r;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new wt(o,3)),this.setAttribute("normal",new wt(a,3)),this.setAttribute("uv",new wt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class lv extends ln{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],v=[];let y=0;const b=[],S=i/2;let _=0;E(),o===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(d),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(v,2));function E(){const P=new te,k=new te;let F=0;const D=(n-e)/i;for(let B=0;B<=s;B++){const N=[],R=B/s,U=R*(n-e)+e;for(let W=0;W<=r;W++){const Y=W/r,ee=Y*l+a,K=Math.sin(ee),Z=Math.cos(ee);k.x=U*K,k.y=-R*i+S,k.z=U*Z,h.push(k.x,k.y,k.z),P.set(K,D,Z).normalize(),p.push(P.x,P.y,P.z),v.push(Y,1-R),N.push(y++)}b.push(N)}for(let B=0;B<r;B++)for(let N=0;N<s;N++){const R=b[N][B],U=b[N+1][B],W=b[N+1][B+1],Y=b[N][B+1];d.push(R,U,Y),d.push(U,W,Y),F+=6}c.addGroup(_,F,0),_+=F}function T(P){const k=y,F=new De,D=new te;let B=0;const N=P===!0?e:n,R=P===!0?1:-1;for(let W=1;W<=r;W++)h.push(0,S*R,0),p.push(0,R,0),v.push(.5,.5),y++;const U=y;for(let W=0;W<=r;W++){const ee=W/r*l+a,K=Math.cos(ee),Z=Math.sin(ee);D.x=N*Z,D.y=S*R,D.z=N*K,h.push(D.x,D.y,D.z),p.push(0,R,0),F.x=K*.5+.5,F.y=Z*.5*R+.5,v.push(F.x,F.y),y++}for(let W=0;W<r;W++){const Y=k+W,ee=U+W;P===!0?d.push(ee,ee+1,Y):d.push(ee+1,ee,Y),B+=3}c.addGroup(_,B,P===!0?1:2),_+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kE extends lv{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new kE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rf extends ln{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new wt(s,3)),this.setAttribute("normal",new wt(s.slice(),3)),this.setAttribute("uv",new wt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(E){const T=new te,P=new te,k=new te;for(let F=0;F<n.length;F+=3)v(n[F+0],T),v(n[F+1],P),v(n[F+2],k),l(T,P,k,E)}function l(E,T,P,k){const F=k+1,D=[];for(let B=0;B<=F;B++){D[B]=[];const N=E.clone().lerp(P,B/F),R=T.clone().lerp(P,B/F),U=F-B;for(let W=0;W<=U;W++)W===0&&B===F?D[B][W]=N:D[B][W]=N.clone().lerp(R,W/U)}for(let B=0;B<F;B++)for(let N=0;N<2*(F-B)-1;N++){const R=Math.floor(N/2);N%2===0?(p(D[B][R+1]),p(D[B+1][R]),p(D[B][R])):(p(D[B][R+1]),p(D[B+1][R+1]),p(D[B+1][R]))}}function c(E){const T=new te;for(let P=0;P<s.length;P+=3)T.x=s[P+0],T.y=s[P+1],T.z=s[P+2],T.normalize().multiplyScalar(E),s[P+0]=T.x,s[P+1]=T.y,s[P+2]=T.z}function d(){const E=new te;for(let T=0;T<s.length;T+=3){E.x=s[T+0],E.y=s[T+1],E.z=s[T+2];const P=S(E)/2/Math.PI+.5,k=_(E)/Math.PI+.5;o.push(P,1-k)}y(),h()}function h(){for(let E=0;E<o.length;E+=6){const T=o[E+0],P=o[E+2],k=o[E+4],F=Math.max(T,P,k),D=Math.min(T,P,k);F>.9&&D<.1&&(T<.2&&(o[E+0]+=1),P<.2&&(o[E+2]+=1),k<.2&&(o[E+4]+=1))}}function p(E){s.push(E.x,E.y,E.z)}function v(E,T){const P=E*3;T.x=e[P+0],T.y=e[P+1],T.z=e[P+2]}function y(){const E=new te,T=new te,P=new te,k=new te,F=new De,D=new De,B=new De;for(let N=0,R=0;N<s.length;N+=9,R+=6){E.set(s[N+0],s[N+1],s[N+2]),T.set(s[N+3],s[N+4],s[N+5]),P.set(s[N+6],s[N+7],s[N+8]),F.set(o[R+0],o[R+1]),D.set(o[R+2],o[R+3]),B.set(o[R+4],o[R+5]),k.copy(E).add(T).add(P).divideScalar(3);const U=S(k);b(F,R+0,E,U),b(D,R+2,T,U),b(B,R+4,P,U)}}function b(E,T,P,k){k<0&&E.x===1&&(o[T]=E.x-1),P.x===0&&P.z===0&&(o[T]=k/2/Math.PI+.5)}function S(E){return Math.atan2(E.z,-E.x)}function _(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rf(e.vertices,e.indices,e.radius,e.details)}}class NE extends rf{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new NE(e.radius,e.detail)}}const Q1=new te,Z1=new te,oM=new te,eb=new No;class nH extends ln{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Nh*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},v=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:b,b:S,c:_}=eb;if(b.fromBufferAttribute(a,c[0]),S.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),eb.getNormal(oM),h[0]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,h[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,h[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let E=0;E<3;E++){const T=(E+1)%3,P=h[E],k=h[T],F=eb[d[E]],D=eb[d[T]],B=`${P}_${k}`,N=`${k}_${P}`;N in p&&p[N]?(oM.dot(p[N].normal)<=s&&(v.push(F.x,F.y,F.z),v.push(D.x,D.y,D.z)),p[N]=null):B in p||(p[B]={index0:c[E],index1:c[T],normal:oM.clone()})}}for(const y in p)if(p[y]){const{index0:b,index1:S}=p[y];Q1.fromBufferAttribute(a,b),Z1.fromBufferAttribute(a,S),v.push(Q1.x,Q1.y,Q1.z),v.push(Z1.x,Z1.y,Z1.z)}this.setAttribute("position",new wt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Dh extends ox{constructor(e){super(e),this.uuid=Oo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new ox().fromJSON(r))}return this}}const Oye={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=iH(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,v;if(i&&(s=Vye(t,e,s,n)),t.length>80*n){a=c=t[0],l=d=t[1];for(let y=n;y<r;y+=n)h=t[y],p=t[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);v=Math.max(c-a,d-l),v=v!==0?32767/v:0}return ax(s,o,n,a,l,v,0),o}};function iH(t,e,n,i,r){let s,o;if(r===Qye(t,e,n,i)>0)for(s=e;s<n;s+=i)o=dO(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=dO(s,t[s],t[s+1],o);return o&&LE(o,o.next)&&(cx(o),o=o.next),o}function Jh(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(LE(n,n.next)||Pi(n.prev,n,n.next)===0)){if(cx(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function ax(t,e,n,i,r,s,o){if(!t)return;!o&&s&&$ye(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?zye(t,i,r,s):Fye(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),cx(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Bye(Jh(t),e,n),ax(t,e,n,i,r,s,2)):o===2&&Uye(t,e,n,i,r,s):ax(Jh(t),e,n,i,r,s,1);break}}}function Fye(t){const e=t.prev,n=t,i=t.next;if(Pi(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,v=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=v&&sg(r,a,s,l,o,c,y.x,y.y)&&Pi(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function zye(t,e,n,i){const r=t.prev,s=t,o=t.next;if(Pi(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,h=s.y,p=o.y,v=a<l?a<c?a:c:l<c?l:c,y=d<h?d<p?d:p:h<p?h:p,b=a>l?a>c?a:c:l>c?l:c,S=d>h?d>p?d:p:h>p?h:p,_=gP(v,y,e,n,i),E=gP(b,S,e,n,i);let T=t.prevZ,P=t.nextZ;for(;T&&T.z>=_&&P&&P.z<=E;){if(T.x>=v&&T.x<=b&&T.y>=y&&T.y<=S&&T!==r&&T!==o&&sg(a,d,l,h,c,p,T.x,T.y)&&Pi(T.prev,T,T.next)>=0||(T=T.prevZ,P.x>=v&&P.x<=b&&P.y>=y&&P.y<=S&&P!==r&&P!==o&&sg(a,d,l,h,c,p,P.x,P.y)&&Pi(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;T&&T.z>=_;){if(T.x>=v&&T.x<=b&&T.y>=y&&T.y<=S&&T!==r&&T!==o&&sg(a,d,l,h,c,p,T.x,T.y)&&Pi(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;P&&P.z<=E;){if(P.x>=v&&P.x<=b&&P.y>=y&&P.y<=S&&P!==r&&P!==o&&sg(a,d,l,h,c,p,P.x,P.y)&&Pi(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function Bye(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!LE(r,s)&&rH(r,i,i.next,s)&&lx(r,s)&&lx(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),cx(i),cx(i.next),i=t=s),i=i.next}while(i!==t);return Jh(i)}function Uye(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Yye(o,a)){let l=sH(o,a);o=Jh(o,o.next),l=Jh(l,l.next),ax(o,e,n,i,r,s,0),ax(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function Vye(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=iH(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Xye(c));for(r.sort(jye),s=0;s<r.length;s++)n=Wye(r[s],n);return n}function jye(t,e){return t.x-e.x}function Wye(t,e){const n=Hye(t,e);if(!n)return e;const i=sH(n,t);return Jh(i,i.next),Jh(n,n.next)}function Hye(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,h;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&sg(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),lx(n,t)&&(h<d||h===d&&(n.x>r.x||n.x===r.x&&Gye(r,n)))&&(r=n,d=h)),n=n.next;while(n!==a);return r}function Gye(t,e){return Pi(t.prev,t,e.prev)<0&&Pi(e.next,t,t.next)<0}function $ye(t,e,n,i){let r=t;do r.z===0&&(r.z=gP(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,qye(r)}function qye(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function gP(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Xye(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function sg(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function Yye(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Kye(t,e)&&(lx(t,e)&&lx(e,t)&&Jye(t,e)&&(Pi(t.prev,t,e.prev)||Pi(t,e.prev,e))||LE(t,e)&&Pi(t.prev,t,t.next)>0&&Pi(e.prev,e,e.next)>0)}function Pi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function LE(t,e){return t.x===e.x&&t.y===e.y}function rH(t,e,n,i){const r=nb(Pi(t,e,n)),s=nb(Pi(t,e,i)),o=nb(Pi(n,i,t)),a=nb(Pi(n,i,e));return!!(r!==s&&o!==a||r===0&&tb(t,n,e)||s===0&&tb(t,i,e)||o===0&&tb(n,t,i)||a===0&&tb(n,e,i))}function tb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function nb(t){return t>0?1:t<0?-1:0}function Kye(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&rH(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function lx(t,e){return Pi(t.prev,t,t.next)<0?Pi(t,e,t.next)>=0&&Pi(t,t.prev,e)>=0:Pi(t,e,t.prev)<0||Pi(t,t.next,e)<0}function Jye(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function sH(t,e){const n=new vP(t.i,t.x,t.y),i=new vP(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function dO(t,e,n,i){const r=new vP(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function cx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function vP(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qye(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class Yl{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Yl.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];fO(e),hO(i,e);let o=e.length;n.forEach(fO);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,hO(i,n[l]);const a=Oye.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function fO(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function hO(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class DE extends ln{constructor(e=new Dh([new De(.5,.5),new De(-.5,.5),new De(-.5,-.5),new De(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new wt(r,3)),this.setAttribute("uv",new wt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:v-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,E=n.UVGenerator!==void 0?n.UVGenerator:Zye;let T,P=!1,k,F,D,B;_&&(T=_.getSpacedPoints(d),P=!0,p=!1,k=_.computeFrenetFrames(d,!1),F=new te,D=new te,B=new te),p||(S=0,v=0,y=0,b=0);const N=a.extractPoints(c);let R=N.shape;const U=N.holes;if(!Yl.isClockWise(R)){R=R.reverse();for(let J=0,Pe=U.length;J<Pe;J++){const Be=U[J];Yl.isClockWise(Be)&&(U[J]=Be.reverse())}}const Y=Yl.triangulateShape(R,U),ee=R;for(let J=0,Pe=U.length;J<Pe;J++){const Be=U[J];R=R.concat(Be)}function K(J,Pe,Be){return Pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(Pe,Be)}const Z=R.length,G=Y.length;function j(J,Pe,Be){let et,Ae,Ct;const tt=J.x-Pe.x,lt=J.y-Pe.y,ie=Be.x-J.x,$=Be.y-J.y,be=tt*tt+lt*lt,ke=tt*$-lt*ie;if(Math.abs(ke)>Number.EPSILON){const Ie=Math.sqrt(be),ze=Math.sqrt(ie*ie+$*$),Mt=Pe.x-lt/Ie,nt=Pe.y+tt/Ie,ct=Be.x-$/ze,jt=Be.y+ie/ze,He=((ct-Mt)*$-(jt-nt)*ie)/(tt*$-lt*ie);et=Mt+tt*He-J.x,Ae=nt+lt*He-J.y;const rt=et*et+Ae*Ae;if(rt<=2)return new De(et,Ae);Ct=Math.sqrt(rt/2)}else{let Ie=!1;tt>Number.EPSILON?ie>Number.EPSILON&&(Ie=!0):tt<-Number.EPSILON?ie<-Number.EPSILON&&(Ie=!0):Math.sign(lt)===Math.sign($)&&(Ie=!0),Ie?(et=-lt,Ae=tt,Ct=Math.sqrt(be)):(et=tt,Ae=lt,Ct=Math.sqrt(be/2))}return new De(et/Ct,Ae/Ct)}const Q=[];for(let J=0,Pe=ee.length,Be=Pe-1,et=J+1;J<Pe;J++,Be++,et++)Be===Pe&&(Be=0),et===Pe&&(et=0),Q[J]=j(ee[J],ee[Be],ee[et]);const ne=[];let q,ae=Q.concat();for(let J=0,Pe=U.length;J<Pe;J++){const Be=U[J];q=[];for(let et=0,Ae=Be.length,Ct=Ae-1,tt=et+1;et<Ae;et++,Ct++,tt++)Ct===Ae&&(Ct=0),tt===Ae&&(tt=0),q[et]=j(Be[et],Be[Ct],Be[tt]);ne.push(q),ae=ae.concat(q)}for(let J=0;J<S;J++){const Pe=J/S,Be=v*Math.cos(Pe*Math.PI/2),et=y*Math.sin(Pe*Math.PI/2)+b;for(let Ae=0,Ct=ee.length;Ae<Ct;Ae++){const tt=K(ee[Ae],Q[Ae],et);Fe(tt.x,tt.y,-Be)}for(let Ae=0,Ct=U.length;Ae<Ct;Ae++){const tt=U[Ae];q=ne[Ae];for(let lt=0,ie=tt.length;lt<ie;lt++){const $=K(tt[lt],q[lt],et);Fe($.x,$.y,-Be)}}}const Re=y+b;for(let J=0;J<Z;J++){const Pe=p?K(R[J],ae[J],Re):R[J];P?(D.copy(k.normals[0]).multiplyScalar(Pe.x),F.copy(k.binormals[0]).multiplyScalar(Pe.y),B.copy(T[0]).add(D).add(F),Fe(B.x,B.y,B.z)):Fe(Pe.x,Pe.y,0)}for(let J=1;J<=d;J++)for(let Pe=0;Pe<Z;Pe++){const Be=p?K(R[Pe],ae[Pe],Re):R[Pe];P?(D.copy(k.normals[J]).multiplyScalar(Be.x),F.copy(k.binormals[J]).multiplyScalar(Be.y),B.copy(T[J]).add(D).add(F),Fe(B.x,B.y,B.z)):Fe(Be.x,Be.y,h/d*J)}for(let J=S-1;J>=0;J--){const Pe=J/S,Be=v*Math.cos(Pe*Math.PI/2),et=y*Math.sin(Pe*Math.PI/2)+b;for(let Ae=0,Ct=ee.length;Ae<Ct;Ae++){const tt=K(ee[Ae],Q[Ae],et);Fe(tt.x,tt.y,h+Be)}for(let Ae=0,Ct=U.length;Ae<Ct;Ae++){const tt=U[Ae];q=ne[Ae];for(let lt=0,ie=tt.length;lt<ie;lt++){const $=K(tt[lt],q[lt],et);P?Fe($.x,$.y+T[d-1].y,T[d-1].x+Be):Fe($.x,$.y,h+Be)}}}he(),ve();function he(){const J=r.length/3;if(p){let Pe=0,Be=Z*Pe;for(let et=0;et<G;et++){const Ae=Y[et];me(Ae[2]+Be,Ae[1]+Be,Ae[0]+Be)}Pe=d+S*2,Be=Z*Pe;for(let et=0;et<G;et++){const Ae=Y[et];me(Ae[0]+Be,Ae[1]+Be,Ae[2]+Be)}}else{for(let Pe=0;Pe<G;Pe++){const Be=Y[Pe];me(Be[2],Be[1],Be[0])}for(let Pe=0;Pe<G;Pe++){const Be=Y[Pe];me(Be[0]+Z*d,Be[1]+Z*d,Be[2]+Z*d)}}i.addGroup(J,r.length/3-J,0)}function ve(){const J=r.length/3;let Pe=0;Oe(ee,Pe),Pe+=ee.length;for(let Be=0,et=U.length;Be<et;Be++){const Ae=U[Be];Oe(Ae,Pe),Pe+=Ae.length}i.addGroup(J,r.length/3-J,1)}function Oe(J,Pe){let Be=J.length;for(;--Be>=0;){const et=Be;let Ae=Be-1;Ae<0&&(Ae=J.length-1);for(let Ct=0,tt=d+S*2;Ct<tt;Ct++){const lt=Z*Ct,ie=Z*(Ct+1),$=Pe+et+lt,be=Pe+Ae+lt,ke=Pe+Ae+ie,Ie=Pe+et+ie;ye($,be,ke,Ie)}}}function Fe(J,Pe,Be){l.push(J),l.push(Pe),l.push(Be)}function me(J,Pe,Be){je(J),je(Pe),je(Be);const et=r.length/3,Ae=E.generateTopUV(i,r,et-3,et-2,et-1);at(Ae[0]),at(Ae[1]),at(Ae[2])}function ye(J,Pe,Be,et){je(J),je(Pe),je(et),je(Pe),je(Be),je(et);const Ae=r.length/3,Ct=E.generateSideWallUV(i,r,Ae-6,Ae-3,Ae-2,Ae-1);at(Ct[0]),at(Ct[1]),at(Ct[3]),at(Ct[1]),at(Ct[2]),at(Ct[3])}function je(J){r.push(l[J*3+0]),r.push(l[J*3+1]),r.push(l[J*3+2])}function at(J){s.push(J.x),s.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return e0e(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new gw[r.type]().fromJSON(r)),new DE(i,e.options)}}const Zye={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new De(s,o),new De(a,l),new De(c,d)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],v=e[r*3+1],y=e[r*3+2],b=e[s*3],S=e[s*3+1],_=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new De(o,1-l),new De(c,1-h),new De(p,1-y),new De(b,1-_)]:[new De(a,1-l),new De(d,1-h),new De(v,1-y),new De(S,1-_)]}};function e0e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class OE extends rf{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OE(e.radius,e.detail)}}class Yx extends rf{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Yx(e.radius,e.detail)}}class FE extends ln{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let h=e;const p=(n-e)/r,v=new te,y=new De;for(let b=0;b<=r;b++){for(let S=0;S<=i;S++){const _=s+S/i*o;v.x=h*Math.cos(_),v.y=h*Math.sin(_),l.push(v.x,v.y,v.z),c.push(0,0,1),y.x=(v.x/n+1)/2,y.y=(v.y/n+1)/2,d.push(y.x,y.y)}h+=p}for(let b=0;b<r;b++){const S=b*(i+1);for(let _=0;_<i;_++){const E=_+S,T=E,P=E+i+1,k=E+i+2,F=E+1;a.push(T,P,F),a.push(P,k,F)}}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(c,3)),this.setAttribute("uv",new wt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class zE extends ln{constructor(e=new Dh([new De(0,.5),new De(-.5,-.5),new De(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new wt(r,3)),this.setAttribute("normal",new wt(s,3)),this.setAttribute("uv",new wt(o,2));function c(d){const h=r.length/3,p=d.extractPoints(n);let v=p.shape;const y=p.holes;Yl.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,_=y.length;S<_;S++){const E=y[S];Yl.isClockWise(E)===!0&&(y[S]=E.reverse())}const b=Yl.triangulateShape(v,y);for(let S=0,_=y.length;S<_;S++){const E=y[S];v=v.concat(E)}for(let S=0,_=v.length;S<_;S++){const E=v[S];r.push(E.x,E.y,0),s.push(0,0,1),o.push(E.x,E.y)}for(let S=0,_=b.length;S<_;S++){const E=b[S],T=E[0]+h,P=E[1]+h,k=E[2]+h;i.push(T,P,k),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return t0e(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new zE(i,e.curveSegments)}}function t0e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Kx extends ln{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new te,p=new te,v=[],y=[],b=[],S=[];for(let _=0;_<=i;_++){const E=[],T=_/i;let P=0;_===0&&o===0?P=.5/n:_===i&&l===Math.PI&&(P=-.5/n);for(let k=0;k<=n;k++){const F=k/n;h.x=-e*Math.cos(r+F*s)*Math.sin(o+T*a),h.y=e*Math.cos(o+T*a),h.z=e*Math.sin(r+F*s)*Math.sin(o+T*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),b.push(p.x,p.y,p.z),S.push(F+P,1-T),E.push(c++)}d.push(E)}for(let _=0;_<i;_++)for(let E=0;E<n;E++){const T=d[_][E+1],P=d[_][E],k=d[_+1][E],F=d[_+1][E+1];(_!==0||o>0)&&v.push(T,P,F),(_!==i-1||l<Math.PI)&&v.push(P,k,F)}this.setIndex(v),this.setAttribute("position",new wt(y,3)),this.setAttribute("normal",new wt(b,3)),this.setAttribute("uv",new wt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class BE extends rf{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new BE(e.radius,e.detail)}}class UE extends ln{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new te,h=new te,p=new te;for(let v=0;v<=i;v++)for(let y=0;y<=r;y++){const b=y/r*s,S=v/i*Math.PI*2;h.x=(e+n*Math.cos(S))*Math.cos(b),h.y=(e+n*Math.cos(S))*Math.sin(b),h.z=n*Math.sin(S),a.push(h.x,h.y,h.z),d.x=e*Math.cos(b),d.y=e*Math.sin(b),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(v/i)}for(let v=1;v<=i;v++)for(let y=1;y<=r;y++){const b=(r+1)*v+y-1,S=(r+1)*(v-1)+y-1,_=(r+1)*(v-1)+y,E=(r+1)*v+y;o.push(b,S,E),o.push(S,_,E)}this.setIndex(o),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(l,3)),this.setAttribute("uv",new wt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new UE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class VE extends ln{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],h=new te,p=new te,v=new te,y=new te,b=new te,S=new te,_=new te;for(let T=0;T<=i;++T){const P=T/i*s*Math.PI*2;E(P,s,o,e,v),E(P+.01,s,o,e,y),S.subVectors(y,v),_.addVectors(y,v),b.crossVectors(S,_),_.crossVectors(b,S),b.normalize(),_.normalize();for(let k=0;k<=r;++k){const F=k/r*Math.PI*2,D=-n*Math.cos(F),B=n*Math.sin(F);h.x=v.x+(D*_.x+B*b.x),h.y=v.y+(D*_.y+B*b.y),h.z=v.z+(D*_.z+B*b.z),l.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),c.push(p.x,p.y,p.z),d.push(T/i),d.push(k/r)}}for(let T=1;T<=i;T++)for(let P=1;P<=r;P++){const k=(r+1)*(T-1)+(P-1),F=(r+1)*T+(P-1),D=(r+1)*T+P,B=(r+1)*(T-1)+P;a.push(k,F,B),a.push(F,D,B)}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(c,3)),this.setAttribute("uv",new wt(d,2));function E(T,P,k,F,D){const B=Math.cos(T),N=Math.sin(T),R=k/P*T,U=Math.cos(R);D.x=F*(2+U)*.5*B,D.y=F*(2+U)*N*.5,D.z=F*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class jE extends ln{constructor(e=new CR(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new te,l=new te,c=new De;let d=new te;const h=[],p=[],v=[],y=[];b(),this.setIndex(y),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(v,2));function b(){for(let T=0;T<n;T++)S(T);S(s===!1?n:0),E(),_()}function S(T){d=e.getPointAt(T/n,d);const P=o.normals[T],k=o.binormals[T];for(let F=0;F<=r;F++){const D=F/r*Math.PI*2,B=Math.sin(D),N=-Math.cos(D);l.x=N*P.x+B*k.x,l.y=N*P.y+B*k.y,l.z=N*P.z+B*k.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function _(){for(let T=1;T<=n;T++)for(let P=1;P<=r;P++){const k=(r+1)*(T-1)+(P-1),F=(r+1)*T+(P-1),D=(r+1)*T+P,B=(r+1)*(T-1)+P;y.push(k,F,B),y.push(F,D,B)}}function E(){for(let T=0;T<=n;T++)for(let P=0;P<=r;P++)c.x=T/n,c.y=P/r,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new jE(new gw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class oH extends ln{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new te,s=new te;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,v=h.count;for(let y=p,b=p+v;y<b;y+=3)for(let S=0;S<3;S++){const _=a.getX(y+S),E=a.getX(y+(S+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,E),pO(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),pO(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new wt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function pO(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var mO=Object.freeze({__proto__:null,BoxGeometry:lp,CapsuleGeometry:IE,CircleGeometry:RE,ConeGeometry:kE,CylinderGeometry:lv,DodecahedronGeometry:NE,EdgesGeometry:nH,ExtrudeGeometry:DE,IcosahedronGeometry:OE,LatheGeometry:Xx,OctahedronGeometry:Yx,PlaneGeometry:ov,PolyhedronGeometry:rf,RingGeometry:FE,ShapeGeometry:zE,SphereGeometry:Kx,TetrahedronGeometry:BE,TorusGeometry:UE,TorusKnotGeometry:VE,TubeGeometry:jE,WireframeGeometry:oH});class aH extends Ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ft(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class lH extends ha{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class AR extends Ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cH extends AR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new De(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ft(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ft(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ft(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uH extends Ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ft(16777215),this.specular=new ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.combine=Vx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dH extends Ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ft(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fH extends Ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hH extends Ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.combine=Vx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pH extends Ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mH extends Ws{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Mh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function gH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vH(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function yP(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function PR(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function n0e(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let v=0;v<c.times.length;++v){const y=c.times[v]*r;if(!(y<n||y>=i)){h.push(c.times[v]);for(let b=0;b<d;++b)p.push(c.values[v*d+b])}}h.length!==0&&(c.times=Mh(h,c.times.constructor),c.values=Mh(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function i0e(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const y=a.times.length-1;let b;if(s<=a.times[0]){const _=d,E=h-d;b=a.values.slice(_,E)}else if(s>=a.times[y]){const _=y*h+d,E=_+h-d;b=a.values.slice(_,E)}else{const _=a.createInterpolant(),E=d,T=h-d;_.evaluate(s),b=_.resultBuffer.slice(E,T)}l==="quaternion"&&new _r().fromArray(b).normalize().conjugate().toArray(b);const S=c.times.length;for(let _=0;_<S;++_){const E=_*v+p;if(l==="quaternion")_r.multiplyQuaternionsFlat(c.values,E,b,0,c.values,E);else{const T=v-p*2;for(let P=0;P<T;++P)c.values[E+P]-=b[P]}}}return t.blendMode=aR,t}const r0e={convertArray:Mh,isTypedArray:gH,getKeyframeOrder:vH,sortedArray:yP,flattenJSON:PR,subclip:n0e,makeClipAdditive:i0e};class Jx{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yH extends Jx{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Eh,endingEnd:Eh}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Th:s=e,a=2*n-i;break;case Z0:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Th:o=e,l=2*i-n;break;case Z0:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,v=this._weightNext,y=(i-n)/(r-n),b=y*y,S=b*y,_=-p*S+2*p*b-p*y,E=(1+p)*S+(-1.5-2*p)*b+(-.5+p)*y+1,T=(-1-v)*S+(1.5+v)*b+.5*y,P=v*S-v*b;for(let k=0;k!==a;++k)s[k]=_*o[d+k]+E*o[c+k]+T*o[l+k]+P*o[h+k];return s}}class IR extends Jx{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-n)/(r-n),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class xH extends Jx{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class dl{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mh(n,this.TimeBufferType),this.values=Mh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Mh(e.times,Array),values:Mh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new xH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new IR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Q0:n=this.InterpolantFactoryMethodDiscrete;break;case hw:n=this.InterpolantFactoryMethodLinear;break;case Gb:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Q0;case this.InterpolantFactoryMethodLinear:return hw;case this.InterpolantFactoryMethodSmooth:return Gb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&gH(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Gb,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,v=h+i;for(let y=0;y!==i;++y){const b=n[h+y];if(b!==n[p+y]||b!==n[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let v=0;v!==i;++v)n[p+v]=n[h+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}dl.prototype.TimeBufferType=Float32Array;dl.prototype.ValueBufferType=Float32Array;dl.prototype.DefaultInterpolation=hw;class cp extends dl{constructor(e,n,i){super(e,n,i)}}cp.prototype.ValueTypeName="bool";cp.prototype.ValueBufferType=Array;cp.prototype.DefaultInterpolation=Q0;cp.prototype.InterpolantFactoryMethodLinear=void 0;cp.prototype.InterpolantFactoryMethodSmooth=void 0;class RR extends dl{}RR.prototype.ValueTypeName="color";class ux extends dl{}ux.prototype.ValueTypeName="number";class _H extends Jx{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let d=c+a;c!==d;c+=4)_r.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Qx extends dl{InterpolantFactoryMethodLinear(e){return new _H(this.times,this.values,this.getValueSize(),e)}}Qx.prototype.ValueTypeName="quaternion";Qx.prototype.InterpolantFactoryMethodSmooth=void 0;class up extends dl{constructor(e,n,i){super(e,n,i)}}up.prototype.ValueTypeName="string";up.prototype.ValueBufferType=Array;up.prototype.DefaultInterpolation=Q0;up.prototype.InterpolantFactoryMethodLinear=void 0;up.prototype.InterpolantFactoryMethodSmooth=void 0;class dx extends dl{}dx.prototype.ValueTypeName="vector";class fx{constructor(e="",n=-1,i=[],r=_E){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Oo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(o0e(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(dl.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=vH(l);l=yP(l,1,d),c=yP(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ux(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,v,y,b){if(v.length!==0){const S=[],_=[];PR(v,S,_,y),S.length!==0&&b.push(new h(p,S,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let b=0;b<p[y].morphTargets.length;b++)v[p[y].morphTargets[b]]=-1;for(const b in v){const S=[],_=[];for(let E=0;E!==p[y].morphTargets.length;++E){const T=p[y];S.push(T.time),_.push(T.morphTarget===b?1:0)}r.push(new ux(".morphTargetInfluence["+b+"]",S,_))}l=v.length*o}else{const v=".bones["+n[h].name+"]";i(dx,v+".position",p,"pos",r),i(Qx,v+".quaternion",p,"rot",r),i(dx,v+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function s0e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ux;case"vector":case"vector2":case"vector3":case"vector4":return dx;case"color":return RR;case"quaternion":return Qx;case"bool":case"boolean":return cp;case"string":return up}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function o0e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=s0e(t.type);if(t.times===void 0){const n=[],i=[];PR(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const iu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class kR{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const v=c[h],y=c[h+1];if(v.global&&(v.lastIndex=0),v.test(d))return y}return null}}}const bH=new kR;class ho{constructor(e){this.manager=e!==void 0?e:bH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ho.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gc={};class a0e extends Error{constructor(e,n){super(e),this.response=n}}class xu extends ho{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=iu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Gc[e]!==void 0){Gc[e].push({onLoad:n,onProgress:i,onError:r});return}Gc[e]=[],Gc[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Gc[e],h=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=p?parseInt(p):0,y=v!==0;let b=0;const S=new ReadableStream({start(_){E();function E(){h.read().then(({done:T,value:P})=>{if(T)_.close();else{b+=P.byteLength;const k=new ProgressEvent("progress",{lengthComputable:y,loaded:b,total:v});for(let F=0,D=d.length;F<D;F++){const B=d[F];B.onProgress&&B.onProgress(k)}_.enqueue(P),E()}},T=>{_.error(T)})}}});return new Response(S)}else throw new a0e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(p);return c.arrayBuffer().then(y=>v.decode(y))}}}).then(c=>{iu.add(e,c);const d=Gc[e];delete Gc[e];for(let h=0,p=d.length;h<p;h++){const v=d[h];v.onLoad&&v.onLoad(c)}}).catch(c=>{const d=Gc[e];if(d===void 0)throw this.manager.itemError(e),c;delete Gc[e];for(let h=0,p=d.length;h<p;h++){const v=d[h];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class l0e extends ho{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new xu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=fx.parse(e[i]);n.push(r)}return n}}class c0e extends ho{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new AE,l=new xu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const v=s.parse(p,!0);o[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=ir),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let b=0;b<p.mipmapCount;b++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+b]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=ir),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class hx extends ho{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=iu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=sx("img");function l(){d(),iu.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class u0e extends ho{constructor(e){super(e)}load(e,n,i,r){const s=new Gx;s.colorSpace=oa;const o=new hx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class d0e extends ho{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Xl,a=new xu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ca,o.wrapT=c.wrapT!==void 0?c.wrapT:ca,o.magFilter=c.magFilter!==void 0?c.magFilter:ir,o.minFilter=c.minFilter!==void 0?c.minFilter:ir,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Bl),c.mipmapCount===1&&(o.minFilter=ir),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,r),o}}class WE extends ho{constructor(e){super(e)}load(e,n,i,r){const s=new Si,o=new hx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class sf extends An{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ft(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class SH extends sf{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ft(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const aM=new Dt,gO=new te,vO=new te;class NR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new De(512,512),this.map=null,this.mapPass=null,this.matrix=new Dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $x,this._frameExtents=new De(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;gO.setFromMatrixPosition(e.matrixWorld),n.position.copy(gO),vO.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(vO),n.updateMatrixWorld(),aM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(aM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class f0e extends NR{constructor(){super(new Nr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Lg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wH extends sf{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new f0e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yO=new Dt,Ny=new te,lM=new te;class h0e extends NR{constructor(){super(new Nr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new De(4,2),this._viewportCount=6,this._viewports=[new Tn(2,1,1,1),new Tn(0,1,1,1),new Tn(3,1,1,1),new Tn(1,1,1,1),new Tn(3,0,1,1),new Tn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ny.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ny),lM.copy(i.position),lM.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(lM),i.updateMatrixWorld(),r.makeTranslation(-Ny.x,-Ny.y,-Ny.z),yO.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yO)}}class EH extends sf{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new h0e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class p0e extends NR{constructor(){super(new qx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class TH extends sf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.shadow=new p0e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class CH extends sf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class MH extends sf{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class AH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class PH extends sf{constructor(e=new AH,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class HE extends ho{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new xu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=HE.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ft().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ft().setHex(o.value);break;case"v2":r.uniforms[s].value=new De().fromArray(o.value);break;case"v3":r.uniforms[s].value=new te().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Tn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new tn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Dt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new De().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new De().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:aH,SpriteMaterial:xR,RawShaderMaterial:lH,ShaderMaterial:ha,PointsMaterial:bR,MeshPhysicalMaterial:cH,MeshStandardMaterial:AR,MeshPhongMaterial:uH,MeshToonMaterial:dH,MeshNormalMaterial:fH,MeshLambertMaterial:hH,MeshDepthMaterial:gR,MeshDistanceMaterial:vR,MeshBasicMaterial:nf,MeshMatcapMaterial:pH,LineDashedMaterial:mH,LineBasicMaterial:Ws,Material:Ss};return new n[e]}}class xP{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class IH extends ln{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class RH extends ho{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new xu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(v,y){if(n[y]!==void 0)return n[y];const S=v.interleavedBuffers[y],_=s(v,S.buffer),E=ng(S.type,_),T=new CE(E,S.stride);return T.uuid=S.uuid,n[y]=T,T}function s(v,y){if(i[y]!==void 0)return i[y];const S=v.arrayBuffers[y],_=new Uint32Array(S).buffer;return i[y]=_,_}const o=e.isInstancedBufferGeometry?new IH:new ln,a=e.data.index;if(a!==void 0){const v=ng(a.type,a.array);o.setIndex(new Kn(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let b;if(y.isInterleavedBufferAttribute){const S=r(e.data,y.data);b=new Kh(S,y.itemSize,y.offset,y.normalized)}else{const S=ng(y.type,y.array),_=y.isInstancedBufferAttribute?Og:Kn;b=new _(S,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),y.usage!==void 0&&b.setUsage(y.usage),o.setAttribute(v,b)}const c=e.data.morphAttributes;if(c)for(const v in c){const y=c[v],b=[];for(let S=0,_=y.length;S<_;S++){const E=y[S];let T;if(E.isInterleavedBufferAttribute){const P=r(e.data,E.data);T=new Kh(P,E.itemSize,E.offset,E.normalized)}else{const P=ng(E.type,E.array);T=new Kn(P,E.itemSize,E.normalized)}E.name!==void 0&&(T.name=E.name),b.push(T)}o.morphAttributes[v]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,y=h.length;v!==y;++v){const b=h[v];o.addGroup(b.start,b.count,b.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new te;p.center!==void 0&&v.fromArray(p.center),o.boundingSphere=new _s(v,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class m0e extends ho{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?xP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new xu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?xP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new xu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Dh().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ME().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new RH;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in mO?a=mO[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new HE;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=fx.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:ng(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new kR(n);s=new hx(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const v=[];for(let y=0,b=p.length;y<b;y++){const S=p[y],_=a(S);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new Xl(_.data,_.width,_.height)))}r[h.uuid]=new Ch(v)}else{const v=a(h.url);r[h.uuid]=new Ch(v)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:ng(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new hx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const v=c[h],y=await s(v);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Xl(y.data,y.width,y.height)))}i[l.uuid]=new Ch(d)}else{const d=await s(l.url);i[l.uuid]=new Ch(d)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let d;Array.isArray(c)?(d=new Gx,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Xl:d=new Si,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,g0e)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],xO),d.wrapT=i(a.wrap[1],xO)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,_O)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,_O)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,n,i,r,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let y=0,b=p.length;y<b;y++){const S=p[y];i[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),v.push(i[S])}return v}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new yR,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ft(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new TE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new EE(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Nr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new qx(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new CH(e.color,e.intensity);break;case"DirectionalLight":o=new TH(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new EH(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new MH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new wH(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new SH(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new PH().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new $W(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new rr(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new qW(d,h,p),o.instanceMatrix=new Og(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new Og(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":d=a(e.geometry),h=l(e.material),o=new XW(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(b=>{const S=new Vs;S.min.fromArray(b.boxMin),S.max.fromArray(b.boxMax);const _=new _s;return _.radius=b.sphereRadius,_.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:S,sphereInitialized:b.sphereInitialized,sphere:_}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new GW;break;case"Line":o=new qd(a(e.geometry),l(e.material));break;case"LineLoop":o=new YW(a(e.geometry),l(e.material));break;case"LineSegments":o=new oc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new KW(a(e.geometry),l(e.material));break;case"Sprite":o=new HW(l(e.material));break;case"Group":o=new rg;break;case"Bone":o=new _R;break;default:o=new An}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)o.add(this.parseObject(p[v],n,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const y=p[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const y=p[v],b=o.getObjectByProperty("uuid",y.object);b!==void 0&&o.addLevel(b,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new An}})}}const g0e={UVMapping:hE,CubeReflectionMapping:vu,CubeRefractionMapping:$d,EquirectangularReflectionMapping:X0,EquirectangularRefractionMapping:Y0,CubeUVReflectionMapping:iv},xO={RepeatWrapping:K0,ClampToEdgeWrapping:ca,MirroredRepeatWrapping:J0},_O={NearestFilter:Lr,NearestMipmapNearestFilter:JI,NearestMipmapLinearFilter:tg,LinearFilter:ir,LinearMipmapNearestFilter:p0,LinearMipmapLinearFilter:Bl};class v0e extends ho{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=iu.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return iu.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),iu.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});iu.add(e,l),s.manager.itemStart(e)}}let ib;class LR{static getContext(){return ib===void 0&&(ib=new(window.AudioContext||window.webkitAudioContext)),ib}static setContext(e){ib=e}}class y0e extends ho{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new xu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);LR.getContext().decodeAudioData(c,function(h){n(h)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const bO=new Dt,SO=new Dt,sh=new Dt;class x0e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,sh.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Nh*n.fov*.5)/n.zoom;let a,l;SO.elements[12]=-r,bO.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,sh.elements[0]=2*n.near/(l-a),sh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(sh),a=-o*n.aspect-s,l=o*n.aspect-s,sh.elements[0]=2*n.near/(l-a),sh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(sh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(SO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(bO)}}class DR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=wO();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function wO(){return(typeof performance>"u"?Date:performance).now()}const oh=new te,EO=new _r,_0e=new te,ah=new te;class b0e extends An{constructor(){super(),this.type="AudioListener",this.context=LR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(oh,EO,_0e),ah.set(0,0,-1).applyQuaternion(EO),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(oh.x,r),n.positionY.linearRampToValueAtTime(oh.y,r),n.positionZ.linearRampToValueAtTime(oh.z,r),n.forwardX.linearRampToValueAtTime(ah.x,r),n.forwardY.linearRampToValueAtTime(ah.y,r),n.forwardZ.linearRampToValueAtTime(ah.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(oh.x,oh.y,oh.z),n.setOrientation(ah.x,ah.y,ah.z,i.x,i.y,i.z)}}let kH=class extends An{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const lh=new te,TO=new _r,S0e=new te,ch=new te;class w0e extends kH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(lh,TO,S0e),ch.set(0,0,1).applyQuaternion(TO);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(lh.x,i),n.positionY.linearRampToValueAtTime(lh.y,i),n.positionZ.linearRampToValueAtTime(lh.z,i),n.orientationX.linearRampToValueAtTime(ch.x,i),n.orientationY.linearRampToValueAtTime(ch.y,i),n.orientationZ.linearRampToValueAtTime(ch.z,i)}else n.setPosition(lh.x,lh.y,lh.z),n.setOrientation(ch.x,ch.y,ch.z)}}class E0e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class NH{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){_r.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;_r.multiplyQuaternionsFlat(e,o,e,n,e,i),_r.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const OR="\\[\\]\\.:\\/",T0e=new RegExp("["+OR+"]","g"),FR="[^"+OR+"]",C0e="[^"+OR.replace("\\.","")+"]",M0e=/((?:WC+[\/:])*)/.source.replace("WC",FR),A0e=/(WCOD+)?/.source.replace("WCOD",C0e),P0e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",FR),I0e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",FR),R0e=new RegExp("^"+M0e+A0e+P0e+I0e+"$"),k0e=["material","materials","bones","map"];class N0e{constructor(e,n,i){const r=i||Mn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Mn{constructor(e,n,i){this.path=n,this.parsedPath=i||Mn.parseTrackName(n),this.node=Mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Mn.Composite(e,n,i):new Mn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(T0e,"")}static parseTrackName(e){const n=R0e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);k0e.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Mn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=N0e;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class L0e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Oo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],v=p.uuid;let y=n[v];if(y===void 0){y=l++,n[v]=y,e.push(p);for(let b=0,S=o;b!==S;++b)s[b].push(new Mn(p,i[b],r[b]))}else if(y<c){a=e[y];const b=--c,S=e[b];n[S.uuid]=y,e[y]=S,n[v]=b,e[b]=p;for(let _=0,E=o;_!==E;++_){const T=s[_],P=T[b];let k=T[y];T[y]=P,k===void 0&&(k=new Mn(p,i[_],r[_])),T[b]=k}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];n[p.uuid]=d,e[d]=p,n[c]=h,e[h]=l;for(let v=0,y=r;v!==y;++v){const b=i[v],S=b[h],_=b[d];b[d]=S,b[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=n[d];if(h!==void 0)if(delete n[d],h<s){const p=--s,v=e[p],y=--o,b=e[y];n[v.uuid]=h,e[h]=v,n[b.uuid]=p,e[p]=b,e.pop();for(let S=0,_=r;S!==_;++S){const E=i[S],T=E[p],P=E[y];E[h]=T,E[p]=P,E.pop()}}else{const p=--o,v=e[p];p>0&&(n[v.uuid]=h),e[h]=v,e.pop();for(let y=0,b=r;y!==b;++y){const S=i[y];S[h]=S[p],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(h);for(let p=d,v=l.length;p!==v;++p){const y=l[p];h[p]=new Mn(y,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class LH{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Eh,endingEnd:Eh};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pW,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case aR:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case _E:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===mW;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===hW){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Th,r.endingEnd=Th):(e?r.endingStart=this.zeroSlopeAtStart?Th:Eh:r.endingStart=Z0,n?r.endingEnd=this.zeroSlopeAtEnd?Th:Eh:r.endingEnd=Z0)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const D0e=new Float32Array(1);class O0e extends sc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=r[h],v=p.name;let y=d[v];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const b=n&&n._propertyBindings[h].binding.parsedPath;y=new NH(Mn.create(i,v,b),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new IR(new Float32Array(2),new Float32Array(2),1,D0e),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?fx.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=_E),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new LH(this,o,n,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?fx.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class zR{constructor(e){this.value=e}clone(){return new zR(this.value.clone===void 0?this.value:this.value.clone())}}let F0e=0;class z0e extends sc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:F0e++}),this.name="",this.usage=ix,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class B0e extends CE{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class U0e{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const CO=new Dt;class DH{constructor(e,n,i=0,r=1/0){this.ray=new sv(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Lh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return CO.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(CO),this}intersectObject(e,n=!0,i=[]){return _P(e,this,i,n),i.sort(MO),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)_P(e[r],this,i,n);return i.sort(MO),i}}function MO(t,e){return t.distance-e.distance}function _P(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)_P(s[o],e,n,!0)}}class OH{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(zi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class V0e{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class BR{constructor(e,n,i,r){BR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const s=this.elements;return s[0]=e,s[2]=n,s[1]=i,s[3]=r,this}}const AO=new De;class j0e{constructor(e=new De(1/0,1/0),n=new De(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=AO.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,AO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PO=new te,rb=new te;class W0e{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){PO.subVectors(e,this.start),rb.subVectors(this.end,this.start);const i=rb.dot(rb);let s=rb.dot(PO)/i;return n&&(s=zi(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const IO=new te;class H0e extends An{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new ln,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new wt(r,3));const s=new Ws({fog:!1,toneMapped:!1});this.cone=new oc(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),IO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(IO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xd=new te,sb=new Dt,cM=new Dt;class G0e extends oc{constructor(e){const n=FH(e),i=new ln,r=[],s=[],o=new ft(0,0,1),a=new ft(0,1,0);for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new wt(r,3)),i.setAttribute("color",new wt(s,3));const l=new Ws({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");cM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(sb.multiplyMatrices(cM,a.matrixWorld),xd.setFromMatrixPosition(sb),r.setXYZ(o,xd.x,xd.y,xd.z),sb.multiplyMatrices(cM,a.parent.matrixWorld),xd.setFromMatrixPosition(sb),r.setXYZ(o+1,xd.x,xd.y,xd.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function FH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,FH(t.children[n]));return e}class $0e extends rr{constructor(e,n,i){const r=new Kx(n,4,2),s=new nf({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const q0e=new te,RO=new ft,kO=new ft;class X0e extends An{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Yx(n);r.rotateY(Math.PI*.5),this.material=new nf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Kn(o,3)),this.add(new rr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");RO.copy(this.light.color),kO.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?RO:kO;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(q0e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Y0e extends oc{constructor(e=10,n=10,i=4473924,r=8947848){i=new ft(i),r=new ft(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,v=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const b=p===s?i:r;b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3}const d=new ln;d.setAttribute("position",new wt(l,3)),d.setAttribute("color",new wt(c,3));const h=new Ws({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class K0e extends oc{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new ft(s),o=new ft(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),v=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(v,0,y);const b=h&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let h=0;h<i;h++){const p=h&1?s:o,v=e-e/i*h;for(let y=0;y<r;y++){let b=y/r*(Math.PI*2),S=Math.sin(b)*v,_=Math.cos(b)*v;a.push(S,0,_),l.push(p.r,p.g,p.b),b=(y+1)/r*(Math.PI*2),S=Math.sin(b)*v,_=Math.cos(b)*v,a.push(S,0,_),l.push(p.r,p.g,p.b)}}const c=new ln;c.setAttribute("position",new wt(a,3)),c.setAttribute("color",new wt(l,3));const d=new Ws({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const NO=new te,ob=new te,LO=new te;class J0e extends An{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new ln;r.setAttribute("position",new wt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ws({fog:!1,toneMapped:!1});this.lightPlane=new qd(r,s),this.add(this.lightPlane),r=new ln,r.setAttribute("position",new wt([0,0,0,0,0,1],3)),this.targetLine=new qd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),NO.setFromMatrixPosition(this.light.matrixWorld),ob.setFromMatrixPosition(this.light.target.matrixWorld),LO.subVectors(ob,NO),this.lightPlane.lookAt(ob),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ob),this.targetLine.scale.z=LO.length()}}const ab=new te,Oi=new Hx;class Q0e extends oc{constructor(e){const n=new ln,i=new Ws({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,b){l(y),l(b)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}n.setAttribute("position",new wt(r,3)),n.setAttribute("color",new wt(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ft(16755200),d=new ft(16711680),h=new ft(43775),p=new ft(16777215),v=new ft(3355443);this.setColors(c,d,h,p,v)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Oi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wi("c",n,e,Oi,0,0,-1),Wi("t",n,e,Oi,0,0,1),Wi("n1",n,e,Oi,-1,-1,-1),Wi("n2",n,e,Oi,i,-1,-1),Wi("n3",n,e,Oi,-1,r,-1),Wi("n4",n,e,Oi,i,r,-1),Wi("f1",n,e,Oi,-1,-1,1),Wi("f2",n,e,Oi,i,-1,1),Wi("f3",n,e,Oi,-1,r,1),Wi("f4",n,e,Oi,i,r,1),Wi("u1",n,e,Oi,i*.7,r*1.1,-1),Wi("u2",n,e,Oi,-1*.7,r*1.1,-1),Wi("u3",n,e,Oi,0,r*2,-1),Wi("cf1",n,e,Oi,-1,0,1),Wi("cf2",n,e,Oi,i,0,1),Wi("cf3",n,e,Oi,0,-1,1),Wi("cf4",n,e,Oi,0,r,1),Wi("cn1",n,e,Oi,-1,0,-1),Wi("cn2",n,e,Oi,i,0,-1),Wi("cn3",n,e,Oi,0,-1,-1),Wi("cn4",n,e,Oi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wi(t,e,n,i,r,s,o){ab.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],ab.x,ab.y,ab.z)}}const lb=new Vs;class Z0e extends oc{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ln;s.setIndex(new Kn(i,1)),s.setAttribute("position",new Kn(r,3)),super(s,new Ws({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&lb.setFromObject(this.object),lb.isEmpty())return;const n=lb.min,i=lb.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class exe extends oc{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ln;s.setIndex(new Kn(i,1)),s.setAttribute("position",new wt(r,3)),super(s,new Ws({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class txe extends qd{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ln;o.setAttribute("position",new wt(s,3)),o.computeBoundingSphere(),super(o,new Ws({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ln;l.setAttribute("position",new wt(a,3)),l.computeBoundingSphere(),this.add(new rr(l,new nf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DO=new te;let cb,uM;class nxe extends An{constructor(e=new te(0,0,1),n=new te(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",cb===void 0&&(cb=new ln,cb.setAttribute("position",new wt([0,0,0,0,1,0],3)),uM=new lv(0,.5,1,5,1),uM.translate(0,-.5,0)),this.position.copy(n),this.line=new qd(cb,new Ws({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rr(uM,new nf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DO.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(DO,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ixe extends oc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ln;r.setAttribute("position",new wt(n,3)),r.setAttribute("color",new wt(i,3));const s=new Ws({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new ft,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rxe{constructor(){this.type="ShapePath",this.color=new ft,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ox,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const E=[];for(let T=0,P=_.length;T<P;T++){const k=_[T],F=new Dh;F.curves=k.curves,E.push(F)}return E}function i(_,E){const T=E.length;let P=!1;for(let k=T-1,F=0;F<T;k=F++){let D=E[k],B=E[F],N=B.x-D.x,R=B.y-D.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(D=E[F],N=-N,B=E[k],R=-R),_.y<D.y||_.y>B.y)continue;if(_.y===D.y){if(_.x===D.x)return!0}else{const U=R*(_.x-D.x)-N*(_.y-D.y);if(U===0)return!0;if(U<0)continue;P=!P}}else{if(_.y!==D.y)continue;if(B.x<=_.x&&_.x<=D.x||D.x<=_.x&&_.x<=B.x)return!0}}return P}const r=Yl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Dh,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let v=[],y=0,b;p[y]=void 0,v[y]=[];for(let _=0,E=s.length;_<E;_++)a=s[_],b=a.getPoints(),o=r(b),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new Dh,p:b},p[y].s.curves=a.curves,d&&y++,v[y]=[]):v[y].push({h:a,p:b[0]});if(!p[0])return n(s);if(p.length>1){let _=!1,E=0;for(let T=0,P=p.length;T<P;T++)h[T]=[];for(let T=0,P=p.length;T<P;T++){const k=v[T];for(let F=0;F<k.length;F++){const D=k[F];let B=!0;for(let N=0;N<p.length;N++)i(D.p,p[N].p)&&(T!==N&&E++,B?(B=!1,h[N].push(D)):_=!0);B&&h[T].push(D)}}E>0&&_===!1&&(v=h)}let S;for(let _=0,E=p.length;_<E;_++){l=p[_].s,c.push(l),S=v[_];for(let T=0,P=S.length;T<P;T++)l.holes.push(S[T].h)}return c}}class sxe extends sc{constructor(e,n){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class oxe extends sl{constructor(e=1,n=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ux}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ux);const axe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KI,AddEquation:Pd,AddOperation:sW,AdditiveAnimationBlendMode:aR,AdditiveBlending:oP,AgXToneMapping:uW,AlphaFormat:tR,AlwaysCompare:TW,AlwaysDepth:Qj,AlwaysStencilFunc:uP,AmbientLight:CH,AnimationAction:LH,AnimationClip:fx,AnimationLoader:l0e,AnimationMixer:O0e,AnimationObjectGroup:L0e,AnimationUtils:r0e,ArcCurve:JW,ArrayCamera:VW,ArrowHelper:nxe,AttachedBindMode:cP,Audio:kH,AudioAnalyser:E0e,AudioContext:LR,AudioListener:b0e,AudioLoader:y0e,AxesHelper:ixe,BackSide:Us,BasicDepthPacking:gW,BasicShadowMap:kj,BatchedMesh:XW,Bone:_R,BooleanKeyframeTrack:cp,Box2:j0e,Box3:Vs,Box3Helper:exe,BoxGeometry:lp,BoxHelper:Z0e,BufferAttribute:Kn,BufferGeometry:ln,BufferGeometryLoader:RH,ByteType:QI,Cache:iu,Camera:Hx,CameraHelper:Q0e,CanvasTexture:Aye,CapsuleGeometry:IE,CatmullRomCurve3:QW,CineonToneMapping:lW,CircleGeometry:RE,ClampToEdgeWrapping:ca,Clock:DR,Color:ft,ColorKeyframeTrack:RR,ColorManagement:kn,CompressedArrayTexture:Cye,CompressedCubeTexture:Mye,CompressedTexture:AE,CompressedTextureLoader:c0e,ConeGeometry:kE,ConstantAlphaFactor:Yj,ConstantColorFactor:qj,Controls:sxe,CubeCamera:NW,CubeReflectionMapping:vu,CubeRefractionMapping:$d,CubeTexture:Gx,CubeTextureLoader:u0e,CubeUVReflectionMapping:iv,CubicBezierCurve:wR,CubicBezierCurve3:ZW,CubicInterpolant:yH,CullFaceBack:sP,CullFaceFront:Rj,CullFaceFrontBack:rfe,CullFaceNone:Ij,Curve:ul,CurvePath:tH,CustomBlending:Nj,CustomToneMapping:cW,CylinderGeometry:lv,Cylindrical:V0e,Data3DTexture:uR,DataArrayTexture:SE,DataTexture:Xl,DataTextureLoader:d0e,DataUtils:ghe,DecrementStencilOp:yfe,DecrementWrapStencilOp:_fe,DefaultLoadingManager:bH,DepthFormat:kh,DepthStencilFormat:Yh,DepthTexture:mR,DetachedBindMode:fW,DirectionalLight:TH,DirectionalLightHelper:J0e,DiscreteInterpolant:xH,DisplayP3ColorSpace:bE,DodecahedronGeometry:NE,DoubleSide:Ja,DstAlphaFactor:jj,DstColorFactor:Hj,DynamicCopyUsage:Dfe,DynamicDrawUsage:Pfe,DynamicReadUsage:kfe,EdgesGeometry:nH,EllipseCurve:PE,EqualCompare:bW,EqualDepth:eW,EqualStencilFunc:Efe,EquirectangularReflectionMapping:X0,EquirectangularRefractionMapping:Y0,Euler:fo,EventDispatcher:sc,ExtrudeGeometry:DE,FileLoader:xu,Float16BufferAttribute:She,Float32BufferAttribute:wt,FloatType:ao,Fog:TE,FogExp2:EE,FramebufferTexture:Tye,FrontSide:gu,Frustum:$x,GLBufferAttribute:U0e,GLSL1:Ffe,GLSL3:dP,GreaterCompare:SW,GreaterDepth:nW,GreaterEqualCompare:EW,GreaterEqualDepth:tW,GreaterEqualStencilFunc:Afe,GreaterStencilFunc:Cfe,GridHelper:Y0e,Group:rg,HalfFloatType:rv,HemisphereLight:SH,HemisphereLightHelper:X0e,IcosahedronGeometry:OE,ImageBitmapLoader:v0e,ImageLoader:hx,ImageUtils:PW,IncrementStencilOp:vfe,IncrementWrapStencilOp:xfe,InstancedBufferAttribute:Og,InstancedBufferGeometry:IH,InstancedInterleavedBuffer:B0e,InstancedMesh:qW,Int16BufferAttribute:_he,Int32BufferAttribute:bhe,Int8BufferAttribute:vhe,IntType:pE,InterleavedBuffer:CE,InterleavedBufferAttribute:Kh,Interpolant:Jx,InterpolateDiscrete:Q0,InterpolateLinear:hw,InterpolateSmooth:Gb,InvertStencilOp:bfe,KeepStencilOp:mh,KeyframeTrack:dl,LOD:GW,LatheGeometry:Xx,Layers:Lh,LessCompare:_W,LessDepth:Zj,LessEqualCompare:lR,LessEqualDepth:q0,LessEqualStencilFunc:Tfe,LessStencilFunc:wfe,Light:sf,LightProbe:PH,Line:qd,Line3:W0e,LineBasicMaterial:Ws,LineCurve:ER,LineCurve3:eH,LineDashedMaterial:mH,LineLoop:YW,LineSegments:oc,LinearDisplayP3ColorSpace:Wx,LinearFilter:ir,LinearInterpolant:IR,LinearMipMapLinearFilter:lfe,LinearMipMapNearestFilter:afe,LinearMipmapLinearFilter:Bl,LinearMipmapNearestFilter:p0,LinearSRGBColorSpace:Mu,LinearToneMapping:oW,LinearTransfer:ex,Loader:ho,LoaderUtils:xP,LoadingManager:kR,LoopOnce:hW,LoopPingPong:mW,LoopRepeat:pW,LuminanceAlphaFormat:rR,LuminanceFormat:iR,MOUSE:nfe,Material:Ss,MaterialLoader:HE,MathUtils:CW,Matrix2:BR,Matrix3:tn,Matrix4:Dt,MaxEquation:Fj,Mesh:rr,MeshBasicMaterial:nf,MeshDepthMaterial:gR,MeshDistanceMaterial:vR,MeshLambertMaterial:hH,MeshMatcapMaterial:pH,MeshNormalMaterial:fH,MeshPhongMaterial:uH,MeshPhysicalMaterial:cH,MeshStandardMaterial:AR,MeshToonMaterial:dH,MinEquation:Oj,MirroredRepeatWrapping:J0,MixOperation:rW,MultiplyBlending:lP,MultiplyOperation:Vx,NearestFilter:Lr,NearestMipMapLinearFilter:ofe,NearestMipMapNearestFilter:sfe,NearestMipmapLinearFilter:tg,NearestMipmapNearestFilter:JI,NeutralToneMapping:dW,NeverCompare:xW,NeverDepth:Jj,NeverStencilFunc:Sfe,NoBlending:au,NoColorSpace:Yc,NoToneMapping:ql,NormalAnimationBlendMode:_E,NormalBlending:Rh,NotEqualCompare:wW,NotEqualDepth:iW,NotEqualStencilFunc:Mfe,NumberKeyframeTrack:ux,Object3D:An,ObjectLoader:m0e,ObjectSpaceNormalMap:yW,OctahedronGeometry:Yx,OneFactor:Bj,OneMinusConstantAlphaFactor:Kj,OneMinusConstantColorFactor:Xj,OneMinusDstAlphaFactor:Wj,OneMinusDstColorFactor:Gj,OneMinusSrcAlphaFactor:US,OneMinusSrcColorFactor:Vj,OrthographicCamera:qx,P3Primaries:nx,PCFShadowMap:fE,PCFSoftShadowMap:h0,PMREMGenerator:fP,Path:ox,PerspectiveCamera:Nr,Plane:Ed,PlaneGeometry:ov,PlaneHelper:txe,PointLight:EH,PointLightHelper:$0e,Points:KW,PointsMaterial:bR,PolarGridHelper:K0e,PolyhedronGeometry:rf,PositionalAudio:w0e,PropertyBinding:Mn,PropertyMixer:NH,QuadraticBezierCurve:TR,QuadraticBezierCurve3:CR,Quaternion:_r,QuaternionKeyframeTrack:Qx,QuaternionLinearInterpolant:_H,RED_GREEN_RGTC2_Format:dw,RED_RGTC1_Format:oR,REVISION:Ux,RGBADepthPacking:vW,RGBAFormat:ys,RGBAIntegerFormat:xE,RGBA_ASTC_10x10_Format:sw,RGBA_ASTC_10x5_Format:nw,RGBA_ASTC_10x6_Format:iw,RGBA_ASTC_10x8_Format:rw,RGBA_ASTC_12x10_Format:ow,RGBA_ASTC_12x12_Format:aw,RGBA_ASTC_4x4_Format:XS,RGBA_ASTC_5x4_Format:YS,RGBA_ASTC_5x5_Format:KS,RGBA_ASTC_6x5_Format:JS,RGBA_ASTC_6x6_Format:QS,RGBA_ASTC_8x5_Format:ZS,RGBA_ASTC_8x6_Format:ew,RGBA_ASTC_8x8_Format:tw,RGBA_BPTC_Format:x0,RGBA_ETC2_EAC_Format:qS,RGBA_PVRTC_2BPPV1_Format:HS,RGBA_PVRTC_4BPPV1_Format:WS,RGBA_S3TC_DXT1_Format:g0,RGBA_S3TC_DXT3_Format:v0,RGBA_S3TC_DXT5_Format:y0,RGBDepthPacking:hfe,RGBFormat:nR,RGBIntegerFormat:cfe,RGB_BPTC_SIGNED_Format:lw,RGB_BPTC_UNSIGNED_Format:cw,RGB_ETC1_Format:GS,RGB_ETC2_Format:$S,RGB_PVRTC_2BPPV1_Format:jS,RGB_PVRTC_4BPPV1_Format:VS,RGB_S3TC_DXT1_Format:m0,RGDepthPacking:pfe,RGFormat:sR,RGIntegerFormat:yE,RawShaderMaterial:lH,Ray:sv,Raycaster:DH,Rec709Primaries:tx,RectAreaLight:MH,RedFormat:vE,RedIntegerFormat:jx,ReinhardToneMapping:aW,RenderTarget:IW,RepeatWrapping:K0,ReplaceStencilOp:gfe,ReverseSubtractEquation:Dj,RingGeometry:FE,SIGNED_RED_GREEN_RGTC2_Format:fw,SIGNED_RED_RGTC1_Format:uw,SRGBColorSpace:oa,SRGBTransfer:li,Scene:yR,ShaderChunk:on,ShaderLib:Xa,ShaderMaterial:ha,ShadowMaterial:aH,Shape:Dh,ShapeGeometry:zE,ShapePath:rxe,ShapeUtils:Yl,ShortType:ZI,Skeleton:ME,SkeletonHelper:G0e,SkinnedMesh:$W,Source:Ch,Sphere:_s,SphereGeometry:Kx,Spherical:OH,SphericalHarmonics3:AH,SplineCurve:MR,SpotLight:wH,SpotLightHelper:H0e,Sprite:HW,SpriteMaterial:xR,SrcAlphaFactor:BS,SrcAlphaSaturateFactor:$j,SrcColorFactor:Uj,StaticCopyUsage:Lfe,StaticDrawUsage:ix,StaticReadUsage:Rfe,StereoCamera:x0e,StreamCopyUsage:Ofe,StreamDrawUsage:Ife,StreamReadUsage:Nfe,StringKeyframeTrack:up,SubtractEquation:Lj,SubtractiveBlending:aP,TOUCH:ife,TangentSpaceNormalMap:tf,TetrahedronGeometry:BE,Texture:Si,TextureLoader:WE,TextureUtils:rye,TorusGeometry:UE,TorusKnotGeometry:VE,Triangle:No,TriangleFanDrawMode:ffe,TriangleStripDrawMode:dfe,TrianglesDrawMode:ufe,TubeGeometry:jE,UVMapping:hE,Uint16BufferAttribute:dR,Uint32BufferAttribute:fR,Uint8BufferAttribute:yhe,Uint8ClampedBufferAttribute:xhe,Uniform:zR,UniformsGroup:z0e,UniformsLib:ot,UniformsUtils:hR,UnsignedByteType:rl,UnsignedInt248Type:Xh,UnsignedInt5999Type:eR,UnsignedIntType:yu,UnsignedShort4444Type:mE,UnsignedShort5551Type:gE,UnsignedShortType:Ng,VSMShadowMap:$a,Vector2:De,Vector3:te,Vector4:Tn,VectorKeyframeTrack:dx,VideoTexture:Eye,WebGL3DRenderTarget:ohe,WebGLArrayRenderTarget:she,WebGLCoordinateSystem:Ul,WebGLCubeRenderTarget:LW,WebGLMultipleRenderTargets:oxe,WebGLRenderTarget:sl,WebGLRenderer:jW,WebGLUtils:UW,WebGPUCoordinateSystem:rx,WireframeGeometry:oH,WrapAroundEnding:Z0,ZeroCurvatureEnding:Eh,ZeroFactor:zj,ZeroSlopeEnding:Th,ZeroStencilOp:mfe,createCanvasElement:AW},Symbol.toStringTag,{value:"Module"}));var dM={exports:{}},_d={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function lxe(){return OO||(OO=1,_d.ConcurrentRoot=1,_d.ContinuousEventPriority=4,_d.DefaultEventPriority=16,_d.DiscreteEventPriority=1,_d.IdleEventPriority=536870912,_d.LegacyRoot=0),_d}var FO;function cxe(){return FO||(FO=1,dM.exports=lxe()),dM.exports}var og=cxe();function uxe(t){let e;const n=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),n.forEach(v=>v(e,p))}},r=()=>e,s=(c,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function v(){const y=d(e);if(!h(p,y)){const b=p;c(p=y,b)}}return n.add(v),()=>n.delete(v)},l={setState:i,getState:r,subscribe:(c,d,h)=>d||h?s(c,d,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const dxe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zO=dxe?z.useEffect:z.useLayoutEffect;function fxe(t){const e=typeof t=="function"?uxe(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=z.useReducer(S=>S+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(i),c=z.useRef(r),d=z.useRef(!1),h=z.useRef();h.current===void 0&&(h.current=i(o));let p,v=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),v=!r(h.current,p)),zO(()=>{v&&(h.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const y=z.useRef(o);zO(()=>{const S=()=>{try{const E=e.getState(),T=l.current(E);c.current(h.current,T)||(a.current=E,h.current=T,s())}catch{d.current=!0,s()}},_=e.subscribe(S);return e.getState()!==y.current&&S(),_},[]);const b=v?p:h.current;return z.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}const hxe=t=>typeof t=="object"&&typeof t.then=="function",Ah=[];function zH(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function BH(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of Ah)if(zH(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Ah.indexOf(r);s!==-1&&Ah.splice(s,1)},promise:(hxe(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Ah.push(r),!n)throw r.promise}const pxe=(t,e,n)=>BH(t,e,!1,n),mxe=(t,e,n)=>void BH(t,e,!0,n),gxe=t=>{if(t===void 0||t.length===0)Ah.splice(0,Ah.length);else{const e=Ah.find(n=>zH(t,n.keys,n.equal));e&&e.remove()}};var fM={exports:{}},hM={exports:{}},pM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function vxe(){return BO||(BO=1,function(t){function e(j,Q){var ne=j.length;j.push(Q);e:for(;0<ne;){var q=ne-1>>>1,ae=j[q];if(0<r(ae,Q))j[q]=Q,j[ne]=ae,ne=q;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Q=j[0],ne=j.pop();if(ne!==Q){j[0]=ne;e:for(var q=0,ae=j.length,Re=ae>>>1;q<Re;){var he=2*(q+1)-1,ve=j[he],Oe=he+1,Fe=j[Oe];if(0>r(ve,ne))Oe<ae&&0>r(Fe,ve)?(j[q]=Fe,j[Oe]=ne,q=Oe):(j[q]=ve,j[he]=ne,q=he);else if(Oe<ae&&0>r(Fe,ne))j[q]=Fe,j[Oe]=ne,q=Oe;else break e}}return Q}function r(j,Q){var ne=j.sortIndex-Q.sortIndex;return ne!==0?ne:j.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var Q=n(c);Q!==null;){if(Q.callback===null)i(c);else if(Q.startTime<=j)i(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function P(j){if(b=!1,T(j),!y)if(n(l)!==null)y=!0,Z(k);else{var Q=n(c);Q!==null&&G(P,Q.startTime-j)}}function k(j,Q){y=!1,b&&(b=!1,_(B),B=-1),v=!0;var ne=p;try{for(T(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||j&&!U());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var ae=q(h.expirationTime<=Q);Q=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&i(l),T(Q)}else i(l);h=n(l)}if(h!==null)var Re=!0;else{var he=n(c);he!==null&&G(P,he.startTime-Q),Re=!1}return Re}finally{h=null,p=ne,v=!1}}var F=!1,D=null,B=-1,N=5,R=-1;function U(){return!(t.unstable_now()-R<N)}function W(){if(D!==null){var j=t.unstable_now();R=j;var Q=!0;try{Q=D(!0,j)}finally{Q?Y():(F=!1,D=null)}}else F=!1}var Y;if(typeof E=="function")Y=function(){E(W)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=W,Y=function(){K.postMessage(null)}}else Y=function(){S(W,0)};function Z(j){D=j,F||(F=!0,Y())}function G(j,Q){B=S(function(){j(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Z(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ne=p;p=Q;try{return j()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ne=p;p=j;try{return Q()}finally{p=ne}},t.unstable_scheduleCallback=function(j,Q,ne){var q=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ne+ae,j={id:d++,callback:Q,priorityLevel:j,startTime:ne,expirationTime:ae,sortIndex:-1},ne>q?(j.sortIndex=ne,e(c,j),n(l)===null&&j===n(c)&&(b?(_(B),B=-1):b=!0,G(P,ne-q))):(j.sortIndex=ae,e(l,j),y||v||(y=!0,Z(k))),j},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(j){var Q=p;return function(){var ne=p;p=Q;try{return j.apply(this,arguments)}finally{p=ne}}}}(pM)),pM}var UO;function UH(){return UO||(UO=1,hM.exports=vxe()),hM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM,VO;function yxe(){return VO||(VO=1,mM=function(e){var n={},i=Wg(),r=UH(),s=Object.assign;function o(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,C=1;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),k=Symbol.iterator;function F(m){return m===null||typeof m!="object"?null:(m=k&&m[k]||m["@@iterator"],typeof m=="function"?m:null)}function D(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case y:return(m.displayName||"Context")+".Consumer";case v:return(m._context.displayName||"Context")+".Provider";case b:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case E:return g=m.displayName||null,g!==null?g:D(m.type)||"Memo";case T:g=m._payload,m=m._init;try{return D(m(g))}catch{}}return null}function B(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(g);case 8:return g===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function N(m){var g=m,C=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(C=g.return),m=g.return;while(m)}return g.tag===3?C:null}function R(m){if(N(m)!==m)throw Error(o(188))}function U(m){var g=m.alternate;if(!g){if(g=N(m),g===null)throw Error(o(188));return g!==m?null:m}for(var C=m,A=g;;){var L=C.return;if(L===null)break;var V=L.alternate;if(V===null){if(A=L.return,A!==null){C=A;continue}break}if(L.child===V.child){for(V=L.child;V;){if(V===C)return R(L),m;if(V===A)return R(L),g;V=V.sibling}throw Error(o(188))}if(C.return!==A.return)C=L,A=V;else{for(var re=!1,ce=L.child;ce;){if(ce===C){re=!0,C=L,A=V;break}if(ce===A){re=!0,A=L,C=V;break}ce=ce.sibling}if(!re){for(ce=V.child;ce;){if(ce===C){re=!0,C=V,A=L;break}if(ce===A){re=!0,A=V,C=L;break}ce=ce.sibling}if(!re)throw Error(o(189))}}if(C.alternate!==A)throw Error(o(190))}if(C.tag!==3)throw Error(o(188));return C.stateNode.current===C?m:g}function W(m){return m=U(m),m!==null?Y(m):null}function Y(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=Y(m);if(g!==null)return g;m=m.sibling}return null}function ee(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=ee(m);if(g!==null)return g}m=m.sibling}return null}var K=Array.isArray,Z=e.getPublicInstance,G=e.getRootHostContext,j=e.getChildHostContext,Q=e.prepareForCommit,ne=e.resetAfterCommit,q=e.createInstance,ae=e.appendInitialChild,Re=e.finalizeInitialChildren,he=e.prepareUpdate,ve=e.shouldSetTextContent,Oe=e.createTextInstance,Fe=e.scheduleTimeout,me=e.cancelTimeout,ye=e.noTimeout,je=e.isPrimaryRenderer,at=e.supportsMutation,J=e.supportsPersistence,Pe=e.supportsHydration,Be=e.getInstanceFromNode,et=e.preparePortalMount,Ae=e.getCurrentEventPriority,Ct=e.detachDeletedInstance,tt=e.supportsMicrotasks,lt=e.scheduleMicrotask,ie=e.supportsTestSelectors,$=e.findFiberRoot,be=e.getBoundingRect,ke=e.getTextContent,Ie=e.isHiddenSubtree,ze=e.matchAccessibilityRole,Mt=e.setFocusIfFocusable,nt=e.setupIntersectionObserver,ct=e.appendChild,jt=e.appendChildToContainer,He=e.commitTextUpdate,rt=e.commitMount,un=e.commitUpdate,Ot=e.insertBefore,pt=e.insertInContainerBefore,Wt=e.removeChild,Xt=e.removeChildFromContainer,Bn=e.resetTextContent,ue=e.hideInstance,$e=e.hideTextInstance,Ne=e.unhideInstance,Le=e.unhideTextInstance,Ye=e.clearContainer,kt=e.cloneInstance,cn=e.createContainerChildSet,ri=e.appendChildToContainerChildSet,ki=e.finalizeContainerChildren,yn=e.replaceContainerChildren,Qr=e.cloneHiddenInstance,Zr=e.cloneHiddenTextInstance,hl=e.canHydrateInstance,po=e.canHydrateTextInstance,pa=e.canHydrateSuspenseInstance,lf=e.isSuspenseInstancePending,Wo=e.isSuspenseInstanceFallback,ma=e.registerSuspenseInstanceRetry,mo=e.getNextHydratableSibling,pl=e.getFirstHydratableChild,hp=e.getFirstHydratableChildWithinContainer,pp=e.getFirstHydratableChildWithinSuspenseInstance,pv=e.hydrateInstance,ga=e.hydrateTextInstance,mp=e.hydrateSuspenseInstance,X=e.getNextHydratableInstanceAfterSuspenseInstance,de=e.commitHydratedContainer,Se=e.commitHydratedSuspenseInstance,we=e.clearSuspenseBoundary,pe=e.clearSuspenseBoundaryFromContainer,qe=e.shouldDeleteUnhydratedTailInstances,ut=e.didNotMatchHydratedContainerTextInstance,yt=e.didNotMatchHydratedTextInstance,Je;function At(m){if(Je===void 0)try{throw Error()}catch(C){var g=C.stack.trim().match(/\n( *(at )?)/);Je=g&&g[1]||""}return`
`+Je+m}var Pt=!1;function _t(m,g){if(!m||Pt)return"";Pt=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ge){var A=Ge}Reflect.construct(m,[],g)}else{try{g.call()}catch(Ge){A=Ge}m.call(g.prototype)}else{try{throw Error()}catch(Ge){A=Ge}m()}}catch(Ge){if(Ge&&A&&typeof Ge.stack=="string"){for(var L=Ge.stack.split(`
`),V=A.stack.split(`
`),re=L.length-1,ce=V.length-1;1<=re&&0<=ce&&L[re]!==V[ce];)ce--;for(;1<=re&&0<=ce;re--,ce--)if(L[re]!==V[ce]){if(re!==1||ce!==1)do if(re--,ce--,0>ce||L[re]!==V[ce]){var Me=`
`+L[re].replace(" at new "," at ");return m.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",m.displayName)),Me}while(1<=re&&0<=ce);break}}}finally{Pt=!1,Error.prepareStackTrace=C}return(m=m?m.displayName||m.name:"")?At(m):""}var mn=Object.prototype.hasOwnProperty,Hn=[],Pn=-1;function Zn(m){return{current:m}}function gt(m){0>Pn||(m.current=Hn[Pn],Hn[Pn]=null,Pn--)}function Qe(m,g){Pn++,Hn[Pn]=m.current,m.current=g}var dn={},Bt=Zn(dn),Gn=Zn(!1),es=dn;function hi(m,g){var C=m.type.contextTypes;if(!C)return dn;var A=m.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===g)return A.__reactInternalMemoizedMaskedChildContext;var L={},V;for(V in C)L[V]=g[V];return A&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=L),L}function wi(m){return m=m.childContextTypes,m!=null}function Ln(){gt(Gn),gt(Bt)}function ts(m,g,C){if(Bt.current!==dn)throw Error(o(168));Qe(Bt,g),Qe(Gn,C)}function Au(m,g,C){var A=m.stateNode;if(g=g.childContextTypes,typeof A.getChildContext!="function")return C;A=A.getChildContext();for(var L in A)if(!(L in g))throw Error(o(108,B(m)||"Unknown",L));return s({},C,A)}function lr(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||dn,es=Bt.current,Qe(Bt,m),Qe(Gn,Gn.current),!0}function ml(m,g,C){var A=m.stateNode;if(!A)throw Error(o(169));C?(m=Au(m,g,es),A.__reactInternalMemoizedMergedChildContext=m,gt(Gn),gt(Bt),Qe(Bt,m)):gt(Gn),Qe(Gn,C)}var ns=Math.clz32?Math.clz32:uT,Pu=Math.log,cf=Math.LN2;function uT(m){return m>>>=0,m===0?32:31-(Pu(m)/cf|0)|0}var Iu=64,wn=4194304;function Ru(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function uf(m,g){var C=m.pendingLanes;if(C===0)return 0;var A=0,L=m.suspendedLanes,V=m.pingedLanes,re=C&268435455;if(re!==0){var ce=re&~L;ce!==0?A=Ru(ce):(V&=re,V!==0&&(A=Ru(V)))}else re=C&~L,re!==0?A=Ru(re):V!==0&&(A=Ru(V));if(A===0)return 0;if(g!==0&&g!==A&&(g&L)===0&&(L=A&-A,V=g&-g,L>=V||L===16&&(V&4194240)!==0))return g;if((A&4)!==0&&(A|=C&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=A;0<g;)C=31-ns(g),L=1<<C,A|=m[C],g&=~L;return A}function mv(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(m,g){for(var C=m.suspendedLanes,A=m.pingedLanes,L=m.expirationTimes,V=m.pendingLanes;0<V;){var re=31-ns(V),ce=1<<re,Me=L[re];Me===-1?((ce&C)===0||(ce&A)!==0)&&(L[re]=mv(ce,g)):Me<=g&&(m.expiredLanes|=ce),V&=~ce}}function gp(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function vp(m){for(var g=[],C=0;31>C;C++)g.push(m);return g}function ac(m,g,C){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-ns(g),m[g]=C}function yp(m,g){var C=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var A=m.eventTimes;for(m=m.expirationTimes;0<C;){var L=31-ns(C),V=1<<L;g[L]=0,A[L]=-1,m[L]=-1,C&=~V}}function Ho(m,g){var C=m.entangledLanes|=g;for(m=m.entanglements;C;){var A=31-ns(C),L=1<<A;L&g|m[A]&g&&(m[A]|=g),C&=~L}}var sn=0;function va(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var lc=r.unstable_scheduleCallback,ku=r.unstable_cancelCallback,gl=r.unstable_shouldYield,dT=r.unstable_requestPaint,Ui=r.unstable_now,cc=r.unstable_ImmediatePriority,fT=r.unstable_UserBlockingPriority,xp=r.unstable_NormalPriority,_p=r.unstable_IdlePriority,df=null,Go=null;function ff(m){if(Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(df,m,void 0,(m.current.flags&128)===128)}catch{}}function hf(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var Or=typeof Object.is=="function"?Object.is:hf,Hs=null,bp=!1,gv=!1;function Sp(m){Hs===null?Hs=[m]:Hs.push(m)}function wp(m){bp=!0,Sp(m)}function Gs(){if(!gv&&Hs!==null){gv=!0;var m=0,g=sn;try{var C=Hs;for(sn=1;m<C.length;m++){var A=C[m];do A=A(!0);while(A!==null)}Hs=null,bp=!1}catch(L){throw Hs!==null&&(Hs=Hs.slice(m+1)),lc(cc,Gs),L}finally{sn=g,gv=!1}}return null}var u_=a.ReactCurrentBatchConfig;function go(m,g){if(Or(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var C=Object.keys(m),A=Object.keys(g);if(C.length!==A.length)return!1;for(A=0;A<C.length;A++){var L=C[A];if(!mn.call(g,L)||!Or(m[L],g[L]))return!1}return!0}function vv(m){switch(m.tag){case 5:return At(m.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 2:case 15:return m=_t(m.type,!1),m;case 11:return m=_t(m.type.render,!1),m;case 1:return m=_t(m.type,!0),m;default:return""}}function is(m,g){if(m&&m.defaultProps){g=s({},g),m=m.defaultProps;for(var C in m)g[C]===void 0&&(g[C]=m[C]);return g}return g}var pf=Zn(null),uc=null,ya=null,Ep=null;function Fr(){Ep=ya=uc=null}function dc(m,g,C){je?(Qe(pf,g._currentValue),g._currentValue=C):(Qe(pf,g._currentValue2),g._currentValue2=C)}function mf(m){var g=pf.current;gt(pf),je?m._currentValue=g:m._currentValue2=g}function fc(m,g,C){for(;m!==null;){var A=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,A!==null&&(A.childLanes|=g)):A!==null&&(A.childLanes&g)!==g&&(A.childLanes|=g),m===C)break;m=m.return}}function Nu(m,g){uc=m,Ep=ya=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(Ki=!0),m.firstContext=null)}function rs(m){var g=je?m._currentValue:m._currentValue2;if(Ep!==m)if(m={context:m,memoizedValue:g,next:null},ya===null){if(uc===null)throw Error(o(308));ya=m,uc.dependencies={lanes:0,firstContext:m}}else ya=ya.next=m;return g}var $s=null,qs=!1;function Lu(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yv(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function xa(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function vl(m,g){var C=m.updateQueue;C!==null&&(C=C.shared,Ti!==null&&(m.mode&1)!==0&&(Qt&2)===0?(m=C.interleaved,m===null?(g.next=g,$s===null?$s=[C]:$s.push(C)):(g.next=m.next,m.next=g),C.interleaved=g):(m=C.pending,m===null?g.next=g:(g.next=m.next,m.next=g),C.pending=g))}function Tp(m,g,C){if(g=g.updateQueue,g!==null&&(g=g.shared,(C&4194240)!==0)){var A=g.lanes;A&=m.pendingLanes,C|=A,g.lanes=C,Ho(m,C)}}function Cp(m,g){var C=m.updateQueue,A=m.alternate;if(A!==null&&(A=A.updateQueue,C===A)){var L=null,V=null;if(C=C.firstBaseUpdate,C!==null){do{var re={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};V===null?L=V=re:V=V.next=re,C=C.next}while(C!==null);V===null?L=V=g:V=V.next=g}else L=V=g;C={baseState:A.baseState,firstBaseUpdate:L,lastBaseUpdate:V,shared:A.shared,effects:A.effects},m.updateQueue=C;return}m=C.lastBaseUpdate,m===null?C.firstBaseUpdate=g:m.next=g,C.lastBaseUpdate=g}function Mp(m,g,C,A){var L=m.updateQueue;qs=!1;var V=L.firstBaseUpdate,re=L.lastBaseUpdate,ce=L.shared.pending;if(ce!==null){L.shared.pending=null;var Me=ce,Ge=Me.next;Me.next=null,re===null?V=Ge:re.next=Ge,re=Me;var mt=m.alternate;mt!==null&&(mt=mt.updateQueue,ce=mt.lastBaseUpdate,ce!==re&&(ce===null?mt.firstBaseUpdate=Ge:ce.next=Ge,mt.lastBaseUpdate=Me))}if(V!==null){var Gt=L.baseState;re=0,mt=Ge=Me=null,ce=V;do{var It=ce.lane,Zt=ce.eventTime;if((A&It)===It){mt!==null&&(mt=mt.next={eventTime:Zt,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var dt=m,pr=ce;switch(It=g,Zt=C,pr.tag){case 1:if(dt=pr.payload,typeof dt=="function"){Gt=dt.call(Zt,Gt,It);break e}Gt=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=pr.payload,It=typeof dt=="function"?dt.call(Zt,Gt,It):dt,It==null)break e;Gt=s({},Gt,It);break e;case 2:qs=!0}}ce.callback!==null&&ce.lane!==0&&(m.flags|=64,It=L.effects,It===null?L.effects=[ce]:It.push(ce))}else Zt={eventTime:Zt,lane:It,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},mt===null?(Ge=mt=Zt,Me=Gt):mt=mt.next=Zt,re|=It;if(ce=ce.next,ce===null){if(ce=L.shared.pending,ce===null)break;It=ce,ce=It.next,It.next=null,L.lastBaseUpdate=It,L.shared.pending=null}}while(!0);if(mt===null&&(Me=Gt),L.baseState=Me,L.firstBaseUpdate=Ge,L.lastBaseUpdate=mt,g=L.shared.interleaved,g!==null){L=g;do re|=L.lane,L=L.next;while(L!==g)}else V===null&&(L.shared.lanes=0);Yo|=re,m.lanes=re,m.memoizedState=Gt}}function d_(m,g,C){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var A=m[g],L=A.callback;if(L!==null){if(A.callback=null,A=C,typeof L!="function")throw Error(o(191,L));L.call(A)}}}var f_=new i.Component().refs;function xv(m,g,C,A){g=m.memoizedState,C=C(A,g),C=C==null?g:s({},g,C),m.memoizedState=C,m.lanes===0&&(m.updateQueue.baseState=C)}var Ap={isMounted:function(m){return(m=m._reactInternals)?N(m)===m:!1},enqueueSetState:function(m,g,C){m=m._reactInternals;var A=En(),L=wo(m),V=xa(A,L);V.payload=g,C!=null&&(V.callback=C),vl(m,V),g=Cr(m,L,A),g!==null&&Tp(g,m,L)},enqueueReplaceState:function(m,g,C){m=m._reactInternals;var A=En(),L=wo(m),V=xa(A,L);V.tag=1,V.payload=g,C!=null&&(V.callback=C),vl(m,V),g=Cr(m,L,A),g!==null&&Tp(g,m,L)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var C=En(),A=wo(m),L=xa(C,A);L.tag=2,g!=null&&(L.callback=g),vl(m,L),g=Cr(m,A,C),g!==null&&Tp(g,m,A)}};function _v(m,g,C,A,L,V,re){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(A,V,re):g.prototype&&g.prototype.isPureReactComponent?!go(C,A)||!go(L,V):!0}function h_(m,g,C){var A=!1,L=dn,V=g.contextType;return typeof V=="object"&&V!==null?V=rs(V):(L=wi(g)?es:Bt.current,A=g.contextTypes,V=(A=A!=null)?hi(m,L):dn),g=new g(C,V),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ap,m.stateNode=g,g._reactInternals=m,A&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=L,m.__reactInternalMemoizedMaskedChildContext=V),g}function p_(m,g,C,A){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(C,A),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(C,A),g.state!==m&&Ap.enqueueReplaceState(g,g.state,null)}function bv(m,g,C,A){var L=m.stateNode;L.props=C,L.state=m.memoizedState,L.refs=f_,Lu(m);var V=g.contextType;typeof V=="object"&&V!==null?L.context=rs(V):(V=wi(g)?es:Bt.current,L.context=hi(m,V)),L.state=m.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(xv(m,g,V,C),L.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(g=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),g!==L.state&&Ap.enqueueReplaceState(L,L.state,null),Mp(m,C,L,A),L.state=m.memoizedState),typeof L.componentDidMount=="function"&&(m.flags|=4194308)}var Du=[],yl=0,Pp=null,Ip=0,Xs=[],Es=0,hc=null,_a=1,ba="";function pc(m,g){Du[yl++]=Ip,Du[yl++]=Pp,Pp=m,Ip=g}function m_(m,g,C){Xs[Es++]=_a,Xs[Es++]=ba,Xs[Es++]=hc,hc=m;var A=_a;m=ba;var L=32-ns(A)-1;A&=~(1<<L),C+=1;var V=32-ns(g)+L;if(30<V){var re=L-L%5;V=(A&(1<<re)-1).toString(32),A>>=re,L-=re,_a=1<<32-ns(g)+L|C<<L|A,ba=V+m}else _a=1<<V|C<<L|A,ba=m}function Sv(m){m.return!==null&&(pc(m,1),m_(m,1,0))}function wv(m){for(;m===Pp;)Pp=Du[--yl],Du[yl]=null,Ip=Du[--yl],Du[yl]=null;for(;m===hc;)hc=Xs[--Es],Xs[Es]=null,ba=Xs[--Es],Xs[Es]=null,_a=Xs[--Es],Xs[Es]=null}var zr=null,cr=null,si=!1,Ou=!1,Ys=null;function Ev(m,g){var C=Rs(5,null,null,0);C.elementType="DELETED",C.stateNode=g,C.return=m,g=m.deletions,g===null?(m.deletions=[C],m.flags|=16):g.push(C)}function Tv(m,g){switch(m.tag){case 5:return g=hl(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,zr=m,cr=pl(g),!0):!1;case 6:return g=po(g,m.pendingProps),g!==null?(m.stateNode=g,zr=m,cr=null,!0):!1;case 13:if(g=pa(g),g!==null){var C=hc!==null?{id:_a,overflow:ba}:null;return m.memoizedState={dehydrated:g,treeContext:C,retryLane:1073741824},C=Rs(18,null,null,0),C.stateNode=g,C.return=m,m.child=C,zr=m,cr=null,!0}return!1;default:return!1}}function Rp(m){return(m.mode&1)!==0&&(m.flags&128)===0}function xl(m){if(si){var g=cr;if(g){var C=g;if(!Tv(m,g)){if(Rp(m))throw Error(o(418));g=mo(C);var A=zr;g&&Tv(m,g)?Ev(A,C):(m.flags=m.flags&-4097|2,si=!1,zr=m)}}else{if(Rp(m))throw Error(o(418));m.flags=m.flags&-4097|2,si=!1,zr=m}}}function g_(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;zr=m}function gf(m){if(!Pe||m!==zr)return!1;if(!si)return g_(m),si=!0,!1;if(m.tag!==3&&(m.tag!==5||qe(m.type)&&!ve(m.type,m.memoizedProps))){var g=cr;if(g){if(Rp(m)){for(m=cr;m;)m=mo(m);throw Error(o(418))}for(;g;)Ev(m,g),g=mo(g)}}if(g_(m),m.tag===13){if(!Pe)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));cr=X(m)}else cr=zr?mo(m.stateNode):null;return!0}function Fu(){Pe&&(cr=zr=null,Ou=si=!1)}function kp(m){Ys===null?Ys=[m]:Ys.push(m)}function zu(m,g,C){if(m=C.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(o(309));var A=C.stateNode}if(!A)throw Error(o(147,m));var L=A,V=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===V?g.ref:(g=function(re){var ce=L.refs;ce===f_&&(ce=L.refs={}),re===null?delete ce[V]:ce[V]=re},g._stringRef=V,g)}if(typeof m!="string")throw Error(o(284));if(!C._owner)throw Error(o(290,m))}return m}function _l(m,g){throw m=Object.prototype.toString.call(g),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Bu(m){var g=m._init;return g(m._payload)}function v_(m){function g(_e,fe){if(m){var Te=_e.deletions;Te===null?(_e.deletions=[fe],_e.flags|=16):Te.push(fe)}}function C(_e,fe){if(!m)return null;for(;fe!==null;)g(_e,fe),fe=fe.sibling;return null}function A(_e,fe){for(_e=new Map;fe!==null;)fe.key!==null?_e.set(fe.key,fe):_e.set(fe.index,fe),fe=fe.sibling;return _e}function L(_e,fe){return _e=Da(_e,fe),_e.index=0,_e.sibling=null,_e}function V(_e,fe,Te){return _e.index=Te,m?(Te=_e.alternate,Te!==null?(Te=Te.index,Te<fe?(_e.flags|=2,fe):Te):(_e.flags|=2,fe)):(_e.flags|=1048576,fe)}function re(_e){return m&&_e.alternate===null&&(_e.flags|=2),_e}function ce(_e,fe,Te,st){return fe===null||fe.tag!==6?(fe=sm(Te,_e.mode,st),fe.return=_e,fe):(fe=L(fe,Te),fe.return=_e,fe)}function Me(_e,fe,Te,st){var St=Te.type;return St===d?mt(_e,fe,Te.props.children,st,Te.key):fe!==null&&(fe.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===T&&Bu(St)===fe.type)?(st=L(fe,Te.props),st.ref=zu(_e,fe,Te),st.return=_e,st):(st=rm(Te.type,Te.key,Te.props,null,_e.mode,st),st.ref=zu(_e,fe,Te),st.return=_e,st)}function Ge(_e,fe,Te,st){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Te.containerInfo||fe.stateNode.implementation!==Te.implementation?(fe=om(Te,_e.mode,st),fe.return=_e,fe):(fe=L(fe,Te.children||[]),fe.return=_e,fe)}function mt(_e,fe,Te,st,St){return fe===null||fe.tag!==7?(fe=Oc(Te,_e.mode,st,St),fe.return=_e,fe):(fe=L(fe,Te),fe.return=_e,fe)}function Gt(_e,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=sm(""+fe,_e.mode,Te),fe.return=_e,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return Te=rm(fe.type,fe.key,fe.props,null,_e.mode,Te),Te.ref=zu(_e,null,fe),Te.return=_e,Te;case c:return fe=om(fe,_e.mode,Te),fe.return=_e,fe;case T:var st=fe._init;return Gt(_e,st(fe._payload),Te)}if(K(fe)||F(fe))return fe=Oc(fe,_e.mode,Te,null),fe.return=_e,fe;_l(_e,fe)}return null}function It(_e,fe,Te,st){var St=fe!==null?fe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return St!==null?null:ce(_e,fe,""+Te,st);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:return Te.key===St?Me(_e,fe,Te,st):null;case c:return Te.key===St?Ge(_e,fe,Te,st):null;case T:return St=Te._init,It(_e,fe,St(Te._payload),st)}if(K(Te)||F(Te))return St!==null?null:mt(_e,fe,Te,st,null);_l(_e,Te)}return null}function Zt(_e,fe,Te,st,St){if(typeof st=="string"&&st!==""||typeof st=="number")return _e=_e.get(Te)||null,ce(fe,_e,""+st,St);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return _e=_e.get(st.key===null?Te:st.key)||null,Me(fe,_e,st,St);case c:return _e=_e.get(st.key===null?Te:st.key)||null,Ge(fe,_e,st,St);case T:var Yt=st._init;return Zt(_e,fe,Te,Yt(st._payload),St)}if(K(st)||F(st))return _e=_e.get(Te)||null,mt(fe,_e,st,St,null);_l(fe,st)}return null}function dt(_e,fe,Te,st){for(var St=null,Yt=null,$t=fe,_n=fe=0,Li=null;$t!==null&&_n<Te.length;_n++){$t.index>_n?(Li=$t,$t=null):Li=$t.sibling;var xn=It(_e,$t,Te[_n],st);if(xn===null){$t===null&&($t=Li);break}m&&$t&&xn.alternate===null&&g(_e,$t),fe=V(xn,fe,_n),Yt===null?St=xn:Yt.sibling=xn,Yt=xn,$t=Li}if(_n===Te.length)return C(_e,$t),si&&pc(_e,_n),St;if($t===null){for(;_n<Te.length;_n++)$t=Gt(_e,Te[_n],st),$t!==null&&(fe=V($t,fe,_n),Yt===null?St=$t:Yt.sibling=$t,Yt=$t);return si&&pc(_e,_n),St}for($t=A(_e,$t);_n<Te.length;_n++)Li=Zt($t,_e,_n,Te[_n],st),Li!==null&&(m&&Li.alternate!==null&&$t.delete(Li.key===null?_n:Li.key),fe=V(Li,fe,_n),Yt===null?St=Li:Yt.sibling=Li,Yt=Li);return m&&$t.forEach(function(Oa){return g(_e,Oa)}),si&&pc(_e,_n),St}function pr(_e,fe,Te,st){var St=F(Te);if(typeof St!="function")throw Error(o(150));if(Te=St.call(Te),Te==null)throw Error(o(151));for(var Yt=St=null,$t=fe,_n=fe=0,Li=null,xn=Te.next();$t!==null&&!xn.done;_n++,xn=Te.next()){$t.index>_n?(Li=$t,$t=null):Li=$t.sibling;var Oa=It(_e,$t,xn.value,st);if(Oa===null){$t===null&&($t=Li);break}m&&$t&&Oa.alternate===null&&g(_e,$t),fe=V(Oa,fe,_n),Yt===null?St=Oa:Yt.sibling=Oa,Yt=Oa,$t=Li}if(xn.done)return C(_e,$t),si&&pc(_e,_n),St;if($t===null){for(;!xn.done;_n++,xn=Te.next())xn=Gt(_e,xn.value,st),xn!==null&&(fe=V(xn,fe,_n),Yt===null?St=xn:Yt.sibling=xn,Yt=xn);return si&&pc(_e,_n),St}for($t=A(_e,$t);!xn.done;_n++,xn=Te.next())xn=Zt($t,_e,_n,xn.value,st),xn!==null&&(m&&xn.alternate!==null&&$t.delete(xn.key===null?_n:xn.key),fe=V(xn,fe,_n),Yt===null?St=xn:Yt.sibling=xn,Yt=xn);return m&&$t.forEach(function(ny){return g(_e,ny)}),si&&pc(_e,_n),St}function ks(_e,fe,Te,st){if(typeof Te=="object"&&Te!==null&&Te.type===d&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:e:{for(var St=Te.key,Yt=fe;Yt!==null;){if(Yt.key===St){if(St=Te.type,St===d){if(Yt.tag===7){C(_e,Yt.sibling),fe=L(Yt,Te.props.children),fe.return=_e,_e=fe;break e}}else if(Yt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===T&&Bu(St)===Yt.type){C(_e,Yt.sibling),fe=L(Yt,Te.props),fe.ref=zu(_e,Yt,Te),fe.return=_e,_e=fe;break e}C(_e,Yt);break}else g(_e,Yt);Yt=Yt.sibling}Te.type===d?(fe=Oc(Te.props.children,_e.mode,st,Te.key),fe.return=_e,_e=fe):(st=rm(Te.type,Te.key,Te.props,null,_e.mode,st),st.ref=zu(_e,fe,Te),st.return=_e,_e=st)}return re(_e);case c:e:{for(Yt=Te.key;fe!==null;){if(fe.key===Yt)if(fe.tag===4&&fe.stateNode.containerInfo===Te.containerInfo&&fe.stateNode.implementation===Te.implementation){C(_e,fe.sibling),fe=L(fe,Te.children||[]),fe.return=_e,_e=fe;break e}else{C(_e,fe);break}else g(_e,fe);fe=fe.sibling}fe=om(Te,_e.mode,st),fe.return=_e,_e=fe}return re(_e);case T:return Yt=Te._init,ks(_e,fe,Yt(Te._payload),st)}if(K(Te))return dt(_e,fe,Te,st);if(F(Te))return pr(_e,fe,Te,st);_l(_e,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,fe!==null&&fe.tag===6?(C(_e,fe.sibling),fe=L(fe,Te),fe.return=_e,_e=fe):(C(_e,fe),fe=sm(Te,_e.mode,st),fe.return=_e,_e=fe),re(_e)):C(_e,fe)}return ks}var Sa=v_(!0),y_=v_(!1),Uu={},ss=Zn(Uu),mc=Zn(Uu),gc=Zn(Uu);function vo(m){if(m===Uu)throw Error(o(174));return m}function Np(m,g){Qe(gc,g),Qe(mc,m),Qe(ss,Uu),m=G(g),gt(ss),Qe(ss,m)}function Vu(){gt(ss),gt(mc),gt(gc)}function x_(m){var g=vo(gc.current),C=vo(ss.current);g=j(C,m.type,g),C!==g&&(Qe(mc,m),Qe(ss,g))}function Cv(m){mc.current===m&&(gt(ss),gt(mc))}var pi=Zn(0);function Lp(m){for(var g=m;g!==null;){if(g.tag===13){var C=g.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||lf(C)||Wo(C)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Ts=[];function vc(){for(var m=0;m<Ts.length;m++){var g=Ts[m];je?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}Ts.length=0}var vf=a.ReactCurrentDispatcher,Cs=a.ReactCurrentBatchConfig,yc=0,mi=null,qi=null,Xi=null,Dp=!1,$o=!1,xc=0,yf=0;function Yi(){throw Error(o(321))}function Op(m,g){if(g===null)return!1;for(var C=0;C<g.length&&C<m.length;C++)if(!Or(m[C],g[C]))return!1;return!0}function ju(m,g,C,A,L,V){if(yc=V,mi=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,vf.current=m===null||m.memoizedState===null?kv:Nv,m=C(A,L),$o){V=0;do{if($o=!1,xc=0,25<=V)throw Error(o(301));V+=1,Xi=qi=null,g.updateQueue=null,vf.current=Lv,m=C(A,L)}while($o)}if(vf.current=$u,g=qi!==null&&qi.next!==null,yc=0,Xi=qi=mi=null,Dp=!1,g)throw Error(o(300));return m}function bl(){var m=xc!==0;return xc=0,m}function yo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?mi.memoizedState=Xi=m:Xi=Xi.next=m,Xi}function xo(){if(qi===null){var m=mi.alternate;m=m!==null?m.memoizedState:null}else m=qi.next;var g=Xi===null?mi.memoizedState:Xi.next;if(g!==null)Xi=g,qi=m;else{if(m===null)throw Error(o(310));qi=m,m={memoizedState:qi.memoizedState,baseState:qi.baseState,baseQueue:qi.baseQueue,queue:qi.queue,next:null},Xi===null?mi.memoizedState=Xi=m:Xi=Xi.next=m}return Xi}function qo(m,g){return typeof g=="function"?g(m):g}function xf(m){var g=xo(),C=g.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=m;var A=qi,L=A.baseQueue,V=C.pending;if(V!==null){if(L!==null){var re=L.next;L.next=V.next,V.next=re}A.baseQueue=L=V,C.pending=null}if(L!==null){V=L.next,A=A.baseState;var ce=re=null,Me=null,Ge=V;do{var mt=Ge.lane;if((yc&mt)===mt)Me!==null&&(Me=Me.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),A=Ge.hasEagerState?Ge.eagerState:m(A,Ge.action);else{var Gt={lane:mt,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Me===null?(ce=Me=Gt,re=A):Me=Me.next=Gt,mi.lanes|=mt,Yo|=mt}Ge=Ge.next}while(Ge!==null&&Ge!==V);Me===null?re=A:Me.next=ce,Or(A,g.memoizedState)||(Ki=!0),g.memoizedState=A,g.baseState=re,g.baseQueue=Me,C.lastRenderedState=A}if(m=C.interleaved,m!==null){L=m;do V=L.lane,mi.lanes|=V,Yo|=V,L=L.next;while(L!==m)}else L===null&&(C.lanes=0);return[g.memoizedState,C.dispatch]}function _f(m){var g=xo(),C=g.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=m;var A=C.dispatch,L=C.pending,V=g.memoizedState;if(L!==null){C.pending=null;var re=L=L.next;do V=m(V,re.action),re=re.next;while(re!==L);Or(V,g.memoizedState)||(Ki=!0),g.memoizedState=V,g.baseQueue===null&&(g.baseState=V),C.lastRenderedState=V}return[V,A]}function Mv(){}function Av(m,g){var C=mi,A=xo(),L=g(),V=!Or(A.memoizedState,L);if(V&&(A.memoizedState=L,Ki=!0),A=A.queue,Wu(wa.bind(null,C,A,m),[m]),A.getSnapshot!==g||V||Xi!==null&&Xi.memoizedState.tag&1){if(C.flags|=2048,Sf(9,Iv.bind(null,C,A,L,g),void 0,null),Ti===null)throw Error(o(349));(yc&30)!==0||Pv(C,g,L)}return L}function Pv(m,g,C){m.flags|=16384,m={getSnapshot:g,value:C},g=mi.updateQueue,g===null?(g={lastEffect:null,stores:null},mi.updateQueue=g,g.stores=[m]):(C=g.stores,C===null?g.stores=[m]:C.push(m))}function Iv(m,g,C,A){g.value=C,g.getSnapshot=A,Fp(g)&&Cr(m,1,-1)}function wa(m,g,C){return C(function(){Fp(g)&&Cr(m,1,-1)})}function Fp(m){var g=m.getSnapshot;m=m.value;try{var C=g();return!Or(m,C)}catch{return!0}}function bf(m){var g=yo();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:m},g.queue=m,m=m.dispatch=hT.bind(null,mi,m),[g.memoizedState,m]}function Sf(m,g,C,A){return m={tag:m,create:g,destroy:C,deps:A,next:null},g=mi.updateQueue,g===null?(g={lastEffect:null,stores:null},mi.updateQueue=g,g.lastEffect=m.next=m):(C=g.lastEffect,C===null?g.lastEffect=m.next=m:(A=C.next,C.next=m,m.next=A,g.lastEffect=m)),m}function __(){return xo().memoizedState}function Sl(m,g,C,A){var L=yo();mi.flags|=m,L.memoizedState=Sf(1|g,C,void 0,A===void 0?null:A)}function zp(m,g,C,A){var L=xo();A=A===void 0?null:A;var V=void 0;if(qi!==null){var re=qi.memoizedState;if(V=re.destroy,A!==null&&Op(A,re.deps)){L.memoizedState=Sf(g,C,V,A);return}}mi.flags|=m,L.memoizedState=Sf(1|g,C,V,A)}function Bp(m,g){return Sl(8390656,8,m,g)}function Wu(m,g){return zp(2048,8,m,g)}function $n(m,g){return zp(4,2,m,g)}function Up(m,g){return zp(4,4,m,g)}function wf(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function Hu(m,g,C){return C=C!=null?C.concat([m]):null,zp(4,4,wf.bind(null,g,m),C)}function Vp(){}function jp(m,g){var C=xo();g=g===void 0?null:g;var A=C.memoizedState;return A!==null&&g!==null&&Op(g,A[1])?A[0]:(C.memoizedState=[m,g],m)}function Gu(m,g){var C=xo();g=g===void 0?null:g;var A=C.memoizedState;return A!==null&&g!==null&&Op(g,A[1])?A[0]:(m=m(),C.memoizedState=[m,g],m)}function Wp(m,g){var C=sn;sn=C!==0&&4>C?C:4,m(!0);var A=Cs.transition;Cs.transition={};try{m(!1),g()}finally{sn=C,Cs.transition=A}}function _c(){return xo().memoizedState}function b_(m,g,C){var A=wo(m);C={lane:A,action:C,hasEagerState:!1,eagerState:null,next:null},S_(m)?Rv(g,C):(Ef(m,g,C),C=En(),m=Cr(m,A,C),m!==null&&Tf(m,g,A))}function hT(m,g,C){var A=wo(m),L={lane:A,action:C,hasEagerState:!1,eagerState:null,next:null};if(S_(m))Rv(g,L);else{Ef(m,g,L);var V=m.alternate;if(m.lanes===0&&(V===null||V.lanes===0)&&(V=g.lastRenderedReducer,V!==null))try{var re=g.lastRenderedState,ce=V(re,C);if(L.hasEagerState=!0,L.eagerState=ce,Or(ce,re))return}catch{}finally{}C=En(),m=Cr(m,A,C),m!==null&&Tf(m,g,A)}}function S_(m){var g=m.alternate;return m===mi||g!==null&&g===mi}function Rv(m,g){$o=Dp=!0;var C=m.pending;C===null?g.next=g:(g.next=C.next,C.next=g),m.pending=g}function Ef(m,g,C){Ti!==null&&(m.mode&1)!==0&&(Qt&2)===0?(m=g.interleaved,m===null?(C.next=C,$s===null?$s=[g]:$s.push(g)):(C.next=m.next,m.next=C),g.interleaved=C):(m=g.pending,m===null?C.next=C:(C.next=m.next,m.next=C),g.pending=C)}function Tf(m,g,C){if((C&4194240)!==0){var A=g.lanes;A&=m.pendingLanes,C|=A,g.lanes=C,Ho(m,C)}}var $u={readContext:rs,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},kv={readContext:rs,useCallback:function(m,g){return yo().memoizedState=[m,g===void 0?null:g],m},useContext:rs,useEffect:Bp,useImperativeHandle:function(m,g,C){return C=C!=null?C.concat([m]):null,Sl(4194308,4,wf.bind(null,g,m),C)},useLayoutEffect:function(m,g){return Sl(4194308,4,m,g)},useInsertionEffect:function(m,g){return Sl(4,2,m,g)},useMemo:function(m,g){var C=yo();return g=g===void 0?null:g,m=m(),C.memoizedState=[m,g],m},useReducer:function(m,g,C){var A=yo();return g=C!==void 0?C(g):g,A.memoizedState=A.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},A.queue=m,m=m.dispatch=b_.bind(null,mi,m),[A.memoizedState,m]},useRef:function(m){var g=yo();return m={current:m},g.memoizedState=m},useState:bf,useDebugValue:Vp,useDeferredValue:function(m){var g=bf(m),C=g[0],A=g[1];return Bp(function(){var L=Cs.transition;Cs.transition={};try{A(m)}finally{Cs.transition=L}},[m]),C},useTransition:function(){var m=bf(!1),g=m[0];return m=Wp.bind(null,m[1]),yo().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,C){var A=mi,L=yo();if(si){if(C===void 0)throw Error(o(407));C=C()}else{if(C=g(),Ti===null)throw Error(o(349));(yc&30)!==0||Pv(A,g,C)}L.memoizedState=C;var V={value:C,getSnapshot:g};return L.queue=V,Bp(wa.bind(null,A,V,m),[m]),A.flags|=2048,Sf(9,Iv.bind(null,A,V,C,g),void 0,null),C},useId:function(){var m=yo(),g=Ti.identifierPrefix;if(si){var C=ba,A=_a;C=(A&~(1<<32-ns(A)-1)).toString(32)+C,g=":"+g+"R"+C,C=xc++,0<C&&(g+="H"+C.toString(32)),g+=":"}else C=yf++,g=":"+g+"r"+C.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Nv={readContext:rs,useCallback:jp,useContext:rs,useEffect:Wu,useImperativeHandle:Hu,useInsertionEffect:$n,useLayoutEffect:Up,useMemo:Gu,useReducer:xf,useRef:__,useState:function(){return xf(qo)},useDebugValue:Vp,useDeferredValue:function(m){var g=xf(qo),C=g[0],A=g[1];return Wu(function(){var L=Cs.transition;Cs.transition={};try{A(m)}finally{Cs.transition=L}},[m]),C},useTransition:function(){var m=xf(qo)[0],g=xo().memoizedState;return[m,g]},useMutableSource:Mv,useSyncExternalStore:Av,useId:_c,unstable_isNewReconciler:!1},Lv={readContext:rs,useCallback:jp,useContext:rs,useEffect:Wu,useImperativeHandle:Hu,useInsertionEffect:$n,useLayoutEffect:Up,useMemo:Gu,useReducer:_f,useRef:__,useState:function(){return _f(qo)},useDebugValue:Vp,useDeferredValue:function(m){var g=_f(qo),C=g[0],A=g[1];return Wu(function(){var L=Cs.transition;Cs.transition={};try{A(m)}finally{Cs.transition=L}},[m]),C},useTransition:function(){var m=_f(qo)[0],g=xo().memoizedState;return[m,g]},useMutableSource:Mv,useSyncExternalStore:Av,useId:_c,unstable_isNewReconciler:!1};function Dv(m,g){try{var C="",A=g;do C+=vv(A),A=A.return;while(A);var L=C}catch(V){L=`
Error generating stack: `+V.message+`
`+V.stack}return{value:m,source:g,stack:L}}function Hp(m,g){try{console.error(g.value)}catch(C){setTimeout(function(){throw C})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function w_(m,g,C){C=xa(-1,C),C.tag=3,C.payload={element:null};var A=g.value;return C.callback=function(){Qu||(Qu=!0,ti=A),Hp(m,g)},C}function Gp(m,g,C){C=xa(-1,C),C.tag=3;var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var L=g.value;C.payload=function(){return A(L)},C.callback=function(){Hp(m,g)}}var V=m.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(C.callback=function(){Hp(m,g),typeof A!="function"&&(So===null?So=new Set([this]):So.add(this));var re=g.stack;this.componentDidCatch(g.value,{componentStack:re!==null?re:""})}),C}function Ea(m,g,C){var A=m.pingCache;if(A===null){A=m.pingCache=new pT;var L=new Set;A.set(g,L)}else L=A.get(g),L===void 0&&(L=new Set,A.set(g,L));L.has(C)||(L.add(C),m=Zv.bind(null,m,g,C),g.then(m,m))}function Ov(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function bc(m,g,C,A,L){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(g=xa(-1,1),g.tag=2,vl(C,g))),C.lanes|=1),m):(m.flags|=65536,m.lanes=L,m)}function Vi(m){m.flags|=4}function qu(m,g){if(m!==null&&m.child===g.child)return!0;if((g.flags&16)!==0)return!1;for(m=g.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var Ms,Sc,$p,qp;if(at)Ms=function(m,g){for(var C=g.child;C!==null;){if(C.tag===5||C.tag===6)ae(m,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Sc=function(){},$p=function(m,g,C,A,L){if(m=m.memoizedProps,m!==A){var V=g.stateNode,re=vo(ss.current);C=he(V,C,m,A,L,re),(g.updateQueue=C)&&Vi(g)}},qp=function(m,g,C,A){C!==A&&Vi(g)};else if(J){Ms=function(m,g,C,A){for(var L=g.child;L!==null;){if(L.tag===5){var V=L.stateNode;C&&A&&(V=Qr(V,L.type,L.memoizedProps,L)),ae(m,V)}else if(L.tag===6)V=L.stateNode,C&&A&&(V=Zr(V,L.memoizedProps,L)),ae(m,V);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)V=L.child,V!==null&&(V.return=L),Ms(m,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===g)break;for(;L.sibling===null;){if(L.return===null||L.return===g)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var wl=function(m,g,C,A){for(var L=g.child;L!==null;){if(L.tag===5){var V=L.stateNode;C&&A&&(V=Qr(V,L.type,L.memoizedProps,L)),ri(m,V)}else if(L.tag===6)V=L.stateNode,C&&A&&(V=Zr(V,L.memoizedProps,L)),ri(m,V);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)V=L.child,V!==null&&(V.return=L),wl(m,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===g)break;for(;L.sibling===null;){if(L.return===null||L.return===g)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};Sc=function(m,g){var C=g.stateNode;if(!qu(m,g)){m=C.containerInfo;var A=cn(m);wl(A,g,!1,!1),C.pendingChildren=A,Vi(g),ki(m,A)}},$p=function(m,g,C,A,L){var V=m.stateNode,re=m.memoizedProps;if((m=qu(m,g))&&re===A)g.stateNode=V;else{var ce=g.stateNode,Me=vo(ss.current),Ge=null;re!==A&&(Ge=he(ce,C,re,A,L,Me)),m&&Ge===null?g.stateNode=V:(V=kt(V,Ge,C,re,A,g,m,ce),Re(V,C,A,L,Me)&&Vi(g),g.stateNode=V,m?Vi(g):Ms(V,g,!1,!1))}},qp=function(m,g,C,A){C!==A?(m=vo(gc.current),C=vo(ss.current),g.stateNode=Oe(A,m,C,g),Vi(g)):g.stateNode=m.stateNode}}else Sc=function(){},$p=function(){},qp=function(){};function Ta(m,g){if(!si)switch(m.tailMode){case"hidden":g=m.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?m.tail=null:C.sibling=null;break;case"collapsed":C=m.tail;for(var A=null;C!==null;)C.alternate!==null&&(A=C),C=C.sibling;A===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:A.sibling=null}}function Ei(m){var g=m.alternate!==null&&m.alternate.child===m.child,C=0,A=0;if(g)for(var L=m.child;L!==null;)C|=L.lanes|L.childLanes,A|=L.subtreeFlags&14680064,A|=L.flags&14680064,L.return=m,L=L.sibling;else for(L=m.child;L!==null;)C|=L.lanes|L.childLanes,A|=L.subtreeFlags,A|=L.flags,L.return=m,L=L.sibling;return m.subtreeFlags|=A,m.childLanes=C,g}function Xp(m,g,C){var A=g.pendingProps;switch(wv(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(g),null;case 1:return wi(g.type)&&Ln(),Ei(g),null;case 3:return A=g.stateNode,Vu(),gt(Gn),gt(Bt),vc(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(m===null||m.child===null)&&(gf(g)?Vi(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Ys!==null&&(zf(Ys),Ys=null))),Sc(m,g),Ei(g),null;case 5:Cv(g),C=vo(gc.current);var L=g.type;if(m!==null&&g.stateNode!=null)$p(m,g,L,A,C),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!A){if(g.stateNode===null)throw Error(o(166));return Ei(g),null}if(m=vo(ss.current),gf(g)){if(!Pe)throw Error(o(175));m=pv(g.stateNode,g.type,g.memoizedProps,C,m,g,!Ou),g.updateQueue=m,m!==null&&Vi(g)}else{var V=q(L,A,C,m,g);Ms(V,g,!1,!1),g.stateNode=V,Re(V,L,A,C,m)&&Vi(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ei(g),null;case 6:if(m&&g.stateNode!=null)qp(m,g,m.memoizedProps,A);else{if(typeof A!="string"&&g.stateNode===null)throw Error(o(166));if(m=vo(gc.current),C=vo(ss.current),gf(g)){if(!Pe)throw Error(o(176));if(m=g.stateNode,A=g.memoizedProps,(C=ga(m,A,g,!Ou))&&(L=zr,L!==null))switch(V=(L.mode&1)!==0,L.tag){case 3:ut(L.stateNode.containerInfo,m,A,V);break;case 5:yt(L.type,L.memoizedProps,L.stateNode,m,A,V)}C&&Vi(g)}else g.stateNode=Oe(A,m,C,g)}return Ei(g),null;case 13:if(gt(pi),A=g.memoizedState,si&&cr!==null&&(g.mode&1)!==0&&(g.flags&128)===0){for(m=cr;m;)m=mo(m);return Fu(),g.flags|=98560,g}if(A!==null&&A.dehydrated!==null){if(A=gf(g),m===null){if(!A)throw Error(o(318));if(!Pe)throw Error(o(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));mp(m,g)}else Fu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;return Ei(g),null}return Ys!==null&&(zf(Ys),Ys=null),(g.flags&128)!==0?(g.lanes=C,g):(A=A!==null,C=!1,m===null?gf(g):C=m.memoizedState!==null,A&&!C&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(pi.current&1)!==0?yi===0&&(yi=3):tm())),g.updateQueue!==null&&(g.flags|=4),Ei(g),null);case 4:return Vu(),Sc(m,g),m===null&&et(g.stateNode.containerInfo),Ei(g),null;case 10:return mf(g.type._context),Ei(g),null;case 17:return wi(g.type)&&Ln(),Ei(g),null;case 19:if(gt(pi),L=g.memoizedState,L===null)return Ei(g),null;if(A=(g.flags&128)!==0,V=L.rendering,V===null)if(A)Ta(L,!1);else{if(yi!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(V=Lp(m),V!==null){for(g.flags|=128,Ta(L,!1),m=V.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=C,A=g.child;A!==null;)C=A,L=m,C.flags&=14680066,V=C.alternate,V===null?(C.childLanes=0,C.lanes=L,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=V.childLanes,C.lanes=V.lanes,C.child=V.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=V.memoizedProps,C.memoizedState=V.memoizedState,C.updateQueue=V.updateQueue,C.type=V.type,L=V.dependencies,C.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),A=A.sibling;return Qe(pi,pi.current&1|2),g.child}m=m.sibling}L.tail!==null&&Ui()>Cl&&(g.flags|=128,A=!0,Ta(L,!1),g.lanes=4194304)}else{if(!A)if(m=Lp(V),m!==null){if(g.flags|=128,A=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),Ta(L,!0),L.tail===null&&L.tailMode==="hidden"&&!V.alternate&&!si)return Ei(g),null}else 2*Ui()-L.renderingStartTime>Cl&&C!==1073741824&&(g.flags|=128,A=!0,Ta(L,!1),g.lanes=4194304);L.isBackwards?(V.sibling=g.child,g.child=V):(m=L.last,m!==null?m.sibling=V:g.child=V,L.last=V)}return L.tail!==null?(g=L.tail,L.rendering=g,L.tail=g.sibling,L.renderingStartTime=Ui(),g.sibling=null,m=pi.current,Qe(pi,A?m&1|2:m&1),g):(Ei(g),null);case 22:case 23:return Bf(),A=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==A&&(g.flags|=8192),A&&(g.mode&1)!==0?(Tr&1073741824)!==0&&(Ei(g),at&&g.subtreeFlags&6&&(g.flags|=8192)):Ei(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var Fv=a.ReactCurrentOwner,Ki=!1;function vi(m,g,C,A){g.child=m===null?y_(g,null,C,A):Sa(g,m.child,C,A)}function qn(m,g,C,A,L){C=C.render;var V=g.ref;return Nu(g,L),A=ju(m,g,C,A,V,L),C=bl(),m!==null&&!Ki?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~L,os(m,g,L)):(si&&C&&Sv(g),g.flags|=1,vi(m,g,A,L),g.child)}function Wn(m,g,C,A,L){if(m===null){var V=C.type;return typeof V=="function"&&!im(V)&&V.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(g.tag=15,g.type=V,Ca(m,g,V,A,L)):(m=rm(C.type,null,A,g,g.mode,L),m.ref=g.ref,m.return=g,g.child=m)}if(V=m.child,(m.lanes&L)===0){var re=V.memoizedProps;if(C=C.compare,C=C!==null?C:go,C(re,A)&&m.ref===g.ref)return os(m,g,L)}return g.flags|=1,m=Da(V,A),m.ref=g.ref,m.return=g,g.child=m}function Ca(m,g,C,A,L){if(m!==null&&go(m.memoizedProps,A)&&m.ref===g.ref)if(Ki=!1,(m.lanes&L)!==0)(m.flags&131072)!==0&&(Ki=!0);else return g.lanes=m.lanes,os(m,g,L);return Ma(m,g,C,A,L)}function ur(m,g,C){var A=g.pendingProps,L=A.children,V=m!==null?m.memoizedState:null;if(A.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null},Qe(Rc,Tr),Tr|=C;else if((C&1073741824)!==0)g.memoizedState={baseLanes:0,cachePool:null},A=V!==null?V.baseLanes:C,Qe(Rc,Tr),Tr|=A;else return m=V!==null?V.baseLanes|C:C,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Qe(Rc,Tr),Tr|=m,null;else V!==null?(A=V.baseLanes|C,g.memoizedState=null):A=C,Qe(Rc,Tr),Tr|=A;return vi(m,g,L,C),g.child}function Br(m,g){var C=g.ref;(m===null&&C!==null||m!==null&&m.ref!==C)&&(g.flags|=512,g.flags|=2097152)}function Ma(m,g,C,A,L){var V=wi(C)?es:Bt.current;return V=hi(g,V),Nu(g,L),C=ju(m,g,C,A,V,L),A=bl(),m!==null&&!Ki?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~L,os(m,g,L)):(si&&A&&Sv(g),g.flags|=1,vi(m,g,C,L),g.child)}function wc(m,g,C,A,L){if(wi(C)){var V=!0;lr(g)}else V=!1;if(Nu(g,L),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),h_(g,C,A),bv(g,C,A,L),A=!0;else if(m===null){var re=g.stateNode,ce=g.memoizedProps;re.props=ce;var Me=re.context,Ge=C.contextType;typeof Ge=="object"&&Ge!==null?Ge=rs(Ge):(Ge=wi(C)?es:Bt.current,Ge=hi(g,Ge));var mt=C.getDerivedStateFromProps,Gt=typeof mt=="function"||typeof re.getSnapshotBeforeUpdate=="function";Gt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ce!==A||Me!==Ge)&&p_(g,re,A,Ge),qs=!1;var It=g.memoizedState;re.state=It,Mp(g,A,re,L),Me=g.memoizedState,ce!==A||It!==Me||Gn.current||qs?(typeof mt=="function"&&(xv(g,C,mt,A),Me=g.memoizedState),(ce=qs||_v(g,C,ce,A,It,Me,Ge))?(Gt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(g.flags|=4194308)):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=A,g.memoizedState=Me),re.props=A,re.state=Me,re.context=Ge,A=ce):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),A=!1)}else{re=g.stateNode,yv(m,g),ce=g.memoizedProps,Ge=g.type===g.elementType?ce:is(g.type,ce),re.props=Ge,Gt=g.pendingProps,It=re.context,Me=C.contextType,typeof Me=="object"&&Me!==null?Me=rs(Me):(Me=wi(C)?es:Bt.current,Me=hi(g,Me));var Zt=C.getDerivedStateFromProps;(mt=typeof Zt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ce!==Gt||It!==Me)&&p_(g,re,A,Me),qs=!1,It=g.memoizedState,re.state=It,Mp(g,A,re,L);var dt=g.memoizedState;ce!==Gt||It!==dt||Gn.current||qs?(typeof Zt=="function"&&(xv(g,C,Zt,A),dt=g.memoizedState),(Ge=qs||_v(g,C,Ge,A,It,dt,Me)||!1)?(mt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(A,dt,Me),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(A,dt,Me)),typeof re.componentDidUpdate=="function"&&(g.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof re.componentDidUpdate!="function"||ce===m.memoizedProps&&It===m.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ce===m.memoizedProps&&It===m.memoizedState||(g.flags|=1024),g.memoizedProps=A,g.memoizedState=dt),re.props=A,re.state=dt,re.context=Me,A=Ge):(typeof re.componentDidUpdate!="function"||ce===m.memoizedProps&&It===m.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ce===m.memoizedProps&&It===m.memoizedState||(g.flags|=1024),A=!1)}return Er(m,g,C,A,V,L)}function Er(m,g,C,A,L,V){Br(m,g);var re=(g.flags&128)!==0;if(!A&&!re)return L&&ml(g,C,!1),os(m,g,V);A=g.stateNode,Fv.current=g;var ce=re&&typeof C.getDerivedStateFromError!="function"?null:A.render();return g.flags|=1,m!==null&&re?(g.child=Sa(g,m.child,null,V),g.child=Sa(g,null,ce,V)):vi(m,g,ce,V),g.memoizedState=A.state,L&&ml(g,C,!0),g.child}function Cf(m){var g=m.stateNode;g.pendingContext?ts(m,g.pendingContext,g.pendingContext!==g.context):g.context&&ts(m,g.context,!1),Np(m,g.containerInfo)}function zv(m,g,C,A,L){return Fu(),kp(L),g.flags|=256,vi(m,g,C,A),g.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Ec(m){return{baseLanes:m,cachePool:null}}function Bv(m,g,C){var A=g.pendingProps,L=pi.current,V=!1,re=(g.flags&128)!==0,ce;if((ce=re)||(ce=m!==null&&m.memoizedState===null?!1:(L&2)!==0),ce?(V=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(L|=1),Qe(pi,L&1),m===null)return xl(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:Wo(m)?g.lanes=8:g.lanes=1073741824,null):(L=A.children,m=A.fallback,V?(A=g.mode,V=g.child,L={mode:"hidden",children:L},(A&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=L):V=jf(L,A,0,null),m=Oc(m,A,C,null),V.return=g,m.return=g,V.sibling=m,g.child=V,g.child.memoizedState=Ec(C),g.memoizedState=Mf,m):_o(g,L));if(L=m.memoizedState,L!==null){if(ce=L.dehydrated,ce!==null){if(re)return g.flags&256?(g.flags&=-257,Pf(m,g,C,Error(o(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(V=A.fallback,L=g.mode,A=jf({mode:"visible",children:A.children},L,0,null),V=Oc(V,L,C,null),V.flags|=2,A.return=g,V.return=g,A.sibling=V,g.child=A,(g.mode&1)!==0&&Sa(g,m.child,null,C),g.child.memoizedState=Ec(C),g.memoizedState=Mf,V);if((g.mode&1)===0)g=Pf(m,g,C,null);else if(Wo(ce))g=Pf(m,g,C,Error(o(419)));else if(A=(C&m.childLanes)!==0,Ki||A){if(A=Ti,A!==null){switch(C&-C){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}A=(V&(A.suspendedLanes|C))!==0?0:V,A!==0&&A!==L.retryLane&&(L.retryLane=A,Cr(m,A,-1))}tm(),g=Pf(m,g,C,Error(o(421)))}else lf(ce)?(g.flags|=128,g.child=m.child,g=A_.bind(null,m),ma(ce,g),g=null):(C=L.treeContext,Pe&&(cr=pp(ce),zr=g,si=!0,Ys=null,Ou=!1,C!==null&&(Xs[Es++]=_a,Xs[Es++]=ba,Xs[Es++]=hc,_a=C.id,ba=C.overflow,hc=g)),g=_o(g,g.pendingProps.children),g.flags|=4096);return g}return V?(A=Yp(m,g,A.children,A.fallback,C),V=g.child,L=m.child.memoizedState,V.memoizedState=L===null?Ec(C):{baseLanes:L.baseLanes|C,cachePool:null},V.childLanes=m.childLanes&~C,g.memoizedState=Mf,A):(C=Af(m,g,A.children,C),g.memoizedState=null,C)}return V?(A=Yp(m,g,A.children,A.fallback,C),V=g.child,L=m.child.memoizedState,V.memoizedState=L===null?Ec(C):{baseLanes:L.baseLanes|C,cachePool:null},V.childLanes=m.childLanes&~C,g.memoizedState=Mf,A):(C=Af(m,g,A.children,C),g.memoizedState=null,C)}function _o(m,g){return g=jf({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function Af(m,g,C,A){var L=m.child;return m=L.sibling,C=Da(L,{mode:"visible",children:C}),(g.mode&1)===0&&(C.lanes=A),C.return=g,C.sibling=null,m!==null&&(A=g.deletions,A===null?(g.deletions=[m],g.flags|=16):A.push(m)),g.child=C}function Yp(m,g,C,A,L){var V=g.mode;m=m.child;var re=m.sibling,ce={mode:"hidden",children:C};return(V&1)===0&&g.child!==m?(C=g.child,C.childLanes=0,C.pendingProps=ce,g.deletions=null):(C=Da(m,ce),C.subtreeFlags=m.subtreeFlags&14680064),re!==null?A=Da(re,A):(A=Oc(A,V,L,null),A.flags|=2),A.return=g,C.return=g,C.sibling=A,g.child=C,A}function Pf(m,g,C,A){return A!==null&&kp(A),Sa(g,m.child,null,C),m=_o(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function E_(m,g,C){m.lanes|=g;var A=m.alternate;A!==null&&(A.lanes|=g),fc(m.return,g,C)}function Xo(m,g,C,A,L){var V=m.memoizedState;V===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:A,tail:C,tailMode:L}:(V.isBackwards=g,V.rendering=null,V.renderingStartTime=0,V.last=A,V.tail=C,V.tailMode=L)}function Tc(m,g,C){var A=g.pendingProps,L=A.revealOrder,V=A.tail;if(vi(m,g,A.children,C),A=pi.current,(A&2)!==0)A=A&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&E_(m,C,g);else if(m.tag===19)E_(m,C,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}A&=1}if(Qe(pi,A),(g.mode&1)===0)g.memoizedState=null;else switch(L){case"forwards":for(C=g.child,L=null;C!==null;)m=C.alternate,m!==null&&Lp(m)===null&&(L=C),C=C.sibling;C=L,C===null?(L=g.child,g.child=null):(L=C.sibling,C.sibling=null),Xo(g,!1,L,C,V);break;case"backwards":for(C=null,L=g.child,g.child=null;L!==null;){if(m=L.alternate,m!==null&&Lp(m)===null){g.child=L;break}m=L.sibling,L.sibling=C,C=L,L=m}Xo(g,!0,C,null,V);break;case"together":Xo(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function os(m,g,C){if(m!==null&&(g.dependencies=m.dependencies),Yo|=g.lanes,(C&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(o(153));if(g.child!==null){for(m=g.child,C=Da(m,m.pendingProps),g.child=C,C.return=g;m.sibling!==null;)m=m.sibling,C=C.sibling=Da(m,m.pendingProps),C.return=g;C.sibling=null}return g.child}function Kp(m,g,C){switch(g.tag){case 3:Cf(g),Fu();break;case 5:x_(g);break;case 1:wi(g.type)&&lr(g);break;case 4:Np(g,g.stateNode.containerInfo);break;case 10:dc(g,g.type._context,g.memoizedProps.value);break;case 13:var A=g.memoizedState;if(A!==null)return A.dehydrated!==null?(Qe(pi,pi.current&1),g.flags|=128,null):(C&g.child.childLanes)!==0?Bv(m,g,C):(Qe(pi,pi.current&1),m=os(m,g,C),m!==null?m.sibling:null);Qe(pi,pi.current&1);break;case 19:if(A=(C&g.childLanes)!==0,(m.flags&128)!==0){if(A)return Tc(m,g,C);g.flags|=128}var L=g.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Qe(pi,pi.current),A)break;return null;case 22:case 23:return g.lanes=0,ur(m,g,C)}return os(m,g,C)}function Jp(m,g){switch(wv(g),g.tag){case 1:return wi(g.type)&&Ln(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Vu(),gt(Gn),gt(Bt),vc(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return Cv(g),null;case 13:if(gt(pi),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Fu()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return gt(pi),null;case 4:return Vu(),null;case 10:return mf(g.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var Ur=!1,Ji=!1,Cc=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ks(m,g){var C=m.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(A){jr(m,g,A)}else C.current=null}function Aa(m,g,C){try{C()}catch(A){jr(m,g,A)}}var Uv=!1;function Vv(m,g){for(Q(m.containerInfo),Ze=g;Ze!==null;)if(m=Ze,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,Ze=g;else for(;Ze!==null;){m=Ze;try{var C=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,L=C.memoizedState,V=m.stateNode,re=V.getSnapshotBeforeUpdate(m.elementType===m.type?A:is(m.type,A),L);V.__reactInternalSnapshotBeforeUpdate=re}break;case 3:at&&Ye(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){jr(m,m.return,ce)}if(g=m.sibling,g!==null){g.return=m.return,Ze=g;break}Ze=m.return}return C=Uv,Uv=!1,C}function Pa(m,g,C){var A=g.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var L=A=A.next;do{if((L.tag&m)===m){var V=L.destroy;L.destroy=void 0,V!==void 0&&Aa(g,C,V)}L=L.next}while(L!==A)}}function dr(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&m)===m){var A=C.create;C.destroy=A()}C=C.next}while(C!==g)}}function Vr(m){var g=m.ref;if(g!==null){var C=m.stateNode;switch(m.tag){case 5:m=Z(C);break;default:m=C}typeof g=="function"?g(m):g.current=m}}function ei(m,g,C){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(df,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var A=m=m.next;do{var L=A,V=L.destroy;L=L.tag,V!==void 0&&((L&2)!==0||(L&4)!==0)&&Aa(g,C,V),A=A.next}while(A!==m)}break;case 1:if(Ks(g,C),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(re){jr(g,C,re)}break;case 5:Ks(g,C);break;case 4:at?Hv(m,g,C):J&&J&&(g=g.stateNode.containerInfo,C=cn(g),yn(g,C))}}function Js(m,g,C){for(var A=g;;)if(ei(m,A,C),A.child===null||at&&A.tag===4){if(A===g)break;for(;A.sibling===null;){if(A.return===null||A.return===g)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function jv(m){var g=m.alternate;g!==null&&(m.alternate=null,jv(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Ct(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Wv(m){return m.tag===5||m.tag===3||m.tag===4}function Qp(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Wv(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Zp(m){if(at){e:{for(var g=m.return;g!==null;){if(Wv(g))break e;g=g.return}throw Error(o(160))}var C=g;switch(C.tag){case 5:g=C.stateNode,C.flags&32&&(Bn(g),C.flags&=-33),C=Qp(m),Xu(m,C,g);break;case 3:case 4:g=C.stateNode.containerInfo,C=Qp(m),em(m,C,g);break;default:throw Error(o(161))}}}function em(m,g,C){var A=m.tag;if(A===5||A===6)m=m.stateNode,g?pt(C,m,g):jt(C,m);else if(A!==4&&(m=m.child,m!==null))for(em(m,g,C),m=m.sibling;m!==null;)em(m,g,C),m=m.sibling}function Xu(m,g,C){var A=m.tag;if(A===5||A===6)m=m.stateNode,g?Ot(C,m,g):ct(C,m);else if(A!==4&&(m=m.child,m!==null))for(Xu(m,g,C),m=m.sibling;m!==null;)Xu(m,g,C),m=m.sibling}function Hv(m,g,C){for(var A=g,L=!1,V,re;;){if(!L){L=A.return;e:for(;;){if(L===null)throw Error(o(160));switch(V=L.stateNode,L.tag){case 5:re=!1;break e;case 3:V=V.containerInfo,re=!0;break e;case 4:V=V.containerInfo,re=!0;break e}L=L.return}L=!0}if(A.tag===5||A.tag===6)Js(m,A,C),re?Xt(V,A.stateNode):Wt(V,A.stateNode);else if(A.tag===18)re?pe(V,A.stateNode):we(V,A.stateNode);else if(A.tag===4){if(A.child!==null){V=A.stateNode.containerInfo,re=!0,A.child.return=A,A=A.child;continue}}else if(ei(m,A,C),A.child!==null){A.child.return=A,A=A.child;continue}if(A===g)break;for(;A.sibling===null;){if(A.return===null||A.return===g)return;A=A.return,A.tag===4&&(L=!1)}A.sibling.return=A.return,A=A.sibling}}function El(m,g){if(at){switch(g.tag){case 0:case 11:case 14:case 15:Pa(3,g,g.return),dr(3,g),Pa(5,g,g.return);return;case 1:return;case 5:var C=g.stateNode;if(C!=null){var A=g.memoizedProps;m=m!==null?m.memoizedProps:A;var L=g.type,V=g.updateQueue;g.updateQueue=null,V!==null&&un(C,V,L,m,A,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));C=g.memoizedProps,He(g.stateNode,m!==null?m.memoizedProps:C,C);return;case 3:Pe&&m!==null&&m.memoizedState.isDehydrated&&de(g.stateNode.containerInfo);return;case 12:return;case 13:Yu(g);return;case 19:Yu(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:Pa(3,g,g.return),dr(3,g),Pa(5,g,g.return);return;case 12:return;case 13:Yu(g);return;case 19:Yu(g);return;case 3:Pe&&m!==null&&m.memoizedState.isDehydrated&&de(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,yn(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function Yu(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var C=m.stateNode;C===null&&(C=m.stateNode=new Cc),g.forEach(function(A){var L=P_.bind(null,m,A);C.has(A)||(C.add(A),A.then(L,L))})}}function mT(m,g){for(Ze=g;Ze!==null;){g=Ze;var C=g.deletions;if(C!==null)for(var A=0;A<C.length;A++){var L=C[A];try{var V=m;at?Hv(V,L,g):Js(V,L,g);var re=L.alternate;re!==null&&(re.return=null),L.return=null}catch(St){jr(L,g,St)}}if(C=g.child,(g.subtreeFlags&12854)!==0&&C!==null)C.return=g,Ze=C;else for(;Ze!==null;){g=Ze;try{var ce=g.flags;if(ce&32&&at&&Bn(g.stateNode),ce&512){var Me=g.alternate;if(Me!==null){var Ge=Me.ref;Ge!==null&&(typeof Ge=="function"?Ge(null):Ge.current=null)}}if(ce&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var mt=g.alternate;(mt===null||mt.memoizedState===null)&&(Of=Ui())}break;case 22:var Gt=g.memoizedState!==null,It=g.alternate,Zt=It!==null&&It.memoizedState!==null;if(C=g,at){e:if(A=C,L=Gt,V=null,at)for(var dt=A;;){if(dt.tag===5){if(V===null){V=dt;var pr=dt.stateNode;L?ue(pr):Ne(dt.stateNode,dt.memoizedProps)}}else if(dt.tag===6){if(V===null){var ks=dt.stateNode;L?$e(ks):Le(ks,dt.memoizedProps)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===A)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===A)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===A)break e;V===dt&&(V=null),dt=dt.return}V===dt&&(V=null),dt.sibling.return=dt.return,dt=dt.sibling}}if(Gt&&!Zt&&(C.mode&1)!==0){Ze=C;for(var _e=C.child;_e!==null;){for(C=Ze=_e;Ze!==null;){A=Ze;var fe=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Pa(4,A,A.return);break;case 1:Ks(A,A.return);var Te=A.stateNode;if(typeof Te.componentWillUnmount=="function"){var st=A.return;try{Te.props=A.memoizedProps,Te.state=A.memoizedState,Te.componentWillUnmount()}catch(St){jr(A,st,St)}}break;case 5:Ks(A,A.return);break;case 22:if(A.memoizedState!==null){$v(C);continue}}fe!==null?(fe.return=A,Ze=fe):$v(C)}_e=_e.sibling}}}switch(ce&4102){case 2:Zp(g),g.flags&=-3;break;case 6:Zp(g),g.flags&=-3,El(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,El(g.alternate,g);break;case 4:El(g.alternate,g)}}catch(St){jr(g,g.return,St)}if(C=g.sibling,C!==null){C.return=g.return,Ze=C;break}Ze=g.return}}}function If(m,g,C){Ze=m,Rf(m)}function Rf(m,g,C){for(var A=(m.mode&1)!==0;Ze!==null;){var L=Ze,V=L.child;if(L.tag===22&&A){var re=L.memoizedState!==null||Ur;if(!re){var ce=L.alternate,Me=ce!==null&&ce.memoizedState!==null||Ji;ce=Ur;var Ge=Ji;if(Ur=re,(Ji=Me)&&!Ge)for(Ze=L;Ze!==null;)re=Ze,Me=re.child,re.tag===22&&re.memoizedState!==null?Mc(L):Me!==null?(Me.return=re,Ze=Me):Mc(L);for(;V!==null;)Ze=V,Rf(V),V=V.sibling;Ze=L,Ur=ce,Ji=Ge}Gv(m)}else(L.subtreeFlags&8772)!==0&&V!==null?(V.return=L,Ze=V):Gv(m)}}function Gv(m){for(;Ze!==null;){var g=Ze;if((g.flags&8772)!==0){var C=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ji||dr(5,g);break;case 1:var A=g.stateNode;if(g.flags&4&&!Ji)if(C===null)A.componentDidMount();else{var L=g.elementType===g.type?C.memoizedProps:is(g.type,C.memoizedProps);A.componentDidUpdate(L,C.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var V=g.updateQueue;V!==null&&d_(g,V,A);break;case 3:var re=g.updateQueue;if(re!==null){if(C=null,g.child!==null)switch(g.child.tag){case 5:C=Z(g.child.stateNode);break;case 1:C=g.child.stateNode}d_(g,re,C)}break;case 5:var ce=g.stateNode;C===null&&g.flags&4&&rt(ce,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Pe&&g.memoizedState===null){var Me=g.alternate;if(Me!==null){var Ge=Me.memoizedState;if(Ge!==null){var mt=Ge.dehydrated;mt!==null&&Se(mt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ji||g.flags&512&&Vr(g)}catch(Gt){jr(g,g.return,Gt)}}if(g===m){Ze=null;break}if(C=g.sibling,C!==null){C.return=g.return,Ze=C;break}Ze=g.return}}function $v(m){for(;Ze!==null;){var g=Ze;if(g===m){Ze=null;break}var C=g.sibling;if(C!==null){C.return=g.return,Ze=C;break}Ze=g.return}}function Mc(m){for(;Ze!==null;){var g=Ze;try{switch(g.tag){case 0:case 11:case 15:var C=g.return;try{dr(4,g)}catch(Me){jr(g,C,Me)}break;case 1:var A=g.stateNode;if(typeof A.componentDidMount=="function"){var L=g.return;try{A.componentDidMount()}catch(Me){jr(g,L,Me)}}var V=g.return;try{Vr(g)}catch(Me){jr(g,V,Me)}break;case 5:var re=g.return;try{Vr(g)}catch(Me){jr(g,re,Me)}}}catch(Me){jr(g,g.return,Me)}if(g===m){Ze=null;break}var ce=g.sibling;if(ce!==null){ce.return=g.return,Ze=ce;break}Ze=g.return}}var kf=0,Ac=1,Pc=2,Ia=3,Ku=4;if(typeof Symbol=="function"&&Symbol.for){var Ic=Symbol.for;kf=Ic("selector.component"),Ac=Ic("selector.has_pseudo_class"),Pc=Ic("selector.role"),Ia=Ic("selector.test_id"),Ku=Ic("selector.text")}function Nf(m){var g=Be(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(m=$(m),m===null)throw Error(o(362));return m.stateNode.current}function Lf(m,g){switch(g.$$typeof){case kf:if(m.type===g.value)return!0;break;case Ac:e:{g=g.value,m=[m,0];for(var C=0;C<m.length;){var A=m[C++],L=m[C++],V=g[L];if(A.tag!==5||!Ie(A)){for(;V!=null&&Lf(A,V);)L++,V=g[L];if(L===g.length){g=!0;break e}else for(A=A.child;A!==null;)m.push(A,L),A=A.sibling}}g=!1}return g;case Pc:if(m.tag===5&&ze(m.stateNode,g.value))return!0;break;case Ku:if((m.tag===5||m.tag===6)&&(m=ke(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case Ia:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Tl(m){switch(m.$$typeof){case kf:return"<"+(D(m.value)||"Unknown")+">";case Ac:return":has("+(Tl(m)||"")+")";case Pc:return'[role="'+m.value+'"]';case Ku:return'"'+m.value+'"';case Ia:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function As(m,g){var C=[];m=[m,0];for(var A=0;A<m.length;){var L=m[A++],V=m[A++],re=g[V];if(L.tag!==5||!Ie(L)){for(;re!=null&&Lf(L,re);)V++,re=g[V];if(V===g.length)C.push(L);else for(L=L.child;L!==null;)m.push(L,V),L=L.sibling}}return C}function Ra(m,g){if(!ie)throw Error(o(363));m=Nf(m),m=As(m,g),g=[],m=Array.from(m);for(var C=0;C<m.length;){var A=m[C++];if(A.tag===5)Ie(A)||g.push(A.stateNode);else for(A=A.child;A!==null;)m.push(A),A=A.sibling}return g}var qv=Math.ceil,Df=a.ReactCurrentDispatcher,bo=a.ReactCurrentOwner,Un=a.ReactCurrentBatchConfig,Qt=0,Ti=null,Vn=null,oi=0,Tr=0,Rc=Zn(0),yi=0,Ju=null,Yo=0,Ps=0,kc=0,ka=null,Ni=null,Of=0,Cl=1/0;function Nc(){Cl=Ui()+500}var Qu=!1,ti=null,So=null,Zu=!1,Ko=null,Lc=0,Dc=0,Na=null,Xn=-1,xi=0;function En(){return(Qt&6)!==0?Ui():Xn!==-1?Xn:Xn=Ui()}function wo(m){return(m.mode&1)===0?1:(Qt&2)!==0&&oi!==0?oi&-oi:u_.transition!==null?(xi===0&&(m=Iu,Iu<<=1,(Iu&4194240)===0&&(Iu=64),xi=m),xi):(m=sn,m!==0?m:Ae())}function Cr(m,g,C){if(50<Dc)throw Dc=0,Na=null,Error(o(185));var A=Ml(m,g);return A===null?null:(ac(A,g,C),((Qt&2)===0||A!==Ti)&&(A===Ti&&((Qt&2)===0&&(Ps|=g),yi===4&&hr(A,oi)),as(A,C),g===1&&Qt===0&&(m.mode&1)===0&&(Nc(),bp&&Gs())),A)}function Ml(m,g){m.lanes|=g;var C=m.alternate;for(C!==null&&(C.lanes|=g),C=m,m=m.return;m!==null;)m.childLanes|=g,C=m.alternate,C!==null&&(C.childLanes|=g),C=m,m=m.return;return C.tag===3?C.stateNode:null}function as(m,g){var C=m.callbackNode;c_(m,g);var A=uf(m,m===Ti?oi:0);if(A===0)C!==null&&ku(C),m.callbackNode=null,m.callbackPriority=0;else if(g=A&-A,m.callbackPriority!==g){if(C!=null&&ku(C),g===1)m.tag===0?wp(Is.bind(null,m)):Sp(Is.bind(null,m)),tt?lt(function(){Qt===0&&Gs()}):lc(cc,Gs),C=null;else{switch(va(A)){case 1:C=cc;break;case 4:C=fT;break;case 16:C=xp;break;case 536870912:C=_p;break;default:C=xp}C=nm(C,fr.bind(null,m))}m.callbackPriority=g,m.callbackNode=C}}function fr(m,g){if(Xn=-1,xi=0,(Qt&6)!==0)throw Error(o(327));var C=m.callbackNode;if(Jo()&&m.callbackNode!==C)return null;var A=uf(m,m===Ti?oi:0);if(A===0)return null;if((A&30)!==0||(A&m.expiredLanes)!==0||g)g=Uf(m,A);else{g=A;var L=Qt;Qt|=2;var V=Kv();(Ti!==m||oi!==g)&&(Nc(),La(m,g));do try{C_();break}catch(ce){Yv(m,ce)}while(!0);Fr(),Df.current=V,Qt=L,Vn!==null?g=0:(Ti=null,oi=0,g=yi)}if(g!==0){if(g===2&&(L=gp(m),L!==0&&(A=L,g=Ff(m,L))),g===1)throw C=Ju,La(m,0),hr(m,A),as(m,Ui()),C;if(g===6)hr(m,A);else{if(L=m.current.alternate,(A&30)===0&&!Xv(L)&&(g=Uf(m,A),g===2&&(V=gp(m),V!==0&&(A=V,g=Ff(m,V))),g===1))throw C=Ju,La(m,0),hr(m,A),as(m,Ui()),C;switch(m.finishedWork=L,m.finishedLanes=A,g){case 0:case 1:throw Error(o(345));case 2:Eo(m,Ni);break;case 3:if(hr(m,A),(A&130023424)===A&&(g=Of+500-Ui(),10<g)){if(uf(m,0)!==0)break;if(L=m.suspendedLanes,(L&A)!==A){En(),m.pingedLanes|=m.suspendedLanes&L;break}m.timeoutHandle=Fe(Eo.bind(null,m,Ni),g);break}Eo(m,Ni);break;case 4:if(hr(m,A),(A&4194240)===A)break;for(g=m.eventTimes,L=-1;0<A;){var re=31-ns(A);V=1<<re,re=g[re],re>L&&(L=re),A&=~V}if(A=L,A=Ui()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*qv(A/1960))-A,10<A){m.timeoutHandle=Fe(Eo.bind(null,m,Ni),A);break}Eo(m,Ni);break;case 5:Eo(m,Ni);break;default:throw Error(o(329))}}}return as(m,Ui()),m.callbackNode===C?fr.bind(null,m):null}function Ff(m,g){var C=ka;return m.current.memoizedState.isDehydrated&&(La(m,g).flags|=256),m=Uf(m,g),m!==2&&(g=Ni,Ni=C,g!==null&&zf(g)),m}function zf(m){Ni===null?Ni=m:Ni.push.apply(Ni,m)}function Xv(m){for(var g=m;;){if(g.flags&16384){var C=g.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var A=0;A<C.length;A++){var L=C[A],V=L.getSnapshot;L=L.value;try{if(!Or(V(),L))return!1}catch{return!1}}}if(C=g.child,g.subtreeFlags&16384&&C!==null)C.return=g,g=C;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function hr(m,g){for(g&=~kc,g&=~Ps,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var C=31-ns(g),A=1<<C;m[C]=-1,g&=~A}}function Is(m){if((Qt&6)!==0)throw Error(o(327));Jo();var g=uf(m,0);if((g&1)===0)return as(m,Ui()),null;var C=Uf(m,g);if(m.tag!==0&&C===2){var A=gp(m);A!==0&&(g=A,C=Ff(m,A))}if(C===1)throw C=Ju,La(m,0),hr(m,g),as(m,Ui()),C;if(C===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,Eo(m,Ni),as(m,Ui()),null}function ed(m){Ko!==null&&Ko.tag===0&&(Qt&6)===0&&Jo();var g=Qt;Qt|=1;var C=Un.transition,A=sn;try{if(Un.transition=null,sn=1,m)return m()}finally{sn=A,Un.transition=C,Qt=g,(Qt&6)===0&&Gs()}}function Bf(){Tr=Rc.current,gt(Rc)}function La(m,g){m.finishedWork=null,m.finishedLanes=0;var C=m.timeoutHandle;if(C!==ye&&(m.timeoutHandle=ye,me(C)),Vn!==null)for(C=Vn.return;C!==null;){var A=C;switch(wv(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Ln();break;case 3:Vu(),gt(Gn),gt(Bt),vc();break;case 5:Cv(A);break;case 4:Vu();break;case 13:gt(pi);break;case 19:gt(pi);break;case 10:mf(A.type._context);break;case 22:case 23:Bf()}C=C.return}if(Ti=m,Vn=m=Da(m.current,null),oi=Tr=g,yi=0,Ju=null,kc=Ps=Yo=0,Ni=ka=null,$s!==null){for(g=0;g<$s.length;g++)if(C=$s[g],A=C.interleaved,A!==null){C.interleaved=null;var L=A.next,V=C.pending;if(V!==null){var re=V.next;V.next=L,A.next=re}C.pending=A}$s=null}return m}function Yv(m,g){do{var C=Vn;try{if(Fr(),vf.current=$u,Dp){for(var A=mi.memoizedState;A!==null;){var L=A.queue;L!==null&&(L.pending=null),A=A.next}Dp=!1}if(yc=0,Xi=qi=mi=null,$o=!1,xc=0,bo.current=null,C===null||C.return===null){yi=1,Ju=g,Vn=null;break}e:{var V=m,re=C.return,ce=C,Me=g;if(g=oi,ce.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ge=Me,mt=ce,Gt=mt.tag;if((mt.mode&1)===0&&(Gt===0||Gt===11||Gt===15)){var It=mt.alternate;It?(mt.updateQueue=It.updateQueue,mt.memoizedState=It.memoizedState,mt.lanes=It.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Zt=Ov(re);if(Zt!==null){Zt.flags&=-257,bc(Zt,re,ce,V,g),Zt.mode&1&&Ea(V,Ge,g),g=Zt,Me=Ge;var dt=g.updateQueue;if(dt===null){var pr=new Set;pr.add(Me),g.updateQueue=pr}else dt.add(Me);break e}else{if((g&1)===0){Ea(V,Ge,g),tm();break e}Me=Error(o(426))}}else if(si&&ce.mode&1){var ks=Ov(re);if(ks!==null){(ks.flags&65536)===0&&(ks.flags|=256),bc(ks,re,ce,V,g),kp(Me);break e}}V=Me,yi!==4&&(yi=2),ka===null?ka=[V]:ka.push(V),Me=Dv(Me,ce),ce=re;do{switch(ce.tag){case 3:ce.flags|=65536,g&=-g,ce.lanes|=g;var _e=w_(ce,Me,g);Cp(ce,_e);break e;case 1:V=Me;var fe=ce.type,Te=ce.stateNode;if((ce.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(So===null||!So.has(Te)))){ce.flags|=65536,g&=-g,ce.lanes|=g;var st=Gp(ce,V,g);Cp(ce,st);break e}}ce=ce.return}while(ce!==null)}Qv(C)}catch(St){g=St,Vn===C&&C!==null&&(Vn=C=C.return);continue}break}while(!0)}function Kv(){var m=Df.current;return Df.current=$u,m===null?$u:m}function tm(){(yi===0||yi===3||yi===2)&&(yi=4),Ti===null||(Yo&268435455)===0&&(Ps&268435455)===0||hr(Ti,oi)}function Uf(m,g){var C=Qt;Qt|=2;var A=Kv();Ti===m&&oi===g||La(m,g);do try{T_();break}catch(L){Yv(m,L)}while(!0);if(Fr(),Qt=C,Df.current=A,Vn!==null)throw Error(o(261));return Ti=null,oi=0,yi}function T_(){for(;Vn!==null;)Jv(Vn)}function C_(){for(;Vn!==null&&!gl();)Jv(Vn)}function Jv(m){var g=ty(m.alternate,m,Tr);m.memoizedProps=m.pendingProps,g===null?Qv(m):Vn=g,bo.current=null}function Qv(m){var g=m;do{var C=g.alternate;if(m=g.return,(g.flags&32768)===0){if(C=Xp(C,g,Tr),C!==null){Vn=C;return}}else{if(C=Jp(C,g),C!==null){C.flags&=32767,Vn=C;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{yi=6,Vn=null;return}}if(g=g.sibling,g!==null){Vn=g;return}Vn=g=m}while(g!==null);yi===0&&(yi=5)}function Eo(m,g){var C=sn,A=Un.transition;try{Un.transition=null,sn=1,M_(m,g,C)}finally{Un.transition=A,sn=C}return null}function M_(m,g,C){do Jo();while(Ko!==null);if((Qt&6)!==0)throw Error(o(327));var A=m.finishedWork,L=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var V=A.lanes|A.childLanes;if(yp(m,V),m===Ti&&(Vn=Ti=null,oi=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||Zu||(Zu=!0,nm(xp,function(){return Jo(),null})),V=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||V){V=Un.transition,Un.transition=null;var re=sn;sn=1;var ce=Qt;Qt|=4,bo.current=null,Vv(m,A),mT(m,A),ne(m.containerInfo),m.current=A,If(A),dT(),Qt=ce,sn=re,Un.transition=V}else m.current=A;if(Zu&&(Zu=!1,Ko=m,Lc=L),V=m.pendingLanes,V===0&&(So=null),ff(A.stateNode),as(m,Ui()),g!==null)for(C=m.onRecoverableError,A=0;A<g.length;A++)C(g[A]);if(Qu)throw Qu=!1,m=ti,ti=null,m;return(Lc&1)!==0&&m.tag!==0&&Jo(),V=m.pendingLanes,(V&1)!==0?m===Na?Dc++:(Dc=0,Na=m):Dc=0,Gs(),null}function Jo(){if(Ko!==null){var m=va(Lc),g=Un.transition,C=sn;try{if(Un.transition=null,sn=16>m?16:m,Ko===null)var A=!1;else{if(m=Ko,Ko=null,Lc=0,(Qt&6)!==0)throw Error(o(331));var L=Qt;for(Qt|=4,Ze=m.current;Ze!==null;){var V=Ze,re=V.child;if((Ze.flags&16)!==0){var ce=V.deletions;if(ce!==null){for(var Me=0;Me<ce.length;Me++){var Ge=ce[Me];for(Ze=Ge;Ze!==null;){var mt=Ze;switch(mt.tag){case 0:case 11:case 15:Pa(8,mt,V)}var Gt=mt.child;if(Gt!==null)Gt.return=mt,Ze=Gt;else for(;Ze!==null;){mt=Ze;var It=mt.sibling,Zt=mt.return;if(jv(mt),mt===Ge){Ze=null;break}if(It!==null){It.return=Zt,Ze=It;break}Ze=Zt}}}var dt=V.alternate;if(dt!==null){var pr=dt.child;if(pr!==null){dt.child=null;do{var ks=pr.sibling;pr.sibling=null,pr=ks}while(pr!==null)}}Ze=V}}if((V.subtreeFlags&2064)!==0&&re!==null)re.return=V,Ze=re;else e:for(;Ze!==null;){if(V=Ze,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:Pa(9,V,V.return)}var _e=V.sibling;if(_e!==null){_e.return=V.return,Ze=_e;break e}Ze=V.return}}var fe=m.current;for(Ze=fe;Ze!==null;){re=Ze;var Te=re.child;if((re.subtreeFlags&2064)!==0&&Te!==null)Te.return=re,Ze=Te;else e:for(re=fe;Ze!==null;){if(ce=Ze,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:dr(9,ce)}}catch(St){jr(ce,ce.return,St)}if(ce===re){Ze=null;break e}var st=ce.sibling;if(st!==null){st.return=ce.return,Ze=st;break e}Ze=ce.return}}if(Qt=L,Gs(),Go&&typeof Go.onPostCommitFiberRoot=="function")try{Go.onPostCommitFiberRoot(df,m)}catch{}A=!0}return A}finally{sn=C,Un.transition=g}}return!1}function Vf(m,g,C){g=Dv(C,g),g=w_(m,g,1),vl(m,g),g=En(),m=Ml(m,1),m!==null&&(ac(m,1,g),as(m,g))}function jr(m,g,C){if(m.tag===3)Vf(m,m,C);else for(;g!==null;){if(g.tag===3){Vf(g,m,C);break}else if(g.tag===1){var A=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(So===null||!So.has(A))){m=Dv(C,m),m=Gp(g,m,1),vl(g,m),m=En(),g=Ml(g,1),g!==null&&(ac(g,1,m),as(g,m));break}}g=g.return}}function Zv(m,g,C){var A=m.pingCache;A!==null&&A.delete(g),g=En(),m.pingedLanes|=m.suspendedLanes&C,Ti===m&&(oi&C)===C&&(yi===4||yi===3&&(oi&130023424)===oi&&500>Ui()-Of?La(m,0):kc|=C),as(m,g)}function ey(m,g){g===0&&((m.mode&1)===0?g=1:(g=wn,wn<<=1,(wn&130023424)===0&&(wn=4194304)));var C=En();m=Ml(m,g),m!==null&&(ac(m,g,C),as(m,C))}function A_(m){var g=m.memoizedState,C=0;g!==null&&(C=g.retryLane),ey(m,C)}function P_(m,g){var C=0;switch(m.tag){case 13:var A=m.stateNode,L=m.memoizedState;L!==null&&(C=L.retryLane);break;case 19:A=m.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(g),ey(m,C)}var ty;ty=function(m,g,C){if(m!==null)if(m.memoizedProps!==g.pendingProps||Gn.current)Ki=!0;else{if((m.lanes&C)===0&&(g.flags&128)===0)return Ki=!1,Kp(m,g,C);Ki=(m.flags&131072)!==0}else Ki=!1,si&&(g.flags&1048576)!==0&&m_(g,Ip,g.index);switch(g.lanes=0,g.tag){case 2:var A=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var L=hi(g,Bt.current);Nu(g,C),L=ju(null,g,A,m,L,C);var V=bl();return g.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,wi(A)?(V=!0,lr(g)):V=!1,g.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Lu(g),L.updater=Ap,g.stateNode=L,L._reactInternals=g,bv(g,A,m,C),g=Er(null,g,A,!0,V,C)):(g.tag=0,si&&V&&Sv(g),vi(null,g,L,C),g=g.child),g;case 16:A=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,L=A._init,A=L(A._payload),g.type=A,L=g.tag=gT(A),m=is(A,m),L){case 0:g=Ma(null,g,A,m,C);break e;case 1:g=wc(null,g,A,m,C);break e;case 11:g=qn(null,g,A,m,C);break e;case 14:g=Wn(null,g,A,is(A.type,m),C);break e}throw Error(o(306,A,""))}return g;case 0:return A=g.type,L=g.pendingProps,L=g.elementType===A?L:is(A,L),Ma(m,g,A,L,C);case 1:return A=g.type,L=g.pendingProps,L=g.elementType===A?L:is(A,L),wc(m,g,A,L,C);case 3:e:{if(Cf(g),m===null)throw Error(o(387));A=g.pendingProps,V=g.memoizedState,L=V.element,yv(m,g),Mp(g,A,null,C);var re=g.memoizedState;if(A=re.element,Pe&&V.isDehydrated)if(V={element:A,isDehydrated:!1,cache:re.cache,transitions:re.transitions},g.updateQueue.baseState=V,g.memoizedState=V,g.flags&256){L=Error(o(423)),g=zv(m,g,A,C,L);break e}else if(A!==L){L=Error(o(424)),g=zv(m,g,A,C,L);break e}else for(Pe&&(cr=hp(g.stateNode.containerInfo),zr=g,si=!0,Ys=null,Ou=!1),C=y_(g,null,A,C),g.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(Fu(),A===L){g=os(m,g,C);break e}vi(m,g,A,C)}g=g.child}return g;case 5:return x_(g),m===null&&xl(g),A=g.type,L=g.pendingProps,V=m!==null?m.memoizedProps:null,re=L.children,ve(A,L)?re=null:V!==null&&ve(A,V)&&(g.flags|=32),Br(m,g),vi(m,g,re,C),g.child;case 6:return m===null&&xl(g),null;case 13:return Bv(m,g,C);case 4:return Np(g,g.stateNode.containerInfo),A=g.pendingProps,m===null?g.child=Sa(g,null,A,C):vi(m,g,A,C),g.child;case 11:return A=g.type,L=g.pendingProps,L=g.elementType===A?L:is(A,L),qn(m,g,A,L,C);case 7:return vi(m,g,g.pendingProps,C),g.child;case 8:return vi(m,g,g.pendingProps.children,C),g.child;case 12:return vi(m,g,g.pendingProps.children,C),g.child;case 10:e:{if(A=g.type._context,L=g.pendingProps,V=g.memoizedProps,re=L.value,dc(g,A,re),V!==null)if(Or(V.value,re)){if(V.children===L.children&&!Gn.current){g=os(m,g,C);break e}}else for(V=g.child,V!==null&&(V.return=g);V!==null;){var ce=V.dependencies;if(ce!==null){re=V.child;for(var Me=ce.firstContext;Me!==null;){if(Me.context===A){if(V.tag===1){Me=xa(-1,C&-C),Me.tag=2;var Ge=V.updateQueue;if(Ge!==null){Ge=Ge.shared;var mt=Ge.pending;mt===null?Me.next=Me:(Me.next=mt.next,mt.next=Me),Ge.pending=Me}}V.lanes|=C,Me=V.alternate,Me!==null&&(Me.lanes|=C),fc(V.return,C,g),ce.lanes|=C;break}Me=Me.next}}else if(V.tag===10)re=V.type===g.type?null:V.child;else if(V.tag===18){if(re=V.return,re===null)throw Error(o(341));re.lanes|=C,ce=re.alternate,ce!==null&&(ce.lanes|=C),fc(re,C,g),re=V.sibling}else re=V.child;if(re!==null)re.return=V;else for(re=V;re!==null;){if(re===g){re=null;break}if(V=re.sibling,V!==null){V.return=re.return,re=V;break}re=re.return}V=re}vi(m,g,L.children,C),g=g.child}return g;case 9:return L=g.type,A=g.pendingProps.children,Nu(g,C),L=rs(L),A=A(L),g.flags|=1,vi(m,g,A,C),g.child;case 14:return A=g.type,L=is(A,g.pendingProps),L=is(A.type,L),Wn(m,g,A,L,C);case 15:return Ca(m,g,g.type,g.pendingProps,C);case 17:return A=g.type,L=g.pendingProps,L=g.elementType===A?L:is(A,L),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,wi(A)?(m=!0,lr(g)):m=!1,Nu(g,C),h_(g,A,L),bv(g,A,L,C),Er(null,g,A,!0,m,C);case 19:return Tc(m,g,C);case 22:return ur(m,g,C)}throw Error(o(156,g.tag))};function nm(m,g){return lc(m,g)}function I_(m,g,C,A){this.tag=m,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(m,g,C,A){return new I_(m,g,C,A)}function im(m){return m=m.prototype,!(!m||!m.isReactComponent)}function gT(m){if(typeof m=="function")return im(m)?1:0;if(m!=null){if(m=m.$$typeof,m===b)return 11;if(m===E)return 14}return 2}function Da(m,g){var C=m.alternate;return C===null?(C=Rs(m.tag,g,m.key,m.mode),C.elementType=m.elementType,C.type=m.type,C.stateNode=m.stateNode,C.alternate=m,m.alternate=C):(C.pendingProps=g,C.type=m.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=m.flags&14680064,C.childLanes=m.childLanes,C.lanes=m.lanes,C.child=m.child,C.memoizedProps=m.memoizedProps,C.memoizedState=m.memoizedState,C.updateQueue=m.updateQueue,g=m.dependencies,C.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},C.sibling=m.sibling,C.index=m.index,C.ref=m.ref,C}function rm(m,g,C,A,L,V){var re=2;if(A=m,typeof m=="function")im(m)&&(re=1);else if(typeof m=="string")re=5;else e:switch(m){case d:return Oc(C.children,L,V,g);case h:re=8,L|=8;break;case p:return m=Rs(12,C,g,L|2),m.elementType=p,m.lanes=V,m;case S:return m=Rs(13,C,g,L),m.elementType=S,m.lanes=V,m;case _:return m=Rs(19,C,g,L),m.elementType=_,m.lanes=V,m;case P:return jf(C,L,V,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case v:re=10;break e;case y:re=9;break e;case b:re=11;break e;case E:re=14;break e;case T:re=16,A=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return g=Rs(re,C,g,L),g.elementType=m,g.type=A,g.lanes=V,g}function Oc(m,g,C,A){return m=Rs(7,m,A,g),m.lanes=C,m}function jf(m,g,C,A){return m=Rs(22,m,A,g),m.elementType=P,m.lanes=C,m.stateNode={},m}function sm(m,g,C){return m=Rs(6,m,null,g),m.lanes=C,m}function om(m,g,C){return g=Rs(4,m.children!==null?m.children:[],m.key,g),g.lanes=C,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function am(m,g,C,A,L){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=A,this.onRecoverableError=L,Pe&&(this.mutableSourceEagerHydrationData=null)}function R_(m,g,C,A,L,V,re,ce,Me){return m=new am(m,g,C,ce,Me),g===1?(g=1,V===!0&&(g|=8)):g=0,V=Rs(3,null,null,g),m.current=V,V.stateNode=m,V.memoizedState={element:A,isDehydrated:C,cache:null,transitions:null},Lu(V),m}function k_(m){if(!m)return dn;m=m._reactInternals;e:{if(N(m)!==m||m.tag!==1)throw Error(o(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(wi(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(m.tag===1){var C=m.type;if(wi(C))return Au(m,C,g)}return g}function N_(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=W(g),m===null?null:m.stateNode}function Qs(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var C=m.retryLane;m.retryLane=C!==0&&C<g?C:g}}function Wf(m,g){Qs(m,g),(m=m.alternate)&&Qs(m,g)}function lm(m){return m=W(m),m===null?null:m.stateNode}function L_(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=En();Cr(m,134217728,g),Wf(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=En(),C=wo(m);Cr(m,C,g),Wf(m,C)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var C=Ru(g.pendingLanes);C!==0&&(Ho(g,C|1),as(g,Ui()),(Qt&6)===0&&(Nc(),Gs()))}break;case 13:var A=En();ed(function(){return Cr(m,1,A)}),Wf(m,1)}},n.batchedUpdates=function(m,g){var C=Qt;Qt|=1;try{return m(g)}finally{Qt=C,Qt===0&&(Nc(),bp&&Gs())}},n.createComponentSelector=function(m){return{$$typeof:kf,value:m}},n.createContainer=function(m,g,C,A,L,V,re){return R_(m,g,!1,null,C,A,L,V,re)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Ac,value:m}},n.createHydrationContainer=function(m,g,C,A,L,V,re,ce,Me){return m=R_(C,A,!0,m,L,V,re,ce,Me),m.context=k_(null),C=m.current,A=En(),L=wo(C),V=xa(A,L),V.callback=g??null,vl(C,V),m.current.lanes=L,ac(m,L,A),as(m,A),m},n.createPortal=function(m,g,C){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:m,containerInfo:g,implementation:C}},n.createRoleSelector=function(m){return{$$typeof:Pc,value:m}},n.createTestNameSelector=function(m){return{$$typeof:Ia,value:m}},n.createTextSelector=function(m){return{$$typeof:Ku,value:m}},n.deferredUpdates=function(m){var g=sn,C=Un.transition;try{return Un.transition=null,sn=16,m()}finally{sn=g,Un.transition=C}},n.discreteUpdates=function(m,g,C,A,L){var V=sn,re=Un.transition;try{return Un.transition=null,sn=1,m(g,C,A,L)}finally{sn=V,Un.transition=re,Qt===0&&Nc()}},n.findAllNodes=Ra,n.findBoundingRects=function(m,g){if(!ie)throw Error(o(363));g=Ra(m,g),m=[];for(var C=0;C<g.length;C++)m.push(be(g[C]));for(g=m.length-1;0<g;g--){C=m[g];for(var A=C.x,L=A+C.width,V=C.y,re=V+C.height,ce=g-1;0<=ce;ce--)if(g!==ce){var Me=m[ce],Ge=Me.x,mt=Ge+Me.width,Gt=Me.y,It=Gt+Me.height;if(A>=Ge&&V>=Gt&&L<=mt&&re<=It){m.splice(g,1);break}else if(A!==Ge||C.width!==Me.width||It<V||Gt>re){if(!(V!==Gt||C.height!==Me.height||mt<A||Ge>L)){Ge>A&&(Me.width+=Ge-A,Me.x=A),mt<L&&(Me.width=L-Ge),m.splice(g,1);break}}else{Gt>V&&(Me.height+=Gt-V,Me.y=V),It<re&&(Me.height=re-Gt),m.splice(g,1);break}}}return m},n.findHostInstance=N_,n.findHostInstanceWithNoPortals=function(m){return m=U(m),m=m!==null?ee(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return N_(m)},n.flushControlled=function(m){var g=Qt;Qt|=1;var C=Un.transition,A=sn;try{Un.transition=null,sn=1,m()}finally{sn=A,Un.transition=C,Qt=g,Qt===0&&(Nc(),Gs())}},n.flushPassiveEffects=Jo,n.flushSync=ed,n.focusWithin=function(m,g){if(!ie)throw Error(o(363));for(m=Nf(m),g=As(m,g),g=Array.from(g),m=0;m<g.length;){var C=g[m++];if(!Ie(C)){if(C.tag===5&&Mt(C.stateNode))return!0;for(C=C.child;C!==null;)g.push(C),C=C.sibling}}return!1},n.getCurrentUpdatePriority=function(){return sn},n.getFindAllNodesFailureDescription=function(m,g){if(!ie)throw Error(o(363));var C=0,A=[];m=[Nf(m),0];for(var L=0;L<m.length;){var V=m[L++],re=m[L++],ce=g[re];if((V.tag!==5||!Ie(V))&&(Lf(V,ce)&&(A.push(Tl(ce)),re++,re>C&&(C=re)),re<g.length))for(V=V.child;V!==null;)m.push(V,re),V=V.sibling}if(C<g.length){for(m=[];C<g.length;C++)m.push(Tl(g[C]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return Z(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:lm,findFiberByHostInstance:m.findFiberByHostInstance||L_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{df=g.inject(m),Go=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,C,A){if(!ie)throw Error(o(363));m=Ra(m,g);var L=nt(m,C,A).disconnect;return{disconnect:function(){L()}}},n.registerMutableSourceForHydration=function(m,g){var C=g._getVersion;C=C(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,C]:m.mutableSourceEagerHydrationData.push(g,C)},n.runWithPriority=function(m,g){var C=sn;try{return sn=m,g()}finally{sn=C}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,C,A){var L=g.current,V=En(),re=wo(L);return C=k_(C),g.context===null?g.context=C:g.pendingContext=C,g=xa(V,re),g.payload={element:m},A=A===void 0?null:A,A!==null&&(g.callback=A),vl(L,g),m=Cr(L,re,V),m!==null&&Tp(m,L,re),re},n}),mM}var jO;function xxe(){return jO||(jO=1,fM.exports=yxe()),fM.exports}var _xe=xxe();const bxe=Sx(_xe);var WO=UH();const UR={},VH=t=>void Object.assign(UR,t);function Sxe(t,e){function n(d,{args:h=[],attach:p,...v},y){let b=`${d[0].toUpperCase()}${d.slice(1)}`,S;if(d==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=v.object;S=Ym(_,{type:d,root:y,attach:p,primitive:!0})}else{const _=UR[b];if(!_)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");S=Ym(new _(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return S.__r3f.attach===void 0&&(S.isBufferGeometry?S.__r3f.attach="geometry":S.isMaterial&&(S.__r3f.attach="material")),b!=="inject"&&yM(S,v),S}function i(d,h){let p=!1;if(h){var v,y;(v=h.__r3f)!=null&&v.attach?vM(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||Ym(h,{}),h.__r3f.parent=d,SP(h),Km(h)}}function r(d,h,p){let v=!1;if(h){var y,b;if((y=h.__r3f)!=null&&y.attach)vM(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const S=d.children.filter(E=>E!==h),_=S.indexOf(p);d.children=[...S.slice(0,_),h,...S.slice(_)],v=!0}v||(b=d.__r3f)==null||b.objects.push(h),h.__r3f||Ym(h,{}),h.__r3f.parent=d,SP(h),Km(h)}}function s(d,h,p=!1){d&&[...d].forEach(v=>o(h,v,p))}function o(d,h,p){if(h){var v,y,b;if(h.__r3f&&(h.__r3f.parent=null),(v=d.__r3f)!=null&&v.objects&&(d.__r3f.objects=d.__r3f.objects.filter(P=>P!==h)),(y=h.__r3f)!=null&&y.attach)XO(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var S;d.remove(h),(S=h.__r3f)!=null&&S.root&&Ixe(qb(h),h)}const E=(b=h.__r3f)==null?void 0:b.primitive,T=!E&&(p===void 0?h.dispose!==null:p);if(!E){var _;s((_=h.__r3f)==null?void 0:_.objects,h,T),s(h.children,h,T)}if(delete h.__r3f,T&&h.dispose&&h.type!=="Scene"){const P=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?WO.unstable_scheduleCallback(WO.unstable_IdlePriority,P):P()}Km(d)}}function a(d,h,p,v){var y;const b=(y=d.__r3f)==null?void 0:y.parent;if(!b)return;const S=n(h,p,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&i(S,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>i(S,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(b,d),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),i(b,S),S.raycast&&S.__r3f.eventCount&&qb(S).getState().internal.interaction.push(S),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=S,_.ref&&(typeof _.ref=="function"?_.ref(S):_.ref.current=S))})}const l=()=>{};return{reconciler:bxe({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const v=d.getState().scene;v.__r3f&&r(v,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,v){var y;if(((y=d==null?void 0:d.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==d)return[!0];{const{args:S=[],children:_,...E}=v,{args:T=[],children:P,...k}=p;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((D,B)=>D!==T[B]))return[!0];const F=XH(d,E,k,!0);return F.changes.length?[!1,F]:null}},commitUpdate(d,[h,p],v,y,b,S){h?a(d,v,b,S):yM(d,p)},commitMount(d,h,p,v){var y;const b=(y=d.__r3f)!=null?y:{};d.raycast&&b.handlers&&b.eventCount&&qb(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Ym(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:v}=(h=d.__r3f)!=null?h:{};p&&v&&XO(v,d,p),d.isObject3D&&(d.visible=!1),Km(d)},unhideInstance(d,h){var p;const{attach:v,parent:y}=(p=d.__r3f)!=null?p:{};v&&y&&vM(y,d,v),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Km(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():og.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ui.fun(performance.now)?performance.now:ui.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ui.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ui.fun(clearTimeout)?clearTimeout:void 0}),applyProps:yM}}var HO,GO;const gM=t=>"colorSpace"in t||"outputColorSpace"in t,jH=()=>{var t;return(t=UR.ColorManagement)!=null?t:null},WH=t=>t&&t.isOrthographicCamera,wxe=t=>t&&t.hasOwnProperty("current"),Zx=typeof window<"u"&&((HO=window.document)!=null&&HO.createElement||((GO=window.navigator)==null?void 0:GO.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function HH(t){const e=z.useRef(t);return Zx(()=>void(e.current=t),[t]),e}function Exe({set:t}){return Zx(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class GH extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}GH.getDerivedStateFromError=()=>({error:!0});const $H="__default",$O=new Map,Txe=t=>t&&!!t.memoized&&!!t.changes;function qH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Ly=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function qb(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ui={obj:t=>t===Object(t)&&!ui.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ui.str(t)||ui.num(t)||ui.boo(t))return t===e;const s=ui.obj(t);if(s&&i==="reference")return t===e;const o=ui.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!ui.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(ui.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Cxe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Mxe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ym(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function bP(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const qO=/-\d+$/;function vM(t,e,n){if(ui.str(n)){if(qO.test(n)){const s=n.replace(qO,""),{target:o,key:a}=bP(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=bP(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function XO(t,e,n){var i,r;if(ui.str(n)){const{target:s,key:o}=bP(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function XH(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const d=t.__r3f,h=Object.entries(r),p=[];if(c){const y=Object.keys(l);for(let b=0;b<y.length;b++)r.hasOwnProperty(y[b])||h.unshift([y[b],$H+"remove"])}h.forEach(([y,b])=>{var S;if((S=t.__r3f)!=null&&S.primitive&&y==="object"||ui.equ(b,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,b,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),p.push([y,b,!1,_]);for(const E in r){const T=r[E];E.startsWith(`${y}-`)&&p.push([E,T,!1,E.split("-")])}});const v={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:p}}function yM(t,e){var n;const i=t.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=Txe(e)?e:XH(t,e),l=i==null?void 0:i.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[v,y,b,S]=a[p];if(gM(t)){const P="srgb",k="srgb-linear";v==="encoding"?(v="colorSpace",y=y===3001?P:k):v==="outputEncoding"&&(v="outputColorSpace",y=y===3001?P:k)}let _=t,E=_[v];if(S.length&&(E=S.reduce((T,P)=>T[P],t),!(E&&E.set))){const[T,...P]=S.reverse();_=P.reverse().reduce((k,F)=>k[F],t),v=T}if(y===$H+"remove")if(_.constructor){let T=$O.get(_.constructor);T||(T=new _.constructor,$O.set(_.constructor,T)),y=T[v]}else y=0;if(b&&i)y?i.handlers[v]=y:delete i.handlers[v],i.eventCount=Object.keys(i.handlers).length;else if(E&&E.set&&(E.copy||E instanceof Lh)){if(Array.isArray(y))E.fromArray?E.fromArray(y):E.set(...y);else if(E.copy&&y&&y.constructor&&E.constructor===y.constructor)E.copy(y);else if(y!==void 0){var c;const T=(c=E)==null?void 0:c.isColor;!T&&E.setScalar?E.setScalar(y):E instanceof Lh&&y instanceof Lh?E.mask=y.mask:E.set(y),!jH()&&s&&!s.linear&&T&&E.convertSRGBToLinear()}}else{var d;if(_[v]=y,(d=_[v])!=null&&d.isTexture&&_[v].format===ys&&_[v].type===rl&&s){const T=_[v];gM(T)&&gM(s.gl)?T.colorSpace=s.gl.outputColorSpace:T.encoding=s.gl.outputEncoding}}Km(t)}if(i&&i.parent&&t.raycast&&l!==i.eventCount){const p=qb(t).getState().internal,v=p.interaction.indexOf(t);v>-1&&p.interaction.splice(v,1),i.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&SP(t),t}function Km(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function SP(t){t.onUpdate==null||t.onUpdate(t)}function Axe(t,e){t.manual||(WH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ub(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Pxe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return og.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return og.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return og.ContinuousEventPriority;default:return og.DefaultEventPriority}}function YH(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function Ixe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{YH(n.capturedMap,e,i,r)})}function Rxe(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=t.getState(),h=new Set,p=[],v=c?c(d.internal.interaction):d.internal.interaction;for(let _=0;_<v.length;_++){const E=Ly(v[_]);E&&(E.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(_){const E=Ly(_);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var T;E.events.compute==null||E.events.compute(l,E,(T=E.previousRoot)==null?void 0:T.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(_,!0):[]}let b=v.flatMap(y).sort((_,E)=>{const T=Ly(_.object),P=Ly(E.object);return!T||!P?_.distance-E.distance:P.events.priority-T.events.priority||_.distance-E.distance}).filter(_=>{const E=ub(_);return h.has(E)?!1:(h.add(E),!0)});d.events.filter&&(b=d.events.filter(b,d));for(const _ of b){let E=_.object;for(;E;){var S;(S=E.__r3f)!=null&&S.eventCount&&p.push({..._,eventObject:E}),E=E.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let _ of d.internal.capturedMap.get(l.pointerId).values())h.has(ub(_.intersection))||p.push(_.intersection);return p}function r(l,c,d,h){const p=t.getState();if(l.length){const v={stopped:!1};for(const y of l){const b=Ly(y.object)||p,{raycaster:S,pointer:_,camera:E,internal:T}=b,P=new te(_.x,_.y,0).unproject(E),k=R=>{var U,W;return(U=(W=T.capturedMap.get(R))==null?void 0:W.has(y.eventObject))!=null?U:!1},F=R=>{const U={intersection:y,target:c.target};T.capturedMap.has(R)?T.capturedMap.get(R).set(y.eventObject,U):T.capturedMap.set(R,new Map([[y.eventObject,U]])),c.target.setPointerCapture(R)},D=R=>{const U=T.capturedMap.get(R);U&&YH(T.capturedMap,y.eventObject,U,R)};let B={};for(let R in c){let U=c[R];typeof U!="function"&&(B[R]=U)}let N={...y,...B,pointer:_,intersections:l,stopped:v.stopped,delta:d,unprojectedPoint:P,ray:S.ray,camera:E,stopPropagation(){const R="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!R||R.has(y.eventObject))&&(N.stopped=v.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=l.slice(0,l.indexOf(y));s([...U,y])}},target:{hasPointerCapture:k,setPointerCapture:F,releasePointerCapture:D},currentTarget:{hasPointerCapture:k,setPointerCapture:F,releasePointerCapture:D},nativeEvent:c};if(h(N),v.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,v=p==null?void 0:p.handlers;if(c.hovered.delete(ub(d)),p!=null&&p.eventCount){const y={...d,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=d;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=i(d,v?n:void 0),_=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=S.map(T=>T.eventObject)),y&&!S.length&&_<=2&&(o(d,p.interaction),h&&h(d)),v&&s(S);function E(T){const P=T.eventObject,k=P.__r3f,F=k==null?void 0:k.handlers;if(k!=null&&k.eventCount)if(v){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const D=ub(T),B=p.hovered.get(D);B?B.stopped&&T.stopPropagation():(p.hovered.set(D,T),F.onPointerOver==null||F.onPointerOver(T),F.onPointerEnter==null||F.onPointerEnter(T))}F.onPointerMove==null||F.onPointerMove(T)}else{const D=F[l];D?(!y||p.initialHits.includes(P))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),D(T)):y&&p.initialHits.includes(P)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(S,d,_,E)}}return{handlePointer:a}}const KH=t=>!!(t!=null&&t.render),JH=z.createContext(null),kxe=(t,e)=>{const n=fxe((a,l)=>{const c=new te,d=new te,h=new te;function p(_=l().camera,E=d,T=l().size){const{width:P,height:k,top:F,left:D}=T,B=P/k;E.isVector3?h.copy(E):h.set(...E);const N=_.getWorldPosition(c).distanceTo(h);if(WH(_))return{width:P/_.zoom,height:k/_.zoom,top:F,left:D,factor:1,distance:N,aspect:B};{const R=_.fov*Math.PI/180,U=2*Math.tan(R/2)*N,W=U*(P/k);return{width:W,height:U,top:F,left:D,factor:P/W,distance:N,aspect:B}}}let v;const y=_=>a(E=>({performance:{...E.performance,current:_}})),b=new De;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,E)=>e(_,E,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new DR,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();v&&clearTimeout(v),_.performance.current!==_.performance.min&&y(_.performance.min),v=setTimeout(()=>y(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(E=>({...E,events:{...E.events,..._}})),setSize:(_,E,T,P,k)=>{const F=l().camera,D={width:_,height:E,top:P||0,left:k||0,updateStyle:T};a(B=>({size:D,viewport:{...B.viewport,...p(F,d,D)}}))},setDpr:_=>a(E=>{const T=qH(_);return{viewport:{...E.viewport,dpr:T,initialDpr:E.viewport.initialDpr||T}}}),setFrameloop:(_="always")=>{const E=l().clock;E.stop(),E.elapsedTime=0,_!=="never"&&(E.start(),E.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,E,T)=>{const P=l().internal;return P.priority=P.priority+(E>0?1:0),P.subscribers.push({ref:_,priority:E,store:T}),P.subscribers=P.subscribers.sort((k,F)=>k.priority-F.priority),()=>{const k=l().internal;k!=null&&k.subscribers&&(k.priority=k.priority-(E>0?1:0),k.subscribers=k.subscribers.filter(F=>F.ref!==_))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,Axe(a,l),d.setPixelRatio(c.dpr);const v=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,v)}a!==o&&(o=a,h(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let db,Nxe=new Set,Lxe=new Set,Dxe=new Set;function xM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Dy(t,e){switch(t){case"before":return xM(Nxe,e);case"after":return xM(Lxe,e);case"tail":return xM(Dxe,e)}}let _M,bM;function SM(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),_M=e.internal.subscribers,db=0;db<_M.length;db++)bM=_M[db],bM.ref.current(bM.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Oxe(t){let e=!1,n=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Dy("before",c),n=!0;for(const h of t.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=SM(c,s))}if(n=!1,Dy("after",c),i===0)return Dy("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,d=1){var h;if(!c)return t.forEach(p=>a(p.store.getState(),d));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,h,p){if(d&&Dy("before",c),h)SM(c,h,p);else for(const v of t.values())SM(c,v.store.getState());d&&Dy("after",c)}return{loop:o,invalidate:a,advance:l}}function QH(){const t=z.useContext(JH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ZH(t=n=>n,e){return QH()(t,e)}function e7(t,e=0){const n=QH(),i=n.getState().internal.subscribe,r=HH(t);return Zx(()=>i(r,e,n),[e,i,n]),null}const YO=new WeakMap;function t7(t,e){return function(n,...i){let r=YO.get(n);return r||(r=new n,YO.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Cxe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function e_(t,e,n,i){const r=Array.isArray(e)?e:[e],s=pxe(t7(n,i),[t,...r],{equal:ui.equ});return Array.isArray(e)?s:s[0]}e_.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return mxe(t7(n),[t,...i])};e_.clear=function(t,e){const n=Array.isArray(e)?e:[e];return gxe([t,...n])};const Fg=new Map,{invalidate:KO,advance:JO}=Oxe(Fg),{reconciler:vw,applyProps:jm}=Sxe(Fg,Pxe),Wm={objects:"shallow",strict:!1},Fxe=(t,e)=>{const n=typeof t=="function"?t(e):t;return KH(n)?n:new jW({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function zxe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Bxe(t){const e=Fg.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||kxe(KO,JO),o=n||vw.createContainer(s,og.ConcurrentRoot,null,!1,null,"",r,null);e||Fg.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:v,events:y,onCreated:b,shadows:S=!1,linear:_=!1,flat:E=!1,legacy:T=!1,orthographic:P=!1,frameloop:k="always",dpr:F=[1,2],performance:D,raycaster:B,camera:N,onPointerMissed:R}=d,U=s.getState(),W=U.gl;U.gl||U.set({gl:W=Fxe(h,t)});let Y=U.raycaster;Y||U.set({raycaster:Y=new DH});const{params:ee,...K}=B||{};if(ui.equ(K,Y,Wm)||jm(Y,{...K}),ui.equ(ee,Y.params,Wm)||jm(Y,{params:{...Y.params,...ee}}),!U.camera||U.camera===c&&!ui.equ(c,N,Wm)){c=N;const ne=N instanceof Hx,q=ne?N:P?new qx(0,0,0,0,.1,1e3):new Nr(75,0,.1,1e3);ne||(q.position.z=5,N&&(jm(q,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(q.manual=!0,q.updateProjectionMatrix())),!U.camera&&!(N!=null&&N.rotation)&&q.lookAt(0,0,0)),U.set({camera:q}),Y.camera=q}if(!U.scene){let ne;v!=null&&v.isScene?ne=v:(ne=new yR,v&&jm(ne,v)),U.set({scene:Ym(ne)})}if(!U.xr){var Z;const ne=(Re,he)=>{const ve=s.getState();ve.frameloop!=="never"&&JO(Re,!0,ve,he)},q=()=>{const Re=s.getState();Re.gl.xr.enabled=Re.gl.xr.isPresenting,Re.gl.xr.setAnimationLoop(Re.gl.xr.isPresenting?ne:null),Re.gl.xr.isPresenting||KO(Re)},ae={connect(){const Re=s.getState().gl;Re.xr.addEventListener("sessionstart",q),Re.xr.addEventListener("sessionend",q)},disconnect(){const Re=s.getState().gl;Re.xr.removeEventListener("sessionstart",q),Re.xr.removeEventListener("sessionend",q)}};typeof((Z=W.xr)==null?void 0:Z.addEventListener)=="function"&&ae.connect(),U.set({xr:ae})}if(W.shadowMap){const ne=W.shadowMap.enabled,q=W.shadowMap.type;if(W.shadowMap.enabled=!!S,ui.boo(S))W.shadowMap.type=h0;else if(ui.str(S)){var G;const ae={basic:kj,percentage:fE,soft:h0,variance:$a};W.shadowMap.type=(G=ae[S])!=null?G:h0}else ui.obj(S)&&Object.assign(W.shadowMap,S);(ne!==W.shadowMap.enabled||q!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const j=jH();j&&("enabled"in j?j.enabled=!T:"legacyMode"in j&&(j.legacyMode=T)),l||jm(W,{outputEncoding:_?3e3:3001,toneMapping:E?ql:KI}),U.legacy!==T&&U.set(()=>({legacy:T})),U.linear!==_&&U.set(()=>({linear:_})),U.flat!==E&&U.set(()=>({flat:E})),h&&!ui.fun(h)&&!KH(h)&&!ui.equ(h,W,Wm)&&jm(W,h),y&&!U.events.handlers&&U.set({events:y(s)});const Q=zxe(t,p);return ui.equ(Q,U.size,Wm)||U.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),F&&U.viewport.dpr!==qH(F)&&U.setDpr(F),U.frameloop!==k&&U.setFrameloop(k),U.onPointerMissed||U.set({onPointerMissed:R}),D&&!ui.equ(D,U.performance,Wm)&&U.set(ne=>({performance:{...ne.performance,...D}})),a=b,l=!0,this},render(d){return l||this.configure(),vw.updateContainer(w.jsx(Uxe,{store:s,children:d,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){n7(t)}}}function Uxe({store:t,children:e,onCreated:n,rootElement:i}){return Zx(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),w.jsx(JH.Provider,{value:t,children:e})}function n7(t,e){const n=Fg.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),vw.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Mxe(r),Fg.delete(t)}catch{}},500)})}}vw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});const wM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Vxe(t){const{handlePointer:e}=Rxe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(wM).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=wM[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=wM[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function QO(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function jxe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=z.useRef(!1);z.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,v]=z.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:E,top:T,width:P,height:k,bottom:F,right:D,x:B,y:N}=a.current.element.getBoundingClientRect(),R={left:E,top:T,width:P,height:k,bottom:F,right:D,x:B,y:N};a.current.element instanceof HTMLElement&&i&&(R.height=a.current.element.offsetHeight,R.width=a.current.element.offsetWidth),Object.freeze(R),d.current&&!$xe(a.current.lastBounds,R)&&o(a.current.lastBounds=R)};return[_,c?QO(_,c):_,l?QO(_,l):_]},[o,i,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new r(v),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const S=_=>{!_||_===a.current.element||(y(),a.current.element=_,a.current.scrollContainers=i7(_),b())};return Hxe(v,!!e),Wxe(p),z.useEffect(()=>{y(),b()},[e,v,p]),z.useEffect(()=>y,[]),[S,s,h]}function Wxe(t){z.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Hxe(t,e){z.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function i7(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...i7(t.parentElement)]}const Gxe=["x","y","top","bottom","left","right","width","height"],$xe=(t,e)=>Gxe.every(n=>t[n]===e[n]);var qxe=Object.defineProperty,Xxe=Object.defineProperties,Yxe=Object.getOwnPropertyDescriptors,ZO=Object.getOwnPropertySymbols,Kxe=Object.prototype.hasOwnProperty,Jxe=Object.prototype.propertyIsEnumerable,e4=(t,e,n)=>e in t?qxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t4=(t,e)=>{for(var n in e||(e={}))Kxe.call(e,n)&&e4(t,n,e[n]);if(ZO)for(var n of ZO(e))Jxe.call(e,n)&&e4(t,n,e[n]);return t},Qxe=(t,e)=>Xxe(t,Yxe(e)),n4,i4;typeof window<"u"&&((n4=window.document)!=null&&n4.createElement||((i4=window.navigator)==null?void 0:i4.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function r7(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=r7(i,e,n);if(r)return r;i=i.sibling}}function s7(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const r4=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=r4;return}return r4.apply(this,arguments)};const VR=s7(z.createContext(null));class o7 extends z.Component{render(){return z.createElement(VR.Provider,{value:this._reactInternals},this.props.children)}}function Zxe(){const t=z.useContext(VR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=r7(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function e_e(){const t=Zxe(),[e]=z.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==VR&&!e.has(r)&&e.set(r,z.useContext(s7(r)))}n=n.return}return e}function t_e(){const t=e_e();return z.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>z.createElement(e,null,z.createElement(n.Provider,Qxe(t4({},i),{value:t.get(n)}))),e=>z.createElement(o7,t4({},e))),[t])}const n_e=z.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=Vxe,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:v,frameloop:y,dpr:b,performance:S,raycaster:_,camera:E,scene:T,onPointerMissed:P,onCreated:k,...F},D){z.useMemo(()=>VH(axe),[]);const B=t_e(),[N,R]=jxe({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=z.useRef(null),W=z.useRef(null);z.useImperativeHandle(D,()=>U.current);const Y=HH(P),[ee,K]=z.useState(!1),[Z,G]=z.useState(!1);if(ee)throw ee;if(Z)throw Z;const j=z.useRef(null);Zx(()=>{const ne=U.current;R.width>0&&R.height>0&&ne&&(j.current||(j.current=Bxe(ne)),j.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:v,frameloop:y,dpr:b,performance:S,raycaster:_,camera:E,scene:T,size:R,onPointerMissed:(...q)=>Y.current==null?void 0:Y.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(a?wxe(a)?a.current:a:W.current),l&&q.setEvents({compute:(ae,Re)=>{const he=ae[l+"X"],ve=ae[l+"Y"];Re.pointer.set(he/Re.size.width*2-1,-(ve/Re.size.height)*2+1),Re.raycaster.setFromCamera(Re.pointer,Re.camera)}}),k==null||k(q)}}),j.current.render(w.jsx(B,{children:w.jsx(GH,{set:G,children:w.jsx(z.Suspense,{fallback:w.jsx(Exe,{set:K}),children:e??null})})})))}),z.useEffect(()=>{const ne=U.current;if(ne)return()=>n7(ne)},[]);const Q=a?"none":"auto";return w.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...F,children:w.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:w.jsx("canvas",{ref:U,style:{display:"block"},children:n})})})}),i_e=z.forwardRef(function(e,n){return w.jsx(o7,{children:w.jsx(n_e,{...e,ref:n})})});function w0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r_e(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function s_e(t){if(Array.isArray(t))return wP(t)}function o_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(t){return s_e(t)||o_e(t)||r_e(t)||a_e()}new De;new De;function c_e(t,e,n){return Math.max(e,Math.min(n,t))}function u_e(t,e){return c_e(t-Math.floor(t/e)*e,0,e)}function d_e(t,e){var n=u_e(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function a7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ia=function t(e,n,i){var r=this;a7(this,t),w0(this,"dot2",function(s,o){return r.x*s+r.y*o}),w0(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},f_e=[new ia(1,1,0),new ia(-1,1,0),new ia(1,-1,0),new ia(-1,-1,0),new ia(1,0,1),new ia(-1,0,1),new ia(1,0,-1),new ia(-1,0,-1),new ia(0,1,1),new ia(0,-1,1),new ia(0,1,-1),new ia(0,-1,-1)],s4=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],o4=new Array(512),a4=new Array(512),h_e=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=s4[n]^e&255:i=s4[n]^e>>8&255,o4[n]=o4[n+256]=i,a4[n]=a4[n+256]=f_e[i%12]}};h_e(0);function p_e(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function l4(t){var e=p_e(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var m_e=function t(e){var n=this;a7(this,t),w0(this,"seed",0),w0(this,"init",function(i){n.seed=i,n.value=l4(i)}),w0(this,"value",l4(this.seed)),this.init(e)};new m_e(Math.random());var g_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*r)/n)},l7=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},v_e=function(e){return e},y_e={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},x_e={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},__e={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},b_e={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},S_e={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},w_e={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function xr(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:l7,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;i=Math.max(1e-4,i);var c=2/i,d=o(c*r),h=t[e]-n,p=n,v=s*i;h=Math.min(Math.max(h,-v),v),n=t[e]-h;var y=(t.__damp[l]+c*h)*r;t.__damp[l]=(t.__damp[l]-c*y)*d;var b=n+(h+y)*d;return p-t[e]>0==b>p&&(b=p,t.__damp[l]=(b-p)/r),t[e]=b,!0}var E_e=function(e){return e&&e.isCamera},T_e=function(e){return e&&e.isLight},Oy=new te,c4=new _r,u4=new _r,Fy=new Dt,EM=new te;function C_e(t,e,n,i,r,s,o){typeof e=="number"?Oy.setScalar(e):Array.isArray(e)?Oy.set(e[0],e[1],e[2]):Oy.copy(e);var a=t.parent;t.updateWorldMatrix(!0,!1),EM.setFromMatrixPosition(t.matrixWorld),E_e(t)||T_e(t)?Fy.lookAt(EM,Oy,t.up):Fy.lookAt(Oy,EM,t.up),yw(t.quaternion,u4.setFromRotationMatrix(Fy),n,i,r,s,o),a&&(Fy.extractRotation(a.matrixWorld),c4.setFromRotationMatrix(Fy),yw(t.quaternion,u4.copy(t.quaternion).premultiply(c4.invert()),n,i,r,s,o))}function bg(t,e,n,i,r,s,o,a){return xr(t,e,t[e]+d_e(t[e],n),i,r,s,o,a)}var zy=new De,d4,f4;function M_e(t,e,n,i,r,s,o){return typeof e=="number"?zy.setScalar(e):Array.isArray(e)?zy.set(e[0],e[1]):zy.copy(e),d4=xr(t,"x",zy.x,n,i,r,s,o),f4=xr(t,"y",zy.y,n,i,r,s,o),d4||f4}var Hm=new te,h4,p4,m4;function EP(t,e,n,i,r,s,o){return typeof e=="number"?Hm.setScalar(e):Array.isArray(e)?Hm.set(e[0],e[1],e[2]):Hm.copy(e),h4=xr(t,"x",Hm.x,n,i,r,s,o),p4=xr(t,"y",Hm.y,n,i,r,s,o),m4=xr(t,"z",Hm.z,n,i,r,s,o),h4||p4||m4}var uh=new Tn,g4,v4,y4,x4;function A_e(t,e,n,i,r,s,o){return typeof e=="number"?uh.setScalar(e):Array.isArray(e)?uh.set(e[0],e[1],e[2],e[3]):uh.copy(e),g4=xr(t,"x",uh.x,n,i,r,s,o),v4=xr(t,"y",uh.y,n,i,r,s,o),y4=xr(t,"z",uh.z,n,i,r,s,o),x4=xr(t,"w",uh.w,n,i,r,s,o),g4||v4||y4||x4}var By=new fo,_4,b4,S4;function P_e(t,e,n,i,r,s,o){return Array.isArray(e)?By.set(e[0],e[1],e[2],e[3]):By.copy(e),_4=bg(t,"x",By.x,n,i,r,s,o),b4=bg(t,"y",By.y,n,i,r,s,o),S4=bg(t,"z",By.z,n,i,r,s,o),_4||b4||S4}var Gm=new ft,w4,E4,T4;function I_e(t,e,n,i,r,s,o){return e instanceof ft?Gm.copy(e):Array.isArray(e)?Gm.setRGB(e[0],e[1],e[2]):Gm.set(e),w4=xr(t,"r",Gm.r,n,i,r,s,o),E4=xr(t,"g",Gm.g,n,i,r,s,o),T4=xr(t,"b",Gm.b,n,i,r,s,o),w4||E4||T4}var Ha=new _r,$c=new Tn,C4=new Tn,Uy=new Tn,M4,A4,P4,I4;function yw(t,e,n,i,r,s,o){var a=t;Array.isArray(e)?Ha.set(e[0],e[1],e[2],e[3]):Ha.copy(e);var l=t.dot(Ha)>0?1:-1;return Ha.x*=l,Ha.y*=l,Ha.z*=l,Ha.w*=l,M4=xr(t,"x",Ha.x,n,i,r,s,o),A4=xr(t,"y",Ha.y,n,i,r,s,o),P4=xr(t,"z",Ha.z,n,i,r,s,o),I4=xr(t,"w",Ha.w,n,i,r,s,o),$c.set(t.x,t.y,t.z,t.w).normalize(),C4.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Uy.copy($c).multiplyScalar(C4.dot($c)/$c.dot($c)),a.__damp.velocity_x-=Uy.x,a.__damp.velocity_y-=Uy.y,a.__damp.velocity_z-=Uy.z,a.__damp.velocity_w-=Uy.w,t.set($c.x,$c.y,$c.z,$c.w),M4||A4||P4||I4}var Vy=new OH,R4,k4,N4;function R_e(t,e,n,i,r,s,o){return Array.isArray(e)?Vy.set(e[0],e[1],e[2]):Vy.copy(e),R4=xr(t,"radius",Vy.radius,n,i,r,s,o),k4=bg(t,"phi",Vy.phi,n,i,r,s,o),N4=bg(t,"theta",Vy.theta,n,i,r,s,o),R4||k4||N4}var fb=new Dt,L4=new te,D4=new _r,O4=new te,F4,z4,B4;function k_e(t,e,n,i,r,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new te,rotation:new _r,scale:new te},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?fb.set.apply(fb,l_e(e)):fb.copy(e),fb.decompose(L4,D4,O4),F4=EP(a.__damp.position,L4,n,i,r,s,o),z4=yw(a.__damp.rotation,D4,n,i,r,s,o),B4=EP(a.__damp.scale,O4,n,i,r,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),F4||z4||B4}var Xb=Object.freeze({__proto__:null,rsqw:g_e,exp:l7,linear:v_e,sine:y_e,cubic:x_e,quint:__e,circ:b_e,quart:S_e,expo:w_e,damp:xr,dampLookAt:C_e,dampAngle:bg,damp2:M_e,damp3:EP,damp4:A_e,dampE:P_e,dampC:I_e,dampQ:yw,dampS:R_e,dampM:k_e});function N_e(t,e,n,i){const r=class extends ha{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,d])=>{const h=hR.clone({[c]:{value:d}});return{...l,...h}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return r.key=CW.generateUUID(),r}const TM=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function jR(t,e){const n=ZH(s=>s.gl),i=e_(WE,TM(t)?Object.values(t):t);return z.useLayoutEffect(()=>{e==null||e(i)},[e]),z.useEffect(()=>{if("initTexture"in n){let s=[];Array.isArray(i)?s=i:i instanceof Si?s=[i]:TM(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof Si&&n.initTexture(o)})}},[n,i]),z.useMemo(()=>{if(TM(t)){const s={};let o=0;for(const a in t)s[a]=i[o++];return s}else return i},[t,i])}jR.preload=t=>e_.preload(WE,t);jR.clear=t=>e_.clear(WE,t);const L_e=()=>parseInt(Ux.replace(/\D+/g,"")),D_e=L_e(),U4=N_e({color:new ft("white"),scale:new De(1,1),imageBounds:new De(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${D_e>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),c7=z.forwardRef(({children:t,color:e,segments:n=1,scale:i=1,zoom:r=1,grayscale:s=0,opacity:o=1,radius:a=0,texture:l,toneMapped:c,transparent:d,side:h,...p},v)=>{VH({ImageMaterial:U4});const y=z.useRef(null),b=ZH(T=>T.size),S=Array.isArray(i)?[i[0],i[1]]:[i,i],_=[l.image.width,l.image.height],E=Math.max(b.width,b.height);return z.useImperativeHandle(v,()=>y.current,[]),z.useLayoutEffect(()=>{y.current.geometry.parameters&&y.current.material.scale.set(S[0]*y.current.geometry.parameters.width,S[1]*y.current.geometry.parameters.height)},[S[0],S[1]]),z.createElement("mesh",Bh({ref:y,scale:Array.isArray(i)?[...i,1]:i},p),z.createElement("planeGeometry",{args:[1,1,n,n]}),z.createElement("imageMaterial",{color:e,map:l,zoom:r,grayscale:s,opacity:o,scale:S,imageBounds:_,resolution:E,radius:a,toneMapped:c,transparent:d,side:h,key:U4.key}),t)}),O_e=z.forwardRef(({url:t,...e},n)=>{const i=jR(t);return z.createElement(c7,Bh({},e,{texture:i,ref:n}))}),F_e=z.forwardRef(({url:t,...e},n)=>z.createElement(c7,Bh({},e,{ref:n}))),z_e=z.forwardRef((t,e)=>{if(t.url)return z.createElement(O_e,Bh({},t,{ref:e}));if(t.texture)return z.createElement(F_e,Bh({},t,{ref:e}));throw new Error("<Image /> requires a url or texture")});var CM={exports:{}},MM,V4;function B_e(){if(V4)return MM;V4=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return MM=t,MM}var AM,j4;function U_e(){if(j4)return AM;j4=1;var t=B_e();function e(){}function n(){}return n.resetWarningCache=e,AM=function(){function i(o,a,l,c,d,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},AM}var W4;function WR(){return W4||(W4=1,CM.exports=U_e()()),CM.exports}var V_e=WR();const Mi=Sx(V_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u7=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_e=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>z.createElement("svg",{ref:l,...W_e,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:u7("lucide",r),...a},[...o.map(([c,d])=>z.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=(t,e)=>{const n=z.forwardRef(({className:i,...r},s)=>z.createElement(H_e,{ref:s,iconNode:e,className:u7(`lucide-${j_e(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$_e=jo("ChevronLeft",G_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],X_e=jo("ChevronRight",q_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_e=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],K_e=jo("CreditCard",Y_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],H4=jo("House",J_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_e=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Z_e=jo("LogOut",Q_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1e=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],G4=jo("Mail",e1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]],n1e=jo("Package2",t1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1e=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],r1e=jo("Package",i1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1e=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],$4=jo("Phone",s1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hb=jo("Shield",o1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1e=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],d7=jo("Ticket",a1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1e=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],c1e=jo("Truck",l1e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PM=jo("User",u1e),pb=[{id:1,title:"Kinematics",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1629276301820-0f3eedc29fd0?w=800&auto=format&fit=crop",songs:[{title:"Momentum",duration:"3:42",link:" /music/music7.mp3"},{title:"Velocity",duration:"4:20",link:" /music/music9.mp3"},{title:"Angular Shift",duration:"3:18",link:" /music/music3.mp3"},{title:"Kinetic Flow",duration:"4:12",link:" /music/music4.mp3"},{title:"Torque",duration:"3:45",link:" /music/music5.mp3"},{title:"Tidal Pull",duration:"3:33",link:" /music/music2.mp3"}]},{id:2,title:"Soaring",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=800&auto=format&fit=crop",songs:[{title:"Lift Off",duration:"4:05",link:" /music/music7.mp3"},{title:"Cloud Nine",duration:"3:47",link:" /music/music9.mp3"},{title:"Skyward",duration:"4:10",link:" /music/music3.mp3"},{title:"Aerial View",duration:"3:57",link:" /music/music4.mp3"},{title:"Updraft",duration:"3:22",link:" /music/music5.mp3"},{title:"Glide",duration:"3:48",link:" /music/music2.mp3"}]},{id:3,title:"Resounding",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613534852-13c6e6034e0c?w=800&auto=format&fit=crop",songs:[{title:"Echo Chamber",duration:"3:55",link:" /music/music7.mp3"},{title:"Sonic Boom",duration:"4:25",link:" /music/music9.mp3"},{title:"Waveform",duration:"3:41",link:" /music/music3.mp3"},{title:"Rhythmic Pulse",duration:"3:37",link:" /music/music4.mp3"},{title:"Resonance",duration:"4:20",link:" /music/music5.mp3"},{title:"Vibrations",duration:"3:50",link:" /music/music2.mp3"}]}],HR=z.createContext({});function GE(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}const $E=z.createContext(null),GR=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class d1e extends z.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f1e({children:t,isPresent:e}){const n=z.useId(),i=z.useRef(null),r=z.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=z.useContext(GR);return z.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),w.jsx(d1e,{isPresent:e,childRef:i,sizeRef:r,children:z.cloneElement(t,{ref:i})})}const h1e=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=GE(p1e),l=z.useId(),c=z.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;i&&i()},[a,i]),d=z.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return z.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),z.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=w.jsx(f1e,{isPresent:n,children:t})),w.jsx($E.Provider,{value:d,children:t})};function p1e(){return new Map}function f7(t=!0){const e=z.useContext($E);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=z.useId();z.useEffect(()=>{t&&r(s)},[t]);const o=z.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const mb=t=>t.key||"";function q4(t){const e=[];return z.Children.forEach(t,n=>{z.isValidElement(n)&&e.push(n)}),e}const $R=typeof window<"u",qR=$R?z.useLayoutEffect:z.useEffect,h7=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=f7(o),c=z.useMemo(()=>q4(t),[t]),d=o&&!a?[]:c.map(mb),h=z.useRef(!0),p=z.useRef(c),v=GE(()=>new Map),[y,b]=z.useState(c),[S,_]=z.useState(c);qR(()=>{h.current=!1,p.current=c;for(let P=0;P<S.length;P++){const k=mb(S[P]);d.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[S,d.length,d.join("-")]);const E=[];if(c!==y){let P=[...c];for(let k=0;k<S.length;k++){const F=S[k],D=mb(F);d.includes(D)||(P.splice(k,0,F),E.push(F))}s==="wait"&&E.length&&(P=E),_(q4(P)),b(c);return}const{forceRender:T}=z.useContext(HR);return w.jsx(w.Fragment,{children:S.map(P=>{const k=mb(P),F=o&&!a?!1:c===S||d.includes(k),D=()=>{if(v.has(k))v.set(k,!0);else return;let B=!0;v.forEach(N=>{N||(B=!1)}),B&&(T==null||T(),_(p.current),o&&(l==null||l()),i&&i())};return w.jsx(h1e,{isPresent:F,initial:!h.current||n?void 0:!1,custom:F?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:F?void 0:D,children:P},k)})})},Fo=t=>t;let p7=Fo;function XR(t){let e;return()=>(e===void 0&&(e=t()),e)}const zg=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},lu=t=>t*1e3,cu=t=>t/1e3,m1e={useManualTiming:!1};function g1e(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const v=h&&i?e:n;return d&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const gb=["read","resolveKeyframes","update","preRender","render","postRender"],v1e=40;function m7(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=gb.reduce((_,E)=>(_[E]=g1e(s),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,v=()=>{const _=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(_-r.timestamp,v1e),1),r.timestamp=_,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(v))},y=()=>{n=!0,i=!0,r.isProcessing||t(v)};return{schedule:gb.reduce((_,E)=>{const T=o[E];return _[E]=(P,k=!1,F=!1)=>(n||y(),T.schedule(P,k,F)),_},{}),cancel:_=>{for(let E=0;E<gb.length;E++)o[gb[E]].cancel(_)},state:r,steps:o}}const{schedule:gi,cancel:Xd,state:$r,steps:IM}=m7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fo,!0),g7=z.createContext({strict:!1}),X4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bg={};for(const t in X4)Bg[t]={isEnabled:e=>X4[t].some(n=>!!e[n])};function y1e(t){for(const e in t)Bg[e]={...Bg[e],...t[e]}}const x1e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x1e.has(t)}let v7=t=>!xw(t);function _1e(t){t&&(v7=e=>e.startsWith("on")?!xw(e):t(e))}try{_1e(require("@emotion/is-prop-valid").default)}catch{}function b1e(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(v7(r)||n===!0&&xw(r)||!e&&!xw(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function S1e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const qE=z.createContext({});function px(t){return typeof t=="string"||Array.isArray(t)}function XE(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const YR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KR=["initial",...YR];function YE(t){return XE(t.animate)||KR.some(e=>px(t[e]))}function y7(t){return!!(YE(t)||t.variants)}function w1e(t,e){if(YE(t)){const{initial:n,animate:i}=t;return{initial:n===!1||px(n)?n:void 0,animate:px(i)?i:void 0}}return t.inherit!==!1?e:{}}function E1e(t){const{initial:e,animate:n}=w1e(t,z.useContext(qE));return z.useMemo(()=>({initial:e,animate:n}),[Y4(e),Y4(n)])}function Y4(t){return Array.isArray(t)?t.join(" "):t}const T1e=Symbol.for("motionComponentSymbol");function ag(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C1e(t,e,n){return z.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ag(n)&&(n.current=i))},[e])}const JR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M1e="framerAppearId",x7="data-"+JR(M1e),{schedule:QR}=m7(queueMicrotask,!1),_7=z.createContext({});function A1e(t,e,n,i,r){var s,o;const{visualElement:a}=z.useContext(qE),l=z.useContext(g7),c=z.useContext($E),d=z.useContext(GR).reducedMotion,h=z.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=z.useContext(_7);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&P1e(h.current,n,r,v);const y=z.useRef(!1);z.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const b=n[x7],S=z.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return qR(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),QR.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),z.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,b)}),S.current=!1))}),p}function P1e(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:b7(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&ag(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function b7(t){if(t)return t.options.allowProjection!==!1?t.projection:b7(t.parent)}function I1e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&y1e(t);function a(c,d){let h;const p={...z.useContext(GR),...c,layoutId:R1e(c)},{isStatic:v}=p,y=E1e(c),b=i(c,v);if(!v&&$R){k1e();const S=N1e(p);h=S.MeasureLayout,y.visualElement=A1e(r,b,p,e,S.ProjectionNode)}return w.jsxs(qE.Provider,{value:y,children:[h&&y.visualElement?w.jsx(h,{visualElement:y.visualElement,...p}):null,n(r,c,C1e(b,y.visualElement,d),b,v,y.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=z.forwardRef(a);return l[T1e]=r,l}function R1e({layoutId:t}){const e=z.useContext(HR).id;return e&&t!==void 0?e+"-"+t:t}function k1e(t,e){z.useContext(g7).strict}function N1e(t){const{drag:e,layout:n}=Bg;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const L1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZR(t){return typeof t!="string"||t.includes("-")?!1:!!(L1e.indexOf(t)>-1||/[A-Z]/u.test(t))}function K4(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ek(t,e,n,i){if(typeof e=="function"){const[r,s]=K4(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=K4(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const TP=t=>Array.isArray(t),D1e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),O1e=t=>TP(t)?t[t.length-1]||0:t,xs=t=>!!(t&&t.getVelocity);function Yb(t){const e=xs(t)?t.get():t;return D1e(e)?e.toValue():e}function F1e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:z1e(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const S7=t=>(e,n)=>{const i=z.useContext(qE),r=z.useContext($E),s=()=>F1e(t,e,i,r);return n?s():GE(s)};function z1e(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=Yb(s[p]);let{initial:o,animate:a}=t;const l=YE(t),c=y7(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!XE(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const y=ek(t,p[v]);if(y){const{transitionEnd:b,transition:S,..._}=y;for(const E in _){let T=_[E];if(Array.isArray(T)){const P=d?T.length-1:0;T=T[P]}T!==null&&(r[E]=T)}for(const E in b)r[E]=b[E]}}}return r}const cv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dp=new Set(cv),w7=t=>e=>typeof e=="string"&&e.startsWith(t),E7=w7("--"),B1e=w7("var(--"),tk=t=>B1e(t)?U1e.test(t.split("/*")[0].trim()):!1,U1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_u=(t,e,n)=>n>e?e:n<t?t:n,uv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mx={...uv,transform:t=>_u(0,1,t)},vb={...uv,default:1},t_=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sd=t_("deg"),Kl=t_("%"),Ft=t_("px"),V1e=t_("vh"),j1e=t_("vw"),J4={...Kl,parse:t=>Kl.parse(t)/100,transform:t=>Kl.transform(t*100)},W1e={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft},H1e={rotate:Sd,rotateX:Sd,rotateY:Sd,rotateZ:Sd,scale:vb,scaleX:vb,scaleY:vb,scaleZ:vb,skew:Sd,skewX:Sd,skewY:Sd,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:mx,originX:J4,originY:J4,originZ:Ft},Q4={...uv,transform:Math.round},nk={...W1e,...H1e,zIndex:Q4,size:Ft,fillOpacity:mx,strokeOpacity:mx,numOctaves:Q4},G1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$1e=cv.length;function q1e(t,e,n){let i="",r=!0;for(let s=0;s<$1e;s++){const o=cv[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=T7(a,nk[o]);if(!l){r=!1;const d=G1e[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ik(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(dp.has(l)){o=!0;continue}else if(E7(l)){r[l]=c;continue}else{const d=T7(c,nk[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=q1e(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const X1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y1e={offset:"strokeDashoffset",array:"strokeDasharray"};function K1e(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?X1e:Y1e;t[s.offset]=Ft.transform(-i);const o=Ft.transform(e),a=Ft.transform(n);t[s.array]=`${o} ${a}`}function Z4(t,e,n){return typeof t=="string"?t:Ft.transform(e+n*t)}function J1e(t,e,n){const i=Z4(e,t.x,t.width),r=Z4(n,t.y,t.height);return`${i} ${r}`}function rk(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(ik(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:y}=t;p.transform&&(y&&(v.transform=p.transform),delete p.transform),y&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=J1e(y,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&K1e(p,o,a,l,!1)}const sk=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),C7=()=>({...sk(),attrs:{}}),ok=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M7(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const A7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P7(t,e,n,i){M7(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(A7.has(r)?r:JR(r),e.attrs[r])}const _w={};function Q1e(t){Object.assign(_w,t)}function I7(t,{layout:e,layoutId:n}){return dp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_w[t]||t==="opacity")}function ak(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(xs(r[o])||e.style&&xs(e.style[o])||I7(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function R7(t,e,n){const i=ak(t,e,n);for(const r in t)if(xs(t[r])||xs(e[r])){const s=cv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function Z1e(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const eF=["x","y","width","height","cx","cy","r"],ebe={useVisualState:S7({scrapeMotionValuesFromProps:R7,createRenderState:C7,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(dp.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<eF.length;a++){const l=eF[a];t[l]!==e[l]&&(o=!0)}o&&gi.read(()=>{Z1e(n,i),gi.render(()=>{rk(i,r,ok(n.tagName),t.transformTemplate),P7(n,i)})})}})},tbe={useVisualState:S7({scrapeMotionValuesFromProps:ak,createRenderState:sk})};function k7(t,e,n){for(const i in e)!xs(e[i])&&!I7(i,n)&&(t[i]=e[i])}function nbe({transformTemplate:t},e){return z.useMemo(()=>{const n=sk();return ik(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ibe(t,e){const n=t.style||{},i={};return k7(i,n,t),Object.assign(i,nbe(t,e)),i}function rbe(t,e){const n={},i=ibe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function sbe(t,e,n,i){const r=z.useMemo(()=>{const s=C7();return rk(s,e,ok(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};k7(s,t.style,t),r.style={...s,...r.style}}return r}function obe(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(ZR(n)?sbe:rbe)(i,s,o,n),c=b1e(i,typeof n=="string",t),d=n!==z.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=z.useMemo(()=>xs(h)?h.get():h,[h]);return z.createElement(n,{...d,children:p})}}function abe(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...ZR(i)?ebe:tbe,preloadedFeatures:t,useRender:obe(r),createVisualElement:e,Component:i};return I1e(o)}}function N7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function KE(t,e,n){const i=t.getProps();return ek(i,e,n!==void 0?n:i.custom,t)}const lbe=XR(()=>window.ScrollTimeline!==void 0);class cbe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(lbe()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ube extends cbe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function lk(t,e){return t?t[e]||t.default||t:void 0}const CP=2e4;function L7(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<CP;)e+=n,i=t.next(e);return e>=CP?1/0:e}function ck(t){return typeof t=="function"}function tF(t,e){t.timeline=e,t.onfinish=null}const uk=t=>Array.isArray(t)&&typeof t[0]=="number",dbe={linearEasing:void 0};function fbe(t,e){const n=XR(t);return()=>{var i;return(i=dbe[e])!==null&&i!==void 0?i:n()}}const bw=fbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),D7=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(zg(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function O7(t){return!!(typeof t=="function"&&bw()||!t||typeof t=="string"&&(t in MP||bw())||uk(t)||Array.isArray(t)&&t.every(O7))}const Zy=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,MP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zy([0,.65,.55,1]),circOut:Zy([.55,0,1,.45]),backIn:Zy([.31,.01,.66,-.59]),backOut:Zy([.33,1.53,.69,.99])};function F7(t,e){if(t)return typeof t=="function"&&bw()?D7(t,e):uk(t)?Zy(t):Array.isArray(t)?t.map(n=>F7(n,e)||MP.easeOut):MP[t]}const Ga={x:!1,y:!1};function z7(){return Ga.x||Ga.y}function hbe(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function B7(t,e){const n=hbe(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function nF(t){return e=>{e.pointerType==="touch"||z7()||t(e)}}function pbe(t,e,n={}){const[i,r,s]=B7(t,n),o=nF(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=nF(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const U7=(t,e)=>e?t===e?!0:U7(t,e.parentElement):!1,dk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mbe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gbe(t){return mbe.has(t.tagName)||t.tabIndex!==-1}const e0=new WeakSet;function iF(t){return e=>{e.key==="Enter"&&t(e)}}function RM(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vbe=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=iF(()=>{if(e0.has(n))return;RM(n,"down");const r=iF(()=>{RM(n,"up")}),s=()=>RM(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function rF(t){return dk(t)&&!z7()}function ybe(t,e,n={}){const[i,r,s]=B7(t,n),o=a=>{const l=a.currentTarget;if(!rF(a)||e0.has(l))return;e0.add(l);const c=e(a),d=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!rF(v)||!e0.has(l))&&(e0.delete(l),typeof c=="function"&&c(v,{success:y}))},h=v=>{d(v,n.useGlobalTarget||U7(l,v.target))},p=v=>{d(v,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!gbe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>vbe(c,r),r)}),s}function xbe(t){return t==="x"||t==="y"?Ga[t]?null:(Ga[t]=!0,()=>{Ga[t]=!1}):Ga.x||Ga.y?null:(Ga.x=Ga.y=!0,()=>{Ga.x=Ga.y=!1})}const V7=new Set(["width","height","top","left","right","bottom",...cv]);let Kb;function _be(){Kb=void 0}const Jl={now:()=>(Kb===void 0&&Jl.set($r.isProcessing||m1e.useManualTiming?$r.timestamp:performance.now()),Kb),set:t=>{Kb=t,queueMicrotask(_be)}};function fk(t,e){t.indexOf(e)===-1&&t.push(e)}function hk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pk{constructor(){this.subscriptions=[]}add(e){return fk(this.subscriptions,e),()=>hk(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function j7(t,e){return e?t*(1e3/e):0}const sF=30,bbe=t=>!isNaN(parseFloat(t));class Sbe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Jl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bbe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pk);const i=this.events[e].add(n);return e==="change"?()=>{i(),gi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sF)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sF);return j7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gx(t,e){return new Sbe(t,e)}function wbe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gx(n))}function mk(t,e){const n=KE(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=O1e(s[o]);wbe(t,o,a)}}function Ebe(t){return!!(xs(t)&&t.add)}function AP(t,e){const n=t.getValue("willChange");if(Ebe(n))return n.add(e)}function W7(t){return t.props[x7]}const H7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Tbe=1e-7,Cbe=12;function Mbe(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=H7(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>Tbe&&++a<Cbe);return o}function n_(t,e,n,i){if(t===e&&n===i)return Fo;const r=s=>Mbe(s,0,1,t,n);return s=>s===0||s===1?s:H7(r(s),e,i)}const G7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$7=t=>e=>1-t(1-e),q7=n_(.33,1.53,.69,.99),gk=$7(q7),X7=G7(gk),Y7=t=>(t*=2)<1?.5*gk(t):.5*(2-Math.pow(2,-10*(t-1))),vk=t=>1-Math.sin(Math.acos(t)),K7=$7(vk),J7=G7(vk),Q7=t=>/^0[^.\s]+$/u.test(t);function Abe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Q7(t):!0}const E0=t=>Math.round(t*1e5)/1e5,yk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pbe(t){return t==null}const Ibe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xk=(t,e)=>n=>!!(typeof n=="string"&&Ibe.test(n)&&n.startsWith(t)||e&&!Pbe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Z7=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(yk);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Rbe=t=>_u(0,255,t),kM={...uv,transform:t=>Math.round(Rbe(t))},Ph={test:xk("rgb","red"),parse:Z7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+kM.transform(t)+", "+kM.transform(e)+", "+kM.transform(n)+", "+E0(mx.transform(i))+")"};function kbe(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const PP={test:xk("#"),parse:kbe,transform:Ph.transform},lg={test:xk("hsl","hue"),parse:Z7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Kl.transform(E0(e))+", "+Kl.transform(E0(n))+", "+E0(mx.transform(i))+")"},gs={test:t=>Ph.test(t)||PP.test(t)||lg.test(t),parse:t=>Ph.test(t)?Ph.parse(t):lg.test(t)?lg.parse(t):PP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ph.transform(t):lg.transform(t)},Nbe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lbe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yk))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Nbe))===null||n===void 0?void 0:n.length)||0)>0}const e9="number",t9="color",Dbe="var",Obe="var(",oF="${}",Fbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vx(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Fbe,l=>(gs.test(l)?(i.color.push(s),r.push(t9),n.push(gs.parse(l))):l.startsWith(Obe)?(i.var.push(s),r.push(Dbe),n.push(l)):(i.number.push(s),r.push(e9),n.push(parseFloat(l))),++s,oF)).split(oF);return{values:n,split:a,indexes:i,types:r}}function n9(t){return vx(t).values}function i9(t){const{split:e,types:n}=vx(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===e9?s+=E0(r[o]):a===t9?s+=gs.transform(r[o]):s+=r[o]}return s}}const zbe=t=>typeof t=="number"?0:t;function Bbe(t){const e=n9(t);return i9(t)(e.map(zbe))}const Yd={test:Lbe,parse:n9,createTransformer:i9,getAnimatableNone:Bbe},Ube=new Set(["brightness","contrast","saturate","opacity"]);function Vbe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(yk)||[];if(!i)return t;const r=n.replace(i,"");let s=Ube.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const jbe=/\b([a-z-]*)\(.*?\)/gu,IP={...Yd,getAnimatableNone:t=>{const e=t.match(jbe);return e?e.map(Vbe).join(" "):t}},Wbe={...nk,color:gs,backgroundColor:gs,outlineColor:gs,fill:gs,stroke:gs,borderColor:gs,borderTopColor:gs,borderRightColor:gs,borderBottomColor:gs,borderLeftColor:gs,filter:IP,WebkitFilter:IP},_k=t=>Wbe[t];function r9(t,e){let n=_k(t);return n!==IP&&(n=Yd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Hbe=new Set(["auto","none","0"]);function Gbe(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!Hbe.has(s)&&vx(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=r9(n,r)}const aF=t=>t===uv||t===Ft,lF=(t,e)=>parseFloat(t.split(", ")[e]),cF=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return lF(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?lF(s[1],t):0}},$be=new Set(["x","y","z"]),qbe=cv.filter(t=>!$be.has(t));function Xbe(t){const e=[];return qbe.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ug={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:cF(4,13),y:cF(5,14)};Ug.translateX=Ug.x;Ug.translateY=Ug.y;const Oh=new Set;let RP=!1,kP=!1;function s9(){if(kP){const t=Array.from(Oh).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Xbe(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kP=!1,RP=!1,Oh.forEach(t=>t.complete()),Oh.clear()}function o9(){Oh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kP=!0)})}function Ybe(){o9(),s9()}class bk{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oh.add(this),RP||(RP=!0,gi.read(o9),gi.resolveKeyframes(s9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const a9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Kbe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jbe(t){const e=Kbe.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function l9(t,e,n=1){const[i,r]=Jbe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return a9(o)?parseFloat(o):o}return tk(r)?l9(r,e,n+1):r}const c9=t=>e=>e.test(t),Qbe={test:t=>t==="auto",parse:t=>t},u9=[uv,Ft,Kl,Sd,j1e,V1e,Qbe],uF=t=>u9.find(c9(t));class d9 extends bk{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),tk(c))){const d=l9(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!V7.has(i)||e.length!==2)return;const[r,s]=e,o=uF(r),a=uF(s);if(o!==a)if(aF(o)&&aF(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)Abe(e[r])&&i.push(r);i.length&&Gbe(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ug[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ug[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const dF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yd.test(t)||t==="0")&&!t.startsWith("url("));function Zbe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eSe(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=dF(r,e),a=dF(s,e);return!o||!a?!1:Zbe(t)||(n==="spring"||ck(n))&&i}const tSe=t=>t!==null;function JE(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(tSe),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const nSe=40;class f9{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jl.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>nSe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ybe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Jl.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!eSe(e,i,r,s))if(o)this.options.duration=0;else{l&&l(JE(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ii=(t,e,n)=>t+(e-t)*n;function NM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iSe({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=NM(l,a,t+1/3),s=NM(l,a,t),o=NM(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Sw(t,e){return n=>n>0?e:t}const LM=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},rSe=[PP,Ph,lg],sSe=t=>rSe.find(e=>e.test(t));function fF(t){const e=sSe(t);if(!e)return!1;let n=e.parse(t);return e===lg&&(n=iSe(n)),n}const hF=(t,e)=>{const n=fF(t),i=fF(e);if(!n||!i)return Sw(t,e);const r={...n};return s=>(r.red=LM(n.red,i.red,s),r.green=LM(n.green,i.green,s),r.blue=LM(n.blue,i.blue,s),r.alpha=Ii(n.alpha,i.alpha,s),Ph.transform(r))},oSe=(t,e)=>n=>e(t(n)),i_=(...t)=>t.reduce(oSe),NP=new Set(["none","hidden"]);function aSe(t,e){return NP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function lSe(t,e){return n=>Ii(t,e,n)}function Sk(t){return typeof t=="number"?lSe:typeof t=="string"?tk(t)?Sw:gs.test(t)?hF:dSe:Array.isArray(t)?h9:typeof t=="object"?gs.test(t)?hF:cSe:Sw}function h9(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Sk(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function cSe(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Sk(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function uSe(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const dSe=(t,e)=>{const n=Yd.createTransformer(e),i=vx(t),r=vx(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?NP.has(t)&&!r.values.length||NP.has(e)&&!i.values.length?aSe(t,e):i_(h9(uSe(i,r),r.values),n):Sw(t,e)};function p9(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ii(t,e,n):Sk(t)(t,e)}const fSe=5;function m9(t,e,n){const i=Math.max(e-fSe,0);return j7(n-t(i),e-i)}const Fi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pF=.001;function hSe({duration:t=Fi.duration,bounce:e=Fi.bounce,velocity:n=Fi.velocity,mass:i=Fi.mass}){let r,s,o=1-e;o=_u(Fi.minDamping,Fi.maxDamping,o),t=_u(Fi.minDuration,Fi.maxDuration,cu(t)),o<1?(r=c=>{const d=c*o,h=d*t,p=d-n,v=LP(c,o),y=Math.exp(-h);return pF-p/v*y},s=c=>{const h=c*o*t,p=h*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-h),b=LP(Math.pow(c,2),o);return(-r(c)+pF>0?-1:1)*((p-v)*y)/b}):(r=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-.001+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=mSe(r,s,a);if(t=lu(t),isNaN(l))return{stiffness:Fi.stiffness,damping:Fi.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const pSe=12;function mSe(t,e,n){let i=n;for(let r=1;r<pSe;r++)i=i-t(i)/e(i);return i}function LP(t,e){return t*Math.sqrt(1-e*e)}const gSe=["duration","bounce"],vSe=["stiffness","damping","mass"];function mF(t,e){return e.some(n=>t[n]!==void 0)}function ySe(t){let e={velocity:Fi.velocity,stiffness:Fi.stiffness,damping:Fi.damping,mass:Fi.mass,isResolvedFromDuration:!1,...t};if(!mF(t,vSe)&&mF(t,gSe))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*_u(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Fi.mass,stiffness:r,damping:s}}else{const n=hSe(t);e={...e,...n,mass:Fi.mass},e.isResolvedFromDuration=!0}return e}function g9(t=Fi.visualDuration,e=Fi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:v}=ySe({...n,velocity:-cu(n.velocity||0)}),y=p||0,b=c/(2*Math.sqrt(l*d)),S=o-s,_=cu(Math.sqrt(l/d)),E=Math.abs(S)<5;i||(i=E?Fi.restSpeed.granular:Fi.restSpeed.default),r||(r=E?Fi.restDelta.granular:Fi.restDelta.default);let T;if(b<1){const k=LP(_,b);T=F=>{const D=Math.exp(-b*_*F);return o-D*((y+b*_*S)/k*Math.sin(k*F)+S*Math.cos(k*F))}}else if(b===1)T=k=>o-Math.exp(-_*k)*(S+(y+_*S)*k);else{const k=_*Math.sqrt(b*b-1);T=F=>{const D=Math.exp(-b*_*F),B=Math.min(k*F,300);return o-D*((y+b*_*S)*Math.sinh(B)+k*S*Math.cosh(B))/k}}const P={calculatedDuration:v&&h||null,next:k=>{const F=T(k);if(v)a.done=k>=h;else{let D=0;b<1&&(D=k===0?lu(y):m9(T,k,F));const B=Math.abs(D)<=i,N=Math.abs(o-F)<=r;a.done=B&&N}return a.value=a.done?o:F,a},toString:()=>{const k=Math.min(L7(P),CP),F=D7(D=>P.next(k*D).value,k,30);return k+"ms "+F}};return P}function gF({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},v=B=>a!==void 0&&B<a||l!==void 0&&B>l,y=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let b=n*e;const S=h+b,_=o===void 0?S:o(S);_!==S&&(b=_-h);const E=B=>-b*Math.exp(-B/i),T=B=>_+E(B),P=B=>{const N=E(B),R=T(B);p.done=Math.abs(N)<=c,p.value=p.done?_:R};let k,F;const D=B=>{v(p.value)&&(k=B,F=g9({keyframes:[p.value,y(p.value)],velocity:m9(T,B,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return D(0),{calculatedDuration:null,next:B=>{let N=!1;return!F&&k===void 0&&(N=!0,P(B),D(B)),k!==void 0&&B>=k?F.next(B-k):(!N&&P(B),p)}}}const xSe=n_(.42,0,1,1),_Se=n_(0,0,.58,1),v9=n_(.42,0,.58,1),bSe=t=>Array.isArray(t)&&typeof t[0]!="number",SSe={linear:Fo,easeIn:xSe,easeInOut:v9,easeOut:_Se,circIn:vk,circInOut:J7,circOut:K7,backIn:gk,backInOut:X7,backOut:q7,anticipate:Y7},vF=t=>{if(uk(t)){p7(t.length===4);const[e,n,i,r]=t;return n_(e,n,i,r)}else if(typeof t=="string")return SSe[t];return t};function wSe(t,e,n){const i=[],r=n||p9,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Fo:e;a=i_(l,a)}i.push(a)}return i}function ESe(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(p7(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=wSe(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=zg(t[h],t[h+1],d);return a[h](p)};return n?d=>c(_u(t[0],t[s-1],d)):c}function TSe(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=zg(0,e,i);t.push(Ii(n,1,r))}}function CSe(t){const e=[0];return TSe(e,t.length-1),e}function MSe(t,e){return t.map(n=>n*e)}function ASe(t,e){return t.map(()=>e||v9).splice(0,t.length-1)}function ww({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=bSe(i)?i.map(vF):vF(i),s={done:!1,value:e[0]},o=MSe(n&&n.length===e.length?n:CSe(e),t),a=ESe(o,e,{ease:Array.isArray(r)?r:ASe(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const PSe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>gi.update(e,!0),stop:()=>Xd(e),now:()=>$r.isProcessing?$r.timestamp:Jl.now()}},ISe={decay:gF,inertia:gF,tween:ww,keyframes:ww,spring:g9},RSe=t=>t/100;class wk extends f9{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||bk,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=ck(n)?n:ISe[n]||ww;let l,c;a!==ww&&typeof e[0]!="number"&&(l=i_(RSe,p9(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=L7(d));const{calculatedDuration:h}=d,p=h+r,v=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:v,repeatType:y,repeatDelay:b,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),E=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,P=s;if(v){const B=Math.min(this.currentTime,d)/h;let N=Math.floor(B),R=B%1;!R&&B>=1&&(R=1),R===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(y==="reverse"?(R=1-R,b&&(R-=b/h)):y==="mirror"&&(P=o)),T=_u(0,1,R)*h}const k=E?{done:!1,value:l[0]}:P.next(T);a&&(k.value=a(k.value));let{done:F}=k;!E&&c!==null&&(F=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return D&&r!==void 0&&(k.value=JE(l,this.options,r)),S&&S(k.value),D&&this.finish(),k}get duration(){const{resolved:e}=this;return e?cu(e.calculatedDuration):0}get time(){return cu(this.currentTime)}set time(e){e=lu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=PSe,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kSe=new Set(["opacity","clipPath","filter","transform"]);function NSe(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=F7(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const LSe=XR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ew=10,DSe=2e4;function OSe(t){return ck(t.type)||t.type==="spring"||!O7(t.ease)}function FSe(t,e){const n=new wk({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<DSe;)i=n.sample(s),r.push(i.value),s+=Ew;return{times:void 0,keyframes:r,duration:s-Ew,ease:"linear"}}const y9={anticipate:Y7,backInOut:X7,circInOut:J7};function zSe(t){return t in y9}class yF extends f9{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new d9(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&bw()&&zSe(s)&&(s=y9[s]),OSe(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:y,...b}=this.options,S=FSe(e,b);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,o="keyframes"}const d=NSe(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(tF(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(JE(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return cu(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return cu(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=lu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Fo;const{animation:i}=n;tF(i,e)}return Fo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...v}=this.options,y=new wk({...v,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),b=lu(this.time);c.setWithVelocity(y.sample(b-Ew).value,y.sample(b).value,Ew)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return LSe()&&i&&kSe.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const BSe={type:"spring",stiffness:500,damping:25,restSpeed:10},USe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VSe={type:"keyframes",duration:.8},jSe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WSe=(t,{keyframes:e})=>e.length>2?VSe:dp.has(t)?t.startsWith("scale")?USe(e[1]):BSe:jSe;function HSe({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Ek=(t,e,n,i={},r,s)=>o=>{const a=lk(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-lu(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};HSe(a)||(d={...d,...WSe(t,d)}),d.duration&&(d.duration=lu(d.duration)),d.repeatDelay&&(d.repeatDelay=lu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=JE(d.keyframes,a);if(p!==void 0)return gi.update(()=>{d.onUpdate(p),d.onComplete()}),new ube([])}return!s&&yF.supports(d)?new yF(d):new wk(d)};function GSe({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function x9(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),v=l[h];if(v===void 0||d&&GSe(d,h))continue;const y={delay:n,...lk(o||{},h)};let b=!1;if(window.MotionHandoffAnimation){const _=W7(t);if(_){const E=window.MotionHandoffAnimation(_,h,gi);E!==null&&(y.startTime=E,b=!0)}}AP(t,h),p.start(Ek(h,p,v,t.shouldReduceMotion&&V7.has(h)?{type:!1}:y,t,b));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{gi.update(()=>{a&&mk(t,a)})}),c}function DP(t,e,n={}){var i;const r=KE(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(x9(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return $Se(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function $Se(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(qSe).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(DP(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function qSe(t,e){return t.sortNodePosition(e)}function _9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>DP(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=DP(t,e,n);else{const r=typeof e=="function"?KE(t,e,n.custom):e;i=Promise.all(x9(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const XSe=KR.length;function b9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?b9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<XSe;n++){const i=KR[n],r=t.props[i];(px(r)||r===!1)&&(e[i]=r)}return e}const YSe=[...YR].reverse(),KSe=YR.length;function JSe(t){return e=>Promise.all(e.map(({animation:n,options:i})=>_9(t,n,i)))}function QSe(t){let e=JSe(t),n=xF(),i=!0;const r=l=>(c,d)=>{var h;const p=KE(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:v,transitionEnd:y,...b}=p;c={...c,...b,...y}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=b9(t.parent)||{},h=[],p=new Set;let v={},y=1/0;for(let S=0;S<KSe;S++){const _=YSe[S],E=n[_],T=c[_]!==void 0?c[_]:d[_],P=px(T),k=_===l?E.isActive:null;k===!1&&(y=S);let F=T===d[_]&&T!==c[_]&&P;if(F&&i&&t.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...v},!E.isActive&&k===null||!T&&!E.prevProp||XE(T)||typeof T=="boolean")continue;const D=ZSe(E.prevProp,T);let B=D||_===l&&E.isActive&&!F&&P||S>y&&P,N=!1;const R=Array.isArray(T)?T:[T];let U=R.reduce(r(_),{});k===!1&&(U={});const{prevResolvedValues:W={}}=E,Y={...W,...U},ee=G=>{B=!0,p.has(G)&&(N=!0,p.delete(G)),E.needsAnimating[G]=!0;const j=t.getValue(G);j&&(j.liveStyle=!1)};for(const G in Y){const j=U[G],Q=W[G];if(v.hasOwnProperty(G))continue;let ne=!1;TP(j)&&TP(Q)?ne=!N7(j,Q):ne=j!==Q,ne?j!=null?ee(G):p.add(G):j!==void 0&&p.has(G)?ee(G):E.protectedKeys[G]=!0}E.prevProp=T,E.prevResolvedValues=U,E.isActive&&(v={...v,...U}),i&&t.blockInitialAnimation&&(B=!1),B&&(!(F&&D)||N)&&h.push(...R.map(G=>({animation:G,options:{type:_}})))}if(p.size){const S={};p.forEach(_=>{const E=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),S[_]=E??null}),h.push({animation:S})}let b=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=xF(),i=!0}}}function ZSe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N7(e,t):!1}function dh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xF(){return{animate:dh(!0),whileInView:dh(),whileHover:dh(),whileTap:dh(),whileDrag:dh(),whileFocus:dh(),exit:dh()}}class of{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ewe extends of{constructor(e){super(e),e.animationState||(e.animationState=QSe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();XE(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let twe=0;class nwe extends of{constructor(){super(...arguments),this.id=twe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const iwe={animation:{Feature:ewe},exit:{Feature:nwe}};function yx(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function r_(t){return{point:{x:t.pageX,y:t.pageY}}}const rwe=t=>e=>dk(e)&&t(e,r_(e));function T0(t,e,n,i){return yx(t,e,rwe(n),i)}const _F=(t,e)=>Math.abs(t-e);function swe(t,e){const n=_F(t.x,e.x),i=_F(t.y,e.y);return Math.sqrt(n**2+i**2)}class S9{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=OM(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=swe(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:y}=h,{timestamp:b}=$r;this.history.push({...y,timestamp:b});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=DM(p,this.transformPagePoint),gi.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=OM(h.type==="pointercancel"?this.lastMoveEventInfo:DM(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,S),y&&y(h,S)},!dk(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=r_(e),a=DM(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=$r;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,OM(a,this.history)),this.removeListeners=i_(T0(this.contextWindow,"pointermove",this.handlePointerMove),T0(this.contextWindow,"pointerup",this.handlePointerUp),T0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xd(this.updatePoint)}}function DM(t,e){return e?{point:e(t.point)}:t}function bF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function OM({point:t},e){return{point:t,delta:bF(t,w9(e)),offset:bF(t,owe(e)),velocity:awe(e,.1)}}function owe(t){return t[0]}function w9(t){return t[t.length-1]}function awe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=w9(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>lu(e)));)n--;if(!i)return{x:0,y:0};const s=cu(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const E9=1e-4,lwe=1-E9,cwe=1+E9,T9=.01,uwe=0-T9,dwe=0+T9;function Vo(t){return t.max-t.min}function fwe(t,e,n){return Math.abs(t-e)<=n}function SF(t,e,n,i=.5){t.origin=i,t.originPoint=Ii(e.min,e.max,t.origin),t.scale=Vo(n)/Vo(e),t.translate=Ii(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lwe&&t.scale<=cwe||isNaN(t.scale))&&(t.scale=1),(t.translate>=uwe&&t.translate<=dwe||isNaN(t.translate))&&(t.translate=0)}function C0(t,e,n,i){SF(t.x,e.x,n.x,i?i.originX:void 0),SF(t.y,e.y,n.y,i?i.originY:void 0)}function wF(t,e,n){t.min=n.min+e.min,t.max=t.min+Vo(e)}function hwe(t,e,n){wF(t.x,e.x,n.x),wF(t.y,e.y,n.y)}function EF(t,e,n){t.min=e.min-n.min,t.max=t.min+Vo(e)}function M0(t,e,n){EF(t.x,e.x,n.x),EF(t.y,e.y,n.y)}function pwe(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ii(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ii(n,t,i.max):Math.min(t,n)),t}function TF(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mwe(t,{top:e,left:n,bottom:i,right:r}){return{x:TF(t.x,n,r),y:TF(t.y,e,i)}}function CF(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function gwe(t,e){return{x:CF(t.x,e.x),y:CF(t.y,e.y)}}function vwe(t,e){let n=.5;const i=Vo(t),r=Vo(e);return r>i?n=zg(e.min,e.max-i,t.min):i>r&&(n=zg(t.min,t.max-r,e.min)),_u(0,1,n)}function ywe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const OP=.35;function xwe(t=OP){return t===!1?t=0:t===!0&&(t=OP),{x:MF(t,"left","right"),y:MF(t,"top","bottom")}}function MF(t,e,n){return{min:AF(t,e),max:AF(t,n)}}function AF(t,e){return typeof t=="number"?t:t[e]||0}const PF=()=>({translate:0,scale:1,origin:0,originPoint:0}),cg=()=>({x:PF(),y:PF()}),IF=()=>({min:0,max:0}),Hi=()=>({x:IF(),y:IF()});function sa(t){return[t("x"),t("y")]}function C9({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function _we({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bwe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function FM(t){return t===void 0||t===1}function FP({scale:t,scaleX:e,scaleY:n}){return!FM(t)||!FM(e)||!FM(n)}function vh(t){return FP(t)||M9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function M9(t){return RF(t.x)||RF(t.y)}function RF(t){return t&&t!=="0%"}function Tw(t,e,n){const i=t-n,r=e*i;return n+r}function kF(t,e,n,i,r){return r!==void 0&&(t=Tw(t,r,i)),Tw(t,n,i)+e}function zP(t,e=0,n=1,i,r){t.min=kF(t.min,e,n,i,r),t.max=kF(t.max,e,n,i,r)}function A9(t,{x:e,y:n}){zP(t.x,e.translate,e.scale,e.originPoint),zP(t.y,n.translate,n.scale,n.originPoint)}const NF=.999999999999,LF=1.0000000000001;function Swe(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&dg(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A9(t,o)),i&&vh(s.latestValues)&&dg(t,s.latestValues))}e.x<LF&&e.x>NF&&(e.x=1),e.y<LF&&e.y>NF&&(e.y=1)}function ug(t,e){t.min=t.min+e,t.max=t.max+e}function DF(t,e,n,i,r=.5){const s=Ii(t.min,t.max,r);zP(t,e,n,s,i)}function dg(t,e){DF(t.x,e.x,e.scaleX,e.scale,e.originX),DF(t.y,e.y,e.scaleY,e.scale,e.originY)}function P9(t,e){return C9(bwe(t.getBoundingClientRect(),e))}function wwe(t,e,n){const i=P9(t,n),{scroll:r}=e;return r&&(ug(i.x,r.offset.x),ug(i.y,r.offset.y)),i}const I9=({current:t})=>t?t.ownerDocument.defaultView:null,Ewe=new WeakMap;class Twe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(r_(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xbe(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sa(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Kl.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[S];T&&(_=Vo(T)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&gi.postRender(()=>y(d,h)),AP(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(v&&this.currentDirection===null){this.currentDirection=Cwe(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),l=()=>sa(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new S9(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:I9(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&gi.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!yb(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=pwe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ag(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=mwe(r.layoutBox,n):this.constraints=!1,this.elastic=xwe(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sa(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ywe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ag(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=wwe(i,r.root,this.visualElement.getTransformPagePoint());let o=gwe(r.layout.layoutBox,s);if(n){const a=n(_we(o));this.hasMutatedConstraints=!!a,a&&(o=C9(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=sa(d=>{if(!yb(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,v=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return AP(this.visualElement,e),i.start(Ek(e,i,0,n,this.visualElement,!1))}stopAnimation(){sa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sa(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){sa(n=>{const{drag:i}=this.getProps();if(!yb(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Ii(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ag(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};sa(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=vwe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),sa(o=>{if(!yb(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ii(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Ewe.set(this.visualElement,this);const e=this.visualElement.current,n=T0(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();ag(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),gi.read(i);const o=yx(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(sa(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=OP,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Cwe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Mwe extends of{constructor(e){super(e),this.removeGroupControls=Fo,this.removeListeners=Fo,this.controls=new Twe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fo}unmount(){this.removeGroupControls(),this.removeListeners()}}const OF=t=>(e,n)=>{t&&gi.postRender(()=>t(e,n))};class Awe extends of{constructor(){super(...arguments),this.removePointerDownListener=Fo}onPointerDown(e){this.session=new S9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:OF(e),onStart:OF(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&gi.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=T0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ft.test(t))t=parseFloat(t);else return t;const n=FF(t,e.target.x),i=FF(t,e.target.y);return`${n}% ${i}%`}},Pwe={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Yd.parse(t);if(r.length>5)return i;const s=Yd.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Ii(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class Iwe extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Q1e(Rwe),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||gi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),QR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R9(t){const[e,n]=f7(),i=z.useContext(HR);return w.jsx(Iwe,{...t,layoutGroup:i,switchLayoutGroup:z.useContext(_7),isPresent:e,safeToRemove:n})}const Rwe={borderRadius:{...jy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jy,borderTopRightRadius:jy,borderBottomLeftRadius:jy,borderBottomRightRadius:jy,boxShadow:Pwe};function kwe(t,e,n){const i=xs(t)?t:gx(t);return i.start(Ek("",i,e,n)),i.animation}function Nwe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Lwe=(t,e)=>t.depth-e.depth;class Dwe{constructor(){this.children=[],this.isDirty=!1}add(e){fk(this.children,e),this.isDirty=!0}remove(e){hk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lwe),this.isDirty=!1,this.children.forEach(e)}}function Owe(t,e){const n=Jl.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Xd(i),t(s-e))};return gi.read(i,!0),()=>Xd(i)}const k9=["TopLeft","TopRight","BottomLeft","BottomRight"],Fwe=k9.length,zF=t=>typeof t=="string"?parseFloat(t):t,BF=t=>typeof t=="number"||Ft.test(t);function zwe(t,e,n,i,r,s){r?(t.opacity=Ii(0,n.opacity!==void 0?n.opacity:1,Bwe(i)),t.opacityExit=Ii(e.opacity!==void 0?e.opacity:1,0,Uwe(i))):s&&(t.opacity=Ii(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<Fwe;o++){const a=`border${k9[o]}Radius`;let l=UF(e,a),c=UF(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||BF(l)===BF(c)?(t[a]=Math.max(Ii(zF(l),zF(c),i),0),(Kl.test(c)||Kl.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ii(e.rotate||0,n.rotate||0,i))}function UF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bwe=N9(0,.5,K7),Uwe=N9(.5,.95,Fo);function N9(t,e,n){return i=>i<t?0:i>e?1:n(zg(t,e,i))}function VF(t,e){t.min=e.min,t.max=e.max}function ra(t,e){VF(t.x,e.x),VF(t.y,e.y)}function jF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WF(t,e,n,i,r){return t-=e,t=Tw(t,1/n,i),r!==void 0&&(t=Tw(t,1/r,i)),t}function Vwe(t,e=0,n=1,i=.5,r,s=t,o=t){if(Kl.test(e)&&(e=parseFloat(e),e=Ii(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ii(s.min,s.max,i);t===s&&(a-=e),t.min=WF(t.min,e,n,a,r),t.max=WF(t.max,e,n,a,r)}function HF(t,e,[n,i,r],s,o){Vwe(t,e[n],e[i],e[r],e.scale,s,o)}const jwe=["x","scaleX","originX"],Wwe=["y","scaleY","originY"];function GF(t,e,n,i){HF(t.x,e,jwe,n?n.x:void 0,i?i.x:void 0),HF(t.y,e,Wwe,n?n.y:void 0,i?i.y:void 0)}function $F(t){return t.translate===0&&t.scale===1}function L9(t){return $F(t.x)&&$F(t.y)}function qF(t,e){return t.min===e.min&&t.max===e.max}function Hwe(t,e){return qF(t.x,e.x)&&qF(t.y,e.y)}function XF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function D9(t,e){return XF(t.x,e.x)&&XF(t.y,e.y)}function YF(t){return Vo(t.x)/Vo(t.y)}function KF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Gwe{constructor(){this.members=[]}add(e){fk(this.members,e),e.scheduleRender()}remove(e){if(hk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $we(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:v,skewY:y}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),v&&(i+=`skewX(${v}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const yh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},t0=typeof window<"u"&&window.MotionDebug!==void 0,zM=["","X","Y","Z"],qwe={visibility:"hidden"},JF=1e3;let Xwe=0;function BM(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function O9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=W7(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gi,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&O9(i)}function F9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Xwe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,t0&&(yh.totalNodes=yh.resolvedTargetDeltas=yh.recalculatedProjection=0),this.nodes.forEach(Jwe),this.nodes.forEach(nEe),this.nodes.forEach(iEe),this.nodes.forEach(Qwe),t0&&window.MotionDebug.record(yh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dwe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pk),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Nwe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Owe(p,250),Jb.hasAnimatedSinceResize&&(Jb.hasAnimatedSinceResize=!1,this.nodes.forEach(ZF))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||lEe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),E=!this.targetLayout||!D9(this.targetLayout,y)||v,T=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const P={...lk(b,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||ZF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rEe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QF);return}this.isUpdating||this.nodes.forEach(eEe),this.isUpdating=!1,this.nodes.forEach(tEe),this.nodes.forEach(Ywe),this.nodes.forEach(Kwe),this.clearAllSnapshots();const a=Jl.now();$r.delta=_u(0,1e3/60,a-$r.timestamp),$r.timestamp=a,$r.isProcessing=!0,IM.update.process($r),IM.preRender.process($r),IM.render.process($r),$r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zwe),this.sharedNodes.forEach(sEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!L9(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||vh(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cEe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Hi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(uEe))){const{scroll:d}=this.root;d&&(ug(l.x,d.offset.x),ug(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Hi();if(ra(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&ra(l,o),ug(l.x,h.offset.x),ug(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Hi();ra(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&dg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vh(d.latestValues)&&dg(l,d.latestValues)}return vh(this.latestValues)&&dg(l,this.latestValues),l}removeTransform(o){const a=Hi();ra(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vh(c.latestValues))continue;FP(c.latestValues)&&c.updateSnapshot();const d=Hi(),h=c.measurePageBox();ra(d,h),GF(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return vh(this.latestValues)&&GF(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=$r.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),M0(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hi(),this.targetWithTransforms=Hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hwe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ra(this.target,this.layout.layoutBox),A9(this.target,this.targetDelta)):ra(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),M0(this.relativeTargetOrigin,this.target,v.target),ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}t0&&yh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||FP(this.parent.latestValues)||M9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$r.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ra(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;Swe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hi());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jF(this.prevProjectionDelta.x,this.projectionDelta.x),jF(this.prevProjectionDelta.y,this.projectionDelta.y)),C0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!KF(this.projectionDelta.x,this.prevProjectionDelta.x)||!KF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),t0&&yh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cg(),this.projectionDelta=cg(),this.projectionDeltaWithTransform=cg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=cg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Hi(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=v!==y,S=this.getStack(),_=!S||S.members.length<=1,E=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(aEe));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;e5(h.x,o.x,k),e5(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(M0(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oEe(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&Hwe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Hi()),ra(T,this.relativeTarget)),b&&(this.animationValues=d,zwe(d,c,this.latestValues,k,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gi.update(()=>{Jb.hasAnimatedSinceResize=!0,this.currentAnimation=kwe(0,JF,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&z9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Hi();const h=Vo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Vo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ra(a,l),dg(a,d),C0(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gwe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&BM("z",o,c,this.animationValues);for(let d=0;d<zM.length;d++)BM(`rotate${zM[d]}`,o,c,this.animationValues),BM(`skew${zM[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qwe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Yb(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Yb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vh(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=$we(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in _w){if(p[b]===void 0)continue;const{correct:S,applyTo:_}=_w[b],E=c.transform==="none"?p[b]:S(p[b],h);if(_){const T=_.length;for(let P=0;P<T;P++)c[_[P]]=E}else c[b]=E}return this.options.layoutId&&(c.pointerEvents=h===this?Yb(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(QF),this.root.sharedNodes.clear()}}}function Ywe(t){t.updateLayout()}function Kwe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?sa(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=Vo(p);p.min=i[h].min,p.max=p.min+v}):z9(s,n.layoutBox,i)&&sa(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=Vo(i[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=cg();C0(a,i,n.layoutBox);const l=cg();o?C0(l,t.applyTransform(r,!0),n.measuredBox):C0(l,i,n.layoutBox);const c=!L9(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const y=Hi();M0(y,n.layoutBox,p.layoutBox);const b=Hi();M0(b,i,v.layoutBox),D9(y,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Jwe(t){t0&&yh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qwe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Zwe(t){t.clearSnapshot()}function QF(t){t.clearMeasurements()}function eEe(t){t.isLayoutDirty=!1}function tEe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nEe(t){t.resolveTargetDelta()}function iEe(t){t.calcProjection()}function rEe(t){t.resetSkewAndRotation()}function sEe(t){t.removeLeadSnapshot()}function e5(t,e,n){t.translate=Ii(e.translate,0,n),t.scale=Ii(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t5(t,e,n,i){t.min=Ii(e.min,n.min,i),t.max=Ii(e.max,n.max,i)}function oEe(t,e,n,i){t5(t.x,e.x,n.x,i),t5(t.y,e.y,n.y,i)}function aEe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lEe={duration:.45,ease:[.4,0,.1,1]},n5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),i5=n5("applewebkit/")&&!n5("chrome/")?Math.round:Fo;function r5(t){t.min=i5(t.min),t.max=i5(t.max)}function cEe(t){r5(t.x),r5(t.y)}function z9(t,e,n){return t==="position"||t==="preserve-aspect"&&!fwe(YF(e),YF(n),.2)}function uEe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const dEe=F9({attachResizeListener:(t,e)=>yx(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),UM={current:void 0},B9=F9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!UM.current){const t=new dEe({});t.mount(window),t.setOptions({layoutScroll:!0}),UM.current=t}return UM.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fEe={pan:{Feature:Awe},drag:{Feature:Mwe,ProjectionNode:B9,MeasureLayout:R9}};function s5(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&gi.postRender(()=>s(e,r_(e)))}class hEe extends of{mount(){const{current:e}=this.node;e&&(this.unmount=pbe(e,n=>(s5(this.node,n,"Start"),i=>s5(this.node,i,"End"))))}unmount(){}}class pEe extends of{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=i_(yx(this.node.current,"focus",()=>this.onFocus()),yx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o5(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&gi.postRender(()=>s(e,r_(e)))}class mEe extends of{mount(){const{current:e}=this.node;e&&(this.unmount=ybe(e,n=>(o5(this.node,n,"Start"),(i,{success:r})=>o5(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BP=new WeakMap,VM=new WeakMap,gEe=t=>{const e=BP.get(t.target);e&&e(t)},vEe=t=>{t.forEach(gEe)};function yEe({root:t,...e}){const n=t||document;VM.has(n)||VM.set(n,{});const i=VM.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(vEe,{root:t,...e})),i[r]}function xEe(t,e,n){const i=yEe(e);return BP.set(t,n),i.observe(t),()=>{BP.delete(t),i.unobserve(t)}}const _Ee={some:0,all:1};class bEe extends of{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:_Ee[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return xEe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SEe(e,n))&&this.startObserver()}unmount(){}}function SEe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wEe={inView:{Feature:bEe},tap:{Feature:mEe},focus:{Feature:pEe},hover:{Feature:hEe}},EEe={layout:{ProjectionNode:B9,MeasureLayout:R9}},UP={current:null},U9={current:!1};function TEe(){if(U9.current=!0,!!$R)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>UP.current=t.matches;t.addListener(e),e()}else UP.current=!1}const CEe=[...u9,gs,Yd],MEe=t=>CEe.find(c9(t)),a5=new WeakMap;function AEe(t,e,n){for(const i in e){const r=e[i],s=n[i];if(xs(r))t.addValue(i,r);else if(xs(s))t.addValue(i,gx(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,gx(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const l5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PEe{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Jl.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,gi.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=YE(n),this.isVariantNode=y7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const y=p[v];l[v]!==void 0&&xs(y)&&y.set(l[v],!1)}}mount(e){this.current=e,a5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),U9.current||TEe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:UP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){a5.delete(this.current),this.projection&&this.projection.unmount(),Xd(this.notifyUpdate),Xd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=dp.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&gi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bg){const n=Bg[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<l5.length;i++){const r=l5[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=AEe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=gx(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(a9(r)||Q7(r))?r=parseFloat(r):!MEe(r)&&Yd.test(n)&&(r=r9(e,n)),this.setBaseTarget(e,xs(r)?r.get():r)),xs(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=ek(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xs(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pk),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class V9 extends PEe{constructor(){super(...arguments),this.KeyframeResolver=d9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IEe(t){return window.getComputedStyle(t)}class REe extends V9{constructor(){super(...arguments),this.type="html",this.renderInstance=M7}readValueFromInstance(e,n){if(dp.has(n)){const i=_k(n);return i&&i.default||0}else{const i=IEe(e),r=(E7(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P9(e,n)}build(e,n,i){ik(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ak(e,n,i)}}class kEe extends V9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dp.has(n)){const i=_k(n);return i&&i.default||0}return n=A7.has(n)?n:JR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return R7(e,n,i)}build(e,n,i){rk(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){P7(e,n,i,r)}mount(e){this.isSVGTag=ok(e.tagName),super.mount(e)}}const NEe=(t,e)=>ZR(t)?new kEe(e):new REe(e,{allowProjection:t!==z.Fragment}),LEe=abe({...iwe,...wEe,...fEe,...EEe},NEe),Rt=S1e(LEe);function DEe(t){t.values.forEach(e=>e.stop())}function VP(t,e){[...e].reverse().forEach(i=>{const r=t.getVariant(i);r&&mk(t,r),t.variantChildren&&t.variantChildren.forEach(s=>{VP(s,e)})})}function OEe(t,e){if(Array.isArray(e))return VP(t,e);if(typeof e=="string")return VP(t,[e]);mk(t,e)}function FEe(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,i){const r=[];return t.forEach(s=>{r.push(_9(s,n,{transitionOverride:i}))}),Promise.all(r)},set(n){return t.forEach(i=>{OEe(i,n)})},stop(){t.forEach(n=>{DEe(n)})},mount(){return()=>{e.stop()}}};return e}function zEe(){const t=GE(FEe);return qR(t.mount,[]),t}const BEe=zEe;function UEe({rotationY:t,...e}){const n=z.useRef(null);return e7(()=>{n.current&&Xb.damp(n.current.rotation,"y",t,.1,.005)}),w.jsx("group",{ref:n,...e})}function VEe({radius:t=1.5,count:e=9}){return Array.from({length:e},(n,i)=>w.jsx(jEe,{url:` /img${i%3+1}_.png`,position:[Math.sin(i/e*Math.PI*2)*t,0,Math.cos(i/e*Math.PI*2)*t],rotation:[0,i/e*Math.PI*2,0]},i))}function jEe({url:t,...e}){const n=z.useRef(null),[i,r]=z.useState(!1),s=a=>(a.stopPropagation(),r(!0)),o=()=>r(!1);return e7((a,l)=>{n.current&&(Xb.damp3(n.current.scale,i?1.15:1,.1,l),Xb.damp(n.current.material,"radius",i?.25:.03,.2,l),Xb.damp(n.current.material,"zoom",i?1:1.1,.2,l))}),w.jsx(z_e,{ref:n,url:t,transparent:!0,side:Ja,onPointerOver:s,onPointerOut:o,...e,children:w.jsx("planeGeometry",{args:[1,1,1,20]})})}const WEe=()=>{const[t,e]=z.useState(0),[n,i]=z.useState(0),[r,s]=z.useState(null),[o,a]=z.useState(null),l=pb[t],c=()=>{e(y=>(y+1)%pb.length),i(y=>y-Math.PI/4.5)},d=()=>{e(y=>(y-1+pb.length)%pb.length),i(y=>y+Math.PI/4.5)},h=(y,b)=>{r&&r.pause();const S=new Audio(y);s(S),S.play(),a(b)},[p,v]=z.useState(0);return z.useEffect(()=>{const y=()=>{const b=window.scrollY,S=window.innerHeight,_=S*.5,E=S*.8;if(b>_&&b<E){const T=(b-_)/(E-_);v(T)}else b>=E?(v(1),window.removeEventListener("scroll",y)):v(0)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),w.jsx("div",{style:{color:"#ffffff",backgroundColor:"#09090b",width:"100%",padding:"20px"},children:w.jsx("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:w.jsxs("div",{className:"album-content",style:{display:"flex",gap:"4rem"},children:[w.jsx(Rt.div,{className:"left-section",style:{flex:1},initial:{opacity:0,y:50},animate:{opacity:p,y:0},transition:{duration:1},children:w.jsx("div",{className:"canvas-container",style:{height:"100%"},children:w.jsxs(i_e,{className:"canvas",style:{backgroundColor:"#09090b"},children:[w.jsx("ambientLight",{}),w.jsx(UEe,{scale:[1.95,1.95,2],rotationY:n,children:w.jsx(VEe,{})})]})})}),w.jsxs(Rt.div,{className:"right-section",style:{flex:1},initial:{opacity:0,x:50},animate:{opacity:p,x:0},transition:{duration:1},children:[w.jsxs("div",{className:"title-and-navigation",children:[w.jsx("h1",{className:"album-title",children:l.title}),w.jsxs("div",{className:"album-navigation",children:[w.jsxs("button",{onClick:d,className:"nav-button prev-button",children:[w.jsx($_e,{size:20}),"Previous"]}),w.jsxs("button",{onClick:c,className:"nav-button next-button",children:["Next",w.jsx(X_e,{size:20})]})]})]}),w.jsx("div",{className:"tracklist-container",children:l.songs.map((y,b)=>w.jsxs(Rt.div,{className:"track-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1,duration:.5},children:[w.jsxs("div",{className:"track-info",children:[w.jsx("span",{className:"track-number",children:(b+1).toString().padStart(2,"0")}),w.jsx("span",{className:"track-title",children:y.title})]}),w.jsxs("div",{className:"track-actions",children:[w.jsx("span",{className:"track-duration",children:y.duration}),w.jsx(Do,{"aria-label":o===b&&r&&!r.paused?"Pause":"Play",onClick:()=>{o===b&&r&&!r.paused?(r.pause(),a(null)):h(y.link,b)},bg:"red.500",color:"white",borderRadius:"50%",p:2,_hover:{bg:"red.600",transform:"scale(1.1)"},children:o===b&&r&&!r.paused?w.jsx(Xde,{}):w.jsx(Yde,{})})]})]},b))})]})]})})})};function c5(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Tk(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:c5(e[i])&&c5(t[i])&&Object.keys(e[i]).length>0&&Tk(t[i],e[i])})}const j9={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ol(){const t=typeof document<"u"?document:{};return Tk(t,j9),t}const HEe={document:j9,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ws(){const t=typeof window<"u"?window:{};return Tk(t,HEe),t}function wd(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function GEe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Cw(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Mw(){return Date.now()}function $Ee(t){const e=ws();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function qEe(t,e){e===void 0&&(e="x");const n=ws();let i,r,s;const o=$Ee(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function xb(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function XEe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Io(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!XEe(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(xb(t[a])&&xb(i[a])?i[a].__swiper__?t[a]=i[a]:Io(t[a],i[a]):!xb(t[a])&&xb(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Io(t[a],i[a])):t[a]=i[a])}}}return t}function _b(t,e,n){t.style.setProperty(e,n)}function W9(t){let{swiper:e,targetPosition:n,side:i}=t;const r=ws(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",d=(p,v)=>c==="next"&&p>=v||c==="prev"&&p<=v,h=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),v=.5-Math.cos(p*Math.PI)/2;let y=s+v*(n-s);if(d(y,n)&&(y=n),e.wrapperEl.scrollTo({[i]:y}),d(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:y})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(h)};h()}function Vl(t,e){e===void 0&&(e="");const n=ws(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function YEe(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function KEe(t,e){const n=ws();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=YEe(t,e))),i}function Aw(t){try{console.warn(t);return}catch{}}function Vg(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:wd(e)),n}function JEe(t){const e=ws(),n=ol(),i=t.getBoundingClientRect(),r=n.body,s=t.clientTop||r.clientTop||0,o=t.clientLeft||r.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}function QEe(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function ZEe(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Ld(t,e){return ws().getComputedStyle(t,null).getPropertyValue(e)}function xx(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function H9(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function jP(t,e,n){const i=ws();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function gn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let jM;function eTe(){const t=ws(),e=ol();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function G9(){return jM||(jM=eTe()),jM}let WM;function tTe(t){let{userAgent:e}=t===void 0?{}:t;const n=G9(),i=ws(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=r==="Win32";let y=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&n.touch&&b.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!v&&(o.os="android",o.android=!0),(d||p||h)&&(o.os="ios",o.ios=!0),o}function $9(t){return t===void 0&&(t={}),WM||(WM=tTe(t)),WM}let HM;function nTe(){const t=ws(),e=$9();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function q9(){return HM||(HM=nTe()),HM}function iTe(t){let{swiper:e,on:n,emit:i}=t;const r=ws();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=r.requestAnimationFrame(()=>{const{width:p,height:v}=e;let y=p,b=v;h.forEach(S=>{let{contentBoxSize:_,contentRect:E,target:T}=S;T&&T!==e.el||(y=E?E.width:(_[0]||_).inlineSize,b=E?E.height:(_[0]||_).blockSize)}),(y!==p||b!==v)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function rTe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],o=ws(),a=function(d,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,v=new p(y=>{if(e.__preventObserver__)return;if(y.length===1){r("observerUpdate",y[0]);return}const b=function(){r("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});v.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(v)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=H9(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var sTe={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function oTe(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ld(i,"padding-left")||0,10)-parseInt(Ld(i,"padding-right")||0,10),n=n-parseInt(Ld(i,"padding-top")||0,10)-parseInt(Ld(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function aTe(){const t=this;function e(R,U){return parseFloat(R.getPropertyValue(t.getDirectionLabel(U))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=Vl(r,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let p=[];const v=[],y=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(t));const _=t.snapGrid.length,E=t.slidesGrid.length;let T=n.spaceBetween,P=-b,k=0,F=0;if(typeof s>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*s:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T,d.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(_b(i,"--swiper-centered-offset-before",""),_b(i,"--swiper-centered-offset-after",""));const D=n.grid&&n.grid.rows>1&&t.grid;D?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let B;const N=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<h;R+=1){B=0;let U;if(d[R]&&(U=d[R]),D&&t.grid.updateSlide(R,U,d),!(d[R]&&Ld(U,"display")==="none")){if(n.slidesPerView==="auto"){N&&(d[R].style[t.getDirectionLabel("width")]="");const W=getComputedStyle(U),Y=U.style.transform,ee=U.style.webkitTransform;if(Y&&(U.style.transform="none"),ee&&(U.style.webkitTransform="none"),n.roundLengths)B=t.isHorizontal()?jP(U,"width"):jP(U,"height");else{const K=e(W,"width"),Z=e(W,"padding-left"),G=e(W,"padding-right"),j=e(W,"margin-left"),Q=e(W,"margin-right"),ne=W.getPropertyValue("box-sizing");if(ne&&ne==="border-box")B=K+j+Q;else{const{clientWidth:q,offsetWidth:ae}=U;B=K+Z+G+j+Q+(ae-q)}}Y&&(U.style.transform=Y),ee&&(U.style.webkitTransform=ee),n.roundLengths&&(B=Math.floor(B))}else B=(s-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(B=Math.floor(B)),d[R]&&(d[R].style[t.getDirectionLabel("width")]=`${B}px`);d[R]&&(d[R].swiperSlideSize=B),y.push(B),n.centeredSlides?(P=P+B/2+k/2+T,k===0&&R!==0&&(P=P-s/2-T),R===0&&(P=P-s/2-T),Math.abs(P)<1/1e3&&(P=0),n.roundLengths&&(P=Math.floor(P)),F%n.slidesPerGroup===0&&p.push(P),v.push(P)):(n.roundLengths&&(P=Math.floor(P)),(F-Math.min(t.params.slidesPerGroupSkip,F))%t.params.slidesPerGroup===0&&p.push(P),v.push(P),P=P+B+T),t.virtualSize+=B+T,k=B,F+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+S,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+T}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),D&&t.grid.updateWrapperSize(B,p),!n.centeredSlides){const R=[];for(let U=0;U<p.length;U+=1){let W=p[U];n.roundLengths&&(W=Math.floor(W)),p[U]<=t.virtualSize-s&&R.push(W)}p=R,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const R=y[0]+T;if(n.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),W=R*n.slidesPerGroup;for(let Y=0;Y<U;Y+=1)p.push(p[p.length-1]+W)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+R),v.push(v[v.length-1]+R),t.virtualSize+=R}if(p.length===0&&(p=[0]),T!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((U,W)=>!n.cssMode||n.loop?!0:W!==d.length-1).forEach(U=>{U.style[R]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;y.forEach(W=>{R+=W+(T||0)}),R-=T;const U=R>s?R-s:0;p=p.map(W=>W<=0?-b:W>U?U+S:W)}if(n.centerInsufficientSlides){let R=0;y.forEach(W=>{R+=W+(T||0)}),R-=T;const U=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+U<s){const W=(s-R-U)/2;p.forEach((Y,ee)=>{p[ee]=Y-W}),v.forEach((Y,ee)=>{v[ee]=Y+W})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:v,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){_b(i,"--swiper-centered-offset-before",`${-p[0]}px`),_b(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const R=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(W=>W+R),t.slidesGrid=t.slidesGrid.map(W=>W+U)}if(h!==c&&t.emit("slidesLengthChange"),p.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),v.length!==E&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,U=t.el.classList.contains(R);h<=n.maxBackfaceHiddenSlides?U||t.el.classList.add(R):U&&t.el.classList.remove(R)}}function lTe(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function cTe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const u5=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function uTe(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),v=-(o-d),y=v+e.slidesSizesGrid[l],b=v>=0&&v<=e.size-e.slidesSizesGrid[l],S=v>=0&&v<e.size-1||y>1&&y<=e.size||v<=0&&y>=e.size;S&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),u5(c,S,n.slideVisibleClass),u5(c,b,n.slideFullyVisibleClass),c.progress=r?-h:h,c.originalProgress=r?-p:p}}function dTe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||r<=0,o=h||r>=1,d&&(r=0),h&&(r=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],v=e.slidesGrid[h],y=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=p?a=(b-p)/y:a=(b+y-v)/y,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const GM=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function fTe(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Vl(i,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,c,d;if(s)if(n.loop){let h=r-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.find(h=>h.column===r),d=e.find(h=>h.column===r+1),c=e.find(h=>h.column===r-1)):l=e[r];l&&(o||(d=ZEe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=QEe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(h=>{GM(h,h===l,n.slideActiveClass),GM(h,h===d,n.slideNextClass),GM(h,h===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Qb=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},$M=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},WP=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&$M(t,c)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&$M(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&$M(t,o)};function hTe(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function pTe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,c;const d=v=>{let y=v-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof l>"u"&&(l=hTe(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const v=Math.min(r.slidesPerGroupSkip,l);c=v+Math.floor((l-v)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(l);else if(h){const v=e.slides.find(b=>b.column===l);let y=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(v),0)),p=Math.floor(y/r.grid.rows)}else if(e.slides[l]){const v=e.slides[l].getAttribute("data-swiper-slide-index");v?p=parseInt(v,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&WP(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function mTe(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var gTe={updateSize:oTe,updateSlides:aTe,updateAutoHeight:lTe,updateSlidesOffset:cTe,updateSlidesProgress:uTe,updateProgress:dTe,updateSlidesClasses:fTe,updateActiveIndex:pTe,updateClickedSlide:mTe};function vTe(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=qEe(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function yTe(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function xTe(){return-this.snapGrid[0]}function _Te(){return-this.snapGrid[this.snapGrid.length-1]}function bTe(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let d;if(i&&t>l?d=l:i&&t<c?d=c:d=t,s.updateProgress(d),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return W9({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var STe={getTranslate:vTe,setTranslate:yTe,minTranslate:xTe,maxTranslate:_Te,translateTo:bTe};function wTe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function X9(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function ETe(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),X9({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function TTe(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),X9({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var CTe={setTransition:wTe,transitionStart:ETe,transitionEnd:TTe};function MTe(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:p,wrapperEl:v,enabled:y}=s;if(!y&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const b=Math.min(s.params.slidesPerGroupSkip,o);let S=b+Math.floor((o-b)/s.params.slidesPerGroup);S>=l.length&&(S=l.length-1);const _=-l[S];if(a.normalizeSlideIndex)for(let D=0;D<c.length;D+=1){const B=-Math.floor(_*100),N=Math.floor(c[D]*100),R=Math.floor(c[D+1]*100);typeof c[D+1]<"u"?B>=N&&B<R-(R-N)/2?o=D:B>=N&&B<R&&(o=D+1):B>=N&&(o=D)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(p?_>s.translate&&_>s.minTranslate():_<s.translate&&_<s.minTranslate())||!s.allowSlidePrev&&_>s.translate&&_>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(_);let E;o>h?E="next":o<h?E="prev":E="reset";const T=s.virtual&&s.params.virtual.enabled;if(!(T&&r)&&(p&&-_===s.translate||!p&&_===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(_),E!=="reset"&&(s.transitionStart(n,E),s.transitionEnd(n,E)),!1;if(a.cssMode){const D=s.isHorizontal(),B=p?_:-_;if(e===0)T&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),T&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[D?"scrollLeft":"scrollTop"]=B})):v[D?"scrollLeft":"scrollTop"]=B,T&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return W9({swiper:s,targetPosition:B,side:D?"left":"top"}),!0;v.scrollTo({[D?"left":"top"]:B,behavior:"smooth"})}return!0}const F=q9().isSafari;return T&&!r&&F&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(_),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,E),e===0?s.transitionEnd(n,E):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(B){!s||s.destroyed||B.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,E))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function ATe(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const p=o*r.params.grid.rows;a=r.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let h=l-a<d;if(c&&(h=h||a<Math.ceil(d/2)),i&&c&&r.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(s){const p=o*r.params.grid.rows;o=r.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,i)}),r}function PTe(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function ITe(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=a?i.translate:-i.translate;function p(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const v=p(h),y=s.map(E=>p(E)),b=r.freeMode&&r.freeMode.enabled;let S=s[y.indexOf(v)-1];if(typeof S>"u"&&(r.cssMode||b)){let E;s.forEach((T,P)=>{v>=T&&(E=P)}),typeof E<"u"&&(S=b?s[E]:s[E>0?E-1:E])}let _=0;if(typeof S<"u"&&(_=o.indexOf(S),_<0&&(_=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(_=_-i.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),r.rewind&&i.isBeginning){const E=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(E,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(_,t,e,n)}),!0;return i.slideTo(_,t,e,n)}function RTe(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function kTe(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],d=r.snapGrid[a+1];l-c>(d-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],d=r.snapGrid[a];l-c<=(d-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function NTe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Vl(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Cw(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Vl(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Cw(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var LTe={slideTo:MTe,slideToLoop:ATe,slideNext:PTe,slidePrev:ITe,slideReset:RTe,slideToClosest:kTe,slideToClickedSlide:NTe};function DTe(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Vl(r,`.${i.slideClass}, swiper-slide`).forEach((p,v)=>{p.setAttribute("data-swiper-slide-index",v)})},o=n.grid&&i.grid&&i.grid.rows>1,a=i.slidesPerGroup*(o?i.grid.rows:1),l=n.slides.length%a!==0,c=o&&n.slides.length%i.grid.rows!==0,d=h=>{for(let p=0;p<h;p+=1){const v=n.isElement?Vg("swiper-slide",[i.slideBlankClass]):Vg("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(v)}};if(l){if(i.loopAddBlankSlides){const h=a-n.slides.length%a;d(h),n.recalcSlides(),n.updateSlides()}else Aw("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(i.loopAddBlankSlides){const h=i.grid.rows-n.slides.length%i.grid.rows;d(h),n.recalcSlides(),n.updateSlides()}else Aw("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:e})}function OTe(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:p,slidesEl:v,params:y}=c,{centeredSlides:b,initialSlide:S}=y;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&y.virtual.enabled){n&&(!y.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):y.centeredSlides&&c.snapIndex<y.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=p,c.emit("loopFix");return}let _=y.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(y.slidesPerView,10)),b&&_%2===0&&(_=_+1));const E=y.slidesPerGroupAuto?_:y.slidesPerGroup;let T=E;T%E!==0&&(T+=E-T%E),T+=y.loopAdditionalSlides,c.loopedSlides=T;const P=c.grid&&y.grid&&y.grid.rows>1;d.length<_+T||c.params.effect==="cards"&&d.length<_+T*2?Aw("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):P&&y.grid.fill==="row"&&Aw("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],F=[],D=P?Math.ceil(d.length/y.grid.rows):d.length,B=o&&D-S<_&&!b;let N=B?S:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.find(Z=>Z.classList.contains(y.slideActiveClass))):N=s;const R=i==="next"||!i,U=i==="prev"||!i;let W=0,Y=0;const K=(P?d[s].column:s)+(b&&typeof r>"u"?-_/2+.5:0);if(K<T){W=Math.max(T-K,E);for(let Z=0;Z<T-K;Z+=1){const G=Z-Math.floor(Z/D)*D;if(P){const j=D-G-1;for(let Q=d.length-1;Q>=0;Q-=1)d[Q].column===j&&k.push(Q)}else k.push(D-G-1)}}else if(K+_>D-T){Y=Math.max(K-(D-T*2),E),B&&(Y=Math.max(Y,_-D+S+1));for(let Z=0;Z<Y;Z+=1){const G=Z-Math.floor(Z/D)*D;P?d.forEach((j,Q)=>{j.column===G&&F.push(Q)}):F.push(G)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<_+T*2&&(F.includes(s)&&F.splice(F.indexOf(s),1),k.includes(s)&&k.splice(k.indexOf(s),1)),U&&k.forEach(Z=>{d[Z].swiperLoopMoveDOM=!0,v.prepend(d[Z]),d[Z].swiperLoopMoveDOM=!1}),R&&F.forEach(Z=>{d[Z].swiperLoopMoveDOM=!0,v.append(d[Z]),d[Z].swiperLoopMoveDOM=!1}),c.recalcSlides(),y.slidesPerView==="auto"?c.updateSlides():P&&(k.length>0&&U||F.length>0&&R)&&c.slides.forEach((Z,G)=>{c.grid.updateSlide(G,Z,c.slides)}),y.watchSlidesProgress&&c.updateSlidesOffset(),n){if(k.length>0&&U){if(typeof e>"u"){const Z=c.slidesGrid[N],j=c.slidesGrid[N+W]-Z;l?c.setTranslate(c.translate-j):(c.slideTo(N+Math.ceil(W),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-j,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-j))}else if(r){const Z=P?k.length/y.grid.rows:k.length;c.slideTo(c.activeIndex+Z,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(F.length>0&&R)if(typeof e>"u"){const Z=c.slidesGrid[N],j=c.slidesGrid[N-Y]-Z;l?c.setTranslate(c.translate-j):(c.slideTo(N-Y,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-j,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-j))}else{const Z=P?F.length/y.grid.rows:F.length;c.slideTo(c.activeIndex-Z,0,!1,!0)}}if(c.allowSlidePrev=h,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const Z={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(G=>{!G.destroyed&&G.params.loop&&G.loopFix({...Z,slideTo:G.params.slidesPerView===y.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...Z,slideTo:c.controller.control.params.slidesPerView===y.slidesPerView?n:!1})}c.emit("loopFix")}function FTe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var zTe={loopCreate:DTe,loopFix:OTe,loopDestroy:FTe};function BTe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function UTe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var VTe={setGrabCursor:BTe,unsetGrabCursor:UTe};function jTe(t,e){e===void 0&&(e=this);function n(i){if(!i||i===ol()||i===ws())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function d5(t,e,n){const i=ws(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function WTe(t){const e=this,n=ol();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){d5(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!KEe(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(p?jTe(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const v=o.currentX,y=o.currentY;if(!d5(e,i,v))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=v,o.startY=y,r.touchStartTime=Mw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let b=!0;l.matches(r.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const S=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||S)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function HTe(t){const e=ol(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(k=>k.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=Mw());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const p=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+v**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let k;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:p*p+v*v>=25&&(k=Math.atan2(Math.abs(v),Math.abs(p))*180/Math.PI,i.isScrolling=n.isHorizontal()?k>r.touchAngle:90-k>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let y=n.isHorizontal()?p:v,b=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),s.diff=y,y*=r.touchRatio,o&&(y=-y,b=-b);const S=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const _=n.params.loop&&!r.cssMode,E=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(_&&E&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(k)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&S!==n.touchesDirection&&_&&E&&Math.abs(y)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let T=!0,P=r.resistanceRatio;if(r.touchReleaseOnEdges&&(P=0),y>0?(_&&E&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(T=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+y)**P))):y<0&&(_&&E&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(T=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-y)**P))),T&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(y)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function GTe(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(k=>k.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Mw(),p=h-n.touchStartTime;if(e.allowClick){const k=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(k&&k[0]||i.target,k),e.emit("tap click",i),p<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Mw(),Cw(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(o.followFinger?v=l?e.translate:-e.translate:v=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:v});return}const y=v>=-e.maxTranslate()&&!e.params.loop;let b=0,S=e.slidesSizesGrid[0];for(let k=0;k<c.length;k+=k<o.slidesPerGroupSkip?1:o.slidesPerGroup){const F=k<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[k+F]<"u"?(y||v>=c[k]&&v<c[k+F])&&(b=k,S=c[k+F]-c[k]):(y||v>=c[k])&&(b=k,S=c[c.length-1]-c[c.length-2])}let _=null,E=null;o.rewind&&(e.isBeginning?E=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const T=(v-c[b])/S,P=b<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?_:b+P):e.slideTo(b)),e.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?e.slideTo(b+P):E!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?e.slideTo(E):e.slideTo(b))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(b+P):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:b+P),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:b))}}function f5(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function $Te(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function qTe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function XTe(t){const e=this;Qb(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function YTe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Y9=(t,e)=>{const n=ol(),{params:i,el:r,wrapperEl:s,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",f5,!0):t[c]("observerUpdate",f5,!0),r[l]("load",t.onLoad,{capture:!0}))};function KTe(){const t=this,{params:e}=t;t.onTouchStart=WTe.bind(t),t.onTouchMove=HTe.bind(t),t.onTouchEnd=GTe.bind(t),t.onDocumentTouchStart=YTe.bind(t),e.cssMode&&(t.onScroll=qTe.bind(t)),t.onClick=$Te.bind(t),t.onLoad=XTe.bind(t),Y9(t,"on")}function JTe(){Y9(this,"off")}var QTe={attachEvents:KTe,detachEvents:JTe};const h5=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function ZTe(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=ol(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const h=(c in s?s[c]:void 0)||t.originalParams,p=h5(t,i),v=h5(t,h),y=t.params.grabCursor,b=h.grabCursor,S=i.enabled;p&&!v?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&v&&(r.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!b?t.unsetGrabCursor():!y&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(F=>{if(typeof h[F]>"u")return;const D=i[F]&&i[F].enabled,B=h[F]&&h[F].enabled;D&&!B&&t[F].disable(),!D&&B&&t[F].enable()});const _=h.direction&&h.direction!==i.direction,E=i.loop&&(h.slidesPerView!==i.slidesPerView||_),T=i.loop;_&&n&&t.changeDirection(),Io(t.params,h);const P=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),S&&!P?t.disable():!S&&P&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",h),n&&(E?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!T&&k?(t.loopCreate(e),t.updateSlides()):T&&!k&&t.loopDestroy()),t.emit("breakpoint",h)}function eCe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=ws(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var tCe={setBreakpoint:ZTe,getBreakpoint:eCe};function nCe(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function iCe(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=nCe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function rCe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var sCe={addClasses:iCe,removeClasses:rCe};function oCe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var aCe={checkOverflow:oCe},HP={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function lCe(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Io(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){Io(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Io(e,i)}}const qM={eventsEmitter:sTe,update:gTe,translate:STe,transition:CTe,slide:LTe,loop:zTe,grabCursor:VTe,events:QTe,breakpoints:tCe,checkOverflow:aCe,classes:sCe},XM={};let Ck=class qc{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Io({},n),e&&!n.el&&(n.el=e);const o=ol();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const p=Io({},n,{el:h});d.push(new qc(p))}),d}const a=this;a.__swiper__=!0,a.support=G9(),a.device=$9({userAgent:n.userAgent}),a.browser=q9(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:lCe(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Io({},HP,l);return a.params=Io({},c,XM,n),a.originalParams=Io({},a.params),a.passedParams=Io({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Vl(n,`.${i.slideClass}, swiper-slide`),s=xx(r[0]);return xx(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Vl(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let h=s[c]?Math.ceil(s[c].swiperSlideSize):0,p;for(let v=c+1;v<s.length;v+=1)s[v]&&!p&&(h+=Math.ceil(s[v].swiperSlideSize),d+=1,h>l&&(p=!0));for(let v=c-1;v>=0;v-=1)s[v]&&!p&&(h+=s[v].swiperSlideSize,d+=1,h>l&&(p=!0))}else if(e==="current")for(let h=c+1;h<s.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(d+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Qb(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Vl(i,r())[0];return!o&&n.params.createElements&&(o=Vg("div",n.params.wrapperClass),i.append(o),Vl(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ld(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ld(i,"direction")==="rtl"),wrongRTL:Ld(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Qb(n,s):s.addEventListener("load",o=>{Qb(n,o.target)})}),WP(n),n.initialized=!0,WP(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),GEe(i)),i.destroyed=!0),null}static extendDefaults(e){Io(XM,e)}static get extendedDefaults(){return XM}static get defaults(){return HP}static installModule(e){qc.prototype.__modules__||(qc.prototype.__modules__=[]);const n=qc.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>qc.installModule(n)),qc):(qc.installModule(e),qc)}};Object.keys(qM).forEach(t=>{Object.keys(qM[t]).forEach(e=>{Ck.prototype[e]=qM[t][e]})});Ck.use([iTe,rTe]);const K9=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Sg(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Qh(e[i])&&Qh(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Sg(t[i],e[i]):t[i]=e[i]})}function J9(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Q9(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Z9(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function eG(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function cCe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function uCe(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=r.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:d,pagination:h,navigation:p,scrollbar:v,virtual:y,thumbs:b}=e;let S,_,E,T,P,k,F,D;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(S=!0),r.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(_=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(E=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&v&&!v.el&&(T=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(P=!0);const B=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),d[N].prevEl=void 0,d[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),d[N].el=void 0,e[N].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!i.loop?k=!0:!d.loop&&i.loop?F=!0:D=!0),c.forEach(N=>{if(Qh(d[N])&&Qh(i[N]))Object.assign(d[N],i[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in i[N]&&!i[N].enabled&&B(N);else{const R=i[N];(R===!0||R===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?R===!1&&B(N):d[N]=i[N]}}),c.includes("controller")&&!_&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&y&&d.virtual.enabled?(y.slides=n,y.update(!0)):r.includes("virtual")&&y&&d.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),r.includes("children")&&n&&d.loop&&(D=!0),S&&b.init()&&b.update(!0),_&&(e.controller.control=d.controller.control),E&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),T&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),v.init(),v.updateSize(),v.setTranslate()),P&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(k||D)&&e.loopDestroy(),(F||D)&&e.loopCreate(),e.update()}function dCe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};Sg(n,HP),n._emitClasses=!0,n.init=!1;const s={},o=K9.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Qh(t[l])?(n[l]={},r[l]={},Sg(n[l],t[l]),Sg(r[l],t[l])):(n[l]=t[l],r[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:s,events:i}}function fCe(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=t;J9(e)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),Q9(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),Z9(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function hCe(t,e,n,i,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&i){const l=i.map(r),c=n.map(r);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return K9.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Qh(t[l])&&Qh(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const pCe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pw.apply(this,arguments)}function tG(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function nG(t){const e=[];return it.Children.toArray(t).forEach(n=>{tG(n)?e.push(n):n.props&&n.props.children&&nG(n.props.children).forEach(i=>e.push(i))}),e}function mCe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return it.Children.toArray(t).forEach(i=>{if(tG(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=nG(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function gCe(t,e,n){if(!n)return null;const i=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let d=a;d<l;d+=1)d>=s&&d<=o&&c.push(e[i(d)]);return c.map((d,h)=>it.cloneElement(d,{swiper:t,style:r,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function A0(t,e){return typeof window>"u"?z.useEffect(t,e):z.useLayoutEffect(t,e)}const p5=z.createContext(null),vCe=z.createContext(null),QE=z.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,d]=z.useState("swiper"),[h,p]=z.useState(null),[v,y]=z.useState(!1),b=z.useRef(!1),S=z.useRef(null),_=z.useRef(null),E=z.useRef(null),T=z.useRef(null),P=z.useRef(null),k=z.useRef(null),F=z.useRef(null),D=z.useRef(null),{params:B,passedParams:N,rest:R,events:U}=dCe(a),{slides:W,slots:Y}=mCe(s),ee=()=>{y(!v)};Object.assign(B.on,{_containerClasses(Q,ne){d(ne)}});const K=()=>{Object.assign(B.on,U),l=!0;const Q={...B};if(delete Q.wrapperClass,_.current=new Ck(Q),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=W;const ne={cache:!1,slides:W,renderExternal:p,renderExternalUpdate:!1};Sg(_.current.params.virtual,ne),Sg(_.current.originalParams.virtual,ne)}};S.current||K(),_.current&&_.current.on("_beforeBreakpoint",ee);const Z=()=>{l||!U||!_.current||Object.keys(U).forEach(Q=>{_.current.on(Q,U[Q])})},G=()=>{!U||!_.current||Object.keys(U).forEach(Q=>{_.current.off(Q,U[Q])})};z.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",ee)}),z.useEffect(()=>{!b.current&&_.current&&(_.current.emitSlidesClasses(),b.current=!0)}),A0(()=>{if(e&&(e.current=S.current),!!S.current)return _.current.destroyed&&K(),fCe({el:S.current,nextEl:P.current,prevEl:k.current,paginationEl:F.current,scrollbarEl:D.current,swiper:_.current},B),o&&!_.current.destroyed&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),A0(()=>{Z();const Q=hCe(N,E.current,W,T.current,ne=>ne.key);return E.current=N,T.current=W,Q.length&&_.current&&!_.current.destroyed&&uCe({swiper:_.current,slides:W,passedParams:N,changedParams:Q,nextEl:P.current,prevEl:k.current,scrollbarEl:D.current,paginationEl:F.current}),()=>{G()}}),A0(()=>{pCe(_.current)},[h]);function j(){return B.virtual?gCe(_.current,W,h):W.map((Q,ne)=>it.cloneElement(Q,{swiper:_.current,swiperSlideIndex:ne}))}return it.createElement(i,Pw({ref:S,className:eG(`${c}${n?` ${n}`:""}`)},R),it.createElement(vCe.Provider,{value:_.current},Y["container-start"],it.createElement(r,{className:cCe(B.wrapperClass)},Y["wrapper-start"],j(),Y["wrapper-end"]),J9(B)&&it.createElement(it.Fragment,null,it.createElement("div",{ref:k,className:"swiper-button-prev"}),it.createElement("div",{ref:P,className:"swiper-button-next"})),Z9(B)&&it.createElement("div",{ref:D,className:"swiper-scrollbar"}),Q9(B)&&it.createElement("div",{ref:F,className:"swiper-pagination"}),Y["container-end"]))});QE.displayName="Swiper";const ZE=z.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...d}=t===void 0?{}:t;const h=z.useRef(null),[p,v]=z.useState("swiper-slide"),[y,b]=z.useState(!1);function S(P,k,F){k===h.current&&v(F)}A0(()=>{if(typeof c<"u"&&(h.current.swiperSlideIndex=c),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){p!=="swiper-slide"&&v("swiper-slide");return}return s.on("_slideClass",S),()=>{s&&s.off("_slideClass",S)}}}),A0(()=>{s&&h.current&&!s.destroyed&&v(s.getSlideClasses(h.current))},[s]);const _={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},E=()=>typeof i=="function"?i(_):i,T=()=>{b(!0)};return it.createElement(n,Pw({ref:h,className:eG(`${p}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:T},d),o&&it.createElement(p5.Provider,{value:_},it.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},E(),a&&!y&&it.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&it.createElement(p5.Provider,{value:_},E(),a&&!y&&it.createElement("div",{className:"swiper-lazy-preloader"})))});ZE.displayName="SwiperSlide";function Mk(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Vl(t.el,`.${i[r]}`)[0];s||(s=Vg("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function iG(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(y){let b;return y&&typeof y=="string"&&e.isElement&&(b=e.el.querySelector(y)||e.hostEl.querySelector(y),b)?b:(y&&(typeof y=="string"&&(b=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&b&&b.length>1&&e.el.querySelectorAll(y).length===1?b=e.el.querySelector(y):b&&b.length===1&&(b=b[0])),y&&!b?y:b)}function o(y,b){const S=e.params.navigation;y=gn(y),y.forEach(_=>{_&&(_.classList[b?"add":"remove"](...S.disabledClass.split(" ")),_.tagName==="BUTTON"&&(_.disabled=b),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](S.lockClass))})}function a(){const{nextEl:y,prevEl:b}=e.navigation;if(e.params.loop){o(b,!1),o(y,!1);return}o(b,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function l(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=Mk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let b=s(y.nextEl),S=s(y.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:S}),b=gn(b),S=gn(S);const _=(E,T)=>{E&&E.addEventListener("click",T==="next"?c:l),!e.enabled&&E&&E.classList.add(...y.lockClass.split(" "))};b.forEach(E=>_(E,"next")),S.forEach(E=>_(E,"prev"))}function h(){let{nextEl:y,prevEl:b}=e.navigation;y=gn(y),b=gn(b);const S=(_,E)=>{_.removeEventListener("click",E==="next"?c:l),_.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(_=>S(_,"next")),b.forEach(_=>S(_,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?v():(d(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:y,prevEl:b}=e.navigation;if(y=gn(y),b=gn(b),e.enabled){a();return}[...y,...b].filter(S=>!!S).forEach(S=>S.classList.add(e.params.navigation.lockClass))}),i("click",(y,b)=>{let{nextEl:S,prevEl:_}=e.navigation;S=gn(S),_=gn(_);const E=b.target;let T=_.includes(E)||S.includes(E);if(e.isElement&&!T){const P=b.path||b.composedPath&&b.composedPath();P&&(T=P.find(k=>S.includes(k)||_.includes(k)))}if(e.params.navigation.hideOnClick&&!T){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let P;S.length?P=S[0].classList.contains(e.params.navigation.hiddenClass):_.length&&(P=_[0].classList.contains(e.params.navigation.hiddenClass)),r(P===!0?"navigationShow":"navigationHide"),[...S,..._].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:v,update:a,init:d,destroy:h})}function Jc(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Ak(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(E,T){const{bulletActiveClass:P}=e.params.pagination;E&&(E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${P}-${T}`),E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${P}-${T}-${T}`)))}function d(E,T,P){if(E=E%P,T=T%P,T===E+1)return"next";if(T===E-1)return"previous"}function h(E){const T=E.target.closest(Jc(e.params.pagination.bulletClass));if(!T)return;E.preventDefault();const P=xx(T)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===P)return;const k=d(e.realIndex,P,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(P)}else e.slideTo(P)}function p(){const E=e.rtl,T=e.params.pagination;if(l())return;let P=e.pagination.el;P=gn(P);let k,F;const D=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,B=e.params.loop?Math.ceil(D/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(F=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,F=e.previousSnapIndex):(F=e.previousIndex||0,k=e.activeIndex||0),T.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let R,U,W;if(T.dynamicBullets&&(o=jP(N[0],e.isHorizontal()?"width":"height"),P.forEach(Y=>{Y.style[e.isHorizontal()?"width":"height"]=`${o*(T.dynamicMainBullets+4)}px`}),T.dynamicMainBullets>1&&F!==void 0&&(a+=k-(F||0),a>T.dynamicMainBullets-1?a=T.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(k-a,0),U=R+(Math.min(N.length,T.dynamicMainBullets)-1),W=(U+R)/2),N.forEach(Y=>{const ee=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${T.bulletActiveClass}${K}`)].map(K=>typeof K=="string"&&K.includes(" ")?K.split(" "):K).flat();Y.classList.remove(...ee)}),P.length>1)N.forEach(Y=>{const ee=xx(Y);ee===k?Y.classList.add(...T.bulletActiveClass.split(" ")):e.isElement&&Y.setAttribute("part","bullet"),T.dynamicBullets&&(ee>=R&&ee<=U&&Y.classList.add(...`${T.bulletActiveClass}-main`.split(" ")),ee===R&&c(Y,"prev"),ee===U&&c(Y,"next"))});else{const Y=N[k];if(Y&&Y.classList.add(...T.bulletActiveClass.split(" ")),e.isElement&&N.forEach((ee,K)=>{ee.setAttribute("part",K===k?"bullet-active":"bullet")}),T.dynamicBullets){const ee=N[R],K=N[U];for(let Z=R;Z<=U;Z+=1)N[Z]&&N[Z].classList.add(...`${T.bulletActiveClass}-main`.split(" "));c(ee,"prev"),c(K,"next")}}if(T.dynamicBullets){const Y=Math.min(N.length,T.dynamicMainBullets+4),ee=(o*Y-o)/2-W*o,K=E?"right":"left";N.forEach(Z=>{Z.style[e.isHorizontal()?K:"top"]=`${ee}px`})}}P.forEach((N,R)=>{if(T.type==="fraction"&&(N.querySelectorAll(Jc(T.currentClass)).forEach(U=>{U.textContent=T.formatFractionCurrent(k+1)}),N.querySelectorAll(Jc(T.totalClass)).forEach(U=>{U.textContent=T.formatFractionTotal(B)})),T.type==="progressbar"){let U;T.progressbarOpposite?U=e.isHorizontal()?"vertical":"horizontal":U=e.isHorizontal()?"horizontal":"vertical";const W=(k+1)/B;let Y=1,ee=1;U==="horizontal"?Y=W:ee=W,N.querySelectorAll(Jc(T.progressbarFillClass)).forEach(K=>{K.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${ee})`,K.style.transitionDuration=`${e.params.speed}ms`})}T.type==="custom"&&T.renderCustom?(N.innerHTML=T.renderCustom(e,k+1,B),R===0&&r("paginationRender",N)):(R===0&&r("paginationRender",N),r("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](T.lockClass)})}function v(){const E=e.params.pagination;if(l())return;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let P=e.pagination.el;P=gn(P);let k="";if(E.type==="bullets"){let F=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&F>T&&(F=T);for(let D=0;D<F;D+=1)E.renderBullet?k+=E.renderBullet.call(e,D,E.bulletClass):k+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?k=E.renderFraction.call(e,E.currentClass,E.totalClass):k=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?k=E.renderProgressbar.call(e,E.progressbarFillClass):k=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],P.forEach(F=>{E.type!=="custom"&&(F.innerHTML=k||""),E.type==="bullets"&&e.pagination.bullets.push(...F.querySelectorAll(Jc(E.bulletClass)))}),E.type!=="custom"&&r("paginationRender",P[0])}function y(){e.params.pagination=Mk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let T;typeof E.el=="string"&&e.isElement&&(T=e.el.querySelector(E.el)),!T&&typeof E.el=="string"&&(T=[...document.querySelectorAll(E.el)]),T||(T=E.el),!(!T||T.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(T)&&T.length>1&&(T=[...e.el.querySelectorAll(E.el)],T.length>1&&(T=T.find(P=>H9(P,".swiper")[0]===e.el))),Array.isArray(T)&&T.length===1&&(T=T[0]),Object.assign(e.pagination,{el:T}),T=gn(T),T.forEach(P=>{E.type==="bullets"&&E.clickable&&P.classList.add(...(E.clickableClass||"").split(" ")),P.classList.add(E.modifierClass+E.type),P.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(P.classList.add(`${E.modifierClass}${E.type}-dynamic`),a=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&P.classList.add(E.progressbarOppositeClass),E.clickable&&P.addEventListener("click",h),e.enabled||P.classList.add(E.lockClass)}))}function b(){const E=e.params.pagination;if(l())return;let T=e.pagination.el;T&&(T=gn(T),T.forEach(P=>{P.classList.remove(E.hiddenClass),P.classList.remove(E.modifierClass+E.type),P.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(P.classList.remove(...(E.clickableClass||"").split(" ")),P.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(P=>P.classList.remove(...E.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:T}=e.pagination;T=gn(T),T.forEach(P=>{P.classList.remove(E.horizontalClass,E.verticalClass),P.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?_():(y(),v(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{v(),p()}),i("destroy",()=>{b()}),i("enable disable",()=>{let{el:E}=e.pagination;E&&(E=gn(E),E.forEach(T=>T.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(E,T)=>{const P=T.target,k=gn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!P.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&P===e.navigation.nextEl||e.navigation.prevEl&&P===e.navigation.prevEl))return;const F=k[0].classList.contains(e.params.pagination.hiddenClass);r(F===!0?"paginationShow":"paginationHide"),k.forEach(D=>D.classList.toggle(e.params.pagination.hiddenClass))}});const S=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=gn(E),E.forEach(T=>T.classList.remove(e.params.pagination.paginationDisabledClass))),y(),v(),p()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=gn(E),E.forEach(T=>T.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:S,disable:_,render:v,update:p,init:y,destroy:b})}function rG(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=ol();let o=!1,a=null,l=null,c,d,h,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function v(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:W,rtlTranslate:Y}=e,{dragEl:ee,el:K}=W,Z=e.params.scrollbar,G=e.params.loop?e.progressLoop:e.progress;let j=d,Q=(h-d)*G;Y?(Q=-Q,Q>0?(j=d-Q,Q=0):-Q+d>h&&(j=h+Q)):Q<0?(j=d+Q,Q=0):Q+d>h&&(j=h-Q),e.isHorizontal()?(ee.style.transform=`translate3d(${Q}px, 0, 0)`,ee.style.width=`${j}px`):(ee.style.transform=`translate3d(0px, ${Q}px, 0)`,ee.style.height=`${j}px`),Z.hide&&(clearTimeout(a),K.style.opacity=1,a=setTimeout(()=>{K.style.opacity=0,K.style.transitionDuration="400ms"},1e3))}function y(W){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${W}ms`)}function b(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:W}=e,{dragEl:Y,el:ee}=W;Y.style.width="",Y.style.height="",h=e.isHorizontal()?ee.offsetWidth:ee.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=h*p:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?Y.style.width=`${d}px`:Y.style.height=`${d}px`,p>=1?ee.style.display="none":ee.style.display="",e.params.scrollbar.hide&&(ee.style.opacity=0),e.params.watchOverflow&&e.enabled&&W.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function S(W){return e.isHorizontal()?W.clientX:W.clientY}function _(W){const{scrollbar:Y,rtlTranslate:ee}=e,{el:K}=Y;let Z;Z=(S(W)-JEe(K)[e.isHorizontal()?"left":"top"]-(c!==null?c:d/2))/(h-d),Z=Math.max(Math.min(Z,1),0),ee&&(Z=1-Z);const G=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*Z;e.updateProgress(G),e.setTranslate(G),e.updateActiveIndex(),e.updateSlidesClasses()}function E(W){const Y=e.params.scrollbar,{scrollbar:ee,wrapperEl:K}=e,{el:Z,dragEl:G}=ee;o=!0,c=W.target===G?S(W)-W.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,W.preventDefault(),W.stopPropagation(),K.style.transitionDuration="100ms",G.style.transitionDuration="100ms",_(W),clearTimeout(l),Z.style.transitionDuration="0ms",Y.hide&&(Z.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",W)}function T(W){const{scrollbar:Y,wrapperEl:ee}=e,{el:K,dragEl:Z}=Y;o&&(W.preventDefault&&W.cancelable?W.preventDefault():W.returnValue=!1,_(W),ee.style.transitionDuration="0ms",K.style.transitionDuration="0ms",Z.style.transitionDuration="0ms",r("scrollbarDragMove",W))}function P(W){const Y=e.params.scrollbar,{scrollbar:ee,wrapperEl:K}=e,{el:Z}=ee;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",K.style.transitionDuration=""),Y.hide&&(clearTimeout(l),l=Cw(()=>{Z.style.opacity=0,Z.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",W),Y.snapOnRelease&&e.slideToClosest())}function k(W){const{scrollbar:Y,params:ee}=e,K=Y.el;if(!K)return;const Z=K,G=ee.passiveListeners?{passive:!1,capture:!1}:!1,j=ee.passiveListeners?{passive:!0,capture:!1}:!1;if(!Z)return;const Q=W==="on"?"addEventListener":"removeEventListener";Z[Q]("pointerdown",E,G),s[Q]("pointermove",T,G),s[Q]("pointerup",P,j)}function F(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function D(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function B(){const{scrollbar:W,el:Y}=e;e.params.scrollbar=Mk(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const ee=e.params.scrollbar;if(!ee.el)return;let K;if(typeof ee.el=="string"&&e.isElement&&(K=e.el.querySelector(ee.el)),!K&&typeof ee.el=="string"){if(K=s.querySelectorAll(ee.el),!K.length)return}else K||(K=ee.el);e.params.uniqueNavElements&&typeof ee.el=="string"&&K.length>1&&Y.querySelectorAll(ee.el).length===1&&(K=Y.querySelector(ee.el)),K.length>0&&(K=K[0]),K.classList.add(e.isHorizontal()?ee.horizontalClass:ee.verticalClass);let Z;K&&(Z=K.querySelector(Jc(e.params.scrollbar.dragClass)),Z||(Z=Vg("div",e.params.scrollbar.dragClass),K.append(Z))),Object.assign(W,{el:K,dragEl:Z}),ee.draggable&&F(),K&&K.classList[e.enabled?"remove":"add"](...wd(e.params.scrollbar.lockClass))}function N(){const W=e.params.scrollbar,Y=e.scrollbar.el;Y&&Y.classList.remove(...wd(e.isHorizontal()?W.horizontalClass:W.verticalClass)),D()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const W=e.params.scrollbar;let{el:Y}=e.scrollbar;Y=gn(Y),Y.forEach(ee=>{ee.classList.remove(W.horizontalClass,W.verticalClass),ee.classList.add(e.isHorizontal()?W.horizontalClass:W.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?U():(B(),b(),v())}),i("update resize observerUpdate lock unlock changeDirection",()=>{b()}),i("setTranslate",()=>{v()}),i("setTransition",(W,Y)=>{y(Y)}),i("enable disable",()=>{const{el:W}=e.scrollbar;W&&W.classList[e.enabled?"remove":"add"](...wd(e.params.scrollbar.lockClass))}),i("destroy",()=>{N()});const R=()=>{e.el.classList.remove(...wd(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...wd(e.params.scrollbar.scrollbarDisabledClass)),B(),b(),v()},U=()=>{e.el.classList.add(...wd(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...wd(e.params.scrollbar.scrollbarDisabledClass)),N()};Object.assign(e.scrollbar,{enable:R,disable:U,updateSize:b,setTranslate:v,init:B,destroy:N})}function sG(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function l(G){const j=r;j.length!==0&&(j.innerHTML="",j.innerHTML=G)}function c(G){const j=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(G).replace(/x/g,j)}function d(G){G=gn(G),G.forEach(j=>{j.setAttribute("tabIndex","0")})}function h(G){G=gn(G),G.forEach(j=>{j.setAttribute("tabIndex","-1")})}function p(G,j){G=gn(G),G.forEach(Q=>{Q.setAttribute("role",j)})}function v(G,j){G=gn(G),G.forEach(Q=>{Q.setAttribute("aria-roledescription",j)})}function y(G,j){G=gn(G),G.forEach(Q=>{Q.setAttribute("aria-controls",j)})}function b(G,j){G=gn(G),G.forEach(Q=>{Q.setAttribute("aria-label",j)})}function S(G,j){G=gn(G),G.forEach(Q=>{Q.setAttribute("id",j)})}function _(G,j){G=gn(G),G.forEach(Q=>{Q.setAttribute("aria-live",j)})}function E(G){G=gn(G),G.forEach(j=>{j.setAttribute("aria-disabled",!0)})}function T(G){G=gn(G),G.forEach(j=>{j.setAttribute("aria-disabled",!1)})}function P(G){if(G.keyCode!==13&&G.keyCode!==32)return;const j=e.params.a11y,Q=G.target;if(!(e.pagination&&e.pagination.el&&(Q===e.pagination.el||e.pagination.el.contains(G.target))&&!G.target.matches(Jc(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const ne=gn(e.navigation.prevEl);gn(e.navigation.nextEl).includes(Q)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(j.lastSlideMessage):l(j.nextSlideMessage)),ne.includes(Q)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(j.firstSlideMessage):l(j.prevSlideMessage))}e.pagination&&Q.matches(Jc(e.params.pagination.bulletClass))&&Q.click()}}function k(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:G,prevEl:j}=e.navigation;j&&(e.isBeginning?(E(j),h(j)):(T(j),d(j))),G&&(e.isEnd?(E(G),h(G)):(T(G),d(G)))}function F(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function D(){return F()&&e.params.pagination.clickable}function B(){const G=e.params.a11y;F()&&e.pagination.bullets.forEach(j=>{e.params.pagination.clickable&&(d(j),e.params.pagination.renderBullet||(p(j,"button"),b(j,G.paginationBulletMessage.replace(/\{\{index\}\}/,xx(j)+1)))),j.matches(Jc(e.params.pagination.bulletActiveClass))?j.setAttribute("aria-current","true"):j.removeAttribute("aria-current")})}const N=(G,j,Q)=>{d(G),G.tagName!=="BUTTON"&&(p(G,"button"),G.addEventListener("keydown",P)),b(G,Q),y(G,j)},R=G=>{o&&o!==G.target&&!o.contains(G.target)&&(s=!0),e.a11y.clicked=!0},U=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},W=G=>{a=new Date().getTime()},Y=G=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const j=G.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!j||!e.slides.includes(j))return;o=j;const Q=e.slides.indexOf(j)===e.activeIndex,ne=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(j);Q||ne||G.sourceCapabilities&&G.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt(j.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(j),0),s=!1)}))},ee=()=>{const G=e.params.a11y;G.itemRoleDescriptionMessage&&v(e.slides,G.itemRoleDescriptionMessage),G.slideRole&&p(e.slides,G.slideRole);const j=e.slides.length;G.slideLabelMessage&&e.slides.forEach((Q,ne)=>{const q=e.params.loop?parseInt(Q.getAttribute("data-swiper-slide-index"),10):ne,ae=G.slideLabelMessage.replace(/\{\{index\}\}/,q+1).replace(/\{\{slidesLength\}\}/,j);b(Q,ae)})},K=()=>{const G=e.params.a11y;e.el.append(r);const j=e.el;G.containerRoleDescriptionMessage&&v(j,G.containerRoleDescriptionMessage),G.containerMessage&&b(j,G.containerMessage),G.containerRole&&p(j,G.containerRole);const Q=e.wrapperEl,ne=G.id||Q.getAttribute("id")||`swiper-wrapper-${c(16)}`,q=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";S(Q,ne),_(Q,q),ee();let{nextEl:ae,prevEl:Re}=e.navigation?e.navigation:{};ae=gn(ae),Re=gn(Re),ae&&ae.forEach(ve=>N(ve,ne,G.nextSlideMessage)),Re&&Re.forEach(ve=>N(ve,ne,G.prevSlideMessage)),D()&&gn(e.pagination.el).forEach(Oe=>{Oe.addEventListener("keydown",P)}),ol().addEventListener("visibilitychange",W),e.el.addEventListener("focus",Y,!0),e.el.addEventListener("focus",Y,!0),e.el.addEventListener("pointerdown",R,!0),e.el.addEventListener("pointerup",U,!0)};function Z(){r&&r.remove();let{nextEl:G,prevEl:j}=e.navigation?e.navigation:{};G=gn(G),j=gn(j),G&&G.forEach(ne=>ne.removeEventListener("keydown",P)),j&&j.forEach(ne=>ne.removeEventListener("keydown",P)),D()&&gn(e.pagination.el).forEach(q=>{q.removeEventListener("keydown",P)}),ol().removeEventListener("visibilitychange",W),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",Y,!0),e.el.removeEventListener("pointerdown",R,!0),e.el.removeEventListener("pointerup",U,!0))}i("beforeInit",()=>{r=Vg("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&K()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&ee()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&k()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&B()}),i("destroy",()=>{e.params.a11y.enabled&&Z()})}function yCe(){const t=[{imageUrl:" /images/Merch/Vinyls/upcoming1.png",title:"Harmonic Ghosts",date:"May 15, 2024",duration:42,tracks:12},{imageUrl:" /images/Merch/Vinyls/upcoming2.jpg",title:"Midnight Echoes",date:"June 16, 2024",duration:45,tracks:12},{imageUrl:" /images/Merch/Vinyls/upcoming3.jpg",title:"Echoes of Silence",date:"July 17, 2024",duration:38,tracks:10}];return w.jsxs("div",{children:[w.jsx("div",{style:{position:"relative",width:"100%",height:"100vh"},children:w.jsx("img",{src:"/images/Stage_Fright_Main_Page_Image.png",alt:"Home Screen Image",style:{width:"100%",height:"100%",objectFit:"cover"}})}),w.jsx(Rt.div,{className:"threed-intro-title",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0,transition:{duration:1.2,ease:"easeOut"}},viewport:{once:!0,amount:.5},children:"Newest Stage Fright Albums"}),w.jsx("div",{children:w.jsx(WEe,{})}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#09090b",paddingTop:"20px",paddingBottom:"20px"},children:[w.jsx(Rt.h1,{style:{fontFamily:"Sansation",color:"white",fontSize:"50px",fontWeight:"700",textAlign:"center"},initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.8},transition:{duration:.8,ease:"easeOut"},children:"Experience Stage Fright"}),w.jsx(Ai,{to:"/tour",onClick:()=>window.scrollTo(0,0),children:w.jsx(zl,{variant:"solid",p:2,fontFamily:"Sansation",fontWeight:"700",fontSize:15,children:"View All"})}),w.jsx("div",{style:{height:"50px"}}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"100%",padding:"0 5%",justifyItems:"center",gap:"20px",marginBottom:"20px"},children:[w.jsx(Rt.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},viewport:{once:!0},children:w.jsx(EC,{frontside_imageUrl:" /images/flipcards/front1.jpg",icon:Kde,frontside_title:"Rock Fact",inside_title:"Did you Know?",inside_imageUrl:" /images/flipcards/front1.jpg",inside_description:"Our first jam session was in a garage!"})}),w.jsx(Rt.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut",delay:.2},viewport:{once:!0},children:w.jsx(EC,{frontside_imageUrl:" /images/flipcards/front2.jpg",icon:Jde,frontside_title:"Exciting News",inside_title:"New Merch!",inside_imageUrl:" /images/flipcards/front2.jpg",inside_description:"Shop Stage Fright by checking out our new hoodies in the Store Page!"})}),w.jsx(Rt.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut",delay:.4},viewport:{once:!0},children:w.jsx(EC,{frontside_imageUrl:" /images/flipcards/front3.jpg",icon:Nre,frontside_title:"Feel the Energy",inside_title:"Concert Crowd",inside_imageUrl:" /images/flipcards/front3.jpg",inside_description:"We bring the heat with electrifying riffs, pulsating drums, and raw energy that keeps the crowd rocking all night long."})})]})]}),w.jsxs("div",{children:[w.jsx("h1",{className:"upcoming-albums",children:"Upcoming Albums"}),w.jsx(Rt.div,{className:"carousel-container",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0,amount:.3},children:w.jsx(QE,{modules:[Ak,iG],spaceBetween:30,slidesPerView:1,pagination:{clickable:!0},navigation:!0,loop:!0,className:"album-swiper",children:t.map((e,n)=>w.jsx(ZE,{children:w.jsx(tfe,{imageUrl:e.imageUrl,title:e.title,date:e.date,duration:e.duration,tracks:e.tracks})},n))})})]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#09090b",paddingTop:"40px",paddingBottom:"40px"},children:w.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[w.jsx("img",{src:" /images/contact-home.jpg",alt:"Description",style:{width:"100%",height:"100%",objectFit:"cover"}}),w.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",textAlign:"center",padding:"20px"},children:[w.jsx("h1",{style:{fontFamily:"Sansation",fontSize:"40px",fontWeight:"700",color:"white",textShadow:"2px 2px 0 black, -2px -2px 0 black, -2px 2px 0 black, 2px -2px 0 black"},children:"Want your event to be loud? Have a crazy night with us"}),w.jsx(Ai,{to:"/contact-us",style:{textDecoration:"none"},children:w.jsx(zl,{variant:"solid",p:8,fontFamily:"Sansation",fontWeight:"700",fontSize:20,background:"#E9204F",color:"white",children:"Contact Us"})})]})]})}),w.jsx(rc,{})]})}const xCe="_canvas_u5uol_1",_Ce={canvas:xCe},bb=({imageUrl:t,name:e,position:n,description:i})=>{const r=z.useRef(null);return z.useEffect(()=>{const s=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&a.target.classList.add("fade-in")})},{threshold:.2});return r.current&&s.observe(r.current),()=>{r.current&&s.unobserve(r.current)}},[]),w.jsxs("div",{ref:r,className:"member_container fade-section",children:[w.jsx("img",{src:t,alt:"item picture",className:"member_image"}),w.jsx("div",{className:"member_name",children:w.jsx("h2",{style:{fontWeight:"bold"},children:e})}),w.jsx("div",{className:"member_position",children:w.jsx("h2",{children:n})}),w.jsx("div",{className:"member_description",children:w.jsx("h5",{children:i})})]})};function bCe(){return w.jsxs("div",{className:`${_Ce.canvas} responsive-container`,style:{overflow:"hidden"},children:[w.jsx(Rt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1},style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"black",marginTop:"20px",position:"relative"},children:w.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[w.jsx("img",{src:" /images/aboutus.jpg",alt:"Stage Fright Tour",style:{width:"100%",height:"100%",objectFit:"cover"}}),w.jsx("div",{className:"hero2-overlay",children:w.jsx("h1",{children:"About Us"})})]})}),w.jsxs("div",{className:"background_lore_background",children:[w.jsxs(Rt.div,{className:"video_container",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:1},viewport:{once:!0},children:[w.jsx("video",{src:" /images/OutofFocus.mp4",controls:!0,poster:" /images/concertThumbnail.jpeg",className:"video",children:"Your browser does not support the video tag."}),w.jsx("h3",{className:"video_caption",children:"What it's like to Experience a Stage Fright Concert"})]}),w.jsxs("div",{className:"background_info",children:[w.jsx(Rt.h2,{className:"background_title",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1},viewport:{once:!0},children:"How the Band got Started"}),w.jsx(Rt.div,{className:"background_description1",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:"Stage Fright was born in 2010 when best friends Ryan Blake (guitarist) and Liam Carter (drummer) teamed up with vocalist Sophia Reed and bassist Emily Hayes after meeting at a local open mic night. Their shared love for classic rock and energetic performances brought them together, and they quickly began writing original songs."}),w.jsx(Rt.div,{className:"background_description2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.3},viewport:{once:!0},children:"The band’s name, Stage Fright, came from the nerves they all felt before their first show—a battle of the bands that they unexpectedly won. That moment cemented their bond and set them on a path to pursue music full-time."}),w.jsx(Rt.div,{className:"background_description3",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:"Since then, Stage Fright has been lighting up stages across the country with their dynamic sound and electric chemistry. From garage sessions to packed venues, they’ve built a loyal fanbase while staying true to their roots and passion for making music."})]})]}),w.jsxs("div",{className:"members_page",children:[w.jsx("h2",{className:"member_title",children:"Meet the Band"}),w.jsxs("div",{className:"members_page_sub",children:[w.jsx(bb,{imageUrl:" /images/People/VocalistImage.jpg",name:"Sophia Reed",position:"Vocalist",description:"Sophia Reed, a captivating vocalist, possesses a powerful and soulful voice that effortlessly blends raw emotion with technical precision."}),w.jsx(bb,{imageUrl:" /images/People/GuitaristImage.jpg",name:"Ryan Blake",position:"Guitarist",description:"Ryan Blake, a gifted guitarist with a fiery stage presence, delivers electrifying solos and intricate riffs that ignite the energy of every performance."}),w.jsx(bb,{imageUrl:" /images/People/BassistImage.jpg",name:"Emily Hayes",position:"Bassist",description:"Emily Hayes, a bassist renowned for her powerful and driving grooves, provides the solid foundation that anchors the band’s sound."}),w.jsx(bb,{imageUrl:" /images/People/DrummerImage.jpg",name:"Liam Carter",position:"Drummer",description:"Liam Carter, a dynamic drummer with impeccable timing and explosive energy, provides the driving force behind the band’s powerful sound."})]}),w.jsx(rc,{})]})]})}const oG=({imageUrl:t,price:e,title:n,description:i,orange:r,blue:s,black:o,grey:a})=>w.jsx(Ai,{to:"/checkout",className:"item-link",state:{imageUrl:t,price:e,title:n,description:i,orange:r,blue:s,black:o,grey:a},onClick:()=>window.scrollTo(0,0),children:w.jsxs(Rt.div,{className:"item-container",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:0},transition:{duration:.8},children:[w.jsx("div",{className:"image-container",children:w.jsx("img",{src:t,alt:"item picture",className:"item-image"})}),w.jsx("div",{className:"price-container",children:w.jsxs("h2",{className:"price",children:["$",e]})}),w.jsx("div",{className:"title-container",children:w.jsx("h3",{className:"title",children:n})}),w.jsx("div",{className:"description-container",children:w.jsx("p",{className:"description",children:i})})]})}),SCe=z.forwardRef(function(e,n){const{marks:i,label:r,showValue:s,...o}=e,a=e.defaultValue??e.value,l=i==null?void 0:i.map(d=>typeof d=="number"?{value:d,label:void 0}:d),c=!!(l!=null&&l.some(d=>d.label));return w.jsxs(Ene,{ref:n,thumbAlignment:"center",...o,children:[r&&!s&&w.jsx(R3,{children:r}),r&&s&&w.jsxs(J6,{justify:"space-between",children:[w.jsx(R3,{children:r}),w.jsx(Ane,{})]}),w.jsxs(Pne,{"data-has-mark-label":c||void 0,children:[w.jsx(Tne,{children:w.jsx(Cne,{})}),w.jsx(wCe,{value:a}),w.jsx(ECe,{marks:l})]})]})});function wCe(t){const{value:e}=t;return w.jsx(yne,{each:e,children:(n,i)=>w.jsx(Mne,{index:i,children:w.jsx(Ine,{})},i)})}const ECe=z.forwardRef(function(e,n){const{marks:i}=e;return i!=null&&i.length?w.jsx(X6,{ref:n,children:i.map((r,s)=>{const o=typeof r=="number"?r:r.value,a=typeof r=="number"?void 0:r.label;return w.jsxs(Y6,{value:o,children:[w.jsx(K6,{}),a]},s)})}):null});function m5(t){return fi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(t)}function TCe(t){return fi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M3.9 22.9C10.5 8.9 24.5 0 40 0L472 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm59.3 107.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"},child:[]}]})(t)}function bu(t){return Array.isArray?Array.isArray(t):cG(t)==="[object Array]"}function CCe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function MCe(t){return t==null?"":CCe(t)}function jl(t){return typeof t=="string"}function aG(t){return typeof t=="number"}function ACe(t){return t===!0||t===!1||PCe(t)&&cG(t)=="[object Boolean]"}function lG(t){return typeof t=="object"}function PCe(t){return lG(t)&&t!==null}function Ro(t){return t!=null}function YM(t){return!t.trim().length}function cG(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const ICe="Incorrect 'index' type",RCe=t=>`Invalid value for key ${t}`,kCe=t=>`Pattern length exceeds max of ${t}.`,NCe=t=>`Missing ${t} property in key`,LCe=t=>`Property 'weight' in key '${t}' must be a positive integer`,g5=Object.prototype.hasOwnProperty;class DCe{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(i=>{let r=uG(i);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(i=>{i.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function uG(t){let e=null,n=null,i=null,r=1,s=null;if(jl(t)||bu(t))i=t,e=v5(t),n=GP(t);else{if(!g5.call(t,"name"))throw new Error(NCe("name"));const o=t.name;if(i=o,g5.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(LCe(o));e=v5(o),n=GP(o),s=t.getFn}return{path:e,id:n,weight:r,src:i,getFn:s}}function v5(t){return bu(t)?t:t.split(".")}function GP(t){return bu(t)?t.join("."):t}function OCe(t,e){let n=[],i=!1;const r=(s,o,a)=>{if(Ro(s))if(!o[a])n.push(s);else{let l=o[a];const c=s[l];if(!Ro(c))return;if(a===o.length-1&&(jl(c)||aG(c)||ACe(c)))n.push(MCe(c));else if(bu(c)){i=!0;for(let d=0,h=c.length;d<h;d+=1)r(c[d],o,a+1)}else o.length&&r(c,o,a+1)}};return r(t,jl(e)?e.split("."):e,0),i?n:n[0]}const FCe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},zCe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},BCe={location:0,threshold:.6,distance:100},UCe={useExtendedSearch:!1,getFn:OCe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Vt={...zCe,...FCe,...BCe,...UCe};const VCe=/[^ ]+/g;function jCe(t=1,e=3){const n=new Map,i=Math.pow(10,e);return{get(r){const s=r.match(VCe).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*i)/i);return n.set(s,a),a},clear(){n.clear()}}}class Pk{constructor({getFn:e=Vt.getFn,fieldNormWeight:n=Vt.fieldNormWeight}={}){this.norm=jCe(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,i)=>{this._keysMap[n.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,jl(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();jl(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,i=this.size();n<i;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Ro(e)||YM(e))return;let i={v:e,i:n,n:this.norm.get(e)};this.records.push(i)}_addObject(e,n){let i={i:n,$:{}};this.keys.forEach((r,s)=>{let o=r.getFn?r.getFn(e):this.getFn(e,r.path);if(Ro(o)){if(bu(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:d}=l.pop();if(Ro(d))if(jl(d)&&!YM(d)){let h={v:d,i:c,n:this.norm.get(d)};a.push(h)}else bu(d)&&d.forEach((h,p)=>{l.push({nestedArrIndex:p,value:h})})}i.$[s]=a}else if(jl(o)&&!YM(o)){let a={v:o,n:this.norm.get(o)};i.$[s]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function dG(t,e,{getFn:n=Vt.getFn,fieldNormWeight:i=Vt.fieldNormWeight}={}){const r=new Pk({getFn:n,fieldNormWeight:i});return r.setKeys(t.map(uG)),r.setSources(e),r.create(),r}function WCe(t,{getFn:e=Vt.getFn,fieldNormWeight:n=Vt.fieldNormWeight}={}){const{keys:i,records:r}=t,s=new Pk({getFn:e,fieldNormWeight:n});return s.setKeys(i),s.setIndexRecords(r),s}function Sb(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:r=Vt.distance,ignoreLocation:s=Vt.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(i-n);return r?o+a/r:a?1:o}function HCe(t=[],e=Vt.minMatchCharLength){let n=[],i=-1,r=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&i===-1?i=s:!a&&i!==-1&&(r=s-1,r-i+1>=e&&n.push([i,r]),i=-1)}return t[s-1]&&s-i>=e&&n.push([i,s-1]),n}const bh=32;function GCe(t,e,n,{location:i=Vt.location,distance:r=Vt.distance,threshold:s=Vt.threshold,findAllMatches:o=Vt.findAllMatches,minMatchCharLength:a=Vt.minMatchCharLength,includeMatches:l=Vt.includeMatches,ignoreLocation:c=Vt.ignoreLocation}={}){if(e.length>bh)throw new Error(kCe(bh));const d=e.length,h=t.length,p=Math.max(0,Math.min(i,h));let v=s,y=p;const b=a>1||l,S=b?Array(h):[];let _;for(;(_=t.indexOf(e,y))>-1;){let D=Sb(e,{currentLocation:_,expectedLocation:p,distance:r,ignoreLocation:c});if(v=Math.min(D,v),y=_+d,b){let B=0;for(;B<d;)S[_+B]=1,B+=1}}y=-1;let E=[],T=1,P=d+h;const k=1<<d-1;for(let D=0;D<d;D+=1){let B=0,N=P;for(;B<N;)Sb(e,{errors:D,currentLocation:p+N,expectedLocation:p,distance:r,ignoreLocation:c})<=v?B=N:P=N,N=Math.floor((P-B)/2+B);P=N;let R=Math.max(1,p-N+1),U=o?h:Math.min(p+N,h)+d,W=Array(U+2);W[U+1]=(1<<D)-1;for(let ee=U;ee>=R;ee-=1){let K=ee-1,Z=n[t.charAt(K)];if(b&&(S[K]=+!!Z),W[ee]=(W[ee+1]<<1|1)&Z,D&&(W[ee]|=(E[ee+1]|E[ee])<<1|1|E[ee+1]),W[ee]&k&&(T=Sb(e,{errors:D,currentLocation:K,expectedLocation:p,distance:r,ignoreLocation:c}),T<=v)){if(v=T,y=K,y<=p)break;R=Math.max(1,2*p-y)}}if(Sb(e,{errors:D+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:c})>v)break;E=W}const F={isMatch:y>=0,score:Math.max(.001,T)};if(b){const D=HCe(S,a);D.length?l&&(F.indices=D):F.isMatch=!1}return F}function $Ce(t){let e={};for(let n=0,i=t.length;n<i;n+=1){const r=t.charAt(n);e[r]=(e[r]||0)|1<<i-n-1}return e}const Iw=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class fG{constructor(e,{location:n=Vt.location,threshold:i=Vt.threshold,distance:r=Vt.distance,includeMatches:s=Vt.includeMatches,findAllMatches:o=Vt.findAllMatches,minMatchCharLength:a=Vt.minMatchCharLength,isCaseSensitive:l=Vt.isCaseSensitive,ignoreDiacritics:c=Vt.ignoreDiacritics,ignoreLocation:d=Vt.ignoreLocation}={}){if(this.options={location:n,threshold:i,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:d},e=l?e:e.toLowerCase(),e=c?Iw(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(v,y)=>{this.chunks.push({pattern:v,alphabet:$Ce(v),startIndex:y})},p=this.pattern.length;if(p>bh){let v=0;const y=p%bh,b=p-y;for(;v<b;)h(this.pattern.substr(v,bh),v),v+=bh;if(y){const S=p-bh;h(this.pattern.substr(S),S)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:i,includeMatches:r}=this.options;if(e=n?e:e.toLowerCase(),e=i?Iw(e):e,this.pattern===e){let b={isMatch:!0,score:0};return r&&(b.indices=[[0,e.length-1]]),b}const{location:s,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:d}=this.options;let h=[],p=0,v=!1;this.chunks.forEach(({pattern:b,alphabet:S,startIndex:_})=>{const{isMatch:E,score:T,indices:P}=GCe(e,b,S,{location:s+_,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:r,ignoreLocation:d});E&&(v=!0),p+=T,E&&P&&(h=[...h,...P])});let y={isMatch:v,score:v?p/this.chunks.length:1};return v&&r&&(y.indices=h),y}}class af{constructor(e){this.pattern=e}static isMultiMatch(e){return y5(e,this.multiRegex)}static isSingleMatch(e){return y5(e,this.singleRegex)}search(){}}function y5(t,e){const n=t.match(e);return n?n[1]:null}class qCe extends af{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class XCe extends af{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class YCe extends af{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class KCe extends af{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class JCe extends af{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class QCe extends af{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class hG extends af{constructor(e,{location:n=Vt.location,threshold:i=Vt.threshold,distance:r=Vt.distance,includeMatches:s=Vt.includeMatches,findAllMatches:o=Vt.findAllMatches,minMatchCharLength:a=Vt.minMatchCharLength,isCaseSensitive:l=Vt.isCaseSensitive,ignoreDiacritics:c=Vt.ignoreDiacritics,ignoreLocation:d=Vt.ignoreLocation}={}){super(e),this._bitapSearch=new fG(e,{location:n,threshold:i,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class pG extends af{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,i;const r=[],s=this.pattern.length;for(;(i=e.indexOf(this.pattern,n))>-1;)n=i+s,r.push([i,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const $P=[qCe,pG,YCe,KCe,QCe,JCe,XCe,hG],x5=$P.length,ZCe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,eMe="|";function tMe(t,e={}){return t.split(eMe).map(n=>{let i=n.trim().split(ZCe).filter(s=>s&&!!s.trim()),r=[];for(let s=0,o=i.length;s<o;s+=1){const a=i[s];let l=!1,c=-1;for(;!l&&++c<x5;){const d=$P[c];let h=d.isMultiMatch(a);h&&(r.push(new d(h,e)),l=!0)}if(!l)for(c=-1;++c<x5;){const d=$P[c];let h=d.isSingleMatch(a);if(h){r.push(new d(h,e));break}}}return r})}const nMe=new Set([hG.type,pG.type]);class iMe{constructor(e,{isCaseSensitive:n=Vt.isCaseSensitive,ignoreDiacritics:i=Vt.ignoreDiacritics,includeMatches:r=Vt.includeMatches,minMatchCharLength:s=Vt.minMatchCharLength,ignoreLocation:o=Vt.ignoreLocation,findAllMatches:a=Vt.findAllMatches,location:l=Vt.location,threshold:c=Vt.threshold,distance:d=Vt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:i,includeMatches:r,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:l,threshold:c,distance:d},e=n?e:e.toLowerCase(),e=i?Iw(e):e,this.pattern=e,this.query=tMe(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:r,ignoreDiacritics:s}=this.options;e=r?e:e.toLowerCase(),e=s?Iw(e):e;let o=0,a=[],l=0;for(let c=0,d=n.length;c<d;c+=1){const h=n[c];a.length=0,o=0;for(let p=0,v=h.length;p<v;p+=1){const y=h[p],{isMatch:b,indices:S,score:_}=y.search(e);if(b){if(o+=1,l+=_,i){const E=y.constructor.type;nMe.has(E)?a=[...a,...S]:a.push(S)}}else{l=0,o=0,a.length=0;break}}if(o){let p={isMatch:!0,score:l/o};return i&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const qP=[];function rMe(...t){qP.push(...t)}function XP(t,e){for(let n=0,i=qP.length;n<i;n+=1){let r=qP[n];if(r.condition(t,e))return new r(t,e)}return new fG(t,e)}const Rw={AND:"$and",OR:"$or"},YP={PATH:"$path",PATTERN:"$val"},KP=t=>!!(t[Rw.AND]||t[Rw.OR]),sMe=t=>!!t[YP.PATH],oMe=t=>!bu(t)&&lG(t)&&!KP(t),_5=t=>({[Rw.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function mG(t,e,{auto:n=!0}={}){const i=r=>{let s=Object.keys(r);const o=sMe(r);if(!o&&s.length>1&&!KP(r))return i(_5(r));if(oMe(r)){const l=o?r[YP.PATH]:s[0],c=o?r[YP.PATTERN]:r[l];if(!jl(c))throw new Error(RCe(l));const d={keyId:GP(l),pattern:c};return n&&(d.searcher=XP(c,e)),d}let a={children:[],operator:s[0]};return s.forEach(l=>{const c=r[l];bu(c)&&c.forEach(d=>{a.children.push(i(d))})}),a};return KP(t)||(t=_5(t)),i(t)}function aMe(t,{ignoreFieldNorm:e=Vt.ignoreFieldNorm}){t.forEach(n=>{let i=1;n.matches.forEach(({key:r,norm:s,score:o})=>{const a=r?r.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),n.score=i})}function lMe(t,e){const n=t.matches;e.matches=[],Ro(n)&&n.forEach(i=>{if(!Ro(i.indices)||!i.indices.length)return;const{indices:r,value:s}=i;let o={indices:r,value:s};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function cMe(t,e){e.score=t.score}function uMe(t,e,{includeMatches:n=Vt.includeMatches,includeScore:i=Vt.includeScore}={}){const r=[];return n&&r.push(lMe),i&&r.push(cMe),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return r.length&&r.forEach(l=>{l(s,a)}),a})}class fp{constructor(e,n={},i){this.options={...Vt,...n},this.options.useExtendedSearch,this._keyStore=new DCe(this.options.keys),this.setCollection(e,i)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Pk))throw new Error(ICe);this._myIndex=n||dG(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ro(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let i=0,r=this._docs.length;i<r;i+=1){const s=this._docs[i];e(s,i)&&(this.removeAt(i),i-=1,r-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:i,includeScore:r,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let l=jl(e)?jl(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return aMe(l,{ignoreFieldNorm:a}),s&&l.sort(o),aG(n)&&n>-1&&(l=l.slice(0,n)),uMe(l,this._docs,{includeMatches:i,includeScore:r})}_searchStringList(e){const n=XP(e,this.options),{records:i}=this._myIndex,r=[];return i.forEach(({v:s,i:o,n:a})=>{if(!Ro(s))return;const{isMatch:l,score:c,indices:d}=n.searchIn(s);l&&r.push({item:s,idx:o,matches:[{score:c,value:s,norm:a,indices:d}]})}),r}_searchLogical(e){const n=mG(e,this.options),i=(a,l,c)=>{if(!a.children){const{keyId:h,searcher:p}=a,v=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:p});return v&&v.length?[{idx:c,item:l,matches:v}]:[]}const d=[];for(let h=0,p=a.children.length;h<p;h+=1){const v=a.children[h],y=i(v,l,c);if(y.length)d.push(...y);else if(a.operator===Rw.AND)return[]}return d},r=this._myIndex.records,s={},o=[];return r.forEach(({$:a,i:l})=>{if(Ro(a)){let c=i(n,a,l);c.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),c.forEach(({matches:d})=>{s[l].matches.push(...d)}))}}),o}_searchObjectList(e){const n=XP(e,this.options),{keys:i,records:r}=this._myIndex,s=[];return r.forEach(({$:o,i:a})=>{if(!Ro(o))return;let l=[];i.forEach((c,d)=>{l.push(...this._findMatches({key:c,value:o[d],searcher:n}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:e,value:n,searcher:i}){if(!Ro(n))return[];let r=[];if(bu(n))n.forEach(({v:s,i:o,n:a})=>{if(!Ro(s))return;const{isMatch:l,score:c,indices:d}=i.searchIn(s);l&&r.push({score:c,key:e,value:s,idx:o,norm:a,indices:d})});else{const{v:s,n:o}=n,{isMatch:a,score:l,indices:c}=i.searchIn(s);a&&r.push({score:l,key:e,value:s,norm:o,indices:c})}return r}}fp.version="7.1.0";fp.createIndex=dG;fp.parseIndex=WCe;fp.config=Vt;fp.parseQuery=mG;rMe(iMe);const dMe=()=>{const{user:t}=z.useContext(wu),[e,n]=z.useState(!1),[i,r]=z.useState([]),[s,o]=z.useState(""),[a,l]=z.useState(!0);z.useEffect(()=>{const b=uo(),S=_i(b,"/Merch/");tl(S).then(_=>{if(_.exists()){const E=_.val(),T=Object.values(E);r(T)}}).catch(_=>{console.error(_)}).finally(()=>{l(!1)})},[t]);const[c,d]=z.useState({category:"All",minPrice:4.99,maxPrice:50}),h=b=>{d(S=>({...S,category:b.target.value}))},p=i.filter(b=>(c.category==="All"||b.category===c.category)&&b.price>=c.minPrice&&b.price<=c.maxPrice),v=new fp(i,{keys:["title","description"],threshold:.3}),y=s?v.search(s).map(b=>b.item):p;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#000000",paddingTop:"0px",width:"100%",paddingBottom:"50px",marginTop:"-51px"},children:[w.jsx("div",{className:"hero-store",children:w.jsxs("div",{className:"hero-store-overlay",children:[w.jsx("h1",{className:"hero-store-title",style:{fontFamily:"Sansation",color:"white",fontWeight:"700"},children:"Shop Stage Fright"}),w.jsx("div",{className:"shop-search-container",children:w.jsx("input",{type:"text",placeholder:"Search items...",value:s,onChange:b=>o(b.target.value),className:"shop-search"})})]})}),w.jsxs("button",{onClick:()=>n(!e),style:{backgroundColor:"#333",color:"white",fontSize:"18px",padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px",alignSelf:"center",width:"auto",transform:e?"translateY(-10px)":"translateY(0)",transition:"transform 0.3s ease",display:"flex",alignItems:"center"},children:[w.jsx("span",{style:{marginRight:"10px"},children:e?w.jsx(TCe,{}):w.jsx(qde,{})}),e?"Hide Filters":"Show Filters"]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"5px",marginTop:"15px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3)",overflow:"hidden",height:e?"135px":"0px",opacity:e?"1":"0",transition:"height 0.5s ease, opacity 0.3s ease",width:e?"82%":"0%",backgroundColor:e?"#1a1a1a":"black"},children:e&&w.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"20px",backgroundColor:"#121212",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.3)"},children:[w.jsxs("div",{style:{flex:1,marginRight:"20px"},children:[w.jsx("label",{style:{fontSize:"18px",color:"#EAEAEA",marginBottom:"8px",display:"block",fontWeight:"500"},children:"Category"}),w.jsxs("select",{onChange:h,style:{padding:"10px 15px",fontSize:"16px",borderRadius:"8px",border:"1px solid #444",backgroundColor:"#333",color:"white",width:"100%",transition:"all 0.3s ease"},children:[w.jsx("option",{value:"All",children:"All"}),w.jsx("option",{value:"Vinyl",children:"Albums"}),w.jsx("option",{value:"Hoodies",children:"Hoodies"}),w.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),w.jsx("option",{value:"Stickers",children:"Stickers"}),w.jsx("option",{value:"Tank Top",children:"Tank Top"}),w.jsx("option",{value:"Candle",children:"Candle"}),w.jsx("option",{value:"Phone Case",children:"Phone Case"}),w.jsx("option",{value:"Hat",children:"Hat"}),w.jsx("option",{value:"Bag",children:"Bag"}),w.jsx("option",{value:"Socks",children:"Socks"})]})]}),w.jsxs("div",{style:{flex:1},children:[w.jsx("label",{style:{fontSize:"18px",color:"#EAEAEA",marginBottom:"8px",display:"block",fontWeight:"500"},children:"Price Range"}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[w.jsx(SCe,{width:"100%",defaultValue:[0,100],onValueChange:b=>{d(S=>({...S,minPrice:b.value[0],maxPrice:b.value[1]}))}}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginTop:"10px",fontSize:"14px",color:"#EAEAEA"},children:[w.jsxs("span",{children:["Min: $",c.minPrice.toFixed(2)]}),w.jsxs("span",{children:["Max: $",c.maxPrice.toFixed(2)]})]})]})]})]})}),w.jsx(Rt.div,{layout:!0,style:{display:"flex",flexWrap:"wrap",gap:"16px",justifyContent:"center",width:"100%",marginTop:"20px"},children:w.jsx(h7,{children:!a&&(y.length>0?y.map(b=>w.jsx(Rt.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.5,ease:"easeOut"},children:w.jsx(oG,{imageUrl:b.imageUrl,price:b.price,title:b.title,description:b.description,orange:b.orange,blue:b.blue,black:b.black,grey:b.grey})},b.title)):w.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{color:"white",fontSize:"24px",fontWeight:"bold",marginTop:"20vh",marginBottom:"20vh"},children:"No results found"}))})})]}),w.jsx(rc,{})]})},fMe=({imageUrl:t,place:e,address:n,price:i,startDate:r,endDate:s,mapData:o})=>w.jsx(Ai,{to:"/tour_details",className:"item-link",state:{imageUrl:t,place:e,address:n,price:i,startDate:r,endDate:s,mapData:o},onClick:()=>window.scrollTo(0,0),children:w.jsxs(Rt.div,{className:"card_outline",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0,amount:.2},children:[w.jsxs("div",{className:"tour_img",children:[w.jsx("img",{src:t,alt:"tour picture",className:"tour_img"}),w.jsx("div",{className:"tour_overlay",children:e})]}),w.jsxs("div",{className:"tour_details",children:[w.jsxs("p",{className:"tour_date",children:[w.jsxs("strong",{children:[w.jsx(zS,{})," ",r.toDateString()]})," "]}),w.jsxs("p",{className:"tour_price",children:["Starting at $",i]}),w.jsx("p",{className:"tour_address",children:w.jsxs("strong",{children:[w.jsx(Pj,{}),n]})}),w.jsx("button",{className:"tour_button",children:"Get Tickets"})]})]})});function hMe(){const t=[{imageUrl:" /images/Shows/HuntingtonBankPav.png",place:"Huntington Bank Pavilion",address:"1300 S Linn White Dr, Chicago, IL 60605",price:50,startDate:new Date("2025-06-01"),endDate:new Date("2025-06-02"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7420.551380478309!2d-87.61154152339903!3d41.86455426626153!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2b7aa5e5a88b%3A0x2b1be8f520a766ba!2s1300%20S%20Linn%20White%20Dr%2C%20Chicago%2C%20IL%2060605!5e1!3m2!1sen!2sus!4v1735970585409!5m2!1sen!2sus"},{imageUrl:" /images/Shows/Credit1Pav.png",place:"Credit Union 1 Arena",address:"525 S Racine Ave, Chicago, IL 60607",price:50,startDate:new Date("2025-06-07"),endDate:new Date("2025-06-08"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3477.591274925742!2d-87.65885062357913!3d41.87467056562848!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2ce067db1ecd%3A0x73faf6b37b26e279!2s525%20S%20Racine%20Ave%2C%20Chicago%2C%20IL%2060607!5e1!3m2!1sen!2sus!4v1736049280628!5m2!1sen!2sus"},{imageUrl:" /images/Shows/Credit1Amp.png",place:"Credit Union 1 Amphitheater",address:"19100 Ridgeland Ave, Tinley Park, IL 60477",price:50,startDate:new Date("2025-06-14"),endDate:new Date("2025-06-15"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3495.5194221513725!2d-87.77817272359236!3d41.544106886258966!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e167c293f99b1%3A0x49ae1068b1696c7e!2sCredit%20Union%201%20Amphitheatre!5e1!3m2!1sen!2sus!4v1736049372248!5m2!1sen!2sus"},{imageUrl:" /images/Shows/Riviera.png",place:"Riviera Theatre",address:"4746 N Racine Ave, Chicago, IL 60640",price:50,startDate:new Date("2025-06-21"),endDate:new Date("2025-06-22"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3472.472809154035!2d-87.66264292357535!3d41.96865595973894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd22cf3dffc5b%3A0xd556d6c6fd599c1!2s4746%20N%20Racine%20Ave%2C%20Chicago%2C%20IL%2060640!5e1!3m2!1sen!2sus!4v1736049447545!5m2!1sen!2sus"},{imageUrl:" /images/Shows/SaltShed.png",place:"Salt Shed",address:"1357 N Elston Ave, Chicago, IL 60642",price:50,startDate:new Date("2025-06-28"),endDate:new Date("2025-06-29"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6951.6919951081545!2d-87.66405951057561!3d41.9067366894724!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd2d83f2fb95b%3A0xce3f70174a3e2799!2s1357%20N%20Elston%20Ave%2C%20Chicago%2C%20IL%2060642!5e1!3m2!1sen!2sus!4v1736049503570!5m2!1sen!2sus"},{imageUrl:" /images/Shows/UnitedCenter.png",place:"United Center",address:"1901 W Madison St, Chicago, IL 60612",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3477.259710528626!2d-87.67675642357887!3d41.8807639652469!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2d3eb7f6e34d%3A0x1f0cd7161ad43000!2sUnited%20Center%2C%201901%20W%20Madison%20St%2C%20Chicago%2C%20IL%2060612!5e1!3m2!1sen!2sus!4v1736049562523!5m2!1sen!2sus"},{imageUrl:" /images/Shows/GreenMillLounge.jpg",place:"Green Mill Lounge",address:"4802 N Broadway, Chicago, IL 60640",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3005.073030687888!2d-87.6599222!3d41.969202800000005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd22c92322ce7%3A0xe2dc9f64b515c25f!2sThe%20Green%20Mill!5e1!3m2!1sen!2sus!4v1742304581681!5m2!1sen!2sus"},{imageUrl:" /images/Shows/HouseOfBlues.jpg",place:"House of Blues",address:"329 N Dearborn St, Chicago, IL 60654",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3008.887228253362!2d-87.63113188255612!3d41.888285!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2df40450f321%3A0x7dd71d91eeafe444!2sHouse%20of%20Blues%20Restaurant%20%26%20Bar!5e1!3m2!1sen!2sus!4v1742305093826!5m2!1sen!2sus"},{imageUrl:" /images/Shows/KingstonMines.jpg",place:"Kingston Mines",address:"2548 N Halsted St, Chicago, IL 606142",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3006.9829201819075!2d-87.6490441!3d41.9287006!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd305919cbff1%3A0x719a19cc064f264a!2sKingston%20Mines!5e1!3m2!1sen!2sus!4v1742305183282!5m2!1sen!2sus"},{imageUrl:" /images/Shows/ParkWest.jpg",place:"Park West",address:"322 W Armitage Ave, Chicago, IL 60614",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6014.918812259634!2d-87.63738100000002!3d41.91859099999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd36b3c958191%3A0x31056ce4626d33!2sPark%20West!5e1!3m2!1sen!2sus!4v1742305279265!5m2!1sen!2sus"},{imageUrl:" /images/Shows/ThaliaHall.jpg",place:"Thalia Hall",address:"1807 S Allport St, Chicago, IL 60608",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3010.3265413508657!2d-87.657459!3d41.857717!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2cffdb62b721%3A0x9a4a94db5d09cf36!2sThalia%20Hall!5e1!3m2!1sen!2sus!4v1742305345945!5m2!1sen!2sus"},{imageUrl:" /images/Shows/TheHideout.jpg",place:"The Hideout",address:"1354 W Wabansia Ave, Chicago, IL 60642",price:50,startDate:new Date("2025-07-05"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d48122.97785617003!2d-87.69751662089845!3d41.91378019999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd2de64eab689%3A0x335730d5ca5ebf70!2sThe%20Hideout!5e1!3m2!1sen!2sus!4v1742305439529!5m2!1sen!2sus"}],[e,n]=z.useState(""),[i,r]=z.useState(t);return z.useEffect(()=>{const s=new fp(t,{keys:["place","address"],threshold:.45});if(e.trim()==="")r(t);else{const o=s.search(e).map(a=>a.item);r(o)}},[e]),w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"tour-intro-container",children:[w.jsx("div",{className:"overlay"}),w.jsxs("div",{className:"overlay-text-container",children:[w.jsx("h1",{className:"tour-title",children:"Stage Fright on Tour"}),w.jsx("p",{className:"slogan",children:"Experience the Magic Live"}),w.jsx("div",{className:"search-container",children:w.jsx("input",{type:"text",placeholder:"Search by venue or address...",value:e,onChange:s=>n(s.target.value),className:"search-input"})})]})]}),w.jsx("div",{className:"tour-dates-container",children:w.jsx("div",{className:"items-container",children:i.length>0?w.jsx(h7,{children:i.map(s=>w.jsx(Rt.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:w.jsx(fMe,{imageUrl:s.imageUrl,place:s.place,address:s.address,price:s.price,startDate:s.startDate,endDate:s.endDate,mapData:s.mapData})},s.place))}):w.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},style:{color:"#ff4d4d",fontSize:"3rem",fontWeight:"bold",marginTop:"20vh",marginBottom:"20vh",textAlign:"center",fontFamily:"Sansation, sans-serif",textShadow:"1px 1px 5px rgba(0, 0, 0, 0.7)"},children:"No Events Found"})})}),w.jsx("br",{}),w.jsx(rc,{})]})}function gG(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=gG(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Fh(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=gG(t))&&(i&&(i+=" "),i+=e);return i}function pMe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}pMe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var s_=t=>typeof t=="number"&&!isNaN(t),Zh=t=>typeof t=="string",Su=t=>typeof t=="function",mMe=t=>Zh(t)||s_(t),JP=t=>Zh(t)||Su(t)?t:null,gMe=(t,e)=>t===!1||s_(t)&&t>0?t:e,QP=t=>z.isValidElement(t)||Zh(t)||Su(t)||s_(t);function vMe(t,e,n=300){let{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function yMe({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:h}){let p=n?`${t}--${o}`:t,v=n?`${e}--${o}`:e,y=z.useRef(0);return z.useLayoutEffect(()=>{let b=c.current,S=p.split(" "),_=E=>{E.target===c.current&&(h(),b.removeEventListener("animationend",_),b.removeEventListener("animationcancel",_),y.current===0&&E.type!=="animationcancel"&&b.classList.remove(...S))};b.classList.add(...S),b.addEventListener("animationend",_),b.addEventListener("animationcancel",_)},[]),z.useEffect(()=>{let b=c.current,S=()=>{b.removeEventListener("animationend",S),i?vMe(b,l,r):l()};d||(a?S():(y.current=1,b.className+=` ${v}`,b.addEventListener("animationend",S)))},[d]),it.createElement(it.Fragment,null,s)}}function b5(t,e){return{content:vG(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function vG(t,e,n=!1){return z.isValidElement(t)&&!Zh(t.type)?z.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Su(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function xMe({closeToast:t,theme:e,ariaLabel:n="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _Me({delay:t,isRunning:e,closeToast:n,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let h=r||o&&a===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let v=Fh("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),y=Su(s)?s({rtl:l,type:i,defaultClassName:v}):Fh(v,s),b={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),it.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:p,...b}))}var bMe=1,yG=()=>`${bMe++}`;function SMe(t,e,n){let i=1,r=0,s=[],o=[],a=e,l=new Map,c=new Set,d=E=>(c.add(E),()=>c.delete(E)),h=()=>{o=Array.from(l.values()),c.forEach(E=>E())},p=({containerId:E,toastId:T,updateId:P})=>{let k=E?E!==t:t!==1,F=l.has(T)&&P==null;return k||F},v=(E,T)=>{l.forEach(P=>{var k;(T==null||T===P.props.toastId)&&((k=P.toggle)==null||k.call(P,E))})},y=E=>{var T,P;(P=(T=E.props)==null?void 0:T.onClose)==null||P.call(T,E.removalReason),E.isActive=!1},b=E=>{if(E==null)l.forEach(y);else{let T=l.get(E);T&&y(T)}h()},S=()=>{r-=s.length,s=[]},_=E=>{var T,P;let{toastId:k,updateId:F}=E.props,D=F==null;E.staleId&&l.delete(E.staleId),E.isActive=!0,l.set(k,E),h(),n(b5(E,D?"added":"updated")),D&&((P=(T=E.props).onOpen)==null||P.call(T))};return{id:t,props:a,observe:d,toggle:v,removeToast:b,toasts:l,clearQueue:S,buildToast:(E,T)=>{if(p(T))return;let{toastId:P,updateId:k,data:F,staleId:D,delay:B}=T,N=k==null;N&&r++;let R={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(T).filter(([W,Y])=>Y!=null)),toastId:P,updateId:k,data:F,isIn:!1,className:JP(T.className||a.toastClassName),progressClassName:JP(T.progressClassName||a.progressClassName),autoClose:T.isLoading?!1:gMe(T.autoClose,a.autoClose),closeToast(W){l.get(P).removalReason=W,b(P)},deleteToast(){let W=l.get(P);if(W!=null){if(n(b5(W,"removed")),l.delete(P),r--,r<0&&(r=0),s.length>0){_(s.shift());return}h()}}};R.closeButton=a.closeButton,T.closeButton===!1||QP(T.closeButton)?R.closeButton=T.closeButton:T.closeButton===!0&&(R.closeButton=QP(a.closeButton)?a.closeButton:!0);let U={content:E,props:R,staleId:D};a.limit&&a.limit>0&&r>a.limit&&N?s.push(U):s_(B)?setTimeout(()=>{_(U)},B):_(U)},setProps(E){a=E},setToggle:(E,T)=>{let P=l.get(E);P&&(P.toggle=T)},isToastActive:E=>{var T;return(T=l.get(E))==null?void 0:T.isActive},getSnapshot:()=>o}}var zs=new Map,_x=[],ZP=new Set,wMe=t=>ZP.forEach(e=>e(t)),xG=()=>zs.size>0;function EMe(){_x.forEach(t=>bG(t.content,t.options)),_x=[]}var TMe=(t,{containerId:e})=>{var n;return(n=zs.get(e||1))==null?void 0:n.toasts.get(t)};function _G(t,e){var n;if(e)return!!((n=zs.get(e))!=null&&n.isToastActive(t));let i=!1;return zs.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function CMe(t){if(!xG()){_x=_x.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||mMe(t))zs.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=zs.get(t.containerId);e?e.removeToast(t.id):zs.forEach(n=>{n.removeToast(t.id)})}}var MMe=(t={})=>{zs.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function bG(t,e){QP(t)&&(xG()||_x.push({content:t,options:e}),zs.forEach(n=>{n.buildToast(t,e)}))}function AMe(t){var e;(e=zs.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function SG(t,e){zs.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function PMe(t){let e=t.containerId||1;return{subscribe(n){let i=SMe(e,t,wMe);zs.set(e,i);let r=i.observe(n);return EMe(),()=>{r(),zs.delete(e)}},setProps(n){var i;(i=zs.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=zs.get(e))==null?void 0:n.getSnapshot()}}}function IMe(t){return ZP.add(t),()=>{ZP.delete(t)}}function RMe(t){return t&&(Zh(t.toastId)||s_(t.toastId))?t.toastId:yG()}function o_(t,e){return bG(t,e),e.toastId}function eT(t,e){return{...e,type:e&&e.type||t,toastId:RMe(e)}}function tT(t){return(e,n)=>o_(e,eT(t,n))}function Sn(t,e){return o_(t,eT("default",e))}Sn.loading=(t,e)=>o_(t,eT("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function kMe(t,{pending:e,error:n,success:i},r){let s;e&&(s=Zh(e)?Sn.loading(e,r):Sn.loading(e.render,{...r,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,h)=>{if(d==null){Sn.dismiss(s);return}let p={type:c,...o,...r,data:h},v=Zh(d)?{render:d}:d;return s?Sn.update(s,{...p,...v}):Sn(v.render,{...p,...v}),h},l=Su(t)?t():t;return l.then(c=>a("success",i,c)).catch(c=>a("error",n,c)),l}Sn.promise=kMe;Sn.success=tT("success");Sn.info=tT("info");Sn.error=tT("error");Sn.warning=tT("warning");Sn.warn=Sn.warning;Sn.dark=(t,e)=>o_(t,eT("default",{theme:"dark",...e}));function NMe(t){CMe(t)}Sn.dismiss=NMe;Sn.clearWaitingQueue=MMe;Sn.isActive=_G;Sn.update=(t,e={})=>{let n=TMe(t,e);if(n){let{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:yG()};s.toastId!==t&&(s.staleId=t);let o=s.render||r;delete s.render,o_(o,s)}};Sn.done=t=>{Sn.update(t,{progress:1})};Sn.onChange=IMe;Sn.play=t=>SG(!0,t);Sn.pause=t=>SG(!1,t);function LMe(t){var e;let{subscribe:n,getSnapshot:i,setProps:r}=z.useRef(PMe(t)).current;r(t);let s=(e=z.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:_G,count:s==null?void 0:s.length}}function DMe(t){let[e,n]=z.useState(!1),[i,r]=z.useState(!1),s=z.useRef(null),o=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=t;AMe({id:t.toastId,containerId:t.containerId,fn:n}),z.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{v()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||_(),window.addEventListener("focus",S),window.addEventListener("blur",_)}function v(){window.removeEventListener("focus",S),window.removeEventListener("blur",_)}function y(D){if(t.draggable===!0||t.draggable===D.pointerType){E();let B=s.current;o.canCloseOnClick=!0,o.canDrag=!0,B.style.transition="none",t.draggableDirection==="x"?(o.start=D.clientX,o.removalDistance=B.offsetWidth*(t.draggablePercent/100)):(o.start=D.clientY,o.removalDistance=B.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(D){let{top:B,bottom:N,left:R,right:U}=s.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=R&&D.clientX<=U&&D.clientY>=B&&D.clientY<=N?_():S()}function S(){n(!0)}function _(){n(!1)}function E(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",k)}function T(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",k)}function P(D){let B=s.current;if(o.canDrag&&B){o.didMove=!0,e&&_(),t.draggableDirection==="x"?o.delta=D.clientX-o.start:o.delta=D.clientY-o.start,o.start!==D.clientX&&(o.canCloseOnClick=!1);let N=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;B.style.transform=`translate3d(${N},0)`,B.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function k(){T();let D=s.current;if(o.canDrag&&o.didMove&&D){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let F={onPointerDown:y,onPointerUp:b};return a&&l&&(F.onMouseEnter=_,t.stacked||(F.onMouseLeave=S)),h&&(F.onClick=D=>{d&&d(D),o.canCloseOnClick&&c(!0)}),{playToast:S,pauseToast:_,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:F}}var OMe=typeof window<"u"?z.useLayoutEffect:z.useEffect,nT=({theme:t,type:e,isLoading:n,...i})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function FMe(t){return it.createElement(nT,{...t},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function zMe(t){return it.createElement(nT,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function BMe(t){return it.createElement(nT,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function UMe(t){return it.createElement(nT,{...t},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function VMe(){return it.createElement("div",{className:"Toastify__spinner"})}var e2={info:zMe,warning:FMe,success:BMe,error:UMe,spinner:VMe},jMe=t=>t in e2;function WMe({theme:t,type:e,isLoading:n,icon:i}){let r=null,s={theme:t,type:e};return i===!1||(Su(i)?r=i({...s,isLoading:n}):z.isValidElement(i)?r=z.cloneElement(i,s):n?r=e2.spinner():jMe(e)&&(r=e2[e](s))),r}var HMe=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=DMe(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:p,transition:v,position:y,className:b,style:S,progressClassName:_,updateId:E,role:T,progress:P,rtl:k,toastId:F,deleteToast:D,isIn:B,isLoading:N,closeOnClick:R,theme:U,ariaLabel:W}=t,Y=Fh("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":R}),ee=Su(b)?b({rtl:k,position:y,type:d,defaultClassName:Y}):Fh(Y,b),K=WMe(t),Z=!!P||!l,G={closeToast:p,type:d,theme:U},j=null;return o===!1||(Su(o)?j=o(G):z.isValidElement(o)?j=z.cloneElement(o,G):j=xMe(G)),it.createElement(v,{isIn:B,done:D,position:y,preventExitTransition:n,nodeRef:i,playToast:s},it.createElement("div",{id:F,tabIndex:0,onClick:c,"data-in":B,className:ee,...r,style:S,ref:i,...B&&{role:T,"aria-label":W}},K!=null&&it.createElement("div",{className:Fh("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},K),vG(a,t,!e),j,!t.customProgressBar&&it.createElement(_Me,{...E&&!Z?{key:`p-${E}`}:{},rtl:k,theme:U,delay:l,isRunning:e,isIn:B,closeToast:p,hide:h,type:d,className:_,controlledProgress:Z,progress:P||0})))},GMe=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),$Me=yMe(GMe("bounce",!0)),qMe={position:"top-right",transition:$Me,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function dv(t){let e={...qMe,...t},n=t.stacked,[i,r]=z.useState(!0),s=z.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=LMe(e),{className:c,style:d,rtl:h,containerId:p,hotKeys:v}=e;function y(S){let _=Fh("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":h});return Su(c)?c({position:S,rtl:h,defaultClassName:_}):Fh(_,JP(c))}function b(){n&&(r(!0),Sn.play())}return OMe(()=>{var S;if(n){let _=s.current.querySelectorAll('[data-in="true"]'),E=12,T=(S=e.position)==null?void 0:S.includes("top"),P=0,k=0;Array.from(_).reverse().forEach((F,D)=>{let B=F;B.classList.add("Toastify__toast--stacked"),D>0&&(B.dataset.collapsed=`${i}`),B.dataset.pos||(B.dataset.pos=T?"top":"bot");let N=P*(i?.2:1)+(i?0:E*D);B.style.setProperty("--y",`${T?N:N*-1}px`),B.style.setProperty("--g",`${E}`),B.style.setProperty("--s",`${1-(i?k:0)}`),P+=B.offsetHeight,k+=.025})}},[i,l,n]),z.useEffect(()=>{function S(_){var E;let T=s.current;v(_)&&((E=T.querySelector('[tabIndex="0"]'))==null||E.focus(),r(!1),Sn.pause()),_.key==="Escape"&&(document.activeElement===T||T!=null&&T.contains(document.activeElement))&&(r(!0),Sn.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[v]),it.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(r(!1),Sn.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((S,_)=>{let E=_.length?{...d}:{...d,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:y(S),"data-stacked":n,style:E,key:`c-${S}`},_.map(({content:T,props:P})=>it.createElement(HMe,{...P,stacked:n,collapseAll:b,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},T)))}))}function XMe(){const[t,e]=z.useState(""),[n,i]=z.useState(""),[r,s]=z.useState(""),[o,a]=z.useState(""),l=()=>{e(""),i(""),s(""),a(""),Sn.success("Your message has been sent to our team. We will get back to you as soon as possible!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})};return w.jsxs("div",{children:[w.jsx(dv,{}),w.jsx("div",{className:"hero-contact",children:w.jsx("div",{className:"hero-contact-overlay",children:w.jsx("h1",{children:"Contact Us"})})}),w.jsxs("div",{className:"faq_container",children:[w.jsx("div",{className:"faq_title_container",children:w.jsx(Rt.h2,{className:"faq_title",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},children:"FAQ"})}),w.jsxs("div",{className:"faq_sub",children:[w.jsxs(Rt.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Does the band manage its own social media accounts?"}),w.jsx("div",{className:"faq_a",children:"Yes, we manage our social media accounts directly, so feel free to send us a message or leave a comment."})]}),w.jsxs(Rt.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.2},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Does the band perform at private events or weddings?"}),w.jsx("div",{className:"faq_a",children:"Yes! We are available for private events. Contact us for availability and pricing details."})]}),w.jsxs(Rt.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.4},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"What is the band’s touring schedule?"}),w.jsx("div",{className:"faq_a",children:"You can check our upcoming shows and tour dates on the Tour page."})]}),w.jsxs(Rt.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Do you ship merchandise internationally?"}),w.jsx("div",{className:"faq_a",children:"Yes, we ship to all countries. Please check the Merch page to see our most updated offers."})]}),w.jsxs(Rt.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.8},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Can I send fan mail or gifts to the band?"}),w.jsx("div",{className:"faq_a",children:"We love hearing from fans! Coming in late 2025 we will be allowing fan mail!"})]})]})]}),w.jsxs("div",{className:"contact_info_container",children:[w.jsx(Rt.div,{className:"contact_info_title",initial:{opacity:0,y:-50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:"Contact Stage Fright"}),w.jsxs(Rt.div,{className:"contact_info_phone",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1},viewport:{once:!0},children:[w.jsxs("h2",{className:"phone-text",children:[w.jsx(Qne,{className:"phone_icon"}),"Phone:"]}),w.jsx("h2",{children:"Chicago: 123-456-7890"}),w.jsx("h2",{children:"Naperville: 987-654-3210"}),w.jsx("h2",{children:"Springfield: 246-810-1214"}),w.jsx("h2",{children:"Elgin: 369-121-5182"})]}),w.jsxs(Rt.div,{className:"contact_info_email",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1,delay:.3},viewport:{once:!0},children:[w.jsxs("h2",{className:"email-text",children:[w.jsx(Yne,{className:"email_icon"}),"Email:"]}),w.jsx("h2",{children:"Chicago: stagefri_chic@gmail.com"}),w.jsx("h2",{children:"Naperville: stagefri_np@gmail.com"}),w.jsx("h2",{children:"Springfield: stagefri.sf@gmail.com"}),w.jsx("h2",{children:"Elgin: stagefright.elgin@gmail.com"})]}),w.jsxs(Rt.div,{className:"contact_info_message",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:[w.jsx("h2",{className:"message_title",children:"Send a Message"}),w.jsxs("div",{className:"message_sub",children:[w.jsx("form",{className:"name_field",children:w.jsx("input",{type:"text",id:"name",placeholder:"Enter your name",value:t,onChange:c=>e(c.target.value)})}),w.jsx("form",{className:"number_field",children:w.jsx("input",{type:"tel",id:"number",placeholder:"Enter your phone number",value:n,onChange:c=>i(c.target.value)})}),w.jsx("form",{className:"email_field",children:w.jsx("input",{type:"text",id:"email",placeholder:"Enter your email",value:r,onChange:c=>s(c.target.value)})}),w.jsx("form",{className:"message_field",children:w.jsx("textarea",{id:"message",placeholder:"Enter your message",value:o,onChange:c=>a(c.target.value),style:{whiteSpace:"pre-wrap"}})}),w.jsx("button",{className:"send_button",onClick:l,children:"Send"})]})]})]}),w.jsx(rc,{})]})}const YMe=({reviews:t})=>{const[e,n]=z.useState(0),i=BEe();return z.useEffect(()=>{const r=()=>{n(window.scrollY)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),w.jsx(QE,{modules:[Ak,rG,sG],spaceBetween:20,slidesPerView:3,pagination:{clickable:!0},scrollbar:{draggable:!0},className:"review-carousel",children:t.map((r,s)=>(e>s*200&&i.start({opacity:1,y:0}),w.jsx(ZE,{className:"review-card",children:w.jsxs(Rt.div,{className:"review-card-content",initial:{opacity:0,y:20},animate:i,transition:{delay:s*.2,duration:.2},children:[w.jsx(Rt.img,{src:r.imageUrl,alt:"item picture",className:"review-card-picture",whileHover:{scale:1.1},transition:{duration:.3}}),w.jsxs("div",{className:"review-info",children:[w.jsx("h2",{className:"review-name",children:r.name}),w.jsx("h3",{className:"review-rating",children:"★".repeat(r.rating)}),w.jsx("p",{className:"review-description",children:r.description})]})]})},s)))})},KMe=z.forwardRef(function(e,n){const{label:i,...r}=e;return w.jsxs(_ne,{...r,unstyled:!0,ref:n,children:[i&&w.jsx(bne,{children:i}),w.jsxs(J6,{gap:"2",children:[w.jsx(JMe,{}),w.jsx(Sne,{textAlign:"center",fontSize:"lg",minW:"3ch"}),w.jsx(QMe,{})]})]})}),JMe=z.forwardRef(function(e,n){return w.jsx($6,{...e,asChild:!0,ref:n,children:w.jsx(Do,{variant:"outline",size:"sm",children:w.jsx(Kne,{})})})}),QMe=z.forwardRef(function(e,n){return w.jsx(G6,{...e,asChild:!0,ref:n,children:w.jsx(Do,{variant:"outline",size:"sm",children:w.jsx(Zne,{})})})}),ZMe=()=>{const{user:t}=z.useContext(wu),e=ll(),{imageUrl:n,price:i,title:r,description:s,orange:o,blue:a,black:l,grey:c}=e.state||{},[d,h]=z.useState(l||[]),[p,v]=z.useState(d[0]||n),[y,b]=z.useState("black"),[S,_]=z.useState("S"),[E,T]=z.useState(1),P=z.useRef(null);z.useEffect(()=>{if(e.state){const{black:R,imageUrl:U}=e.state;h(R||[]),v(R&&R[0]||U),b("black"),_("S"),T(1)}},[e.state]),z.useEffect(()=>{const R=P.current;if(!R)return;const U=Y=>{const{left:ee,top:K,width:Z,height:G}=R.getBoundingClientRect(),j=(Y.clientX-ee)/Z,Q=(Y.clientY-K)/G,ne=j*100,q=Q*100;R.style.backgroundPosition=`${ne}% ${q}%`},W=()=>{R.style.backgroundPosition="50% 50%"};return R.addEventListener("mousemove",U),R.addEventListener("mouseleave",W),()=>{R.removeEventListener("mousemove",U),R.removeEventListener("mouseleave",W)}},[p]);const k=(R,U)=>{h(R),v(R[0]),b(U)},F=[{imageUrl:"/images/review1.jpg",name:"David Weis",rating:5,description:"“I’ve never been more impressed with a product. It works perfectly and looks amazing!”"},{imageUrl:"/images/review2.jpg",name:"John Doe",rating:5,description:"“This product has completely exceeded my expectations, offering both quality and great value.”"},{imageUrl:"/images/review3.jpg",name:"Jane Smith",rating:5,description:"“I can’t believe how much this has improved my daily routine. Truly a game-changer!”"}];function D(){const R=uo();if(t&&t.email){const U=_i(R,"users/"+t.email.replace(".",",")+"/cart/items");DS(U,{title:r,Size:S,color:y,imageUrl:p,price:i,description:s,quantity:E});const W=_i(R,"users/"+t.email.replace(".",",")+"/cart/totalItems");FS(W,Y=>(Y||0)+1),Sn.success(`${r} has been added to your cart!`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else Sn.error("Please login to add items to your cart!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}const[B,N]=z.useState([]);return z.useEffect(()=>{const R=uo(),U=_i(R,"/Merch/");tl(U).then(W=>{if(W.exists()){const Y=W.val(),ee=Object.values(Y);N(ee),r&&N(K=>K.filter(Z=>Z.title!==r))}}).catch(W=>{console.error(W)})},[r]),w.jsxs("div",{style:{paddingTop:"100px"},children:[w.jsx(dv,{}),w.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"product-container",children:[w.jsxs("div",{className:"product-images-container",children:[w.jsx("div",{className:"add-images",children:d.map((R,U)=>w.jsx(Rt.button,{className:"add-images-btn",onClick:()=>v(R),whileHover:{scale:1},whileTap:{scale:.95},children:w.jsx("img",{src:R,alt:`Additional image ${U}`,className:"add-images-img"})},U))}),w.jsx("div",{className:"main-image",children:w.jsx(Rt.div,{className:"image-zoom-container",style:{backgroundImage:`url(${p})`},ref:P,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5}})})]}),w.jsxs(Rt.div,{className:"product-details-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:[w.jsx("h2",{className:"product-title",children:r}),w.jsx("p",{className:"product-description",children:s}),w.jsx("div",{className:"divider"}),r&&!r.toLowerCase().includes("vinyl")&&!r.toLowerCase().includes("candle")&&!r.toLowerCase().includes("sticker")&&!r.toLowerCase().includes("bag")&&!r.toLowerCase().includes("socks")&&w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"product-color-title",children:"Color"}),w.jsxs("div",{className:"color-options",children:[w.jsx("button",{className:`color-btn ${y==="black"?"selected":""}`,style:{backgroundColor:"#010B13"},onClick:()=>k(l,"black")}),w.jsx("button",{className:`color-btn ${y==="grey"?"selected":""}`,style:{backgroundColor:"#bac2bc"},onClick:()=>k(c,"grey")}),w.jsx("button",{className:`color-btn ${y==="orange"?"selected":""}`,style:{backgroundColor:"#FF4500"},onClick:()=>k(o,"orange")}),w.jsx("button",{className:`color-btn ${y==="blue"?"selected":""}`,style:{backgroundColor:"#225b9c"},onClick:()=>k(a,"blue")})]})]}),r&&!r.toLowerCase().includes("vinyl")&&!r.toLowerCase().includes("candle")&&!r.toLowerCase().includes("sticker")&&!r.toLowerCase().includes("bag")&&!r.toLowerCase().includes("phone")&&w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"product-size-title",children:"Size"}),w.jsxs("div",{className:"size-options",children:[w.jsx("button",{className:"size-btn",style:{fontWeight:S==="S"?"bold":"normal",outline:S==="S"?"none":"",boxShadow:S==="S"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("S"),children:"S"}),w.jsx("button",{className:"size-btn",style:{fontWeight:S==="M"?"bold":"normal",outline:S==="M"?"none":"",boxShadow:S==="M"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("M"),children:"M"}),w.jsx("button",{className:"size-btn",style:{fontWeight:S==="L"?"bold":"normal",outline:S==="L"?"none":"",boxShadow:S==="L"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("L"),children:"L"}),w.jsx("button",{className:"size-btn",style:{fontWeight:S==="XL"?"bold":"normal",outline:S==="XL"?"none":"",boxShadow:S==="XL"?"0 0 0 2px #FF6B6B":""},onClick:()=>_("XL"),children:"XL"})]})]})]}),w.jsxs(Rt.div,{className:"checkout-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:[w.jsxs("h2",{className:"product-price",children:["$",i]}),w.jsx("p",{className:"product-price-note",children:"Price When Purchased Online"}),w.jsx("p",{className:"product-return-policy",children:"Free 90 Day Returns"}),w.jsx("p",{className:"product-seller",children:"Sold by Stage Fright TM"}),w.jsx("h3",{className:"quantity-title",children:"Quantity:"}),w.jsx("div",{children:w.jsx(KMe,{defaultValue:"1",onValueChange:({value:R})=>T(Math.max(1,Number(R))),value:E.toString()})}),w.jsx("button",{className:"add-to-cart-btn",onClick:D,children:"Add to Cart"})]})]}),w.jsxs(Rt.div,{className:"review_container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[w.jsx("h2",{style:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginBottom:"30px",color:"#fff",textTransform:"uppercase",letterSpacing:"2px"},children:"What Our Fans Say"}),w.jsx(YMe,{reviews:F})]}),w.jsxs(Rt.div,{className:"checkout-other-products-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.5},children:[w.jsx("h2",{className:"checkout-other-products-title",children:"Shop Similar Items"}),w.jsx("div",{className:"checkout-other-products-carousel",children:w.jsx(QE,{modules:[iG,Ak,rG,sG],slidesPerView:1,breakpoints:{768:{slidesPerView:1},1024:{slidesPerView:3},1750:{slidesPerView:4}},navigation:!0,pagination:{clickable:!0},scrollbar:{draggable:!0},children:B.map((R,U)=>w.jsx(ZE,{className:"checkout-other-products-card",children:w.jsx(oG,{imageUrl:R.imageUrl,price:R.price,title:R.title,description:R.description,orange:R.orange,blue:R.blue,black:R.black,grey:R.grey})},U))})})]}),w.jsx(rc,{})]})},eAe=()=>{const{user:t}=z.useContext(wu),e=ll(),{address:n,place:i,price:r,startDate:s,endDate:o,mapData:a}=e.state||{},[l,c]=z.useState(new Array(30).fill({status:"none"})),[d,h]=z.useState(!1),[p,v]=z.useState(!1),[y,b]=z.useState(!1),[S,_]=z.useState(0);z.useEffect(()=>{P()},[l,d,p,y]),z.useEffect(()=>{const D=uo(),B=_i(D,`/${i}/`);tl(B).then(N=>{if(N.exists()){const U=N.val().map(W=>({status:W?"booked":"none"}));c(U)}}).catch(N=>{console.error("Error fetching booked seats:",N)})},[]);const E=D=>{const B=[...l];B[D].status==="none"?B[D].status="selected":B[D].status==="selected"&&(B[D].status="none"),c(B)},T=D=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(D/10)],R=D%10+1;return`${N}${R}`},P=()=>{const D=l.filter(B=>B.status==="selected");_(D.length*r+(d?50:0)+(p?100:0)+(y?75:0))};function k(){const D=uo();if(t&&t.email){const B=_i(D,"users/"+t.email.replace(".",",")+"/tours/items"),N=l.filter(U=>U.status==="selected");if(N.length===0){Sn.error("You must select at least one seat!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}});return}DS(B,{place:i,startDate:s instanceof Date?s.toISOString().split("T")[0]:s,endDate:o instanceof Date?o.toISOString().split("T")[0]:o,address:n,realPrice:S,quantity:l.filter(U=>U.status==="selected").length,selectedSeats:N.map(U=>l.indexOf(U)),backstage:p,lounge:y,meet:d});const R=_i(D,"users/"+t.email.replace(".",",")+"/tours/totalItems");FS(R,U=>(U||0)+1),Sn.success(`${i} has been added to your cart!`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else Sn.error("Please login to add items to your cart!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}const F={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return w.jsxs("div",{children:[w.jsx(dv,{}),w.jsx(Rt.div,{className:"hero",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:w.jsxs("div",{className:"hero-overlay",children:[w.jsx(Rt.h1,{initial:{y:-50},animate:{y:0},transition:{duration:.8},children:"Stage Fright Tour"}),w.jsxs(Rt.p,{initial:{y:50},animate:{y:0},transition:{duration:.8},children:["Experience an unforgettable night of music at ",i]})]})}),w.jsxs("main",{children:[w.jsxs(Rt.div,{className:"tour-main",initial:"hidden",animate:"visible",children:[w.jsxs("div",{className:"left-container",children:[w.jsxs(Rt.section,{className:"card",variants:F,children:[w.jsx("h2",{children:"Event Details"}),w.jsxs("p",{className:"event-det",children:[w.jsxs("strong",{children:[w.jsx(zS,{})," Start Date:"]})," ",s instanceof Date?s.toLocaleDateString():s]}),w.jsxs("p",{className:"event-det",children:[w.jsxs("strong",{children:[w.jsx(zS,{})," End Date:"]})," ",o instanceof Date?o.toLocaleDateString():o]}),w.jsxs("p",{className:"event-det",children:[w.jsxs("strong",{children:[w.jsx(Pj,{})," Address:"]})," ",n]})]}),w.jsxs(Rt.section,{className:"card",variants:F,children:[w.jsx("h2",{children:"Location"}),w.jsx("iframe",{src:a,width:"100%",height:"300",className:"map",allowFullScreen:!0,loading:"lazy"})]})]}),w.jsx("div",{className:"right-container",children:w.jsxs(Rt.section,{className:"card",variants:F,children:[w.jsx("h2",{children:"Ticketing"}),w.jsxs("div",{className:"tickets",children:[w.jsxs("div",{className:"ticket-selector",children:[w.jsx("div",{className:"head",children:w.jsxs("div",{className:"title_tour",children:["Seating at ",i]})}),w.jsx("div",{className:"screen",children:w.jsx("div",{className:"screen-text",children:"Concert Stage"})}),w.jsxs(Rt.div,{className:"seats",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[w.jsxs("div",{className:"status",children:[w.jsx("div",{className:"item",children:"Available"}),w.jsx("div",{className:"item",children:"Booked"}),w.jsx("div",{className:"item",children:"Selected"})]}),w.jsx("div",{className:"all-seats",children:l.map((D,B)=>w.jsx(Rt.div,{className:"seat-container",variants:F,children:w.jsx("div",{className:`seat ${D.status}`,onClick:()=>{E(B),P()},children:T(B)})},B))})]}),w.jsxs("div",{className:"vip-options",children:[w.jsx("h3",{children:"VIP Pass Options"}),w.jsxs("div",{className:"vip-item",onClick:()=>{const D=document.getElementById("vip1");D.checked=!D.checked,h(D.checked),P()},children:[w.jsx("input",{type:"checkbox",id:"vip1",onChange:D=>{h(D.target.checked),P()}}),w.jsx("label",{htmlFor:"vip1",children:"VIP Meet and Greet - $50"})]}),w.jsxs("div",{className:"vip-item",onClick:()=>{const D=document.getElementById("vip2");D.checked=!D.checked,v(D.checked),P()},children:[w.jsx("input",{type:"checkbox",id:"vip2",onChange:D=>{v(D.target.checked),P()}}),w.jsx("label",{htmlFor:"vip2",children:"VIP Backstage Access - $100"})]}),w.jsxs("div",{className:"vip-item",onClick:()=>{const D=document.getElementById("vip3");D.checked=!D.checked,b(D.checked),P()},children:[w.jsx("input",{type:"checkbox",id:"vip3",onChange:D=>{b(D.target.checked),P()}}),w.jsx("label",{htmlFor:"vip3",children:"VIP Lounge Access - $75"})]})]})]}),w.jsxs("div",{className:"price_tour",children:[w.jsxs("div",{className:"total",children:[w.jsxs("span",{children:[w.jsx("span",{children:l.filter(D=>D.status==="selected").length})," Tickets"]}),w.jsxs("div",{className:"amount",children:["$",S]})]}),w.jsx("button",{type:"button",onClick:k,children:"Book"})]})]})]})})]}),w.jsxs(Rt.section,{className:"card",variants:F,children:[w.jsx("h2",{children:"Event Rules / FAQ"}),w.jsxs("div",{className:"faq-list",children:[w.jsxs("div",{className:"faq-item",children:[w.jsx("h3",{children:"What time do the doors open?"}),w.jsx("p",{children:"Doors open at 6:00 PM."})]}),w.jsxs("div",{className:"faq-item",children:[w.jsx("h3",{children:"Are there any age restrictions?"}),w.jsx("p",{children:"This event is open to all ages."})]}),w.jsxs("div",{className:"faq-item",children:[w.jsx("h3",{children:"Can I bring my own food and drinks?"}),w.jsx("p",{children:"Outside food and drinks are not permitted. Concessions will be available inside the venue."})]}),w.jsxs("div",{className:"faq-item",children:[w.jsx("h3",{children:"What is the refund policy?"}),w.jsx("p",{children:"All sales are final. No refunds or exchanges unless the event is canceled."})]})]})]}),w.jsxs(Rt.section,{className:"card",variants:F,children:[w.jsx("h2",{style:{color:"#ff6347"},children:"Accessibility Information"}),w.jsxs("div",{style:{backgroundColor:"#222222",borderRadius:"8px",padding:"16px"},children:[w.jsx("p",{style:{fontSize:"1.3rem",fontWeight:"bolder"},children:"We strive to make our events accessible to everyone. Available features include:"}),w.jsxs("ul",{children:[w.jsx("li",{children:"  - Wheelchair accessible seating and restrooms"}),w.jsx("li",{children:"  - Sign language interpreters available upon request"}),w.jsx("li",{children:"  - Assistive listening devices"}),w.jsx("li",{children:"  - Service animals welcome"})]})]})]}),w.jsxs(Rt.section,{className:"card",variants:F,children:[w.jsx("h2",{style:{color:"#ff6347"},children:"Event Sponsors"}),w.jsxs("div",{className:"sponsor-logos",children:[w.jsx("img",{src:"/images/sponsor1.png",alt:"Sponsor 1"}),w.jsx("img",{src:"/images/sponsor2.png",alt:"Sponsor 2"}),w.jsx("img",{src:"/images/sponsor3.png",alt:"Sponsor 3"})]})]})]}),w.jsx(rc,{})]})};function tAe(){const[t,e]=z.useState(!1),{user:n,loginStatus:i,handleEmailChange:r,handlePasswordChange:s,handleLogin:o}=$0();return w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontSize:"1.2em",fontFamily:"Sansation",fontWeight:700},children:[w.jsxs("form",{style:{display:"flex",flexDirection:"column",width:"400px",padding:"30px",border:"1px solid #ccc",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.1)"},children:[w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"10px"},children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:r})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"10px"},children:"Password:"}),w.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[w.jsx("input",{type:"password",id:"password",name:"password",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box",paddingRight:"40px"},onChange:s}),w.jsx(Do,{onClick:()=>{const a=document.getElementById("password");a&&a.type==="password"?(a.type="text",e(!0)):(a.type="password",e(!1))},backgroundColor:"transparent",color:"white",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:t?w.jsx($de,{}):w.jsx(rP,{})})]})]}),w.jsx("button",{onClick:a=>{a.preventDefault(),o()},type:"submit",style:{padding:"15px",backgroundColor:"#E9204F",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1em"},children:"Login"})]}),n&&w.jsx(pV,{to:"/"}),w.jsxs("p",{style:{marginTop:"30px",fontSize:"1em"},children:["Don't have an account? ",w.jsx(Ai,{to:"/signup",style:{color:"#007BFF"},children:"Sign up"})]}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:i})]})}function nAe(){const[t,e]=z.useState(""),[n,i]=z.useState(!1),[r,s]=z.useState(!1),[o,a]=z.useState(""),{email:l,password:c,user:d,Name:h,setName:p,Phone:v,setPhone:y,DateOfBirth:b,setDateOfBirth:S,createAccountStatus:_,handleEmailChange:E,handlePasswordChange:T,handleCreateAccount:P,handleLogin:k}=$0();return w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontSize:"1.2em",marginTop:"230px",fontFamily:"Sansation",fontWeight:700},children:[w.jsxs("form",{style:{display:"flex",flexDirection:"column",width:"400px",padding:"30px",border:"1px solid #ccc",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.1)"},children:[w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"name",style:{display:"block",marginBottom:"10px"},children:"Name:"}),w.jsx("input",{type:"text",id:"name",name:"name",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:D=>p(D.target.value)})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"10px"},children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:E})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"dob",style:{display:"block",marginBottom:"10px"},children:"Date of Birth:"}),w.jsx("input",{type:"date",id:"dob",name:"dob",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:D=>S(D.target.value)})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"phone",style:{display:"block",marginBottom:"10px"},children:"Phone (optional):"}),w.jsx("input",{type:"tel",id:"phone",name:"phone",style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:D=>y(D.target.value)})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"address",style:{display:"block",marginBottom:"10px"},children:"Address:"}),w.jsx("input",{type:"text",id:"address",name:"address",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:D=>a(D.target.value)})]}),c.length<8&&w.jsx("div",{style:{marginBottom:"20px",color:"red",fontSize:"0.9em"},children:"Password must be at least 8 characters long."}),c!==t&&w.jsx("div",{style:{marginBottom:"20px",color:"red",fontSize:"0.9em"},children:"Passwords do not match."}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"10px"},children:"Password:"}),w.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[w.jsx("input",{type:"password",id:"password",name:"password",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:T}),w.jsx(Do,{onClick:()=>{const D=document.getElementById("password");D&&D.type==="password"?(D.type="text",i(!0)):(D.type="password",i(!1))},backgroundColor:"transparent",color:"White",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:n?w.jsx(m5,{}):w.jsx(rP,{})})]})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"confirmPassword",style:{display:"block",marginBottom:"10px"},children:"Confirm Password:"}),w.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[w.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:D=>e(D.target.value)}),w.jsx(Do,{onClick:()=>{const D=document.getElementById("confirmPassword");D&&D.type==="password"?(D.type="text",s(!0)):(D.type="password",s(!1))},backgroundColor:"transparent",color:"White",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:r?w.jsx(m5,{}):w.jsx(rP,{})})]})]}),w.jsx("button",{type:"submit",style:{padding:"15px",backgroundColor:"#E9204F",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1em"},onClick:D=>{c===t&&(F(),P(),k(),e("")),D.preventDefault()},children:"Sign Up"})]}),d&&w.jsx(pV,{to:"/"}),w.jsxs("p",{style:{marginTop:"30px",fontSize:"1em"},children:["Already have an account? ",w.jsx(Ai,{to:"/login",style:{color:"#007BFF"},children:"Login"})]}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:_})]});function F(){const D=uo(),B=_i(D,"users/"+l.replace(".",","));YI(B,{email:l,Name:h,Phone:v,DateOfBirth:b,Address:o,cart:{totalItems:0},tours:{totalItems:0}})}}const iAe=()=>{const[t,e]=z.useState([]),[n,i]=z.useState([]),{user:r}=z.useContext(wu);z.useEffect(()=>{const d=uo();if(r&&r.email){const h=_i(d,"users/"+r.email.replace(".",","));tl(il(h,"/cart/items/")).then(p=>{if(p.exists()){const v=p.val(),y=Object.entries(v).map(([b,S])=>{const _=S;return{key:b,title:_.title,description:_.description,Size:_.Size,color:_.color,price:_.price,quantity:_.quantity,imageUrl:_.imageUrl}});e(y)}}).catch(p=>{console.error(p)}),tl(il(h,"/tours/items")).then(p=>{if(p.exists()){const v=p.val(),y=Object.entries(v).map(([b,S])=>{const _=S;return{key:b,place:_.place,address:_.address,startDate:_.startDate,endDate:_.endDate,realPrice:_.realPrice,quantity:_.quantity,selectedSeats:_.selectedSeats,backstage:_.backstage,meet:_.meet,lounge:_.lounge}});i(y)}}).catch(p=>{console.error(p)})}},[r]);const[s,o]=z.useState(0);z.useEffect(()=>{const d=t.reduce((v,y)=>v+y.price*y.quantity,0),h=n.reduce((v,y)=>v+y.realPrice,0),p=d+h;o(p)},[t,n]);const a=()=>{const d=t.reduce((v,y)=>v+y.price*y.quantity,0),h=n.reduce((v,y)=>v+y.realPrice,0),p=d+h;o(p)};function l(d,h){const p=uo();if(r&&r.email){if(h==="cart"){const v=[...t];v.splice(d,1);const y=_i(p,`users/${r.email.replace(".",",")}/cart/items/${t[d].key}`);OS(y).catch(S=>{console.error("Error removing item from Firebase:",S)});const b=_i(p,`users/${r.email.replace(".",",")}/cart/totalItems`);FS(b,S=>(S||0)-1),e(v)}else{const v=[...n];v.splice(d,1),i(v);const y=_i(p,`users/${r.email.replace(".",",")}/tours/items/${n[d].key}`);OS(y).catch(S=>{console.error("Error removing item from Firebase:",S)});const b=_i(p,`users/${r.email.replace(".",",")}/tours/totalItems`);FS(b,S=>(S||0)-1)}a()}}const c=d=>{const p="ABC"[Math.floor(d/10)],v=d%10+1;return`Row ${p}, Seat ${v}`};return w.jsxs(Rn,{bg:"#09090b",color:"white",minH:"100vh",py:8,px:4,style:{paddingTop:"100px"},children:[w.jsx(dv,{}),w.jsx(Rn,{textAlign:"center",mb:6,children:w.jsx(gr,{fontSize:"3xl",color:"#E9204F",fontWeight:"bold",children:"Your Cart"})}),w.jsxs(Ya,{alignItems:"flex-start",gap:8,flexDirection:{base:"column",md:"row"},children:[w.jsxs(Rn,{textAlign:"center",bg:"gray.900",p:4,borderRadius:"md",w:{base:"100%",md:"400px"},mb:{base:4,md:0},maxW:{base:"100%",md:"500px"},ml:{base:"0",md:"auto"},order:{base:1,md:2},children:[w.jsxs(gr,{fontSize:"2xl",fontWeight:"bold",mb:4,children:["Total: $",s.toFixed(2)]}),(t.length>0||n.length>0)&&w.jsx(Ai,{to:"/payment",children:w.jsx(zl,{as:"a",size:"lg",bg:"#E9204F",color:"white",_hover:{bg:"red.600"},w:"full",children:"Checkout"})})]}),w.jsx(Q6,{align:"stretch",flex:"2",gap:4,order:{base:2,md:1},children:t.length===0&&n.length===0?w.jsx(gr,{fontSize:"xl",color:"white",textAlign:"center",children:"Your cart is empty."}):w.jsxs(w.Fragment,{children:[t.map((d,h)=>w.jsxs(Ya,{bg:"gray.800",p:4,borderRadius:"md",alignItems:"flex-start",gap:4,w:"full",flexDirection:{base:"column",md:"row"},children:[w.jsx(o0,{src:d.imageUrl,alt:d.title,boxSize:{base:"100%",md:"150px"},objectFit:"cover",borderRadius:"md"}),w.jsxs(Rn,{flex:"1",children:[w.jsx(gr,{fontSize:"lg",fontWeight:"bold",color:"#E9204F",children:d.title}),w.jsx(gr,{children:d.description}),w.jsxs(gr,{className:"payment-item-meta",children:["Size: ",d.Size," | Color: ",d.color]}),w.jsxs(gr,{className:"payment-item-meta",children:["Quantity: ",d.quantity]}),w.jsxs(gr,{className:"payment-item-price",children:["$",d.price.toFixed(2)]})]}),w.jsx(Do,{onClick:()=>{l(h,"cart")},children:w.jsx(nD,{})})]},h)),n.length===0?w.jsx(gr,{fontSize:"xl",color:"white",textAlign:"center",children:"You have no tours booked."}):n.map((d,h)=>w.jsxs(Ya,{bg:"gray.800",p:4,borderRadius:"md",alignItems:"flex-start",gap:4,w:"full",flexDirection:{base:"column",md:"row"},children:[w.jsxs(Rn,{flex:"1",children:[w.jsx(gr,{fontSize:"lg",fontWeight:"bold",color:"#E9204F",children:d.place}),w.jsx(gr,{children:d.address}),w.jsxs(gr,{children:[w.jsx("strong",{children:"Start Date:"})," ",d.startDate]}),w.jsxs(gr,{children:[w.jsx("strong",{children:"End Date:"})," ",d.endDate]}),w.jsxs(gr,{children:[w.jsx("strong",{children:"Quantity:"})," ",d.quantity]}),d.selectedSeats.length>0&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"payment-ticket-seats",children:[w.jsx(gr,{children:w.jsx("strong",{children:"Selected Seats:"})}),d.selectedSeats.map((p,v)=>w.jsx("p",{children:c(p)},v))]})}),(d.backstage||d.meet||d.lounge)&&w.jsxs("div",{className:"payment-ticket-extras",children:[d.backstage&&w.jsx("span",{className:"payment-extra-tag",children:"Backstage Pass ($100)"}),d.meet&&w.jsx("span",{className:"payment-extra-tag",children:"Meet & Greet ($50)"}),d.lounge&&w.jsx("span",{className:"payment-extra-tag",children:"Lounge Access ($75)"})]}),w.jsxs(gr,{className:"payment-ticket-price",children:["$",d.realPrice.toFixed(2)]})]}),w.jsx(Do,{onClick:()=>{l(h,"tour")},children:w.jsx(nD,{})})]},h))]})})]})]})};function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function w5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(i){wG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Zb(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zb=function(e){return typeof e}:Zb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function wG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rAe(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function sAe(t,e){if(t==null)return{};var n=rAe(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function EG(t,e){return oAe(t)||aAe(t,e)||lAe(t,e)||cAe()}function oAe(t){if(Array.isArray(t))return t}function aAe(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function lAe(t,e){if(t){if(typeof t=="string")return E5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E5(t,e)}}function E5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function cAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ao=function(e,n,i){var r=!!i,s=it.useRef(i);it.useEffect(function(){s.current=i},[i]),it.useEffect(function(){if(!r||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[r,n,e,s])},t2=function(e){var n=it.useRef(e);return it.useEffect(function(){n.current=e},[e]),n.current},jg=function(e){return e!==null&&Zb(e)==="object"},uAe=function(e){return jg(e)&&typeof e.then=="function"},dAe=function(e){return jg(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},T5="[object Object]",fAe=function t(e,n){if(!jg(e)||!jg(n))return e===n;var i=Array.isArray(e),r=Array.isArray(n);if(i!==r)return!1;var s=Object.prototype.toString.call(e)===T5,o=Object.prototype.toString.call(n)===T5;if(s!==o)return!1;if(!s&&!i)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c={},d=0;d<a.length;d+=1)c[a[d]]=!0;for(var h=0;h<l.length;h+=1)c[l[h]]=!0;var p=Object.keys(c);if(p.length!==a.length)return!1;var v=e,y=n,b=function(_){return t(v[_],y[_])};return p.every(b)},TG=function(e,n,i){return jg(e)?Object.keys(e).reduce(function(r,s){var o=!jg(n)||!fAe(e[s],n[s]);return i.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),r):o?w5(w5({},r||{}),{},wG({},s,e[s])):r},null):null},CG="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C5=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CG;if(e===null||dAe(e))return e;throw new Error(n)},hAe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CG;if(uAe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(r){return C5(r,n)})};var i=C5(e,n);return i===null?{tag:"empty"}:{tag:"sync",stripe:i}},pAe=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.5.1"}),e.registerAppInfo({name:"react-stripe-js",version:"3.5.1",url:"https://stripe.com/docs/stripe-js/react"}))},iT=it.createContext(null);iT.displayName="ElementsContext";var MG=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},AG=function(e){var n=e.stripe,i=e.options,r=e.children,s=it.useMemo(function(){return hAe(n)},[n]),o=it.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(i):null}}),a=EG(o,2),l=a[0],c=a[1];it.useEffect(function(){var p=!0,v=function(b){c(function(S){return S.stripe?S:{stripe:b,elements:b.elements(i)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(y){y&&p&&v(y)}):s.tag==="sync"&&!l.stripe&&v(s.stripe),function(){p=!1}},[s,l,i]);var d=t2(n);it.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=t2(i);return it.useEffect(function(){if(l.elements){var p=TG(i,h,["clientSecret","fonts"]);p&&l.elements.update(p)}},[i,h,l.elements]),it.useEffect(function(){pAe(l.stripe)},[l.stripe]),it.createElement(iT.Provider,{value:l},r)};AG.propTypes={stripe:Mi.any,options:Mi.object};var mAe=function(e){var n=it.useContext(iT);return MG(n,e)},gAe=function(){var e=mAe("calls useElements()"),n=e.elements;return n};Mi.func.isRequired;var PG=it.createContext(null);PG.displayName="CheckoutSdkContext";var vAe=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},yAe=it.createContext(null);yAe.displayName="CheckoutContext";Mi.any,Mi.shape({fetchClientSecret:Mi.func.isRequired,elementsOptions:Mi.object}).isRequired;var n2=function(e){var n=it.useContext(PG),i=it.useContext(iT);if(n&&i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?vAe(n,e):MG(i,e)},xAe=["mode"],_Ae=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},or=function(e,n){var i="".concat(_Ae(e),"Element"),r=function(l){var c=l.id,d=l.className,h=l.options,p=h===void 0?{}:h,v=l.onBlur,y=l.onFocus,b=l.onReady,S=l.onChange,_=l.onEscape,E=l.onClick,T=l.onLoadError,P=l.onLoaderStart,k=l.onNetworksChange,F=l.onConfirm,D=l.onCancel,B=l.onShippingAddressChange,N=l.onShippingRateChange,R=n2("mounts <".concat(i,">")),U="elements"in R?R.elements:null,W="checkoutSdk"in R?R.checkoutSdk:null,Y=it.useState(null),ee=EG(Y,2),K=ee[0],Z=ee[1],G=it.useRef(null),j=it.useRef(null);Ao(K,"blur",v),Ao(K,"focus",y),Ao(K,"escape",_),Ao(K,"click",E),Ao(K,"loaderror",T),Ao(K,"loaderstart",P),Ao(K,"networkschange",k),Ao(K,"confirm",F),Ao(K,"cancel",D),Ao(K,"shippingaddresschange",B),Ao(K,"shippingratechange",N),Ao(K,"change",S);var Q;b&&(e==="expressCheckout"?Q=b:Q=function(){b(K)}),Ao(K,"ready",Q),it.useLayoutEffect(function(){if(G.current===null&&j.current!==null&&(U||W)){var q=null;if(W)switch(e){case"payment":q=W.createPaymentElement(p);break;case"address":if("mode"in p){var ae=p.mode,Re=sAe(p,xAe);if(ae==="shipping")q=W.createShippingAddressElement(Re);else if(ae==="billing")q=W.createBillingAddressElement(Re);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":q=W.createExpressCheckoutElement(p);break;case"currencySelector":q=W.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(i,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else U&&(q=U.create(e,p));G.current=q,Z(q),q&&q.mount(j.current)}},[U,W,p]);var ne=t2(p);return it.useEffect(function(){if(G.current){var q=TG(p,ne,["paymentRequest"]);q&&"update"in G.current&&G.current.update(q)}},[p,ne]),it.useLayoutEffect(function(){return function(){if(G.current&&typeof G.current.destroy=="function")try{G.current.destroy(),G.current=null}catch{}}},[]),it.createElement("div",{id:c,className:d,ref:j})},s=function(l){n2("mounts <".concat(i,">"));var c=l.id,d=l.className;return it.createElement("div",{id:c,className:d})},o=n?s:r;return o.propTypes={id:Mi.string,className:Mi.string,onChange:Mi.func,onBlur:Mi.func,onFocus:Mi.func,onReady:Mi.func,onEscape:Mi.func,onClick:Mi.func,onLoadError:Mi.func,onLoaderStart:Mi.func,onNetworksChange:Mi.func,onConfirm:Mi.func,onCancel:Mi.func,onShippingAddressChange:Mi.func,onShippingRateChange:Mi.func,options:Mi.object},o.displayName=i,o.__elementType=e,o},ar=typeof window>"u",bAe=it.createContext(null);bAe.displayName="EmbeddedCheckoutProviderContext";var SAe=function(){var e=n2("calls useStripe()"),n=e.stripe;return n};or("auBankAccount",ar);or("card",ar);or("cardNumber",ar);or("cardExpiry",ar);or("cardCvc",ar);or("fpxBank",ar);or("iban",ar);or("idealBank",ar);or("p24Bank",ar);or("epsBank",ar);var wAe=or("payment",ar);or("expressCheckout",ar);or("currencySelector",ar);or("paymentRequestButton",ar);or("linkAuthentication",ar);or("address",ar);or("shippingAddress",ar);or("paymentMethodMessaging",ar);or("affirmMessage",ar);or("afterpayClearpayMessage",ar);function IG(t,e){return function(){return t.apply(e,arguments)}}const{toString:EAe}=Object.prototype,{getPrototypeOf:Ik}=Object,rT=(t=>e=>{const n=EAe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fl=t=>(t=t.toLowerCase(),e=>rT(e)===t),sT=t=>e=>typeof e===t,{isArray:fv}=Array,bx=sT("undefined");function TAe(t){return t!==null&&!bx(t)&&t.constructor!==null&&!bx(t.constructor)&&zo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const RG=fl("ArrayBuffer");function CAe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&RG(t.buffer),e}const MAe=sT("string"),zo=sT("function"),kG=sT("number"),oT=t=>t!==null&&typeof t=="object",AAe=t=>t===!0||t===!1,eS=t=>{if(rT(t)!=="object")return!1;const e=Ik(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},PAe=fl("Date"),IAe=fl("File"),RAe=fl("Blob"),kAe=fl("FileList"),NAe=t=>oT(t)&&zo(t.pipe),LAe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zo(t.append)&&((e=rT(t))==="formdata"||e==="object"&&zo(t.toString)&&t.toString()==="[object FormData]"))},DAe=fl("URLSearchParams"),[OAe,FAe,zAe,BAe]=["ReadableStream","Request","Response","Headers"].map(fl),UAe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a_(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),fv(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function NG(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Ih=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LG=t=>!bx(t)&&t!==Ih;function i2(){const{caseless:t}=LG(this)&&this||{},e={},n=(i,r)=>{const s=t&&NG(e,r)||r;eS(e[s])&&eS(i)?e[s]=i2(e[s],i):eS(i)?e[s]=i2({},i):fv(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&a_(arguments[i],n);return e}const VAe=(t,e,n,{allOwnKeys:i}={})=>(a_(e,(r,s)=>{n&&zo(r)?t[s]=IG(r,n):t[s]=r},{allOwnKeys:i}),t),jAe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WAe=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HAe=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Ik(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},GAe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},$Ae=t=>{if(!t)return null;if(fv(t))return t;let e=t.length;if(!kG(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},qAe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ik(Uint8Array)),XAe=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},YAe=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},KAe=fl("HTMLFormElement"),JAe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),M5=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),QAe=fl("RegExp"),DG=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};a_(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},ZAe=t=>{DG(t,(e,n)=>{if(zo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(zo(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ePe=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return fv(t)?i(t):i(String(t).split(e)),n},tPe=()=>{},nPe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function iPe(t){return!!(t&&zo(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const rPe=t=>{const e=new Array(10),n=(i,r)=>{if(oT(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=fv(i)?[]:{};return a_(i,(o,a)=>{const l=n(o,r+1);!bx(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},sPe=fl("AsyncFunction"),oPe=t=>t&&(oT(t)||zo(t))&&zo(t.then)&&zo(t.catch),OG=((t,e)=>t?setImmediate:e?((n,i)=>(Ih.addEventListener("message",({source:r,data:s})=>{r===Ih&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Ih.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zo(Ih.postMessage)),aPe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ih):typeof process<"u"&&process.nextTick||OG,Ce={isArray:fv,isArrayBuffer:RG,isBuffer:TAe,isFormData:LAe,isArrayBufferView:CAe,isString:MAe,isNumber:kG,isBoolean:AAe,isObject:oT,isPlainObject:eS,isReadableStream:OAe,isRequest:FAe,isResponse:zAe,isHeaders:BAe,isUndefined:bx,isDate:PAe,isFile:IAe,isBlob:RAe,isRegExp:QAe,isFunction:zo,isStream:NAe,isURLSearchParams:DAe,isTypedArray:qAe,isFileList:kAe,forEach:a_,merge:i2,extend:VAe,trim:UAe,stripBOM:jAe,inherits:WAe,toFlatObject:HAe,kindOf:rT,kindOfTest:fl,endsWith:GAe,toArray:$Ae,forEachEntry:XAe,matchAll:YAe,isHTMLForm:KAe,hasOwnProperty:M5,hasOwnProp:M5,reduceDescriptors:DG,freezeMethods:ZAe,toObjectSet:ePe,toCamelCase:JAe,noop:tPe,toFiniteNumber:nPe,findKey:NG,global:Ih,isContextDefined:LG,isSpecCompliantForm:iPe,toJSONObject:rPe,isAsyncFn:sPe,isThenable:oPe,setImmediate:OG,asap:aPe};function rn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Ce.inherits(rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const FG=rn.prototype,zG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zG[t]={value:t}});Object.defineProperties(rn,zG);Object.defineProperty(FG,"isAxiosError",{value:!0});rn.from=(t,e,n,i,r,s)=>{const o=Object.create(FG);return Ce.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),rn.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const lPe=null;function r2(t){return Ce.isPlainObject(t)||Ce.isArray(t)}function BG(t){return Ce.endsWith(t,"[]")?t.slice(0,-2):t}function A5(t,e,n){return t?t.concat(e).map(function(r,s){return r=BG(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function cPe(t){return Ce.isArray(t)&&!t.some(r2)}const uPe=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function aT(t,e,n){if(!Ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!Ce.isUndefined(S[b])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Ce.isDate(y))return y.toISOString();if(!l&&Ce.isBlob(y))throw new rn("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(y)||Ce.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,S){let _=y;if(y&&!S&&typeof y=="object"){if(Ce.endsWith(b,"{}"))b=i?b:b.slice(0,-2),y=JSON.stringify(y);else if(Ce.isArray(y)&&cPe(y)||(Ce.isFileList(y)||Ce.endsWith(b,"[]"))&&(_=Ce.toArray(y)))return b=BG(b),_.forEach(function(T,P){!(Ce.isUndefined(T)||T===null)&&e.append(o===!0?A5([b],P,s):o===null?b:b+"[]",c(T))}),!1}return r2(y)?!0:(e.append(A5(S,b,s),c(y)),!1)}const h=[],p=Object.assign(uPe,{defaultVisitor:d,convertValue:c,isVisitable:r2});function v(y,b){if(!Ce.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),Ce.forEach(y,function(_,E){(!(Ce.isUndefined(_)||_===null)&&r.call(e,_,Ce.isString(E)?E.trim():E,b,p))===!0&&v(_,b?b.concat(E):[E])}),h.pop()}}if(!Ce.isObject(t))throw new TypeError("data must be an object");return v(t),e}function P5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Rk(t,e){this._pairs=[],t&&aT(t,this,e)}const UG=Rk.prototype;UG.append=function(e,n){this._pairs.push([e,n])};UG.toString=function(e){const n=e?function(i){return e.call(this,i,P5)}:P5;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function dPe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VG(t,e,n){if(!e)return t;const i=n&&n.encode||dPe;Ce.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Ce.isURLSearchParams(e)?e.toString():new Rk(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class I5{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(i){i!==null&&e(i)})}}const jG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fPe=typeof URLSearchParams<"u"?URLSearchParams:Rk,hPe=typeof FormData<"u"?FormData:null,pPe=typeof Blob<"u"?Blob:null,mPe={isBrowser:!0,classes:{URLSearchParams:fPe,FormData:hPe,Blob:pPe},protocols:["http","https","file","blob","url","data"]},kk=typeof window<"u"&&typeof document<"u",s2=typeof navigator=="object"&&navigator||void 0,gPe=kk&&(!s2||["ReactNative","NativeScript","NS"].indexOf(s2.product)<0),vPe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yPe=kk&&window.location.href||"http://localhost",xPe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kk,hasStandardBrowserEnv:gPe,hasStandardBrowserWebWorkerEnv:vPe,navigator:s2,origin:yPe},Symbol.toStringTag,{value:"Module"})),vs={...xPe,...mPe};function _Pe(t,e){return aT(t,new vs.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return vs.isNode&&Ce.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function bPe(t){return Ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SPe(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function WG(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ce.isArray(r)?r.length:o,l?(Ce.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!Ce.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&Ce.isArray(r[o])&&(r[o]=SPe(r[o])),!a)}if(Ce.isFormData(t)&&Ce.isFunction(t.entries)){const n={};return Ce.forEachEntry(t,(i,r)=>{e(bPe(i),r,n,0)}),n}return null}function wPe(t,e,n){if(Ce.isString(t))try{return(e||JSON.parse)(t),Ce.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const l_={transitional:jG,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Ce.isObject(e);if(s&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return r?JSON.stringify(WG(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return _Pe(e,this.formSerializer).toString();if((a=Ce.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return aT(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),wPe(e)):e}],transformResponse:[function(e){const n=this.transitional||l_.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?rn.from(a,rn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vs.classes.FormData,Blob:vs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],t=>{l_.headers[t]={}});const EPe=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TPe=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&EPe[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},R5=Symbol("internals");function Wy(t){return t&&String(t).trim().toLowerCase()}function tS(t){return t===!1||t==null?t:Ce.isArray(t)?t.map(tS):String(t)}function CPe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const MPe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function KM(t,e,n,i,r){if(Ce.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Ce.isString(e)){if(Ce.isString(i))return e.indexOf(i)!==-1;if(Ce.isRegExp(i))return i.test(e)}}function APe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function PPe(t,e){const n=Ce.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let lo=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const d=Wy(l);if(!d)throw new Error("header name must be a non-empty string");const h=Ce.findKey(r,d);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=tS(a))}const o=(a,l)=>Ce.forEach(a,(c,d)=>s(c,d,l));if(Ce.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ce.isString(e)&&(e=e.trim())&&!MPe(e))o(TPe(e),n);else if(Ce.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Wy(e),e){const i=Ce.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return CPe(r);if(Ce.isFunction(n))return n.call(this,r,i);if(Ce.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Wy(e),e){const i=Ce.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||KM(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Wy(o),o){const a=Ce.findKey(i,o);a&&(!n||KM(i,i[a],a,n))&&(delete i[a],r=!0)}}return Ce.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||KM(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Ce.forEach(this,(r,s)=>{const o=Ce.findKey(i,s);if(o){n[o]=tS(r),delete n[s];return}const a=e?APe(s):String(s).trim();a!==s&&delete n[s],n[a]=tS(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ce.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Ce.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[R5]=this[R5]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Wy(o);i[a]||(PPe(r,o),i[a]=!0)}return Ce.isArray(e)?e.forEach(s):s(e),this}};lo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(lo.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Ce.freezeMethods(lo);function JM(t,e){const n=this||l_,i=e||n,r=lo.from(i.headers);let s=i.data;return Ce.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function HG(t){return!!(t&&t.__CANCEL__)}function hv(t,e,n){rn.call(this,t??"canceled",rn.ERR_CANCELED,e,n),this.name="CanceledError"}Ce.inherits(hv,rn,{__CANCEL__:!0});function GG(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new rn("Request failed with status code "+n.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function IPe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function RPe(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[s];o||(o=c),n[r]=l,i[r]=c;let h=s,p=0;for(;h!==r;)p+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const v=d&&c-d;return v?Math.round(p*1e3/v):void 0}}function kPe(t,e){let n=0,i=1e3/e,r,s;const o=(c,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=i?o(c,d):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-h)))},()=>r&&o(r)]}const kw=(t,e,n=3)=>{let i=0;const r=RPe(50,250);return kPe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),d=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},k5=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},N5=t=>(...e)=>Ce.asap(()=>t(...e)),NPe=vs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,vs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(vs.origin),vs.navigator&&/(msie|trident)/i.test(vs.navigator.userAgent)):()=>!0,LPe=vs.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];Ce.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ce.isString(i)&&o.push("path="+i),Ce.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DPe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function OPe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $G(t,e,n){let i=!DPe(e);return t&&(i||n==!1)?OPe(t,e):e}const L5=t=>t instanceof lo?{...t}:t;function ep(t,e){e=e||{};const n={};function i(c,d,h,p){return Ce.isPlainObject(c)&&Ce.isPlainObject(d)?Ce.merge.call({caseless:p},c,d):Ce.isPlainObject(d)?Ce.merge({},d):Ce.isArray(d)?d.slice():d}function r(c,d,h,p){if(Ce.isUndefined(d)){if(!Ce.isUndefined(c))return i(void 0,c,h,p)}else return i(c,d,h,p)}function s(c,d){if(!Ce.isUndefined(d))return i(void 0,d)}function o(c,d){if(Ce.isUndefined(d)){if(!Ce.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function a(c,d,h){if(h in e)return i(c,d);if(h in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>r(L5(c),L5(d),h,!0)};return Ce.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||r,p=h(t[d],e[d],d);Ce.isUndefined(p)&&h!==a||(n[d]=p)}),n}const qG=t=>{const e=ep({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=lo.from(o),e.url=VG($G(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ce.isFormData(n)){if(vs.hasStandardBrowserEnv||vs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(vs.hasStandardBrowserEnv&&(i&&Ce.isFunction(i)&&(i=i(e)),i||i!==!1&&NPe(e.url))){const c=r&&s&&LPe.read(s);c&&o.set(r,c)}return e},FPe=typeof XMLHttpRequest<"u",zPe=FPe&&function(t){return new Promise(function(n,i){const r=qG(t);let s=r.data;const o=lo.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,d,h,p,v,y;function b(){v&&v(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function _(){if(!S)return;const T=lo.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};GG(function(D){n(D),b()},function(D){i(D),b()},k),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(i(new rn("Request aborted",rn.ECONNABORTED,t,S)),S=null)},S.onerror=function(){i(new rn("Network Error",rn.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||jG;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),i(new rn(P,k.clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&Ce.forEach(o.toJSON(),function(P,k){S.setRequestHeader(k,P)}),Ce.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),a&&a!=="json"&&(S.responseType=r.responseType),c&&([p,y]=kw(c,!0),S.addEventListener("progress",p)),l&&S.upload&&([h,v]=kw(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=T=>{S&&(i(!T||T.type?new hv(null,t,S):T),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const E=IPe(r.url);if(E&&vs.protocols.indexOf(E)===-1){i(new rn("Unsupported protocol "+E+":",rn.ERR_BAD_REQUEST,t));return}S.send(s||null)})},BPe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const d=c instanceof Error?c:this.reason;i.abort(d instanceof rn?d:new hv(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new rn(`timeout ${e} of ms exceeded`,rn.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Ce.asap(a),l}},UPe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},VPe=async function*(t,e){for await(const n of jPe(t))yield*UPe(n,e)},jPe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},D5=(t,e,n,i)=>{const r=VPe(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await r.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},lT=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XG=lT&&typeof ReadableStream=="function",WPe=lT&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),YG=(t,...e)=>{try{return!!t(...e)}catch{return!1}},HPe=XG&&YG(()=>{let t=!1;const e=new Request(vs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),O5=64*1024,o2=XG&&YG(()=>Ce.isReadableStream(new Response("").body)),Nw={stream:o2&&(t=>t.body)};lT&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nw[e]&&(Nw[e]=Ce.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new rn(`Response type '${e}' is not supported`,rn.ERR_NOT_SUPPORT,i)})})})(new Response);const GPe=async t=>{if(t==null)return 0;if(Ce.isBlob(t))return t.size;if(Ce.isSpecCompliantForm(t))return(await new Request(vs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(t)||Ce.isArrayBuffer(t))return t.byteLength;if(Ce.isURLSearchParams(t)&&(t=t+""),Ce.isString(t))return(await WPe(t)).byteLength},$Pe=async(t,e)=>{const n=Ce.toFiniteNumber(t.getContentLength());return n??GPe(e)},qPe=lT&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=qG(t);c=c?(c+"").toLowerCase():"text";let v=BPe([r,s&&s.toAbortSignal()],o),y;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let S;try{if(l&&HPe&&n!=="get"&&n!=="head"&&(S=await $Pe(d,i))!==0){let k=new Request(e,{method:"POST",body:i,duplex:"half"}),F;if(Ce.isFormData(i)&&(F=k.headers.get("content-type"))&&d.setContentType(F),k.body){const[D,B]=k5(S,kw(N5(l)));i=D5(k.body,O5,D,B)}}Ce.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;y=new Request(e,{...p,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:_?h:void 0});let E=await fetch(y);const T=o2&&(c==="stream"||c==="response");if(o2&&(a||T&&b)){const k={};["status","statusText","headers"].forEach(N=>{k[N]=E[N]});const F=Ce.toFiniteNumber(E.headers.get("content-length")),[D,B]=a&&k5(F,kw(N5(a),!0))||[];E=new Response(D5(E.body,O5,D,()=>{B&&B(),b&&b()}),k)}c=c||"text";let P=await Nw[Ce.findKey(Nw,c)||"text"](E,t);return!T&&b&&b(),await new Promise((k,F)=>{GG(k,F,{data:P,headers:lo.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:y})})}catch(_){throw b&&b(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new rn("Network Error",rn.ERR_NETWORK,t,y),{cause:_.cause||_}):rn.from(_,_&&_.code,t,y)}}),a2={http:lPe,xhr:zPe,fetch:qPe};Ce.forEach(a2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const F5=t=>`- ${t}`,XPe=t=>Ce.isFunction(t)||t===null||t===!1,KG={getAdapter:t=>{t=Ce.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!XPe(n)&&(i=a2[(o=String(n)).toLowerCase()],i===void 0))throw new rn(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(F5).join(`
`):" "+F5(s[0]):"as no adapter specified";throw new rn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:a2};function QM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hv(null,t)}function z5(t){return QM(t),t.headers=lo.from(t.headers),t.data=JM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KG.getAdapter(t.adapter||l_.adapter)(t).then(function(i){return QM(t),i.data=JM.call(t,t.transformResponse,i),i.headers=lo.from(i.headers),i},function(i){return HG(i)||(QM(t),i&&i.response&&(i.response.data=JM.call(t,t.transformResponse,i.response),i.response.headers=lo.from(i.response.headers))),Promise.reject(i)})}const JG="1.8.4",cT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cT[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const B5={};cT.transitional=function(e,n,i){function r(s,o){return"[Axios v"+JG+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new rn(r(o," has been removed"+(n?" in "+n:"")),rn.ERR_DEPRECATED);return n&&!B5[o]&&(B5[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};cT.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function YPe(t,e,n){if(typeof t!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new rn("option "+s+" must be "+l,rn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rn("Unknown option "+s,rn.ERR_BAD_OPTION)}}const nS={assertOptions:YPe,validators:cT},Ll=nS.validators;let zh=class{constructor(e){this.defaults=e,this.interceptors={request:new I5,response:new I5}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ep(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&nS.assertOptions(i,{silentJSONParsing:Ll.transitional(Ll.boolean),forcedJSONParsing:Ll.transitional(Ll.boolean),clarifyTimeoutError:Ll.transitional(Ll.boolean)},!1),r!=null&&(Ce.isFunction(r)?n.paramsSerializer={serialize:r}:nS.assertOptions(r,{encode:Ll.function,serialize:Ll.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nS.assertOptions(n,{baseUrl:Ll.spelling("baseURL"),withXsrfToken:Ll.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ce.merge(s.common,s[n.method]);s&&Ce.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=lo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,h=0,p;if(!l){const y=[z5.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,d=Promise.resolve(n);h<p;)d=d.then(y[h++],y[h++]);return d}p=a.length;let v=n;for(h=0;h<p;){const y=a[h++],b=a[h++];try{v=y(v)}catch(S){b.call(this,S);break}}try{d=z5.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=ep(this.defaults,e);const n=$G(e.baseURL,e.url,e.allowAbsoluteUrls);return VG(n,e.params,e.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(e){zh.prototype[e]=function(n,i){return this.request(ep(i||{},{method:e,url:n,data:(i||{}).data}))}});Ce.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(ep(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}zh.prototype[e]=n(),zh.prototype[e+"Form"]=n(!0)});let KPe=class QG{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new hv(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new QG(function(r){e=r}),cancel:e}}};function JPe(t){return function(n){return t.apply(null,n)}}function QPe(t){return Ce.isObject(t)&&t.isAxiosError===!0}const l2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(l2).forEach(([t,e])=>{l2[e]=t});function ZG(t){const e=new zh(t),n=IG(zh.prototype.request,e);return Ce.extend(n,zh.prototype,e,{allOwnKeys:!0}),Ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return ZG(ep(t,r))},n}const Gi=ZG(l_);Gi.Axios=zh;Gi.CanceledError=hv;Gi.CancelToken=KPe;Gi.isCancel=HG;Gi.VERSION=JG;Gi.toFormData=aT;Gi.AxiosError=rn;Gi.Cancel=Gi.CanceledError;Gi.all=function(e){return Promise.all(e)};Gi.spread=JPe;Gi.isAxiosError=QPe;Gi.mergeConfig=ep;Gi.AxiosHeaders=lo;Gi.formToJSON=t=>WG(Ce.isHTMLForm(t)?new FormData(t):t);Gi.getAdapter=KG.getAdapter;Gi.HttpStatusCode=l2;Gi.default=Gi;const{Axios:$2e,AxiosError:q2e,CanceledError:X2e,isCancel:Y2e,CancelToken:K2e,VERSION:J2e,all:Q2e,Cancel:Z2e,isAxiosError:eIe,spread:tIe,toFormData:nIe,AxiosHeaders:iIe,HttpStatusCode:rIe,formToJSON:sIe,getAdapter:oIe,mergeConfig:aIe}=Gi;var ZPe="v3",e2e=function(e){return e===3?"v3":e},e$="https://js.stripe.com",t2e="".concat(e$,"/v3"),n2e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,i2e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var r2e=function(e){return n2e.test(e)||i2e.test(e)},s2e=function(){for(var e=document.querySelectorAll('script[src^="'.concat(e$,'"]')),n=0;n<e.length;n++){var i=e[n];if(r2e(i.src))return i}return null},U5=function(e){var n="",i=document.createElement("script");i.src="".concat(t2e).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},o2e=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:n})},Hy=null,wb=null,Eb=null,a2e=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},l2e=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},c2e=function(e){return Hy!==null?Hy:(Hy=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var r=s2e();if(!(r&&e)){if(!r)r=U5(e);else if(r&&Eb!==null&&wb!==null){var s;r.removeEventListener("load",Eb),r.removeEventListener("error",wb),(s=r.parentNode)===null||s===void 0||s.removeChild(r),r=U5(e)}}Eb=l2e(n,i),wb=a2e(i),r.addEventListener("load",Eb),r.addEventListener("error",wb)}catch(o){i(o);return}}),Hy.catch(function(n){return Hy=null,Promise.reject(n)}))},u2e=function(e,n,i){if(e===null)return null;var r=n[0],s=r.match(/^pk_test/),o=e2e(e.version),a=ZPe;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return o2e(l,i),l},Gy,t$=!1,n$=function(){return Gy||(Gy=c2e(null).catch(function(e){return Gy=null,Promise.reject(e)}),Gy)};Promise.resolve().then(function(){return n$()}).catch(function(t){t$||console.warn(t)});var d2e=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t$=!0;var r=Date.now();return n$().then(function(s){return u2e(s,n,r)})};const V5=d2e("pk_test_51Qe5S5CO8wO6DXWdN3KxfnZkuMPBmDe7InvPf6S3IqFSCipI8osSsz2KDm3b8stNDa7jub7Jxw3hyrwIVmCwUzRv00jhdmhbtX");function f2e(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(t/10)],i=t%10+1;return`Row ${n}, Seat ${i}`}function h2e(){const[t,e]=z.useState([]),[n,i]=z.useState([]),[r,s]=z.useState(""),[o,a]=z.useState(!1),{user:l}=z.useContext(wu),c=[{id:"standard",name:"Standard Shipping",price:9.99,description:"Standard delivery",estimatedDays:"5-7 business days"},{id:"express",name:"Express Shipping",price:19.99,description:"Fast delivery",estimatedDays:"2-3 business days"},{id:"overnight",name:"Overnight Shipping",price:29.99,description:"Next day delivery",estimatedDays:"1 business day"}],[d,h]=z.useState(c[0].id);z.useEffect(()=>{const R=uo();if(l&&l.email){const U=_i(R,"users/"+l.email.replace(".",","));tl(il(U,"/cart/items/")).then(W=>{if(W.exists()){const Y=W.val(),ee=Object.entries(Y).map(([K,Z])=>{const G=Z;return{key:K,title:G.title,description:G.description,Size:G.Size,color:G.color,price:G.price,quantity:G.quantity,imageUrl:G.imageUrl}});e(ee)}}).catch(W=>{console.error(W)}),tl(il(U,"/tours/items")).then(W=>{if(W.exists()){const Y=W.val(),ee=Object.entries(Y).map(([K,Z])=>{const G=Z;return{key:K,place:G.place,address:G.address,startDate:G.startDate,endDate:G.endDate,realPrice:G.realPrice,quantity:G.quantity,selectedSeats:G.selectedSeats,backstage:G.backstage,meet:G.meet,lounge:G.lounge}});i(ee),console.log(ee)}}).catch(W=>{console.error(W)})}},[l]);const p=(t.length>0,t),v=(n.length>0,n),[y,b]=z.useState(c[0]),[S,_]=z.useState(0),[E,T]=z.useState(0),[P,k]=z.useState(0),[F,D]=z.useState(0);z.useEffect(()=>{const R=p.length>0?c.find(Z=>Z.id===d):{id:"none",name:"No Shipping",price:0,description:"",estimatedDays:""};b(R);const U=p.reduce((Z,G)=>Z+G.price*G.quantity,0);_(U);const W=v.reduce((Z,G)=>{const j=(G.meet?50:0)+(G.backstage?100:0)+(G.lounge?75:0),Q=(G.realPrice-j)/G.selectedSeats.length;return Z+Q*G.quantity+j},0);T(W);const ee=(U+W)*.0825;k(ee);const K=U+R.price+W+ee;D(K)},[d,p,v]);function B(){Gi.post("https://stripepaymentintentrequest-n7ggeoi6nq-uc.a.run.app",{email:l==null?void 0:l.email,amount:F*100}).then(R=>{R.status===200?s(R.data.paymentIntent):console.error("Failed to fetch payment intent")}).catch(R=>{console.error("Error:",R)}),a(!0)}function N(){const R=SAe(),U=gAe(),[W,Y]=z.useState(null),[ee,K]=z.useState(!1),{user:Z}=z.useContext(wu),G=async j=>{j.preventDefault(),!(!R||!U)&&(K(!0),await R.confirmPayment({elements:U,confirmParams:{return_url:`${window.location.origin}/BPA-435-Project/#/completion`},redirect:"if_required"}).then(function(Q){if(Q.error)Sn.error(`Payment Failed: ${Q.error.message}`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}});else if(Q.paymentIntent&&Q.paymentIntent.status==="succeeded"){Y("Payment succeeded!");const ne=uo();if(Z&&Z.email){a(!1);const q=_i(ne,`users/${Z.email.replace(".",",")}/orders`);t.length>0&&DS(q,{date:new Date().toLocaleDateString(),total:F,items:[...t],tours:[...n]}).catch(ve=>{console.error("Error adding item to Firebase:",ve)});const ae=_i(ne,`users/${Z.email.replace(".",",")}/tourOrders`);n.length>0&&(DS(ae,{date:new Date().toLocaleDateString(),total:F,items:[...n]}).catch(ve=>{console.error("Error adding item to Firebase:",ve)}),n.forEach(ve=>{const Oe=_i(ne,`${ve.place}`);ve.selectedSeats.forEach(Fe=>{Aj(Oe,{[Fe]:!0}).catch(me=>{console.error("Error updating seat reservation in Firebase:",me)})})}));const Re=_i(ne,`users/${Z.email.replace(".",",")}/cart`);OS(Re).catch(ve=>{console.error("Error removing item from Firebase:",ve)});const he=_i(ne,`users/${Z.email.replace(".",",")}/tours`);OS(he).catch(ve=>{console.error("Error removing item from Firebase:",ve)}),e([]),i([]),window.location.href=`${window.location.origin}/#/completion`}else Y("User information is missing.")}else Y("Payment failed for an unknown reason.")}),K(!1))};return w.jsxs("form",{id:"payment-form",onSubmit:G,children:[w.jsx(wAe,{id:"payment-element"}),w.jsx("button",{disabled:ee||!R||!U,id:"submit",style:{display:"block",margin:"20px 0 0px 0",backgroundColor:"#E9204F",color:"white",padding:"10px 20px",borderRadius:"5px"},children:w.jsx("span",{id:"button-text",children:ee?"Processing ... ":"Pay now"})}),W&&w.jsx("div",{id:"payment-message",children:W})]})}return w.jsxs("div",{className:"payment-container",children:[w.jsx(dv,{}),w.jsxs("div",{className:"payment-content",children:[w.jsx("h1",{className:"payment-title",children:"Checkout"}),w.jsxs("div",{className:"payment-grid",children:[w.jsxs("div",{className:"payment-section payment-order-summary",children:[w.jsxs("div",{className:"payment-section-header",children:[w.jsx(K_e,{className:"payment-icon"}),w.jsx("h2",{className:"payment-section-title",children:"Order Summary"})]}),w.jsxs("div",{className:"payment-summary",children:[w.jsxs("div",{className:"payment-summary-row",children:[w.jsx("span",{children:"Merchandise Subtotal"}),w.jsxs("span",{children:["$",S.toFixed(2)]})]}),w.jsxs("div",{className:"payment-summary-row",children:[w.jsxs("span",{children:["Shipping (",y.name,")"]}),w.jsxs("span",{children:["$",y.price.toFixed(2)]})]}),w.jsxs("div",{className:"payment-summary-row",children:[w.jsx("span",{children:"Tickets Subtotal"}),w.jsxs("span",{children:["$",E.toFixed(2)]})]}),w.jsxs("div",{className:"payment-summary-row",children:[w.jsx("span",{children:"Tax"}),w.jsxs("span",{children:["$",P.toFixed(2)]})]}),w.jsxs("div",{className:"payment-summary-row payment-summary-row-total",children:[w.jsx("span",{children:"Total"}),w.jsxs("span",{className:"payment-total-amount",children:["$",F.toFixed(2)]})]}),!o&&(t.length>0||n.length>0)&&w.jsx("button",{className:"payment-button",onClick:B,children:"Complete Purchase"}),o&&r&&V5&&w.jsx("div",{style:{width:"100%",maxWidth:"600px",padding:"30px",backgroundColor:"#09090b",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:w.jsx(AG,{stripe:V5,options:{clientSecret:r,appearance:{theme:"night"}},children:w.jsx(N,{})})}),o&&!r&&w.jsx("div",{className:"payment-loading-icon",children:w.jsx("div",{className:"payment-spinner"})})]})]}),w.jsxs("div",{className:"payment-sections-container",children:[p.length>0&&w.jsxs("div",{className:"payment-section",children:[w.jsxs("div",{className:"payment-section-header",children:[w.jsx(n1e,{className:"payment-icon"}),w.jsx("h2",{className:"payment-section-title",children:"Store Items"})]}),w.jsxs("div",{children:[p.map(R=>w.jsxs("div",{className:"payment-item",children:[w.jsx("img",{src:R.imageUrl,alt:R.title,className:"payment-item-image"}),w.jsxs("div",{className:"payment-item-details",children:[w.jsx("h3",{className:"payment-item-title",children:R.title}),w.jsx("p",{className:"payment-item-description",children:R.description}),w.jsxs("p",{className:"payment-item-meta",children:["Size: ",R.Size," | Color: ",R.color]}),w.jsxs("p",{className:"payment-item-meta",children:["Quantity: ",R.quantity]}),w.jsxs("p",{className:"payment-item-price",children:["$",R.price]})]})]},R.key)),w.jsxs("div",{className:"payment-shipping-options",children:[w.jsxs("div",{className:"payment-shipping-header",children:[w.jsx(c1e,{size:20,className:"payment-icon"}),w.jsx("h3",{className:"payment-shipping-title",children:"Shipping Options"})]}),c.map(R=>w.jsxs("label",{className:"payment-shipping-option",children:[w.jsx("input",{type:"radio",name:"shipping",value:R.id,checked:d===R.id,onChange:U=>{h(U.target.value),a(!1)}}),w.jsxs("div",{className:"payment-shipping-option-details",children:[w.jsxs("div",{className:"payment-shipping-option-main",children:[w.jsx("span",{className:"payment-shipping-name",children:R.name}),w.jsxs("span",{className:"payment-shipping-price",children:["$",R.price.toFixed(2)]})]}),w.jsxs("span",{className:"payment-shipping-estimate",children:["Estimated delivery: ",R.estimatedDays]})]})]},R.id))]})]})]}),v.length>0&&w.jsxs("div",{className:"payment-section",children:[w.jsxs("div",{className:"payment-section-header",children:[w.jsx(d7,{className:"payment-icon"}),w.jsx("h2",{className:"payment-section-title",children:"Tour Tickets"})]}),v.map(R=>{const U=(R.meet?50:0)+(R.backstage?100:0)+(R.lounge?75:0),W=(R.realPrice-U)/R.selectedSeats.length;return w.jsxs("div",{className:"payment-ticket",children:[w.jsx("h3",{className:"payment-ticket-venue",children:R.place}),w.jsx("p",{className:"payment-ticket-date",children:R.startDate}),w.jsx("p",{className:"payment-ticket-address",children:R.address}),w.jsx("div",{className:"payment-ticket-seats",children:R.selectedSeats.map((Y,ee)=>w.jsx("p",{children:f2e(Y)},ee))}),w.jsxs("div",{className:"payment-ticket-extras",children:[R.backstage&&w.jsx("span",{className:"payment-extra-tag",children:"Backstage Pass ($100)"}),R.meet&&w.jsx("span",{className:"payment-extra-tag",children:"Meet & Greet ($50)"}),R.lounge&&w.jsx("span",{className:"payment-extra-tag",children:"Lounge Access ($75)"})]}),w.jsxs("p",{className:"payment-ticket-price",children:["$",W.toFixed(2)," per seat × ",R.quantity," tickets"]})]},R.key)})]})]})]})]})]})}const p2e=()=>w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{padding:"20px",fontFamily:"Sansation",fontWeight:"700",lineHeight:"1.6",maxWidth:"800px",margin:"50px auto",color:"#fff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[w.jsx("h1",{style:{color:"#fff",textAlign:"center",fontSize:"2.5em",marginBottom:"20px"},children:"Terms of Service"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"Welcome to our Stage Fright's official website! By using this site and placing an order, you agree to the following terms:"}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"1. Returns"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Items can only be returned within 90 days of purchase."}),w.jsx("li",{children:"Returned items must be in their original condition (unworn, unused, and with original tags/packaging if applicable)."}),w.jsx("li",{children:"Refunds for returned items will be issued to the original payment method. Shipping costs are non-refundable unless the return is due to our error (e.g., wrong or defective item)."}),w.jsx("li",{children:"Returns outside the 90-day window will not be accepted."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"2. Order Cancellations"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Orders can only be canceled within 24 hours of being placed."}),w.jsx("li",{children:"To cancel your order, you must email our support team at support.stagefright@gmail.com with your order number and the reason for cancellation."}),w.jsx("li",{children:"Cancellations requested after the 24-hour period cannot be accommodated as the order may already be processed or shipped."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"3. Shipping and Delivery"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"We strive to ship all orders promptly, but delivery times may vary based on location and shipping method."}),w.jsx("li",{children:"Please ensure your shipping address is accurate when placing your order, as we are not responsible for lost packages due to incorrect information."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"4. Contact Us"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"For any questions, issues, or concerns regarding your order, please reach out to us at support.stagefright@gmail.com. We’re here to help!"}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"5. Changes to These Terms"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may update these Terms of Service from time to time. Please check back periodically to stay informed of any changes."}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"By using our website and placing an order, you acknowledge that you have read and agree to these terms. Thank you for supporting our band!"})]}),w.jsx(rc,{})]}),m2e=()=>w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{padding:"20px",fontFamily:"Sansation",fontWeight:"700",lineHeight:"1.6",maxWidth:"800px",margin:"50px auto",color:"#fff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[w.jsx("h1",{style:{color:"#fff",textAlign:"center",fontSize:"2.5em",marginBottom:"20px"},children:"Privacy Policy"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We value your privacy and are committed to protecting your personal information. This Privacy Policy outlines how we collect, use, and protect the information you provide when visiting our website or placing an order."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"1. Information We Collect"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Personal Information: When you place an order or contact us, we may collect personal information such as your name, email address, shipping address, and payment details."}),w.jsx("li",{children:"Non-Personal Information: We may also collect non-personal information like your browser type, device information, and website usage data to improve your experience on our site."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"2. How We Use Your Information"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"To process and fulfill your orders, including shipping and payment."}),w.jsx("li",{children:"To provide customer support and respond to your inquiries."}),w.jsx("li",{children:"To improve our website, products, and services."}),w.jsx("li",{children:"To send you updates about your order or promotional offers (only if you’ve opted in)."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"3. How We Protect Your Information"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Your information is stored securely, and we use encryption and other security measures to protect it."}),w.jsx("li",{children:"We do not share your personal information with third parties, except as necessary to fulfill your order (e.g., sharing your address with a shipping provider)."}),w.jsx("li",{children:"We do not sell, rent, or trade your personal data."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"4. Cookies"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"Our website uses cookies to improve functionality and enhance your experience. Cookies allow us to track website usage and remember your preferences. You can disable cookies in your browser settings, but some features of the site may not work properly."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"5. Third-Party Services"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may use trusted third-party services (e.g., payment processors or analytics providers) to help run our website. These providers are only given the information necessary to perform their services and are required to protect your data."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"6. Your Rights"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"You have the right to access, update, or delete your personal information. To request changes, please email us at support.stagefright@gmail.com."}),w.jsx("li",{children:'You can opt out of receiving promotional emails by clicking the "unsubscribe" link at the bottom of any marketing email.'})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"7. Changes to This Policy"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may update this Privacy Policy as needed. Any changes will be posted on this page, and the updated policy will take effect immediately upon posting."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"8. Contact Us"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"If you have questions or concerns about this Privacy Policy, please reach out to us at support.stagefright@gmail.com."}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"By using our website, you agree to the terms of this Privacy Policy. Thank you for trusting us with your information!"})]}),w.jsx(rc,{})]});var $m={},ZM,j5;function i$(){return j5||(j5=1,ZM={L:1,M:0,Q:3,H:2}),ZM}var eA,W5;function r$(){return W5||(W5=1,eA={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),eA}var tA,H5;function g2e(){if(H5)return tA;H5=1;var t=r$();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},tA=e,tA}var nA,G5;function v2e(){if(G5)return nA;G5=1;var t=i$();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var r=e.getRsBlockTable(n,i);if(r==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var s=r.length/3,o=new Array,a=0;a<s;a++)for(var l=r[a*3+0],c=r[a*3+1],d=r[a*3+2],h=0;h<l;h++)o.push(new e(c,d));return o},e.getRsBlockTable=function(n,i){switch(i){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},nA=e,nA}var iA,$5;function y2e(){if($5)return iA;$5=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},iA=t,iA}var rA,q5;function s$(){if(q5)return rA;q5=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return rA=t,rA}var sA,X5;function o$(){if(X5)return sA;X5=1;var t=s$();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var r=0;r<n.length&&n[r]==0;)r++;this.num=new Array(n.length-r+i);for(var s=0;s<n.length-r;s++)this.num[s]=n[s+r]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<n.getLength();s++)i[r+s]^=t.gexp(t.glog(this.get(r))+t.glog(n.get(s)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.glog(this.get(0))-t.glog(n.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<n.getLength();s++)r[s]^=t.gexp(t.glog(n.get(s))+i);return new e(r,0).mod(n)}},sA=e,sA}var oA,Y5;function x2e(){if(Y5)return oA;Y5=1;var t=r$(),e=o$(),n=s$(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;r.getBCHDigit(o)-r.getBCHDigit(r.G15)>=0;)o^=r.G15<<r.getBCHDigit(o)-r.getBCHDigit(r.G15);return(s<<10|o)^r.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;r.getBCHDigit(o)-r.getBCHDigit(r.G18)>=0;)o^=r.G18<<r.getBCHDigit(o)-r.getBCHDigit(r.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return r.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,a){switch(s){case i.PATTERN000:return(o+a)%2==0;case i.PATTERN001:return o%2==0;case i.PATTERN010:return a%3==0;case i.PATTERN011:return(o+a)%3==0;case i.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2==0;case i.PATTERN101:return o*a%2+o*a%3==0;case i.PATTERN110:return(o*a%2+o*a%3)%2==0;case i.PATTERN111:return(o*a%3+(o+a)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),a=0;a<s;a++)o=o.multiply(new e([1,n.gexp(a)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),a=0,l=0;l<o;l++)for(var c=0;c<o;c++){for(var d=0,h=s.isDark(l,c),p=-1;p<=1;p++)if(!(l+p<0||o<=l+p))for(var v=-1;v<=1;v++)c+v<0||o<=c+v||p==0&&v==0||h==s.isDark(l+p,c+v)&&d++;d>5&&(a+=3+d-5)}for(var l=0;l<o-1;l++)for(var c=0;c<o-1;c++){var y=0;s.isDark(l,c)&&y++,s.isDark(l+1,c)&&y++,s.isDark(l,c+1)&&y++,s.isDark(l+1,c+1)&&y++,(y==0||y==4)&&(a+=3)}for(var l=0;l<o;l++)for(var c=0;c<o-6;c++)s.isDark(l,c)&&!s.isDark(l,c+1)&&s.isDark(l,c+2)&&s.isDark(l,c+3)&&s.isDark(l,c+4)&&!s.isDark(l,c+5)&&s.isDark(l,c+6)&&(a+=40);for(var c=0;c<o;c++)for(var l=0;l<o-6;l++)s.isDark(l,c)&&!s.isDark(l+1,c)&&s.isDark(l+2,c)&&s.isDark(l+3,c)&&s.isDark(l+4,c)&&!s.isDark(l+5,c)&&s.isDark(l+6,c)&&(a+=40);for(var b=0,c=0;c<o;c++)for(var l=0;l<o;l++)s.isDark(l,c)&&b++;var S=Math.abs(100*b/o/o-50)/5;return a+=S*10,a}};return oA=r,oA}var aA,K5;function _2e(){if(K5)return aA;K5=1;var t=g2e(),e=v2e(),n=y2e(),i=x2e(),r=o$();function s(a,l){this.typeNumber=a,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(a){var l=new t(a);this.dataList.push(l),this.dataCache=null},o.isDark=function(a,l){if(a<0||this.moduleCount<=a||l<0||this.moduleCount<=l)throw new Error(a+","+l);return this.modules[a][l]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var a=1;for(a=1;a<40;a++){for(var l=e.getRSBlocks(a,this.errorCorrectLevel),c=new n,d=0,h=0;h<l.length;h++)d+=l[h].dataCount;for(var h=0;h<this.dataList.length;h++){var p=this.dataList[h];c.put(p.mode,4),c.put(p.getLength(),i.getLengthInBits(p.mode,a)),p.write(c)}if(c.getLengthInBits()<=d*8)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(a,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,l),this.typeNumber>=7&&this.setupTypeNumber(a),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},o.setupPositionProbePattern=function(a,l){for(var c=-1;c<=7;c++)if(!(a+c<=-1||this.moduleCount<=a+c))for(var d=-1;d<=7;d++)l+d<=-1||this.moduleCount<=l+d||(0<=c&&c<=6&&(d==0||d==6)||0<=d&&d<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=d&&d<=4?this.modules[a+c][l+d]=!0:this.modules[a+c][l+d]=!1)},o.getBestMaskPattern=function(){for(var a=0,l=0,c=0;c<8;c++){this.makeImpl(!0,c);var d=i.getLostPoint(this);(c==0||a>d)&&(a=d,l=c)}return l},o.createMovieClip=function(a,l,c){var d=a.createEmptyMovieClip(l,c),h=1;this.make();for(var p=0;p<this.modules.length;p++)for(var v=p*h,y=0;y<this.modules[p].length;y++){var b=y*h,S=this.modules[p][y];S&&(d.beginFill(0,100),d.moveTo(b,v),d.lineTo(b+h,v),d.lineTo(b+h,v+h),d.lineTo(b,v+h),d.endFill())}return d},o.setupTimingPattern=function(){for(var a=8;a<this.moduleCount-8;a++)this.modules[a][6]==null&&(this.modules[a][6]=a%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},o.setupPositionAdjustPattern=function(){for(var a=i.getPatternPosition(this.typeNumber),l=0;l<a.length;l++)for(var c=0;c<a.length;c++){var d=a[l],h=a[c];if(this.modules[d][h]==null)for(var p=-2;p<=2;p++)for(var v=-2;v<=2;v++)p==-2||p==2||v==-2||v==2||p==0&&v==0?this.modules[d+p][h+v]=!0:this.modules[d+p][h+v]=!1}},o.setupTypeNumber=function(a){for(var l=i.getBCHTypeNumber(this.typeNumber),c=0;c<18;c++){var d=!a&&(l>>c&1)==1;this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;c<18;c++){var d=!a&&(l>>c&1)==1;this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},o.setupTypeInfo=function(a,l){for(var c=this.errorCorrectLevel<<3|l,d=i.getBCHTypeInfo(c),h=0;h<15;h++){var p=!a&&(d>>h&1)==1;h<6?this.modules[h][8]=p:h<8?this.modules[h+1][8]=p:this.modules[this.moduleCount-15+h][8]=p}for(var h=0;h<15;h++){var p=!a&&(d>>h&1)==1;h<8?this.modules[8][this.moduleCount-h-1]=p:h<9?this.modules[8][15-h-1+1]=p:this.modules[8][15-h-1]=p}this.modules[this.moduleCount-8][8]=!a},o.mapData=function(a,l){for(var c=-1,d=this.moduleCount-1,h=7,p=0,v=this.moduleCount-1;v>0;v-=2)for(v==6&&v--;;){for(var y=0;y<2;y++)if(this.modules[d][v-y]==null){var b=!1;p<a.length&&(b=(a[p]>>>h&1)==1);var S=i.getMask(l,d,v-y);S&&(b=!b),this.modules[d][v-y]=b,h--,h==-1&&(p++,h=7)}if(d+=c,d<0||this.moduleCount<=d){d-=c,c=-c;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(a,l,c){for(var d=e.getRSBlocks(a,l),h=new n,p=0;p<c.length;p++){var v=c[p];h.put(v.mode,4),h.put(v.getLength(),i.getLengthInBits(v.mode,a)),v.write(h)}for(var y=0,p=0;p<d.length;p++)y+=d[p].dataCount;if(h.getLengthInBits()>y*8)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+y*8+")");for(h.getLengthInBits()+4<=y*8&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=y*8||(h.put(s.PAD0,8),h.getLengthInBits()>=y*8));)h.put(s.PAD1,8);return s.createBytes(h,d)},s.createBytes=function(a,l){for(var c=0,d=0,h=0,p=new Array(l.length),v=new Array(l.length),y=0;y<l.length;y++){var b=l[y].dataCount,S=l[y].totalCount-b;d=Math.max(d,b),h=Math.max(h,S),p[y]=new Array(b);for(var _=0;_<p[y].length;_++)p[y][_]=255&a.buffer[_+c];c+=b;var E=i.getErrorCorrectPolynomial(S),T=new r(p[y],E.getLength()-1),P=T.mod(E);v[y]=new Array(E.getLength()-1);for(var _=0;_<v[y].length;_++){var k=_+P.getLength()-v[y].length;v[y][_]=k>=0?P.get(k):0}}for(var F=0,_=0;_<l.length;_++)F+=l[_].totalCount;for(var D=new Array(F),B=0,_=0;_<d;_++)for(var y=0;y<l.length;y++)_<p[y].length&&(D[B++]=p[y][_]);for(var _=0;_<h;_++)for(var y=0;y<l.length;y++)_<v[y].length&&(D[B++]=v[y][_]);return D},aA=s,aA}var Tb={},J5;function b2e(){if(J5)return Tb;J5=1,Object.defineProperty(Tb,"__esModule",{value:!0});var t=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c},e=WR(),n=s(e),i=Wg(),r=s(i);function s(c){return c&&c.__esModule?c:{default:c}}function o(c,d){var h={};for(var p in c)d.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}var a={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},l=(0,i.forwardRef)(function(c,d){var h=c.bgColor,p=c.bgD,v=c.fgD,y=c.fgColor,b=c.size,S=c.title,_=c.viewBoxSize,E=c.xmlns,T=E===void 0?"http://www.w3.org/2000/svg":E,P=o(c,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return r.default.createElement("svg",t({},P,{height:b,ref:d,viewBox:"0 0 "+_+" "+_,width:b,xmlns:T}),S?r.default.createElement("title",null,S):null,r.default.createElement("path",{d:p,fill:h}),r.default.createElement("path",{d:v,fill:y}))});return l.displayName="QRCodeSvg",l.propTypes=a,Tb.default=l,Tb}var Q5;function S2e(){if(Q5)return $m;Q5=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.QRCode=void 0;var t=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(b[E]=_[E])}return b},e=WR(),n=h(e),i=i$(),r=h(i),s=_2e(),o=h(s),a=Wg(),l=h(a),c=b2e(),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,S){var _={};for(var E in b)S.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(b,E)&&(_[E]=b[E]);return _}var v={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},y=(0,a.forwardRef)(function(b,S){var _=b.bgColor,E=_===void 0?"#FFFFFF":_,T=b.fgColor,P=T===void 0?"#000000":T,k=b.level,F=k===void 0?"L":k,D=b.size,B=D===void 0?256:D,N=b.value,R=p(b,["bgColor","fgColor","level","size","value"]),U=new o.default(-1,r.default[F]);U.addData(N),U.make();var W=U.modules;return l.default.createElement(d.default,t({},R,{bgColor:E,bgD:W.map(function(Y,ee){return Y.map(function(K,Z){return K?"":"M "+Z+" "+ee+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:P,fgD:W.map(function(Y,ee){return Y.map(function(K,Z){return K?"M "+Z+" "+ee+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:S,size:B,viewBoxSize:W.length}))});return $m.QRCode=y,y.displayName="QRCode",y.propTypes=v,$m.default=y,$m}var w2e=S2e();const E2e=Sx(w2e),T2e=()=>{const[t,e]=z.useState("profile"),{user:n}=z.useContext(wu),[i,r]=z.useState([]),[s,o]=z.useState([]),[a,l]=z.useState(!1),[c,d]=z.useState({name:null,email:null,phone:null,address:null}),[h,p]=z.useState(""),[v,y]=z.useState(""),[b,S]=z.useState(""),[_,E]=z.useState(""),[T,P]=z.useState(""),[k,F]=z.useState(""),{handleSignout:D}=$0(),B=[{id:"profile",label:"Profile",icon:w.jsx(PM,{style:{width:"20px",height:"20px"}})},{id:"security",label:"Security",icon:w.jsx(hb,{style:{width:"20px",height:"20px"}})},{id:"Orders",label:"Orders",icon:w.jsx(r1e,{style:{width:"20px",height:"20px"}})},{id:"Tour",label:"Tour",icon:w.jsx(d7,{style:{width:"20px",height:"20px"}})}];z.useEffect(()=>{if(n){const K=uo(),Z=_i(K,"users/"+(n.email?n.email.replace(".",","):""));tl(Z).then(Q=>{if(Q.exists()){const ne=Q.val();d({name:ne.Name,email:n.email,phone:ne.Phone,address:ne.Address}),p(ne.Name),y(ne.email),S(ne.Phone)}}).catch(Q=>{console.error(Q)});const G=_i(K,"users/"+(n.email?n.email.replace(".",",")+"/orders":""));tl(G).then(Q=>{if(Q.exists()){const ne=Q.val(),q=Object.values(ne).map(ae=>({date:ae.date,items:ae.items,total:ae.total}));console.log(q),console.log(i),r(q)}}).catch(Q=>{console.error(Q)});const j=_i(K,"users/"+(n.email?n.email.replace(".",",")+"/tourOrders":""));tl(j).then(Q=>{if(Q.exists()){const ne=Q.val(),q=Object.values(ne).map(ae=>({date:ae.date,items:ae.items}));o(q)}}).catch(Q=>{console.error(Q)})}},[n]);const N=()=>{if(n){const K=uo(),Z=_i(K,"users/"+(n.email?n.email.replace(".",","):""));Aj(Z,{Name:h,Email:v,Phone:b,Address:c.address}).then(()=>{console.log("User data updated successfully."),d({name:h,email:v,phone:b,address:c.address})}).catch(G=>{console.error("Error updating user data: ",G)})}},R=K=>{const G=(""+K).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return G?`(${G[1]})-${G[2]}-${G[3]}`:K},U=K=>{const G="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(K/10)],j=K%10+1;return`${G}${j}`},{handlePasswordChange:W,handleUpdatePassword:Y}=$0(),ee=()=>{T===k?Y().then(()=>{E(""),P(""),F(""),Sn.success("Password Change Successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}).catch(K=>{console.error("Error updating password: ",K)}):console.error("Passwords do not match.")};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:C2e,children:[w.jsx(dv,{}),n?w.jsxs("div",{style:M2e,children:[w.jsxs("div",{style:A2e,children:[w.jsx("div",{style:P2e,children:w.jsxs("div",{children:[w.jsx("h2",{style:{margin:0,fontSize:"16px"},children:c.name}),w.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#A0A0A0"},children:c.email})]})}),w.jsxs("nav",{children:[B.map(K=>w.jsxs("button",{onClick:()=>e(K.id),style:I2e(t===K.id),children:[K.icon,w.jsx("span",{children:K.label})]},K.id)),w.jsxs("button",{onClick:()=>{D(),window.location.href="#/signin"},style:k2e,children:[w.jsx(Z_e,{style:{width:"20px",height:"20px"}}),w.jsx("span",{children:"Sign out"})]})]})]}),w.jsxs("div",{style:R2e,children:[t==="profile"&&w.jsxs("div",{children:[w.jsx("h1",{style:{fontSize:"24px",marginBottom:"24px"},children:"Profile Information"}),w.jsx("div",{children:a?w.jsxs("div",{style:{marginTop:"16px"},children:[w.jsxs("div",{style:Po,children:[w.jsx(PM,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Full Name"}),w.jsx("input",{type:"text",value:h||"",onChange:K=>p(K.target.value),style:qm})]})]}),w.jsxs("div",{style:Po,children:[w.jsx(G4,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Email Address"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:v||"Not set"}),w.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#FF4545"},children:"Email address cannot be updated. Please contact us to learn more."})]})]}),w.jsxs("div",{style:Po,children:[w.jsx($4,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Phone Number"}),w.jsx("input",{type:"text",value:b||"",onChange:K=>S(K.target.value),style:qm})]})]}),w.jsxs("div",{style:Po,children:[w.jsx(H4,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Address"}),w.jsx("input",{type:"text",value:c.address||"",onChange:K=>d({...c,address:K.target.value}),style:qm})]})]}),w.jsx("button",{style:Cb,onClick:()=>{l(!1),N()},children:"Save"}),w.jsx("button",{style:{...Cb,backgroundColor:"#FF4545",marginLeft:"8px"},onClick:()=>l(!1),children:"Cancel"})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Po,children:[w.jsx(PM,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Full Name"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.name||"Not set"})]})]}),w.jsxs("div",{style:Po,children:[w.jsx(G4,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Email Address"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.email||"Not set"})]})]}),w.jsxs("div",{style:Po,children:[w.jsx($4,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Phone Number"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.phone?R(c.phone):"Not set"})]})]}),w.jsxs("div",{style:Po,children:[w.jsx(H4,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Address"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.address||"Not set"})]})]}),w.jsx("button",{style:Cb,onClick:()=>l(!0),children:"Edit Profile"})]})})]}),t==="Orders"&&w.jsx(w.Fragment,{children:i.length>0?i.map((K,Z)=>w.jsxs("div",{style:{marginBottom:"24px"},children:[w.jsxs("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:["Order Date: ",K.date]}),w.jsx("p",{style:{fontSize:"16px",color:"#A0A0A0"},children:"Awaiting shipping info"}),K.items.map((G,j)=>w.jsxs("div",{style:Po,children:[w.jsx("img",{src:G.imageUrl,alt:G.title,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"}}),w.jsxs("div",{style:{flex:1},children:[w.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#E9204F"},children:G.title}),w.jsx("p",{children:G.description}),!G.title.toLowerCase().includes("vinyl")&&!G.title.toLowerCase().includes("candle")&&!G.title.toLowerCase().includes("sticker")&&!G.title.toLowerCase().includes("bag")&&w.jsxs(w.Fragment,{children:[!G.title.toLowerCase().includes("phone")&&w.jsxs("p",{children:[w.jsx("strong",{children:"Size:"})," ",G.Size]}),!G.title.toLowerCase().includes("socks")&&w.jsxs("p",{children:[w.jsx("strong",{children:"Color:"})," ",G.color]})]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Quantity:"})," ",G.quantity]})]}),w.jsxs("p",{style:{fontSize:"16px",fontWeight:"bold",color:"white"},children:["$",G.price.toFixed(2)]})]},j)),w.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"white",marginTop:"16px"},children:["Total: $",K.total.toFixed(2)]})]},Z)):w.jsx("p",{children:"No orders found."})}),t==="Tour"&&w.jsxs(w.Fragment,{children:["                                    ",w.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"Tour Dates:"}),s.length>0?s.map((K,Z)=>w.jsx("div",{style:{marginBottom:"24px"},children:K.items.map((G,j)=>w.jsxs("div",{style:Po,children:[w.jsxs("div",{style:{flex:1},children:[w.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#E9204F"},children:G.place}),w.jsxs("p",{children:[w.jsx("strong",{children:"Address:"})," ",G.address]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Start Date:"})," ",G.startDate]}),w.jsxs("p",{children:[w.jsx("strong",{children:"End Date:"})," ",G.endDate]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Seats:"})," ",G.selectedSeats.map(U).join(", ")]}),w.jsx("p",{style:{fontSize:"12px",color:"#A0A0A0",marginTop:"8px"},children:"Scan this code at the venue for admission"})]}),w.jsx(E2e,{value:`Email: ${c.email}, Place: ${G.place}, Start Date: ${G.startDate}, End Date: ${G.endDate}, Seats: ${G.selectedSeats.join(", ")}`,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"Q"})]},j))},Z)):w.jsx("p",{children:"No tour orders found."})]}),t==="security"&&w.jsxs("div",{children:[w.jsx("h1",{style:{fontSize:"24px",marginBottom:"24px"},children:"Security Settings"}),w.jsx("p",{style:{color:"#A0A0A0"},children:"Manage your account security and privacy settings."}),w.jsxs("div",{style:{marginTop:"16px"},children:[w.jsxs("div",{style:Po,children:[w.jsx(hb,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Current Password"}),w.jsx("input",{type:"password",value:_,onChange:K=>E(K.target.value),style:qm})]})]}),w.jsxs("div",{style:Po,children:[w.jsx(hb,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"New Password"}),w.jsx("input",{type:"password",value:T,onChange:K=>{P(K.target.value),W(K)},style:qm})]})]}),w.jsxs("div",{style:Po,children:[w.jsx(hb,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Confirm New Password"}),w.jsx("input",{type:"password",value:k,onChange:K=>F(K.target.value),style:qm})]})]}),w.jsx("button",{style:Cb,onClick:ee,children:"Update Password"})]})]})]})]}):w.jsx("div",{style:{textAlign:"center",color:"#A0A0A0"},children:w.jsx("h1",{children:"Please login to view your account information."})})]}),w.jsx(rc,{})]})},C2e={minHeight:"80vh",backgroundColor:"#121212",color:"#ffffff",padding:"32px",marginTop:"72px"},M2e={backgroundColor:"#1E1E1E",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",display:"grid",gridTemplateColumns:"1fr 3fr",minHeight:"600px"},A2e={borderRight:"1px solid #333",padding:"24px"},P2e={display:"flex",alignItems:"center",gap:"12px",marginBottom:"32px"},I2e=t=>({width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:t?"#2D2D2D":"transparent",color:t?"#ffffff":"#A0A0A0",border:"none",borderRadius:"6px",cursor:"pointer",marginBottom:"8px",transition:"all 0.2s ease",textAlign:"left"}),R2e={padding:"32px"},Po={backgroundColor:"#2D2D2D",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px"},Cb={backgroundColor:"#007AFF",color:"white",padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},qm={width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #A0A0A0",backgroundColor:"#1E1E1E",color:"#ffffff",marginBottom:"8px"},k2e={width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:"transparent",color:"#FF4545",border:"none",borderRadius:"6px",cursor:"pointer",marginTop:"16px",textAlign:"left"},N2e=()=>w.jsx("div",{className:"order-completion-container",style:{fontFamily:"Sansation",fontWeight:700},children:w.jsxs("div",{className:"order-completion-content",children:[w.jsx("h1",{className:"order-completion-title",children:"Order Successful!"}),w.jsx("p",{className:"order-completion-message",children:"Your order was successful. You can view your shipping details and tickets in the account page."}),w.jsx(Ai,{to:"/account",className:"order-completion-link",children:"Go to Account Page"})]})}),wu=z.createContext({user:null,setUser:()=>{}});function L2e(){const[t,e]=z.useState(null);return z.useEffect(()=>{const n=Dl.onAuthStateChanged(i=>{e(i)});return()=>n()},[Dl]),w.jsx(wu.Provider,{value:{user:t,setUser:e},children:w.jsx(iV,{children:w.jsxs(gre,{children:[w.jsx("div",{style:{position:"fixed",top:0,width:"100%",zIndex:1e3},children:w.jsx(Qde,{})}),w.jsxs(qie,{children:[w.jsx(Gr,{path:"/",element:w.jsx(yCe,{})}),w.jsx(Gr,{path:"/about-us",element:w.jsx(bCe,{})}),w.jsx(Gr,{path:"/tour",element:w.jsx(hMe,{})}),w.jsx(Gr,{path:"/store",element:w.jsx(dMe,{})}),w.jsx(Gr,{path:"/contact-us",element:w.jsx(XMe,{})}),w.jsx(Gr,{path:"/checkout",element:w.jsx(ZMe,{})}),w.jsx(Gr,{path:"/tour_details",element:w.jsx(eAe,{})}),w.jsx(Gr,{path:"/login",element:w.jsx(tAe,{})}),w.jsx(Gr,{path:"/signup",element:w.jsx(nAe,{})}),w.jsx(Gr,{path:"/cart",element:w.jsx(iAe,{})}),w.jsx(Gr,{path:"/payment",element:w.jsx(h2e,{})}),w.jsx(Gr,{path:"/terms",element:w.jsx(p2e,{})}),w.jsx(Gr,{path:"/privacy",element:w.jsx(m2e,{})}),w.jsx(Gr,{path:"/account",element:w.jsx(T2e,{})}),w.jsx(Gr,{path:"/completion",element:w.jsx(N2e,{})}),w.jsx(Gr,{path:"*",element:w.jsx(D2e,{})})]})]})})})}const D2e=()=>w.jsxs("div",{style:{textAlign:"center",marginTop:"200px"},children:[w.jsx("h1",{style:{fontSize:"3rem",color:"#ff0000"},children:"404 Page Not Found"}),w.jsx("p",{style:{fontSize:"1.5rem"},children:"The page you're looking for doesn't exist."})]});B$.createRoot(document.getElementById("root")).render(w.jsx(z.StrictMode,{children:w.jsx(iV,{children:w.jsx(L2e,{})})}));
