function DJ(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function TS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QV={exports:{}},CS={},ZV={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),OJ=Symbol.for("react.portal"),FJ=Symbol.for("react.fragment"),zJ=Symbol.for("react.strict_mode"),BJ=Symbol.for("react.profiler"),UJ=Symbol.for("react.provider"),VJ=Symbol.for("react.context"),jJ=Symbol.for("react.forward_ref"),HJ=Symbol.for("react.suspense"),WJ=Symbol.for("react.memo"),GJ=Symbol.for("react.lazy"),C3=Symbol.iterator;function $J(t){return t===null||typeof t!="object"?null:(t=C3&&t[C3]||t["@@iterator"],typeof t=="function"?t:null)}var e6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t6=Object.assign,n6={};function Ep(t,e,n){this.props=t,this.context=e,this.refs=n6,this.updater=n||e6}Ep.prototype.isReactComponent={};Ep.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ep.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i6(){}i6.prototype=Ep.prototype;function RI(t,e,n){this.props=t,this.context=e,this.refs=n6,this.updater=n||e6}var kI=RI.prototype=new i6;kI.constructor=RI;t6(kI,Ep.prototype);kI.isPureReactComponent=!0;var M3=Array.isArray,r6=Object.prototype.hasOwnProperty,NI={current:null},s6={key:!0,ref:!0,__self:!0,__source:!0};function o6(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r6.call(e,i)&&!s6.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:gy,type:t,key:s,ref:o,props:r,_owner:NI.current}}function qJ(t,e){return{$$typeof:gy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function LI(t){return typeof t=="object"&&t!==null&&t.$$typeof===gy}function XJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P3=/\/+/g;function CT(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XJ(""+t.key):e.toString(36)}function H_(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gy:case OJ:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+CT(o,0):i,M3(r)?(n="",t!=null&&(n=t.replace(P3,"$&/")+"/"),H_(r,e,n,"",function(c){return c})):r!=null&&(LI(r)&&(r=qJ(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(P3,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",M3(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+CT(s,a);o+=H_(s,e,n,l,r)}else if(l=$J(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+CT(s,a++),o+=H_(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sx(t,e,n){if(t==null)return t;var i=[],r=0;return H_(t,i,"","",function(s){return e.call(n,s,r++)}),i}function YJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},W_={transition:null},KJ={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:W_,ReactCurrentOwner:NI};function a6(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:sx,forEach:function(t,e,n){sx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sx(t,function(){e++}),e},toArray:function(t){return sx(t,function(e){return e})||[]},only:function(t){if(!LI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Ep;Ot.Fragment=FJ;Ot.Profiler=BJ;Ot.PureComponent=RI;Ot.StrictMode=zJ;Ot.Suspense=HJ;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KJ;Ot.act=a6;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=t6({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=NI.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r6.call(e,l)&&!s6.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:gy,type:t.type,key:r,ref:s,props:i,_owner:o}};Ot.createContext=function(t){return t={$$typeof:VJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UJ,_context:t},t.Consumer=t};Ot.createElement=o6;Ot.createFactory=function(t){var e=o6.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:jJ,render:t}};Ot.isValidElement=LI;Ot.lazy=function(t){return{$$typeof:GJ,_payload:{_status:-1,_result:t},_init:YJ}};Ot.memo=function(t,e){return{$$typeof:WJ,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=W_.transition;W_.transition={};try{t()}finally{W_.transition=e}};Ot.unstable_act=a6;Ot.useCallback=function(t,e){return Vr.current.useCallback(t,e)};Ot.useContext=function(t){return Vr.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return Vr.current.useEffect(t,e)};Ot.useId=function(){return Vr.current.useId()};Ot.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return Vr.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)};Ot.useRef=function(t){return Vr.current.useRef(t)};Ot.useState=function(t){return Vr.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return Vr.current.useTransition()};Ot.version="18.3.1";ZV.exports=Ot;var L=ZV.exports;const ze=TS(L),A3=DJ({__proto__:null,default:ze},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JJ=L,QJ=Symbol.for("react.element"),ZJ=Symbol.for("react.fragment"),eQ=Object.prototype.hasOwnProperty,tQ=JJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nQ={key:!0,ref:!0,__self:!0,__source:!0};function l6(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)eQ.call(e,i)&&!nQ.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:QJ,type:t,key:s,ref:o,props:r,_owner:tQ.current}}CS.Fragment=ZJ;CS.jsx=l6;CS.jsxs=l6;QV.exports=CS;var w=QV.exports,c6={exports:{}},Ls={},u6={exports:{}},d6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var $=D.length;D.push(B);e:for(;0<$;){var J=$-1>>>1,ce=D[J];if(0<r(ce,B))D[J]=B,D[$]=ce,$=J;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var B=D[0],$=D.pop();if($!==B){D[0]=$;e:for(var J=0,ce=D.length,Ne=ce>>>1;J<Ne;){var ie=2*(J+1)-1,pe=D[ie],Ee=ie+1,Te=D[Ee];if(0>r(pe,$))Ee<ce&&0>r(Te,pe)?(D[J]=Te,D[Ee]=$,J=Ee):(D[J]=pe,D[ie]=$,J=ie);else if(Ee<ce&&0>r(Te,$))D[J]=Te,D[Ee]=$,J=Ee;else break e}}return B}function r(D,B){var $=D.sortIndex-B.sortIndex;return $!==0?$:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=D)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function E(D){if(y=!1,b(D),!g)if(n(l)!==null)g=!0,K(M);else{var B=n(c);B!==null&&j(E,B.startTime-D)}}function M(D,B){g=!1,y&&(y=!1,v(k),k=-1),m=!0;var $=h;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||D&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var ce=J(d.expirationTime<=B);B=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&i(l),b(B)}else i(l);d=n(l)}if(d!==null)var Ne=!0;else{var ie=n(c);ie!==null&&j(E,ie.startTime-B),Ne=!1}return Ne}finally{d=null,h=$,m=!1}}var C=!1,R=null,k=-1,I=5,P=-1;function O(){return!(t.unstable_now()-P<I)}function z(){if(R!==null){var D=t.unstable_now();P=D;var B=!0;try{B=R(!0,D)}finally{B?U():(C=!1,R=null)}}else C=!1}var U;if(typeof x=="function")U=function(){x(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=z,U=function(){W.postMessage(null)}}else U=function(){_(z,0)};function K(D){R=D,C||(C=!0,U())}function j(D,B){k=_(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(M))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var $=h;h=B;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return B()}finally{h=$}},t.unstable_scheduleCallback=function(D,B,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=$+ce,D={id:u++,callback:B,priorityLevel:D,startTime:$,expirationTime:ce,sortIndex:-1},$>J?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(v(k),k=-1):y=!0,j(E,$-J))):(D.sortIndex=ce,e(l,D),g||m||(g=!0,K(M))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var B=h;return function(){var $=h;h=B;try{return D.apply(this,arguments)}finally{h=$}}}})(d6);u6.exports=d6;var iQ=u6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rQ=L,ks=iQ;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f6=new Set,sv={};function $d(t,e){Yh(t,e),Yh(t+"Capture",e)}function Yh(t,e){for(sv[t]=e,t=0;t<e.length;t++)f6.add(e[t])}var wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),KM=Object.prototype.hasOwnProperty,sQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I3={},R3={};function oQ(t){return KM.call(R3,t)?!0:KM.call(I3,t)?!1:sQ.test(t)?R3[t]=!0:(I3[t]=!0,!1)}function aQ(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lQ(t,e,n,i){if(e===null||typeof e>"u"||aQ(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){er[t]=new jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];er[e]=new jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){er[t]=new jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){er[t]=new jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){er[t]=new jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){er[t]=new jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){er[t]=new jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){er[t]=new jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){er[t]=new jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var DI=/[\-:]([a-z])/g;function OI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(DI,OI);er[e]=new jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(DI,OI);er[e]=new jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(DI,OI);er[e]=new jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){er[t]=new jr(t,1,!1,t.toLowerCase(),null,!1,!1)});er.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){er[t]=new jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function FI(t,e,n,i){var r=er.hasOwnProperty(e)?er[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lQ(e,n,r,i)&&(n=null),i||r===null?oQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var zl=rQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ox=Symbol.for("react.element"),oh=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),zI=Symbol.for("react.strict_mode"),JM=Symbol.for("react.profiler"),h6=Symbol.for("react.provider"),p6=Symbol.for("react.context"),BI=Symbol.for("react.forward_ref"),QM=Symbol.for("react.suspense"),ZM=Symbol.for("react.suspense_list"),UI=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),m6=Symbol.for("react.offscreen"),k3=Symbol.iterator;function gm(t){return t===null||typeof t!="object"?null:(t=k3&&t[k3]||t["@@iterator"],typeof t=="function"?t:null)}var Un=Object.assign,MT;function ag(t){if(MT===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);MT=e&&e[1]||""}return`
`+MT+t}var PT=!1;function AT(t,e){if(!t||PT)return"";PT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{PT=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ag(t):""}function cQ(t){switch(t.tag){case 5:return ag(t.type);case 16:return ag("Lazy");case 13:return ag("Suspense");case 19:return ag("SuspenseList");case 0:case 2:case 15:return t=AT(t.type,!1),t;case 11:return t=AT(t.type.render,!1),t;case 1:return t=AT(t.type,!0),t;default:return""}}function eP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ah:return"Fragment";case oh:return"Portal";case JM:return"Profiler";case zI:return"StrictMode";case QM:return"Suspense";case ZM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p6:return(t.displayName||"Context")+".Consumer";case h6:return(t._context.displayName||"Context")+".Provider";case BI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case UI:return e=t.displayName||null,e!==null?e:eP(t.type)||"Memo";case yc:e=t._payload,t=t._init;try{return eP(t(e))}catch{}}return null}function uQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eP(e);case 8:return e===zI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dQ(t){var e=g6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ax(t){t._valueTracker||(t._valueTracker=dQ(t))}function v6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=g6(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function I1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tP(t,e){var n=e.checked;return Un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function N3(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Xc(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y6(t,e){e=e.checked,e!=null&&FI(t,"checked",e,!1)}function nP(t,e){y6(t,e);var n=Xc(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iP(t,e.type,n):e.hasOwnProperty("defaultValue")&&iP(t,e.type,Xc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iP(t,e,n){(e!=="number"||I1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lg=Array.isArray;function Rh(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xc(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function rP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(lg(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xc(n)}}function x6(t,e){var n=Xc(e.value),i=Xc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function O3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lx,b6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lx=lx||document.createElement("div"),lx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ov(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fQ=["Webkit","ms","Moz","O"];Object.keys(Eg).forEach(function(t){fQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eg[e]=Eg[t]})});function S6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eg.hasOwnProperty(t)&&Eg[t]?(""+e).trim():e+"px"}function w6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=S6(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var hQ=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oP(t,e){if(e){if(hQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function aP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lP=null;function VI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cP=null,kh=null,Nh=null;function F3(t){if(t=xy(t)){if(typeof cP!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=RS(e),cP(t.stateNode,t.type,e))}}function E6(t){kh?Nh?Nh.push(t):Nh=[t]:kh=t}function T6(){if(kh){var t=kh,e=Nh;if(Nh=kh=null,F3(t),e)for(t=0;t<e.length;t++)F3(e[t])}}function C6(t,e){return t(e)}function M6(){}var IT=!1;function P6(t,e,n){if(IT)return t(e,n);IT=!0;try{return C6(t,e,n)}finally{IT=!1,(kh!==null||Nh!==null)&&(M6(),T6())}}function av(t,e){var n=t.stateNode;if(n===null)return null;var i=RS(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var uP=!1;if(wl)try{var vm={};Object.defineProperty(vm,"passive",{get:function(){uP=!0}}),window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{uP=!1}function pQ(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Tg=!1,R1=null,k1=!1,dP=null,mQ={onError:function(t){Tg=!0,R1=t}};function gQ(t,e,n,i,r,s,o,a,l){Tg=!1,R1=null,pQ.apply(mQ,arguments)}function vQ(t,e,n,i,r,s,o,a,l){if(gQ.apply(this,arguments),Tg){if(Tg){var c=R1;Tg=!1,R1=null}else throw Error(Ce(198));k1||(k1=!0,dP=c)}}function qd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z3(t){if(qd(t)!==t)throw Error(Ce(188))}function yQ(t){var e=t.alternate;if(!e){if(e=qd(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return z3(r),t;if(s===i)return z3(r),e;s=s.sibling}throw Error(Ce(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(n.alternate!==i)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function I6(t){return t=yQ(t),t!==null?R6(t):null}function R6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R6(t);if(e!==null)return e;t=t.sibling}return null}var k6=ks.unstable_scheduleCallback,B3=ks.unstable_cancelCallback,xQ=ks.unstable_shouldYield,_Q=ks.unstable_requestPaint,Zn=ks.unstable_now,bQ=ks.unstable_getCurrentPriorityLevel,jI=ks.unstable_ImmediatePriority,N6=ks.unstable_UserBlockingPriority,N1=ks.unstable_NormalPriority,SQ=ks.unstable_LowPriority,L6=ks.unstable_IdlePriority,MS=null,_a=null;function wQ(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(MS,t,void 0,(t.current.flags&128)===128)}catch{}}var Fo=Math.clz32?Math.clz32:CQ,EQ=Math.log,TQ=Math.LN2;function CQ(t){return t>>>=0,t===0?32:31-(EQ(t)/TQ|0)|0}var cx=64,ux=4194304;function cg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function L1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=cg(a):(s&=o,s!==0&&(i=cg(s)))}else o=n&~r,o!==0?i=cg(o):s!==0&&(i=cg(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Fo(e),r=1<<n,i|=t[n],e&=~r;return i}function MQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PQ(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fo(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=MQ(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D6(){var t=cx;return cx<<=1,!(cx&4194240)&&(cx=64),t}function RT(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fo(e),t[e]=n}function AQ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Fo(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function HI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Fo(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var rn=0;function O6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F6,WI,z6,B6,U6,hP=!1,dx=[],Lc=null,Dc=null,Oc=null,lv=new Map,cv=new Map,bc=[],IQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U3(t,e){switch(t){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":lv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cv.delete(e.pointerId)}}function ym(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=xy(e),e!==null&&WI(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function RQ(t,e,n,i,r){switch(e){case"focusin":return Lc=ym(Lc,t,e,n,i,r),!0;case"dragenter":return Dc=ym(Dc,t,e,n,i,r),!0;case"mouseover":return Oc=ym(Oc,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return lv.set(s,ym(lv.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,cv.set(s,ym(cv.get(s)||null,t,e,n,i,r)),!0}return!1}function V6(t){var e=nd(t.target);if(e!==null){var n=qd(e);if(n!==null){if(e=n.tag,e===13){if(e=A6(n),e!==null){t.blockedOn=e,U6(t.priority,function(){z6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function G_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);lP=i,n.target.dispatchEvent(i),lP=null}else return e=xy(n),e!==null&&WI(e),t.blockedOn=n,!1;e.shift()}return!0}function V3(t,e,n){G_(t)&&n.delete(e)}function kQ(){hP=!1,Lc!==null&&G_(Lc)&&(Lc=null),Dc!==null&&G_(Dc)&&(Dc=null),Oc!==null&&G_(Oc)&&(Oc=null),lv.forEach(V3),cv.forEach(V3)}function xm(t,e){t.blockedOn===e&&(t.blockedOn=null,hP||(hP=!0,ks.unstable_scheduleCallback(ks.unstable_NormalPriority,kQ)))}function uv(t){function e(r){return xm(r,t)}if(0<dx.length){xm(dx[0],t);for(var n=1;n<dx.length;n++){var i=dx[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Lc!==null&&xm(Lc,t),Dc!==null&&xm(Dc,t),Oc!==null&&xm(Oc,t),lv.forEach(e),cv.forEach(e),n=0;n<bc.length;n++)i=bc[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<bc.length&&(n=bc[0],n.blockedOn===null);)V6(n),n.blockedOn===null&&bc.shift()}var Lh=zl.ReactCurrentBatchConfig,D1=!0;function NQ(t,e,n,i){var r=rn,s=Lh.transition;Lh.transition=null;try{rn=1,GI(t,e,n,i)}finally{rn=r,Lh.transition=s}}function LQ(t,e,n,i){var r=rn,s=Lh.transition;Lh.transition=null;try{rn=4,GI(t,e,n,i)}finally{rn=r,Lh.transition=s}}function GI(t,e,n,i){if(D1){var r=pP(t,e,n,i);if(r===null)VT(t,e,i,O1,n),U3(t,i);else if(RQ(r,t,e,n,i))i.stopPropagation();else if(U3(t,i),e&4&&-1<IQ.indexOf(t)){for(;r!==null;){var s=xy(r);if(s!==null&&F6(s),s=pP(t,e,n,i),s===null&&VT(t,e,i,O1,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else VT(t,e,i,null,n)}}var O1=null;function pP(t,e,n,i){if(O1=null,t=VI(i),t=nd(t),t!==null)if(e=qd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return O1=t,null}function j6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bQ()){case jI:return 1;case N6:return 4;case N1:case SQ:return 16;case L6:return 536870912;default:return 16}default:return 16}}var Pc=null,$I=null,$_=null;function H6(){if($_)return $_;var t,e=$I,n=e.length,i,r="value"in Pc?Pc.value:Pc.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return $_=r.slice(t,1<i?1-i:void 0)}function q_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fx(){return!0}function j3(){return!1}function Ds(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fx:j3,this.isPropagationStopped=j3,this}return Un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fx)},persist:function(){},isPersistent:fx}),e}var Tp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qI=Ds(Tp),yy=Un({},Tp,{view:0,detail:0}),DQ=Ds(yy),kT,NT,_m,PS=Un({},yy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:XI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_m&&(_m&&t.type==="mousemove"?(kT=t.screenX-_m.screenX,NT=t.screenY-_m.screenY):NT=kT=0,_m=t),kT)},movementY:function(t){return"movementY"in t?t.movementY:NT}}),H3=Ds(PS),OQ=Un({},PS,{dataTransfer:0}),FQ=Ds(OQ),zQ=Un({},yy,{relatedTarget:0}),LT=Ds(zQ),BQ=Un({},Tp,{animationName:0,elapsedTime:0,pseudoElement:0}),UQ=Ds(BQ),VQ=Un({},Tp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jQ=Ds(VQ),HQ=Un({},Tp,{data:0}),W3=Ds(HQ),WQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$Q[t])?!!e[t]:!1}function XI(){return qQ}var XQ=Un({},yy,{key:function(t){if(t.key){var e=WQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=q_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:XI,charCode:function(t){return t.type==="keypress"?q_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?q_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YQ=Ds(XQ),KQ=Un({},PS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G3=Ds(KQ),JQ=Un({},yy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:XI}),QQ=Ds(JQ),ZQ=Un({},Tp,{propertyName:0,elapsedTime:0,pseudoElement:0}),eZ=Ds(ZQ),tZ=Un({},PS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nZ=Ds(tZ),iZ=[9,13,27,32],YI=wl&&"CompositionEvent"in window,Cg=null;wl&&"documentMode"in document&&(Cg=document.documentMode);var rZ=wl&&"TextEvent"in window&&!Cg,W6=wl&&(!YI||Cg&&8<Cg&&11>=Cg),$3=" ",q3=!1;function G6(t,e){switch(t){case"keyup":return iZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lh=!1;function sZ(t,e){switch(t){case"compositionend":return $6(e);case"keypress":return e.which!==32?null:(q3=!0,$3);case"textInput":return t=e.data,t===$3&&q3?null:t;default:return null}}function oZ(t,e){if(lh)return t==="compositionend"||!YI&&G6(t,e)?(t=H6(),$_=$I=Pc=null,lh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W6&&e.locale!=="ko"?null:e.data;default:return null}}var aZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aZ[t.type]:e==="textarea"}function q6(t,e,n,i){E6(i),e=F1(e,"onChange"),0<e.length&&(n=new qI("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Mg=null,dv=null;function lZ(t){rj(t,0)}function AS(t){var e=dh(t);if(v6(e))return t}function cZ(t,e){if(t==="change")return e}var X6=!1;if(wl){var DT;if(wl){var OT="oninput"in document;if(!OT){var Y3=document.createElement("div");Y3.setAttribute("oninput","return;"),OT=typeof Y3.oninput=="function"}DT=OT}else DT=!1;X6=DT&&(!document.documentMode||9<document.documentMode)}function K3(){Mg&&(Mg.detachEvent("onpropertychange",Y6),dv=Mg=null)}function Y6(t){if(t.propertyName==="value"&&AS(dv)){var e=[];q6(e,dv,t,VI(t)),P6(lZ,e)}}function uZ(t,e,n){t==="focusin"?(K3(),Mg=e,dv=n,Mg.attachEvent("onpropertychange",Y6)):t==="focusout"&&K3()}function dZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return AS(dv)}function fZ(t,e){if(t==="click")return AS(e)}function hZ(t,e){if(t==="input"||t==="change")return AS(e)}function pZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uo=typeof Object.is=="function"?Object.is:pZ;function fv(t,e){if(Uo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!KM.call(e,r)||!Uo(t[r],e[r]))return!1}return!0}function J3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q3(t,e){var n=J3(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J3(n)}}function K6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J6(){for(var t=window,e=I1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=I1(t.document)}return e}function KI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mZ(t){var e=J6(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K6(n.ownerDocument.documentElement,n)){if(i!==null&&KI(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Q3(n,s);var o=Q3(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gZ=wl&&"documentMode"in document&&11>=document.documentMode,ch=null,mP=null,Pg=null,gP=!1;function Z3(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gP||ch==null||ch!==I1(i)||(i=ch,"selectionStart"in i&&KI(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Pg&&fv(Pg,i)||(Pg=i,i=F1(mP,"onSelect"),0<i.length&&(e=new qI("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ch)))}function hx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uh={animationend:hx("Animation","AnimationEnd"),animationiteration:hx("Animation","AnimationIteration"),animationstart:hx("Animation","AnimationStart"),transitionend:hx("Transition","TransitionEnd")},FT={},Q6={};wl&&(Q6=document.createElement("div").style,"AnimationEvent"in window||(delete uh.animationend.animation,delete uh.animationiteration.animation,delete uh.animationstart.animation),"TransitionEvent"in window||delete uh.transitionend.transition);function IS(t){if(FT[t])return FT[t];if(!uh[t])return t;var e=uh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q6)return FT[t]=e[n];return t}var Z6=IS("animationend"),ej=IS("animationiteration"),tj=IS("animationstart"),nj=IS("transitionend"),ij=new Map,eD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function su(t,e){ij.set(t,e),$d(e,[t])}for(var zT=0;zT<eD.length;zT++){var BT=eD[zT],vZ=BT.toLowerCase(),yZ=BT[0].toUpperCase()+BT.slice(1);su(vZ,"on"+yZ)}su(Z6,"onAnimationEnd");su(ej,"onAnimationIteration");su(tj,"onAnimationStart");su("dblclick","onDoubleClick");su("focusin","onFocus");su("focusout","onBlur");su(nj,"onTransitionEnd");Yh("onMouseEnter",["mouseout","mouseover"]);Yh("onMouseLeave",["mouseout","mouseover"]);Yh("onPointerEnter",["pointerout","pointerover"]);Yh("onPointerLeave",["pointerout","pointerover"]);$d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$d("onBeforeInput",["compositionend","keypress","textInput","paste"]);$d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function tD(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,vQ(i,e,void 0,t),t.currentTarget=null}function rj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;tD(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;tD(r,a,c),s=l}}}if(k1)throw t=dP,k1=!1,dP=null,t}function En(t,e){var n=e[bP];n===void 0&&(n=e[bP]=new Set);var i=t+"__bubble";n.has(i)||(sj(e,t,2,!1),n.add(i))}function UT(t,e,n){var i=0;e&&(i|=4),sj(n,t,i,e)}var px="_reactListening"+Math.random().toString(36).slice(2);function hv(t){if(!t[px]){t[px]=!0,f6.forEach(function(n){n!=="selectionchange"&&(xZ.has(n)||UT(n,!1,t),UT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[px]||(e[px]=!0,UT("selectionchange",!1,e))}}function sj(t,e,n,i){switch(j6(e)){case 1:var r=NQ;break;case 4:r=LQ;break;default:r=GI}n=r.bind(null,e,n,t),r=void 0,!uP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function VT(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=nd(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}P6(function(){var c=s,u=VI(n),d=[];e:{var h=ij.get(t);if(h!==void 0){var m=qI,g=t;switch(t){case"keypress":if(q_(n)===0)break e;case"keydown":case"keyup":m=YQ;break;case"focusin":g="focus",m=LT;break;case"focusout":g="blur",m=LT;break;case"beforeblur":case"afterblur":m=LT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QQ;break;case Z6:case ej:case tj:m=UQ;break;case nj:m=eZ;break;case"scroll":m=DQ;break;case"wheel":m=nZ;break;case"copy":case"cut":case"paste":m=jQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G3}var y=(e&4)!==0,_=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var x=c,b;x!==null;){b=x;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,v!==null&&(E=av(x,v),E!=null&&y.push(pv(x,E,b)))),_)break;x=x.return}0<y.length&&(h=new m(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==lP&&(g=n.relatedTarget||n.fromElement)&&(nd(g)||g[El]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?nd(g):null,g!==null&&(_=qd(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=H3,E="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=G3,E="onPointerLeave",v="onPointerEnter",x="pointer"),_=m==null?h:dh(m),b=g==null?h:dh(g),h=new y(E,x+"leave",m,n,u),h.target=_,h.relatedTarget=b,E=null,nd(u)===c&&(y=new y(v,x+"enter",g,n,u),y.target=b,y.relatedTarget=_,E=y),_=E,m&&g)t:{for(y=m,v=g,x=0,b=y;b;b=Ef(b))x++;for(b=0,E=v;E;E=Ef(E))b++;for(;0<x-b;)y=Ef(y),x--;for(;0<b-x;)v=Ef(v),b--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ef(y),v=Ef(v)}y=null}else y=null;m!==null&&nD(d,h,m,y,!1),g!==null&&_!==null&&nD(d,_,g,y,!0)}}e:{if(h=c?dh(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var M=cZ;else if(X3(h))if(X6)M=hZ;else{M=dZ;var C=uZ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=fZ);if(M&&(M=M(t,c))){q6(d,M,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&iP(h,"number",h.value)}switch(C=c?dh(c):window,t){case"focusin":(X3(C)||C.contentEditable==="true")&&(ch=C,mP=c,Pg=null);break;case"focusout":Pg=mP=ch=null;break;case"mousedown":gP=!0;break;case"contextmenu":case"mouseup":case"dragend":gP=!1,Z3(d,n,u);break;case"selectionchange":if(gZ)break;case"keydown":case"keyup":Z3(d,n,u)}var R;if(YI)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else lh?G6(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(W6&&n.locale!=="ko"&&(lh||k!=="onCompositionStart"?k==="onCompositionEnd"&&lh&&(R=H6()):(Pc=u,$I="value"in Pc?Pc.value:Pc.textContent,lh=!0)),C=F1(c,k),0<C.length&&(k=new W3(k,t,null,n,u),d.push({event:k,listeners:C}),R?k.data=R:(R=$6(n),R!==null&&(k.data=R)))),(R=rZ?sZ(t,n):oZ(t,n))&&(c=F1(c,"onBeforeInput"),0<c.length&&(u=new W3("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=R))}rj(d,e)})}function pv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function F1(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=av(t,n),s!=null&&i.unshift(pv(t,s,r)),s=av(t,e),s!=null&&i.push(pv(t,s,r))),t=t.return}return i}function Ef(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nD(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=av(n,s),l!=null&&o.unshift(pv(n,l,a))):r||(l=av(n,s),l!=null&&o.push(pv(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _Z=/\r\n?/g,bZ=/\u0000|\uFFFD/g;function iD(t){return(typeof t=="string"?t:""+t).replace(_Z,`
`).replace(bZ,"")}function mx(t,e,n){if(e=iD(e),iD(t)!==e&&n)throw Error(Ce(425))}function z1(){}var vP=null,yP=null;function xP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _P=typeof setTimeout=="function"?setTimeout:void 0,SZ=typeof clearTimeout=="function"?clearTimeout:void 0,rD=typeof Promise=="function"?Promise:void 0,wZ=typeof queueMicrotask=="function"?queueMicrotask:typeof rD<"u"?function(t){return rD.resolve(null).then(t).catch(EZ)}:_P;function EZ(t){setTimeout(function(){throw t})}function jT(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),uv(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);uv(e)}function Fc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cp=Math.random().toString(36).slice(2),fa="__reactFiber$"+Cp,mv="__reactProps$"+Cp,El="__reactContainer$"+Cp,bP="__reactEvents$"+Cp,TZ="__reactListeners$"+Cp,CZ="__reactHandles$"+Cp;function nd(t){var e=t[fa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[El]||n[fa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sD(t);t!==null;){if(n=t[fa])return n;t=sD(t)}return e}t=n,n=t.parentNode}return null}function xy(t){return t=t[fa]||t[El],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function RS(t){return t[mv]||null}var SP=[],fh=-1;function ou(t){return{current:t}}function Tn(t){0>fh||(t.current=SP[fh],SP[fh]=null,fh--)}function Sn(t,e){fh++,SP[fh]=t.current,t.current=e}var Yc={},br=ou(Yc),is=ou(!1),Cd=Yc;function Kh(t,e){var n=t.type.contextTypes;if(!n)return Yc;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function rs(t){return t=t.childContextTypes,t!=null}function B1(){Tn(is),Tn(br)}function oD(t,e,n){if(br.current!==Yc)throw Error(Ce(168));Sn(br,e),Sn(is,n)}function oj(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ce(108,uQ(t)||"Unknown",r));return Un({},n,i)}function U1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yc,Cd=br.current,Sn(br,t),Sn(is,is.current),!0}function aD(t,e,n){var i=t.stateNode;if(!i)throw Error(Ce(169));n?(t=oj(t,e,Cd),i.__reactInternalMemoizedMergedChildContext=t,Tn(is),Tn(br),Sn(br,t)):Tn(is),Sn(is,n)}var nl=null,kS=!1,HT=!1;function aj(t){nl===null?nl=[t]:nl.push(t)}function MZ(t){kS=!0,aj(t)}function au(){if(!HT&&nl!==null){HT=!0;var t=0,e=rn;try{var n=nl;for(rn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}nl=null,kS=!1}catch(r){throw nl!==null&&(nl=nl.slice(t+1)),k6(jI,au),r}finally{rn=e,HT=!1}}return null}var hh=[],ph=0,V1=null,j1=0,to=[],no=0,Md=null,ll=1,cl="";function Gu(t,e){hh[ph++]=j1,hh[ph++]=V1,V1=t,j1=e}function lj(t,e,n){to[no++]=ll,to[no++]=cl,to[no++]=Md,Md=t;var i=ll;t=cl;var r=32-Fo(i)-1;i&=~(1<<r),n+=1;var s=32-Fo(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ll=1<<32-Fo(e)+r|n<<r|i,cl=s+t}else ll=1<<s|n<<r|i,cl=t}function JI(t){t.return!==null&&(Gu(t,1),lj(t,1,0))}function QI(t){for(;t===V1;)V1=hh[--ph],hh[ph]=null,j1=hh[--ph],hh[ph]=null;for(;t===Md;)Md=to[--no],to[no]=null,cl=to[--no],to[no]=null,ll=to[--no],to[no]=null}var Ts=null,Es=null,An=!1,Ao=null;function cj(t,e){var n=io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,Es=Fc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,Es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Md!==null?{id:ll,overflow:cl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ts=t,Es=null,!0):!1;default:return!1}}function wP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function EP(t){if(An){var e=Es;if(e){var n=e;if(!lD(t,e)){if(wP(t))throw Error(Ce(418));e=Fc(n.nextSibling);var i=Ts;e&&lD(t,e)?cj(i,n):(t.flags=t.flags&-4097|2,An=!1,Ts=t)}}else{if(wP(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,An=!1,Ts=t}}}function cD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function gx(t){if(t!==Ts)return!1;if(!An)return cD(t),An=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xP(t.type,t.memoizedProps)),e&&(e=Es)){if(wP(t))throw uj(),Error(Ce(418));for(;e;)cj(t,e),e=Fc(e.nextSibling)}if(cD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Es=Fc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Es=null}}else Es=Ts?Fc(t.stateNode.nextSibling):null;return!0}function uj(){for(var t=Es;t;)t=Fc(t.nextSibling)}function Jh(){Es=Ts=null,An=!1}function ZI(t){Ao===null?Ao=[t]:Ao.push(t)}var PZ=zl.ReactCurrentBatchConfig;function bm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var i=n.stateNode}if(!i)throw Error(Ce(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function vx(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uD(t){var e=t._init;return e(t._payload)}function dj(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function i(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function r(v,x){return v=Vc(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,b,E){return x===null||x.tag!==6?(x=KT(b,v.mode,E),x.return=v,x):(x=r(x,b),x.return=v,x)}function l(v,x,b,E){var M=b.type;return M===ah?u(v,x,b.props.children,E,b.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===yc&&uD(M)===x.type)?(E=r(x,b.props),E.ref=bm(v,x,b),E.return=v,E):(E=e1(b.type,b.key,b.props,null,v.mode,E),E.ref=bm(v,x,b),E.return=v,E)}function c(v,x,b,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=JT(b,v.mode,E),x.return=v,x):(x=r(x,b.children||[]),x.return=v,x)}function u(v,x,b,E,M){return x===null||x.tag!==7?(x=md(b,v.mode,E,M),x.return=v,x):(x=r(x,b),x.return=v,x)}function d(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=KT(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ox:return b=e1(x.type,x.key,x.props,null,v.mode,b),b.ref=bm(v,null,x),b.return=v,b;case oh:return x=JT(x,v.mode,b),x.return=v,x;case yc:var E=x._init;return d(v,E(x._payload),b)}if(lg(x)||gm(x))return x=md(x,v.mode,b,null),x.return=v,x;vx(v,x)}return null}function h(v,x,b,E){var M=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(v,x,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ox:return b.key===M?l(v,x,b,E):null;case oh:return b.key===M?c(v,x,b,E):null;case yc:return M=b._init,h(v,x,M(b._payload),E)}if(lg(b)||gm(b))return M!==null?null:u(v,x,b,E,null);vx(v,b)}return null}function m(v,x,b,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(b)||null,a(x,v,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ox:return v=v.get(E.key===null?b:E.key)||null,l(x,v,E,M);case oh:return v=v.get(E.key===null?b:E.key)||null,c(x,v,E,M);case yc:var C=E._init;return m(v,x,b,C(E._payload),M)}if(lg(E)||gm(E))return v=v.get(b)||null,u(x,v,E,M,null);vx(x,E)}return null}function g(v,x,b,E){for(var M=null,C=null,R=x,k=x=0,I=null;R!==null&&k<b.length;k++){R.index>k?(I=R,R=null):I=R.sibling;var P=h(v,R,b[k],E);if(P===null){R===null&&(R=I);break}t&&R&&P.alternate===null&&e(v,R),x=s(P,x,k),C===null?M=P:C.sibling=P,C=P,R=I}if(k===b.length)return n(v,R),An&&Gu(v,k),M;if(R===null){for(;k<b.length;k++)R=d(v,b[k],E),R!==null&&(x=s(R,x,k),C===null?M=R:C.sibling=R,C=R);return An&&Gu(v,k),M}for(R=i(v,R);k<b.length;k++)I=m(R,v,k,b[k],E),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?k:I.key),x=s(I,x,k),C===null?M=I:C.sibling=I,C=I);return t&&R.forEach(function(O){return e(v,O)}),An&&Gu(v,k),M}function y(v,x,b,E){var M=gm(b);if(typeof M!="function")throw Error(Ce(150));if(b=M.call(b),b==null)throw Error(Ce(151));for(var C=M=null,R=x,k=x=0,I=null,P=b.next();R!==null&&!P.done;k++,P=b.next()){R.index>k?(I=R,R=null):I=R.sibling;var O=h(v,R,P.value,E);if(O===null){R===null&&(R=I);break}t&&R&&O.alternate===null&&e(v,R),x=s(O,x,k),C===null?M=O:C.sibling=O,C=O,R=I}if(P.done)return n(v,R),An&&Gu(v,k),M;if(R===null){for(;!P.done;k++,P=b.next())P=d(v,P.value,E),P!==null&&(x=s(P,x,k),C===null?M=P:C.sibling=P,C=P);return An&&Gu(v,k),M}for(R=i(v,R);!P.done;k++,P=b.next())P=m(R,v,k,P.value,E),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?k:P.key),x=s(P,x,k),C===null?M=P:C.sibling=P,C=P);return t&&R.forEach(function(z){return e(v,z)}),An&&Gu(v,k),M}function _(v,x,b,E){if(typeof b=="object"&&b!==null&&b.type===ah&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ox:e:{for(var M=b.key,C=x;C!==null;){if(C.key===M){if(M=b.type,M===ah){if(C.tag===7){n(v,C.sibling),x=r(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===yc&&uD(M)===C.type){n(v,C.sibling),x=r(C,b.props),x.ref=bm(v,C,b),x.return=v,v=x;break e}n(v,C);break}else e(v,C);C=C.sibling}b.type===ah?(x=md(b.props.children,v.mode,E,b.key),x.return=v,v=x):(E=e1(b.type,b.key,b.props,null,v.mode,E),E.ref=bm(v,x,b),E.return=v,v=E)}return o(v);case oh:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=r(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=JT(b,v.mode,E),x.return=v,v=x}return o(v);case yc:return C=b._init,_(v,x,C(b._payload),E)}if(lg(b))return g(v,x,b,E);if(gm(b))return y(v,x,b,E);vx(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=r(x,b),x.return=v,v=x):(n(v,x),x=KT(b,v.mode,E),x.return=v,v=x),o(v)):n(v,x)}return _}var Qh=dj(!0),fj=dj(!1),H1=ou(null),W1=null,mh=null,eR=null;function tR(){eR=mh=W1=null}function nR(t){var e=H1.current;Tn(H1),t._currentValue=e}function TP(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Dh(t,e){W1=t,eR=mh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(es=!0),t.firstContext=null)}function lo(t){var e=t._currentValue;if(eR!==t)if(t={context:t,memoizedValue:e,next:null},mh===null){if(W1===null)throw Error(Ce(308));mh=t,W1.dependencies={lanes:0,firstContext:t}}else mh=mh.next=t;return e}var id=null;function iR(t){id===null?id=[t]:id.push(t)}function hj(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,iR(e)):(n.next=r.next,r.next=n),e.interleaved=n,Tl(t,i)}function Tl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xc=!1;function rR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zc(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Gt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Tl(t,n)}return r=i.interleaved,r===null?(e.next=e,iR(i)):(e.next=r.next,r.next=e),i.interleaved=e,Tl(t,n)}function X_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,HI(t,n)}}function dD(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function G1(t,e,n,i){var r=t.updateQueue;xc=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(h=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=Un({},d,h);break e;case 2:xc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ad|=o,t.lanes=o,t.memoizedState=d}}function fD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Ce(191,r));r.call(i)}}}var _y={},ba=ou(_y),gv=ou(_y),vv=ou(_y);function rd(t){if(t===_y)throw Error(Ce(174));return t}function sR(t,e){switch(Sn(vv,e),Sn(gv,t),Sn(ba,_y),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sP(e,t)}Tn(ba),Sn(ba,e)}function Zh(){Tn(ba),Tn(gv),Tn(vv)}function mj(t){rd(vv.current);var e=rd(ba.current),n=sP(e,t.type);e!==n&&(Sn(gv,t),Sn(ba,n))}function oR(t){gv.current===t&&(Tn(ba),Tn(gv))}var On=ou(0);function $1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var WT=[];function aR(){for(var t=0;t<WT.length;t++)WT[t]._workInProgressVersionPrimary=null;WT.length=0}var Y_=zl.ReactCurrentDispatcher,GT=zl.ReactCurrentBatchConfig,Pd=0,Bn=null,gi=null,Di=null,q1=!1,Ag=!1,yv=0,AZ=0;function ar(){throw Error(Ce(321))}function lR(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Uo(t[n],e[n]))return!1;return!0}function cR(t,e,n,i,r,s){if(Pd=s,Bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y_.current=t===null||t.memoizedState===null?NZ:LZ,t=n(i,r),Ag){s=0;do{if(Ag=!1,yv=0,25<=s)throw Error(Ce(301));s+=1,Di=gi=null,e.updateQueue=null,Y_.current=DZ,t=n(i,r)}while(Ag)}if(Y_.current=X1,e=gi!==null&&gi.next!==null,Pd=0,Di=gi=Bn=null,q1=!1,e)throw Error(Ce(300));return t}function uR(){var t=yv!==0;return yv=0,t}function la(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Di===null?Bn.memoizedState=Di=t:Di=Di.next=t,Di}function co(){if(gi===null){var t=Bn.alternate;t=t!==null?t.memoizedState:null}else t=gi.next;var e=Di===null?Bn.memoizedState:Di.next;if(e!==null)Di=e,gi=t;else{if(t===null)throw Error(Ce(310));gi=t,t={memoizedState:gi.memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},Di===null?Bn.memoizedState=Di=t:Di=Di.next=t}return Di}function xv(t,e){return typeof e=="function"?e(t):e}function $T(t){var e=co(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var i=gi,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Pd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Bn.lanes|=u,Ad|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Uo(i,e.memoizedState)||(es=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Bn.lanes|=s,Ad|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qT(t){var e=co(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Uo(s,e.memoizedState)||(es=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function gj(){}function vj(t,e){var n=Bn,i=co(),r=e(),s=!Uo(i.memoizedState,r);if(s&&(i.memoizedState=r,es=!0),i=i.queue,dR(_j.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Di!==null&&Di.memoizedState.tag&1){if(n.flags|=2048,_v(9,xj.bind(null,n,i,r,e),void 0,null),Ui===null)throw Error(Ce(349));Pd&30||yj(n,e,r)}return r}function yj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bn.updateQueue,e===null?(e={lastEffect:null,stores:null},Bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xj(t,e,n,i){e.value=n,e.getSnapshot=i,bj(e)&&Sj(t)}function _j(t,e,n){return n(function(){bj(e)&&Sj(t)})}function bj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Uo(t,n)}catch{return!0}}function Sj(t){var e=Tl(t,1);e!==null&&zo(e,t,1,-1)}function hD(t){var e=la();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:t},e.queue=t,t=t.dispatch=kZ.bind(null,Bn,t),[e.memoizedState,t]}function _v(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Bn.updateQueue,e===null?(e={lastEffect:null,stores:null},Bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function wj(){return co().memoizedState}function K_(t,e,n,i){var r=la();Bn.flags|=t,r.memoizedState=_v(1|e,n,void 0,i===void 0?null:i)}function NS(t,e,n,i){var r=co();i=i===void 0?null:i;var s=void 0;if(gi!==null){var o=gi.memoizedState;if(s=o.destroy,i!==null&&lR(i,o.deps)){r.memoizedState=_v(e,n,s,i);return}}Bn.flags|=t,r.memoizedState=_v(1|e,n,s,i)}function pD(t,e){return K_(8390656,8,t,e)}function dR(t,e){return NS(2048,8,t,e)}function Ej(t,e){return NS(4,2,t,e)}function Tj(t,e){return NS(4,4,t,e)}function Cj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mj(t,e,n){return n=n!=null?n.concat([t]):null,NS(4,4,Cj.bind(null,e,t),n)}function fR(){}function Pj(t,e){var n=co();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&lR(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Aj(t,e){var n=co();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&lR(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ij(t,e,n){return Pd&21?(Uo(n,e)||(n=D6(),Bn.lanes|=n,Ad|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,es=!0),t.memoizedState=n)}function IZ(t,e){var n=rn;rn=n!==0&&4>n?n:4,t(!0);var i=GT.transition;GT.transition={};try{t(!1),e()}finally{rn=n,GT.transition=i}}function Rj(){return co().memoizedState}function RZ(t,e,n){var i=Uc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},kj(t))Nj(e,n);else if(n=hj(t,e,n,i),n!==null){var r=Or();zo(n,t,i,r),Lj(n,e,i)}}function kZ(t,e,n){var i=Uc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(kj(t))Nj(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Uo(a,o)){var l=e.interleaved;l===null?(r.next=r,iR(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=hj(t,e,r,i),n!==null&&(r=Or(),zo(n,t,i,r),Lj(n,e,i))}}function kj(t){var e=t.alternate;return t===Bn||e!==null&&e===Bn}function Nj(t,e){Ag=q1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lj(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,HI(t,n)}}var X1={readContext:lo,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},NZ={readContext:lo,useCallback:function(t,e){return la().memoizedState=[t,e===void 0?null:e],t},useContext:lo,useEffect:pD,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,K_(4194308,4,Cj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return K_(4194308,4,t,e)},useInsertionEffect:function(t,e){return K_(4,2,t,e)},useMemo:function(t,e){var n=la();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=la();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=RZ.bind(null,Bn,t),[i.memoizedState,t]},useRef:function(t){var e=la();return t={current:t},e.memoizedState=t},useState:hD,useDebugValue:fR,useDeferredValue:function(t){return la().memoizedState=t},useTransition:function(){var t=hD(!1),e=t[0];return t=IZ.bind(null,t[1]),la().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Bn,r=la();if(An){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),Ui===null)throw Error(Ce(349));Pd&30||yj(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,pD(_j.bind(null,i,s,t),[t]),i.flags|=2048,_v(9,xj.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=la(),e=Ui.identifierPrefix;if(An){var n=cl,i=ll;n=(i&~(1<<32-Fo(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=yv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AZ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LZ={readContext:lo,useCallback:Pj,useContext:lo,useEffect:dR,useImperativeHandle:Mj,useInsertionEffect:Ej,useLayoutEffect:Tj,useMemo:Aj,useReducer:$T,useRef:wj,useState:function(){return $T(xv)},useDebugValue:fR,useDeferredValue:function(t){var e=co();return Ij(e,gi.memoizedState,t)},useTransition:function(){var t=$T(xv)[0],e=co().memoizedState;return[t,e]},useMutableSource:gj,useSyncExternalStore:vj,useId:Rj,unstable_isNewReconciler:!1},DZ={readContext:lo,useCallback:Pj,useContext:lo,useEffect:dR,useImperativeHandle:Mj,useInsertionEffect:Ej,useLayoutEffect:Tj,useMemo:Aj,useReducer:qT,useRef:wj,useState:function(){return qT(xv)},useDebugValue:fR,useDeferredValue:function(t){var e=co();return gi===null?e.memoizedState=t:Ij(e,gi.memoizedState,t)},useTransition:function(){var t=qT(xv)[0],e=co().memoizedState;return[t,e]},useMutableSource:gj,useSyncExternalStore:vj,useId:Rj,unstable_isNewReconciler:!1};function To(t,e){if(t&&t.defaultProps){e=Un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function CP(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var LS={isMounted:function(t){return(t=t._reactInternals)?qd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Or(),r=Uc(t),s=gl(i,r);s.payload=e,n!=null&&(s.callback=n),e=zc(t,s,r),e!==null&&(zo(e,t,r,i),X_(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Or(),r=Uc(t),s=gl(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zc(t,s,r),e!==null&&(zo(e,t,r,i),X_(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Or(),i=Uc(t),r=gl(n,i);r.tag=2,e!=null&&(r.callback=e),e=zc(t,r,i),e!==null&&(zo(e,t,i,n),X_(e,t,i))}};function mD(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!fv(n,i)||!fv(r,s):!0}function Dj(t,e,n){var i=!1,r=Yc,s=e.contextType;return typeof s=="object"&&s!==null?s=lo(s):(r=rs(e)?Cd:br.current,i=e.contextTypes,s=(i=i!=null)?Kh(t,r):Yc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=LS,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function gD(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&LS.enqueueReplaceState(e,e.state,null)}function MP(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},rR(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=lo(s):(s=rs(e)?Cd:br.current,r.context=Kh(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(CP(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&LS.enqueueReplaceState(r,r.state,null),G1(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ep(t,e){try{var n="",i=e;do n+=cQ(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function XT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function PP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OZ=typeof WeakMap=="function"?WeakMap:Map;function Oj(t,e,n){n=gl(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){K1||(K1=!0,zP=i),PP(t,e)},n}function Fj(t,e,n){n=gl(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){PP(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){PP(t,e),typeof i!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vD(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new OZ;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=KZ.bind(null,t,e,n),e.then(t,t))}function yD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xD(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gl(-1,1),e.tag=2,zc(n,e,1))),n.lanes|=1),t)}var FZ=zl.ReactCurrentOwner,es=!1;function Rr(t,e,n,i){e.child=t===null?fj(e,null,n,i):Qh(e,t.child,n,i)}function _D(t,e,n,i,r){n=n.render;var s=e.ref;return Dh(e,r),i=cR(t,e,n,i,s,r),n=uR(),t!==null&&!es?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Cl(t,e,r)):(An&&n&&JI(e),e.flags|=1,Rr(t,e,i,r),e.child)}function bD(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!_R(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zj(t,e,s,i,r)):(t=e1(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fv,n(o,i)&&t.ref===e.ref)return Cl(t,e,r)}return e.flags|=1,t=Vc(s,i),t.ref=e.ref,t.return=e,e.child=t}function zj(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(fv(s,i)&&t.ref===e.ref)if(es=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(es=!0);else return e.lanes=t.lanes,Cl(t,e,r)}return AP(t,e,n,i,r)}function Bj(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(vh,_s),_s|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sn(vh,_s),_s|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Sn(vh,_s),_s|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Sn(vh,_s),_s|=i;return Rr(t,e,r,n),e.child}function Uj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function AP(t,e,n,i,r){var s=rs(n)?Cd:br.current;return s=Kh(e,s),Dh(e,r),n=cR(t,e,n,i,s,r),i=uR(),t!==null&&!es?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Cl(t,e,r)):(An&&i&&JI(e),e.flags|=1,Rr(t,e,n,r),e.child)}function SD(t,e,n,i,r){if(rs(n)){var s=!0;U1(e)}else s=!1;if(Dh(e,r),e.stateNode===null)J_(t,e),Dj(e,n,i),MP(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=lo(c):(c=rs(n)?Cd:br.current,c=Kh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&gD(e,o,i,c),xc=!1;var h=e.memoizedState;o.state=h,G1(e,i,o,r),l=e.memoizedState,a!==i||h!==l||is.current||xc?(typeof u=="function"&&(CP(e,n,u,i),l=e.memoizedState),(a=xc||mD(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,pj(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:To(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lo(l):(l=rs(n)?Cd:br.current,l=Kh(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&gD(e,o,i,l),xc=!1,h=e.memoizedState,o.state=h,G1(e,i,o,r);var g=e.memoizedState;a!==d||h!==g||is.current||xc?(typeof m=="function"&&(CP(e,n,m,i),g=e.memoizedState),(c=xc||mD(e,n,c,i,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return IP(t,e,n,i,s,r)}function IP(t,e,n,i,r,s){Uj(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&aD(e,n,!1),Cl(t,e,s);i=e.stateNode,FZ.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Qh(e,t.child,null,s),e.child=Qh(e,null,a,s)):Rr(t,e,a,s),e.memoizedState=i.state,r&&aD(e,n,!0),e.child}function Vj(t){var e=t.stateNode;e.pendingContext?oD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oD(t,e.context,!1),sR(t,e.containerInfo)}function wD(t,e,n,i,r){return Jh(),ZI(r),e.flags|=256,Rr(t,e,n,i),e.child}var RP={dehydrated:null,treeContext:null,retryLane:0};function kP(t){return{baseLanes:t,cachePool:null,transitions:null}}function jj(t,e,n){var i=e.pendingProps,r=On.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Sn(On,r&1),t===null)return EP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=FS(o,i,0,null),t=md(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kP(n),e.memoizedState=RP,t):hR(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return zZ(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Vc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Vc(a,s):(s=md(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?kP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=RP,i}return s=t.child,t=s.sibling,i=Vc(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function hR(t,e){return e=FS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yx(t,e,n,i){return i!==null&&ZI(i),Qh(e,t.child,null,n),t=hR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zZ(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=XT(Error(Ce(422))),yx(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=FS({mode:"visible",children:i.children},r,0,null),s=md(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Qh(e,t.child,null,o),e.child.memoizedState=kP(o),e.memoizedState=RP,s);if(!(e.mode&1))return yx(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ce(419)),i=XT(s,i,void 0),yx(t,e,o,i)}if(a=(o&t.childLanes)!==0,es||a){if(i=Ui,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Tl(t,r),zo(i,t,r,-1))}return xR(),i=XT(Error(Ce(421))),yx(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=JZ.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Es=Fc(r.nextSibling),Ts=e,An=!0,Ao=null,t!==null&&(to[no++]=ll,to[no++]=cl,to[no++]=Md,ll=t.id,cl=t.overflow,Md=e),e=hR(e,i.children),e.flags|=4096,e)}function ED(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),TP(t.return,e,n)}function YT(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Hj(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Rr(t,e,i.children,n),i=On.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ED(t,n,e);else if(t.tag===19)ED(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Sn(On,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&$1(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),YT(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&$1(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}YT(e,!0,n,null,s);break;case"together":YT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function J_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ad|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=Vc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BZ(t,e,n){switch(e.tag){case 3:Vj(e),Jh();break;case 5:mj(e);break;case 1:rs(e.type)&&U1(e);break;case 4:sR(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Sn(H1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Sn(On,On.current&1),e.flags|=128,null):n&e.child.childLanes?jj(t,e,n):(Sn(On,On.current&1),t=Cl(t,e,n),t!==null?t.sibling:null);Sn(On,On.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Hj(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sn(On,On.current),i)break;return null;case 22:case 23:return e.lanes=0,Bj(t,e,n)}return Cl(t,e,n)}var Wj,NP,Gj,$j;Wj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};NP=function(){};Gj=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,rd(ba.current);var s=null;switch(n){case"input":r=tP(t,r),i=tP(t,i),s=[];break;case"select":r=Un({},r,{value:void 0}),i=Un({},i,{value:void 0}),s=[];break;case"textarea":r=rP(t,r),i=rP(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=z1)}oP(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$j=function(t,e,n,i){n!==i&&(e.flags|=4)};function Sm(t,e){if(!An)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function UZ(t,e,n){var i=e.pendingProps;switch(QI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(e),null;case 1:return rs(e.type)&&B1(),lr(e),null;case 3:return i=e.stateNode,Zh(),Tn(is),Tn(br),aR(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(gx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ao!==null&&(VP(Ao),Ao=null))),NP(t,e),lr(e),null;case 5:oR(e);var r=rd(vv.current);if(n=e.type,t!==null&&e.stateNode!=null)Gj(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ce(166));return lr(e),null}if(t=rd(ba.current),gx(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[fa]=e,i[mv]=s,t=(e.mode&1)!==0,n){case"dialog":En("cancel",i),En("close",i);break;case"iframe":case"object":case"embed":En("load",i);break;case"video":case"audio":for(r=0;r<ug.length;r++)En(ug[r],i);break;case"source":En("error",i);break;case"img":case"image":case"link":En("error",i),En("load",i);break;case"details":En("toggle",i);break;case"input":N3(i,s),En("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},En("invalid",i);break;case"textarea":D3(i,s),En("invalid",i)}oP(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&mx(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mx(i.textContent,a,t),r=["children",""+a]):sv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",i)}switch(n){case"input":ax(i),L3(i,s,!0);break;case"textarea":ax(i),O3(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=z1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[fa]=e,t[mv]=i,Wj(t,e,!1,!1),e.stateNode=t;e:{switch(o=aP(n,i),n){case"dialog":En("cancel",t),En("close",t),r=i;break;case"iframe":case"object":case"embed":En("load",t),r=i;break;case"video":case"audio":for(r=0;r<ug.length;r++)En(ug[r],t);r=i;break;case"source":En("error",t),r=i;break;case"img":case"image":case"link":En("error",t),En("load",t),r=i;break;case"details":En("toggle",t),r=i;break;case"input":N3(t,i),r=tP(t,i),En("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Un({},i,{value:void 0}),En("invalid",t);break;case"textarea":D3(t,i),r=rP(t,i),En("invalid",t);break;default:r=i}oP(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?w6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b6(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ov(t,l):typeof l=="number"&&ov(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&En("scroll",t):l!=null&&FI(t,s,l,o))}switch(n){case"input":ax(t),L3(t,i,!1);break;case"textarea":ax(t),O3(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Xc(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Rh(t,!!i.multiple,s,!1):i.defaultValue!=null&&Rh(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=z1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lr(e),null;case 6:if(t&&e.stateNode!=null)$j(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=rd(vv.current),rd(ba.current),gx(e)){if(i=e.stateNode,n=e.memoizedProps,i[fa]=e,(s=i.nodeValue!==n)&&(t=Ts,t!==null))switch(t.tag){case 3:mx(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mx(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[fa]=e,e.stateNode=i}return lr(e),null;case 13:if(Tn(On),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(An&&Es!==null&&e.mode&1&&!(e.flags&128))uj(),Jh(),e.flags|=98560,s=!1;else if(s=gx(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[fa]=e}else Jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lr(e),s=!1}else Ao!==null&&(VP(Ao),Ao=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||On.current&1?xi===0&&(xi=3):xR())),e.updateQueue!==null&&(e.flags|=4),lr(e),null);case 4:return Zh(),NP(t,e),t===null&&hv(e.stateNode.containerInfo),lr(e),null;case 10:return nR(e.type._context),lr(e),null;case 17:return rs(e.type)&&B1(),lr(e),null;case 19:if(Tn(On),s=e.memoizedState,s===null)return lr(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Sm(s,!1);else{if(xi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$1(t),o!==null){for(e.flags|=128,Sm(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Sn(On,On.current&1|2),e.child}t=t.sibling}s.tail!==null&&Zn()>tp&&(e.flags|=128,i=!0,Sm(s,!1),e.lanes=4194304)}else{if(!i)if(t=$1(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!An)return lr(e),null}else 2*Zn()-s.renderingStartTime>tp&&n!==1073741824&&(e.flags|=128,i=!0,Sm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zn(),e.sibling=null,n=On.current,Sn(On,i?n&1|2:n&1),e):(lr(e),null);case 22:case 23:return yR(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?_s&1073741824&&(lr(e),e.subtreeFlags&6&&(e.flags|=8192)):lr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function VZ(t,e){switch(QI(e),e.tag){case 1:return rs(e.type)&&B1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zh(),Tn(is),Tn(br),aR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oR(e),null;case 13:if(Tn(On),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));Jh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(On),null;case 4:return Zh(),null;case 10:return nR(e.type._context),null;case 22:case 23:return yR(),null;case 24:return null;default:return null}}var xx=!1,gr=!1,jZ=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function gh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Gn(t,e,i)}else n.current=null}function LP(t,e,n){try{n()}catch(i){Gn(t,e,i)}}var TD=!1;function HZ(t,e){if(vP=D1,t=J6(),KI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yP={focusedElem:t,selectionRange:n},D1=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:To(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(E){Gn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return g=TD,TD=!1,g}function Ig(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&LP(e,n,s)}r=r.next}while(r!==i)}}function DS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function DP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qj(t){var e=t.alternate;e!==null&&(t.alternate=null,qj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fa],delete e[mv],delete e[bP],delete e[TZ],delete e[CZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xj(t){return t.tag===5||t.tag===3||t.tag===4}function CD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OP(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=z1));else if(i!==4&&(t=t.child,t!==null))for(OP(t,e,n),t=t.sibling;t!==null;)OP(t,e,n),t=t.sibling}function FP(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(FP(t,e,n),t=t.sibling;t!==null;)FP(t,e,n),t=t.sibling}var $i=null,Mo=!1;function ec(t,e,n){for(n=n.child;n!==null;)Yj(t,e,n),n=n.sibling}function Yj(t,e,n){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(MS,n)}catch{}switch(n.tag){case 5:gr||gh(n,e);case 6:var i=$i,r=Mo;$i=null,ec(t,e,n),$i=i,Mo=r,$i!==null&&(Mo?(t=$i,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$i.removeChild(n.stateNode));break;case 18:$i!==null&&(Mo?(t=$i,n=n.stateNode,t.nodeType===8?jT(t.parentNode,n):t.nodeType===1&&jT(t,n),uv(t)):jT($i,n.stateNode));break;case 4:i=$i,r=Mo,$i=n.stateNode.containerInfo,Mo=!0,ec(t,e,n),$i=i,Mo=r;break;case 0:case 11:case 14:case 15:if(!gr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&LP(n,e,o),r=r.next}while(r!==i)}ec(t,e,n);break;case 1:if(!gr&&(gh(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Gn(n,e,a)}ec(t,e,n);break;case 21:ec(t,e,n);break;case 22:n.mode&1?(gr=(i=gr)||n.memoizedState!==null,ec(t,e,n),gr=i):ec(t,e,n);break;default:ec(t,e,n)}}function MD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jZ),e.forEach(function(i){var r=QZ.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function vo(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$i=a.stateNode,Mo=!1;break e;case 3:$i=a.stateNode.containerInfo,Mo=!0;break e;case 4:$i=a.stateNode.containerInfo,Mo=!0;break e}a=a.return}if($i===null)throw Error(Ce(160));Yj(s,o,r),$i=null,Mo=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Gn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kj(e,t),e=e.sibling}function Kj(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vo(e,t),na(t),i&4){try{Ig(3,t,t.return),DS(3,t)}catch(y){Gn(t,t.return,y)}try{Ig(5,t,t.return)}catch(y){Gn(t,t.return,y)}}break;case 1:vo(e,t),na(t),i&512&&n!==null&&gh(n,n.return);break;case 5:if(vo(e,t),na(t),i&512&&n!==null&&gh(n,n.return),t.flags&32){var r=t.stateNode;try{ov(r,"")}catch(y){Gn(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&y6(r,s),aP(a,o);var c=aP(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?w6(r,d):u==="dangerouslySetInnerHTML"?b6(r,d):u==="children"?ov(r,d):FI(r,u,d,c)}switch(a){case"input":nP(r,s);break;case"textarea":x6(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Rh(r,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Rh(r,!!s.multiple,s.defaultValue,!0):Rh(r,!!s.multiple,s.multiple?[]:"",!1))}r[mv]=s}catch(y){Gn(t,t.return,y)}}break;case 6:if(vo(e,t),na(t),i&4){if(t.stateNode===null)throw Error(Ce(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Gn(t,t.return,y)}}break;case 3:if(vo(e,t),na(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uv(e.containerInfo)}catch(y){Gn(t,t.return,y)}break;case 4:vo(e,t),na(t);break;case 13:vo(e,t),na(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(gR=Zn())),i&4&&MD(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(gr=(c=gr)||u,vo(e,t),gr=c):vo(e,t),na(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ye=t,u=t.child;u!==null;){for(d=Ye=u;Ye!==null;){switch(h=Ye,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ig(4,h,h.return);break;case 1:gh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Gn(i,n,y)}}break;case 5:gh(h,h.return);break;case 22:if(h.memoizedState!==null){AD(d);continue}}m!==null?(m.return=h,Ye=m):AD(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S6("display",o))}catch(y){Gn(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Gn(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vo(e,t),na(t),i&4&&MD(t);break;case 21:break;default:vo(e,t),na(t)}}function na(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xj(n)){var i=n;break e}n=n.return}throw Error(Ce(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ov(r,""),i.flags&=-33);var s=CD(t);FP(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=CD(t);OP(t,a,o);break;default:throw Error(Ce(161))}}catch(l){Gn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WZ(t,e,n){Ye=t,Jj(t)}function Jj(t,e,n){for(var i=(t.mode&1)!==0;Ye!==null;){var r=Ye,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||xx;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||gr;a=xx;var c=gr;if(xx=o,(gr=l)&&!c)for(Ye=r;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?ID(r):l!==null?(l.return=o,Ye=l):ID(r);for(;s!==null;)Ye=s,Jj(s),s=s.sibling;Ye=r,xx=a,gr=c}PD(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ye=s):PD(t)}}function PD(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||DS(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!gr)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:To(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fD(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fD(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&uv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}gr||e.flags&512&&DP(e)}catch(h){Gn(e,e.return,h)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function AD(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function ID(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{DS(4,e)}catch(l){Gn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Gn(e,r,l)}}var s=e.return;try{DP(e)}catch(l){Gn(e,s,l)}break;case 5:var o=e.return;try{DP(e)}catch(l){Gn(e,o,l)}}}catch(l){Gn(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var GZ=Math.ceil,Y1=zl.ReactCurrentDispatcher,pR=zl.ReactCurrentOwner,oo=zl.ReactCurrentBatchConfig,Gt=0,Ui=null,li=null,Zi=0,_s=0,vh=ou(0),xi=0,bv=null,Ad=0,OS=0,mR=0,Rg=null,Qr=null,gR=0,tp=1/0,tl=null,K1=!1,zP=null,Bc=null,_x=!1,Ac=null,J1=0,kg=0,BP=null,Q_=-1,Z_=0;function Or(){return Gt&6?Zn():Q_!==-1?Q_:Q_=Zn()}function Uc(t){return t.mode&1?Gt&2&&Zi!==0?Zi&-Zi:PZ.transition!==null?(Z_===0&&(Z_=D6()),Z_):(t=rn,t!==0||(t=window.event,t=t===void 0?16:j6(t.type)),t):1}function zo(t,e,n,i){if(50<kg)throw kg=0,BP=null,Error(Ce(185));vy(t,n,i),(!(Gt&2)||t!==Ui)&&(t===Ui&&(!(Gt&2)&&(OS|=n),xi===4&&Sc(t,Zi)),ss(t,i),n===1&&Gt===0&&!(e.mode&1)&&(tp=Zn()+500,kS&&au()))}function ss(t,e){var n=t.callbackNode;PQ(t,e);var i=L1(t,t===Ui?Zi:0);if(i===0)n!==null&&B3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&B3(n),e===1)t.tag===0?MZ(RD.bind(null,t)):aj(RD.bind(null,t)),wZ(function(){!(Gt&6)&&au()}),n=null;else{switch(O6(i)){case 1:n=jI;break;case 4:n=N6;break;case 16:n=N1;break;case 536870912:n=L6;break;default:n=N1}n=sH(n,Qj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qj(t,e){if(Q_=-1,Z_=0,Gt&6)throw Error(Ce(327));var n=t.callbackNode;if(Oh()&&t.callbackNode!==n)return null;var i=L1(t,t===Ui?Zi:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Q1(t,i);else{e=i;var r=Gt;Gt|=2;var s=eH();(Ui!==t||Zi!==e)&&(tl=null,tp=Zn()+500,pd(t,e));do try{XZ();break}catch(a){Zj(t,a)}while(!0);tR(),Y1.current=s,Gt=r,li!==null?e=0:(Ui=null,Zi=0,e=xi)}if(e!==0){if(e===2&&(r=fP(t),r!==0&&(i=r,e=UP(t,r))),e===1)throw n=bv,pd(t,0),Sc(t,i),ss(t,Zn()),n;if(e===6)Sc(t,i);else{if(r=t.current.alternate,!(i&30)&&!$Z(r)&&(e=Q1(t,i),e===2&&(s=fP(t),s!==0&&(i=s,e=UP(t,s))),e===1))throw n=bv,pd(t,0),Sc(t,i),ss(t,Zn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Ce(345));case 2:$u(t,Qr,tl);break;case 3:if(Sc(t,i),(i&130023424)===i&&(e=gR+500-Zn(),10<e)){if(L1(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Or(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=_P($u.bind(null,t,Qr,tl),e);break}$u(t,Qr,tl);break;case 4:if(Sc(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Fo(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Zn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*GZ(i/1960))-i,10<i){t.timeoutHandle=_P($u.bind(null,t,Qr,tl),i);break}$u(t,Qr,tl);break;case 5:$u(t,Qr,tl);break;default:throw Error(Ce(329))}}}return ss(t,Zn()),t.callbackNode===n?Qj.bind(null,t):null}function UP(t,e){var n=Rg;return t.current.memoizedState.isDehydrated&&(pd(t,e).flags|=256),t=Q1(t,e),t!==2&&(e=Qr,Qr=n,e!==null&&VP(e)),t}function VP(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function $Z(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Uo(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sc(t,e){for(e&=~mR,e&=~OS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fo(e),i=1<<n;t[n]=-1,e&=~i}}function RD(t){if(Gt&6)throw Error(Ce(327));Oh();var e=L1(t,0);if(!(e&1))return ss(t,Zn()),null;var n=Q1(t,e);if(t.tag!==0&&n===2){var i=fP(t);i!==0&&(e=i,n=UP(t,i))}if(n===1)throw n=bv,pd(t,0),Sc(t,e),ss(t,Zn()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$u(t,Qr,tl),ss(t,Zn()),null}function vR(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(tp=Zn()+500,kS&&au())}}function Id(t){Ac!==null&&Ac.tag===0&&!(Gt&6)&&Oh();var e=Gt;Gt|=1;var n=oo.transition,i=rn;try{if(oo.transition=null,rn=1,t)return t()}finally{rn=i,oo.transition=n,Gt=e,!(Gt&6)&&au()}}function yR(){_s=vh.current,Tn(vh)}function pd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SZ(n)),li!==null)for(n=li.return;n!==null;){var i=n;switch(QI(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&B1();break;case 3:Zh(),Tn(is),Tn(br),aR();break;case 5:oR(i);break;case 4:Zh();break;case 13:Tn(On);break;case 19:Tn(On);break;case 10:nR(i.type._context);break;case 22:case 23:yR()}n=n.return}if(Ui=t,li=t=Vc(t.current,null),Zi=_s=e,xi=0,bv=null,mR=OS=Ad=0,Qr=Rg=null,id!==null){for(e=0;e<id.length;e++)if(n=id[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}id=null}return t}function Zj(t,e){do{var n=li;try{if(tR(),Y_.current=X1,q1){for(var i=Bn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}q1=!1}if(Pd=0,Di=gi=Bn=null,Ag=!1,yv=0,pR.current=null,n===null||n.return===null){xi=1,bv=e,li=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=yD(o);if(m!==null){m.flags&=-257,xD(m,o,a,s,e),m.mode&1&&vD(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){vD(s,c,e),xR();break e}l=Error(Ce(426))}}else if(An&&a.mode&1){var _=yD(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),xD(_,o,a,s,e),ZI(ep(l,a));break e}}s=l=ep(l,a),xi!==4&&(xi=2),Rg===null?Rg=[s]:Rg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Oj(s,l,e);dD(s,v);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bc===null||!Bc.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Fj(s,a,e);dD(s,E);break e}}s=s.return}while(s!==null)}nH(n)}catch(M){e=M,li===n&&n!==null&&(li=n=n.return);continue}break}while(!0)}function eH(){var t=Y1.current;return Y1.current=X1,t===null?X1:t}function xR(){(xi===0||xi===3||xi===2)&&(xi=4),Ui===null||!(Ad&268435455)&&!(OS&268435455)||Sc(Ui,Zi)}function Q1(t,e){var n=Gt;Gt|=2;var i=eH();(Ui!==t||Zi!==e)&&(tl=null,pd(t,e));do try{qZ();break}catch(r){Zj(t,r)}while(!0);if(tR(),Gt=n,Y1.current=i,li!==null)throw Error(Ce(261));return Ui=null,Zi=0,xi}function qZ(){for(;li!==null;)tH(li)}function XZ(){for(;li!==null&&!xQ();)tH(li)}function tH(t){var e=rH(t.alternate,t,_s);t.memoizedProps=t.pendingProps,e===null?nH(t):li=e,pR.current=null}function nH(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VZ(n,e),n!==null){n.flags&=32767,li=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xi=6,li=null;return}}else if(n=UZ(n,e,_s),n!==null){li=n;return}if(e=e.sibling,e!==null){li=e;return}li=e=t}while(e!==null);xi===0&&(xi=5)}function $u(t,e,n){var i=rn,r=oo.transition;try{oo.transition=null,rn=1,YZ(t,e,n,i)}finally{oo.transition=r,rn=i}return null}function YZ(t,e,n,i){do Oh();while(Ac!==null);if(Gt&6)throw Error(Ce(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(AQ(t,s),t===Ui&&(li=Ui=null,Zi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_x||(_x=!0,sH(N1,function(){return Oh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oo.transition,oo.transition=null;var o=rn;rn=1;var a=Gt;Gt|=4,pR.current=null,HZ(t,n),Kj(n,t),mZ(yP),D1=!!vP,yP=vP=null,t.current=n,WZ(n),_Q(),Gt=a,rn=o,oo.transition=s}else t.current=n;if(_x&&(_x=!1,Ac=t,J1=r),s=t.pendingLanes,s===0&&(Bc=null),wQ(n.stateNode),ss(t,Zn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(K1)throw K1=!1,t=zP,zP=null,t;return J1&1&&t.tag!==0&&Oh(),s=t.pendingLanes,s&1?t===BP?kg++:(kg=0,BP=t):kg=0,au(),null}function Oh(){if(Ac!==null){var t=O6(J1),e=oo.transition,n=rn;try{if(oo.transition=null,rn=16>t?16:t,Ac===null)var i=!1;else{if(t=Ac,Ac=null,J1=0,Gt&6)throw Error(Ce(331));var r=Gt;for(Gt|=4,Ye=t.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:Ig(8,u,s)}var d=u.child;if(d!==null)d.return=u,Ye=d;else for(;Ye!==null;){u=Ye;var h=u.sibling,m=u.return;if(qj(u),u===c){Ye=null;break}if(h!==null){h.return=m,Ye=h;break}Ye=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ig(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Ye=v;break e}Ye=s.return}}var x=t.current;for(Ye=x;Ye!==null;){o=Ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ye=b;else e:for(o=x;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:DS(9,a)}}catch(M){Gn(a,a.return,M)}if(a===o){Ye=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ye=E;break e}Ye=a.return}}if(Gt=r,au(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(MS,t)}catch{}i=!0}return i}finally{rn=n,oo.transition=e}}return!1}function kD(t,e,n){e=ep(n,e),e=Oj(t,e,1),t=zc(t,e,1),e=Or(),t!==null&&(vy(t,1,e),ss(t,e))}function Gn(t,e,n){if(t.tag===3)kD(t,t,n);else for(;e!==null;){if(e.tag===3){kD(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bc===null||!Bc.has(i))){t=ep(n,t),t=Fj(e,t,1),e=zc(e,t,1),t=Or(),e!==null&&(vy(e,1,t),ss(e,t));break}}e=e.return}}function KZ(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Or(),t.pingedLanes|=t.suspendedLanes&n,Ui===t&&(Zi&n)===n&&(xi===4||xi===3&&(Zi&130023424)===Zi&&500>Zn()-gR?pd(t,0):mR|=n),ss(t,e)}function iH(t,e){e===0&&(t.mode&1?(e=ux,ux<<=1,!(ux&130023424)&&(ux=4194304)):e=1);var n=Or();t=Tl(t,e),t!==null&&(vy(t,e,n),ss(t,n))}function JZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iH(t,n)}function QZ(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Ce(314))}i!==null&&i.delete(e),iH(t,n)}var rH;rH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||is.current)es=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return es=!1,BZ(t,e,n);es=!!(t.flags&131072)}else es=!1,An&&e.flags&1048576&&lj(e,j1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;J_(t,e),t=e.pendingProps;var r=Kh(e,br.current);Dh(e,n),r=cR(null,e,i,t,r,n);var s=uR();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(i)?(s=!0,U1(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,rR(e),r.updater=LS,e.stateNode=r,r._reactInternals=e,MP(e,i,t,n),e=IP(null,e,i,!0,s,n)):(e.tag=0,An&&s&&JI(e),Rr(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(J_(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=eee(i),t=To(i,t),r){case 0:e=AP(null,e,i,t,n);break e;case 1:e=SD(null,e,i,t,n);break e;case 11:e=_D(null,e,i,t,n);break e;case 14:e=bD(null,e,i,To(i.type,t),n);break e}throw Error(Ce(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),AP(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),SD(t,e,i,r,n);case 3:e:{if(Vj(e),t===null)throw Error(Ce(387));i=e.pendingProps,s=e.memoizedState,r=s.element,pj(t,e),G1(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ep(Error(Ce(423)),e),e=wD(t,e,i,n,r);break e}else if(i!==r){r=ep(Error(Ce(424)),e),e=wD(t,e,i,n,r);break e}else for(Es=Fc(e.stateNode.containerInfo.firstChild),Ts=e,An=!0,Ao=null,n=fj(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jh(),i===r){e=Cl(t,e,n);break e}Rr(t,e,i,n)}e=e.child}return e;case 5:return mj(e),t===null&&EP(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,xP(i,r)?o=null:s!==null&&xP(i,s)&&(e.flags|=32),Uj(t,e),Rr(t,e,o,n),e.child;case 6:return t===null&&EP(e),null;case 13:return jj(t,e,n);case 4:return sR(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Qh(e,null,i,n):Rr(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),_D(t,e,i,r,n);case 7:return Rr(t,e,e.pendingProps,n),e.child;case 8:return Rr(t,e,e.pendingProps.children,n),e.child;case 12:return Rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Sn(H1,i._currentValue),i._currentValue=o,s!==null)if(Uo(s.value,o)){if(s.children===r.children&&!is.current){e=Cl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=gl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),TP(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),TP(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rr(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Dh(e,n),r=lo(r),i=i(r),e.flags|=1,Rr(t,e,i,n),e.child;case 14:return i=e.type,r=To(i,e.pendingProps),r=To(i.type,r),bD(t,e,i,r,n);case 15:return zj(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),J_(t,e),e.tag=1,rs(i)?(t=!0,U1(e)):t=!1,Dh(e,n),Dj(e,i,r),MP(e,i,r,n),IP(null,e,i,!0,t,n);case 19:return Hj(t,e,n);case 22:return Bj(t,e,n)}throw Error(Ce(156,e.tag))};function sH(t,e){return k6(t,e)}function ZZ(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,n,i){return new ZZ(t,e,n,i)}function _R(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eee(t){if(typeof t=="function")return _R(t)?1:0;if(t!=null){if(t=t.$$typeof,t===BI)return 11;if(t===UI)return 14}return 2}function Vc(t,e){var n=t.alternate;return n===null?(n=io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function e1(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")_R(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ah:return md(n.children,r,s,e);case zI:o=8,r|=8;break;case JM:return t=io(12,n,e,r|2),t.elementType=JM,t.lanes=s,t;case QM:return t=io(13,n,e,r),t.elementType=QM,t.lanes=s,t;case ZM:return t=io(19,n,e,r),t.elementType=ZM,t.lanes=s,t;case m6:return FS(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h6:o=10;break e;case p6:o=9;break e;case BI:o=11;break e;case UI:o=14;break e;case yc:o=16,i=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=io(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function md(t,e,n,i){return t=io(7,t,i,e),t.lanes=n,t}function FS(t,e,n,i){return t=io(22,t,i,e),t.elementType=m6,t.lanes=n,t.stateNode={isHidden:!1},t}function KT(t,e,n){return t=io(6,t,null,e),t.lanes=n,t}function JT(t,e,n){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tee(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RT(0),this.expirationTimes=RT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RT(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function bR(t,e,n,i,r,s,o,a,l){return t=new tee(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=io(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rR(s),t}function nee(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oh,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function oH(t){if(!t)return Yc;t=t._reactInternals;e:{if(qd(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(rs(n))return oj(t,n,e)}return e}function aH(t,e,n,i,r,s,o,a,l){return t=bR(n,i,!0,t,r,s,o,a,l),t.context=oH(null),n=t.current,i=Or(),r=Uc(n),s=gl(i,r),s.callback=e??null,zc(n,s,r),t.current.lanes=r,vy(t,r,i),ss(t,i),t}function zS(t,e,n,i){var r=e.current,s=Or(),o=Uc(r);return n=oH(n),e.context===null?e.context=n:e.pendingContext=n,e=gl(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=zc(r,e,o),t!==null&&(zo(t,r,o,s),X_(t,r,o)),o}function Z1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ND(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function SR(t,e){ND(t,e),(t=t.alternate)&&ND(t,e)}var lH=typeof reportError=="function"?reportError:function(t){console.error(t)};function wR(t){this._internalRoot=t}BS.prototype.render=wR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));zS(t,e,null,null)};BS.prototype.unmount=wR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Id(function(){zS(null,t,null,null)}),e[El]=null}};function BS(t){this._internalRoot=t}BS.prototype.unstable_scheduleHydration=function(t){if(t){var e=B6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bc.length&&e!==0&&e<bc[n].priority;n++);bc.splice(n,0,t),n===0&&V6(t)}};function ER(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function US(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LD(){}function iee(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Z1(o);s.call(c)}}var o=aH(e,i,t,0,null,!1,!1,"",LD);return t._reactRootContainer=o,t[El]=o.current,hv(t.nodeType===8?t.parentNode:t),Id(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Z1(l);a.call(c)}}var l=bR(t,0,!1,null,null,!1,!1,"",LD);return t._reactRootContainer=l,t[El]=l.current,hv(t.nodeType===8?t.parentNode:t),Id(function(){zS(e,l,n,i)}),l}function VS(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Z1(o);a.call(l)}}zS(e,o,t,r)}else o=iee(n,e,t,r,i);return Z1(o)}F6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cg(e.pendingLanes);n!==0&&(HI(e,n|1),ss(e,Zn()),!(Gt&6)&&(tp=Zn()+500,au()))}break;case 13:Id(function(){var i=Tl(t,1);if(i!==null){var r=Or();zo(i,t,1,r)}}),SR(t,1)}};WI=function(t){if(t.tag===13){var e=Tl(t,134217728);if(e!==null){var n=Or();zo(e,t,134217728,n)}SR(t,134217728)}};z6=function(t){if(t.tag===13){var e=Uc(t),n=Tl(t,e);if(n!==null){var i=Or();zo(n,t,e,i)}SR(t,e)}};B6=function(){return rn};U6=function(t,e){var n=rn;try{return rn=t,e()}finally{rn=n}};cP=function(t,e,n){switch(e){case"input":if(nP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=RS(i);if(!r)throw Error(Ce(90));v6(i),nP(i,r)}}}break;case"textarea":x6(t,n);break;case"select":e=n.value,e!=null&&Rh(t,!!n.multiple,e,!1)}};C6=vR;M6=Id;var ree={usingClientEntryPoint:!1,Events:[xy,dh,RS,E6,T6,vR]},wm={findFiberByHostInstance:nd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},see={bundleType:wm.bundleType,version:wm.version,rendererPackageName:wm.rendererPackageName,rendererConfig:wm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I6(t),t===null?null:t.stateNode},findFiberByHostInstance:wm.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bx.isDisabled&&bx.supportsFiber)try{MS=bx.inject(see),_a=bx}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ree;Ls.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ER(e))throw Error(Ce(200));return nee(t,e,null,n)};Ls.createRoot=function(t,e){if(!ER(t))throw Error(Ce(299));var n=!1,i="",r=lH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=bR(t,1,!1,null,null,n,!1,i,r),t[El]=e.current,hv(t.nodeType===8?t.parentNode:t),new wR(e)};Ls.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=I6(e),t=t===null?null:t.stateNode,t};Ls.flushSync=function(t){return Id(t)};Ls.hydrate=function(t,e,n){if(!US(e))throw Error(Ce(200));return VS(null,t,e,!0,n)};Ls.hydrateRoot=function(t,e,n){if(!ER(t))throw Error(Ce(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=lH;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aH(e,null,t,1,n??null,r,!1,s,o),t[El]=e.current,hv(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new BS(e)};Ls.render=function(t,e,n){if(!US(e))throw Error(Ce(200));return VS(null,t,e,!1,n)};Ls.unmountComponentAtNode=function(t){if(!US(t))throw Error(Ce(40));return t._reactRootContainer?(Id(function(){VS(null,null,t,!1,function(){t._reactRootContainer=null,t[El]=null})}),!0):!1};Ls.unstable_batchedUpdates=vR;Ls.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!US(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return VS(t,e,n,!1,i)};Ls.version="18.3.1-next-f1338f8080-20240426";function cH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cH)}catch(t){console.error(t)}}cH(),c6.exports=Ls;var uH=c6.exports,dH,DD=uH;dH=DD.createRoot,DD.hydrateRoot;const Cs=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" ");function oee(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Ng(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,a=L.createContext(o);a.displayName=e;function l(){var u;const c=L.useContext(a);if(!c&&n){const d=new Error(s??oee(i,r));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[a.Provider,l,a]}function aee(...t){return function(...n){t.forEach(i=>i==null?void 0:i(...n))}}const lee=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),cee=/^on[A-Z]/;function Sv(...t){let e={};for(let n of t){for(let i in e){if(cee.test(i)&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=aee(e[i],n[i]);continue}if(i==="className"||i==="class"){e[i]=lee(e[i],n[i]);continue}if(i==="style"){e[i]=Object.assign({},e[i]??{},n[i]??{});continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}const uee=Object.freeze({}),dee=Object.freeze({});function fH(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var fee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hee=fH(function(t){return fee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),pee=!1;function mee(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gee(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vee=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!pee:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gee(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=mee(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),pr="-ms-",eb="-moz-",Zt="-webkit-",hH="comm",TR="rule",CR="decl",yee="@import",pH="@keyframes",xee="@layer",_ee=Math.abs,jS=String.fromCharCode,bee=Object.assign;function See(t,e){return Ki(t,0)^45?(((e<<2^Ki(t,0))<<2^Ki(t,1))<<2^Ki(t,2))<<2^Ki(t,3):0}function mH(t){return t.trim()}function wee(t,e){return(t=e.exec(t))?t[0]:t}function en(t,e,n){return t.replace(e,n)}function jP(t,e){return t.indexOf(e)}function Ki(t,e){return t.charCodeAt(e)|0}function wv(t,e,n){return t.slice(e,n)}function ua(t){return t.length}function MR(t){return t.length}function Sx(t,e){return e.push(t),t}function Eee(t,e){return t.map(e).join("")}var HS=1,np=1,gH=0,as=0,ai=0,Mp="";function WS(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:HS,column:np,length:o,return:""}}function Em(t,e){return bee(WS("",null,null,"",null,null,0),t,{length:-t.length},e)}function Tee(){return ai}function Cee(){return ai=as>0?Ki(Mp,--as):0,np--,ai===10&&(np=1,HS--),ai}function Ms(){return ai=as<gH?Ki(Mp,as++):0,np++,ai===10&&(np=1,HS++),ai}function Sa(){return Ki(Mp,as)}function t1(){return as}function by(t,e){return wv(Mp,t,e)}function Ev(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vH(t){return HS=np=1,gH=ua(Mp=t),as=0,[]}function yH(t){return Mp="",t}function n1(t){return mH(by(as-1,HP(t===91?t+2:t===40?t+1:t)))}function Mee(t){for(;(ai=Sa())&&ai<33;)Ms();return Ev(t)>2||Ev(ai)>3?"":" "}function Pee(t,e){for(;--e&&Ms()&&!(ai<48||ai>102||ai>57&&ai<65||ai>70&&ai<97););return by(t,t1()+(e<6&&Sa()==32&&Ms()==32))}function HP(t){for(;Ms();)switch(ai){case t:return as;case 34:case 39:t!==34&&t!==39&&HP(ai);break;case 40:t===41&&HP(t);break;case 92:Ms();break}return as}function Aee(t,e){for(;Ms()&&t+ai!==57;)if(t+ai===84&&Sa()===47)break;return"/*"+by(e,as-1)+"*"+jS(t===47?t:Ms())}function Iee(t){for(;!Ev(Sa());)Ms();return by(t,as)}function Ree(t){return yH(i1("",null,null,null,[""],t=vH(t),0,[0],t))}function i1(t,e,n,i,r,s,o,a,l){for(var c=0,u=0,d=o,h=0,m=0,g=0,y=1,_=1,v=1,x=0,b="",E=r,M=s,C=i,R=b;_;)switch(g=x,x=Ms()){case 40:if(g!=108&&Ki(R,d-1)==58){jP(R+=en(n1(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:R+=n1(x);break;case 9:case 10:case 13:case 32:R+=Mee(g);break;case 92:R+=Pee(t1()-1,7);continue;case 47:switch(Sa()){case 42:case 47:Sx(kee(Aee(Ms(),t1()),e,n),l);break;default:R+="/"}break;case 123*y:a[c++]=ua(R)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+u:v==-1&&(R=en(R,/\f/g,"")),m>0&&ua(R)-d&&Sx(m>32?FD(R+";",i,n,d-1):FD(en(R," ","")+";",i,n,d-2),l);break;case 59:R+=";";default:if(Sx(C=OD(R,e,n,c,u,r,a,b,E=[],M=[],d),s),x===123)if(u===0)i1(R,e,C,C,E,s,d,a,M);else switch(h===99&&Ki(R,3)===110?100:h){case 100:case 108:case 109:case 115:i1(t,C,C,i&&Sx(OD(t,C,C,0,0,r,a,b,r,E=[],d),M),r,M,d,a,i?E:M);break;default:i1(R,C,C,C,[""],M,0,a,M)}}c=u=m=0,y=v=1,b=R="",d=o;break;case 58:d=1+ua(R),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Cee()==125)continue}switch(R+=jS(x),x*y){case 38:v=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(ua(R)-1)*v,v=1;break;case 64:Sa()===45&&(R+=n1(Ms())),h=Sa(),u=d=ua(b=R+=Iee(t1())),x++;break;case 45:g===45&&ua(R)==2&&(y=0)}}return s}function OD(t,e,n,i,r,s,o,a,l,c,u){for(var d=r-1,h=r===0?s:[""],m=MR(h),g=0,y=0,_=0;g<i;++g)for(var v=0,x=wv(t,d+1,d=_ee(y=o[g])),b=t;v<m;++v)(b=mH(y>0?h[v]+" "+x:en(x,/&\f/g,h[v])))&&(l[_++]=b);return WS(t,e,n,r===0?TR:a,l,c,u)}function kee(t,e,n){return WS(t,e,n,hH,jS(Tee()),wv(t,2,-2),0)}function FD(t,e,n,i){return WS(t,e,n,CR,wv(t,0,i),wv(t,i+1,-1),i)}function Fh(t,e){for(var n="",i=MR(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function Nee(t,e,n,i){switch(t.type){case xee:if(t.children.length)break;case yee:case CR:return t.return=t.return||t.value;case hH:return"";case pH:return t.return=t.value+"{"+Fh(t.children,i)+"}";case TR:t.value=t.props.join(",")}return ua(n=Fh(t.children,i))?t.return=t.value+"{"+n+"}":""}function Lee(t){var e=MR(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function Dee(t){return function(e){e.root||(e=e.return)&&t(e)}}var Oee=function(e,n,i){for(var r=0,s=0;r=s,s=Sa(),r===38&&s===12&&(n[i]=1),!Ev(s);)Ms();return by(e,as)},Fee=function(e,n){var i=-1,r=44;do switch(Ev(r)){case 0:r===38&&Sa()===12&&(n[i]=1),e[i]+=Oee(as-1,n,i);break;case 2:e[i]+=n1(r);break;case 4:if(r===44){e[++i]=Sa()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=jS(r)}while(r=Ms());return e},zee=function(e,n){return yH(Fee(vH(e),n))},zD=new WeakMap,Bee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zD.get(i))&&!r){zD.set(e,!0);for(var s=[],o=zee(n,s),a=i.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Uee=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function xH(t,e){switch(See(t,e)){case 5103:return Zt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Zt+t+eb+t+pr+t+t;case 6828:case 4268:return Zt+t+pr+t+t;case 6165:return Zt+t+pr+"flex-"+t+t;case 5187:return Zt+t+en(t,/(\w+).+(:[^]+)/,Zt+"box-$1$2"+pr+"flex-$1$2")+t;case 5443:return Zt+t+pr+"flex-item-"+en(t,/flex-|-self/,"")+t;case 4675:return Zt+t+pr+"flex-line-pack"+en(t,/align-content|flex-|-self/,"")+t;case 5548:return Zt+t+pr+en(t,"shrink","negative")+t;case 5292:return Zt+t+pr+en(t,"basis","preferred-size")+t;case 6060:return Zt+"box-"+en(t,"-grow","")+Zt+t+pr+en(t,"grow","positive")+t;case 4554:return Zt+en(t,/([^-])(transform)/g,"$1"+Zt+"$2")+t;case 6187:return en(en(en(t,/(zoom-|grab)/,Zt+"$1"),/(image-set)/,Zt+"$1"),t,"")+t;case 5495:case 3959:return en(t,/(image-set\([^]*)/,Zt+"$1$`$1");case 4968:return en(en(t,/(.+:)(flex-)?(.*)/,Zt+"box-pack:$3"+pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zt+t+t;case 4095:case 3583:case 4068:case 2532:return en(t,/(.+)-inline(.+)/,Zt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ua(t)-1-e>6)switch(Ki(t,e+1)){case 109:if(Ki(t,e+4)!==45)break;case 102:return en(t,/(.+:)(.+)-([^]+)/,"$1"+Zt+"$2-$3$1"+eb+(Ki(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jP(t,"stretch")?xH(en(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ki(t,e+1)!==115)break;case 6444:switch(Ki(t,ua(t)-3-(~jP(t,"!important")&&10))){case 107:return en(t,":",":"+Zt)+t;case 101:return en(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zt+(Ki(t,14)===45?"inline-":"")+"box$3$1"+Zt+"$2$3$1"+pr+"$2box$3")+t}break;case 5936:switch(Ki(t,e+11)){case 114:return Zt+t+pr+en(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Zt+t+pr+en(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Zt+t+pr+en(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Zt+t+pr+t+t}return t}var Vee=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case CR:e.return=xH(e.value,e.length);break;case pH:return Fh([Em(e,{value:en(e.value,"@","@"+Zt)})],r);case TR:if(e.length)return Eee(e.props,function(s){switch(wee(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fh([Em(e,{props:[en(s,/:(read-\w+)/,":"+eb+"$1")]})],r);case"::placeholder":return Fh([Em(e,{props:[en(s,/:(plac\w+)/,":"+Zt+"input-$1")]}),Em(e,{props:[en(s,/:(plac\w+)/,":"+eb+"$1")]}),Em(e,{props:[en(s,/:(plac\w+)/,pr+"input-$1")]})],r)}return""})}},jee=[Vee],Hee=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var r=e.stylisPlugins||jee,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(y)});var l,c=[Bee,Uee];{var u,d=[Nee,Dee(function(y){u.insert(y)})],h=Lee(c.concat(r,d)),m=function(_){return Fh(Ree(_),h)};l=function(_,v,x,b){u=x,m(_?_+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new vee({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rd.apply(null,arguments)}var _H={exports:{}},sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=typeof Symbol=="function"&&Symbol.for,PR=Vi?Symbol.for("react.element"):60103,AR=Vi?Symbol.for("react.portal"):60106,GS=Vi?Symbol.for("react.fragment"):60107,$S=Vi?Symbol.for("react.strict_mode"):60108,qS=Vi?Symbol.for("react.profiler"):60114,XS=Vi?Symbol.for("react.provider"):60109,YS=Vi?Symbol.for("react.context"):60110,IR=Vi?Symbol.for("react.async_mode"):60111,KS=Vi?Symbol.for("react.concurrent_mode"):60111,JS=Vi?Symbol.for("react.forward_ref"):60112,QS=Vi?Symbol.for("react.suspense"):60113,Wee=Vi?Symbol.for("react.suspense_list"):60120,ZS=Vi?Symbol.for("react.memo"):60115,ew=Vi?Symbol.for("react.lazy"):60116,Gee=Vi?Symbol.for("react.block"):60121,$ee=Vi?Symbol.for("react.fundamental"):60117,qee=Vi?Symbol.for("react.responder"):60118,Xee=Vi?Symbol.for("react.scope"):60119;function Os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PR:switch(t=t.type,t){case IR:case KS:case GS:case qS:case $S:case QS:return t;default:switch(t=t&&t.$$typeof,t){case YS:case JS:case ew:case ZS:case XS:return t;default:return e}}case AR:return e}}}function bH(t){return Os(t)===KS}sn.AsyncMode=IR;sn.ConcurrentMode=KS;sn.ContextConsumer=YS;sn.ContextProvider=XS;sn.Element=PR;sn.ForwardRef=JS;sn.Fragment=GS;sn.Lazy=ew;sn.Memo=ZS;sn.Portal=AR;sn.Profiler=qS;sn.StrictMode=$S;sn.Suspense=QS;sn.isAsyncMode=function(t){return bH(t)||Os(t)===IR};sn.isConcurrentMode=bH;sn.isContextConsumer=function(t){return Os(t)===YS};sn.isContextProvider=function(t){return Os(t)===XS};sn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PR};sn.isForwardRef=function(t){return Os(t)===JS};sn.isFragment=function(t){return Os(t)===GS};sn.isLazy=function(t){return Os(t)===ew};sn.isMemo=function(t){return Os(t)===ZS};sn.isPortal=function(t){return Os(t)===AR};sn.isProfiler=function(t){return Os(t)===qS};sn.isStrictMode=function(t){return Os(t)===$S};sn.isSuspense=function(t){return Os(t)===QS};sn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===GS||t===KS||t===qS||t===$S||t===QS||t===Wee||typeof t=="object"&&t!==null&&(t.$$typeof===ew||t.$$typeof===ZS||t.$$typeof===XS||t.$$typeof===YS||t.$$typeof===JS||t.$$typeof===$ee||t.$$typeof===qee||t.$$typeof===Xee||t.$$typeof===Gee)};sn.typeOf=Os;_H.exports=sn;var Yee=_H.exports,SH=Yee,Kee={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wH={};wH[SH.ForwardRef]=Kee;wH[SH.Memo]=Jee;var Qee=!0;function EH(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var RR=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||Qee===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},kR=function(e,n,i){RR(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Zee(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ete={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tte=/[A-Z]|^ms/g,nte=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TH=function(e){return e.charCodeAt(1)===45},BD=function(e){return e!=null&&typeof e!="boolean"},QT=fH(function(t){return TH(t)?t:t.replace(tte,"-$&").toLowerCase()}),UD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(nte,function(i,r,s){return da={name:r,styles:s,next:da},r})}return ete[e]!==1&&!TH(e)&&typeof n=="number"&&n!==0?n+"px":n};function Tv(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return da={name:r.name,styles:r.styles,next:da},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)da={name:o.name,styles:o.styles,next:da},o=o.next;var a=s.styles+";";return a}return ite(t,e,n)}case"function":{if(t!==void 0){var l=da,c=n(t);return da=l,Tv(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function ite(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Tv(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?i+=s+"{"+e[a]+"}":BD(a)&&(i+=QT(s)+":"+UD(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)BD(o[l])&&(i+=QT(s)+":"+UD(s,o[l])+";");else{var c=Tv(t,e,o);switch(s){case"animation":case"animationName":{i+=QT(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var VD=/label:\s*([^\s;{]+)\s*(;|$)/g,da;function NR(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";da=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=Tv(n,e,s);else{var o=s;r+=o[0]}for(var a=1;a<t.length;a++)if(r+=Tv(n,e,t[a]),i){var l=s;r+=l[a]}VD.lastIndex=0;for(var c="",u;(u=VD.exec(r))!==null;)c+="-"+u[1];var d=Zee(r)+c;return{name:d,styles:r,next:da}}var rte=function(e){return e()},CH=A3.useInsertionEffect?A3.useInsertionEffect:!1,MH=CH||rte,jD=CH||L.useLayoutEffect,ste=!1,PH=L.createContext(typeof HTMLElement<"u"?Hee({key:"css"}):null);PH.Provider;var LR=function(e){return L.forwardRef(function(n,i){var r=L.useContext(PH);return e(n,r,i)})},DR=L.createContext({}),OR={}.hasOwnProperty,WP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ote=function(e,n){var i={};for(var r in n)OR.call(n,r)&&(i[r]=n[r]);return i[WP]=e,i},ate=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return RR(n,i,r),MH(function(){return kR(n,i,r)}),null},lte=LR(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[WP],s=[i],o="";typeof t.className=="string"?o=EH(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=NR(s,void 0,L.useContext(DR));o+=e.key+"-"+a.name;var l={};for(var c in t)OR.call(t,c)&&c!=="css"&&c!==WP&&!ste&&(l[c]=t[c]);return l.className=o,n&&(l.ref=n),L.createElement(L.Fragment,null,L.createElement(ate,{cache:e,serialized:a,isStringTag:typeof r=="string"}),L.createElement(r,l))}),cte=lte,ute=function(e,n){var i=arguments;if(n==null||!OR.call(n,"css"))return L.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=cte,s[1]=ote(e,n);for(var o=2;o<r;o++)s[o]=i[o];return L.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ute);var HD=LR(function(t,e){var n=t.styles,i=NR([n],void 0,L.useContext(DR)),r=L.useRef();return jD(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),r.current=[o,a],function(){o.flush()}},[e]),jD(function(){var s=r.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(i.next!==void 0&&kR(e,i.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function dte(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function fte(...t){return e=>{t.forEach(n=>{dte(n,e)})}}function Sy(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function hte(t){return t.default||t}const Zr=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),Ia=t=>typeof t=="string",AH=t=>typeof t=="function";function pte(t){var n;const e=L.version;return!Ia(e)||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const[mte,tw]=Ng({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function gte(t){const{value:e,children:n}=t;return w.jsxs(mte,{value:e,children:[!e._config.disableLayers&&w.jsx(HD,{styles:e.layers.atRule}),w.jsx(HD,{styles:e._global}),n]})}const zh=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i=Object.keys(n),r=o=>{const a={};for(let l=0;l<o.length;l++){const c=o[l];n[c]&&(Object.defineProperty(a,c,n[c]),delete n[c])}return a},s=o=>r(Array.isArray(o)?o:i.filter(o));return[e].map(s).concat(r(i))},vte=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function yte(t){return typeof t=="string"&&vte.has(t)}function xte(t,e,n){const{css:i,isValidProperty:r}=tw(),{children:s,...o}=t,a=L.useMemo(()=>{const[h,m]=zh(o,x=>n(x,e.variantKeys)),[g,y]=zh(m,e.variantKeys),[_,v]=zh(y,r);return{forwardedProps:h,variantProps:g,styleProps:_,elementProps:v}},[e.variantKeys,n,o,r]),{css:l,...c}=a.styleProps,u=L.useMemo(()=>{const h={...a.variantProps};return e.variantKeys.includes("colorPalette")||(h.colorPalette=o.colorPalette),e.variantKeys.includes("orientation")||(h.orientation=o.orientation),e(h)},[e,a.variantProps,o.colorPalette,o.orientation]);return{styles:L.useMemo(()=>i(u,..._te(l),c),[i,u,l,c]),props:{...a.forwardedProps,...a.elementProps,children:s}}}const _te=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),bte=hte(hee),Ste=bte,wte=t=>t!=="theme",Ete=(t,e,n)=>{let i;if(e){const r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?s=>t.__emotion_forwardProp(s)&&r(s):r}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i};let Tte=typeof document<"u";const WD=({cache:t,serialized:e,isStringTag:n})=>{RR(t,e,n);const i=MH(()=>kR(t,e,n));if(!Tte&&i!==void 0){let r=e.name,s=e.next;for(;s!==void 0;)r=Cs(r,s.name),s=s.next;return w.jsx("style",{"data-emotion":Cs(t.key,r),dangerouslySetInnerHTML:{__html:i},nonce:t.sheet.nonce})}return null},Cte=(t,e={},n={})=>{const i=t.__emotion_real===t,r=i&&t.__emotion_base||t;let s,o;n!==void 0&&(s=n.label,o=n.target);let a=[];const l=LR((c,u,d)=>{var X;const{cva:h,isValidProperty:m}=tw(),g=e.__cva__?e:h(e),y=Pte(t.__emotion_cva,g),_=W=>(K,j)=>W.includes(K)?!0:!(j!=null&&j.includes(K))&&!m(K);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=_(n.forwardProps));const v=(W,K)=>{const j=typeof t=="string"&&t.charCodeAt(0)>96?Ste:wte,D=!(K!=null&&K.includes(W))&&!m(W);return j(W)&&D},x=Ete(t,n,i)||v,b=L.useMemo(()=>Object.assign({},n.defaultProps,Sy(c)),[c]),{props:E,styles:M}=xte(b,y,x);let C="",R=[M],k=E;if(E.theme==null){k={};for(let W in E)k[W]=E[W];k.theme=L.useContext(DR)}typeof E.className=="string"?C=EH(u.registered,R,E.className):E.className!=null&&(C=Cs(C,E.className));const I=NR(a.concat(R),u.registered,k);C=Cs(C,`${u.key}-${I.name}`),o!==void 0&&(C=Cs(C,o));const P=!x("as");let O=P&&E.as||r,z={};for(let W in E)if(!(P&&W==="as")){if(yte(W)){const K=W.replace("html","").toLowerCase();z[K]=E[W];continue}x(W)&&(z[W]=E[W])}z.className=C.trim(),z.ref=d;const U=n.forwardAsChild||((X=n.forwardProps)==null?void 0:X.includes("asChild"));if(E.asChild&&!U){const W=L.Children.only(E.children);O=W.type,z.children=null,Reflect.deleteProperty(z,"asChild"),z=Sv(z,W.props),z.ref=fte(d,pte(W))}return z.as&&U?(z.as=void 0,w.jsxs(L.Fragment,{children:[w.jsx(WD,{cache:u,serialized:I,isStringTag:typeof O=="string"}),w.jsx(O,{asChild:!0,...z,children:w.jsx(E.as,{children:z.children})})]})):w.jsxs(L.Fragment,{children:[w.jsx(WD,{cache:u,serialized:I,isStringTag:typeof O=="string"}),w.jsx(O,{...z})]})});return l.displayName=s!==void 0?s:`chakra(${typeof r=="string"?r:r.displayName||r.name||"Component"})`,l.__emotion_real=l,l.__emotion_base=r,l.__emotion_forwardProp=n.shouldForwardProp,l.__emotion_cva=e,Object.defineProperty(l,"toString",{value(){return`.${o}`}}),l},ZT=Cte.bind(),eC=new Map,Mte=new Proxy(ZT,{apply(t,e,n){return ZT(...n)},get(t,e){return eC.has(e)||eC.set(e,ZT(e)),eC.get(e)}}),ls=Mte,Pte=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e);function Ate(t){const{key:e,recipe:n}=t,i=tw();return L.useMemo(()=>{const r=n||(e!=null?i.getRecipe(e):{});return i.cva(structuredClone(r))},[e,n,i])}const Ite=t=>t.charAt(0).toUpperCase()+t.slice(1);function Pp(t){const{key:e,recipe:n}=t,i=Ite(e||n.className||"Component"),[r,s]=Ng({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`});function o(c){const{unstyled:u,...d}=c,h=Ate({key:e,recipe:d.recipe||n}),[m,g]=h.splitVariantProps(d);return{styles:u?uee:h(m),className:h.className,props:g}}const a=(c,u)=>{const d=ls(c,{},u),h=L.forwardRef((m,g)=>{const y=Sv(s(),m),{styles:_,className:v,props:x}=o(y);return w.jsx(d,{...x,ref:g,css:[_,y.css],className:Cs(v,y.className)})});return h.displayName=c.displayName||c.name,h};function l(){return r}return{withContext:a,PropsProvider:r,withPropsProvider:l,usePropsContext:s,useRecipeResult:o}}var GD=t=>Math.max(0,Math.min(1,t)),Rte=(t,e)=>t.map((n,i)=>t[(Math.max(e,0)+i)%t.length]),nw=t=>typeof t=="object"&&t!==null,kte=2147483647,Wi=t=>t?"":void 0,$D=t=>t?"true":void 0,Nte=1,Lte=9,Dte=11,Sr=t=>nw(t)&&t.nodeType===Nte&&typeof t.nodeName=="string",FR=t=>nw(t)&&t.nodeType===Lte,Ote=t=>nw(t)&&t===t.window,IH=t=>Sr(t)?t.localName||"":"#document";function Fte(t){return["html","body","#document"].includes(IH(t))}var zte=t=>nw(t)&&t.nodeType!==void 0,Cv=t=>zte(t)&&t.nodeType===Dte&&"host"in t,Bte=t=>Sr(t)&&t.localName==="input",Ute=t=>Sr(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,Vte=/(textarea|select)/;function jte(t){if(t==null||!Sr(t))return!1;try{return Bte(t)&&t.selectionStart!=null||Vte.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function tb(t,e){var i;if(!t||!e||!Sr(t)||!Sr(e))return!1;const n=(i=e.getRootNode)==null?void 0:i.call(e);if(t===e||t.contains(e))return!0;if(n&&Cv(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Bl(t){return FR(t)?t:Ote(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function Hte(t){return Bl(t).documentElement}function lu(t){var e;return Cv(t)?lu(t.host):FR(t)?t.defaultView??window:Sr(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function RH(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function Wte(t){if(IH(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Cv(t)&&t.host||Hte(t);return Cv(e)?e.host:e}var tC=new WeakMap;function Gte(t){return tC.has(t)||tC.set(t,lu(t).getComputedStyle(t)),tC.get(t)}var kH=()=>typeof document<"u";function $te(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}var zR=t=>kH()&&t.test($te()),qte=t=>kH()&&t.test(navigator.vendor),Xte=()=>zR(/^Mac/),NH=()=>Yte()&&qte(/apple/i),Yte=()=>zR(/mac|iphone|ipad|ipod/i),Kte=()=>zR(/iP(hone|ad|od)|iOS/);function Jte(t){var e,n,i;return((e=t.composedPath)==null?void 0:e.call(t))??((i=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n))}function Ic(t){const e=Jte(t);return(e==null?void 0:e[0])??t.target}function Qte(t){return tne(t).isComposing}var qD=t=>t.button===0,Zte=t=>t.button===2||Xte()&&t.ctrlKey&&t.button===0,XD=t=>t.ctrlKey||t.altKey||t.metaKey,ene=t=>"touches"in t&&t.touches.length>0;function tne(t){return t.nativeEvent??t}var nne=new Set(["PageUp","PageDown"]),ine=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function rne(t){return t.ctrlKey||t.metaKey?.1:nne.has(t.key)||t.shiftKey&&ine.has(t.key)?10:1}function sne(t,e="client"){const n=ene(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var kr=(t,e,n,i)=>{const r=typeof t=="function"?t():t;return r==null||r.addEventListener(e,n,i),()=>{r==null||r.removeEventListener(e,n,i)}};function one(t,e){const{type:n="HTMLInputElement",property:i="value"}=e,r=lu(t)[n].prototype;return Object.getOwnPropertyDescriptor(r,i)??{}}function ane(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function BR(t,e,n="value"){var r;const i=ane(t);i&&((r=one(t,{type:i,property:n}).set)==null||r.call(t,e)),t.setAttribute(n,e)}function LH(t,e){const{value:n,bubbles:i=!0}=e;if(!t)return;const r=lu(t);t instanceof r.HTMLInputElement&&(BR(t,`${n}`),t.dispatchEvent(new r.Event("input",{bubbles:i})))}function lne(t){return cne(t)?t.form:t.closest("form")}function cne(t){return t.matches("textarea, input, select, button")}function une(t,e){if(!t)return;const n=lne(t),i=r=>{r.defaultPrevented||e()};return n==null||n.addEventListener("reset",i,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",i)}function dne(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const i=lu(n),r=new i.MutationObserver(()=>e(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function fne(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:i}=e,r=[une(t,i),dne(t,n)];return()=>r.forEach(s=>s==null?void 0:s())}var DH=t=>Sr(t)&&t.tagName==="IFRAME",hne=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),pne=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,UR="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",VR=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(UR));(e==!0||e=="if-empty"&&n.length===0)&&Sr(t)&&jc(t)&&n.unshift(t);const r=n.filter(jc);return r.forEach((s,o)=>{if(DH(s)&&s.contentDocument){const a=s.contentDocument.body;r.splice(o,1,...VR(a))}}),r};function jc(t){return!t||t.closest("[inert]")?!1:t.matches(UR)&&Ute(t)}function OH(t,e){if(!t)return[];const i=Array.from(t.querySelectorAll(UR)).filter(qu);return i.forEach((r,s)=>{if(DH(r)&&r.contentDocument){const o=r.contentDocument.body,a=OH(o);i.splice(s,1,...a)}}),i.length,i}function qu(t){return t!=null&&t.tabIndex>0?!0:jc(t)&&!pne(t)}function Tm(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||jte(t))&&!hne(t)?0:t.tabIndex}function Ra(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function mne(t,e){if(!t)return;const{attributes:n,callback:i}=e,r=t.ownerDocument.defaultView||window,s=new r.MutationObserver(o=>{for(const a of o)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&i(a)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function gne(t,e){const{defer:n}=e,i=n?Ra:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(mne(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function GP(t){const e=Wte(t);return Fte(e)?Bl(e).body:Sr(e)&&yne(e)?e:GP(e)}var vne=/auto|scroll|overlay|hidden|clip/;function yne(t){const e=lu(t),{overflow:n,overflowX:i,overflowY:r,display:s}=e.getComputedStyle(t);return vne.test(n+r+i)&&!["inline","contents"].includes(s)}function $P(t,e){const{left:n,top:i,width:r,height:s}=e.getBoundingClientRect(),o={x:t.x-n,y:t.y-i},a={x:GD(o.x/r),y:GD(o.y/s)};function l(c={}){const{dir:u="ltr",orientation:d="horizontal",inverted:h}=c,m=typeof h=="object"?h.x:h,g=typeof h=="object"?h.y:h;return d==="horizontal"?u==="rtl"||m?1-a.x:a.x:g?1-a.y:a.y}return{offset:o,percent:a,getPercentValue:l}}function xne(t,e){const n=t.body,i="pointerLockElement"in t||"mozPointerLockElement"in t,r=()=>!!t.pointerLockElement;function s(){}function o(l){r(),console.error("PointerLock error occurred:",l),t.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch{}const a=[kr(t,"pointerlockchange",s,!1),kr(t,"pointerlockerror",o,!1)];return()=>{a.forEach(l=>l()),t.exitPointerLock()}}function ul(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function _ne(t,e){return(t==null?void 0:t.querySelector(e))??null}var jR=t=>t.id;function bne(t,e,n=jR){return t.find(i=>n(i)===e)}function HR(t,e,n=jR){const i=bne(t,e,n);return i?t.indexOf(i):-1}function FH(t,e,n=!0){let i=HR(t,e);return i=n?(i+1)%t.length:Math.min(i+1,t.length-1),t[i]}function zH(t,e,n=!0){let i=HR(t,e);return i===-1?n?t[t.length-1]:null:(i=n?(i-1+t.length)%t.length:Math.max(0,i-1),t[i])}function ti(t){const e={getRootNode:n=>{var i;return((i=n.getRootNode)==null?void 0:i.call(n))??document},getDoc:n=>Bl(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>RH(e.getRootNode(n)),isActiveElement:(n,i)=>i===e.getActiveElement(n),getById:(n,i)=>e.getRootNode(n).getElementById(i),setValue:(n,i)=>{n==null||i==null||BR(n,i.toString())}};return{...e,...t}}var Sne=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),wne=t=>{var e;return Sne(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},Ene=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function Tne(t,e,n,i=jR){const r=n?HR(t,n,i):-1;let s=n?Rte(t,r):t;return e.length===1&&(s=s.filter(a=>i(a)!==n)),s.find(a=>Ene(wne(a),e))}var nC=new WeakMap;function Cne(t,e,n){nC.has(t)||nC.set(t,new Map);const i=nC.get(t),r=i.get(e);if(!r)return i.set(e,n()),()=>{var a;(a=i.get(e))==null||a(),i.delete(e)};const s=n(),o=()=>{s(),r(),i.delete(e)};return i.set(e,o),()=>{i.get(e)===o&&(s(),i.set(e,r))}}function Mne(t,e){return t?Cne(t,"style",()=>{const i=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=i}}):()=>{}}function Pne(t,e){const{state:n,activeId:i,key:r,timeout:s=350,itemToId:o}=e,a=n.keysSoFar+r,c=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a;let u=t.slice();const d=Tne(u,c,i,o);function h(){clearTimeout(n.timer),n.timer=-1}function m(g){n.keysSoFar=g,h(),g!==""&&(n.timer=+setTimeout(()=>{m(""),h()},s))}return m(a),d}var Ane=Object.assign(Pne,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Ine});function Ine(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var Rne=1e3/60;function kne(t,e){const n=t();if(Sr(n)&&n.isConnected)return e(n),()=>{};{const i=setInterval(()=>{const r=t();Sr(r)&&r.isConnected&&(e(r),clearInterval(i))},Rne);return()=>clearInterval(i)}}function Nne(t,e){const n=[];return t==null||t.forEach(i=>{const r=kne(i,e);n.push(r)}),()=>{n.forEach(i=>i())}}function Lne(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Xd(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,a=L.createContext(o);a.displayName=e;function l(){var u;const c=L.useContext(a);if(!c&&n){const d=new Error(s??Lne(i,r));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[a.Provider,l,a]}const[Q3e,BH]=Xd({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function Dne(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function WR(...t){return e=>{for(const n of t)Dne(n,e)}}const One=Symbol(),GR=Symbol(),dg="a",UH="f",YD="p",VH="c",jH="t",HH="h",r1="w",WH="o",GH="k";let Fne=(t,e)=>new Proxy(t,e);const qP=Object.getPrototypeOf,XP=new WeakMap,$H=t=>t&&(XP.has(t)?XP.get(t):qP(t)===Object.prototype||qP(t)===Array.prototype),KD=t=>typeof t=="object"&&t!==null,zne=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),Bne=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(qP(t),e)},Une=(t,e)=>{const n={[UH]:e};let i=!1;const r=(a,l)=>{if(!i){let c=n[dg].get(t);if(c||(c={},n[dg].set(t,c)),a===r1)c[r1]=!0;else{let u=c[a];u||(u=new Set,c[a]=u),u.add(l)}}},s=()=>{i=!0,n[dg].delete(t)},o={get(a,l){return l===GR?t:(r(GH,l),XH(Reflect.get(a,l),n[dg],n[VH],n[jH]))},has(a,l){return l===One?(s(),!0):(r(HH,l),Reflect.has(a,l))},getOwnPropertyDescriptor(a,l){return r(WH,l),Reflect.getOwnPropertyDescriptor(a,l)},ownKeys(a){return r(r1),Reflect.ownKeys(a)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},qH=t=>t[GR]||t,XH=(t,e,n,i)=>{if(!$H(t))return t;let r=i&&i.get(t);if(!r){const l=qH(t);zne(l)?r=[l,Bne(l)]:r=[l],i==null||i.set(t,r)}const[s,o]=r;let a=n&&n.get(s);return(!a||a[1][UH]!==!!o)&&(a=Une(s,!!o),a[1][YD]=Fne(o||s,a[0]),n&&n.set(s,a)),a[1][dg]=e,a[1][VH]=n,a[1][jH]=i,a[1][YD]},Vne=(t,e)=>{const n=Reflect.ownKeys(t),i=Reflect.ownKeys(e);return n.length!==i.length||n.some((r,s)=>r!==i[s])},YH=(t,e,n,i,r=Object.is)=>{if(r(t,e))return!1;if(!KD(t)||!KD(e))return!0;const s=n.get(qH(t));if(!s)return!0;if(i){if(i.get(t)===e)return!1;i.set(t,e)}let o=null;for(const a of s[HH]||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[r1]===!0){if(o=Vne(t,e),o)return o}else for(const a of s[WH]||[]){const l=!!Reflect.getOwnPropertyDescriptor(t,a),c=!!Reflect.getOwnPropertyDescriptor(e,a);if(o=l!==c,o)return o}for(const a of s[GH]||[])if(o=YH(t[a],e[a],n,i,r),o)return o;if(o===null)throw new Error("invalid used");return o},jne=t=>$H(t)&&t[GR]||null,JD=(t,e=!0)=>{XP.set(t,e)};function Hne(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function $R(t,e){const n=Hne();return n?(n[t]||(n[t]=e()),n[t]):e()}var Lg=$R("__zag__refSet",()=>new WeakSet),Wne=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,Gne=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,$ne=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",qne=t=>Wne(t)||Gne(t)||$ne(t),YP=t=>t!==null&&typeof t=="object",KP=t=>YP(t)&&!Lg.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!qne(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise);function QD(t,e,n){typeof n.value=="object"&&!KP(n.value)&&(n.value=sd(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function sd(t){if(typeof t!="object")return t;var e=0,n,i,r,s=Object.prototype.toString.call(t);if(s==="[object Object]"?r=Object.create(Object.getPrototypeOf(t)||null):s==="[object Array]"?r=Array(t.length):s==="[object Set]"?(r=new Set,t.forEach(function(o){r.add(sd(o))})):s==="[object Map]"?(r=new Map,t.forEach(function(o,a){r.set(sd(a),sd(o))})):s==="[object Date]"?r=new Date(+t):s==="[object RegExp]"?r=new RegExp(t.source,t.flags):s==="[object DataView]"?r=new t.constructor(sd(t.buffer)):s==="[object ArrayBuffer]"?r=t.slice(0):s==="[object Blob]"?r=t.slice():s.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)QD(r,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(r,n=i[e])&&r[n]===t[n]||QD(r,n,Object.getOwnPropertyDescriptor(t,n))}return r||t}var ed=$R("__zag__proxyStateMap",()=>new WeakMap),Xne=(t=Object.is,e=(a,l)=>new Proxy(a,l),n=new WeakMap,i=(a,l)=>{const c=n.get(a);if((c==null?void 0:c[0])===l)return c[1];const u=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return JD(u,!0),n.set(a,[l,u]),Reflect.ownKeys(a).forEach(d=>{const h=Reflect.get(a,d);Lg.has(h)?(JD(h,!1),u[d]=h):ed.has(h)?u[d]=Rc(h):u[d]=h}),Object.freeze(u)},r=new WeakMap,s=[1,1],o=a=>{if(!YP(a))throw new Error("object required");const l=r.get(a);if(l)return l;let c=s[0];const u=new Set,d=(R,k=++s[0])=>{c!==k&&(c=k,u.forEach(I=>I(R,k)))};let h=s[1];const m=(R=++s[1])=>(h!==R&&!u.size&&(h=R,y.forEach(([k])=>{const I=k[1](R);I>c&&(c=I)})),c),g=R=>(k,I)=>{const P=[...k];P[1]=[R,...P[1]],d(P,I)},y=new Map,_=(R,k)=>{if(u.size){const I=k[3](g(R));y.set(R,[k,I])}else y.set(R,[k])},v=R=>{var I;const k=y.get(R);k&&(y.delete(R),(I=k[1])==null||I.call(k))},x=R=>(u.add(R),u.size===1&&y.forEach(([I,P],O)=>{const z=I[3](g(O));y.set(O,[I,z])}),()=>{u.delete(R),u.size===0&&y.forEach(([I,P],O)=>{P&&(P(),y.set(O,[I]))})}),b=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),M=e(b,{deleteProperty(R,k){const I=Reflect.get(R,k);v(k);const P=Reflect.deleteProperty(R,k);return P&&d(["delete",[k],I]),P},set(R,k,I,P){var X;const O=Reflect.has(R,k),z=Reflect.get(R,k,P);if(O&&(t(z,I)||r.has(I)&&t(z,r.get(I))))return!0;v(k),YP(I)&&(I=jne(I)||I);let U=I;if(!((X=Object.getOwnPropertyDescriptor(R,k))!=null&&X.set)){!ed.has(I)&&KP(I)&&(U=iw(I));const W=!Lg.has(U)&&ed.get(U);W&&_(k,W)}return Reflect.set(R,k,U,P),d(["set",[k],I,z]),!0}});r.set(a,M);const C=[b,m,i,x];return ed.set(M,C),Reflect.ownKeys(a).forEach(R=>{const k=Object.getOwnPropertyDescriptor(a,R);k.get||k.set?Object.defineProperty(b,R,k):M[R]=a[R]}),M})=>[o,ed,Lg,t,e,KP,n,i,r,s],[Yne]=Xne();function iw(t={}){return Yne(t)}function JP(t,e,n){const i=ed.get(t);let r;const s=[],o=i[3];let a=!1;const c=o(u=>{if(s.push(u),n){e(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function Rc(t){const e=ed.get(t),[n,i,r]=e;return r(n,i())}function ip(t){return Lg.add(t),t}function Kne(t,e){Object.keys(e).forEach(r=>{if(Object.getOwnPropertyDescriptor(t,r))throw new Error("object property already defined");const s=e[r],{get:o,set:a}=typeof s=="function"?{get:s}:s,l={};l.get=()=>o(Rc(i)),a&&(l.set=c=>a(i,c)),Object.defineProperty(t,r,l)});const i=iw(t);return i}var KH=t=>t[0],JH=t=>t[t.length-1];function Jne(t){for(;t.length>0;)t.pop();return t}var ZD=t=>(t==null?void 0:t.constructor.name)==="Array",Qne=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Mv(t[n],e[n]))return!1;return!0},Mv=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(ZD(t)&&ZD(e))return Qne(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<i;r++){const s=n[r];if(!Mv(t[s],e[s]))return!1}return!0},eO=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,il=t=>t,Zne=()=>{},nb=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},tO=(()=>{let t=0;return()=>(t++,t.toString(36))})(),ib=t=>Array.isArray(t),QH=t=>t!=null&&typeof t=="object",s1=t=>QH(t)&&!ib(t),eie=t=>typeof t=="number"&&!Number.isNaN(t),Ss=t=>typeof t=="string",Pv=t=>typeof t=="function",ZH=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),tie=t=>Object.prototype.toString.call(t),eW=Function.prototype.toString,nie=eW.call(Object),iie=t=>{if(!QH(t)||tie(t)!="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=ZH(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&eW.call(n)==nie},{floor:rie,abs:Z3e,round:tW,min:sie,max:oie,pow:eDe,sign:tDe}=Math,aie=t=>Number.isNaN(t),Ml=t=>aie(t)?0:t,lie=(t,e)=>(t%e+e)%e,cie=(t,e)=>Ml(t)>=e,uie=(t,e)=>Ml(t)<=e,die=(t,e,n)=>Ml(t)>=e&&Ml(t)<=n,fie=(t,e,n)=>tW((Ml(t)-e)/n)*n+e,fg=(t,e,n)=>sie(oie(Ml(t),e),n),hie=(t,e,n)=>(Ml(t)-e)/(n-e),pie=(t,e,n,i)=>fg(fie(t*(n-e)+e,e,i),e,n),Dg=(t,e)=>typeof e=="number"?rie(t*e+.5)/e:tW(t),QP=(t,e)=>{const[n,i]=t,[r,s]=e;return o=>n===i||r===s?r:r+(s-r)/(i-n)*(o-n)},nO=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},nW=(t,e,n)=>{let i=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const r=10**Math.max(nO(t),nO(n));t=Math.round(t*r),n=Math.round(n*r),i=e==="+"?t+n:t-n,i/=r}return i},mie=(t,e)=>nW(Ml(t),"+",e),gie=(t,e)=>nW(Ml(t),"-",e);function rp(t){if(!vie(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const r=t[i];r!==void 0&&(n[i]=rp(r))}return n}var vie=t=>t&&typeof t=="object"&&t.constructor===Object;function o1(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function a1(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}var yie=Object.defineProperty,xie=(t,e,n)=>e in t?yie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e,n)=>xie(t,typeof e!="symbol"?e+"":e,n);function iW(t,...e){for(const n of e){const i=rp(n);for(const r in i)iie(n[r])?(t[r]||(t[r]={}),iW(t[r],n[r])):t[r]=n[r]}return t}function yo(t){return Ss(t)?{type:t}:t}function mc(t){return t?ib(t)?t.slice():[t]:[]}function rW(t){return s1(t)&&t.predicate!=null}var sW=()=>!0;function rw(t,e,n,i){return r=>{var s;return Ss(r)?!!((s=t[r])!=null&&s.call(t,e,n,i)):Pv(r)?r(e,n,i):r.predicate(t)(e,n,i)}}function _ie(...t){return{predicate:e=>(n,i,r)=>t.map(rw(e,n,i,r)).some(Boolean)}}function bie(...t){return{predicate:e=>(n,i,r)=>t.map(rw(e,n,i,r)).every(Boolean)}}function Sie(t){return{predicate:e=>(n,i,r)=>!rw(e,n,i,r)(t)}}function wie(...t){return(e,n,i)=>i.state.matches(...t)}var Eie={or:_ie,and:bie,not:Sie,stateIn:wie};function Tie(t){return{predicate:e=>(n,i,r)=>{var s;return(s=t.find(o=>{const a=o.guard??sW;return rw(e,n,i,r)(a)}))==null?void 0:s.actions}}}function oW(t,e){return t=t??sW,(n,i,r)=>{if(Ss(t)){const s=e[t];return Pv(s)?s(n,i,r):s}return rW(t)?t.predicate(e)(n,i,r):t==null?void 0:t(n,i,r)}}function iC(t,e){return(n,i,r)=>rW(t)?t.predicate(e)(n,i,r):t}function Cie(t){var s,o;const e=t.computed??il({}),n=t.context??il({}),i=t.initial?(o=(s=t.states)==null?void 0:s[t.initial])==null?void 0:o.tags:[],r=iw({value:t.initial??"",previousValue:"",event:il({}),previousEvent:il({}),context:Kne(n,e),done:!1,tags:i??[],hasTag(a){return this.tags.includes(a)},matches(...a){return a.includes(this.value)},can(a){return il(this).nextEvents.includes(a)},get nextEvents(){var c,u;const a=((u=(c=t.states)==null?void 0:c[this.value])==null?void 0:u.on)??{},l=(t==null?void 0:t.on)??{};return Object.keys({...a,...l})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return il(r)}function Cm(t,e){return(n,i)=>{if(eie(t))return t;if(Pv(t))return t(n,i);if(Ss(t)){const r=Number.parseFloat(t);if(!Number.isNaN(r))return r;if(e){const s=e==null?void 0:e[t];return a1(s==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Pv(s)?s(n,i):s}}}}function Mie(t){return Ss(t)?{target:t}:t}function Pie(t,e){return(n,i,r)=>mc(t).map(Mie).find(s=>oW(s.guard,e)(n,i,r)??s.target??s.actions)}var Aie=class{constructor(t,e){var n,i,r,s,o;nt(this,"status","Not Started"),nt(this,"state"),nt(this,"initialState"),nt(this,"initialContext"),nt(this,"id"),nt(this,"type","machine"),nt(this,"activityEvents",new Map),nt(this,"delayedEvents",new Map),nt(this,"stateListeners",new Set),nt(this,"doneListeners",new Set),nt(this,"contextWatchers",new Set),nt(this,"removeStateListener",Zne),nt(this,"parent"),nt(this,"children",new Map),nt(this,"guardMap"),nt(this,"actionMap"),nt(this,"delayMap"),nt(this,"activityMap"),nt(this,"sync"),nt(this,"options"),nt(this,"config"),nt(this,"_created",()=>{if(!this.config.created)return;const a=yo("machine.created");this.executeActions(this.config.created,a)}),nt(this,"start",a=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=JP(this.state,()=>{this.stateListeners.forEach(m=>{m(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(yo("machine.start"),mc(this.config.activities),"machine.start"),this.executeActions(this.config.entry,yo("machine.start"));const l=yo("machine.init"),c=s1(a)?a.value:a,u=s1(a)?a.context:void 0;u&&this.setContext(u);const d={target:c??this.config.initial},h=this.getNextStateInfo(d,l);return this.initialState=h,this.performStateChangeEffects(this.state.value,h,l),this}),nt(this,"setupContextWatchers",()=>{const{watch:a}=this.config;if(!a)return;let l=Rc(this.state.context);const c=JP(this.state.context,()=>{var d;const u=Rc(this.state.context);for(const[h,m]of Object.entries(a))(((d=this.options.compareFns)==null?void 0:d[h])??Object.is)(l[h],u[h])||this.executeActions(m,this.state.event);l=u});this.contextWatchers.add(c)}),nt(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,yo("machine.stop")),this.executeActions(this.config.exit,yo("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),nt(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),nt(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(a=>a()),this.contextWatchers.clear()}),nt(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(a=>{a.forEach(l=>l())}),this.delayedEvents.clear()}),nt(this,"stopActivities",a=>{var l,c;a?((l=this.activityEvents.get(a))==null||l.forEach(u=>u()),(c=this.activityEvents.get(a))==null||c.clear(),this.activityEvents.delete(a)):(this.activityEvents.forEach(u=>{u.forEach(d=>d()),u.clear()}),this.activityEvents.clear())}),nt(this,"sendChild",(a,l)=>{const c=yo(a),u=eO(l,this.contextSnapshot),d=this.children.get(u);d||a1(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),d.send(c)}),nt(this,"stopChild",a=>{this.children.has(a)||a1(`[@zag-js/core > stop-child] Cannot stop unknown child ${a}`),this.children.get(a).stop(),this.children.delete(a)}),nt(this,"removeChild",a=>{this.children.delete(a)}),nt(this,"stopChildren",()=>{this.children.forEach(a=>a.stop()),this.children.clear()}),nt(this,"setParent",a=>{this.parent=a}),nt(this,"spawn",(a,l)=>{const c=eO(a);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,il(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),il(ip(c))}),nt(this,"stopActivity",a=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(a))==null||c(),l==null||l.delete(a)}),nt(this,"addActivityCleanup",(a,l,c)=>{var u;a&&(this.activityEvents.has(a)?(u=this.activityEvents.get(a))==null||u.set(l,c):this.activityEvents.set(a,new Map([[l,c]])))}),nt(this,"setState",a=>{this.state.previousValue=this.state.value,this.state.value=a;const l=this.getStateNode(a);a==null?Jne(this.state.tags):this.state.tags=mc(l==null?void 0:l.tags)}),nt(this,"setContext",a=>{a&&iW(this.state.context,rp(a))}),nt(this,"setOptions",a=>{const l=rp(a);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),nt(this,"getStateNode",a=>{var l;if(a)return(l=this.config.states)==null?void 0:l[a]}),nt(this,"getNextStateInfo",(a,l)=>{const c=this.determineTransition(a,l),u=!(c!=null&&c.target),d=(c==null?void 0:c.target)??this.state.value,h=this.state.value!==d,m=this.getStateNode(d),y={reenter:!u&&!h&&!(c!=null&&c.internal),transition:c,stateNode:m,target:d,changed:h};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",y.target),y}),nt(this,"getAfterActions",(a,l)=>{let c;const u=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(a,this.state.event);this.performStateChangeEffects(u,d,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),nt(this,"getDelayedEventActions",a=>{const l=this.getStateNode(a),c=this.state.event;if(!l||!l.after)return;const u=[],d=[];if(ib(l.after)){const h=this.determineTransition(l.after,c);if(!h)return;if(!ZH(h,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(h)}`);const g=Cm(h.delay,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(h,g);return u.push(y.entry),d.push(y.exit),{entries:u,exits:d}}if(s1(l.after))for(const h in l.after){const m=l.after[h],y=Cm(h,this.delayMap)(this.contextSnapshot,c),_=this.getAfterActions(m,y);u.push(_.entry),d.push(_.exit)}return{entries:u,exits:d}}),nt(this,"executeActions",(a,l)=>{var u;const c=iC(a,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const d of mc(c)){const h=Ss(d)?(u=this.actionMap)==null?void 0:u[d]:d;o1(Ss(d)&&!h,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),h==null||h(this.state.context,l,this.meta)}}),nt(this,"executeActivities",(a,l,c)=>{var u;for(const d of l){const h=Ss(d)?(u=this.activityMap)==null?void 0:u[d]:d;if(!h){o1(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const m=h(this.state.context,a,this.meta);if(m){const g=Ss(d)?d:d.name||tO();this.addActivityCleanup(c??this.state.value,g,m)}}}),nt(this,"createEveryActivities",(a,l)=>{if(a)if(ib(a)){const c=mc(a).find(m=>{const g=m.delay,_=Cm(g,this.delayMap)(this.contextSnapshot,this.state.event);return oW(m.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??_!=null});if(!c)return;const d=Cm(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const m=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},d);return()=>{globalThis.clearInterval(m)}})}else for(const c in a){const u=a==null?void 0:a[c],h=Cm(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(u,this.state.event)},h);return()=>{globalThis.clearInterval(g)}})}}),nt(this,"setEvent",a=>{this.state.previousEvent=this.state.event,this.state.event=ip(yo(a))}),nt(this,"performExitEffects",(a,l)=>{const c=this.state.value;if(c==="")return;const u=a?this.getStateNode(a):void 0;this.stopActivities(c);const d=iC(u==null?void 0:u.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),h=mc(d),m=this.delayedEvents.get(c);m&&h.push(...m),this.executeActions(h,l),this.delayedEvents.delete(c)}),nt(this,"performEntryEffects",(a,l)=>{const c=this.getStateNode(a),u=mc(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{u.unshift(g)}),u.length>0&&this.executeActivities(l,u);const d=iC(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),h=mc(d),m=this.getDelayedEventActions(a);c!=null&&c.after&&m&&(this.delayedEvents.set(a,m==null?void 0:m.exits),h.push(...m.entries)),this.executeActions(h,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),nt(this,"performTransitionEffects",(a,l)=>{const c=this.determineTransition(a,l);this.executeActions(c==null?void 0:c.actions,l)}),nt(this,"performStateChangeEffects",(a,l,c)=>{this.setEvent(c);const u=l.changed||l.reenter;u&&this.performExitEffects(a,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),u&&this.performEntryEffects(l.target,c)}),nt(this,"determineTransition",(a,l)=>{const c=Pie(a,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),nt(this,"sendParent",a=>{var c;this.parent||a1("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=yo(a);(c=this.parent)==null||c.send(l)}),nt(this,"log",(...a)=>{}),nt(this,"send",a=>{const l=yo(a);this.transition(this.state.value,l)}),nt(this,"transition",(a,l)=>{var m,g;const c=Ss(a)?this.getStateNode(a):a==null?void 0:a.stateNode,u=yo(l);if(!c&&!this.config.on){const y=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${a}, \`event\`: ${u.type}`;o1(y);return}const d=((m=c==null?void 0:c.on)==null?void 0:m[u.type])??((g=this.config.on)==null?void 0:g[u.type]),h=this.getNextStateInfo(d,u);return this.performStateChangeEffects(this.state.value,h,u),h.stateNode}),nt(this,"subscribe",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),()=>{this.stateListeners.delete(a)})),nt(this,"onDone",a=>(this.doneListeners.add(a),this)),nt(this,"onTransition",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),this)),this.config=sd(t),this.options=sd(e??{}),this.id=this.config.id??`machine-${tO()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((i=this.options)==null?void 0:i.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((s=this.options)==null?void 0:s.activities)??{},this.sync=((o=this.options)==null?void 0:o.sync)??!1,this.state=Cie(this.config),this.initialContext=Rc(this.state.context)}get stateSnapshot(){return il(Rc(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},qR=(t,e)=>new Aie(t,e),Iie=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Rie=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,iO=t=>{const e={};let n;for(;n=Rie.exec(t);)e[n[1]]=n[2];return e},kie=(t,e)=>{if(Ss(t)){if(Ss(e))return`${t};${e}`;t=iO(t)}else Ss(e)&&(e=iO(e));return Object.assign({},t??{},e??{})};function Ei(...t){let e={};for(let n of t){for(let i in e){if(i.startsWith("on")&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=nb(n[i],e[i]);continue}if(i==="className"||i==="class"){e[i]=Iie(e[i],n[i]);continue}if(i==="style"){e[i]=kie(e[i],n[i]);continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}function Nie(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const rC=t=>{const e=L.memo(L.forwardRef((n,i)=>{const{asChild:r,children:s,...o}=n;if(!r)return L.createElement(t,{...o,ref:i},s);const a=L.Children.only(s);if(!L.isValidElement(a))return null;const l=Nie(a);return L.cloneElement(a,{...Ei(o,a.props),ref:i?WR(i,l):l})}));return e.displayName=t.displayName||t.name,e},Lie=()=>{const t=new Map;return new Proxy(rC,{apply(e,n,i){return rC(i[0])},get(e,n){const i=n;return t.has(i)||t.set(i,rC(i)),t.get(i)}})},wr=Lie(),sw=()=>(t,e)=>e.reduce((n,i)=>{const[r,s]=n,o=i;return s[o]!==void 0&&(r[o]=s[o]),delete s[o],[r,s]},[{},{...t}]),aW=t=>sw()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function Die(t){return new Proxy({},{get(){return t}})}var tn=()=>t=>Array.from(new Set(t));function Oie(t,e,n){const i=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&i,present:i,setNode(r){r&&e({type:"NODE.SET",node:r})},unmount(){e({type:"UNMOUNT"})}}}function Fie(t){return qR({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){var n,i;return rO((n=e.styles)==null?void 0:n.animationDuration)+rO((i=e.styles)==null?void 0:i.animationDelay)+zie}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){var n;(n=e.onExitComplete)==null||n.call(e)},setNode(e,n){e.node=ip(n.node)},setStyles(e,n){const i=n.node.ownerDocument.defaultView||window;e.styles=ip(i.getComputedStyle(n.node))},syncPresence(e,n,{send:i}){var o;if(e.present){i({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&((o=e.node)==null?void 0:o.ownerDocument.visibilityState)==="hidden"){i({type:"UNMOUNT",src:"visibilitychange"});return}const r=wx(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{var a,l;e.unmountAnimationName=r,r==="none"||r===e.prevAnimationName||((a=e.styles)==null?void 0:a.display)==="none"||((l=e.styles)==null?void 0:l.animationDuration)==="0s"?i({type:"UNMOUNT",src:"presence.changed"}):i({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=wx(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,n,{send:i}){const r=e.node;if(!r)return;const s=a=>{var c,u;(((u=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:u[0])??a.target)===r&&(e.prevAnimationName=wx(e.styles))},o=a=>{var u,d;const l=wx(e.styles);(((d=(u=a.composedPath)==null?void 0:u.call(a))==null?void 0:d[0])??a.target)===r&&l===e.unmountAnimationName&&i({type:"UNMOUNT",src:"animationend"})};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",o),r.addEventListener("animationend",o),()=>{r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",o),r.removeEventListener("animationend",o)}}}})}function wx(t){return(t==null?void 0:t.animationName)||"none"}function rO(t){return parseFloat(t||"0")*1e3}var zie=16.667;tn()(["onExitComplete","present","immediate"]);var lW=Die(t=>t),sO=t=>(t==null?void 0:t.constructor.name)==="Array",Bie=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!XR(t[n],e[n]))return!1;return!0},XR=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(sO(t)&&sO(e))return Bie(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<i;r++){const s=n[r];if(!XR(t[s],e[s]))return!1}return!0},Uie=Function.prototype.toString;Uie.call(Object);function cW(t){if(!Vie(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const r=t[i];r!==void 0&&(n[i]=cW(r))}return n}var Vie=t=>t&&typeof t=="object"&&t.constructor===Object;function jie(t,e){const n=L.useRef(!1),i=L.useRef(!1);L.useEffect(()=>{if(n.current&&i.current)return t();i.current=!0},e),L.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var Hie=$R("__zag__targetCache",()=>new WeakMap);function Wie(t,e){const{actions:n,context:i,sync:r}=e??{},s=L.useRef(void 0),o=L.useRef(void 0),a=L.useSyncExternalStore(L.useCallback(d=>JP(t.state,d,r),[r]),()=>{const d=Rc(t.state);try{if(s.current&&o.current&&!YH(s.current,d,o.current,new WeakMap))return s.current}catch{}return d},()=>Rc(t.state));t.setOptions({actions:n});const l=L.useMemo(()=>cW(i??{}),[i]);jie(()=>{const d=Object.entries(l),h=t.contextSnapshot??{};d.map(([y,_])=>({key:y,curr:_,prev:h[y],equal:XR(h[y],_)})).every(({equal:y})=>y)||t.setContext(l)},[l]);const c=new WeakMap;L.useEffect(()=>{s.current=a,o.current=c});const u=L.useMemo(()=>new WeakMap,[]);return XH(a,c,u,Hie)}function Gie(t){const e=L.useRef(void 0);return e.current||(e.current={v:t()}),e.current.v}var $ie=typeof document<"u"?L.useLayoutEffect:L.useEffect;function qie(t,e){const{state:n,context:i}=e??{},r=Gie(()=>{const o=typeof t=="function"?t():t;return i&&o.setContext(i),o._created(),o}),s=L.useRef(void 0);return $ie(()=>{const o=n??s.current;return r.start(o),()=>{r.stop()}},[]),r}function YR(t,e){const n=qie(t,e);return[Wie(n,e),n.send,n]}function gd(t,e={}){const{sync:n=!1}=e,i=Xie(t);return L.useCallback((...r)=>{var s;return n?queueMicrotask(()=>{var o;return(o=i.current)==null?void 0:o.call(i,...r)}):(s=i.current)==null?void 0:s.call(i,...r)},[n,i])}function Xie(t){const e=L.useRef(t);return e.current=t,e}const KR=t=>{const{lazyMount:e,unmountOnExit:n,present:i,...r}=t,s=L.useRef(!1),o={...r,present:i,onExitComplete:gd(t.onExitComplete)},[a,l]=YR(Fie(o),{context:o}),c=Oie(a,l);c.present&&(s.current=!0);const u=!c.present&&!s.current&&e||n&&!c.present&&s.current,d=()=>({"data-state":i?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:d,present:c.present,unmounted:u}},[uW,JR]=Xd({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),Yie=(t,e)=>{var l;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,i]=t.split("/");if(!n||!i||n==="currentBg")return{invalid:!0,value:n};const r=e(`colors.${n}`),s=(l=e.raw(`opacity.${i}`))==null?void 0:l.value;if(!s&&isNaN(Number(i)))return{invalid:!0,value:n};const o=s?Number(s)*100+"%":`${i}%`,a=r??n;return{invalid:!1,color:a,value:`color-mix(in srgb, ${a} ${o}, transparent)`}},dn=t=>(e,n)=>{const i=n.utils.colorMix(e);if(i.invalid)return{[t]:e};const r="--mix-"+t;return{[r]:i.value,[t]:`var(${r}, ${i.color})`}};function ZP(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>ZP(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=ZP(t[n]);return e}function eA(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!Zr(t[n])&&Zr(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&Zr(e[n]))eA(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let i=0;for(;i<e[n].length;i++)Zr(t[n][i])&&Zr(e[n][i])?eA(t[n][i],e[n][i]):t[n][i]=e[n][i]}else Object.assign(t,{[n]:e[n]});return t}function Ap(t,...e){for(const n of e)eA(t,n);return t}const Kie=t=>t,Ti=t=>t,xt=t=>t,Jie=t=>t,Qie=t=>t,dW=t=>t,Zie=t=>t,ere=t=>t,tre=t=>t;function fW(){const t=e=>e;return new Proxy(t,{get(){return t}})}const di=fW(),QR=fW(),hW=t=>t,pW=(...t)=>Ap({},...t.map(ZP)),nre=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function ire(t){return`${t}`.replace(nre,e=>`\\${e}`)}const rre=/[A-Z]/g;function sre(t){return t.replace(rre,e=>`-${e.toLowerCase()}`)}function mW(t,e={}){const{fallback:n="",prefix:i=""}=e,r=sre(["-",i,ire(t)].filter(Boolean).join("-"));return{var:r,ref:`var(${r}${n?`, ${n}`:""})`}}const ore=t=>/^var\(--.+\)$/.test(t),Ri=(t,e)=>e!=null?`${t}(${e})`:e,Mu=t=>{if(ore(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},oO=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const i=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":i,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":i,[t]:{outline:"none"}}}[e]??{}}}),are=dn("borderColor"),Ga=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),lre=Kie({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),yh=mW("bg-currentcolor"),aO=t=>t===yh.ref||t==="currentBg",un=t=>({...t("colors"),currentBg:yh}),cre=hW({conditions:lre,utilities:{background:{values:un,shorthand:["bg"],transform(t,e){if(aO(e.raw))return{background:yh.ref};const n=dn("background")(t,e);return{...n,[yh.var]:n==null?void 0:n.background}}},backgroundColor:{values:un,shorthand:["bgColor"],transform(t,e){if(aO(e.raw))return{backgroundColor:yh.ref};const n=dn("backgroundColor")(t,e);return{...n,[yh.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:un,transform:dn("--gradient-from")},gradientTo:{values:un,transform:dn("--gradient-to")},gradientVia:{values:un,transform(t,e){return{...dn("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values:"gradients",shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:un,transform:dn("borderColor")},borderTopColor:{values:un,transform:dn("borderTopColor")},borderBlockStartColor:{values:un,transform:dn("borderBlockStartColor")},borderBottomColor:{values:un,transform:dn("borderBottomColor")},borderBlockEndColor:{values:un,transform:dn("borderBlockEndColor")},borderLeftColor:{values:un,transform:dn("borderLeftColor")},borderInlineStartColor:{values:un,shorthand:["borderStartColor"],transform:dn("borderInlineStartColor")},borderRightColor:{values:un,transform:dn("borderRightColor")},borderInlineEndColor:{values:un,shorthand:["borderEndColor"],transform:dn("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:un,transform:dn("color")},fill:{values:un,transform:dn("fill")},stroke:{values:un,transform:dn("stroke")},accentColor:{values:un,transform:dn("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:un,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":are(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:un,transform:dn("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":Ri("blur",t)})},brightness:{transform:t=>({"--brightness":Ri("brightness",t)})},contrast:{transform:t=>({"--contrast":Ri("contrast",t)})},grayscale:{transform:t=>({"--grayscale":Ri("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":Ri("hue-rotate",Mu(t))})},invert:{transform:t=>({"--invert":Ri("invert",t)})},saturate:{transform:t=>({"--saturate":Ri("saturate",t)})},sepia:{transform:t=>({"--sepia":Ri("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":Ri("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":Ri("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":Ri("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":Ri("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":Ri("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":Ri("hue-rotate",Mu(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":Ri("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":Ri("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":Ri("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":Ri("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:un,transform:dn("outlineColor")},focusRing:oO("&:is(:focus, [data-focus])"),focusVisibleRing:oO("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:un,transform:dn("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:un,transform:dn("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:un,transform:dn("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:un,transform:dn("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing",shorthand:["mt"]},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:un,transform:dn("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":Mu(t)})},skewY:{transform:t=>({"--skew-y":Mu(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:Mu(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":Mu(t)}}},rotateY:{transform(t){return{"--rotate-y":Mu(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Ga("all");case"position":return Ga("left, right, top, bottom, inset-inline, inset-block");case"colors":return Ga("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Ga("opacity");case"shadow":return Ga("box-shadow");case"transform":return Ga("transform");case"size":return Ga("width, height");case"backgrounds":return Ga("background, background-color, background-image, background-position");case"common":return Ga("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return ure[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:un,transform:dn("caretColor")},cursor:{values:"cursor"}}}),ure={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var dre="",fre=dre.split(","),hre="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",pre=hre.split(",").concat(fre),mre=new Map(pre.map(t=>[t,!0]));function gre(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var vre=/&|@/,yre=gre(t=>mre.has(t)||t.startsWith("--")||vre.test(t));const xre=t=>t!=null;function Pl(t,e,n={}){const{stop:i,getKey:r}=n;function s(o,a=[]){if(Zr(o)||Array.isArray(o)){const l={};for(const[c,u]of Object.entries(o)){const d=(r==null?void 0:r(c,u))??c,h=[...a,d];if(i!=null&&i(o,h))return e(o,a);const m=s(u,h);xre(m)&&(l[d]=m)}return l}return e(o,a)}return s(t)}function gW(t,e){return Array.isArray(t)?t.map(n=>e(n)):Zr(t)?Pl(t,n=>e(n)):t!=null?e(t):t}function _re(t,e){const n={};return Pl(t,(i,r)=>{i&&(n[r.join(".")]=i.value)},{stop:e}),n}const Do=t=>{const e=Object.create(null);function n(...i){const r=JSON.stringify(i);return e[r]===void 0&&(e[r]=t(...i)),e[r]}return n},vW=16,rb="px",ZR="em",Og="rem";function yW(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${rb}|${ZR}|${Og}`),i=t.match(new RegExp(`${e.source}(${n.source})`));return i==null?void 0:i[1]}function xW(t=""){if(typeof t=="number")return`${t}px`;const e=yW(t);if(!e||e===rb)return t;if(e===ZR||e===Og)return`${parseFloat(t)*vW}${rb}`}function _W(t=""){const e=yW(t);if(!e||e===Og)return t;if(e===ZR)return`${parseFloat(t)}${Og}`;if(e===rb)return`${parseFloat(t)/vW}${Og}`}const bre=t=>t.charAt(0).toUpperCase()+t.slice(1);function Sre(t){const e=wre(t),n=Object.fromEntries(e);function i(h){return n[h]}function r(h){return Tf(i(h))}function s(){const h=Object.keys(n),m=Ere(h),g=h.flatMap(y=>{const _=i(y),v=[`${y}Down`,Tf({max:l1(_.min)})],x=[y,Tf({min:_.min})],b=[`${y}Only`,r(y)];return[x,b,v]}).filter(([,y])=>y!=="").concat(m.map(([y,_])=>{const v=i(y),x=i(_);return[`${y}To${bre(_)}`,Tf({min:v.min,max:l1(x.min)})]}));return Object.fromEntries(g)}function o(){const h=s();return Object.fromEntries(Object.entries(h))}const a=o(),l=h=>a[h];function c(){return["base",...Object.keys(n)]}function u(h){return Tf({min:i(h).min})}function d(h){return Tf({max:l1(i(h).min)})}return{values:Object.values(n),only:r,keys:c,conditions:a,getCondition:l,up:u,down:d}}function l1(t){const e=parseFloat(xW(t)??"")-.04;return _W(`${e}px`)}function wre(t){return Object.entries(t).sort(([,n],[,i])=>parseInt(n,10)<parseInt(i,10)?-1:1).map(([n,i],r,s)=>{var a;let o=null;return r<=s.length-1&&(o=(a=s[r+1])==null?void 0:a[1]),o!=null&&(o=l1(o)),[n,{name:n,min:_W(i),max:o}]})}function Ere(t){const e=[];return t.forEach((n,i)=>{let r=i;r++;let s=t[r];for(;s;)e.push([n,s]),r++,s=t[r]}),e}function Tf({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const Tre=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,i])=>e(n,i))),Cre=t=>{const{breakpoints:e,conditions:n={}}=t,i=Tre(n,(u,d)=>[`_${u}`,d]),r=Object.assign({},i,e.conditions);function s(){return Object.keys(r)}function o(u){return s().includes(u)||/^@|&|&$/.test(u)||u.startsWith("_")}function a(u){return u.filter(d=>d!=="base").sort((d,h)=>{const m=o(d),g=o(h);return m&&!g?1:!m&&g?-1:0})}function l(u){return u.startsWith("@breakpoint")?e.getCondition(u.replace("@breakpoint ","")):u}function c(u){return Reflect.get(r,u)||u}return{keys:s,sort:a,has:o,resolve:c,breakpoints:e.keys(),expandAtRule:l}},bW=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),Mre=bW("width"),Pre=bW("height"),SW=t=>({isMin:hO(t.minMax,t.maxMin,t.min),isMax:hO(t.maxMin,t.minMax,t.max)}),{isMin:tA,isMax:lO}=SW(Mre),{isMin:nA,isMax:cO}=SW(Pre),uO=/print/i,dO=/^print$/i,Are=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,Ire=/(\d)/,hg=Number.MAX_VALUE,Rre={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function fO(t){const e=Are.exec(t)||(tA(t)||nA(t)?Ire.exec(t):null);if(!e)return hg;if(e[0]==="0")return 0;const n=parseFloat(e[1]),i=e[2];return n*(Rre[i]||1)}function hO(t,e,n){return i=>t.test(i)||!e.test(i)&&n.test(i)}function kre(t,e){const n=uO.test(t),i=dO.test(t),r=uO.test(e),s=dO.test(e);return n&&r?!i&&s?1:i&&!s?-1:t.localeCompare(e):n?1:r?-1:null}const Nre=Do((t,e)=>{const n=kre(t,e);if(n!==null)return n;const i=tA(t)||nA(t),r=lO(t)||cO(t),s=tA(e)||nA(e),o=lO(e)||cO(e);if(i&&o)return-1;if(r&&s)return 1;const a=fO(t),l=fO(e);return a===hg&&l===hg?t.localeCompare(e):a===hg?1:l===hg?-1:a!==l?a>l?r?-1:1:r?1:-1:t.localeCompare(e)});function pO(t){return t.sort(([e],[n])=>Nre(e,n))}function wW(t){const e=[],n=[],i={};for(const[o,a]of Object.entries(t))o.startsWith("@media")?e.push([o,a]):o.startsWith("@container")?n.push([o,a]):Zr(a)?i[o]=wW(a):i[o]=a;const r=pO(e),s=pO(n);return{...i,...Object.fromEntries(r),...Object.fromEntries(s)}}const EW=/\s*!(important)?/i,Lre=t=>Ia(t)?EW.test(t):!1,Dre=t=>Ia(t)?t.replace(EW,"").trim():t;function TW(t){const{transform:e,conditions:n,normalize:i}=t,r=zre(t);return Do((...s)=>{const o=r(...s),a=i(o),l=Object.create(null);return Pl(a,(c,u)=>{const d=Lre(c);if(c==null)return;const[h,...m]=n.sort(u).map(n.resolve);d&&(c=Dre(c));let g=e(h,c)??Object.create(null);g=Pl(g,y=>Ia(y)&&d?`${y} !important`:y,{getKey:y=>n.expandAtRule(y)}),Ore(l,m.flat(),g)}),wW(l)})}function Ore(t,e,n){let i=t;for(const r of e)r&&(i[r]||(i[r]=Object.create(null)),i=i[r]);Ap(i,n)}function Fre(...t){return t.filter(e=>Zr(e)&&Object.keys(Sy(e)).length>0)}function zre(t){function e(n){const i=Fre(...n);return i.length===1?i:i.map(r=>t.normalize(r))}return Do((...n)=>Ap({},...e(n)))}function CW(t,e=[]){const n=Object.assign({},t);for(const i of e)i in n&&delete n[i];return n}const Bre=(...t)=>{const e=t.filter(Boolean);return Array.from(new Set(e))},MW=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function Ure(t){const{css:e,conditions:n,normalize:i,layers:r}=t;function s(a={}){const{base:l,variants:c,defaultVariants:u,compoundVariants:d}=MW(a),h=TW({conditions:n,normalize:i,transform(x,b){var E;return(E=c[x])==null?void 0:E[b]}}),m=(x={})=>{const b=i({...u,...Sy(x)});let E={...l};Ap(E,h(b));const M=o(d,b);return r.wrap("recipes",e(E,M))},g=Object.keys(c),y=x=>{const b=CW(x,["recipe"]),[E,M]=zh(b,g);return g.includes("colorPalette")||(E.colorPalette=x.colorPalette||u.colorPalette),g.includes("orientation")&&(M.orientation=x.orientation),[E,M]},_=Object.fromEntries(Object.entries(c).map(([x,b])=>[x,Object.keys(b)]));return Object.assign(x=>e(m(x)),{className:a.className,__cva__:!0,variantMap:_,variantKeys:g,raw:m,config:a,splitVariantProps:y,merge(x){return s(Vre(t)(this,x))}})}function o(a,l){let c={};return a.forEach(u=>{Object.entries(u).every(([h,m])=>h==="css"?!0:(Array.isArray(m)?m:[m]).some(y=>l[h]===y))&&(c=e(c,u.css))}),c}return s}function Vre(t){const{css:e}=t;return function(i,r){const s=MW(r.config),o=Bre(i.variantKeys,Object.keys(r.variants)),a=e(i.base,s.base),l=Object.fromEntries(o.map(h=>[h,e(i.config.variants[h],s.variants[h])])),c=Ap(i.config.defaultVariants,s.defaultVariants),u=[...i.compoundVariants,...s.compoundVariants];return{className:Cs(i.className,r.className),base:a,variants:l,defaultVariants:c,compoundVariants:u}}}const jre={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},mO={reset:0,base:1,tokens:2,recipes:3};function Hre(t){const e=t.layers??jre,i=Object.values(e).sort((r,s)=>mO[r]-mO[s]);return{names:i,atRule:`@layer ${i.join(", ")};`,wrap(r,s){return t.disableLayers?s:{[`@layer ${e[r]}`]:s}}}}function Wre(t){const{utility:e,normalize:n}=t,{hasShorthand:i,resolveShorthand:r}=e;return function(s){return Pl(s,n,{stop:o=>Array.isArray(o),getKey:i?r:void 0})}}function Gre(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:i="parent"}=Zr(e)?e:{};let r="";n&&i==="parent"?r=`${n} `:n&&i==="element"&&(r=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(i==="element"){const a=Object.entries(s).reduce((l,[c,u])=>(l[c]={[r]:u},l),{});Object.assign(o,a)}else r?o[r]=s:Object.assign(o,s);return o}function $re(t){const{conditions:e,isValidProperty:n}=t;return function(r){return Pl(r,s=>s,{getKey:(s,o)=>Zr(o)&&!e.has(s)&&!n(s)?qre(s).map(a=>"&"+a).join(", "):s})}}function qre(t){const e=[];let n=0,i="",r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="\\"&&!r){r=!0,i+=o;continue}if(r){r=!1,i+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(i.trim()),i=""):i+=o}return i&&e.push(i.trim()),e}const Xre=(t={})=>{const e=r=>{var s;return{base:((s=t.base)==null?void 0:s[r])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?Yre(t.compoundVariants,r):[]}},i=(t.slots??[]).map(r=>[r,e(r)]);for(const[r,s]of Object.entries(t.variants??{}))for(const[o,a]of Object.entries(s))i.forEach(([l,c])=>{var u;(u=c.variants)[r]??(u[r]={}),c.variants[r][o]=a[l]??{}});return Object.fromEntries(i)},Yre=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function Kre(t){const{cva:e}=t;return function(i={}){const r=Object.entries(Xre(i)).map(([d,h])=>[d,e(h)]);function s(d){const h=r.map(([m,g])=>[m,g(d)]);return Object.fromEntries(h)}const o=i.variants??{},a=Object.keys(o);function l(d){var y;const h=CW(d,["recipe"]),[m,g]=zh(h,a);return a.includes("colorPalette")||(m.colorPalette=d.colorPalette||((y=i.defaultVariants)==null?void 0:y.colorPalette)),a.includes("orientation")&&(g.orientation=d.orientation),[m,g]}const c=Object.fromEntries(Object.entries(o).map(([d,h])=>[d,Object.keys(h)]));let u={};return i.className&&(u=Object.fromEntries(i.slots.map(d=>[d,`${i.className}__${d}`]))),Object.assign(s,{variantMap:c,variantKeys:a,splitVariantProps:l,classNameMap:u})}}const Jre=()=>t=>Array.from(new Set(t)),Qre=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,Zre=function(t,e){return e?t==="\0"?"�":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},PW=t=>(t+"").replace(Qre,Zre),AW=(t,e)=>{let n="",i=0,r="char",s="",o="";const a=[];for(;i<t.length;){const l=t[i];if(l==="{"){const u=t.indexOf("}",i);if(u===-1)break;const d=t.slice(i+1,u),h=e(d);n+=h??d,i=u+1;continue}if(r==="token"&&l===","){t[i]===""&&i++,r="fallback",a.push(r);const u=e(s);u!=null&&u.endsWith(")")&&(n+=u.slice(0,-1)),s="",o="";continue}if(r==="fallback"&&o+l===", var("){const h=ese(t.slice(i+1))+i+1,m=t.slice(i+1,h);if(h===-1)break;n+=", var("+m+")",i=h+1,r=a.pop()??r,o="";continue}if(r==="token"||r==="fallback"){if(i++,l===")"){r=a.pop()??r??"char",o+=l;const u=s&&(e(s)??PW(s));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const h=AW(o,e);h&&(o=h.slice(0,-1))}else if(o){const h=e(o);h&&(o=h)}}const d=n.at(-1);o?d!=null&&d.trim()?n+=u.slice(0,-1)+(", "+o+")"):n+=o:n+=u||")",s="",o="",r="char";continue}r==="token"&&(s+=l),r==="fallback"&&(o+=l);continue}const c=t.indexOf("token(",i);if(c!==-1){const u=c+6;n+=t.slice(i,c),i=u,r="token",a.push(r);continue}n+=l,i++}return n},ese=t=>{let e=0;const n=["("];for(;e<t.length;){const i=t[e];if(i==="(")n.push(i);else if(i===")"&&(n.pop(),n.length===0))return e;e++}return e};function IW(t){const e={};return t.forEach((n,i)=>{n instanceof Map?e[i]=Object.fromEntries(n):e[i]=n}),e}const RW=/({([^}]*)})/g,tse=/[{}]/g,nse=/\w+\.\w+/,kW=t=>{if(!Ia(t))return[];const e=t.match(RW);return e?e.map(n=>n.replace(tse,"")).map(n=>n.trim()):[]},ise=t=>RW.test(t);function NW(t){var n,i,r;if(!((n=t.extensions)!=null&&n.references))return((r=(i=t.extensions)==null?void 0:i.cssVar)==null?void 0:r.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((s,o)=>{const a=e[o];if(a.extensions.conditions)return s;const l=NW(a);return s.replace(`{${o}}`,l)},t.value),delete t.extensions.references,t.value}function LW(t){return Zr(t)&&t.reference?t.reference:String(t)}const ow=(t,...e)=>e.map(LW).join(` ${t} `).replace(/calc/g,""),gO=(...t)=>`calc(${ow("+",...t)})`,vO=(...t)=>`calc(${ow("-",...t)})`,iA=(...t)=>`calc(${ow("*",...t)})`,yO=(...t)=>`calc(${ow("/",...t)})`,xO=t=>{const e=LW(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:iA(e,-1)},ih=Object.assign(t=>({add:(...e)=>ih(gO(t,...e)),subtract:(...e)=>ih(vO(t,...e)),multiply:(...e)=>ih(iA(t,...e)),divide:(...e)=>ih(yO(t,...e)),negate:()=>ih(xO(t)),toString:()=>t.toString()}),{add:gO,subtract:vO,multiply:iA,divide:yO,negate:xO}),rse={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:i,formatTokenName:r,registerToken:s}=t;n.filter(({extensions:a})=>a.category==="spacing").forEach(a=>{const l=a.path.slice(),c=i(l,e);if(Ia(a.value)&&a.value==="0rem")return;const u=structuredClone(a);Object.assign(u.extensions,{negative:!0,prop:`-${a.extensions.prop}`,originalPath:l}),u.value=ih.negate(c.ref);const d=u.path[u.path.length-1];d!=null&&(u.path[u.path.length-1]=`-${d}`),u.path&&(u.name=r(u.path)),s(u)})}},sse=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),ose={enforce:"post",transform(t){t.allTokens.filter(n=>sse.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:xW(n.value)})})}},ase={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:i}=t,r=e.filter(({extensions:a})=>a.category==="colors"),s=new Map,o=new Map;r.forEach(a=>{const{colorPalette:l}=a.extensions;l&&(l.keys.forEach(c=>{s.set(i(c),c)}),l.roots.forEach(c=>{var h;const u=i(c),d=o.get(u)||[];if(d.push(a),o.set(u,d),a.extensions.default&&c.length===1){const m=(h=l.keys[0])==null?void 0:h.filter(Boolean);if(!m.length)return;const g=c.concat(m);s.set(i(g),[])}}))}),s.forEach(a=>{const l=["colors","colorPalette",...a].filter(Boolean),c=i(l),u=i(l.slice(1));n({name:c,value:c,originalValue:c,path:l,extensions:{condition:"base",originalPath:l,category:"colors",prop:u,virtual:!0}},"pre")})}},lse={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},cse=[rse,ase,ose,lse],use={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:i}=e,{negative:r,originalPath:s}=t.extensions,o=r?s:t.path;return{cssVar:i(o.filter(Boolean),n)}}},dse={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:i}=e,r=kW(t.value);return r.length&&r.forEach(s=>{const o=i(s.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},fse={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const a=[...t.path];a.shift(),n=a}if(n.length===0)return{};const i=n.reduce((a,l,c,u)=>{const d=u.slice(0,c+1);return a.push(d),a},[]),r=n[0],s=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(r)+1).reduce((a,l,c,u)=>(a.push(u.slice(c)),a),[]);return o.length===0&&o.push([""]),{colorPalette:{value:s,roots:i,keys:o}}}},hse=[use,dse,fse],_O=t=>Zr(t)&&Object.prototype.hasOwnProperty.call(t,"value");function pse(t){return t?{breakpoints:gW(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function mse(t){const{prefix:e="",tokens:n={},semanticTokens:i={},breakpoints:r={}}=t,s=ue=>ue.join("."),o=(ue,fe)=>mW(ue.join("-"),{prefix:fe}),a=[],l=new Map,c=new Map,u=new Map,d=new Map,h=new Map,m=new Map,g=new Map,y=new Map,_=[];function v(ue,fe){a.push(ue),l.set(ue.name,ue),fe&&y.forEach(Ie=>{Ie.enforce===fe&&$(Ie,ue)})}const x=pse(r),b=Sy({...n,breakpoints:x.breakpoints,sizes:{...n.sizes,...x.sizes}});function E(){Pl(b,(ue,fe)=>{const Ie=fe.includes("DEFAULT");fe=bO(fe);const Ge=fe[0],H=s(fe),ve=Ia(ue)?{value:ue}:ue,we={value:ve.value,originalValue:ve.value,name:H,path:fe,extensions:{condition:"base",originalPath:fe,category:Ge,prop:s(fe.slice(1))}};Ie&&(we.extensions.default=!0),v(we)},{stop:_O}),Pl(i,(ue,fe)=>{const Ie=fe.includes("DEFAULT");fe=DW(bO(fe));const Ge=fe[0],H=s(fe),ve=Ia(ue.value)?{value:{base:ue.value}}:ue,we={value:ve.value.base||"",originalValue:ve.value.base||"",name:H,path:fe,extensions:{originalPath:fe,category:Ge,conditions:ve.value,condition:"base",prop:s(fe.slice(1))}};Ie&&(we.extensions.default=!0),v(we)},{stop:_O})}function M(ue){return l.get(ue)}function C(ue){const{condition:fe}=ue.extensions;fe&&(c.has(fe)||c.set(fe,new Set),c.get(fe).add(ue))}function R(ue){const{category:fe,prop:Ie}=ue.extensions;fe&&(g.has(fe)||g.set(fe,new Map),g.get(fe).set(Ie,ue))}function k(ue){const{condition:fe,negative:Ie,virtual:Ge,cssVar:H}=ue.extensions;Ie||Ge||!fe||!H||(u.has(fe)||u.set(fe,new Map),u.get(fe).set(H.var,ue.value))}function I(ue){const{category:fe,prop:Ie,cssVar:Ge,negative:H}=ue.extensions;if(!fe)return;m.has(fe)||m.set(fe,new Map);const ve=H?ue.extensions.conditions?ue.originalValue:ue.value:Ge.ref;m.get(fe).set(Ie,ve),h.set([fe,Ie].join("."),ve)}function P(ue){const{colorPalette:fe,virtual:Ie,default:Ge}=ue.extensions;!fe||Ie||fe.roots.forEach(H=>{var Fe;const ve=s(H);d.has(ve)||d.set(ve,new Map);const we=vse([...ue.path],[...H]),Oe=s(we),me=M(Oe);if(!me||!me.extensions.cssVar)return;const{var:ot}=me.extensions.cssVar;if(d.get(ve).set(ot,ue.extensions.cssVar.ref),Ge&&H.length===1){const qe=s(["colors","colorPalette"]),Y=M(qe);if(!Y)return;const F=s(ue.path),se=M(F);if(!se)return;const xe=(Fe=fe.keys[0])==null?void 0:Fe.filter(Boolean);if(!xe.length)return;const ge=s(H.concat(xe));d.has(ge)||d.set(ge,new Map),d.get(ge).set(Y.extensions.cssVar.var,se.extensions.cssVar.ref)}})}let O={};function z(){a.forEach(ue=>{C(ue),R(ue),k(ue),I(ue),P(ue)}),O=IW(m)}const U=(ue,fe)=>{var me;if(!ue||typeof ue!="string")return{invalid:!0,value:ue};const[Ie,Ge]=ue.split("/");if(!Ie||!Ge)return{invalid:!0,value:Ie};const H=fe(Ie),ve=(me=M(`opacity.${Ge}`))==null?void 0:me.value;if(!ve&&isNaN(Number(Ge)))return{invalid:!0,value:Ie};const we=ve?Number(ve)*100+"%":`${Ge}%`,Oe=H??Ie;return{invalid:!1,color:Oe,value:`color-mix(in srgb, ${Oe} ${we}, transparent)`}},X=Do((ue,fe)=>h.get(ue)??fe),W=Do(ue=>O[ue]||null),K=Do(ue=>AW(ue,fe=>{if(!fe)return;if(fe.includes("/")){const Ge=U(fe,H=>X(H));if(Ge.invalid)throw new Error("Invalid color mix at "+fe+": "+Ge.value);return Ge.value}const Ie=X(fe);return Ie||(nse.test(fe)?PW(fe):fe)})),j={prefix:e,allTokens:a,tokenMap:l,registerToken:v,getByName:M,formatTokenName:s,formatCssVar:o,flatMap:h,cssVarMap:u,categoryMap:g,colorPaletteMap:d,getVar:X,getCategoryValues:W,expandReferenceInValue:K};function D(...ue){ue.forEach(fe=>{y.set(fe.name,fe)})}function B(...ue){_.push(...ue)}function $(ue,fe){if(fe.extensions.references||AH(ue.match)&&!ue.match(fe))return;const Ge=(H=>ue.transform(H,j))(fe);switch(!0){case ue.type==="extensions":Object.assign(fe.extensions,Ge);break;case ue.type==="value":fe.value=Ge;break;default:fe[ue.type]=Ge;break}}function J(ue){_.forEach(fe=>{fe.enforce===ue&&fe.transform(j)})}function ce(ue){y.forEach(fe=>{fe.enforce===ue&&a.forEach(Ie=>{$(fe,Ie)})})}function Ne(){a.forEach(ue=>{const fe=gse(ue);!fe||fe.length===0||fe.forEach(Ie=>{v(Ie)})})}function ie(ue){return kW(ue).map(Ie=>M(Ie)).filter(Boolean)}function pe(){a.forEach(ue=>{if(!ise(ue.value))return;const fe=ie(ue.value);ue.extensions.references=fe.reduce((Ie,Ge)=>(Ie[Ge.name]=Ge,Ie),{})})}function Ee(){a.forEach(ue=>{NW(ue)})}function Te(){J("pre"),ce("pre"),Ne(),pe(),Ee(),J("post"),ce("post"),z()}return E(),D(...hse),B(...cse),Te(),j}function bO(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function DW(t){return t.filter(e=>e!=="base")}function gse(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return Pl(e,(i,r)=>{const s=DW(r);if(!s.length)return;const o=structuredClone(t);o.value=i,o.extensions.condition=s.join(":"),n.push(o)}),n}function vse(t,e){const n=t.findIndex((i,r)=>e.every((s,o)=>t[r+o]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}Jre()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function yse(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function xse(t){const e=yse(t.config),n=t.tokens,i=new Map,r=new Map;function s(k,I){e[k]=I,o(k,I)}const o=(k,I)=>{const P=y(I);P&&(r.set(k,P),d(k,I))},a=()=>{for(const[k,I]of Object.entries(e))I&&o(k,I)},l=()=>{for(const[k,I]of Object.entries(e)){const{shorthand:P}=I??{};if(!P)continue;(Array.isArray(P)?P:[P]).forEach(z=>i.set(z,k))}},c=()=>{const k=IW(n.colorPaletteMap);s("colorPalette",{values:Object.keys(k),transform:Do(I=>k[I])})},u=new Map,d=(k,I)=>{if(!I)return;const P=y(I,z=>`type:Tokens["${z}"]`);if(typeof P=="object"&&P.type){u.set(k,new Set([`type:${P.type}`]));return}if(P){const z=new Set(Object.keys(P));u.set(k,z)}const O=u.get(k)??new Set;I.property&&u.set(k,O.add(`CssProperties["${I.property}"]`))},h=()=>{for(const[k,I]of Object.entries(e))I&&d(k,I)},m=(k,I)=>{const P=u.get(k)??new Set;u.set(k,new Set([...P,...I]))},g=()=>{const k=new Map;for(const[I,P]of u.entries()){if(P.size===0){k.set(I,["string"]);continue}const O=Array.from(P).map(z=>z.startsWith("CssProperties")?z:z.startsWith("type:")?z.replace("type:",""):JSON.stringify(z));k.set(I,O)}return k},y=(k,I)=>{const{values:P}=k,O=z=>{const U=I==null?void 0:I(z);return U?{[U]:U}:void 0};return Ia(P)?(O==null?void 0:O(P))??n.getCategoryValues(P)??{}:Array.isArray(P)?P.reduce((z,U)=>(z[U]=U,z),{}):AH(P)?P(I?O:n.getCategoryValues):P},_=Do((k,I)=>({[k]:k.startsWith("--")?n.getVar(I,I):I})),v=Object.assign(n.getVar,{raw:k=>n.getByName(k)}),x=Do((k,I)=>{var X;const P=M(k);Ia(I)&&!I.includes("_EMO_")&&(I=n.expandReferenceInValue(I));const O=e[P];if(!O)return _(P,I);const z=(X=r.get(P))==null?void 0:X[I];if(!O.transform)return _(k,z??I);const U=W=>Yie(W,v);return O.transform(z??I,{raw:I,token:v,utils:{colorMix:U}})});function b(){l(),c(),a(),h()}b();const E=i.size>0,M=Do(k=>i.get(k)??k);return{keys:()=>[...Array.from(i.keys()),...Object.keys(e)],hasShorthand:E,transform:x,shorthands:i,resolveShorthand:M,register:s,getTypes:g,addPropertyType:m}}function _se(...t){const e=pW(...t),{theme:n={},utilities:i={},globalCss:r={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:a}=e,l=Hre(e),c=mse({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),u=Sre(n.breakpoints??{}),d=Cre({conditions:e.conditions??{},breakpoints:u}),h=xse({config:i,tokens:c});function m(){const{textStyles:D,layerStyles:B,animationStyles:$}=n,J=Sy({textStyle:D,layerStyle:B,animationStyle:$});for(const[ce,Ne]of Object.entries(J)){const ie=_re(Ne??{},pe=>Zr(pe)&&"value"in pe);h.register(ce,{values:Object.keys(ie),transform(pe){return b(ie[pe])}})}}m(),h.addPropertyType("animationName",Object.keys(n.keyframes??{}));const g=new Set(["css",...h.keys(),...d.keys()]),y=Do(D=>g.has(D)||yre(D)),_=D=>Array.isArray(D)?D.reduce((B,$,J)=>{const ce=d.breakpoints[J];return $!=null&&(B[ce]=$),B},{}):D,v=Wre({utility:h,normalize:_}),x=$re({conditions:d,isValidProperty:y}),b=TW({transform:h.transform,conditions:d,normalize:v}),E=Ure({css:b,conditions:d,normalize:v,layers:l}),M=Kre({cva:E});function C(){const D={};for(const[B,$]of c.cssVarMap.entries()){const J=Object.fromEntries($);if(Object.keys(J).length===0)continue;const ce=B==="base"?s:d.resolve(B),Ne=b(x({[ce]:J}));Ap(D,Ne)}return l.wrap("tokens",D)}function R(){const D=Object.fromEntries(Object.entries(n.keyframes??{}).map(([$,J])=>[`@keyframes ${$}`,J])),B=Object.assign({},D,b(x(r)));return l.wrap("base",B)}function k(D){return zh(D,y)}function I(){const D=Gre({preflight:a});return l.wrap("reset",D)}const P=bse(c),O=(D,B)=>{var $;return(($=P.get(D))==null?void 0:$.value)||B};O.var=(D,B)=>{var $;return(($=P.get(D))==null?void 0:$.variable)||B};function z(D,B){var $;return(($=n.recipes)==null?void 0:$[D])??B}function U(D,B){var $;return(($=n.slotRecipes)==null?void 0:$[D])??B}function X(D){return Object.hasOwnProperty.call(n.recipes??{},D)}function W(D){return Object.hasOwnProperty.call(n.slotRecipes??{},D)}function K(D){return X(D)||W(D)}const j=[I(),R(),C()];return{$$chakra:!0,_config:e,_global:j,breakpoints:u,tokens:c,conditions:d,utility:h,token:O,properties:g,layers:l,isValidProperty:y,splitCssProps:k,normalizeValue:_,getTokenCss:C,getGlobalCss:R,getPreflightCss:I,css:b,cva:E,sva:M,getRecipe:z,getSlotRecipe:U,hasRecipe:K,isRecipe:X,isSlotRecipe:W}}function bse(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:i,virtual:r,conditions:s}=n.extensions,o=s||r?i.ref:n.value;e.set(n.name,{value:o,variable:i.ref})}),e}const Sse={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},sC="var(--chakra-empty,/*!*/ /*!*/)",wse=Qie({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":sC,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,sC])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,sC])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),Ese=tre({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),Tse=ere({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),e2=Ti({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),Cse=Ti({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),Xi=Ti({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:Mse,defaultVariants:Pse}=e2,Ase=Ti({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:Mse,defaultVariants:Pse}),OW=Ti({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),Ise=Ti({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),Rse=Ti({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),kse=Ti({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),oi=Ti({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Nse=Ti({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:oi.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),Lse=Ti({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),Dse=Ti({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),Ose=Ti({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),Yi=Ti({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),Fse=Ti({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),zse=Ti({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),Bse=Ti({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),Use=Ti({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),Vse=Ti({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),jse={badge:e2,button:Cse,code:Ase,container:Ise,heading:Rse,input:oi,inputAddon:Nse,kbd:Lse,link:Dse,mark:Ose,separator:Fse,skeleton:zse,skipNavLink:Bse,spinner:Use,textarea:Vse,icon:kse,checkmark:Xi,radiomark:Yi,colorSwatch:OW},Hse=QR.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),Wse=QR.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),Gse=QR.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}});var bt=(t,e=[])=>({parts:(...n)=>{if($se(e))return bt(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>bt(t,[...e,...n]),rename:n=>bt(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${Cf(t)}"][data-part="${Cf(i)}"]`,`& [data-scope="${Cf(t)}"][data-part="${Cf(i)}"]`].join(", "),attrs:{"data-scope":Cf(t),"data-part":Cf(i)}}}),{})}),Cf=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),$se=t=>t.length===0,FW=bt("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");FW.build();var ia=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`accordion:${t.id}:item:${e}`},getItemContentId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,e))??`accordion:${t.id}:content:${e}`},getItemTriggerId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,e))??`accordion:${t.id}:trigger:${e}`},getRootEl:t=>ia.getById(t,ia.getRootId(t)),getTriggerEls:t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(ia.getRootId(t))}']:not([disabled])`;return ul(ia.getRootEl(t),n)},getFirstTriggerEl:t=>KH(ia.getTriggerEls(t)),getLastTriggerEl:t=>JH(ia.getTriggerEls(t)),getNextTriggerEl:(t,e)=>FH(ia.getTriggerEls(t),ia.getItemTriggerId(t,e)),getPrevTriggerEl:(t,e)=>zH(ia.getTriggerEls(t),ia.getItemTriggerId(t,e))});tn()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);tn()(["value","disabled"]);var zW=bt("collapsible").parts("root","trigger","content");zW.build();var Mf=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`collapsible:${t.id}`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`collapsible:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`collapsible:${t.id}:trigger`},getRootEl:t=>Mf.getById(t,Mf.getRootId(t)),getContentEl:t=>Mf.getById(t,Mf.getContentId(t)),getTriggerEl:t=>Mf.getById(t,Mf.getTriggerId(t))});tn()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const[nDe,t2]=Xd({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function qse(t){const e={each(n){var i;for(let r=0;r<((i=t.frames)==null?void 0:i.length);r+=1){const s=t.frames[r];s&&n(s)}},addEventListener(n,i,r){return e.each(s=>{try{s.document.addEventListener(n,i,r)}catch{}}),()=>{try{e.removeEventListener(n,i,r)}catch{}}},removeEventListener(n,i,r){e.each(s=>{try{s.document.removeEventListener(n,i,r)}catch{}})}};return e}function Xse(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,i,r)=>{try{e==null||e.addEventListener(n,i,r)}catch{}return()=>{try{e==null||e.removeEventListener(n,i,r)}catch{}}},removeEventListener:(n,i,r)=>{try{e==null||e.removeEventListener(n,i,r)}catch{}}}}var SO="pointerdown.outside",wO="focus.outside";function Yse(t){for(const e of t)if(Sr(e)&&jc(e))return!0;return!1}var BW=t=>"clientY"in t;function Kse(t,e){if(!BW(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function Jse(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function EO(t,e){if(!e||!BW(t))return!1;const n=e.scrollHeight>e.clientHeight,i=n&&t.clientX>e.offsetLeft+e.clientWidth,r=e.scrollWidth>e.clientWidth,s=r&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(r?16:0)},a={x:t.clientX,y:t.clientY};return Jse(o,a)?i||s:!1}function Qse(t,e){const{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:o}=e;if(!t)return;const a=Bl(t),l=lu(t),c=qse(l),u=Xse(l);function d(v){const x=Ic(v);if(!Sr(x)||!x.isConnected||tb(t,x)||Kse(t,v))return!1;const b=a.querySelector(`[aria-controls="${t.id}"]`);if(b){const M=GP(b);if(EO(v,M))return!1}const E=GP(t);return EO(v,E)?!1:!(n!=null&&n(x))}const h=new Set;function m(v){function x(){var M;const b=o?Ra:C=>C(),E=((M=v.composedPath)==null?void 0:M.call(v))??[v.target];b(()=>{if(!(!t||!d(v))){if(r||s){const C=nb(r,s);t.addEventListener(SO,C,{once:!0})}TO(t,SO,{bubbles:!1,cancelable:!0,detail:{originalEvent:v,contextmenu:Zte(v),focusable:Yse(E)}})}})}v.pointerType==="touch"?(h.forEach(b=>b()),h.add(kr(a,"click",x,{once:!0})),h.add(u.addEventListener("click",x,{once:!0})),h.add(c.addEventListener("click",x,{once:!0}))):x()}const g=new Set,y=setTimeout(()=>{g.add(kr(a,"pointerdown",m,!0)),g.add(u.addEventListener("pointerdown",m,!0)),g.add(c.addEventListener("pointerdown",m,!0))},0);function _(v){(o?Ra:b=>b())(()=>{if(!(!t||!d(v))){if(i||s){const b=nb(i,s);t.addEventListener(wO,b,{once:!0})}TO(t,wO,{bubbles:!1,cancelable:!0,detail:{originalEvent:v,contextmenu:!1,focusable:jc(Ic(v))}})}})}return g.add(kr(a,"focusin",_,!0)),g.add(u.addEventListener("focusin",_,!0)),g.add(c.addEventListener("focusin",_,!0)),()=>{clearTimeout(y),h.forEach(v=>v()),g.forEach(v=>v())}}function Zse(t,e){const{defer:n}=e,i=n?Ra:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(Qse(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function TO(t,e,n){const i=t.ownerDocument.defaultView||window,r=new i.CustomEvent(e,n);return t.dispatchEvent(r)}function eoe(t,e){const n=i=>{i.key==="Escape"&&(i.isComposing||e==null||e(i))};return kr(Bl(t),"keydown",n,{capture:!0})}var Po={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var i;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>tb(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>tb(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(i=>i.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},CO;function MO(){Po.layers.forEach(({node:t})=>{t.style.pointerEvents=Po.isBelowPointerBlockingLayer(t)?"none":"auto"})}function toe(t){t.style.pointerEvents=""}function noe(t,e){const n=Bl(t),i=[];if(Po.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(CO=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const r=Nne(e,s=>{i.push(Mne(s,{pointerEvents:"auto"}))});i.push(r)}return()=>{Po.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=CO,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function ioe(t,e){if(!t){o1("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:n,pointerBlocking:i,exclude:r,debug:s}=e,o={dismiss:n,node:t,pointerBlocking:i};Po.add(o),MO();function a(h){var g,y;const m=Ic(h.detail.originalEvent);Po.isBelowPointerBlockingLayer(t)||Po.isInBranch(m)||((g=e.onPointerDownOutside)==null||g.call(e,h),(y=e.onInteractOutside)==null||y.call(e,h),!h.defaultPrevented&&(s&&console.log("onPointerDownOutside:",h.detail.originalEvent),n==null||n()))}function l(h){var g,y;const m=Ic(h.detail.originalEvent);Po.isInBranch(m)||((g=e.onFocusOutside)==null||g.call(e,h),(y=e.onInteractOutside)==null||y.call(e,h),!h.defaultPrevented&&(s&&console.log("onFocusOutside:",h.detail.originalEvent),n==null||n()))}function c(h){var m;Po.isTopMost(t)&&((m=e.onEscapeKeyDown)==null||m.call(e,h),!h.defaultPrevented&&n&&(h.preventDefault(),n()))}function u(h){var _;if(!t)return!1;const m=typeof r=="function"?r():r,g=Array.isArray(m)?m:[m],y=(_=e.persistentElements)==null?void 0:_.map(v=>v()).filter(Sr);return y&&g.push(...y),g.some(v=>tb(v,h))||Po.isInNestedLayer(t,h)}const d=[i?noe(t,e.persistentElements):void 0,eoe(t,c),Zse(t,{exclude:u,onFocusOutside:l,onPointerDownOutside:a,defer:e.defer})];return()=>{Po.remove(t),MO(),toe(t),d.forEach(h=>h==null?void 0:h())}}function roe(t,e){const{defer:n}=e,i=n?Ra:s=>s(),r=[];return r.push(i(()=>{const s=Pv(t)?t():t;r.push(ioe(s,e))})),()=>{i(()=>{r.forEach(s=>s==null?void 0:s())})}}var UW=bt("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);UW.build();var vn=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`color-picker:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`color-picker:${t.id}:label`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},getFormatSelectId:t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},getAreaId:t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},getAreaGradientId:t=>{var e;return((e=t.ids)==null?void 0:e.areaGradient)??`color-picker:${t.id}:area-gradient`},getAreaThumbId:t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},getChannelSliderTrackId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:i.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},getChannelSliderThumbId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:i.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},getContentEl:t=>vn.getById(t,vn.getContentId(t)),getAreaThumbEl:t=>vn.getById(t,vn.getAreaThumbId(t)),getChannelSliderThumbEl:(t,e)=>vn.getById(t,vn.getChannelSliderThumbId(t,e)),getChannelInputEl:(t,e)=>{const n=`input[data-channel="${e}"]`;return[...ul(vn.getContentEl(t),n),...ul(vn.getControlEl(t),n)]},getFormatSelectEl:t=>vn.getById(t,vn.getFormatSelectId(t)),getHiddenInputEl:t=>vn.getById(t,vn.getHiddenInputId(t)),getAreaEl:t=>vn.getById(t,vn.getAreaId(t)),getAreaValueFromPoint(t,e){const n=vn.getAreaEl(t);if(!n)return;const{percent:i}=$P(e,n);return i},getControlEl:t=>vn.getById(t,vn.getControlId(t)),getTriggerEl:t=>vn.getById(t,vn.getTriggerId(t)),getPositionerEl:t=>vn.getById(t,vn.getPositionerId(t)),getChannelSliderTrackEl:(t,e)=>vn.getById(t,vn.getChannelSliderTrackId(t,e)),getChannelSliderValueFromPoint(t,e,n){const i=vn.getChannelSliderTrackEl(t,n);if(!i)return;const{percent:r}=$P(e,i);return r},getChannelInputEls:t=>[...ul(vn.getContentEl(t),"input[data-channel]"),...ul(vn.getControlEl(t),"input[data-channel]")]});const[VW,soe]=Xd({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),jW=t=>sw()(t,["lazyMount","unmountOnExit"]),[HW,cu]=Xd({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),WW=L.forwardRef((t,e)=>{const n=cu(),i=soe(),r=KR({...i,present:n.open}),s=Ei(n.getBackdropProps(),r.getPresenceProps(),t);return r.unmounted?null:w.jsx(wr.div,{...s,ref:WR(r.ref,e)})});WW.displayName="DialogBackdrop";const GW=L.forwardRef((t,e)=>{const n=cu(),i=Ei(n.getCloseTriggerProps(),t);return w.jsx(wr.button,{...i,ref:e})});GW.displayName="DialogCloseTrigger";const $W=L.forwardRef((t,e)=>{const n=cu(),i=JR(),r=Ei(n.getContentProps(),i.getPresenceProps(),t);return i.unmounted?null:w.jsx(wr.div,{...r,ref:WR(i.ref,e)})});$W.displayName="DialogContent";const qW=L.forwardRef((t,e)=>{const n=cu(),i=Ei(n.getDescriptionProps(),t);return w.jsx(wr.div,{...i,ref:e})});qW.displayName="DialogDescription";const XW=L.forwardRef((t,e)=>{const n=cu(),i=Ei(n.getPositionerProps(),t);return JR().unmounted?null:w.jsx(wr.div,{...i,ref:e})});XW.displayName="DialogPositioner";var Pf=new WeakMap,Ex=new WeakMap,Tx={},oC=0,YW=t=>t&&(t.host||YW(t.parentNode)),ooe=(t,e)=>e.map(n=>{if(t.contains(n))return n;const i=YW(n);return i&&t.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),aoe=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),loe=(t,e)=>{const{parentNode:n,markerName:i,controlAttribute:r}=e,s=ooe(n,Array.isArray(t)?t:[t]);Tx[i]||(Tx[i]=new WeakMap);const o=Tx[i],a=[],l=new Set,c=new Set(s),u=h=>{!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);const d=h=>{!h||c.has(h)||Array.prototype.forEach.call(h.children,m=>{if(l.has(m))d(m);else try{if(aoe(m))return;const g=m.getAttribute(r),y=g!==null&&g!=="false",_=(Pf.get(m)||0)+1,v=(o.get(m)||0)+1;Pf.set(m,_),o.set(m,v),a.push(m),_===1&&y&&Ex.set(m,!0),v===1&&m.setAttribute(i,""),y||m.setAttribute(r,"")}catch(g){console.error("[zag-js > ariaHidden] cannot operate on ",m,g)}})};return d(n),l.clear(),oC++,()=>{a.forEach(h=>{const m=Pf.get(h)-1,g=o.get(h)-1;Pf.set(h,m),o.set(h,g),m||(Ex.has(h)||h.removeAttribute(r),Ex.delete(h)),g||h.removeAttribute(i)}),oC--,oC||(Pf=new WeakMap,Pf=new WeakMap,Ex=new WeakMap,Tx={})}},coe=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,uoe=(t,e=coe(t),n="data-aria-hidden")=>{if(e)return loe(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},doe=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function foe(t,e={}){const{defer:n=!0}=e,i=n?doe:s=>s(),r=[];return r.push(i(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&r.push(uoe(o))})),()=>{r.forEach(s=>s==null?void 0:s())}}var hoe=Object.defineProperty,poe=(t,e,n)=>e in t?hoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ln=(t,e,n)=>poe(t,typeof e!="symbol"?e+"":e,n),PO={activateTrap(t,e){if(t.length>0){const i=t[t.length-1];i!==e&&i.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},moe=[],goe=class{constructor(t,e){Ln(this,"trapStack"),Ln(this,"config"),Ln(this,"doc"),Ln(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Ln(this,"listenerCleanups",[]),Ln(this,"handleFocus",i=>{const r=Ic(i),s=this.findContainerIndex(r,i)>=0;if(s||FR(r))s&&(this.state.mostRecentlyFocusedNode=r);else{i.stopImmediatePropagation();let o,a=!0;if(this.state.mostRecentlyFocusedNode)if(Tm(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){const u=c.findIndex(d=>d===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<c.length&&(o=c[u+1],a=!1):u-1>=0&&(o=c[u-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>Tm(c)>0))||(a=!1);else a=!1;a&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Ln(this,"handlePointerDown",i=>{const r=Ic(i);if(!(this.findContainerIndex(r,i)>=0)){if(Pm(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}Pm(this.config.allowOutsideClick,i)||i.preventDefault()}}),Ln(this,"handleClick",i=>{const r=Ic(i);this.findContainerIndex(r,i)>=0||Pm(this.config.clickOutsideDeactivates,i)||Pm(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),Ln(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;const r=this.config.isKeyBackward(i),s=this.findNextNavNode({event:i,isBackward:r});if(!s)return;Mm(i)&&i.preventDefault(),this.tryFocus(s)}}),Ln(this,"handleEscapeKey",i=>{voe(i)&&Pm(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),Ln(this,"_mutationObserver"),Ln(this,"setupMutationObserver",()=>{const i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(r=>{r.some(o=>Array.from(o.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Ln(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(r=>{var s;(s=this._mutationObserver)==null||s.observe(r,{subtree:!0,childList:!0})})}),Ln(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!jc(i))if(this.findContainerIndex(this.doc.activeElement)>=0)i=this.doc.activeElement;else{const r=this.state.tabbableGroups[0];i=r&&r.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),Ln(this,"tryFocus",i=>{if(i!==!1&&i!==RH(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,yoe(i)&&i.select()}}),Ln(this,"deactivate",i=>{if(!this.state.active)return this;const r={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...i};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),PO.deactivateTrap(this.trapStack,this);const s=this.getOption(r,"onDeactivate"),o=this.getOption(r,"onPostDeactivate"),a=this.getOption(r,"checkCanReturnFocus"),l=this.getOption(r,"returnFocus","returnFocusOnDeactivate");s==null||s();const c=()=>{AO(()=>{if(l){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}o==null||o()})};if(l&&a){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(u).then(c,c),this}return c(),this}),Ln(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;const r=this.getOption(i,"onPause"),s=this.getOption(i,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),Ln(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;const r=this.getOption(i,"onUnpause"),s=this.getOption(i,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),Ln(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Ln(this,"getReturnFocusNode",i=>{const r=this.getNodeForOption("setReturnFocus",{params:[i]});return r||(r===!1?!1:i)}),Ln(this,"getOption",(i,r,s)=>i&&i[r]!==void 0?i[r]:this.config[s||r]),Ln(this,"getNodeForOption",(i,{hasFallback:r=!1,params:s=[]}={})=>{let o=this.config[i];if(typeof o=="function"&&(o=o(...s)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let a=o;if(typeof o=="string"){try{a=this.doc.querySelector(o)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!r)throw new Error(`\`${i}\` as selector refers to no known node`)}return a}),Ln(this,"findNextNavNode",i=>{const{event:r,isBackward:s=!1}=i,o=i.target||Ic(r);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(o,r),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:d})=>o===d);if(u<0&&((c==null?void 0:c.container)===o||jc(o)&&!qu(o)&&!(c!=null&&c.nextTabbableNode(o,!1)))&&(u=l),u>=0){const d=u===0?this.state.tabbableGroups.length-1:u-1,h=this.state.tabbableGroups[d];a=Tm(o)>=0?h.lastTabbableNode:h.lastDomTabbableNode}else Mm(r)||(a=c==null?void 0:c.nextTabbableNode(o,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:d})=>o===d);if(u<0&&((c==null?void 0:c.container)===o||jc(o)&&!qu(o)&&!(c!=null&&c.nextTabbableNode(o)))&&(u=l),u>=0){const d=u===this.state.tabbableGroups.length-1?0:u+1,h=this.state.tabbableGroups[d];a=Tm(o)>=0?h.firstTabbableNode:h.firstDomTabbableNode}else Mm(r)||(a=c==null?void 0:c.nextTabbableNode(o))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=e.trapStack||moe;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(i){return Mm(i)&&!i.shiftKey},isKeyBackward(i){return Mm(i)&&i.shiftKey},...e};this.doc=n.document||Bl(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:r})=>i.contains(t)||(n==null?void 0:n.includes(i))||r.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=OH(t),n=VR(t),i=e.length>0?e[0]:void 0,r=e.length>0?e[e.length-1]:void 0,s=n.find(c=>qu(c)),o=n.slice().reverse().find(c=>qu(c)),a=!!e.find(c=>Tm(c)>0);function l(c,u=!0){const d=e.indexOf(c);return d<0?u?n.slice(n.indexOf(c)+1).find(h=>qu(h)):n.slice(0,n.indexOf(c)).reverse().find(h=>qu(h)):e[d+(u?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:i,lastTabbableNode:r,firstDomTabbableNode:s,lastDomTabbableNode:o,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return PO.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?AO(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(kr(this.doc,"focusin",this.handleFocus,!0),kr(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),kr(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),kr(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),kr(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),kr(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),i=this.getOption(t,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const r=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return i?(i(this.state.containers.concat()).then(r,r),this):(r(),this)}},Mm=t=>t.key==="Tab",Pm=(t,...e)=>typeof t=="function"?t(...e):t,voe=t=>!t.isComposing&&t.key==="Escape",AO=t=>setTimeout(t,0),yoe=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function xoe(t,e={}){let n;const i=Ra(()=>{const r=typeof t=="function"?t():t;if(r){n=new goe(r,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:r,...e,document:Bl(r)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),i()}}var aC="data-scroll-lock";function IO(t,e){if(!t)return;const n=Object.keys(e).reduce((i,r)=>(i[r]=t.style.getPropertyValue(r),i),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n)}}function _oe(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function boe(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Soe(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:r}=e;if(r.hasAttribute(aC))return;r.setAttribute(aC,"");const o=n.innerWidth-i.clientWidth,a=()=>_oe(i,"--scrollbar-width",`${o}px`),l=boe(i),c=()=>IO(r,{overflow:"hidden",[l]:`${o}px`}),u=()=>{const{scrollX:h,scrollY:m,visualViewport:g}=n,y=(g==null?void 0:g.offsetLeft)??0,_=(g==null?void 0:g.offsetTop)??0,v=IO(r,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(_))}px`,left:`${-(h-Math.floor(y))}px`,right:"0",[l]:`${o}px`});return()=>{v==null||v(),n.scrollTo({left:h,top:m,behavior:"instant"})}},d=[a(),Kte()?u():c()];return()=>{d.forEach(h=>h==null?void 0:h()),r.removeAttribute(aC)}}var n2=bt("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Pu=n2.build(),Ut=ti({getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},getBackdropId:t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},getContentEl:t=>Ut.getById(t,Ut.getContentId(t)),getPositionerEl:t=>Ut.getById(t,Ut.getPositionerId(t)),getBackdropEl:t=>Ut.getById(t,Ut.getBackdropId(t)),getTriggerEl:t=>Ut.getById(t,Ut.getTriggerId(t)),getTitleEl:t=>Ut.getById(t,Ut.getTitleId(t)),getDescriptionEl:t=>Ut.getById(t,Ut.getDescriptionId(t)),getCloseTriggerEl:t=>Ut.getById(t,Ut.getCloseTriggerId(t))});function woe(t,e,n){const i=t.context["aria-label"],r=t.matches("open"),s=t.context.renderedElements;return{open:r,setOpen(o){o!==r&&e(o?"OPEN":"CLOSE")},getTriggerProps(){return n.button({...Pu.trigger.attrs,dir:t.context.dir,id:Ut.getTriggerId(t.context),"aria-haspopup":"dialog",type:"button","aria-expanded":r,"data-state":r?"open":"closed","aria-controls":Ut.getContentId(t.context),onClick(o){o.defaultPrevented||e("TOGGLE")}})},getBackdropProps(){return n.element({...Pu.backdrop.attrs,dir:t.context.dir,hidden:!r,id:Ut.getBackdropId(t.context),"data-state":r?"open":"closed"})},getPositionerProps(){return n.element({...Pu.positioner.attrs,dir:t.context.dir,id:Ut.getPositionerId(t.context),style:{pointerEvents:r?void 0:"none"}})},getContentProps(){return n.element({...Pu.content.attrs,dir:t.context.dir,role:t.context.role,hidden:!r,id:Ut.getContentId(t.context),tabIndex:-1,"data-state":r?"open":"closed","aria-modal":!0,"aria-label":i||void 0,"aria-labelledby":i||!s.title?void 0:Ut.getTitleId(t.context),"aria-describedby":s.description?Ut.getDescriptionId(t.context):void 0})},getTitleProps(){return n.element({...Pu.title.attrs,dir:t.context.dir,id:Ut.getTitleId(t.context)})},getDescriptionProps(){return n.element({...Pu.description.attrs,dir:t.context.dir,id:Ut.getDescriptionId(t.context)})},getCloseTriggerProps(){return n.button({...Pu.closeTrigger.attrs,dir:t.context.dir,id:Ut.getCloseTriggerId(t.context),type:"button",onClick(o){o.defaultPrevented||(o.stopPropagation(),e("CLOSE"))}})}}}function Eoe(t){const e=rp(t);return qR({id:"dialog",initial:e.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...e},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackDismissableElement(n,i,{send:r}){return roe(()=>Ut.getContentEl(n),{defer:!0,pointerBlocking:n.modal,exclude:[Ut.getTriggerEl(n)],onInteractOutside(o){var a;(a=n.onInteractOutside)==null||a.call(n,o),n.closeOnInteractOutside||o.preventDefault()},persistentElements:n.persistentElements,onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onEscapeKeyDown(o){var a;(a=n.onEscapeKeyDown)==null||a.call(n,o),n.closeOnEscape||o.preventDefault()},onDismiss(){r({type:"CLOSE",src:"interact-outside"})}})},preventScroll(n){if(n.preventScroll)return Soe(Ut.getDoc(n))},trapFocus(n){return!n.trapFocus||!n.modal?void 0:xoe(()=>Ut.getContentEl(n),{preventScroll:!0,returnFocusOnDeactivate:!!n.restoreFocus,initialFocus:n.initialFocusEl,setReturnFocus:r=>{var s;return((s=n.finalFocusEl)==null?void 0:s.call(n))??r}})},hideContentBelow(n){return n.modal?foe(()=>[Ut.getContentEl(n)],{defer:!0}):void 0}},actions:{setAlertDialogProps(n){n.role==="alertdialog"&&(n.initialFocusEl||(n.initialFocusEl=()=>Ut.getCloseTriggerEl(n)),n.closeOnInteractOutside=!1)},checkRenderedElements(n){Ra(()=>{n.renderedElements.title=!!Ut.getTitleEl(n),n.renderedElements.description=!!Ut.getDescriptionEl(n)})},syncZIndex(n){Ra(()=>{const i=Ut.getContentEl(n);if(!i)return;const r=Gte(i);[Ut.getPositionerEl(n),Ut.getBackdropEl(n)].forEach(o=>{o==null||o.style.setProperty("--z-index",r.zIndex)})})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},toggleVisibility(n,i,{send:r}){r({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}tn()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const Toe=(t={})=>{const{getRootNode:e}=t2(),{dir:n}=BH(),i={id:L.useId(),getRootNode:e,dir:n,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},r={...i,open:t.open,onOpenChange:gd(t.onOpenChange,{sync:!0}),onEscapeKeyDown:gd(t.onEscapeKeyDown),onInteractOutside:gd(t.onInteractOutside)},[s,o]=YR(Eoe(i),{context:r});return woe(s,o,lW)},Coe=t=>{const[e,{children:n,...i}]=aW(t),[r]=jW(e),s=Toe(i),o=KR(Ei({present:s.open},e));return w.jsx(HW,{value:s,children:w.jsx(VW,{value:r,children:w.jsx(uW,{value:o,children:n})})})},Moe=t=>{const[e,{value:n,children:i}]=aW(t),[r]=jW(e),s=KR(Ei({present:n.open},e));return w.jsx(HW,{value:n,children:w.jsx(VW,{value:r,children:w.jsx(uW,{value:s,children:i})})})},KW=L.forwardRef((t,e)=>{const n=cu(),i=Ei(n.getTitleProps(),t);return w.jsx(wr.h2,{...i,ref:e})});KW.displayName="DialogTitle";const JW=L.forwardRef((t,e)=>{const n=cu(),i=JR(),r=Ei({...n.getTriggerProps(),"aria-controls":i.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return w.jsx(wr.button,{...r,ref:e})});JW.displayName="DialogTrigger";const[iDe,QW]=Xd({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1});var ZW=bt("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");ZW.build();var ra=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`editable:${t.id}`},getAreaId:t=>{var e;return((e=t.ids)==null?void 0:e.area)??`editable:${t.id}:area`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`editable:${t.id}:label`},getPreviewId:t=>{var e;return((e=t.ids)==null?void 0:e.preview)??`editable:${t.id}:preview`},getInputId:t=>{var e;return((e=t.ids)==null?void 0:e.input)??`editable:${t.id}:input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`editable:${t.id}:control`},getSubmitTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.submitTrigger)??`editable:${t.id}:submit`},getCancelTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.cancelTrigger)??`editable:${t.id}:cancel`},getEditTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.editTrigger)??`editable:${t.id}:edit`},getInputEl:t=>ra.getById(t,ra.getInputId(t)),getPreviewEl:t=>ra.getById(t,ra.getPreviewId(t)),getSubmitTriggerEl:t=>ra.getById(t,ra.getSubmitTriggerId(t)),getCancelTriggerEl:t=>ra.getById(t,ra.getCancelTriggerId(t)),getEditTriggerEl:t=>ra.getById(t,ra.getEditTriggerId(t))});tn()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","edit.controlled","submitMode","translations","value"]);const e8=bt("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");e8.build();const t8=bt("fieldset").parts("root","errorText","helperText","legend");t8.build();var n8=bt("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");n8.build();var Af=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`file:${t.id}`},getDropzoneId:t=>{var e;return((e=t.ids)==null?void 0:e.dropzone)??`file:${t.id}:dropzone`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`file:${t.id}:input`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`file:${t.id}:trigger`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`file:${t.id}:label`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`file:${t.id}:item:${e}`},getItemNameId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemName)==null?void 0:i.call(n,e))??`file:${t.id}:item-name:${e}`},getItemSizeTextId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemSizeText)==null?void 0:i.call(n,e))??`file:${t.id}:item-size:${e}`},getItemPreviewId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemPreview)==null?void 0:i.call(n,e))??`file:${t.id}:item-preview:${e}`},getRootEl:t=>Af.getById(t,Af.getRootId(t)),getHiddenInputEl:t=>Af.getById(t,Af.getHiddenInputId(t)),getDropzoneEl:t=>Af.getById(t,Af.getDropzoneId(t))});tn()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);tn()(["file"]);var i8=bt("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");i8.build();var cr=ti({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},getContextTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`menu:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},getGroupId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.group)==null?void 0:i.call(n,e))??`menu:${t.id}:group:${e}`},getGroupLabelId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,e))??`menu:${t.id}:group-label:${e}`},getContentEl:t=>cr.getById(t,cr.getContentId(t)),getPositionerEl:t=>cr.getById(t,cr.getPositionerId(t)),getTriggerEl:t=>cr.getById(t,cr.getTriggerId(t)),getHighlightedItemEl:t=>t.highlightedValue?cr.getById(t,t.highlightedValue):null,getArrowEl:t=>cr.getById(t,cr.getArrowId(t)),getElements:t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(cr.getContentId(t))}]:not([data-disabled])`;return ul(cr.getContentEl(t),n)},getFirstEl:t=>KH(cr.getElements(t)),getLastEl:t=>JH(cr.getElements(t)),getNextEl:(t,e)=>FH(cr.getElements(t),t.highlightedValue,e??t.loopFocus),getPrevEl:(t,e)=>zH(cr.getElements(t),t.highlightedValue,e??t.loopFocus),getElemByKey:(t,e)=>Ane(cr.getElements(t),{state:t.typeaheadState,key:e,activeId:t.highlightedValue}),isTargetDisabled:t=>Sr(t)&&(t.dataset.disabled===""||t.hasAttribute("disabled")),isTriggerItem:t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},getOptionFromItemEl(t){return{id:t.id,name:t.dataset.name,value:t.dataset.value,valueText:t.dataset.valueText,type:t.dataset.type}}});tn()(["anchorPoint","aria-label","closeOnSelect","composite","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open.controlled","open","positioning","typeahead"]);tn()(["closeOnSelect","disabled","value","valueText"]);tn()(["htmlFor"]);tn()(["id"]);tn()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);var r8=bt("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");r8.build();var Xr=ti({getAnchorId:t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},getAnchorEl:t=>Xr.getById(t,Xr.getAnchorId(t)),getTriggerEl:t=>Xr.getById(t,Xr.getTriggerId(t)),getContentEl:t=>Xr.getById(t,Xr.getContentId(t)),getPositionerEl:t=>Xr.getById(t,Xr.getPositionerId(t)),getTitleEl:t=>Xr.getById(t,Xr.getTitleId(t)),getDescriptionEl:t=>Xr.getById(t,Xr.getDescriptionId(t)),getFocusableEls:t=>VR(Xr.getContentEl(t)),getFirstFocusableEl:t=>Xr.getFocusableEls(t)[0]});tn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);var i2=bt("radio-group").parts("root","label","item","itemText","itemControl","indicator");i2.build();var ur=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:${e}`},getItemHiddenInputId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:input:${e}`},getItemControlId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:control:${e}`},getItemLabelId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,e))??`radio-group:${t.id}:radio:label:${e}`},getIndicatorId:t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},getRootEl:t=>ur.getById(t,ur.getRootId(t)),getItemHiddenInputEl:(t,e)=>ur.getById(t,ur.getItemHiddenInputId(t,e)),getIndicatorEl:t=>ur.getById(t,ur.getIndicatorId(t)),getFirstEnabledInputEl:t=>{var e;return(e=ur.getRootEl(t))==null?void 0:e.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:t=>{var e;return(e=ur.getRootEl(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},getInputEls:t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(ur.getRootId(t))}']:not([disabled])`;return ul(ur.getRootEl(t),n)},getActiveRadioEl:t=>{if(t.value)return ur.getById(t,ur.getItemId(t,t.value))},getOffsetRect:t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),getRectById:(t,e)=>{const n=ur.getById(t,ur.getItemId(t,e));if(n)return ur.resolveRect(ur.getOffsetRect(n))},resolveRect:t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`})});tn()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);tn()(["value","disabled","invalid"]);var s8=bt("rating-group").parts("root","label","item","control");s8.build();var tc=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`rating:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`rating:${t.id}:label`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`rating:${t.id}:input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`rating:${t.id}:control`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`rating:${t.id}:item:${e}`},getRootEl:t=>tc.getById(t,tc.getRootId(t)),getControlEl:t=>tc.getById(t,tc.getControlId(t)),getRadioEl:(t,e=t.value)=>{const n=`[role=radio][aria-posinset='${Math.ceil(e)}']`;return _ne(tc.getControlEl(t),n)},getHiddenInputEl:t=>tc.getById(t,tc.getHiddenInputId(t)),dispatchChangeEvent:t=>{const e=tc.getHiddenInputEl(t);e&&LH(e,{value:t.value})}});tn()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value"]);tn()(["index"]);var o8=bt("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");o8.build();var Yr=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`select:${t.id}`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},getClearTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`select:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`select:${t.id}:control`},getItemId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.item)==null?void 0:i.call(n,e))??`select:${t.id}:option:${e}`},getHiddenSelectId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},getItemGroupId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,e))??`select:${t.id}:optgroup:${e}`},getItemGroupLabelId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,e))??`select:${t.id}:optgroup-label:${e}`},getHiddenSelectEl:t=>Yr.getById(t,Yr.getHiddenSelectId(t)),getContentEl:t=>Yr.getById(t,Yr.getContentId(t)),getControlEl:t=>Yr.getById(t,Yr.getControlId(t)),getTriggerEl:t=>Yr.getById(t,Yr.getTriggerId(t)),getClearTriggerEl:t=>Yr.getById(t,Yr.getClearTriggerId(t)),getPositionerEl:t=>Yr.getById(t,Yr.getPositionerId(t)),getHighlightedOptionEl(t){return t.highlightedValue?Yr.getById(t,Yr.getItemId(t,t.highlightedValue)):null}});tn()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);tn()(["item","persistFocus"]);tn()(["id"]);tn()(["htmlFor"]);var a8=bt("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");a8.build();function Poe(t){const e=t[0],n=t[t.length-1];return[e,n]}function Aoe(t){const[e,n]=Poe(t.valuePercent);if(t.valuePercent.length===1){if(t.origin==="center"){const i=t.valuePercent[0]<50,r=i?`${t.valuePercent[0]}%`:"50%",s=i?"50%":`${100-t.valuePercent[0]}%`;return{start:r,end:s}}return{start:"0%",end:`${100-n}%`}}return{start:`${e}%`,end:`${100-n}%`}}function Ioe(t){return t.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[t.isRtl?"right":"left"]:"var(--slider-range-start)",[t.isRtl?"left":"right"]:"var(--slider-range-end)"}}function Roe(t){const{height:e=0}=t.thumbSize??{},n=QP([t.min,t.max],[-e/2,e/2]);return parseFloat(n(t.value).toFixed(2))}function koe(t){const{width:e=0}=t.thumbSize??{};if(t.isRtl){const i=QP([t.max,t.min],[-e/2,e/2]);return-1*parseFloat(i(t.value).toFixed(2))}const n=QP([t.min,t.max],[-e/2,e/2]);return parseFloat(n(t.value).toFixed(2))}function Noe(t,e){if(t.thumbAlignment==="center")return`${e}%`;const n=t.isVertical?Roe(t):koe(t);return`calc(${e}% - ${n}px)`}function l8(t){let e=hie(t.value,t.min,t.max)*100;return Noe(t,e)}function c8(t){let e="visible";return t.thumbAlignment==="contain"&&!t.hasMeasuredThumbSize&&(e="hidden"),e}function Loe(t,e){const n=t.isVertical?"bottom":"insetInlineStart";return{visibility:c8(t),position:"absolute",transform:"var(--slider-thumb-transform)",[n]:`var(--slider-thumb-offset-${e})`}}function Doe(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function Ooe(t){const e=Aoe(t);return{...t.value.reduce((i,r,s)=>{const o=l8({...t,value:r});return{...i,[`--slider-thumb-offset-${s}`]:o}},{}),"--slider-thumb-transform":t.isVertical?"translateY(50%)":t.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":e.start,"--slider-range-end":e.end}}function Foe(t,e){return{visibility:c8(t),position:"absolute",pointerEvents:"none",[t.isHorizontal?"insetInlineStart":"bottom"]:l8({...t,value:e}),translate:"var(--tx) var(--ty)","--tx":t.isHorizontal?t.isRtl?"50%":"-50%":"0%","--ty":t.isHorizontal?"0%":"50%"}}function zoe(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var Boe={getRootStyle:Ooe,getControlStyle:Doe,getThumbStyle:Loe,getRangeStyle:Ioe,getMarkerStyle:Foe,getMarkerGroupStyle:zoe},Kr=ti({...Boe,getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},getThumbId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.thumb)==null?void 0:i.call(n,e))??`slider:${t.id}:thumb:${e}`},getHiddenInputId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:i.call(n,e))??`slider:${t.id}:input:${e}`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},getTrackId:t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},getRangeId:t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},getValueTextId:t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},getMarkerId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.marker)==null?void 0:i.call(n,e))??`slider:${t.id}:marker:${e}`},getRootEl:t=>Kr.getById(t,Kr.getRootId(t)),getThumbEl:(t,e)=>Kr.getById(t,Kr.getThumbId(t,e)),getHiddenInputEl:(t,e)=>Kr.getById(t,Kr.getHiddenInputId(t,e)),getControlEl:t=>Kr.getById(t,Kr.getControlId(t)),getElements:t=>ul(Kr.getControlEl(t),"[role=slider]"),getFirstEl:t=>Kr.getElements(t)[0],getRangeEl:t=>Kr.getById(t,Kr.getRangeId(t)),getValueFromPoint(t,e){const n=Kr.getControlEl(t);if(!n)return;const r=$P(e,n).getPercentValue({orientation:t.orientation,dir:t.dir,inverted:{y:!0}});return pie(r,t.min,t.max,t.step)},dispatchChangeEvent(t){Array.from(t.value).forEach((n,i)=>{const r=Kr.getHiddenInputEl(t,i);r&&LH(r,{value:n})})}});tn()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);tn()(["index","name"]);var u8=bt("switch").parts("root","label","control","thumb");u8.build();var Cx=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},getThumbId:t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},getRootEl:t=>Cx.getById(t,Cx.getRootId(t)),getHiddenInputEl:t=>Cx.getById(t,Cx.getHiddenInputId(t))});tn()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var d8=bt("avatar").parts("root","image","fallback");d8.build();var Mx=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`avatar:${t.id}`},getImageId:t=>{var e;return((e=t.ids)==null?void 0:e.image)??`avatar:${t.id}:image`},getFallbackId:t=>{var e;return((e=t.ids)==null?void 0:e.fallback)??`avatar:${t.id}:fallback`},getRootEl:t=>Mx.getById(t,Mx.getRootId(t)),getImageEl:t=>Mx.getById(t,Mx.getImageId(t))});tn()(["dir","id","ids","onStatusChange","getRootNode"]);var f8=bt("checkbox").parts("root","label","control","indicator");f8.build();var Px=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`checkbox:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`checkbox:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`checkbox:${t.id}:control`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`checkbox:${t.id}:input`},getRootEl:t=>Px.getById(t,Px.getRootId(t)),getHiddenInputEl:t=>Px.getById(t,Px.getHiddenInputId(t))});tn()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const Uoe=f8.extendWith("group"),Voe=UW.extendWith("view");var h8=bt("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");h8.build();var If=ti({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`hover-card:${t.id}:arrow`},getTriggerEl:t=>If.getById(t,If.getTriggerId(t)),getContentEl:t=>If.getById(t,If.getContentId(t)),getPositionerEl:t=>If.getById(t,If.getPositionerId(t))});tn()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","open.controlled","open","openDelay","positioning"]);const[p8,Yd]=Xd({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),m8=L.forwardRef((t,e)=>{const n=Yd(),i=Ei(n.getControlProps(),t);return w.jsx(wr.div,{...i,ref:e})});m8.displayName="NumberInputControl";const g8=L.forwardRef((t,e)=>{const n=Yd(),i=Ei(n.getDecrementTriggerProps(),t);return w.jsx(wr.button,{...i,ref:e})});g8.displayName="NumberInputDecrementTrigger";const v8=L.forwardRef((t,e)=>{const n=Yd(),i=Ei(n.getIncrementTriggerProps(),t);return w.jsx(wr.button,{...i,ref:e})});v8.displayName="NumberInputIncrementTrigger";const y8=L.forwardRef((t,e)=>{const n=Yd(),i=Ei(n.getInputProps(),t),r=QW();return w.jsx(wr.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...i,ref:e})});y8.displayName="NumberInputInput";const x8=L.forwardRef((t,e)=>{const n=Yd(),i=Ei(n.getLabelProps(),t);return w.jsx(wr.label,{...i,ref:e})});x8.displayName="NumberInputLabel";let lC=new Map,rA=!1;try{rA=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let sb=!1;try{sb=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const _8={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class joe{format(e){let n="";if(!rA&&this.options.signDisplay!=null?n=Woe(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!sb){var i;let{unit:r,unitDisplay:s="short",locale:o}=this.resolvedOptions();if(!r)return n;let a=(i=_8[r])===null||i===void 0?void 0:i[s];n+=a[o]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(n);return[...i.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...r.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!rA&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!sb&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=Hoe(e,n),this.options=n}}function Hoe(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!sb){var i;let{unit:o,unitDisplay:a="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=_8[o])===null||i===void 0)&&i[a]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let r=t+(e?Object.entries(e).sort((o,a)=>o[0]<a[0]?-1:1).join():"");if(lC.has(r))return lC.get(r);let s=new Intl.NumberFormat(t,e);return lC.set(r,s),s}function Woe(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let i=!1;if(e==="always"?i=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let r=t.format(-n),s=t.format(n),o=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}const Goe=new RegExp("^.*\\(.*\\).*$"),$oe=["latn","arab","hanidec","deva","beng"];class b8{parse(e){return cC(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,i){return cC(this.locale,this.options,e).isValidPartialNumber(e,n,i)}getNumberingSystem(e){return cC(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const RO=new Map;function cC(t,e,n){let i=kO(t,e);if(!t.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let r of $oe)if(r!==i.options.numberingSystem){let s=kO(t+(t.includes("-u-")?"-nu-":"-u-nu-")+r,e);if(s.isValidPartialNumber(n))return s}}return i}function kO(t,e){let n=t+(e?Object.entries(e).sort((r,s)=>r[0]<s[0]?-1:1).join():""),i=RO.get(n);return i||(i=new qoe(t,e),RO.set(n,i)),i}class qoe{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=Ax(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,o>-1&&(n=`-${n}`)}let i=n?+n:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var r,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new b8(this.locale,o).parse(new joe(this.locale,o).format(i))}return this.options.currencySign==="accounting"&&Goe.test(e)&&(i=-1*i),i}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=Ax(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=Ax(e,"."," ")),e}isValidPartialNumber(e,n=-1/0,i=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&i>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Ax(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=Yoe(e,this.formatter,this.options,n);var i,r;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const NO=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Xoe=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Yoe(t,e,n,i){var r,s,o,a;let l=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=l.formatToParts(-10000.111),u=l.formatToParts(10000.111),d=Xoe.map(P=>l.formatToParts(P));var h;let m=(h=(r=c.find(P=>P.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&h!==void 0?h:"-",g=(s=u.find(P=>P.type==="plusSign"))===null||s===void 0?void 0:s.value;!g&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(g="+");let _=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(P=>P.type==="decimal"))===null||o===void 0?void 0:o.value,v=(a=c.find(P=>P.type==="group"))===null||a===void 0?void 0:a.value,x=c.filter(P=>!NO.has(P.type)).map(P=>LO(P.value)),b=d.flatMap(P=>P.filter(O=>!NO.has(O.type)).map(O=>LO(O.value))),E=[...new Set([...x,...b])].sort((P,O)=>O.length-P.length),M=E.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${E.join("|")}|[\\p{White_Space}]`,"gu"),C=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),R=new Map(C.map((P,O)=>[P,O])),k=new RegExp(`[${C.join("")}]`,"g");return{minusSign:m,plusSign:g,decimal:_,group:v,literals:M,numeral:k,index:P=>String(R.get(P))}}function Ax(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function LO(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var S8=bt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),nc=S8.build(),Pt=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},getInputId:t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},getIncrementTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},getDecrementTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},getScrubberId:t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},getCursorId:t=>`number-input:${t.id}:cursor`,getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},getInputEl:t=>Pt.getById(t,Pt.getInputId(t)),getIncrementTriggerEl:t=>Pt.getById(t,Pt.getIncrementTriggerId(t)),getDecrementTriggerEl:t=>Pt.getById(t,Pt.getDecrementTriggerId(t)),getScrubberEl:t=>Pt.getById(t,Pt.getScrubberId(t)),getCursorEl:t=>Pt.getDoc(t).getElementById(Pt.getCursorId(t)),getPressedTriggerEl:(t,e=t.hint)=>{let n=null;return e==="increment"&&(n=Pt.getIncrementTriggerEl(t)),e==="decrement"&&(n=Pt.getDecrementTriggerEl(t)),n},setupVirtualCursor(t){if(!NH())return Pt.createVirtualCursor(t),()=>{var e;(e=Pt.getCursorEl(t))==null||e.remove()}},preventTextSelection(t){const e=Pt.getDoc(t),n=e.documentElement,i=e.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},getMousemoveValue(t,e){const n=Pt.getWin(t),i=Dg(e.movementX,n.devicePixelRatio),r=Dg(e.movementY,n.devicePixelRatio);let s=i>0?"increment":i<0?"decrement":null;t.isRtl&&s==="increment"&&(s="decrement"),t.isRtl&&s==="decrement"&&(s="increment");const o={x:t.scrubberCursorPoint.x+i,y:t.scrubberCursorPoint.y+r},a=n.innerWidth,l=Dg(7.5,n.devicePixelRatio);return o.x=lie(o.x+l,a)-l,{hint:s,point:o}},createVirtualCursor(t){const e=Pt.getDoc(t),n=e.createElement("div");n.className="scrubber--cursor",n.id=Pt.getCursorId(t),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:kte,transform:t.scrubberCursorPoint?`translate3d(${t.scrubberCursorPoint.x}px, ${t.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,e.body.appendChild(n)}});function Koe(t,e,n){const i=t.hasTag("focus"),r=t.context.isDisabled,s=t.context.readOnly,o=t.context.isValueEmpty,a=t.context.isOutOfRange||!!t.context.invalid,l=r||!t.context.canIncrement||s,c=r||!t.context.canDecrement||s,u=t.context.translations;return{focused:i,invalid:a,empty:o,value:t.context.formattedValue,valueAsNumber:t.context.valueAsNumber,setValue(d){e({type:"VALUE.SET",value:d})},clearValue(){e("VALUE.CLEAR")},increment(){e("VALUE.INCREMENT")},decrement(){e("VALUE.DECREMENT")},setToMax(){e({type:"VALUE.SET",value:t.context.max})},setToMin(){e({type:"VALUE.SET",value:t.context.min})},focus(){var d;(d=Pt.getInputEl(t.context))==null||d.focus()},getRootProps(){return n.element({id:Pt.getRootId(t.context),...nc.root.attrs,dir:t.context.dir,"data-disabled":Wi(r),"data-focus":Wi(i),"data-invalid":Wi(a)})},getLabelProps(){return n.label({...nc.label.attrs,dir:t.context.dir,"data-disabled":Wi(r),"data-focus":Wi(i),"data-invalid":Wi(a),id:Pt.getLabelId(t.context),htmlFor:Pt.getInputId(t.context)})},getControlProps(){return n.element({...nc.control.attrs,dir:t.context.dir,role:"group","aria-disabled":r,"data-focus":Wi(i),"data-disabled":Wi(r),"data-invalid":Wi(a),"aria-invalid":$D(t.context.invalid)})},getValueTextProps(){return n.element({...nc.valueText.attrs,dir:t.context.dir,"data-disabled":Wi(r),"data-invalid":Wi(a),"data-focus":Wi(i)})},getInputProps(){return n.input({...nc.input.attrs,dir:t.context.dir,name:t.context.name,form:t.context.form,id:Pt.getInputId(t.context),role:"spinbutton",defaultValue:t.context.formattedValue,pattern:t.context.pattern,inputMode:t.context.inputMode,"aria-invalid":$D(a),"data-invalid":Wi(a),disabled:r,"data-disabled":Wi(r),readOnly:t.context.readOnly,required:t.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":t.context.min,"aria-valuemax":t.context.max,"aria-valuenow":Number.isNaN(t.context.valueAsNumber)?void 0:t.context.valueAsNumber,"aria-valuetext":t.context.valueText,onFocus(){e("INPUT.FOCUS")},onBlur(){e("INPUT.BLUR")},onInput(d){e({type:"INPUT.CHANGE",target:d.currentTarget,hint:"set"})},onBeforeInput(d){try{const{selectionStart:h,selectionEnd:m,value:g}=d.currentTarget,y=g.slice(0,h)+(d.data??"")+g.slice(m);t.context.parser.isValidPartialNumber(y)||d.preventDefault()}catch{}},onKeyDown(d){if(d.defaultPrevented||s||Qte(d))return;const h=rne(d)*t.context.step,g={ArrowUp(){e({type:"INPUT.ARROW_UP",step:h}),d.preventDefault()},ArrowDown(){e({type:"INPUT.ARROW_DOWN",step:h}),d.preventDefault()},Home(){XD(d)||(e("INPUT.HOME"),d.preventDefault())},End(){XD(d)||(e("INPUT.END"),d.preventDefault())},Enter(){e("INPUT.ENTER")}}[d.key];g==null||g(d)}})},getDecrementTriggerProps(){return n.button({...nc.decrementTrigger.attrs,dir:t.context.dir,id:Pt.getDecrementTriggerId(t.context),disabled:c,"data-disabled":Wi(c),"aria-label":u.decrementLabel,type:"button",tabIndex:-1,"aria-controls":Pt.getInputId(t.context),onPointerDown(d){var h;c||!qD(d)||(e({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:d.pointerType}),d.pointerType==="mouse"&&d.preventDefault(),d.pointerType==="touch"&&((h=d.currentTarget)==null||h.focus({preventScroll:!0})))},onPointerUp(d){e({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:d.pointerType})},onPointerLeave(){c||e({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return n.button({...nc.incrementTrigger.attrs,dir:t.context.dir,id:Pt.getIncrementTriggerId(t.context),disabled:l,"data-disabled":Wi(l),"aria-label":u.incrementLabel,type:"button",tabIndex:-1,"aria-controls":Pt.getInputId(t.context),onPointerDown(d){var h;l||!qD(d)||(e({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:d.pointerType}),d.pointerType==="mouse"&&d.preventDefault(),d.pointerType==="touch"&&((h=d.currentTarget)==null||h.focus({preventScroll:!0})))},onPointerUp(d){e({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:d.pointerType})},onPointerLeave(d){e({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:d.pointerType})}})},getScrubberProps(){return n.element({...nc.scrubber.attrs,dir:t.context.dir,"data-disabled":Wi(r),id:Pt.getScrubberId(t.context),role:"presentation",onMouseDown(d){if(r)return;const h=sne(d),g=lu(d.currentTarget).devicePixelRatio;h.x=h.x-Dg(7.5,g),h.y=h.y-Dg(7.5,g),e({type:"SCRUBBER.PRESS_DOWN",point:h}),d.preventDefault()},style:{cursor:r?void 0:"ew-resize"}})}}}function Joe(t){if(t.ownerDocument.activeElement===t)try{const{selectionStart:e,selectionEnd:n,value:i}=t,r=i.substring(0,e),s=i.substring(n);return{start:e,end:n,value:i,beforeTxt:r,afterTxt:s}}catch{}}function Qoe(t,e){if(t.ownerDocument.activeElement===t){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:i="",afterTxt:r="",start:s}=e;let o=n.length;if(n.endsWith(r))o=n.length-r.length;else if(n.startsWith(i))o=i.length;else if(s!=null){const a=i[s-1],l=n.indexOf(a,s-1);l!==-1&&(o=l+1)}t.setSelectionRange(o,o)}catch{}}}var DO=(t,e={})=>ip(new Intl.NumberFormat(t,e)),OO=(t,e={})=>ip(new b8(t,e)),FO=(t,e)=>t.formatOptions?t.parser.parse(String(e)):parseFloat(e),Au=(t,e)=>Number.isNaN(e)?"":t.formatOptions?t.formatter.format(e):e.toString(),{not:uC,and:Ix}=Eie;function Zoe(t){const e=rp(t);return qR({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...e,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:DO(e.locale||"en-US",e.formatOptions),parser:OO(e.locale||"en-US",e.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}},computed:{isRtl:n=>n.dir==="rtl",valueAsNumber:n=>FO(n,n.value),formattedValue:n=>Au(n,n.valueAsNumber),isAtMin:n=>uie(n.valueAsNumber,n.min),isAtMax:n=>cie(n.valueAsNumber,n.max),isOutOfRange:n=>!die(n.valueAsNumber,n.min,n.max),isValueEmpty:n=>n.value==="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,canIncrement:n=>n.allowOverflow||!n.isAtMax,canDecrement:n=>n.allowOverflow||!n.isAtMin,valueText:n=>{var i,r;return(r=(i=n.translations).valueText)==null?void 0:r.call(i,n.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Ix("clampValueOnBlur",uC("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:Tie([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:Ix("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:Ix(uC("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:Ix(uC("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:n=>n.clampValueOnBlur,isAtMin:n=>n.isAtMin,spinOnPress:n=>!!n.spinOnPress,isAtMax:n=>n.isAtMax,isInRange:n=>!n.isOutOfRange,isDecrementHint:(n,i)=>(i.hint??n.hint)==="decrement",isIncrementHint:(n,i)=>(i.hint??n.hint)==="increment",isTouchPointer:(n,i)=>i.pointerType==="touch"},activities:{trackFormControl(n,i,{initialContext:r}){const s=Pt.getInputEl(n);return fne(s,{onFieldsetDisabledChange(o){n.fieldsetDisabled=o},onFormReset(){sa.value(n,r.value)}})},setupVirtualCursor(n){return Pt.setupVirtualCursor(n)},preventTextSelection(n){return Pt.preventTextSelection(n)},trackButtonDisabled(n,i,{send:r}){const s=Pt.getPressedTriggerEl(n,n.hint);return gne(s,{attributes:["disabled"],callback(){r({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(n,i,{send:r}){const s=Pt.getInputEl(n);if(!s||!Pt.isActiveElement(n,s)||!n.allowMouseWheel)return;function o(a){a.preventDefault();const l=Math.sign(a.deltaY)*-1;l===1?r("VALUE.INCREMENT"):l===-1&&r("VALUE.DECREMENT")}return kr(s,"wheel",o,{passive:!1})},activatePointerLock(n){if(!NH())return xne(Pt.getDoc(n))},trackMousemove(n,i,{send:r}){const s=Pt.getDoc(n);function o(l){if(!n.scrubberCursorPoint)return;const c=Pt.getMousemoveValue(n,l);c.hint&&r({type:"SCRUBBER.POINTER_MOVE",hint:c.hint,point:c.point})}function a(){r("SCRUBBER.POINTER_UP")}return nb(kr(s,"mousemove",o,!1),kr(s,"mouseup",a,!1))}},actions:{focusInput(n){if(!n.focusInputOnChange)return;const i=Pt.getInputEl(n);Pt.isActiveElement(n,i)||Ra(()=>i==null?void 0:i.focus({preventScroll:!0}))},increment(n,i){const r=mie(n.valueAsNumber,i.step??n.step),s=Au(n,fg(r,n.min,n.max));sa.value(n,s)},decrement(n,i){const r=gie(n.valueAsNumber,i.step??n.step),s=Au(n,fg(r,n.min,n.max));sa.value(n,s)},setClampedValue(n){const i=fg(n.valueAsNumber,n.min,n.max);sa.value(n,Au(n,i))},setRawValue(n,i){const r=FO(n,i.value),s=Au(n,fg(r,n.min,n.max));sa.value(n,s)},setValue(n,i){var s;const r=((s=i.target)==null?void 0:s.value)??i.value;sa.value(n,r)},clearValue(n){sa.value(n,"")},incrementToMax(n){const i=Au(n,n.max);sa.value(n,i)},decrementToMin(n){const i=Au(n,n.min);sa.value(n,i)},setHint(n,i){n.hint=i.hint},clearHint(n){n.hint=null},setHintToSet(n){n.hint="set"},invokeOnFocus(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!0,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnBlur(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!1,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnInvalid(n){var r;if(!n.isOutOfRange)return;const i=n.valueAsNumber>n.max?"rangeOverflow":"rangeUnderflow";(r=n.onValueInvalid)==null||r.call(n,{reason:i,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},syncInputElement(n,i){const r=i.type.endsWith("CHANGE")?n.value:n.formattedValue;eae.input(n,r)},setFormattedValue(n){sa.value(n,n.formattedValue)},setCursorPoint(n,i){n.scrubberCursorPoint=i.point},clearCursorPoint(n){n.scrubberCursorPoint=null},setVirtualCursorPosition(n){const i=Pt.getCursorEl(n);if(!i||!n.scrubberCursorPoint)return;const{x:r,y:s}=n.scrubberCursorPoint;i.style.transform=`translate3d(${r}px, ${s}px, 0px)`},setFormatterAndParser(n){n.locale&&(n.formatter=DO(n.locale,n.formatOptions),n.parser=OO(n.locale,n.formatOptions))}},compareFns:{formatOptions:(n,i)=>Mv(n,i),scrubberCursorPoint:(n,i)=>Mv(n,i)}})}var eae={input(t,e){const n=Pt.getInputEl(t);if(!n)return;const i=Joe(n);Ra(()=>{BR(n,e),Qoe(n,i)})}},tae={onChange:t=>{var e;(e=t.onValueChange)==null||e.call(t,{value:t.value,valueAsNumber:t.valueAsNumber})}},sa={value:(t,e)=>{Mv(t.value,e)||(t.value=e,tae.onChange(t))}};const nae=(t={})=>{const{getRootNode:e}=t2(),{dir:n,locale:i}=BH(),r=QW(),s={id:L.useId(),ids:{label:r==null?void 0:r.ids.label,input:r==null?void 0:r.ids.control},disabled:r==null?void 0:r.disabled,readOnly:r==null?void 0:r.readOnly,required:r==null?void 0:r.required,invalid:r==null?void 0:r.invalid,dir:n,locale:i,getRootNode:e,value:t.defaultValue,...t},o={...s,value:t.value,onValueChange:gd(t.onValueChange,{sync:!0}),onValueInvalid:gd(t.onValueInvalid),onFocusChange:gd(t.onFocusChange)},[a,l]=YR(Zoe(s),{context:o});return Koe(a,l,lW)},w8=L.forwardRef((t,e)=>{const[n,i]=sw()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),r=nae(n),s=Ei(r.getRootProps(),i);return w.jsx(p8,{value:r,children:w.jsx(wr.div,{...s,ref:e})})});w8.displayName="NumberInputRoot";const E8=L.forwardRef((t,e)=>{const[{value:n},i]=sw()(t,["value"]),r=Ei(n.getRootProps(),i);return w.jsx(p8,{value:n,children:w.jsx(wr.div,{...r,ref:e})})});E8.displayName="NumberInputRootProvider";const T8=L.forwardRef((t,e)=>{const n=Yd(),i=Ei(n.getScrubberProps(),t);return w.jsx(wr.div,{...i,ref:e})});T8.displayName="NumberInputScrubber";const C8=L.forwardRef((t,e)=>{const{children:n,...i}=t,r=Yd(),s=Ei(r.getValueTextProps(),i);return w.jsx(wr.span,{...s,ref:e,children:n||r.value})});C8.displayName="NumberInputValueText";var M8=bt("pinInput").parts("root","label","input","control");M8.build();var oa=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`pin-input:${t.id}`},getInputId:(t,e)=>{var n,i;return((i=(n=t.ids)==null?void 0:n.input)==null?void 0:i.call(n,e))??`pin-input:${t.id}:${e}`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`pin-input:${t.id}:hidden`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`pin-input:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`pin-input:${t.id}:control`},getRootEl:t=>oa.getById(t,oa.getRootId(t)),getInputEls:t=>{const n=`input[data-ownedby=${CSS.escape(oa.getRootId(t))}]`;return ul(oa.getRootEl(t),n)},getInputEl:(t,e)=>oa.getById(t,oa.getInputId(t,e)),getFocusedInputEl:t=>oa.getInputEls(t)[t.focusedIndex],getFirstInputEl:t=>oa.getInputEls(t)[0],getHiddenInputEl:t=>oa.getById(t,oa.getHiddenInputId(t))}),r2=bt("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");r2.build();ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`progress-${t.id}`},getTrackId:t=>{var e;return((e=t.ids)==null?void 0:e.track)??`progress-${t.id}-track`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`progress-${t.id}-label`},getCircleId:t=>{var e;return((e=t.ids)==null?void 0:e.circle)??`progress-${t.id}-circle`}});tn()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]);var P8=bt("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");P8.build();var zO=ti({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`qrcode:${t.id}:root`},getFrameId:t=>{var e;return((e=t.ids)==null?void 0:e.frame)??`qrcode:${t.id}:frame`},getFrameEl:t=>zO.getById(t,zO.getFrameId(t))});tn()(["ids","value","id","encoding","dir","getRootNode","onValueChange"]);const A8=i2.rename("segment-group");A8.build();var I8=bt("tooltip").parts("trigger","arrow","arrowTip","positioner","content");I8.build();var ic=ti({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`tooltip:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`tooltip:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},getTriggerEl:t=>ic.getById(t,ic.getTriggerId(t)),getContentEl:t=>ic.getById(t,ic.getContentId(t)),getPositionerEl:t=>ic.getById(t,ic.getPositionerId(t)),getArrowEl:t=>ic.getById(t,ic.getArrowId(t))});iw({id:null,prevId:null,setId(t){this.prevId=this.id,this.id=t}});tn()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const iae=FW.extendWith("itemBody"),rae=bt("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),sae=bt("alert").parts("title","description","root","indicator","content"),oae=bt("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),aae=bt("blockquote").parts("root","icon","content","caption"),lae=bt("card").parts("root","header","body","footer","title","description"),cae=bt("checkbox-card",["root","control","label","description","addon","indicator","content"]),uae=bt("data-list").parts("root","item","itemLabel","itemValue"),dae=n2.extendWith("header","body","footer","backdrop"),fae=n2.extendWith("header","body","footer","backdrop"),hae=ZW.extendWith("textarea"),pae=bt("empty-state",["root","content","indicator","title","description"]),mae=e8.extendWith("requiredIndicator"),gae=t8.extendWith("content"),vae=n8.extendWith("itemContent","dropzoneContent"),yae=bt("list").parts("root","item","indicator"),xae=i8.extendWith("itemCommand"),_ae=bt("select").parts("root","field","indicator"),bae=r8.extendWith("header","body","footer"),R8=i2.extendWith("itemAddon","itemIndicator"),Sae=R8.extendWith("itemContent","itemDescription"),wae=s8.extendWith("itemIndicator"),Eae=o8.extendWith("indicatorGroup"),Tae=a8.extendWith("markerIndicator"),Cae=bt("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),Mae=bt("status").parts("root","indicator"),Pae=bt("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),Aae=u8.extendWith("indicator"),Iae=bt("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),Rae=bt("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),kae=bt("tabs").parts("root","trigger","list","content","contentGroup","indicator"),Nae=bt("tag").parts("root","label","closeTrigger","startElement","endElement"),Lae=bt("timeline").parts("root","item","content","separator","indicator","connector","title","description"),Dae=xt({className:"chakra-accordion",slots:iae.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Oae=xt({className:"chakra-action-bar",slots:rae.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),Fae=xt({slots:sae.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),zae=xt({slots:d8.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),Bae=xt({className:"chakra-blockquote",slots:aae.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),Uae=xt({className:"chakra-breadcrumb",slots:oae.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),Vae=xt({className:"chakra-card",slots:lae.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var HU,WU,GU,$U,qU,XU,YU,KU,JU,QU,ZU,eV,tV,nV;const jae=xt({slots:Uoe.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:Xi.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(WU=(HU=Xi.variants)==null?void 0:HU.size)==null?void 0:WU.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:($U=(GU=Xi.variants)==null?void 0:GU.size)==null?void 0:$U.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(XU=(qU=Xi.variants)==null?void 0:qU.size)==null?void 0:XU.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(KU=(YU=Xi.variants)==null?void 0:YU.size)==null?void 0:KU.lg}},variant:{outline:{control:(QU=(JU=Xi.variants)==null?void 0:JU.variant)==null?void 0:QU.outline},solid:{control:(eV=(ZU=Xi.variants)==null?void 0:ZU.variant)==null?void 0:eV.solid},subtle:{control:(nV=(tV=Xi.variants)==null?void 0:tV.variant)==null?void 0:nV.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var iV,rV,sV,oV,aV,lV,cV;const Hae=xt({slots:cae.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8",borderColor:"border.subtle"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm"},addon:{_disabled:{opacity:"0.5"}},indicator:Xi.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(iV=Xi.variants)==null?void 0:iV.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(rV=Xi.variants)==null?void 0:rV.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(sV=Xi.variants)==null?void 0:sV.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(oV=Xi.variants)==null?void 0:oV.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(aV=Xi.variants)==null?void 0:aV.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(lV=Xi.variants)==null?void 0:lV.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(cV=Xi.variants)==null?void 0:cV.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),Wae=xt({slots:zW.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var uV,dV,fV,hV,pV,mV,gV,vV,yV,xV,_V,bV,SV,wV,EV,TV,CV,MV;const Gae=xt({className:"colorPicker",slots:Voe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm"},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...OW.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...oi.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(dV=(uV=oi.variants)==null?void 0:uV.size)==null?void 0:dV["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(hV=(fV=oi.variants)==null?void 0:fV.size)==null?void 0:hV.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(mV=(pV=oi.variants)==null?void 0:pV.size)==null?void 0:mV.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(vV=(gV=oi.variants)==null?void 0:gV.size)==null?void 0:vV.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(xV=(yV=oi.variants)==null?void 0:yV.size)==null?void 0:xV.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(bV=(_V=oi.variants)==null?void 0:_V.size)==null?void 0:bV.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(wV=(SV=oi.variants)==null?void 0:SV.size)==null?void 0:wV["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(TV=(EV=oi.variants)==null?void 0:EV.variant)==null?void 0:TV.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(MV=(CV=oi.variants)==null?void 0:CV.variant)==null?void 0:MV.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),$ae=xt({slots:uae.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),qae=xt({slots:dae.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),Xae=xt({slots:fae.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),BO=dW({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),Yae=xt({slots:hae.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...BO,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...BO,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),Kae=xt({slots:pae.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),Jae=xt({className:"chakra-field",slots:mae.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),Qae=xt({className:"fieldset",slots:gae.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Zae=xt({className:"chakra-file-upload",slots:vae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3"},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{alignSelf:"flex-start"},itemPreviewImage:{width:"10",height:"10",objectFit:"scale-down"}},defaultVariants:{}}),ele=xt({className:"chakra-hover-card",slots:h8.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),tle=xt({className:"chakra-list",slots:yae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert",listStylePosition:"inside"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),nle=xt({className:"chakra-menu",slots:xae.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"}},itemText:{flex:"1"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),c1=xt({className:"chakra-select",slots:Eae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var PV,AV;const ile=xt({className:"chakra-native-select",slots:_ae.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(PV=c1.variants)==null?void 0:PV.variant.outline.trigger},subtle:{field:(AV=c1.variants)==null?void 0:AV.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:c1.defaultVariants});function sA(t,e){const n={};for(const i in t){const r=e(i,t[i]);n[r[0]]=r[1]}return n}const UO=dW({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),rle=xt({className:"chakra-number-input",slots:S8.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...oi.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...UO,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...UO,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:oi.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:oi.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:oi.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:oi.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:sA(oi.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:VO,defaultVariants:sle}=oi,ole=xt({className:"chakra-pin-input",slots:M8.keys(),base:{input:{...oi.base,textAlign:"center",width:"var(--input-height)"}},variants:{size:sA(VO.size,(t,e)=>[t,{input:e}]),variant:sA(VO.variant,(t,e)=>[t,{input:e}])},defaultVariants:sle}),ale=xt({className:"chakra-popover",slots:bae.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),lle=xt({slots:r2.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),cle=xt({className:"chakra-progress-circle",slots:r2.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),ule=xt({slots:P8.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var IV,RV,kV,NV,LV,DV,OV;const dle=xt({className:"chakra-radio-card",slots:Sae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:Yi.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(IV=Yi.variants)==null?void 0:IV.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(RV=Yi.variants)==null?void 0:RV.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(kV=Yi.variants)==null?void 0:kV.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(NV=Yi.variants)==null?void 0:NV.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(LV=Yi.variants)==null?void 0:LV.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(DV=Yi.variants)==null?void 0:DV.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(OV=Yi.variants)==null?void 0:OV.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var FV,zV,BV,UV,VV,jV,HV,WV,GV,$V,qV,XV,YV,KV;const fle=xt({className:"chakra-radio-group",slots:R8.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:Yi.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(zV=(FV=Yi.variants)==null?void 0:FV.variant)==null?void 0:zV.outline},subtle:{itemControl:(UV=(BV=Yi.variants)==null?void 0:BV.variant)==null?void 0:UV.subtle},solid:{itemControl:(jV=(VV=Yi.variants)==null?void 0:VV.variant)==null?void 0:jV.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(WV=(HV=Yi.variants)==null?void 0:HV.size)==null?void 0:WV.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:($V=(GV=Yi.variants)==null?void 0:GV.size)==null?void 0:$V.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(XV=(qV=Yi.variants)==null?void 0:qV.size)==null?void 0:XV.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(KV=(YV=Yi.variants)==null?void 0:YV.size)==null?void 0:KV.lg}}},defaultVariants:{size:"md",variant:"solid"}}),hle=xt({className:"chakra-rating-group",slots:wae.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),ple=xt({className:"chakra-segment-group",slots:A8.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),mle=xt({className:"chakra-slider",slots:Tae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label]":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label]":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),gle=xt({className:"chakra-stat",slots:Cae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),vle=xt({className:"chakra-status",slots:Mae.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),yle=xt({className:"chakra-steps",slots:Pae.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),xle=xt({slots:Aae.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),_le=xt({className:"chakra-table",slots:Iae.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),ble=xt({slots:kae.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var JV;const qs=(JV=e2.variants)==null?void 0:JV.variant,Sle=xt({slots:Nae.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:qs==null?void 0:qs.subtle},solid:{root:qs==null?void 0:qs.solid},outline:{root:qs==null?void 0:qs.outline},surface:{root:qs==null?void 0:qs.surface}}},defaultVariants:{size:"md",variant:"surface"}}),wle=xt({slots:Lae.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),Ele=xt({slots:Rae.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),Tle=xt({slots:I8.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),Cle={accordion:Dae,actionBar:Oae,alert:Fae,avatar:zae,blockquote:Bae,breadcrumb:Uae,card:Vae,checkbox:jae,checkboxCard:Hae,collapsible:Wae,dataList:$ae,dialog:qae,drawer:Xae,editable:Yae,emptyState:Kae,field:Jae,fieldset:Qae,fileUpload:Zae,hoverCard:ele,list:tle,menu:nle,nativeSelect:ile,numberInput:rle,pinInput:ole,popover:ale,progress:lle,progressCircle:cle,radioCard:dle,radioGroup:fle,ratingGroup:hle,segmentGroup:ple,select:c1,slider:mle,stat:gle,steps:yle,switch:xle,table:_le,tabs:ble,tag:Sle,toast:Ele,tooltip:Tle,status:vle,timeline:wle,colorPicker:Gae,qrCode:ule},Mle=Zie({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}}}),Ple=di.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),Ale=di.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),Ile=di.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),Rle=di.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),kle=di.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),Nle=di.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),Lle=di.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),Dle=di.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),Ole=di.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),Fle=di.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),jO='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',zle=di.fonts({heading:{value:`Inter, ${jO}`},body:{value:`Inter, ${jO}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),Ble=Jie({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),Ule=di.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),Vle=di.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),jle=di.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),k8=di.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),Hle=di.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),Wle=di.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),Gle=di.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),$le=di.sizes({...Hle,...k8,...Gle,...Wle}),qle=di.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),Xle=hW({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:wse,theme:{breakpoints:Sse,keyframes:Ble,tokens:{aspectRatios:Ale,animations:Ple,blurs:Ile,borders:Rle,colors:kle,durations:Lle,easings:Dle,fonts:zle,fontSizes:Ole,fontWeights:Fle,letterSpacings:Ule,lineHeights:Vle,radii:jle,spacing:k8,sizes:$le,zIndex:qle,cursor:Nle},semanticTokens:{colors:Hse,shadows:Gse,radii:Wse},recipes:jse,slotRecipes:Cle,textStyles:Mle,layerStyles:Ese,animationStyles:Tse}}),Yle=pW(cre,Xle),Kle=_se(Yle);function Jle(t){const{key:e,recipe:n}=t,i=tw();return L.useMemo(()=>{const r=n||(e!=null?i.getSlotRecipe(e):{});return i.sva(structuredClone(r))},[e,n,i])}const Qle=t=>t.charAt(0).toUpperCase()+t.slice(1),s2=t=>{const{key:e,recipe:n}=t,i=Qle(e||n.className||"Component"),[r,s]=Ng({name:`${i}StylesContext`,errorMessage:`use${i}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `}),[o,a]=Ng({name:`${i}ClassNameContext`,errorMessage:`use${i}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `,strict:!1}),[l,c]=Ng({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`,defaultValue:{}});function u(g){const{unstyled:y,..._}=g,v=Jle({key:e,recipe:_.recipe||n}),[x,b]=v.splitVariantProps(_);return{styles:y?dee:v(x),classNames:v.classNameMap,props:b}}function d(g,y={}){const{defaultProps:_}=y,v=x=>{const b=Sv(_,c(),x),{styles:E,classNames:M,props:C}=u(b);return w.jsx(r,{value:E,children:w.jsx(o,{value:M,children:w.jsx(g,{...C})})})};return v.displayName=g.displayName||g.name,v}return{StylesProvider:r,ClassNamesProvider:o,PropsProvider:l,usePropsContext:c,useRecipeResult:u,withProvider:(g,y,_)=>{const{defaultProps:v,...x}=_??{},b=ls(g,{},x),E=L.forwardRef((M,C)=>{var U;const R=Sv(v??{},c(),M),{styles:k,props:I,classNames:P}=u(R),O=P[y],z=w.jsx(r,{value:k,children:w.jsx(o,{value:P,children:w.jsx(b,{ref:C,...I,css:[k[y],R.css],className:Cs(R.className,O)})})});return((U=_==null?void 0:_.wrapElement)==null?void 0:U.call(_,z,R))??z});return E.displayName=g.displayName||g.name,E},withContext:(g,y,_)=>{const v=ls(g,{},_),x=L.forwardRef((b,E)=>{const M=s(),C=a(),R=C==null?void 0:C[y];return w.jsx(v,{...b,css:[y?M[y]:void 0,b.css],ref:E,className:Cs(b.className,R)})});return x.displayName=g.displayName||g.name,x},withRootProvider:d,useStyles:s,useClassNames:a}},Zle=t=>w.jsx(ls.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:w.jsx("path",{d:"m18 15-6-6-6 6"})}),ece=t=>w.jsx(ls.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:w.jsx("path",{d:"m6 9 6 6 6-6"})}),fn=ls("div");fn.displayName="Box";const pg=ls("span"),o2=ls("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}}},defaultVariants:{axis:"both"}});o2.displayName="AbsoluteCenter";const{withContext:tce,PropsProvider:rDe}=Pp({key:"spinner"}),oA=tce("span"),nce=L.forwardRef(function(e,n){const{spinner:i=w.jsx(oA,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:r="start",children:s,text:o,visible:a=!0,...l}=e;return a?o?w.jsxs(pg,{ref:n,display:"contents",...l,children:[r==="start"&&i,o,r==="end"&&i]}):i?w.jsxs(pg,{ref:n,display:"contents",...l,children:[w.jsx(o2,{display:"inline-flex",children:i}),w.jsx(pg,{opacity:0,children:s})]}):w.jsx(pg,{ref:n,display:"contents",...l,children:s}):s}),{useRecipeResult:ice,PropsProvider:sDe,usePropsContext:rce}=Pp({key:"button"}),Io=L.forwardRef(function(e,n){const i=rce(),r=L.useMemo(()=>Sv(i,e),[i,e]),s=ice(r),{loading:o,loadingText:a,children:l,spinner:c,spinnerPlacement:u,...d}=s.props;return w.jsx(ls.button,{type:"button",ref:n,...d,disabled:o||d.disabled,className:Cs(s.className,r.className),css:[s.styles,r.css],children:!r.asChild&&o?w.jsx(nce,{spinner:c,text:a,spinnerPlacement:u,children:l}):l})}),Ps=L.forwardRef(function(e,n){return w.jsx(Io,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})}),{withProvider:sce,withContext:wy,useStyles:oDe,PropsProvider:aDe}=s2({key:"card"}),oce=sce("div","root"),ace=wy("div","body");wy("div","header");const lce=wy("div","footer"),cce=wy("h3","title"),uce=wy("p","description");function dce(t){const{when:e,fallback:n,children:i}=t;let r;return e?r=typeof i=="function"?i(e):i:r=n,L.isValidElement(r)?r:w.jsx(w.Fragment,{children:r})}const fce=t=>{const{children:e,fallback:n}=t,[i,r]=L.useState(!1);return L.useEffect(()=>{r(!0)},[]),w.jsx(dce,{when:i,fallback:n,children:e})},{withRootProvider:N8,withContext:ka,useStyles:lDe,PropsProvider:cDe}=s2({key:"drawer"});N8(Moe,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const hce=N8(Coe,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});ka(JW,"trigger",{forwardAsChild:!0});const pce=ka(XW,"positioner",{forwardAsChild:!0}),mce=ka($W,"content",{forwardAsChild:!0});ka(qW,"description",{forwardAsChild:!0});ka(KW,"title",{forwardAsChild:!0});const gce=ka(GW,"closeTrigger",{forwardAsChild:!0});L.forwardRef(function(e,n){const i=cu();return w.jsx(ls.button,{...e,ref:n,onClick:()=>i.setOpen(!1)})});const vce=ka(WW,"backdrop",{forwardAsChild:!0}),yce=ka("div","body");ka("div","footer");const xce=ka("div","header"),{useRecipeResult:_ce,PropsProvider:uDe}=Pp({key:"icon"}),bce=L.forwardRef(function(e,n){const{styles:i,className:r,props:s}=_ce({asChild:!e.as,...e});return w.jsx(ls.svg,{ref:n,focusable:!1,"aria-hidden":"true",...s,css:[i,e.css],className:Cs(r,e.className)})}),ko=L.forwardRef(function(e,n){const{direction:i,align:r,justify:s,wrap:o,basis:a,grow:l,shrink:c,inline:u,...d}=e;return w.jsx(ls.div,{ref:n,...d,css:{display:u?"inline-flex":"flex",flexDirection:i,alignItems:r,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c,...e.css}})}),Bh=L.forwardRef(function(e,n){const{align:i,fit:r="cover",...s}=e;return w.jsx(ls.img,{ref:n,objectFit:r,objectPosition:i,className:Cs("chakra-image",e.className),...s})}),{withContext:Sce,PropsProvider:dDe}=Pp({key:"link"}),Rf=Sce("a"),{withProvider:L8,withContext:Kd,useStyles:fDe,PropsProvider:hDe}=s2({key:"numberInput"});L8(E8,"root",{forwardAsChild:!0});const wce=L8(w8,"root",{forwardAsChild:!0});Kd(m8,"control",{forwardAsChild:!0});const Ece=Kd(x8,"label",{forwardAsChild:!0});Kd(y8,"input",{forwardAsChild:!0});const Tce=Kd(v8,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:w.jsx(Zle,{})}}),Cce=Kd(g8,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:w.jsx(ece,{})}});Kd(T8,"scrubber",{forwardAsChild:!0});const Mce=Kd(C8,"valueText",{forwardAsChild:!0}),Pce=t=>{var l;const{children:e,disabled:n}=t,[i,r]=L.useState((l=t.container)==null?void 0:l.current),s=L.useSyncExternalStore(Ice,()=>!1,()=>!0),{getRootNode:o}=t2();if(L.useEffect(()=>{r(()=>{var c;return(c=t.container)==null?void 0:c.current})},[t.container]),s||n)return w.jsx(w.Fragment,{children:e});const a=i??Ace(o);return w.jsx(w.Fragment,{children:L.Children.map(e,c=>uH.createPortal(c,a))})},Ace=t=>{const e=t==null?void 0:t(),n=e.getRootNode();return Cv(n)?n:Bl(e).body},Ice=()=>()=>{},{withContext:Rce,PropsProvider:pDe}=Pp({key:"skeleton"}),kce=Rce("div");function Nce(t){const{gap:e,direction:n}=t,i={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":gW(n,r=>i[r])}}function Lce(t){return L.Children.toArray(t).filter(e=>L.isValidElement(e))}const D8=L.forwardRef(function(e,n){const{direction:i="column",align:r,justify:s,gap:o="0.5rem",wrap:a,children:l,separator:c,className:u,...d}=e,h=L.useMemo(()=>Nce({gap:o,direction:i}),[o,i]),m=L.useMemo(()=>c?Lce(l).map((g,y,_)=>{const v=typeof g.key<"u"?g.key:y,x=L.cloneElement(c,{css:[h,c.props.css]});return w.jsxs(L.Fragment,{children:[g,y===_.length-1?null:x]},v)}):l,[l,c,h]);return w.jsx(ls.div,{ref:n,display:"flex",alignItems:r,justifyContent:s,flexDirection:i,flexWrap:a,gap:c?void 0:o,className:Cs("chakra-stack",u),...d,children:m})}),Dce=L.forwardRef(function(e,n){return w.jsx(D8,{align:"center",...e,direction:"row",ref:n})}),O8=L.forwardRef(function(e,n){return w.jsx(D8,{align:"center",...e,direction:"column",ref:n})}),{withContext:Oce,PropsProvider:mDe}=Pp({key:"text"}),Pn=Oce("p");var Fce=(t,e,n,i,r,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function u(m){(Array.isArray(t)?t:[t]).forEach(g=>{let y=g==="class",_=y&&s?r.map(v=>s[v]||v):r;y?(l.classList.remove(..._),l.classList.add(m)):l.setAttribute(g,m)}),d(m)}function d(m){a&&c.includes(m)&&(l.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)u(i);else try{let m=localStorage.getItem(e)||n,g=o&&m==="system"?h():m;u(g)}catch{}},HO=["light","dark"],F8="(prefers-color-scheme: dark)",zce=typeof window>"u",a2=L.createContext(void 0),Bce={setTheme:t=>{},themes:[]},Uce=()=>{var t;return(t=L.useContext(a2))!=null?t:Bce},Vce=t=>L.useContext(a2)?L.createElement(L.Fragment,null,t.children):L.createElement(Hce,{...t}),jce=["light","dark"],Hce=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:r="theme",themes:s=jce,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u,scriptProps:d})=>{let[h,m]=L.useState(()=>WO(r,o)),[g,y]=L.useState(()=>WO(r)),_=l?Object.values(l):s,v=L.useCallback(M=>{let C=M;if(!C)return;M==="system"&&n&&(C=GO());let R=l?l[C]:C,k=e?Gce(u):null,I=document.documentElement,P=O=>{O==="class"?(I.classList.remove(..._),R&&I.classList.add(R)):O.startsWith("data-")&&(R?I.setAttribute(O,R):I.removeAttribute(O))};if(Array.isArray(a)?a.forEach(P):P(a),i){let O=HO.includes(o)?o:null,z=HO.includes(C)?C:O;I.style.colorScheme=z}k==null||k()},[u]),x=L.useCallback(M=>{let C=typeof M=="function"?M(h):M;m(C);try{localStorage.setItem(r,C)}catch{}},[h]),b=L.useCallback(M=>{let C=GO(M);y(C),h==="system"&&n&&!t&&v("system")},[h,t]);L.useEffect(()=>{let M=window.matchMedia(F8);return M.addListener(b),b(M),()=>M.removeListener(b)},[b]),L.useEffect(()=>{let M=C=>{if(C.key!==r)return;let R=C.newValue||o;x(R)};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[x]),L.useEffect(()=>{v(t??h)},[t,h]);let E=L.useMemo(()=>({theme:h,setTheme:x,forcedTheme:t,resolvedTheme:h==="system"?g:h,themes:n?[...s,"system"]:s,systemTheme:n?g:void 0}),[h,x,t,g,n,s]);return L.createElement(a2.Provider,{value:E},L.createElement(Wce,{forcedTheme:t,storageKey:r,attribute:a,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:l,themes:s,nonce:u,scriptProps:d}),c)},Wce=L.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,e,s,t,a,o,i,r]).slice(1,-1);return L.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Fce.toString()})(${u})`}})}),WO=(t,e)=>{if(zce)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Gce=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},GO=t=>(t||(t=window.matchMedia(F8)),t.matches?"dark":"light"),z8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$O=ze.createContext&&ze.createContext(z8),$ce=["attr","size","title"];function qce(t,e){if(t==null)return{};var n=Xce(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Xce(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ob.apply(this,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(i){Yce(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Yce(t,e,n){return e=Kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Jce(t,"string");return typeof e=="symbol"?e:e+""}function Jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B8(t){return t&&t.map((e,n)=>ze.createElement(e.tag,ab({key:n},e.attr),B8(e.child)))}function Ci(t){return e=>ze.createElement(Qce,ob({attr:ab({},t.attr)},e),B8(t.child))}function Qce(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=qce(t,$ce),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ze.createElement("svg",ob({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:ab(ab({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ze.createElement("title",null,s),t.children)};return $O!==void 0?ze.createElement($O.Consumer,null,n=>e(n)):e(z8)}function Zce(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"},child:[]}]})(t)}function eue(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(t)}function tue(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function nue(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]},{tag:"path",attr:{d:"M14.05 2a9 9 0 0 1 8 7.94"},child:[]},{tag:"path",attr:{d:"M14.05 6A5 5 0 0 1 18 10"},child:[]}]})(t)}function iue(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function rue(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}function sue(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(t)}function oue(t){return w.jsx(Vce,{attribute:"class",disableTransitionOnChange:!0,...t})}function U8(){const{resolvedTheme:t,setTheme:e}=Uce();return{colorMode:t,setColorMode:e,toggleColorMode:()=>{e(t==="light"?"dark":"light")}}}function aue(){const{colorMode:t}=U8();return t==="light"?w.jsx(rue,{}):w.jsx(tue,{})}L.forwardRef(function(e,n){const{toggleColorMode:i}=U8();return w.jsx(fce,{fallback:w.jsx(kce,{boxSize:"8"}),children:w.jsx(Ps,{onClick:i,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:w.jsx(aue,{})})})});function V8(t){return w.jsx(gte,{value:Kle,children:w.jsx(oue,{...t})})}var l2={};Object.defineProperty(l2,"__esModule",{value:!0});l2.parse=pue;l2.serialize=mue;const lue=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cue=/^[\u0021-\u003A\u003C-\u007E]*$/,uue=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,due=/^[\u0020-\u003A\u003D-\u007E]*$/,fue=Object.prototype.toString,hue=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function pue(t,e){const n=new hue,i=t.length;if(i<2)return n;const r=(e==null?void 0:e.decode)||gue;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?i:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=XO(t,s,o),u=YO(t,o,c),d=t.slice(c,u);if(n[d]===void 0){let h=XO(t,o+1,l),m=YO(t,l,h);const g=r(t.slice(h,m));n[d]=g}s=l+1}while(s<i);return n}function XO(t,e,n){do{const i=t.charCodeAt(e);if(i!==32&&i!==9)return e}while(++e<n);return n}function YO(t,e,n){for(;e>n;){const i=t.charCodeAt(--e);if(i!==32&&i!==9)return e+1}return n}function mue(t,e,n){const i=(n==null?void 0:n.encode)||encodeURIComponent;if(!lue.test(t))throw new TypeError(`argument name is invalid: ${t}`);const r=i(e);if(!cue.test(r))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+r;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!uue.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!due.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!vue(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function gue(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function vue(t){return fue.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KO="popstate";function yue(t={}){function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=Jd(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),aA("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Av(s))}function i(r,s){Na(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return _ue(e,n,i,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Na(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xue(){return Math.random().toString(36).substring(2,10)}function JO(t,e){return{usr:t.state,key:t.key,idx:e}}function aA(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jd(e):e,state:n,key:e&&e.key||i||xue()}}function Av({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function _ue(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:v})}function h(_,v){a="PUSH";let x=aA(y.location,_,v);n(x,_),c=u()+1;let b=JO(x,c),E=y.createHref(x);try{o.pushState(b,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,v){a="REPLACE";let x=aA(y.location,_,v);n(x,_),c=u();let b=JO(x,c),E=y.createHref(x);o.replaceState(b,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function g(_){let v=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof _=="string"?_:Av(_);return x=x.replace(/ $/,"%20"),In(v,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,v)}let y={get action(){return a},get location(){return t(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(KO,d),l=_,()=>{r.removeEventListener(KO,d),l=null}},createHref(_){return e(r,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(_){return o.go(_)}};return y}function j8(t,e,n="/"){return bue(t,e,n,!1)}function bue(t,e,n,i){let r=typeof e=="string"?Jd(e):e,s=Kc(r.pathname||"/",n);if(s==null)return null;let o=H8(t);Sue(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Nue(s);a=Rue(o[l],c,i)}return a}function H8(t,e=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(In(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=vl([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(In(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),H8(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Aue(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of W8(s.path))r(s,o,l)}),e}function W8(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=W8(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Sue(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Iue(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var wue=/^:[\w-]+$/,Eue=3,Tue=2,Cue=1,Mue=10,Pue=-2,QO=t=>t==="*";function Aue(t,e){let n=t.split("/"),i=n.length;return n.some(QO)&&(i+=Pue),e&&(i+=Tue),n.filter(r=>!QO(r)).reduce((r,s)=>r+(wue.test(s)?Eue:s===""?Cue:Mue),i)}function Iue(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Rue(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=lb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=lb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:vl([s,d.pathname]),pathnameBase:Fue(vl([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=vl([s,d.pathnameBase]))}return o}function lb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=kue(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return d&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function kue(t,e=!1,n=!0){Na(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Nue(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Na(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Lue(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Jd(t):t;return{pathname:n?n.startsWith("/")?n:Due(n,e):e,search:zue(i),hash:Bue(r)}}function Due(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function dC(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Oue(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c2(t){let e=Oue(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function u2(t,e,n,i=!1){let r;typeof t=="string"?r=Jd(t):(r={...t},In(!r.pathname||!r.pathname.includes("?"),dC("?","pathname","search",r)),In(!r.pathname||!r.pathname.includes("#"),dC("#","pathname","hash",r)),In(!r.search||!r.search.includes("#"),dC("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Lue(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var vl=t=>t.join("/").replace(/\/\/+/g,"/"),Fue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Uue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var G8=["POST","PUT","PATCH","DELETE"];new Set(G8);var Vue=["GET",...G8];new Set(Vue);var Ip=L.createContext(null);Ip.displayName="DataRouter";var aw=L.createContext(null);aw.displayName="DataRouterState";var $8=L.createContext({isTransitioning:!1});$8.displayName="ViewTransition";var jue=L.createContext(new Map);jue.displayName="Fetchers";var Hue=L.createContext(null);Hue.displayName="Await";var Go=L.createContext(null);Go.displayName="Navigation";var Ey=L.createContext(null);Ey.displayName="Location";var La=L.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var d2=L.createContext(null);d2.displayName="RouteError";function Wue(t,{relative:e}={}){In(Rp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(Go),{hash:r,pathname:s,search:o}=Ty(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:vl([n,s])),i.createHref({pathname:a,search:o,hash:r})}function Rp(){return L.useContext(Ey)!=null}function ho(){return In(Rp(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ey).location}var q8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X8(t){L.useContext(Go).static||L.useLayoutEffect(t)}function Y8(){let{isDataRoute:t}=L.useContext(La);return t?ide():Gue()}function Gue(){In(Rp(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Ip),{basename:e,navigator:n}=L.useContext(Go),{matches:i}=L.useContext(La),{pathname:r}=ho(),s=JSON.stringify(c2(i)),o=L.useRef(!1);return X8(()=>{o.current=!0}),L.useCallback((l,c={})=>{if(Na(o.current,q8),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=u2(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:vl([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,r,t])}L.createContext(null);function Ty(t,{relative:e}={}){let{matches:n}=L.useContext(La),{pathname:i}=ho(),r=JSON.stringify(c2(n));return L.useMemo(()=>u2(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function $ue(t,e){return K8(t,e)}function K8(t,e,n,i){var y;In(Rp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=L.useContext(Go),{matches:s}=L.useContext(La),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ho(),u;if(e){let _=typeof e=="string"?Jd(e):e;In(l==="/"||((y=_.pathname)==null?void 0:y.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${_.pathname}" was given in the \`location\` prop.`),u=_}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=j8(t,{pathname:h}),g=Jue(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:vl([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:vl([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,i);return e&&g?L.createElement(Ey.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...u},navigationType:"POP"}},g):g}function que(){let t=nde(),e=Uue(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:r},n):null,null)}var Xue=L.createElement(que,null),Yue=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(La.Provider,{value:this.props.routeContext},L.createElement(d2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kue({routeContext:t,match:e,children:n}){let i=L.useContext(Ip);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(La.Provider,{value:t},n)}function Jue(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);In(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,u)=>{let d,h=!1,m=null,g=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||Xue,o&&(a<0&&u===0?(rde("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let y=e.concat(r.slice(0,u+1)),_=()=>{let v;return d?v=m:h?v=g:c.route.Component?v=L.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,L.createElement(Kue,{match:c,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?L.createElement(Yue,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}function f2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Que(t){let e=L.useContext(Ip);return In(e,f2(t)),e}function Zue(t){let e=L.useContext(aw);return In(e,f2(t)),e}function ede(t){let e=L.useContext(La);return In(e,f2(t)),e}function h2(t){let e=ede(t),n=e.matches[e.matches.length-1];return In(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tde(){return h2("useRouteId")}function nde(){var i;let t=L.useContext(d2),e=Zue("useRouteError"),n=h2("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ide(){let{router:t}=Que("useNavigate"),e=h2("useNavigate"),n=L.useRef(!1);return X8(()=>{n.current=!0}),L.useCallback(async(r,s={})=>{Na(n.current,q8),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var ZO={};function rde(t,e,n){ZO[t]||(ZO[t]=!0,Na(!1,n))}L.memo(sde);function sde({routes:t,future:e,state:n}){return K8(t,void 0,n,e)}function J8({to:t,replace:e,state:n,relative:i}){In(Rp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=L.useContext(Go);Na(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=L.useContext(La),{pathname:o}=ho(),a=Y8(),l=u2(t,c2(s),o,i==="path"),c=JSON.stringify(l);return L.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:i})},[a,c,i,e,n]),null}function Ar(t){In(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ode({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){In(!Rp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Jd(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,m=L.useMemo(()=>{let g=Kc(l,o);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:h},navigationType:i}},[o,l,c,u,d,h,i]);return Na(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:L.createElement(Go.Provider,{value:a},L.createElement(Ey.Provider,{children:e,value:m}))}function ade({children:t,location:e}){return $ue(lA(t),e)}function lA(t,e=[]){let n=[];return L.Children.forEach(t,(i,r)=>{if(!L.isValidElement(i))return;let s=[...e,r];if(i.type===L.Fragment){n.push.apply(n,lA(i.props.children,s));return}In(i.type===Ar,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),In(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=lA(i.props.children,s)),n.push(o)}),n}var u1="get",d1="application/x-www-form-urlencoded";function lw(t){return t!=null&&typeof t.tagName=="string"}function lde(t){return lw(t)&&t.tagName.toLowerCase()==="button"}function cde(t){return lw(t)&&t.tagName.toLowerCase()==="form"}function ude(t){return lw(t)&&t.tagName.toLowerCase()==="input"}function dde(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fde(t,e){return t.button===0&&(!e||e==="_self")&&!dde(t)}var Rx=null;function hde(){if(Rx===null)try{new FormData(document.createElement("form"),0),Rx=!1}catch{Rx=!0}return Rx}var pde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fC(t){return t!=null&&!pde.has(t)?(Na(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${d1}"`),null):t}function mde(t,e){let n,i,r,s,o;if(cde(t)){let a=t.getAttribute("action");i=a?Kc(a,e):null,n=t.getAttribute("method")||u1,r=fC(t.getAttribute("enctype"))||d1,s=new FormData(t)}else if(lde(t)||ude(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(i=l?Kc(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||u1,r=fC(t.getAttribute("formenctype"))||fC(a.getAttribute("enctype"))||d1,s=new FormData(a,t),!hde()){let{name:c,type:u,value:d}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(lw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=u1,i=null,r=d1,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function p2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gde(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vde(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yde(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await gde(s,n);return o.links?o.links():[]}return[]}));return Sde(i.flat(1).filter(vde).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function e4(t,e,n,i,r,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=i.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function xde(t,e){return _de(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function _de(t){return[...new Set(t)]}function bde(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Sde(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(bde(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function wde(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Ede(){let t=L.useContext(Ip);return p2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Tde(){let t=L.useContext(aw);return p2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var m2=L.createContext(void 0);m2.displayName="FrameworkContext";function Q8(){let t=L.useContext(m2);return p2(t,"You must render this element inside a <HydratedRouter> element"),t}function Cde(t,e){let n=L.useContext(m2),[i,r]=L.useState(!1),[s,o]=L.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=L.useRef(null);L.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=v=>{v.forEach(x=>{o(x.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return h.current&&_.observe(h.current),()=>{_.disconnect()}}},[t]),L.useEffect(()=>{if(i){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[i]);let m=()=>{r(!0)},g=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Am(a,m),onBlur:Am(l,g),onMouseEnter:Am(c,m),onMouseLeave:Am(u,g),onTouchStart:Am(d,m)}]:[!1,h,{}]}function Am(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Mde({page:t,...e}){let{router:n}=Ede(),i=L.useMemo(()=>j8(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?L.createElement(Ade,{page:t,matches:i,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function Pde(t){let{manifest:e,routeModules:n}=Q8(),[i,r]=L.useState([]);return L.useEffect(()=>{let s=!1;return yde(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function Ade({page:t,matches:e,...n}){let i=ho(),{manifest:r,routeModules:s}=Q8(),{loaderData:o,matches:a}=Tde(),l=L.useMemo(()=>e4(t,e,a,r,i,"data"),[t,e,a,r,i]),c=L.useMemo(()=>e4(t,e,a,r,i,"assets"),[t,e,a,r,i]),u=L.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let m=new Set,g=!1;if(e.forEach(_=>{var x;let v=r.routes[_.route.id];!v||!v.hasLoader||(!l.some(b=>b.route.id===_.route.id)&&_.route.id in o&&((x=s[_.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?g=!0:m.add(_.route.id))}),m.size===0)return[];let y=wde(t);return g&&m.size>0&&y.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[o,i,r,l,e,t,s]),d=L.useMemo(()=>xde(c,r),[c,r]),h=Pde(c);return L.createElement(L.Fragment,null,u.map(m=>L.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),d.map(m=>L.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),h.map(({key:m,link:g})=>L.createElement("link",{key:m,...g})))}function Ide(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Z8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z8&&(window.__reactRouterVersion="7.0.1")}catch{}function Rde({basename:t,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=yue({window:n,v5Compat:!0}));let r=i.current,[s,o]=L.useState({action:r.action,location:r.location}),a=L.useCallback(l=>{L.startTransition(()=>o(l))},[o]);return L.useLayoutEffect(()=>r.listen(a),[r,a]),L.createElement(ode,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var eG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},m){let{basename:g}=L.useContext(Go),y=typeof c=="string"&&eG.test(c),_,v=!1;if(typeof c=="string"&&y&&(_=c,Z8))try{let I=new URL(window.location.href),P=c.startsWith("//")?new URL(I.protocol+c):new URL(c),O=Kc(P.pathname,g);P.origin===I.origin&&O!=null?c=O+P.search+P.hash:v=!0}catch{Na(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Wue(c,{relative:r}),[b,E,M]=Cde(i,h),C=Dde(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function R(I){e&&e(I),I.defaultPrevented||C(I)}let k=L.createElement("a",{...h,...M,href:_||x,onClick:v||s?e:R,ref:Ide(m,E),target:l,"data-discover":!y&&n==="render"?"true":void 0});return b&&!y?L.createElement(L.Fragment,null,k,L.createElement(Mde,{page:x})):k});Qn.displayName="Link";var kde=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=Ty(o,{relative:c.relative}),h=ho(),m=L.useContext(aw),{navigator:g,basename:y}=L.useContext(Go),_=m!=null&&Ude(d)&&a===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,x=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&y&&(b=Kc(b,y)||b);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let M=x===v||!r&&x.startsWith(v)&&x.charAt(E)==="/",C=b!=null&&(b===v||!r&&b.startsWith(v)&&b.charAt(v.length)==="/"),R={isActive:M,isPending:C,isTransitioning:_},k=M?e:void 0,I;typeof i=="function"?I=i(R):I=[i,M?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(R):s;return L.createElement(Qn,{...c,"aria-current":k,className:I,ref:u,style:P,to:o,viewTransition:a},typeof l=="function"?l(R):l)});kde.displayName="NavLink";var Nde=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=u1,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},m)=>{let g=zde(),y=Bde(a,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&eG.test(a),x=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let E=b.nativeEvent.submitter,M=(E==null?void 0:E.getAttribute("formmethod"))||o;g(E||b.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:r,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return L.createElement("form",{ref:m,method:_,action:y,onSubmit:i?l:x,...h,"data-discover":!v&&t==="render"?"true":void 0})});Nde.displayName="Form";function Lde(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tG(t){let e=L.useContext(Ip);return In(e,Lde(t)),e}function Dde(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=Y8(),l=ho(),c=Ty(t,{relative:s});return L.useCallback(u=>{if(fde(u,e)){u.preventDefault();let d=n!==void 0?n:Av(l)===Av(c);a(t,{replace:d,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,n,i,e,t,r,s,o])}var Ode=0,Fde=()=>`__${String(++Ode)}__`;function zde(){let{router:t}=tG("useSubmit"),{basename:e}=L.useContext(Go),n=tde();return L.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=mde(i,e);if(r.navigate===!1){let u=r.fetcherKey||Fde();await t.fetch(u,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function Bde(t,{relative:e}={}){let{basename:n}=L.useContext(Go),i=L.useContext(La);In(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Ty(t||".",{relative:e})},o=ho();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:vl([n,s.pathname])),Av(s)}function Ude(t,e={}){let n=L.useContext($8);In(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tG("useViewTransitionState"),r=Ty(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Kc(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Kc(n.nextLocation.pathname,i)||n.nextLocation.pathname;return lb(r.pathname,o)!=null||lb(r.pathname,s)!=null}new TextEncoder;const Vde=L.forwardRef(function(e,n){return w.jsx(Ps,{variant:"ghost","aria-label":"Close",ref:n,...e,children:e.children??w.jsx(sue,{})})}),jde=L.forwardRef(function(e,n){const{children:i,portalled:r=!0,portalRef:s,offset:o,...a}=e;return w.jsx(Pce,{disabled:!r,container:s,children:w.jsx(pce,{padding:o,children:w.jsx(mce,{ref:n,...a,asChild:!1,children:i})})})}),Hde=L.forwardRef(function(e,n){return w.jsx(gce,{position:"absolute",top:"2",insetEnd:"2",...e,asChild:!0,children:w.jsx(Vde,{size:"sm",ref:n})})}),Wde=hce,Gde=xce,$de=yce,qde=vce;function Xde(t){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}var t4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae=function(t,e){if(!t)throw kp(e)},kp=function(t){return new Error("Firebase Database ("+nG.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Yde=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},g2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),i.push(n[u],n[d],n[h],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iG(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yde(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new Kde;const h=s<<2|a>>4;if(i.push(h),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const g=c<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rG=function(t){const e=iG(t);return g2.encodeByteArray(e,!0)},cb=function(t){return rG(t).replace(/\./g,"")},ub=function(t){try{return g2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jde(t){return sG(void 0,t)}function sG(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Qde(n)||(t[n]=sG(t[n],e[n]));return t}function Qde(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const efe=()=>Zde().__FIREBASE_DEFAULTS__,tfe=()=>{if(typeof process>"u"||typeof t4>"u")return;const t=t4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nfe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ub(t[1]);return e&&JSON.parse(e)},v2=()=>{try{return efe()||tfe()||nfe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oG=t=>{var e,n;return(n=(e=v2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ife=t=>{const e=oG(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},aG=()=>{var t;return(t=v2())===null||t===void 0?void 0:t.config},lG=t=>{var e;return(e=v2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rfe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cb(JSON.stringify(n)),cb(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ur())}function sfe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ofe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function afe(){const t=Ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uG(){return nG.NODE_ADMIN===!0}function lfe(){try{return typeof indexedDB=="object"}catch{return!1}}function cfe(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ufe="FirebaseError";class uu extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ufe,Object.setPrototypeOf(this,uu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,My.prototype.create)}}class My{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?dfe(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new uu(r,a,i)}}function dfe(t,e){return t.replace(ffe,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const ffe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return JSON.parse(t)}function yi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Iv(ub(s[0])||""),n=Iv(ub(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},hfe=function(t){const e=dG(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pfe=function(t){const e=dG(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sp(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function db(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function fb(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(n4(s)&&n4(o)){if(!fb(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function n4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function gg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function gfe(t,e){const n=new vfe(t,e);return n.subscribe.bind(n)}class vfe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yfe(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=hC),r.error===void 0&&(r.error=hC),r.complete===void 0&&(r.complete=hC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yfe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hC(){}function cw(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ae(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},uw=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return t&&t._delegate?t._delegate:t}class kd{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _fe=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Cy;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sfe(e))try{this.getOrInitializeService({instanceIdentifier:Xu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xu){return this.instances.has(e)}getOptions(e=Xu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bfe(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xu){return this.component?this.component.multipleInstances?e:Xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bfe(t){return t===Xu?void 0:t}function Sfe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _fe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(on||(on={}));const Efe={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},Tfe=on.INFO,Cfe={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},Mfe=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Cfe[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x2{constructor(e){this.name=e,this._logLevel=Tfe,this._logHandler=Mfe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Efe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...e),this._logHandler(this,on.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...e),this._logHandler(this,on.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,on.INFO,...e),this._logHandler(this,on.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,on.WARN,...e),this._logHandler(this,on.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...e),this._logHandler(this,on.ERROR,...e)}}const Pfe=(t,e)=>e.some(n=>t instanceof n);let i4,r4;function Afe(){return i4||(i4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ife(){return r4||(r4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fG=new WeakMap,uA=new WeakMap,hG=new WeakMap,pC=new WeakMap,_2=new WeakMap;function Rfe(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hc(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fG.set(n,t)}).catch(()=>{}),_2.set(e,t),e}function kfe(t){if(uA.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});uA.set(t,e)}let dA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hG.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nfe(t){dA=t(dA)}function Lfe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mC(this),e,...n);return hG.set(i,e.sort?e.sort():[e]),Hc(i)}:Ife().includes(t)?function(...e){return t.apply(mC(this),e),Hc(fG.get(this))}:function(...e){return Hc(t.apply(mC(this),e))}}function Dfe(t){return typeof t=="function"?Lfe(t):(t instanceof IDBTransaction&&kfe(t),Pfe(t,Afe())?new Proxy(t,dA):t)}function Hc(t){if(t instanceof IDBRequest)return Rfe(t);if(pC.has(t))return pC.get(t);const e=Dfe(t);return e!==t&&(pC.set(t,e),_2.set(e,t)),e}const mC=t=>_2.get(t);function Ofe(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Hc(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Hc(o.result),l.oldVersion,l.newVersion,Hc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ffe=["get","getKey","getAll","getAllKeys","count"],zfe=["put","add","delete","clear"],gC=new Map;function s4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gC.get(e))return gC.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=zfe.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Ffe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return gC.set(e,s),s}Nfe(t=>({...t,get:(e,n,i)=>s4(e,n)||t.get(e,n,i),has:(e,n)=>!!s4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ufe(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Ufe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fA="@firebase/app",o4="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new x2("@firebase/app"),Vfe="@firebase/app-compat",jfe="@firebase/analytics-compat",Hfe="@firebase/analytics",Wfe="@firebase/app-check-compat",Gfe="@firebase/app-check",$fe="@firebase/auth",qfe="@firebase/auth-compat",Xfe="@firebase/database",Yfe="@firebase/data-connect",Kfe="@firebase/database-compat",Jfe="@firebase/functions",Qfe="@firebase/functions-compat",Zfe="@firebase/installations",ehe="@firebase/installations-compat",the="@firebase/messaging",nhe="@firebase/messaging-compat",ihe="@firebase/performance",rhe="@firebase/performance-compat",she="@firebase/remote-config",ohe="@firebase/remote-config-compat",ahe="@firebase/storage",lhe="@firebase/storage-compat",che="@firebase/firestore",uhe="@firebase/vertexai",dhe="@firebase/firestore-compat",fhe="firebase",hhe="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="[DEFAULT]",phe={[fA]:"fire-core",[Vfe]:"fire-core-compat",[Hfe]:"fire-analytics",[jfe]:"fire-analytics-compat",[Gfe]:"fire-app-check",[Wfe]:"fire-app-check-compat",[$fe]:"fire-auth",[qfe]:"fire-auth-compat",[Xfe]:"fire-rtdb",[Yfe]:"fire-data-connect",[Kfe]:"fire-rtdb-compat",[Jfe]:"fire-fn",[Qfe]:"fire-fn-compat",[Zfe]:"fire-iid",[ehe]:"fire-iid-compat",[the]:"fire-fcm",[nhe]:"fire-fcm-compat",[ihe]:"fire-perf",[rhe]:"fire-perf-compat",[she]:"fire-rc",[ohe]:"fire-rc-compat",[ahe]:"fire-gcs",[lhe]:"fire-gcs-compat",[che]:"fire-fst",[dhe]:"fire-fst-compat",[uhe]:"fire-vertex","fire-js":"fire-js",[fhe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map,mhe=new Map,pA=new Map;function a4(t,e){try{t.container.addComponent(e)}catch(n){Al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function op(t){const e=t.name;if(pA.has(e))return Al.debug(`There were multiple attempts to register component ${e}.`),!1;pA.set(e,t);for(const n of hb.values())a4(n,t);for(const n of mhe.values())a4(n,t);return!0}function b2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pa(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ghe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wc=new My("app","Firebase",ghe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new kd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=hhe;function pG(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hA,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Wc.create("bad-app-name",{appName:String(r)});if(n||(n=aG()),!n)throw Wc.create("no-options");const s=hb.get(r);if(s){if(fb(n,s.options)&&fb(i,s.config))return s;throw Wc.create("duplicate-app",{appName:r})}const o=new wfe(r);for(const l of pA.values())o.addComponent(l);const a=new vhe(n,i,o);return hb.set(r,a),a}function mG(t=hA){const e=hb.get(t);if(!e&&t===hA&&aG())return pG();if(!e)throw Wc.create("no-app",{appName:t});return e}function Gc(t,e,n){var i;let r=(i=phe[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Al.warn(a.join(" "));return}op(new kd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe="firebase-heartbeat-database",xhe=1,Rv="firebase-heartbeat-store";let vC=null;function gG(){return vC||(vC=Ofe(yhe,xhe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rv)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wc.create("idb-open",{originalErrorMessage:t.message})})),vC}async function _he(t){try{const n=(await gG()).transaction(Rv),i=await n.objectStore(Rv).get(vG(t));return await n.done,i}catch(e){if(e instanceof uu)Al.warn(e.message);else{const n=Wc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Al.warn(n.message)}}}async function l4(t,e){try{const i=(await gG()).transaction(Rv,"readwrite");await i.objectStore(Rv).put(e,vG(t)),await i.done}catch(n){if(n instanceof uu)Al.warn(n.message);else{const i=Wc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Al.warn(i.message)}}}function vG(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bhe=1024,She=30*24*60*60*1e3;class whe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new The(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c4();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=She}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Al.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c4(),{heartbeatsToSend:i,unsentEntries:r}=Ehe(this._heartbeatsCache.heartbeats),s=cb(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Al.warn(n),""}}}function c4(){return new Date().toISOString().substring(0,10)}function Ehe(t,e=bhe){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),u4(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),u4(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class The{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lfe()?cfe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _he(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return l4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return l4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u4(t){return cb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(t){op(new kd("platform-logger",e=>new Bfe(e),"PRIVATE")),op(new kd("heartbeat",e=>new whe(e),"PRIVATE")),Gc(fA,o4,t),Gc(fA,o4,"esm2017"),Gc("fire-js","")}Che("");function S2(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function yG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mhe=yG,xG=new My("auth","Firebase",yG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new x2("@firebase/auth");function Phe(t,...e){pb.logLevel<=on.WARN&&pb.warn(`Auth (${Lp}): ${t}`,...e)}function f1(t,...e){pb.logLevel<=on.ERROR&&pb.error(`Auth (${Lp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,...e){throw w2(t,...e)}function wa(t,...e){return w2(t,...e)}function _G(t,e,n){const i=Object.assign(Object.assign({},Mhe()),{[e]:n});return new My("auth","Firebase",i).create(e,{appName:t.name})}function yl(t){return _G(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w2(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return xG.create(t,...e)}function mt(t,e,...n){if(!t)throw w2(e,...n)}function dl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw f1(e),new Error(e)}function Il(t,e){t||dl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ahe(){return d4()==="http:"||d4()==="https:"}function d4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ihe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ahe()||ofe()||"connection"in navigator)?navigator.onLine:!0}function Rhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.shortDelay=e,this.longDelay=n,Il(n>e,"Short delay should be less than long delay!"),this.isMobile=y2()||cG()}get(){return Ihe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){Il(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nhe=new Py(3e4,6e4);function du(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ul(t,e,n,i,r={}){return SG(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Np(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return sfe()||(c.referrerPolicy="no-referrer"),bG.fetch()(wG(t,t.config.apiHost,n,a),c)})}async function SG(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},khe),e);try{const r=new Dhe(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw kx(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kx(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw kx(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw kx(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _G(t,u,c);Vo(t,u)}}catch(r){if(r instanceof uu)throw r;Vo(t,"network-request-failed",{message:String(r)})}}async function Ay(t,e,n,i,r={}){const s=await Ul(t,e,n,i,r);return"mfaPendingCredential"in s&&Vo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wG(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?E2(t.config,r):`${t.config.apiScheme}://${r}`}function Lhe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dhe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(wa(this.auth,"network-request-failed")),Nhe.get())})}}function kx(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=wa(t,e,i);return r.customData._tokenResponse=n,r}function f4(t){return t!==void 0&&t.enterprise!==void 0}class Ohe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lhe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fhe(t,e){return Ul(t,"GET","/v2/recaptchaConfig",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zhe(t,e){return Ul(t,"POST","/v1/accounts:delete",e)}async function EG(t,e){return Ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bhe(t,e=!1){const n=nr(t),i=await n.getIdToken(e),r=T2(i);mt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Fg(yC(r.auth_time)),issuedAtTime:Fg(yC(r.iat)),expirationTime:Fg(yC(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yC(t){return Number(t)*1e3}function T2(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return f1("JWT malformed, contained fewer than 3 sections"),null;try{const r=ub(n);return r?JSON.parse(r):(f1("Failed to decode base64 JWT payload"),null)}catch(r){return f1("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function h4(t){const e=T2(t);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof uu&&Uhe(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Uhe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vhe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fg(this.lastLoginAt),this.creationTime=Fg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ap(t,EG(n,{idToken:i}));mt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TG(s.providerUserInfo):[],a=Hhe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gA(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function jhe(t){const e=nr(t);await mb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hhe(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function TG(t){return t.map(e=>{var{providerId:n}=e,i=S2(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Whe(t,e){const n=await SG(t,{},async()=>{const i=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=wG(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bG.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ghe(t,e){return Ul(t,"POST","/v2/accounts:revokeToken",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const n=h4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Whe(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Uh;return i&&(mt(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(mt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uh,this.toJSON())}_performRefresh(){return dl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e){mt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fl{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=S2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ap(this,this.stsTokenManager.getToken(this.auth,e));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bhe(this,e)}reload(){return jhe(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await mb(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pa(this.auth.app))return Promise.reject(yl(this.auth));const e=await this.getIdToken();return await ap(this,zhe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:E,isAnonymous:M,providerData:C,stsTokenManager:R}=n;mt(b&&R,e,"internal-error");const k=Uh.fromJSON(this.name,R);mt(typeof b=="string",e,"internal-error"),rc(d,e.name),rc(h,e.name),mt(typeof E=="boolean",e,"internal-error"),mt(typeof M=="boolean",e,"internal-error"),rc(m,e.name),rc(g,e.name),rc(y,e.name),rc(_,e.name),rc(v,e.name),rc(x,e.name);const I=new fl({uid:b,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:M,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:k,createdAt:v,lastLoginAt:x});return C&&Array.isArray(C)&&(I.providerData=C.map(P=>Object.assign({},P))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new Uh;r.updateFromServerResponse(n);const s=new fl({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await mb(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];mt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?TG(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Uh;a.updateFromIdToken(i);const l=new fl({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new gA(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;function hl(t){Il(t instanceof Function,"Expected a class definition");let e=p4.get(t);return e?(Il(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CG.type="NONE";const m4=CG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e,n){return`firebase:${t}:${e}:${n}`}class Vh{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=h1(this.userKey,r.apiKey,s),this.fullPersistenceKey=h1("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vh(hl(m4),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||hl(m4);const o=h1(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=fl._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vh(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Vh(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kG(e))return"Blackberry";if(NG(e))return"Webos";if(PG(e))return"Safari";if((e.includes("chrome/")||AG(e))&&!e.includes("edge/"))return"Chrome";if(RG(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function MG(t=Ur()){return/firefox\//i.test(t)}function PG(t=Ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AG(t=Ur()){return/crios\//i.test(t)}function IG(t=Ur()){return/iemobile/i.test(t)}function RG(t=Ur()){return/android/i.test(t)}function kG(t=Ur()){return/blackberry/i.test(t)}function NG(t=Ur()){return/webos/i.test(t)}function C2(t=Ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $he(t=Ur()){var e;return C2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qhe(){return afe()&&document.documentMode===10}function LG(t=Ur()){return C2(t)||RG(t)||NG(t)||kG(t)||/windows phone/i.test(t)||IG(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e=[]){let n;switch(t){case"Browser":n=g4(Ur());break;case"Worker":n=`${g4(Ur())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lp}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yhe(t,e={}){return Ul(t,"GET","/v2/passwordPolicy",du(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe=6;class Jhe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Khe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v4(this),this.idTokenSubscription=new v4(this),this.beforeStateQueue=new Xhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hl(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Vh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await EG(this,{idToken:e}),i=await fl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pa(this.app))return Promise.reject(yl(this));const n=e?nr(e):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pa(this.app)?Promise.reject(yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pa(this.app)?Promise.reject(yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yhe(this),n=new Jhe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new My("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ghe(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hl(e)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await Vh.create(this,[hl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Phe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qd(t){return nr(t)}class v4{constructor(e){this.auth=e,this.observer=null,this.addObserver=gfe(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zhe(t){dw=t}function OG(t){return dw.loadJS(t)}function epe(){return dw.recaptchaEnterpriseScript}function tpe(){return dw.gapiScript}function npe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ipe{constructor(){this.enterprise=new rpe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rpe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const spe="recaptcha-enterprise",FG="NO_RECAPTCHA";class ope{constructor(e){this.type=spe,this.auth=Qd(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Fhe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ohe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;f4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(FG)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ipe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&f4(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=epe();l.length!==0&&(l+=a),OG(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function y4(t,e,n,i=!1,r=!1){const s=new ope(t);let o;if(r)o=FG;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vA(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await y4(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await y4(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ape(t,e){const n=b2(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(fb(s,e??{}))return r;Vo(r,"already-initialized")}return n.initialize({options:e})}function lpe(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(hl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function cpe(t,e,n){const i=Qd(t);mt(i._canInitEmulator,i,"emulator-config-failed"),mt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=zG(e),{host:o,port:a}=upe(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),dpe()}function zG(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function upe(t){const e=zG(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:x4(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:x4(o)}}}function x4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dpe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dl("not implemented")}_getIdTokenResponse(e){return dl("not implemented")}_linkToIdToken(e,n){return dl("not implemented")}_getReauthenticationResolver(e){return dl("not implemented")}}async function fpe(t,e){return Ul(t,"POST","/v1/accounts:update",e)}async function hpe(t,e){return Ul(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ppe(t,e){return Ay(t,"POST","/v1/accounts:signInWithPassword",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mpe(t,e){return Ay(t,"POST","/v1/accounts:signInWithEmailLink",du(t,e))}async function gpe(t,e){return Ay(t,"POST","/v1/accounts:signInWithEmailLink",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends M2{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new kv(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new kv(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vA(e,n,"signInWithPassword",ppe);case"emailLink":return mpe(e,{email:this._email,oobCode:this._password});default:Vo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vA(e,i,"signUpPassword",hpe);case"emailLink":return gpe(e,{idToken:n,email:this._email,oobCode:this._password});default:Vo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,e){return Ay(t,"POST","/v1/accounts:signInWithIdp",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vpe="http://localhost";class Nd extends M2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=S2(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Nd(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jh(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,jh(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jh(e,n)}buildRequest(){const e={requestUri:vpe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Np(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ype(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xpe(t){const e=mg(gg(t)).link,n=e?mg(gg(e)).deep_link_id:null,i=mg(gg(t)).deep_link_id;return(i?mg(gg(i)).link:null)||i||n||e||t}class P2{constructor(e){var n,i,r,s,o,a;const l=mg(gg(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=ype((r=l.mode)!==null&&r!==void 0?r:null);mt(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=xpe(e);try{return new P2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.providerId=Dp.PROVIDER_ID}static credential(e,n){return kv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=P2.parseLink(n);return mt(i,"argument-error"),kv._fromEmailAndCode(e,i.code,i.tenantId)}}Dp.PROVIDER_ID="password";Dp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends BG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Iy{constructor(){super("facebook.com")}static credential(e){return Nd._fromParams({providerId:wc.PROVIDER_ID,signInMethod:wc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wc.credentialFromTaggedObject(e)}static credentialFromError(e){return wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wc.credential(e.oauthAccessToken)}catch{return null}}}wc.FACEBOOK_SIGN_IN_METHOD="facebook.com";wc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Iy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nd._fromParams({providerId:Ec.PROVIDER_ID,signInMethod:Ec.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ec.credentialFromTaggedObject(e)}static credentialFromError(e){return Ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ec.credential(n,i)}catch{return null}}}Ec.GOOGLE_SIGN_IN_METHOD="google.com";Ec.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Iy{constructor(){super("github.com")}static credential(e){return Nd._fromParams({providerId:Tc.PROVIDER_ID,signInMethod:Tc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tc.credentialFromTaggedObject(e)}static credentialFromError(e){return Tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tc.credential(e.oauthAccessToken)}catch{return null}}}Tc.GITHUB_SIGN_IN_METHOD="github.com";Tc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Iy{constructor(){super("twitter.com")}static credential(e,n){return Nd._fromParams({providerId:Cc.PROVIDER_ID,signInMethod:Cc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cc.credentialFromTaggedObject(e)}static credentialFromError(e){return Cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Cc.credential(n,i)}catch{return null}}}Cc.TWITTER_SIGN_IN_METHOD="twitter.com";Cc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _pe(t,e){return Ay(t,"POST","/v1/accounts:signUp",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await fl._fromIdTokenResponse(e,i,r),o=_4(i);return new Ld({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=_4(i);return new Ld({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function _4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends uu{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,gb.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new gb(e,n,i,r)}}function UG(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gb._fromErrorAndOperation(t,s,e,i):s})}async function bpe(t,e,n=!1){const i=await ap(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ld._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Spe(t,e,n=!1){const{auth:i}=t;if(pa(i.app))return Promise.reject(yl(i));const r="reauthenticate";try{const s=await ap(t,UG(i,r,e,t),n);mt(s.idToken,i,"internal-error");const o=T2(s.idToken);mt(o,i,"internal-error");const{sub:a}=o;return mt(t.uid===a,i,"user-mismatch"),Ld._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vo(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VG(t,e,n=!1){if(pa(t.app))return Promise.reject(yl(t));const i="signIn",r=await UG(t,i,e),s=await Ld._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function wpe(t,e){return VG(Qd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(t){const e=Qd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Epe(t,e,n){if(pa(t.app))return Promise.reject(yl(t));const i=Qd(t),o=await vA(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_pe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jG(t),l}),a=await Ld._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function Tpe(t,e,n){return pa(t.app)?Promise.reject(yl(t)):wpe(nr(t),Dp.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&jG(t),i})}function Cpe(t,e){return Mpe(nr(t),null,e)}async function Mpe(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await ap(t,fpe(i,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ppe(t,e){return nr(t).setPersistence(e)}function Ape(t,e,n,i){return nr(t).onIdTokenChanged(e,n,i)}function Ipe(t,e,n){return nr(t).beforeAuthStateChanged(e,n)}function Rpe(t){return nr(t).signOut()}const vb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vb,"1"),this.storage.removeItem(vb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe=1e3,Npe=10;class WG extends HG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LG(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);qhe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Npe):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},kpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WG.type="LOCAL";const GG=WG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G extends HG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$G.type="SESSION";const qG=$G;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lpe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new fw(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Lpe(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=A2("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(){return window}function Ope(t){Ea().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(){return typeof Ea().WorkerGlobalScope<"u"&&typeof Ea().importScripts=="function"}async function Fpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zpe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bpe(){return XG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG="firebaseLocalStorageDb",Upe=1,yb="firebaseLocalStorage",KG="fbase_key";class Ry{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hw(t,e){return t.transaction([yb],e?"readwrite":"readonly").objectStore(yb)}function Vpe(){const t=indexedDB.deleteDatabase(YG);return new Ry(t).toPromise()}function yA(){const t=indexedDB.open(YG,Upe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(yb,{keyPath:KG})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(yb)?e(i):(i.close(),await Vpe(),e(await yA()))})})}async function b4(t,e,n){const i=hw(t,!0).put({[KG]:e,value:n});return new Ry(i).toPromise()}async function jpe(t,e){const n=hw(t,!1).get(e),i=await new Ry(n).toPromise();return i===void 0?null:i.value}function S4(t,e){const n=hw(t,!0).delete(e);return new Ry(n).toPromise()}const Hpe=800,Wpe=3;class JG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Wpe)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fw._getInstance(Bpe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Fpe(),!this.activeServiceWorker)return;this.sender=new Dpe(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yA();return await b4(e,vb,"1"),await S4(e,vb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>b4(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>jpe(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=hw(r,!1).getAll();return new Ry(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JG.type="LOCAL";const Gpe=JG;new Py(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $pe(t,e){return e?hl(e):(mt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2 extends M2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qpe(t){return VG(t.auth,new I2(t),t.bypassAuthState)}function Xpe(t){const{auth:e,user:n}=t;return mt(n,e,"internal-error"),Spe(n,new I2(t),t.bypassAuthState)}async function Ype(t){const{auth:e,user:n}=t;return mt(n,e,"internal-error"),bpe(n,new I2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qpe;case"linkViaPopup":case"linkViaRedirect":return Ype;case"reauthViaPopup":case"reauthViaRedirect":return Xpe;default:Vo(this.auth,"internal-error")}}resolve(e){Il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kpe=new Py(2e3,1e4);class xh extends QG{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,xh.currentPopupAction&&xh.currentPopupAction.cancel(),xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Il(this.filter.length===1,"Popup operations only handle one event");const e=A2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kpe.get())};e()}}xh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe="pendingRedirect",p1=new Map;class Qpe extends QG{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=p1.get(this.auth._key());if(!e){try{const i=await Zpe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}p1.set(this.auth._key(),e)}return this.bypassAuthState||p1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zpe(t,e){const n=nme(e),i=tme(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function eme(t,e){p1.set(t._key(),e)}function tme(t){return hl(t._redirectPersistence)}function nme(t){return h1(Jpe,t.config.apiKey,t.name)}async function ime(t,e,n=!1){if(pa(t.app))return Promise.reject(yl(t));const i=Qd(t),r=$pe(i,e),o=await new Qpe(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme=10*60*1e3;class sme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ome(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ZG(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(wa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rme&&this.cachedEventUids.clear(),this.cachedEventUids.has(w4(e))}saveEventToCache(e){this.cachedEventUids.add(w4(e)),this.lastProcessedEventTime=Date.now()}}function w4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ome(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ame(t,e={}){return Ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cme=/^https?/;async function ume(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ame(t);for(const n of e)try{if(dme(n))return}catch{}Vo(t,"unauthorized-domain")}function dme(t){const e=mA(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!cme.test(n))return!1;if(lme.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme=new Py(3e4,6e4);function E4(){const t=Ea().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hme(t){return new Promise((e,n)=>{var i,r,s;function o(){E4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E4(),n(wa(t,"network-request-failed"))},timeout:fme.get()})}if(!((r=(i=Ea().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Ea().gapi)===null||s===void 0)&&s.load)o();else{const a=npe("iframefcb");return Ea()[a]=()=>{gapi.load?o():n(wa(t,"network-request-failed"))},OG(`${tpe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw m1=null,e})}let m1=null;function pme(t){return m1=m1||hme(t),m1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mme=new Py(5e3,15e3),gme="__/auth/iframe",vme="emulator/auth/iframe",yme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _me(t){const e=t.config;mt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E2(e,vme):`https://${t.config.authDomain}/${gme}`,i={apiKey:e.apiKey,appName:t.name,v:Lp},r=xme.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Np(i).slice(1)}`}async function bme(t){const e=await pme(t),n=Ea().gapi;return mt(n,t,"internal-error"),e.open({where:document.body,url:_me(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yme,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=wa(t,"network-request-failed"),a=Ea().setTimeout(()=>{s(o)},mme.get());function l(){Ea().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wme=500,Eme=600,Tme="_blank",Cme="http://localhost";class T4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mme(t,e,n,i=wme,r=Eme){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Sme),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Ur().toLowerCase();n&&(a=AG(c)?Tme:n),MG(c)&&(e=e||Cme,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if($he(c)&&a!=="_self")return Pme(e||"",a),new T4(null);const d=window.open(e||"",a,u);mt(d,t,"popup-blocked");try{d.focus()}catch{}return new T4(d)}function Pme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ame="__/auth/handler",Ime="emulator/auth/handler",Rme=encodeURIComponent("fac");async function C4(t,e,n,i,r,s){mt(t.config.authDomain,t,"auth-domain-config-required"),mt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Lp,eventId:r};if(e instanceof BG){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Iy){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Rme}=${encodeURIComponent(l)}`:"";return`${kme(t)}?${Np(a).slice(1)}${c}`}function kme({config:t}){return t.emulator?E2(t,Ime):`https://${t.authDomain}/${Ame}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="webStorageSupport";class Nme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qG,this._completeRedirectFn=ime,this._overrideRedirectResult=eme}async _openPopup(e,n,i,r){var s;Il((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C4(e,n,i,mA(),r);return Mme(e,o,A2())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await C4(e,n,i,mA(),r);return Ope(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Il(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await bme(e),i=new sme(e);return n.register("authEvent",r=>(mt(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xC,{type:xC},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[xC];o!==void 0&&n(!!o),Vo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ume(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LG()||PG()||C2()}}const Lme=Nme;var M4="@firebase/auth",P4="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ome(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fme(t){op(new kd("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;mt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DG(t)},c=new Qhe(i,r,s,l);return lpe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),op(new kd("auth-internal",e=>{const n=Qd(e.getProvider("auth").getImmediate());return(i=>new Dme(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gc(M4,P4,Ome(t)),Gc(M4,P4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=5*60,Bme=lG("authIdTokenMaxAge")||zme;let A4=null;const Ume=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Bme)return;const r=n==null?void 0:n.token;A4!==r&&(A4=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Vme(t=mG()){const e=b2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ape(t,{popupRedirectResolver:Lme,persistence:[Gpe,GG,qG]}),i=lG("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=Ume(s.toString());Ipe(n,o,()=>o(n.currentUser)),Ape(n,a=>o(a))}}const r=oG("auth");return r&&cpe(n,`http://${r}`),n}function jme(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zhe({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=wa("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",jme().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fme("Browser");var Hme="firebase",Wme="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gc(Hme,Wme,"app");var I4={};const R4="@firebase/database",k4="1.0.10";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let e$="";function Gme(t){e$=t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $me{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Iv(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qme{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Da(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t$=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $me(e)}}catch{}return new qme},od=t$("localStorage"),Xme=t$("sessionStorage");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hh=new x2("@firebase/database"),Yme=function(){let t=1;return function(){return t++}}(),n$=function(t){const e=xfe(t),n=new mfe;n.update(e);const i=n.digest();return g2.encodeByteArray(i)},ky=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ky.apply(null,i):typeof i=="object"?e+=yi(i):e+=i,e+=" "}return e};let zg=null,N4=!0;const Kme=function(t,e){Ae(!e,"Can't turn on custom loggers persistently."),Hh.logLevel=on.VERBOSE,zg=Hh.log.bind(Hh)},Qi=function(...t){if(N4===!0&&(N4=!1,zg===null&&Xme.get("logging_enabled")===!0&&Kme()),zg){const e=ky.apply(null,t);zg(e)}},Ny=function(t){return function(...e){Qi(t,...e)}},xA=function(...t){const e="FIREBASE INTERNAL ERROR: "+ky(...t);Hh.error(e)},Rl=function(...t){const e=`FIREBASE FATAL ERROR: ${ky(...t)}`;throw Hh.error(e),new Error(e)},Fr=function(...t){const e="FIREBASE WARNING: "+ky(...t);Hh.warn(e)},Jme=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},R2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Qme=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lp="[MIN_NAME]",Dd="[MAX_NAME]",Zd=function(t,e){if(t===e)return 0;if(t===lp||e===Dd)return-1;if(e===lp||t===Dd)return 1;{const n=L4(t),i=L4(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Zme=function(t,e){return t===e?0:t<e?-1:1},Im=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yi(e))},k2=function(t){if(typeof t!="object"||t===null)return yi(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=yi(e[i]),n+=":",n+=k2(t[e[i]]);return n+="}",n},i$=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function tr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const r$=function(t){Ae(!R2(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},ege=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tge=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nge(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const ige=new RegExp("^-?(0*)\\d{1,10}$"),rge=-2147483648,sge=2147483647,L4=function(t){if(ige.test(t)){const e=Number(t);if(e>=rge&&e<=sge)return e}return null},Op=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fr("Exception was thrown by user callback.",n),e},Math.floor(0))}},oge=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bg=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class age{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lge{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fr(e)}}class g1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}g1.OWNER="owner";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N2="5",s$="v",o$="s",a$="r",l$="f",c$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,u$="ls",d$="p",_A="ac",f$="websocket",h$="long_polling";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p${constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=od.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&od.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function cge(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function m$(t,e,n){Ae(typeof e=="string","typeof type must == string"),Ae(typeof n=="object","typeof params must == object");let i;if(e===f$)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===h$)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cge(t)&&(n.ns=t.namespace);const r=[];return tr(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uge{constructor(){this.counters_={}}incrementCounter(e,n=1){Da(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Jde(this.counters_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _C={},bC={};function L2(t){const e=t.toString();return _C[e]||(_C[e]=new uge),_C[e]}function dge(t,e){const n=t.toString();return bC[n]||(bC[n]=e()),bC[n]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fge{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Op(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D4="start",hge="close",pge="pLPCommand",mge="pRTLPCB",g$="id",v$="pw",y$="ser",gge="cb",vge="seg",yge="ts",xge="d",_ge="dframe",x$=1870,_$=30,bge=x$-_$,Sge=25e3,wge=3e4;class _h{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ny(e),this.stats_=L2(n),this.urlFn=l=>(this.appCheckToken&&(l[_A]=this.appCheckToken),m$(n,h$,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fge(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wge)),Qme(()=>{if(this.isClosed_)return;this.scriptTagHolder=new D2((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===D4)this.id=a,this.password=l;else if(o===hge)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[D4]="t",i[y$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[gge]=this.scriptTagHolder.uniqueCallbackIdentifier),i[s$]=N2,this.transportSessionId&&(i[o$]=this.transportSessionId),this.lastSessionId&&(i[u$]=this.lastSessionId),this.applicationId&&(i[d$]=this.applicationId),this.appCheckToken&&(i[_A]=this.appCheckToken),typeof location<"u"&&location.hostname&&c$.test(location.hostname)&&(i[a$]=l$);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_h.forceAllow_=!0}static forceDisallow(){_h.forceDisallow_=!0}static isAvailable(){return _h.forceAllow_?!0:!_h.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ege()&&!tge()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=yi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=rG(n),r=i$(i,bge);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[_ge]="t",i[g$]=e,i[v$]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=yi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class D2{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Yme(),window[pge+this.uniqueCallbackIdentifier]=e,window[mge+this.uniqueCallbackIdentifier]=n,this.myIFrame=D2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qi("frame writing exception"),a.stack&&Qi(a.stack),Qi(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qi("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[g$]=this.myID,e[v$]=this.myPW,e[y$]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_$+i.length<=x$;){const o=this.pendingSegs.shift();i=i+"&"+vge+r+"="+o.seg+"&"+yge+r+"="+o.ts+"&"+xge+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Sge)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Qi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ege=16384,Tge=45e3;let xb=null;typeof MozWebSocket<"u"?xb=MozWebSocket:typeof WebSocket<"u"&&(xb=WebSocket);class ma{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ny(this.connId),this.stats_=L2(n),this.connURL=ma.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[s$]=N2,typeof location<"u"&&location.hostname&&c$.test(location.hostname)&&(o[a$]=l$),n&&(o[o$]=n),i&&(o[u$]=i),r&&(o[_A]=r),s&&(o[d$]=s),m$(e,f$,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,od.set("previous_websocket_failure",!0);try{let i;uG(),this.mySock=new xb(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){ma.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&xb!==null&&!ma.forceDisallow_}static previouslyFailed(){return od.isInMemoryStorage||od.get("previous_websocket_failure")===!0}markConnectionHealthy(){od.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Iv(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=yi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=i$(n,Ege);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tge))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ma.responsesRequiredToBeHealthy=2;ma.healthyTimeout=3e4;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nv{static get ALL_TRANSPORTS(){return[_h,ma]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ma.isAvailable();let i=n&&!ma.previouslyFailed();if(e.webSocketOnly&&(n||Fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ma];else{const r=this.transports_=[];for(const s of Nv.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Nv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Nv.globalTransportInitialized_=!1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cge=6e4,Mge=5e3,Pge=10*1024,Age=100*1024,SC="t",O4="d",Ige="s",F4="r",Rge="e",z4="o",B4="a",U4="n",V4="p",kge="h";class Nge{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ny("c:"+this.id+":"),this.transportManager_=new Nv(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Bg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Age?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Pge?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(SC in e){const n=e[SC];n===B4?this.upgradeIfSecondaryHealthy_():n===F4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===z4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Im("t",e),i=Im("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:V4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:B4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:U4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Im("t",e),i=Im("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Im(SC,e);if(O4 in e){const i=e[O4];if(n===kge){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===U4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ige?this.onConnectionShutdown_(i):n===F4?this.onReset_(i):n===Rge?xA("Server Error: "+i):n===z4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),N2!==i&&Fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Bg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Cge))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mge))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:V4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(od.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b${put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S${constructor(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){Ae(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _b extends S${static getInstance(){return new _b}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!y2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j4=32,H4=768;let ln=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Qt(){return new ln("")}function Bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jc(t){return t.pieces_.length-t.pieceNum_}function bn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ln(t.pieces_,e)}function O2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Lge(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function w$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ln(e,0)}function qn(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ln)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ln(n,0)}function Dt(t){return t.pieceNum_>=t.pieces_.length}function Lr(t,e){const n=Bt(t),i=Bt(e);if(n===null)return e;if(n===i)return Lr(bn(t),bn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dge(t,e){const n=Lv(t,0),i=Lv(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=Zd(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function E$(t,e){if(Jc(t)!==Jc(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ro(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Jc(t)>Jc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Oge{constructor(e,n){this.errorPrefix_=n,this.parts_=Lv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=uw(this.parts_[i]);T$(this)}}function Fge(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=uw(e),T$(t)}function zge(t){const e=t.parts_.pop();t.byteLength_-=uw(e),t.parts_.length>0&&(t.byteLength_-=1)}function T$(t){if(t.byteLength_>H4)throw new Error(t.errorPrefix_+"has a key path longer than "+H4+" bytes ("+t.byteLength_+").");if(t.parts_.length>j4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+j4+") or object contains a cycle "+Yu(t))}function Yu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F2 extends S${static getInstance(){return new F2}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rm=1e3,Bge=60*5*1e3,W4=30*1e3,Uge=1.3,Vge=3e4,jge="server_kill",G4=3;class xl extends b${constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xl.nextPersistentConnectionId_++,this.log_=Ny("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rm,this.maxReconnectDelay_=Bge,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!uG())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");F2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_b.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(yi(s)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Cy,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;xl.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Da(e,"w")){const i=sp(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pfe(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=W4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hfe(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yi(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xA("Unrecognized action received from server: "+yi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Vge&&(this.reconnectDelay_=Rm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Uge)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+xl.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){Ae(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Qi("getToken() completed but was canceled"):(Qi("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Nge(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{Fr(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(jge)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Fr(d),l())}}}interrupt(e){Qi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],cA(this.interruptReasons_)&&(this.reconnectDelay_=Rm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>k2(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new ln(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Qi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=G4&&(this.reconnectDelay_=W4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=G4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+e$.replace(/\./g,"-")]=1,y2()?e["framework.cordova"]=1:cG()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_b.getInstance().currentlyOnline();return cA(this.interruptReasons_)&&e}}xl.nextPersistentConnectionId_=0;xl.nextConnectionId_=0;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Nt(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Nt(lp,e),r=new Nt(lp,n);return this.compare(i,r)!==0}minPost(){return Nt.MIN}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Nx;class C$ extends pw{static get __EMPTY_NODE(){return Nx}static set __EMPTY_NODE(e){Nx=e}compare(e,n){return Zd(e.name,n.name)}isDefinedOn(e){throw kp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(Dd,Nx)}makePost(e,n){return Ae(typeof e=="string","KeyIndex indexValue must always be a string."),new Nt(e,Nx)}toString(){return".key"}}const Wh=new C$;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lx{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Oi{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Oi.RED,this.left=r??ts.EMPTY_NODE,this.right=s??ts.EMPTY_NODE}copy(e,n,i,r,s){return new Oi(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ts.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return ts.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Oi.RED=!0;Oi.BLACK=!1;class Hge{copy(e,n,i,r,s){return this}insert(e,n,i){return new Oi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ts{constructor(e,n=ts.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ts(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Oi.BLACK,null,null))}remove(e){return new ts(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Oi.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lx(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lx(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lx(this.root_,null,this.comparator_,!0,e)}}ts.EMPTY_NODE=new Hge;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wge(t,e){return Zd(t.name,e.name)}function z2(t,e){return Zd(t,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let bA;function Gge(t){bA=t}const M$=function(t){return typeof t=="number"?"number:"+r$(t):"string:"+t},P$=function(t){if(t.isLeafNode()){const e=t.val();Ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Da(e,".sv"),"Priority must be a string or number.")}else Ae(t===bA||t.isEmpty(),"priority of unexpected type.");Ae(t===bA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let $4;class Ni{static set __childrenNodeConstructor(e){$4=e}static get __childrenNodeConstructor(){return $4}constructor(e,n=Ni.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),P$(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ni(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Dt(e)?this:Bt(e)===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ni.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Bt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ae(i!==".priority"||Jc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ni.__childrenNodeConstructor.EMPTY_NODE.updateChild(bn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=r$(this.value_):e+=this.value_,this.lazyHash_=n$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ni.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ni.__childrenNodeConstructor?-1:(Ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Ni.VALUE_TYPE_ORDER.indexOf(n),s=Ni.VALUE_TYPE_ORDER.indexOf(i);return Ae(r>=0,"Unknown leaf type: "+n),Ae(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ni.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let A$,I$;function $ge(t){A$=t}function qge(t){I$=t}class Xge extends pw{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Zd(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(Dd,new Ni("[PRIORITY-POST]",I$))}makePost(e,n){const i=A$(e);return new Nt(n,new Ni("[PRIORITY-POST]",i))}toString(){return".priority"}}const Xn=new Xge;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yge=Math.log(2);class Kge{constructor(e){const n=s=>parseInt(Math.log(s)/Yge,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bb=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Oi(h,d.node,Oi.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=r(l,m),y=r(m+1,c);return d=t[m],h=n?n(d):d,new Oi(h,d.node,Oi.BLACK,g,y)}},s=function(l){let c=null,u=null,d=t.length;const h=function(g,y){const _=d-g,v=d;d-=g;const x=r(_+1,v),b=t[_],E=n?n(b):b;m(new Oi(E,b.node,y,null,x))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));y?h(_,Oi.BLACK):(h(_,Oi.BLACK),h(_,Oi.RED))}return u},o=new Kge(t.length),a=s(o);return new ts(i||e,a)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let wC;const km={};class pl{static get Default(){return Ae(Xn,"ChildrenNode.ts has not been loaded"),wC=wC||new pl({".priority":km},{".priority":Xn}),wC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=sp(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ts?n:null}hasIndex(e){return Da(this.indexSet_,e.toString())}addIndex(e,n){Ae(e!==Wh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(Nt.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=bb(i,e.getCompare()):a=km;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new pl(u,c)}addToIndexes(e,n){const i=db(this.indexes_,(r,s)=>{const o=sp(this.indexSet_,s);if(Ae(o,"Missing index implementation for "+s),r===km)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Nt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),bb(a,o.getCompare())}else return km;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new Nt(e.name,a))),l.insert(e,e.node)}});return new pl(i,this.indexSet_)}removeFromIndexes(e,n){const i=db(this.indexes_,r=>{if(r===km)return r;{const s=n.get(e.name);return s?r.remove(new Nt(e.name,s)):r}});return new pl(i,this.indexSet_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Nm;class pt{static get EMPTY_NODE(){return Nm||(Nm=new pt(new ts(z2),null,pl.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&P$(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nm}updatePriority(e){return this.children_.isEmpty()?this:new pt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nm:n}}getChild(e){const n=Bt(e);return n===null?this:this.getImmediateChild(n).getChild(bn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ae(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Nt(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Nm:this.priorityNode_;return new pt(r,o,s)}}updateChild(e,n){const i=Bt(e);if(i===null)return n;{Ae(Bt(e)!==".priority"||Jc(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(bn(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Xn,(o,a)=>{n[o]=a.val(e),i++,s&&pt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+M$(this.getPriority().val())+":"),this.forEachChild(Xn,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":n$(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Nt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Nt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Nt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ly?-1:0}withIndex(e){if(e===Wh||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Xn),r=n.getIterator(Xn);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wh?null:this.indexMap_.get(e.toString())}}pt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jge extends pt{constructor(){super(new ts(z2),pt.EMPTY_NODE,pl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pt.EMPTY_NODE}isEmpty(){return!1}}const Ly=new Jge;Object.defineProperties(Nt,{MIN:{value:new Nt(lp,pt.EMPTY_NODE)},MAX:{value:new Nt(Dd,Ly)}});C$.__EMPTY_NODE=pt.EMPTY_NODE;Ni.__childrenNodeConstructor=pt;Gge(Ly);qge(Ly);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qge=!0;function vi(t,e=null){if(t===null)return pt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ni(n,vi(e))}if(!(t instanceof Array)&&Qge){const n=[];let i=!1;if(tr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=vi(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Nt(o,l)))}}),n.length===0)return pt.EMPTY_NODE;const s=bb(n,Wge,o=>o.name,z2);if(i){const o=bb(n,Xn.getCompare());return new pt(s,vi(e),new pl({".priority":o},{".priority":Xn}))}else return new pt(s,vi(e),pl.Default)}else{let n=pt.EMPTY_NODE;return tr(t,(i,r)=>{if(Da(t,i)&&i.substring(0,1)!=="."){const s=vi(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(vi(e))}}$ge(vi);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zge extends pw{constructor(e){super(),this.indexPath_=e,Ae(!Dt(e)&&Bt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Zd(e.name,n.name):s}makePost(e,n){const i=vi(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nt(n,r)}maxPost(){const e=pt.EMPTY_NODE.updateChild(this.indexPath_,Ly);return new Nt(Dd,e)}toString(){return Lv(this.indexPath_,0).join("/")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eve extends pw{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Zd(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(e,n){const i=vi(e);return new Nt(n,i)}toString(){return".value"}}const tve=new eve;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R$(t){return{type:"value",snapshotNode:t}}function cp(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Dv(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ov(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nve(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B2{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){Ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Dv(n,a)):Ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(cp(n,i)):o.trackChildChange(Ov(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Xn,(r,s)=>{n.hasChild(r)||i.trackChildChange(Dv(r,s))}),n.isLeafNode()||n.forEachChild(Xn,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Ov(r,s,o))}else i.trackChildChange(cp(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fv{constructor(e){this.indexedFilter_=new B2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fv.getStartPost_(e),this.endPost_=Fv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new Nt(n,i))||(i=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=pt.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);const s=this;return n.forEachChild(Xn,(o,a)=>{s.matches(new Nt(o,a))||(r=r.updateImmediateChild(o,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ive{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Fv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new Nt(n,i))||(i=pt.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=pt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(pt.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const a=e;Ae(a.numChildren()===this.limit_,"");const l=new Nt(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,l);if(u&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Ov(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Dv(n,d));const y=a.updateImmediateChild(n,pt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(cp(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Dv(c.name,c.node)),s.trackChildChange(cp(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,pt.EMPTY_NODE)):e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lp}hasEnd(){return this.endSet_}getIndexEndValue(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xn}copy(){const e=new U2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function rve(t){return t.loadsAllData()?new B2(t.getIndex()):t.hasLimit()?new ive(t):new Fv(t)}function q4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Xn?n="$priority":t.index_===tve?n="$value":t.index_===Wh?n="$key":(Ae(t.index_ instanceof Zge,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=yi(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=yi(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+yi(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=yi(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+yi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function X4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Xn&&(e.i=t.index_.toString()),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sb extends b${reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ny("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Sb.getListenId_(e,i),a={};this.listens_[o]=a;const l=q4(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),sp(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=Sb.getListenId_(e,n);delete this.listens_[i]}get(e){const n=q4(e._queryParams),i=e._path.toString(),r=new Cy;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Np(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Iv(a.responseText)}catch{Fr("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Fr("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sve{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wb(){return{value:null,children:new Map}}function k$(t,e,n){if(Dt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Bt(e);t.children.has(i)||t.children.set(i,wb());const r=t.children.get(i);e=bn(e),k$(r,e,n)}}function SA(t,e,n){t.value!==null?n(e,t.value):ove(t,(i,r)=>{const s=new ln(e.toString()+"/"+i);SA(r,s,n)})}function ove(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ave{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tr(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y4=10*1e3,lve=30*1e3,cve=5*60*1e3;class uve{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ave(e);const i=Y4+(lve-Y4)*Math.random();Bg(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;tr(e,(r,s)=>{s>0&&Da(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Bg(this.reportStats_.bind(this),Math.floor(Math.random()*2*cve))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Oo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Oo||(Oo={}));function V2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function j2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function H2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eb{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Oo.ACK_USER_WRITE,this.source=V2()}operationForChild(e){if(Dt(this.path)){if(this.affectedTree.value!=null)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ln(e));return new Eb(Qt(),n,this.revert)}}else return Ae(Bt(this.path)===e,"operationForChild called for unrelated child."),new Eb(bn(this.path),this.affectedTree,this.revert)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zv{constructor(e,n){this.source=e,this.path=n,this.type=Oo.LISTEN_COMPLETE}operationForChild(e){return Dt(this.path)?new zv(this.source,Qt()):new zv(this.source,bn(this.path))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Od{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Oo.OVERWRITE}operationForChild(e){return Dt(this.path)?new Od(this.source,Qt(),this.snap.getImmediateChild(e)):new Od(this.source,bn(this.path),this.snap)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class up{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Oo.MERGE}operationForChild(e){if(Dt(this.path)){const n=this.children.subtree(new ln(e));return n.isEmpty()?null:n.value?new Od(this.source,Qt(),n.value):new up(this.source,Qt(),n)}else return Ae(Bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new up(this.source,bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qc{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Dt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Bt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dve{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fve(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nve(o.childName,o.snapshotNode))}),Lm(t,r,"child_removed",e,i,n),Lm(t,r,"child_added",e,i,n),Lm(t,r,"child_moved",s,i,n),Lm(t,r,"child_changed",e,i,n),Lm(t,r,"value",e,i,n),r}function Lm(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>pve(t,a,l)),o.forEach(a=>{const l=hve(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function hve(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function pve(t,e,n){if(e.childName==null||n.childName==null)throw kp("Should only compare child_ events.");const i=new Nt(e.childName,e.snapshotNode),r=new Nt(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mw(t,e){return{eventCache:t,serverCache:e}}function Ug(t,e,n,i){return mw(new Qc(e,n,i),t.serverCache)}function N$(t,e,n,i){return mw(t.eventCache,new Qc(e,n,i))}function Tb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fd(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let EC;const mve=()=>(EC||(EC=new ts(Zme)),EC);class xn{static fromObject(e){let n=new xn(null);return tr(e,(i,r)=>{n=n.set(new ln(i),r)}),n}constructor(e,n=mve()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Qt(),value:this.value};if(Dt(e))return null;{const i=Bt(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(bn(e),n);return s!=null?{path:qn(new ln(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Dt(e))return this;{const n=Bt(e),i=this.children.get(n);return i!==null?i.subtree(bn(e)):new xn(null)}}set(e,n){if(Dt(e))return new xn(n,this.children);{const i=Bt(e),s=(this.children.get(i)||new xn(null)).set(bn(e),n),o=this.children.insert(i,s);return new xn(this.value,o)}}remove(e){if(Dt(e))return this.children.isEmpty()?new xn(null):new xn(null,this.children);{const n=Bt(e),i=this.children.get(n);if(i){const r=i.remove(bn(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new xn(null):new xn(this.value,s)}else return this}}get(e){if(Dt(e))return this.value;{const n=Bt(e),i=this.children.get(n);return i?i.get(bn(e)):null}}setTree(e,n){if(Dt(e))return n;{const i=Bt(e),s=(this.children.get(i)||new xn(null)).setTree(bn(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new xn(this.value,o)}}fold(e){return this.fold_(Qt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(qn(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Qt(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Dt(e))return null;{const s=Bt(e),o=this.children.get(s);return o?o.findOnPath_(bn(e),qn(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Qt(),n)}foreachOnPath_(e,n,i){if(Dt(e))return this;{this.value&&i(n,this.value);const r=Bt(e),s=this.children.get(r);return s?s.foreachOnPath_(bn(e),qn(n,r),i):new xn(null)}}foreach(e){this.foreach_(Qt(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(qn(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bo{constructor(e){this.writeTree_=e}static empty(){return new Bo(new xn(null))}}function Vg(t,e,n){if(Dt(e))return new Bo(new xn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Lr(r,e);return s=s.updateChild(o,n),new Bo(t.writeTree_.set(r,s))}else{const r=new xn(n),s=t.writeTree_.setTree(e,r);return new Bo(s)}}}function wA(t,e,n){let i=t;return tr(n,(r,s)=>{i=Vg(i,qn(e,r),s)}),i}function K4(t,e){if(Dt(e))return Bo.empty();{const n=t.writeTree_.setTree(e,new xn(null));return new Bo(n)}}function EA(t,e){return ef(t,e)!=null}function ef(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lr(n.path,e)):null}function J4(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Xn,(i,r)=>{e.push(new Nt(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Nt(i,r.value))}),e}function $c(t,e){if(Dt(e))return t;{const n=ef(t,e);return n!=null?new Bo(new xn(n)):new Bo(t.writeTree_.subtree(e))}}function TA(t){return t.writeTree_.isEmpty()}function dp(t,e){return L$(Qt(),t.writeTree_,e)}function L$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(Ae(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=L$(qn(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(qn(t,".priority"),i)),n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gw(t,e){return z$(e,t)}function gve(t,e,n,i,r){Ae(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Vg(t.visibleWrites,e,n)),t.lastWriteId=i}function vve(t,e,n,i){Ae(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=wA(t.visibleWrites,e,n),t.lastWriteId=i}function yve(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function xve(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ae(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_ve(a,i.path)?r=!1:ro(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return bve(t),!0;if(i.snap)t.visibleWrites=K4(t.visibleWrites,i.path);else{const a=i.children;tr(a,l=>{t.visibleWrites=K4(t.visibleWrites,qn(i.path,l))})}return!0}else return!1}function _ve(t,e){if(t.snap)return ro(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ro(qn(t.path,n),e))return!0;return!1}function bve(t){t.visibleWrites=D$(t.allWrites,Sve,Qt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Sve(t){return t.visible}function D$(t,e,n){let i=Bo.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)ro(n,o)?(a=Lr(n,o),i=Vg(i,a,s.snap)):ro(o,n)&&(a=Lr(o,n),i=Vg(i,Qt(),s.snap.getChild(a)));else if(s.children){if(ro(n,o))a=Lr(n,o),i=wA(i,a,s.children);else if(ro(o,n))if(a=Lr(o,n),Dt(a))i=wA(i,Qt(),s.children);else{const l=sp(s.children,Bt(a));if(l){const c=l.getChild(bn(a));i=Vg(i,Qt(),c)}}}else throw kp("WriteRecord should have .snap or .children")}}return i}function O$(t,e,n,i,r){if(!i&&!r){const s=ef(t.visibleWrites,e);if(s!=null)return s;{const o=$c(t.visibleWrites,e);if(TA(o))return n;if(n==null&&!EA(o,Qt()))return null;{const a=n||pt.EMPTY_NODE;return dp(o,a)}}}else{const s=$c(t.visibleWrites,e);if(!r&&TA(s))return n;if(!r&&n==null&&!EA(s,Qt()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(ro(c.path,e)||ro(e,c.path))},a=D$(t.allWrites,o,e),l=n||pt.EMPTY_NODE;return dp(a,l)}}}function wve(t,e,n){let i=pt.EMPTY_NODE;const r=ef(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Xn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=$c(t.visibleWrites,e);return n.forEachChild(Xn,(o,a)=>{const l=dp($c(s,new ln(o)),a);i=i.updateImmediateChild(o,l)}),J4(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=$c(t.visibleWrites,e);return J4(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function Eve(t,e,n,i,r){Ae(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=qn(e,n);if(EA(t.visibleWrites,s))return null;{const o=$c(t.visibleWrites,s);return TA(o)?r.getChild(n):dp(o,r.getChild(n))}}function Tve(t,e,n,i){const r=qn(e,n),s=ef(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=$c(t.visibleWrites,r);return dp(o,i.getNode().getImmediateChild(n))}else return null}function Cve(t,e){return ef(t.visibleWrites,e)}function Mve(t,e,n,i,r,s,o){let a;const l=$c(t.visibleWrites,e),c=ef(l,Qt());if(c!=null)a=c;else if(n!=null)a=dp(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let m=h.getNext();for(;m&&u.length<r;)d(m,i)!==0&&u.push(m),m=h.getNext();return u}else return[]}function Pve(){return{visibleWrites:Bo.empty(),allWrites:[],lastWriteId:-1}}function Cb(t,e,n,i){return O$(t.writeTree,t.treePath,e,n,i)}function W2(t,e){return wve(t.writeTree,t.treePath,e)}function Q4(t,e,n,i){return Eve(t.writeTree,t.treePath,e,n,i)}function Mb(t,e){return Cve(t.writeTree,qn(t.treePath,e))}function Ave(t,e,n,i,r,s){return Mve(t.writeTree,t.treePath,e,n,i,r,s)}function G2(t,e,n){return Tve(t.writeTree,t.treePath,e,n)}function F$(t,e){return z$(qn(t.treePath,e),t.writeTree)}function z$(t,e){return{treePath:t,writeTree:e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ive{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ae(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ae(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Ov(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Dv(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,cp(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Ov(i,e.snapshotNode,r.oldSnap));else throw kp("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rve{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const B$=new Rve;class $2{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Qc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return G2(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fd(this.viewCache_),s=Ave(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kve(t){return{filter:t}}function Nve(t,e){Ae(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ae(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Lve(t,e,n,i,r){const s=new Ive;let o,a;if(n.type===Oo.OVERWRITE){const c=n;c.source.fromUser?o=CA(t,e,c.path,c.snap,i,r,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Dt(c.path),o=Pb(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Oo.MERGE){const c=n;c.source.fromUser?o=Ove(t,e,c.path,c.children,i,r,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=MA(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Oo.ACK_USER_WRITE){const c=n;c.revert?o=Bve(t,e,c.path,i,r,s):o=Fve(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Oo.LISTEN_COMPLETE)o=zve(t,e,n.path,i,s);else throw kp("Unknown operation type: "+n.type);const l=s.getChanges();return Dve(e,o,l),{viewCache:o,changes:l}}function Dve(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Tb(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(R$(Tb(e)))}}function U$(t,e,n,i,r,s){const o=e.eventCache;if(Mb(i,n)!=null)return e;{let a,l;if(Dt(n))if(Ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Fd(e),u=c instanceof pt?c:pt.EMPTY_NODE,d=W2(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Cb(i,Fd(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Bt(n);if(c===".priority"){Ae(Jc(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Q4(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=bn(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Q4(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=G2(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return Ug(e,a,o.isFullyInitialized()||Dt(n),t.filter.filtersNodes())}}function Pb(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Dt(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),m,null)}else{const m=Bt(n);if(!l.isCompleteForPath(n)&&Jc(n)>1)return e;const g=bn(n),_=l.getNode().getImmediateChild(m).updateChild(g,i);m===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),m,_,g,B$,null)}const d=N$(e,c,l.isFullyInitialized()||Dt(n),u.filtersNodes()),h=new $2(r,d,s);return U$(t,d,n,r,h,a)}function CA(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new $2(r,e,s);if(Dt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Ug(e,c,!0,t.filter.filtersNodes());else{const d=Bt(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Ug(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=bn(n),m=a.getNode().getImmediateChild(d);let g;if(Dt(h))g=i;else{const y=u.getCompleteChild(d);y!=null?O2(h)===".priority"&&y.getChild(w$(h)).isEmpty()?g=y:g=y.updateChild(h,i):g=pt.EMPTY_NODE}if(m.equals(g))l=e;else{const y=t.filter.updateChild(a.getNode(),d,g,h,u,o);l=Ug(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Z4(t,e){return t.eventCache.isCompleteForChild(e)}function Ove(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=qn(n,l);Z4(e,Bt(u))&&(a=CA(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=qn(n,l);Z4(e,Bt(u))||(a=CA(t,a,u,c,r,s,o))}),a}function eF(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function MA(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Dt(n)?c=i:c=new xn(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=eF(t,m,h);l=Pb(t,l,new ln(d),g,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),y=eF(t,g,h);l=Pb(t,l,new ln(d),y,r,s,o,a)}}),l}function Fve(t,e,n,i,r,s,o){if(Mb(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Dt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Pb(t,e,n,l.getNode().getChild(n),r,s,a,o);if(Dt(n)){let c=new xn(null);return l.getNode().forEachChild(Wh,(u,d)=>{c=c.set(new ln(u),d)}),MA(t,e,n,c,r,s,a,o)}else return e}else{let c=new xn(null);return i.foreach((u,d)=>{const h=qn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),MA(t,e,n,c,r,s,a,o)}}function zve(t,e,n,i,r){const s=e.serverCache,o=N$(e,s.getNode(),s.isFullyInitialized()||Dt(n),s.isFiltered());return U$(t,o,n,i,B$,r)}function Bve(t,e,n,i,r,s){let o;if(Mb(i,n)!=null)return e;{const a=new $2(i,e,r),l=e.eventCache.getNode();let c;if(Dt(n)||Bt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Cb(i,Fd(e));else{const d=e.serverCache.getNode();Ae(d instanceof pt,"serverChildren would be complete if leaf node"),u=W2(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Bt(n);let d=G2(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,bn(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,pt.EMPTY_NODE,bn(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Cb(i,Fd(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Mb(i,Qt())!=null,Ug(e,c,o,t.filter.filtersNodes())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uve{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new B2(i.getIndex()),s=rve(i);this.processor_=kve(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(pt.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(pt.EMPTY_NODE,a.getNode(),null),u=new Qc(l,o.isFullyInitialized(),r.filtersNodes()),d=new Qc(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=mw(d,u),this.eventGenerator_=new dve(this.query_)}get query(){return this.query_}}function Vve(t){return t.viewCache_.serverCache.getNode()}function jve(t){return Tb(t.viewCache_)}function Hve(t,e){const n=Fd(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Dt(e)&&!n.getImmediateChild(Bt(e)).isEmpty())?n.getChild(e):null}function tF(t){return t.eventRegistrations_.length===0}function Wve(t,e){t.eventRegistrations_.push(e)}function nF(t,e,n){const i=[];if(n){Ae(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function iF(t,e,n,i){e.type===Oo.MERGE&&e.source.queryId!==null&&(Ae(Fd(t.viewCache_),"We should always have a full cache before handling merges"),Ae(Tb(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=Lve(t.processor_,r,e,n,i);return Nve(t.processor_,s.viewCache),Ae(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,V$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Gve(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xn,(s,o)=>{i.push(cp(s,o))}),n.isFullyInitialized()&&i.push(R$(n.getNode())),V$(t,i,n.getNode(),e)}function V$(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return fve(t.eventGenerator_,e,n,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ab;class j${constructor(){this.views=new Map}}function $ve(t){Ae(!Ab,"__referenceConstructor has already been defined"),Ab=t}function qve(){return Ae(Ab,"Reference.ts has not been loaded"),Ab}function Xve(t){return t.views.size===0}function q2(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return Ae(s!=null,"SyncTree gave us an op for an invalid query."),iF(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(iF(o,e,n,i));return s}}function H$(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Cb(n,r?i:null),l=!1;a?l=!0:i instanceof pt?(a=W2(n,i),l=!1):(a=pt.EMPTY_NODE,l=!1);const c=mw(new Qc(a,l,!1),new Qc(i,r,!1));return new Uve(e,c)}return o}function Yve(t,e,n,i,r,s){const o=H$(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Wve(o,n),Gve(o,n)}function Kve(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Zc(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(nF(c,n,i)),tF(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(nF(l,n,i)),tF(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Zc(t)&&s.push(new(qve())(e._repo,e._path)),{removed:s,events:o}}function W$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qc(t,e){let n=null;for(const i of t.views.values())n=n||Hve(i,e);return n}function G$(t,e){if(e._queryParams.loadsAllData())return vw(t);{const i=e._queryIdentifier;return t.views.get(i)}}function $$(t,e){return G$(t,e)!=null}function Zc(t){return vw(t)!=null}function vw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ib;function Jve(t){Ae(!Ib,"__referenceConstructor has already been defined"),Ib=t}function Qve(){return Ae(Ib,"Reference.ts has not been loaded"),Ib}let Zve=1;class rF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xn(null),this.pendingWriteTree_=Pve(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q$(t,e,n,i,r){return gve(t.pendingWriteTree_,e,n,i,r),r?Fp(t,new Od(V2(),e,n)):[]}function eye(t,e,n,i){vve(t.pendingWriteTree_,e,n,i);const r=xn.fromObject(n);return Fp(t,new up(V2(),e,r))}function kc(t,e,n=!1){const i=yve(t.pendingWriteTree_,e);if(xve(t.pendingWriteTree_,e)){let s=new xn(null);return i.snap!=null?s=s.set(Qt(),!0):tr(i.children,o=>{s=s.set(new ln(o),!0)}),Fp(t,new Eb(i.path,s,n))}else return[]}function Dy(t,e,n){return Fp(t,new Od(j2(),e,n))}function tye(t,e,n){const i=xn.fromObject(n);return Fp(t,new up(j2(),e,i))}function nye(t,e){return Fp(t,new zv(j2(),e))}function iye(t,e,n){const i=Y2(t,n);if(i){const r=K2(i),s=r.path,o=r.queryId,a=Lr(s,e),l=new zv(H2(o),a);return J2(t,s,l)}else return[]}function X$(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||$$(o,e))){const l=Kve(o,e,n,i);Xve(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,m)=>Zc(m));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const m=aye(h);for(let g=0;g<m.length;++g){const y=m[g],_=y.query,v=Q$(t,y);t.listenProvider_.startListening(jg(_),Bv(t,_),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(jg(e),null):c.forEach(h=>{const m=t.queryToTagMap.get(yw(h));t.listenProvider_.stopListening(jg(h),m)}))}lye(t,c)}return a}function Y$(t,e,n,i){const r=Y2(t,i);if(r!=null){const s=K2(r),o=s.path,a=s.queryId,l=Lr(o,e),c=new Od(H2(a),l,n);return J2(t,o,c)}else return[]}function rye(t,e,n,i){const r=Y2(t,i);if(r){const s=K2(r),o=s.path,a=s.queryId,l=Lr(o,e),c=xn.fromObject(n),u=new up(H2(a),l,c);return J2(t,o,u)}else return[]}function sye(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,m)=>{const g=Lr(h,r);s=s||qc(m,g),o=o||Zc(m)});let a=t.syncPointTree_.get(r);a?(o=o||Zc(a),s=s||qc(a,Qt())):(a=new j$,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=pt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((m,g)=>{const y=qc(g,Qt());y&&(s=s.updateImmediateChild(m,y))}));const c=$$(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=yw(e);Ae(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=cye();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}const u=gw(t.pendingWriteTree_,r);let d=Yve(a,e,n,u,s,l);if(!c&&!o&&!i){const h=G$(a,e);d=d.concat(uye(t,e,h))}return d}function X2(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Lr(o,e),c=qc(a,l);if(c)return c});return O$(r,e,s,n,!0)}function oye(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Lr(c,n);i=i||qc(u,d)});let r=t.syncPointTree_.get(n);r?i=i||qc(r,Qt()):(r=new j$,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Qc(i,!0,!1):null,a=gw(t.pendingWriteTree_,e._path),l=H$(r,e,a,s?o.getNode():pt.EMPTY_NODE,s);return jve(l)}function Fp(t,e){return K$(e,t.syncPointTree_,null,gw(t.pendingWriteTree_,Qt()))}function K$(t,e,n,i){if(Dt(t.path))return J$(t,e,n,i);{const r=e.get(Qt());n==null&&r!=null&&(n=qc(r,Qt()));let s=[];const o=Bt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=F$(i,o);s=s.concat(K$(a,l,c,u))}return r&&(s=s.concat(q2(r,t,i,n))),s}}function J$(t,e,n,i){const r=e.get(Qt());n==null&&r!=null&&(n=qc(r,Qt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=F$(i,o),u=t.operationForChild(o);u&&(s=s.concat(J$(u,a,l,c)))}),r&&(s=s.concat(q2(r,t,i,n))),s}function Q$(t,e){const n=e.query,i=Bv(t,n);return{hashFn:()=>(Vve(e)||pt.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?iye(t,n._path,i):nye(t,n._path);{const s=nge(r,n);return X$(t,n,null,s)}}}}function Bv(t,e){const n=yw(e);return t.queryToTagMap.get(n)}function yw(t){return t._path.toString()+"$"+t._queryIdentifier}function Y2(t,e){return t.tagToQueryMap.get(e)}function K2(t){const e=t.indexOf("$");return Ae(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ln(t.substr(0,e))}}function J2(t,e,n){const i=t.syncPointTree_.get(e);Ae(i,"Missing sync point for query tag that we're tracking");const r=gw(t.pendingWriteTree_,e);return q2(i,n,r,null)}function aye(t){return t.fold((e,n,i)=>{if(n&&Zc(n))return[vw(n)];{let r=[];return n&&(r=W$(n)),tr(i,(s,o)=>{r=r.concat(o)}),r}})}function jg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Qve())(t._repo,t._path):t}function lye(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=yw(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function cye(){return Zve++}function uye(t,e,n){const i=e._path,r=Bv(t,e),s=Q$(t,n),o=t.listenProvider_.startListening(jg(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)Ae(!Zc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Dt(c)&&u&&Zc(u))return[vw(u).query];{let h=[];return u&&(h=h.concat(W$(u).map(m=>m.query))),tr(d,(m,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(jg(u),Bv(t,u))}}return o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q2{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Q2(n)}node(){return this.node_}}class Z2{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=qn(this.path_,e);return new Z2(this.syncTree_,n)}node(){return X2(this.syncTree_,this.path_)}}const dye=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},sF=function(t,e,n){if(!t||typeof t!="object")return t;if(Ae(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fye(t[".sv"],e,n);if(typeof t[".sv"]=="object")return hye(t[".sv"],e);Ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fye=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ae(!1,"Unexpected server value: "+t)}},hye=function(t,e,n){t.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Ae(!1,"Unexpected increment value: "+i);const r=e.node();if(Ae(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},Z$=function(t,e,n,i){return ek(e,new Z2(n,t),i)},e7=function(t,e,n){return ek(t,new Q2(e),n)};function ek(t,e,n){const i=t.getPriority().val(),r=sF(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=sF(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Ni(a,vi(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Ni(r))),o.forEachChild(Xn,(a,l)=>{const c=ek(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tk{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function nk(t,e){let n=e instanceof ln?e:new ln(e),i=t,r=Bt(n);for(;r!==null;){const s=sp(i.node.children,r)||{children:{},childCount:0};i=new tk(r,i,s),n=bn(n),r=Bt(n)}return i}function zp(t){return t.node.value}function t7(t,e){t.node.value=e,PA(t)}function n7(t){return t.node.childCount>0}function pye(t){return zp(t)===void 0&&!n7(t)}function xw(t,e){tr(t.node.children,(n,i)=>{e(new tk(n,t,i))})}function i7(t,e,n,i){n&&!i&&e(t),xw(t,r=>{i7(r,e,!0,i)})}function mye(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Oy(t){return new ln(t.parent===null?t.name:Oy(t.parent)+"/"+t.name)}function PA(t){t.parent!==null&&gye(t.parent,t.name,t)}function gye(t,e,n){const i=pye(n),r=Da(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,PA(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,PA(t))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vye=/[\[\].#$\/\u0000-\u001F\u007F]/,yye=/[\[\].#$\u0000-\u001F\u007F]/,TC=10*1024*1024,ik=function(t){return typeof t=="string"&&t.length!==0&&!vye.test(t)},r7=function(t){return typeof t=="string"&&t.length!==0&&!yye.test(t)},xye=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),r7(t)},_ye=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!R2(t)||t&&typeof t=="object"&&Da(t,".sv")},s7=function(t,e,n,i){i&&e===void 0||_w(cw(t,"value"),e,n)},_w=function(t,e,n){const i=n instanceof ln?new Oge(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yu(i));if(typeof e=="function")throw new Error(t+"contains a function "+Yu(i)+" with contents = "+e.toString());if(R2(e))throw new Error(t+"contains "+e.toString()+" "+Yu(i));if(typeof e=="string"&&e.length>TC/3&&uw(e)>TC)throw new Error(t+"contains a string greater than "+TC+" utf8 bytes "+Yu(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(tr(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ik(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yu(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fge(i,o),_w(t,a,i),zge(i)}),r&&s)throw new Error(t+' contains ".value" child '+Yu(i)+" in addition to actual children.")}},bye=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=Lv(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!ik(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Dge);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&ro(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Sye=function(t,e,n,i){const r=cw(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];tr(e,(o,a)=>{const l=new ln(o);if(_w(r,a,qn(n,l)),O2(l)===".priority"&&!_ye(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),bye(r,s)},o7=function(t,e,n,i){if(!r7(n))throw new Error(cw(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wye=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),o7(t,e,n)},rk=function(t,e){if(Bt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Eye=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ik(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xye(n))throw new Error(cw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sk(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!E$(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function uo(t,e,n){sk(t,n),Cye(t,i=>ro(i,e)||ro(e,i))}function Cye(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(Mye(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Mye(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();zg&&Qi("event: "+n.toString()),Op(i)}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pye="repo_interrupt",Aye=25;class Iye{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wb(),this.transactionQueueTree_=new tk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rye(t,e,n){if(t.stats_=L2(t.repoInfo_),t.forceRestClient_||oge())t.server_=new Sb(t.repoInfo_,(i,r,s,o)=>{oF(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>aF(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yi(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new xl(t.repoInfo_,e,(i,r,s,o)=>{oF(t,i,r,s,o)},i=>{aF(t,i)},i=>{kye(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=dge(t.repoInfo_,()=>new uve(t.stats_,t.server_)),t.infoData_=new sve,t.infoSyncTree_=new rF({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Dy(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),ok(t,"connected",!1),t.serverSyncTree_=new rF({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);uo(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function a7(t){const n=t.infoData_.getNode(new ln(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bw(t){return dye({timestamp:a7(t)})}function oF(t,e,n,i,r){t.dataUpdateCount++;const s=new ln(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=db(n,c=>vi(c));o=rye(t.serverSyncTree_,s,l,r)}else{const l=vi(n);o=Y$(t.serverSyncTree_,s,l,r)}else if(i){const l=db(n,c=>vi(c));o=tye(t.serverSyncTree_,s,l)}else{const l=vi(n);o=Dy(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=fp(t,s)),uo(t.eventQueue_,a,o)}function aF(t,e){ok(t,"connected",e),e===!1&&Oye(t)}function kye(t,e){tr(e,(n,i)=>{ok(t,n,i)})}function ok(t,e,n){const i=new ln("/.info/"+e),r=vi(n);t.infoData_.updateSnapshot(i,r);const s=Dy(t.infoSyncTree_,i,r);uo(t.eventQueue_,i,s)}function ak(t){return t.nextWriteId_++}function Nye(t,e,n){const i=oye(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=vi(r).withIndex(e._queryParams.getIndex());sye(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Dy(t.serverSyncTree_,e._path,s);else{const a=Bv(t.serverSyncTree_,e);o=Y$(t.serverSyncTree_,e._path,s,a)}return uo(t.eventQueue_,e._path,o),X$(t.serverSyncTree_,e,n,null,!0),s},r=>(Fy(t,"get for query "+yi(e)+" failed: "+r),Promise.reject(new Error(r))))}function Lye(t,e,n,i,r){Fy(t,"set",{path:e.toString(),value:n,priority:i});const s=bw(t),o=vi(n,i),a=X2(t.serverSyncTree_,e),l=e7(o,a,s),c=ak(t),u=q$(t.serverSyncTree_,e,l,c,!0);sk(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,m)=>{const g=h==="ok";g||Fr("set at "+e+" failed: "+h);const y=kc(t.serverSyncTree_,c,!g);uo(t.eventQueue_,e,y),AA(t,r,h,m)});const d=ck(t,e);fp(t,d),uo(t.eventQueue_,d,[])}function Dye(t,e,n,i){Fy(t,"update",{path:e.toString(),value:n});let r=!0;const s=bw(t),o={};if(tr(n,(a,l)=>{r=!1,o[a]=Z$(qn(e,a),vi(l),t.serverSyncTree_,s)}),r)Qi("update() called with empty data.  Don't do anything."),AA(t,i,"ok",void 0);else{const a=ak(t),l=eye(t.serverSyncTree_,e,o,a);sk(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Fr("update at "+e+" failed: "+c);const h=kc(t.serverSyncTree_,a,!d),m=h.length>0?fp(t,e):e;uo(t.eventQueue_,m,h),AA(t,i,c,u)}),tr(n,c=>{const u=ck(t,qn(e,c));fp(t,u)}),uo(t.eventQueue_,e,[])}}function Oye(t){Fy(t,"onDisconnectEvents");const e=bw(t),n=wb();SA(t.onDisconnect_,Qt(),(r,s)=>{const o=Z$(r,s,t.serverSyncTree_,e);k$(n,r,o)});let i=[];SA(n,Qt(),(r,s)=>{i=i.concat(Dy(t.serverSyncTree_,r,s));const o=ck(t,r);fp(t,o)}),t.onDisconnect_=wb(),uo(t.eventQueue_,Qt(),i)}function Fye(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Pye)}function Fy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qi(n,...e)}function AA(t,e,n,i){e&&Op(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function l7(t,e,n){return X2(t.serverSyncTree_,e,n)||pt.EMPTY_NODE}function lk(t,e=t.transactionQueueTree_){if(e||Sw(t,e),zp(e)){const n=u7(t,e);Ae(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&zye(t,Oy(e),n)}else n7(e)&&xw(e,n=>{lk(t,n)})}function zye(t,e,n){const i=n.map(c=>c.currentWriteId),r=l7(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];Ae(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Lr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Fy(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(kc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Sw(t,nk(t.transactionQueueTree_,e)),lk(t,t.transactionQueueTree_),uo(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Op(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Fr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}fp(t,e)}},o)}function fp(t,e){const n=c7(t,e),i=Oy(n),r=u7(t,n);return Bye(t,r,i),i}function Bye(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Lr(n,l.path);let u=!1,d;if(Ae(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(kc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Aye)u=!0,d="maxretry",r=r.concat(kc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=l7(t,l.path,o);l.currentInputSnapshot=h;const m=e[a].update(h.val());if(m!==void 0){_w("transaction failed: Data returned ",m,l.path);let g=vi(m);typeof m=="object"&&m!=null&&Da(m,".priority")||(g=g.updatePriority(h.getPriority()));const _=l.currentWriteId,v=bw(t),x=e7(g,h,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=x,l.currentWriteId=ak(t),o.splice(o.indexOf(_),1),r=r.concat(q$(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),r=r.concat(kc(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(kc(t.serverSyncTree_,l.currentWriteId,!0))}uo(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Sw(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Op(i[a]);lk(t,t.transactionQueueTree_)}function c7(t,e){let n,i=t.transactionQueueTree_;for(n=Bt(e);n!==null&&zp(i)===void 0;)i=nk(i,n),e=bn(e),n=Bt(e);return i}function u7(t,e){const n=[];return d7(t,e,n),n.sort((i,r)=>i.order-r.order),n}function d7(t,e,n){const i=zp(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);xw(e,r=>{d7(t,r,n)})}function Sw(t,e){const n=zp(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,t7(e,n.length>0?n:void 0)}xw(e,i=>{Sw(t,i)})}function ck(t,e){const n=Oy(c7(t,e)),i=nk(t.transactionQueueTree_,e);return mye(i,r=>{CC(t,r)}),CC(t,i),i7(i,r=>{CC(t,r)}),n}function CC(t,e){const n=zp(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ae(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ae(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(kc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?t7(e,void 0):n.length=s+1,uo(t.eventQueue_,Oy(e),r);for(let o=0;o<i.length;o++)Op(i[o])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Uye(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function Vye(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Fr(`Invalid query segment '${n}' in query '${t}'`)}return e}const lF=function(t,e){const n=jye(t),i=n.namespace;n.domain==="firebase.com"&&Rl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Rl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Jme();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new p$(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new ln(n.pathString)}},jye=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=Uye(t.substring(u,d)));const h=Vye(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cF="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hye=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=cF.charAt(n%64),n=Math.floor(n/64);Ae(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=cF.charAt(e[r]);return Ae(o.length===20,"nextPushId: Length should be 20."),o}}();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wye{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yi(this.snapshot.exportVal())}}class Gye{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $ye{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uk{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Dt(this._path)?null:O2(this._path)}get ref(){return new Vl(this._repo,this._path)}get _queryIdentifier(){const e=X4(this._queryParams),n=k2(e);return n==="{}"?"default":n}get _queryObject(){return X4(this._queryParams)}isEqual(e){if(e=nr(e),!(e instanceof uk))return!1;const n=this._repo===e._repo,i=E$(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lge(this._path)}}class Vl extends uk{constructor(e,n){super(e,n,new U2,!1)}get parent(){const e=w$(this._path);return e===null?null:new Vl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uv{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ln(e),i=zd(this.ref,e);return new Uv(this._node.getChild(n),i,Xn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Uv(r,zd(this.ref,i),Xn)))}hasChild(e){const n=new ln(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fi(t,e){return t=nr(t),t._checkNotDeleted("ref"),e!==void 0?zd(t._root,e):t._root}function zd(t,e){return t=nr(t),Bt(t._path)===null?wye("child","path",e):o7("child","path",e),new Vl(t._repo,qn(t._path,e))}function Rb(t,e){t=nr(t),rk("push",t._path),s7("push",e,t._path,!0);const n=a7(t._repo),i=Hye(n),r=zd(t,i),s=zd(t,i);let o;return e!=null?o=dk(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function vg(t){return rk("remove",t._path),dk(t,null)}function dk(t,e){t=nr(t),rk("set",t._path),s7("set",e,t._path,!1);const n=new Cy;return Lye(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function f7(t,e){Sye("update",e,t._path);const n=new Cy;return Dye(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function vd(t){t=nr(t);const e=new $ye(()=>{}),n=new fk(e);return Nye(t._repo,t,n).then(i=>new Uv(i,new Vl(t._repo,t._path),t._queryParams.getIndex()))}class fk{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Wye("value",this,new Uv(e.snapshotNode,new Vl(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gye(this,e,n):null}matches(e){return e instanceof fk?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}$ve(Vl);Jve(Vl);/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qye="FIREBASE_DATABASE_EMULATOR_HOST",IA={};let Xye=!1;function Yye(t,e,n,i){t.repoInfo_=new p$(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function Kye(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Rl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=lF(s,r),a=o.repoInfo,l;typeof process<"u"&&I4&&(l=I4[qye]),l?(s=`http://${l}?ns=${a.namespace}`,o=lF(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new lge(t.name,t.options,e);Eye("Invalid Firebase Database URL",o),Dt(o.path)||Rl("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Qye(a,t,c,new age(t.name,n));return new Zye(u,t)}function Jye(t,e){const n=IA[e];(!n||n[t.key]!==t)&&Rl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fye(t),delete n[t.key]}function Qye(t,e,n,i){let r=IA[e.name];r||(r={},IA[e.name]=r);let s=r[t.toURLString()];return s&&Rl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Iye(t,Xye,n,i),r[t.toURLString()]=s,s}class Zye{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Rye(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vl(this._repo,Qt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Jye(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rl("Cannot call "+e+" on a deleted database.")}}function ao(t=mG(),e){const n=b2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=ife("database");i&&e0e(n,...i)}return n}function e0e(t,e,n,i={}){t=nr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Rl("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Rl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new g1(g1.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:rfe(i.mockUserToken,t.app.options.projectId);s=new g1(o)}Yye(r,e,n,s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t0e(t){Gme(Lp),op(new kd("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Kye(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Gc(R4,k4,t),Gc(R4,k4,"esm2017")}xl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};t0e();const n0e={apiKey:"AIzaSyDxXkITg6FBLtodHZ7fZej5pwgxiDs0rNc",authDomain:"bpa-web-1d994.firebaseapp.com",projectId:"bpa-web-1d994",storageBucket:"bpa-web-1d994.firebasestorage.app",messagingSenderId:"81824784556",appId:"1=81824784556=web=be68cc61cedcd7d077ff09",measurementId:"G-Q2KXJTK4FY"},i0e=pG(n0e),ca=Vme();ao(i0e);const hp=()=>{const[t,e]=L.useState(""),[n,i]=L.useState(""),[r,s]=L.useState(null),[o,a]=L.useState(""),[l,c]=L.useState(""),[u,d]=L.useState(""),[h,m]=L.useState(""),[g,y]=L.useState(""),_=C=>{e(C.target.value)},v=C=>{i(C.target.value)},x=async()=>{try{await Ppe(ca,GG),await Tpe(ca,t,n),e(""),i(""),d(""),m(""),y(""),a("Logged in successfully.")}catch(C){a(`Error signing in: ${C.message}`)}},b=async()=>{try{await Epe(ca,t,n),e(""),i(""),d(""),m(""),y(""),c("Account Created successfully.")}catch(C){c(`Error Creating Account: ${C.message}`)}},E=async()=>{try{ca.currentUser?(await Cpe(ca.currentUser,n),c("Password updated successfully.")):c("No user is currently signed in.")}catch{}},M=async()=>{try{await Rpe(ca),s(null),a("Logged out successfully.")}catch(C){console.error("Error signing out:",C)}};return L.useEffect(()=>{const C=ca.onAuthStateChanged(R=>{s(R||null)});return()=>C()},[ca]),{email:t,password:n,user:r,Name:u,setName:d,Phone:h,setPhone:m,DateOfBirth:g,setDateOfBirth:y,loginStatus:o,createAccountStatus:l,handleEmailChange:_,handlePasswordChange:v,handleUpdatePassword:E,handleLogin:x,handleCreateAccount:b,handleSignout:M}};function uF(t){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function r0e(t){return Ci({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function RA(t){return Ci({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function s0e(t){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function dF(t){return Ci({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function fF(t){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function hF(t){return Ci({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function o0e(){const t=ho(),[e,n]=L.useState(!1),[i,r]=L.useState(!1),[s,o]=L.useState(""),{user:a}=L.useContext(ru);L.useEffect(()=>{if(a){const u=ao(),d=Fi(u,"users/"+(a.email?a.email.replace(".",","):""));vd(d).then(h=>{if(h.exists()){const m=h.val();o(m.Name)}}).catch(h=>{console.error(h)})}});const{handleSignout:l}=hp(),c=({to:u,children:d})=>w.jsx(Qn,{to:u,children:w.jsx(fn,{fontFamily:"Sansation",fontSize:16,fontWeight:"300",bg:t.pathname===u?"white":"transparent",color:t.pathname===u?"black":"white",p:"6px 12px",textAlign:"center",onClick:()=>n(!1),transition:"color 0.3s ease",_after:{content:'""',display:"block",width:"0",height:t.pathname!==u?"2px":"0",bg:"#E9204F",transition:"width 0.3s ease",marginTop:t.pathname!==u?"4px":"0"},_hover:t.pathname!==u?{color:"#E9204F",_after:{width:"100%"}}:{},children:d})});return w.jsxs(w.Fragment,{children:[w.jsxs(ko,{bg:"black",pt:{base:"3",md:"3"},pb:{base:"2",md:"2"},align:"center",justify:"center",position:"relative",w:"100%",h:{base:"72px",md:"80px"},px:4,children:[w.jsxs(ko,{flex:"1",justify:"right",align:"center",display:{base:"none",md:"flex"},children:[w.jsx(c,{to:"/about-us",children:"ABOUT US"}),w.jsx(c,{to:"/tour",children:"TOUR"})]}),w.jsx(fn,{mx:{base:0,md:1},children:w.jsx(Qn,{to:"/",children:w.jsx(Bh,{src:"/BPA-435-Project/images/Full Logo.png",alt:"Home",height:"40px",transition:"transform 0.3s ease",_hover:{transform:"scale(1.1)"}})})}),w.jsxs(ko,{flex:"1",justify:"left",align:"center",display:{base:"none",md:"flex"},children:[w.jsx(c,{to:"/store",children:"STORE"}),w.jsx(c,{to:"/contact-us",children:"CONTACT US"})]}),w.jsx(fn,{position:"absolute",right:"0",mr:5,display:{base:"none",md:"flex"},children:w.jsx(ko,{align:"center",children:a?w.jsxs(w.Fragment,{children:[w.jsx(Qn,{to:"/cart",children:w.jsx(Ps,{color:"white",size:"2xl",variant:"ghost",children:w.jsx(dF,{})})}),w.jsx(fn,{width:"10px"}),w.jsxs(fn,{position:"relative",children:[w.jsxs(Io,{p:5,backgroundColor:"#E9204F",onClick:()=>r(!i),children:["Hi, ",s.split(" ")[0]+"  ","▼"]}),i&&w.jsxs(fn,{position:"absolute",top:"100%",right:"0",mt:2,bg:"gray.800",color:"white",boxShadow:"md",borderRadius:"md",overflow:"hidden",children:[w.jsx(Qn,{to:"/account",onClick:()=>r(!1),children:w.jsxs(fn,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",children:[w.jsx(hF,{style:{marginRight:"8px"}}),"Account"]})}),w.jsxs(fn,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",onClick:l,children:[w.jsx(fF,{style:{marginRight:"8px"}}),"Logout"]})]})]})]}):w.jsxs(w.Fragment,{children:[w.jsx(Qn,{to:"/signup",children:w.jsx(Io,{p:5,children:"Sign Up"})}),w.jsx(fn,{width:"10px"}),w.jsx(Qn,{to:"/login",children:w.jsx(Io,{p:5,backgroundColor:"#E9204F",children:"Login"})})]})})}),w.jsx(fn,{position:"absolute",mt:0,right:"0",mr:5,display:{base:"flex",md:"none"},children:w.jsx(Ps,{"aria-label":"Open menu",size:"lg",variant:"ghost",color:"white",onClick:()=>n(!0),children:w.jsx(Xde,{})})})]}),w.jsxs(Wde,{open:e,placement:"end",onOpenChange:u=>n(u.open),size:"xs",children:[w.jsx(qde,{}),w.jsxs(jde,{bg:"#000000",color:"white",maxWidth:"240px",children:[w.jsx(Hde,{}),w.jsx(fn,{height:"20px"}),w.jsx(Gde,{fontSize:"xl",fontWeight:"300",fontFamily:"Sansation",pl:3,children:"Menu"}),w.jsx(fn,{height:"20px"}),w.jsx($de,{children:w.jsxs(O8,{align:"start",children:[w.jsx(c,{to:"/",children:"HOME"}),w.jsx(c,{to:"/about-us",children:"ABOUT US"}),w.jsx(c,{to:"/tour",children:"TOUR"}),w.jsx(c,{to:"/store",children:"STORE"}),w.jsx(c,{to:"/contact-us",children:"CONTACT US"}),w.jsx(fn,{mt:8,ml:3,display:"flex",justifyContent:"space-between",width:"60%",children:w.jsx(ko,{align:"center",children:a?w.jsxs(w.Fragment,{children:[w.jsx(Qn,{to:"/cart",children:w.jsx(Ps,{color:"white",size:"2xl",variant:"ghost",children:w.jsx(dF,{})})}),w.jsx(fn,{width:"10px"}),w.jsxs(fn,{position:"relative",children:[w.jsx(fn,{children:w.jsxs(Io,{position:"relative",p:5,backgroundColor:"#E9204F",onClick:()=>r(!i),children:["Hi, ",s.split(" ")[0]+"  ","▼"]})}),i&&w.jsxs(fn,{position:"absolute",top:"100%",right:"0",mt:2,bg:"gray.800",color:"white",boxShadow:"md",borderRadius:"md",overflow:"hidden",children:[w.jsx(Qn,{to:"/account",onClick:()=>r(!1),children:w.jsxs(fn,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",children:[w.jsx(hF,{style:{marginRight:"8px"}}),"Account"]})}),w.jsxs(fn,{p:2,_hover:{bg:"gray.700"},display:"flex",alignItems:"center",onClick:l,children:[w.jsx(fF,{style:{marginRight:"8px"}}),"Logout"]})]})]})]}):w.jsxs(w.Fragment,{children:[w.jsx(Qn,{to:"/signup",children:w.jsx(Io,{p:5,children:"Sign Up"})}),w.jsx(fn,{width:"10px"}),w.jsx(Qn,{to:"/login",children:w.jsx(Io,{p:5,backgroundColor:"#E9204F",children:"Login"})})]})})})]})})]})]})]})}const a0e=L.forwardRef(function(e,n){const{loading:i,disabled:r,loadingText:s,children:o,...a}=e;return w.jsx(Io,{disabled:i||r,ref:n,...a,children:i&&!s?w.jsxs(w.Fragment,{children:[w.jsx(o2,{display:"inline-flex",children:w.jsx(oA,{size:"inherit",color:"inherit"})}),w.jsx(pg,{opacity:0,children:o})]}):i&&s?w.jsxs(w.Fragment,{children:[w.jsx(oA,{size:"inherit",color:"inherit"}),s]}):o})});function pF(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function l0e(t){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"9",r:"2.5"},child:[]}]})(t)}const h7=L.createContext({});function c0e(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const hk=L.createContext(null),p7=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function u0e(t=!0){const e=L.useContext(hk);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=L.useId();L.useEffect(()=>{t&&r(s)},[t]);const o=L.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const pk=typeof window<"u",d0e=pk?L.useLayoutEffect:L.useEffect,As=t=>t;let kA=As;function mk(t){let e;return()=>(e===void 0&&(e=t()),e)}const pp=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},_l=t=>t*1e3,bl=t=>t/1e3,f0e={skipAnimations:!1,useManualTiming:!1};function h0e(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const m=d&&i?e:n;return u&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const Dx=["read","resolveKeyframes","update","preRender","render","postRender"],p0e=40;function m7(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Dx.reduce((v,x)=>(v[x]=h0e(s),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,m=()=>{const v=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,p0e),1),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},g=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:Dx.reduce((v,x)=>{const b=o[x];return v[x]=(E,M=!1,C=!1)=>(n||g(),b.schedule(E,M,C)),v},{}),cancel:v=>{for(let x=0;x<Dx.length;x++)o[Dx[x]].cancel(v)},state:r,steps:o}}const{schedule:Cn,cancel:eu,state:qi,steps:MC}=m7(typeof requestAnimationFrame<"u"?requestAnimationFrame:As,!0),g7=L.createContext({strict:!1}),mF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mp={};for(const t in mF)mp[t]={isEnabled:e=>mF[t].some(n=>!!e[n])};function m0e(t){for(const e in t)mp[e]={...mp[e],...t[e]}}const g0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||g0e.has(t)}let v7=t=>!kb(t);function v0e(t){t&&(v7=e=>e.startsWith("on")?!kb(e):t(e))}try{v0e(require("@emotion/is-prop-valid").default)}catch{}function y0e(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(v7(r)||n===!0&&kb(r)||!e&&!kb(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function x0e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const ww=L.createContext({});function Vv(t){return typeof t=="string"||Array.isArray(t)}function Ew(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vk=["initial",...gk];function Tw(t){return Ew(t.animate)||vk.some(e=>Vv(t[e]))}function y7(t){return!!(Tw(t)||t.variants)}function _0e(t,e){if(Tw(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Vv(n)?n:void 0,animate:Vv(i)?i:void 0}}return t.inherit!==!1?e:{}}function b0e(t){const{initial:e,animate:n}=_0e(t,L.useContext(ww));return L.useMemo(()=>({initial:e,animate:n}),[gF(e),gF(n)])}function gF(t){return Array.isArray(t)?t.join(" "):t}const S0e=Symbol.for("motionComponentSymbol");function bh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w0e(t,e,n){return L.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):bh(n)&&(n.current=i))},[e])}const yk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E0e="framerAppearId",x7="data-"+yk(E0e),{schedule:xk,cancel:yDe}=m7(queueMicrotask,!1),_7=L.createContext({});function T0e(t,e,n,i,r){var s,o;const{visualElement:a}=L.useContext(ww),l=L.useContext(g7),c=L.useContext(hk),u=L.useContext(p7).reducedMotion,d=L.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=L.useContext(_7);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&C0e(d.current,n,r,m);const g=L.useRef(!1);L.useInsertionEffect(()=>{h&&g.current&&h.update(n,c)});const y=n[x7],_=L.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return d0e(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xk.render(h.render),_.current&&h.animationState&&h.animationState.animateChanges())}),L.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),_.current=!1))}),h}function C0e(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:b7(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&bh(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function b7(t){if(t)return t.options.allowProjection!==!1?t.projection:b7(t.parent)}function M0e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&m0e(t);function a(c,u){let d;const h={...L.useContext(p7),...c,layoutId:P0e(c)},{isStatic:m}=h,g=b0e(c),y=i(c,m);if(!m&&pk){A0e();const _=I0e(h);d=_.MeasureLayout,g.visualElement=T0e(r,y,h,e,_.ProjectionNode)}return w.jsxs(ww.Provider,{value:g,children:[d&&g.visualElement?w.jsx(d,{visualElement:g.visualElement,...h}):null,n(r,c,w0e(y,g.visualElement,u),y,m,g.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=L.forwardRef(a);return l[S0e]=r,l}function P0e({layoutId:t}){const e=L.useContext(h7).id;return e&&t!==void 0?e+"-"+t:t}function A0e(t,e){L.useContext(g7).strict}function I0e(t){const{drag:e,layout:n}=mp;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const R0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _k(t){return typeof t!="string"||t.includes("-")?!1:!!(R0e.indexOf(t)>-1||/[A-Z]/u.test(t))}function vF(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function bk(t,e,n,i){if(typeof e=="function"){const[r,s]=vF(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=vF(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const NA=t=>Array.isArray(t),k0e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),N0e=t=>NA(t)?t[t.length-1]||0:t,yr=t=>!!(t&&t.getVelocity);function v1(t){const e=yr(t)?t.get():t;return k0e(e)?e.toValue():e}function L0e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:D0e(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const S7=t=>(e,n)=>{const i=L.useContext(ww),r=L.useContext(hk),s=()=>L0e(t,e,i,r);return n?s():c0e(s)};function D0e(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=v1(s[h]);let{initial:o,animate:a}=t;const l=Tw(t),c=y7(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Ew(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const g=bk(t,h[m]);if(g){const{transitionEnd:y,transition:_,...v}=g;for(const x in v){let b=v[x];if(Array.isArray(b)){const E=u?b.length-1:0;b=b[E]}b!==null&&(r[x]=b)}for(const x in y)r[x]=y[x]}}}return r}const Bp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tf=new Set(Bp),w7=t=>e=>typeof e=="string"&&e.startsWith(t),E7=w7("--"),O0e=w7("var(--"),Sk=t=>O0e(t)?F0e.test(t.split("/*")[0].trim()):!1,F0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,kl=(t,e,n)=>n>e?e:n<t?t:n,Up={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},jv={...Up,transform:t=>kl(0,1,t)},Ox={...Up,default:1},zy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gc=zy("deg"),Ta=zy("%"),ft=zy("px"),z0e=zy("vh"),B0e=zy("vw"),yF={...Ta,parse:t=>Ta.parse(t)/100,transform:t=>Ta.transform(t*100)},U0e={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,backgroundPositionX:ft,backgroundPositionY:ft},V0e={rotate:gc,rotateX:gc,rotateY:gc,rotateZ:gc,scale:Ox,scaleX:Ox,scaleY:Ox,scaleZ:Ox,skew:gc,skewX:gc,skewY:gc,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:jv,originX:yF,originY:yF,originZ:ft},xF={...Up,transform:Math.round},wk={...U0e,...V0e,zIndex:xF,size:ft,fillOpacity:jv,strokeOpacity:jv,numOctaves:xF},j0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H0e=Bp.length;function W0e(t,e,n){let i="",r=!0;for(let s=0;s<H0e;s++){const o=Bp[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=T7(a,wk[o]);if(!l){r=!1;const u=j0e[o]||o;i+=`${u}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Ek(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(tf.has(l)){o=!0;continue}else if(E7(l)){r[l]=c;continue}else{const u=T7(c,wk[l]);l.startsWith("origin")?(a=!0,s[l]=u):i[l]=u}}if(e.transform||(o||n?i.transform=W0e(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;i.transformOrigin=`${l} ${c} ${u}`}}const G0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},$0e={offset:"strokeDashoffset",array:"strokeDasharray"};function q0e(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?G0e:$0e;t[s.offset]=ft.transform(-i);const o=ft.transform(e),a=ft.transform(n);t[s.array]=`${o} ${a}`}function _F(t,e,n){return typeof t=="string"?t:ft.transform(e+n*t)}function X0e(t,e,n){const i=_F(e,t.x,t.width),r=_F(n,t.y,t.height);return`${i} ${r}`}function Tk(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Ek(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:g}=t;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=X0e(g,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),o!==void 0&&q0e(h,o,a,l,!1)}const Ck=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),C7=()=>({...Ck(),attrs:{}}),Mk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M7(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const P7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A7(t,e,n,i){M7(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(P7.has(r)?r:yk(r),e.attrs[r])}const Nb={};function Y0e(t){Object.assign(Nb,t)}function I7(t,{layout:e,layoutId:n}){return tf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nb[t]||t==="opacity")}function Pk(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(yr(r[o])||e.style&&yr(e.style[o])||I7(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function R7(t,e,n){const i=Pk(t,e,n);for(const r in t)if(yr(t[r])||yr(e[r])){const s=Bp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function K0e(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const bF=["x","y","width","height","cx","cy","r"],J0e={useVisualState:S7({scrapeMotionValuesFromProps:R7,createRenderState:C7,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(tf.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<bF.length;a++){const l=bF[a];t[l]!==e[l]&&(o=!0)}o&&Cn.read(()=>{K0e(n,i),Cn.render(()=>{Tk(i,r,Mk(n.tagName),t.transformTemplate),A7(n,i)})})}})},Q0e={useVisualState:S7({scrapeMotionValuesFromProps:Pk,createRenderState:Ck})};function k7(t,e,n){for(const i in e)!yr(e[i])&&!I7(i,n)&&(t[i]=e[i])}function Z0e({transformTemplate:t},e){return L.useMemo(()=>{const n=Ck();return Ek(n,e,t),Object.assign({},n.vars,n.style)},[e])}function exe(t,e){const n=t.style||{},i={};return k7(i,n,t),Object.assign(i,Z0e(t,e)),i}function txe(t,e){const n={},i=exe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function nxe(t,e,n,i){const r=L.useMemo(()=>{const s=C7();return Tk(s,e,Mk(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};k7(s,t.style,t),r.style={...s,...r.style}}return r}function ixe(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(_k(n)?nxe:txe)(i,s,o,n),c=y0e(i,typeof n=="string",t),u=n!==L.Fragment?{...c,...l,ref:r}:{},{children:d}=i,h=L.useMemo(()=>yr(d)?d.get():d,[d]);return L.createElement(n,{...u,children:h})}}function rxe(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={..._k(i)?J0e:Q0e,preloadedFeatures:t,useRender:ixe(r),createVisualElement:e,Component:i};return M0e(o)}}function N7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Cw(t,e,n){const i=t.getProps();return bk(i,e,n!==void 0?n:i.custom,t)}const sxe=mk(()=>window.ScrollTimeline!==void 0);class oxe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(sxe()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class axe extends oxe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ak(t,e){return t?t[e]||t.default||t:void 0}const LA=2e4;function L7(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<LA;)e+=n,i=t.next(e);return e>=LA?1/0:e}function Ik(t){return typeof t=="function"}function SF(t,e){t.timeline=e,t.onfinish=null}const Rk=t=>Array.isArray(t)&&typeof t[0]=="number",lxe={linearEasing:void 0};function cxe(t,e){const n=mk(t);return()=>{var i;return(i=lxe[e])!==null&&i!==void 0?i:n()}}const Lb=cxe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),D7=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(pp(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function O7(t){return!!(typeof t=="function"&&Lb()||!t||typeof t=="string"&&(t in DA||Lb())||Rk(t)||Array.isArray(t)&&t.every(O7))}const yg=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,DA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yg([0,.65,.55,1]),circOut:yg([.55,0,1,.45]),backIn:yg([.31,.01,.66,-.59]),backOut:yg([.33,1.53,.69,.99])};function F7(t,e){if(t)return typeof t=="function"&&Lb()?D7(t,e):Rk(t)?yg(t):Array.isArray(t)?t.map(n=>F7(n,e)||DA.easeOut):DA[t]}const Eo={x:!1,y:!1};function z7(){return Eo.x||Eo.y}function uxe(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function B7(t,e){const n=uxe(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function wF(t){return e=>{e.pointerType==="touch"||z7()||t(e)}}function dxe(t,e,n={}){const[i,r,s]=B7(t,n),o=wF(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=wF(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const U7=(t,e)=>e?t===e?!0:U7(t,e.parentElement):!1,kk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fxe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hxe(t){return fxe.has(t.tagName)||t.tabIndex!==-1}const xg=new WeakSet;function EF(t){return e=>{e.key==="Enter"&&t(e)}}function PC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pxe=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=EF(()=>{if(xg.has(n))return;PC(n,"down");const r=EF(()=>{PC(n,"up")}),s=()=>PC(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function TF(t){return kk(t)&&!z7()}function mxe(t,e,n={}){const[i,r,s]=B7(t,n),o=a=>{const l=a.currentTarget;if(!TF(a)||xg.has(l))return;xg.add(l);const c=e(a),u=(m,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!TF(m)||!xg.has(l))&&(xg.delete(l),typeof c=="function"&&c(m,{success:g}))},d=m=>{u(m,n.useGlobalTarget||U7(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",h,r)};return i.forEach(a=>{!hxe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>pxe(c,r),r)}),s}function gxe(t){return t==="x"||t==="y"?Eo[t]?null:(Eo[t]=!0,()=>{Eo[t]=!1}):Eo.x||Eo.y?null:(Eo.x=Eo.y=!0,()=>{Eo.x=Eo.y=!1})}const V7=new Set(["width","height","top","left","right","bottom",...Bp]);let y1;function vxe(){y1=void 0}const Ca={now:()=>(y1===void 0&&Ca.set(qi.isProcessing||f0e.useManualTiming?qi.timestamp:performance.now()),y1),set:t=>{y1=t,queueMicrotask(vxe)}};function Nk(t,e){t.indexOf(e)===-1&&t.push(e)}function Lk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dk{constructor(){this.subscriptions=[]}add(e){return Nk(this.subscriptions,e),()=>Lk(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function j7(t,e){return e?t*(1e3/e):0}const CF=30,yxe=t=>!isNaN(parseFloat(t));class xxe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Ca.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ca.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yxe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dk);const i=this.events[e].add(n);return e==="change"?()=>{i(),Cn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ca.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CF)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CF);return j7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hv(t,e){return new xxe(t,e)}function _xe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hv(n))}function bxe(t,e){const n=Cw(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=N0e(s[o]);_xe(t,o,a)}}function Sxe(t){return!!(yr(t)&&t.add)}function OA(t,e){const n=t.getValue("willChange");if(Sxe(n))return n.add(e)}function H7(t){return t.props[x7]}const W7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wxe=1e-7,Exe=12;function Txe(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=W7(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>wxe&&++a<Exe);return o}function By(t,e,n,i){if(t===e&&n===i)return As;const r=s=>Txe(s,0,1,t,n);return s=>s===0||s===1?s:W7(r(s),e,i)}const G7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$7=t=>e=>1-t(1-e),q7=By(.33,1.53,.69,.99),Ok=$7(q7),X7=G7(Ok),Y7=t=>(t*=2)<1?.5*Ok(t):.5*(2-Math.pow(2,-10*(t-1))),Fk=t=>1-Math.sin(Math.acos(t)),K7=$7(Fk),J7=G7(Fk),Q7=t=>/^0[^.\s]+$/u.test(t);function Cxe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Q7(t):!0}const Hg=t=>Math.round(t*1e5)/1e5,zk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mxe(t){return t==null}const Pxe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bk=(t,e)=>n=>!!(typeof n=="string"&&Pxe.test(n)&&n.startsWith(t)||e&&!Mxe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Z7=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(zk);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Axe=t=>kl(0,255,t),AC={...Up,transform:t=>Math.round(Axe(t))},ad={test:Bk("rgb","red"),parse:Z7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+AC.transform(t)+", "+AC.transform(e)+", "+AC.transform(n)+", "+Hg(jv.transform(i))+")"};function Ixe(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const FA={test:Bk("#"),parse:Ixe,transform:ad.transform},Sh={test:Bk("hsl","hue"),parse:Z7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ta.transform(Hg(e))+", "+Ta.transform(Hg(n))+", "+Hg(jv.transform(i))+")"},mr={test:t=>ad.test(t)||FA.test(t)||Sh.test(t),parse:t=>ad.test(t)?ad.parse(t):Sh.test(t)?Sh.parse(t):FA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ad.transform(t):Sh.transform(t)},Rxe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kxe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zk))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Rxe))===null||n===void 0?void 0:n.length)||0)>0}const e9="number",t9="color",Nxe="var",Lxe="var(",MF="${}",Dxe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wv(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Dxe,l=>(mr.test(l)?(i.color.push(s),r.push(t9),n.push(mr.parse(l))):l.startsWith(Lxe)?(i.var.push(s),r.push(Nxe),n.push(l)):(i.number.push(s),r.push(e9),n.push(parseFloat(l))),++s,MF)).split(MF);return{values:n,split:a,indexes:i,types:r}}function n9(t){return Wv(t).values}function i9(t){const{split:e,types:n}=Wv(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===e9?s+=Hg(r[o]):a===t9?s+=mr.transform(r[o]):s+=r[o]}return s}}const Oxe=t=>typeof t=="number"?0:t;function Fxe(t){const e=n9(t);return i9(t)(e.map(Oxe))}const tu={test:kxe,parse:n9,createTransformer:i9,getAnimatableNone:Fxe},zxe=new Set(["brightness","contrast","saturate","opacity"]);function Bxe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(zk)||[];if(!i)return t;const r=n.replace(i,"");let s=zxe.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Uxe=/\b([a-z-]*)\(.*?\)/gu,zA={...tu,getAnimatableNone:t=>{const e=t.match(Uxe);return e?e.map(Bxe).join(" "):t}},Vxe={...wk,color:mr,backgroundColor:mr,outlineColor:mr,fill:mr,stroke:mr,borderColor:mr,borderTopColor:mr,borderRightColor:mr,borderBottomColor:mr,borderLeftColor:mr,filter:zA,WebkitFilter:zA},Uk=t=>Vxe[t];function r9(t,e){let n=Uk(t);return n!==zA&&(n=tu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jxe=new Set(["auto","none","0"]);function Hxe(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!jxe.has(s)&&Wv(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=r9(n,r)}const PF=t=>t===Up||t===ft,AF=(t,e)=>parseFloat(t.split(", ")[e]),IF=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return AF(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?AF(s[1],t):0}},Wxe=new Set(["x","y","z"]),Gxe=Bp.filter(t=>!Wxe.has(t));function $xe(t){const e=[];return Gxe.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const gp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:IF(4,13),y:IF(5,14)};gp.translateX=gp.x;gp.translateY=gp.y;const yd=new Set;let BA=!1,UA=!1;function s9(){if(UA){const t=Array.from(yd).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=$xe(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}UA=!1,BA=!1,yd.forEach(t=>t.complete()),yd.clear()}function o9(){yd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(UA=!0)})}function qxe(){o9(),s9()}class Vk{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yd.add(this),BA||(BA=!0,Cn.read(o9),Cn.resolveKeyframes(s9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const a9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Xxe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yxe(t){const e=Xxe.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function l9(t,e,n=1){const[i,r]=Yxe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return a9(o)?parseFloat(o):o}return Sk(r)?l9(r,e,n+1):r}const c9=t=>e=>e.test(t),Kxe={test:t=>t==="auto",parse:t=>t},u9=[Up,ft,Ta,gc,B0e,z0e,Kxe],RF=t=>u9.find(c9(t));class d9 extends Vk{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Sk(c))){const u=l9(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!V7.has(i)||e.length!==2)return;const[r,s]=e,o=RF(r),a=RF(s);if(o!==a)if(PF(o)&&PF(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)Cxe(e[r])&&i.push(r);i.length&&Hxe(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gp[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=gp[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const kF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(tu.test(t)||t==="0")&&!t.startsWith("url("));function Jxe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Qxe(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=kF(r,e),a=kF(s,e);return!o||!a?!1:Jxe(t)||(n==="spring"||Ik(n))&&i}const Zxe=t=>t!==null;function Mw(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(Zxe),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const e_e=40;class f9{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ca.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>e_e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qxe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ca.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Qxe(e,i,r,s))if(o)this.options.duration=0;else{l&&l(Mw(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fn=(t,e,n)=>t+(e-t)*n;function IC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t_e({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=IC(l,a,t+1/3),s=IC(l,a,t),o=IC(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Db(t,e){return n=>n>0?e:t}const RC=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},n_e=[FA,ad,Sh],i_e=t=>n_e.find(e=>e.test(t));function NF(t){const e=i_e(t);if(!e)return!1;let n=e.parse(t);return e===Sh&&(n=t_e(n)),n}const LF=(t,e)=>{const n=NF(t),i=NF(e);if(!n||!i)return Db(t,e);const r={...n};return s=>(r.red=RC(n.red,i.red,s),r.green=RC(n.green,i.green,s),r.blue=RC(n.blue,i.blue,s),r.alpha=Fn(n.alpha,i.alpha,s),ad.transform(r))},r_e=(t,e)=>n=>e(t(n)),Uy=(...t)=>t.reduce(r_e),VA=new Set(["none","hidden"]);function s_e(t,e){return VA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function o_e(t,e){return n=>Fn(t,e,n)}function jk(t){return typeof t=="number"?o_e:typeof t=="string"?Sk(t)?Db:mr.test(t)?LF:c_e:Array.isArray(t)?h9:typeof t=="object"?mr.test(t)?LF:a_e:Db}function h9(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>jk(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function a_e(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=jk(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function l_e(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const c_e=(t,e)=>{const n=tu.createTransformer(e),i=Wv(t),r=Wv(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?VA.has(t)&&!r.values.length||VA.has(e)&&!i.values.length?s_e(t,e):Uy(h9(l_e(i,r),r.values),n):Db(t,e)};function p9(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fn(t,e,n):jk(t)(t,e)}const u_e=5;function m9(t,e,n){const i=Math.max(e-u_e,0);return j7(n-t(i),e-i)}const Wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kC=.001;function d_e({duration:t=Wn.duration,bounce:e=Wn.bounce,velocity:n=Wn.velocity,mass:i=Wn.mass}){let r,s,o=1-e;o=kl(Wn.minDamping,Wn.maxDamping,o),t=kl(Wn.minDuration,Wn.maxDuration,bl(t)),o<1?(r=c=>{const u=c*o,d=u*t,h=u-n,m=jA(c,o),g=Math.exp(-d);return kC-h/m*g},s=c=>{const d=c*o*t,h=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),y=jA(Math.pow(c,2),o);return(-r(c)+kC>0?-1:1)*((h-m)*g)/y}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-kC+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=h_e(r,s,a);if(t=_l(t),isNaN(l))return{stiffness:Wn.stiffness,damping:Wn.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const f_e=12;function h_e(t,e,n){let i=n;for(let r=1;r<f_e;r++)i=i-t(i)/e(i);return i}function jA(t,e){return t*Math.sqrt(1-e*e)}const p_e=["duration","bounce"],m_e=["stiffness","damping","mass"];function DF(t,e){return e.some(n=>t[n]!==void 0)}function g_e(t){let e={velocity:Wn.velocity,stiffness:Wn.stiffness,damping:Wn.damping,mass:Wn.mass,isResolvedFromDuration:!1,...t};if(!DF(t,m_e)&&DF(t,p_e))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*kl(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Wn.mass,stiffness:r,damping:s}}else{const n=d_e(t);e={...e,...n,mass:Wn.mass},e.isResolvedFromDuration=!0}return e}function g9(t=Wn.visualDuration,e=Wn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=g_e({...n,velocity:-bl(n.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*u)),_=o-s,v=bl(Math.sqrt(l/u)),x=Math.abs(_)<5;i||(i=x?Wn.restSpeed.granular:Wn.restSpeed.default),r||(r=x?Wn.restDelta.granular:Wn.restDelta.default);let b;if(y<1){const M=jA(v,y);b=C=>{const R=Math.exp(-y*v*C);return o-R*((g+y*v*_)/M*Math.sin(M*C)+_*Math.cos(M*C))}}else if(y===1)b=M=>o-Math.exp(-v*M)*(_+(g+v*_)*M);else{const M=v*Math.sqrt(y*y-1);b=C=>{const R=Math.exp(-y*v*C),k=Math.min(M*C,300);return o-R*((g+y*v*_)*Math.sinh(k)+M*_*Math.cosh(k))/M}}const E={calculatedDuration:m&&d||null,next:M=>{const C=b(M);if(m)a.done=M>=d;else{let R=0;y<1&&(R=M===0?_l(g):m9(b,M,C));const k=Math.abs(R)<=i,I=Math.abs(o-C)<=r;a.done=k&&I}return a.value=a.done?o:C,a},toString:()=>{const M=Math.min(L7(E),LA),C=D7(R=>E.next(M*R).value,M,30);return M+"ms "+C}};return E}function OF({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},m=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let y=n*e;const _=d+y,v=o===void 0?_:o(_);v!==_&&(y=v-d);const x=k=>-y*Math.exp(-k/i),b=k=>v+x(k),E=k=>{const I=x(k),P=b(k);h.done=Math.abs(I)<=c,h.value=h.done?v:P};let M,C;const R=k=>{m(h.value)&&(M=k,C=g9({keyframes:[h.value,g(h.value)],velocity:m9(b,k,h.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:k=>{let I=!1;return!C&&M===void 0&&(I=!0,E(k),R(k)),M!==void 0&&k>=M?C.next(k-M):(!I&&E(k),h)}}}const v_e=By(.42,0,1,1),y_e=By(0,0,.58,1),v9=By(.42,0,.58,1),x_e=t=>Array.isArray(t)&&typeof t[0]!="number",FF={linear:As,easeIn:v_e,easeInOut:v9,easeOut:y_e,circIn:Fk,circInOut:J7,circOut:K7,backIn:Ok,backInOut:X7,backOut:q7,anticipate:Y7},zF=t=>{if(Rk(t)){kA(t.length===4);const[e,n,i,r]=t;return By(e,n,i,r)}else if(typeof t=="string")return kA(FF[t]!==void 0),FF[t];return t};function __e(t,e,n){const i=[],r=n||p9,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||As:e;a=Uy(l,a)}i.push(a)}return i}function b_e(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(kA(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=__e(e,i,r),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=pp(t[d],t[d+1],u);return a[d](h)};return n?u=>c(kl(t[0],t[s-1],u)):c}function S_e(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=pp(0,e,i);t.push(Fn(n,1,r))}}function w_e(t){const e=[0];return S_e(e,t.length-1),e}function E_e(t,e){return t.map(n=>n*e)}function T_e(t,e){return t.map(()=>e||v9).splice(0,t.length-1)}function Ob({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=x_e(i)?i.map(zF):zF(i),s={done:!1,value:e[0]},o=E_e(n&&n.length===e.length?n:w_e(e),t),a=b_e(o,e,{ease:Array.isArray(r)?r:T_e(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const C_e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Cn.update(e,!0),stop:()=>eu(e),now:()=>qi.isProcessing?qi.timestamp:Ca.now()}},M_e={decay:OF,inertia:OF,tween:Ob,keyframes:Ob,spring:g9},P_e=t=>t/100;class Hk extends f9{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Vk,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Ik(n)?n:M_e[n]||Ob;let l,c;a!==Ob&&typeof e[0]!="number"&&(l=Uy(P_e,p9(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=L7(u));const{calculatedDuration:d}=u,h=d+r,m=h*(i+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=i;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:y,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,E=s;if(m){const k=Math.min(this.currentTime,u)/d;let I=Math.floor(k),P=k%1;!P&&k>=1&&(P=1),P===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(g==="reverse"?(P=1-P,y&&(P-=y/d)):g==="mirror"&&(E=o)),b=kl(0,1,P)*d}const M=x?{done:!1,value:l[0]}:E.next(b);a&&(M.value=a(M.value));let{done:C}=M;!x&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return R&&r!==void 0&&(M.value=Mw(l,this.options,r)),_&&_(M.value),R&&this.finish(),M}get duration(){const{resolved:e}=this;return e?bl(e.calculatedDuration):0}get time(){return bl(this.currentTime)}set time(e){e=_l(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C_e,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const A_e=new Set(["opacity","clipPath","filter","transform"]);function I_e(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=F7(a,r);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const R_e=mk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fb=10,k_e=2e4;function N_e(t){return Ik(t.type)||t.type==="spring"||!O7(t.ease)}function L_e(t,e){const n=new Hk({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<k_e;)i=n.sample(s),r.push(i.value),s+=Fb;return{times:void 0,keyframes:r,duration:s-Fb,ease:"linear"}}const y9={anticipate:Y7,backInOut:X7,circInOut:J7};function D_e(t){return t in y9}class BF extends f9{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new d9(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Lb()&&D_e(s)&&(s=y9[s]),N_e(this.options)){const{onComplete:d,onUpdate:h,motionValue:m,element:g,...y}=this.options,_=L_e(e,y);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,r=_.times,s=_.ease,o="keyframes"}const u=I_e(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(SF(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(Mw(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return bl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return bl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=_l(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return As;const{animation:i}=n;SF(i,e)}return As}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...m}=this.options,g=new Hk({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),y=_l(this.time);c.setWithVelocity(g.sample(y-Fb).value,g.sample(y).value,Fb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return R_e()&&i&&A_e.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const O_e={type:"spring",stiffness:500,damping:25,restSpeed:10},F_e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),z_e={type:"keyframes",duration:.8},B_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U_e=(t,{keyframes:e})=>e.length>2?z_e:tf.has(t)?t.startsWith("scale")?F_e(e[1]):O_e:B_e;function V_e({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Wk=(t,e,n,i={},r,s)=>o=>{const a=Ak(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-_l(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};V_e(a)||(u={...u,...U_e(t,u)}),u.duration&&(u.duration=_l(u.duration)),u.repeatDelay&&(u.repeatDelay=_l(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=Mw(u.keyframes,a);if(h!==void 0)return Cn.update(()=>{u.onUpdate(h),u.onComplete()}),new axe([])}return!s&&BF.supports(u)?new BF(u):new Hk(u)};function j_e({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function x9(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||u&&j_e(u,d))continue;const g={delay:n,...Ak(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const v=H7(t);if(v){const x=window.MotionHandoffAnimation(v,d,Cn);x!==null&&(g.startTime=x,y=!0)}}OA(t,d),h.start(Wk(d,h,m,t.shouldReduceMotion&&V7.has(d)?{type:!1}:g,t,y));const _=h.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{Cn.update(()=>{a&&bxe(t,a)})}),c}function HA(t,e,n={}){var i;const r=Cw(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(x9(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return H_e(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function H_e(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(W_e).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(HA(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function W_e(t,e){return t.sortNodePosition(e)}function G_e(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>HA(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=HA(t,e,n);else{const r=typeof e=="function"?Cw(t,e,n.custom):e;i=Promise.all(x9(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const $_e=vk.length;function _9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$_e;n++){const i=vk[n],r=t.props[i];(Vv(r)||r===!1)&&(e[i]=r)}return e}const q_e=[...gk].reverse(),X_e=gk.length;function Y_e(t){return e=>Promise.all(e.map(({animation:n,options:i})=>G_e(t,n,i)))}function K_e(t){let e=Y_e(t),n=UF(),i=!0;const r=l=>(c,u)=>{var d;const h=Cw(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:m,transitionEnd:g,...y}=h;c={...c,...y,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=_9(t.parent)||{},d=[],h=new Set;let m={},g=1/0;for(let _=0;_<X_e;_++){const v=q_e[_],x=n[v],b=c[v]!==void 0?c[v]:u[v],E=Vv(b),M=v===l?x.isActive:null;M===!1&&(g=_);let C=b===u[v]&&b!==c[v]&&E;if(C&&i&&t.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...m},!x.isActive&&M===null||!b&&!x.prevProp||Ew(b)||typeof b=="boolean")continue;const R=J_e(x.prevProp,b);let k=R||v===l&&x.isActive&&!C&&E||_>g&&E,I=!1;const P=Array.isArray(b)?b:[b];let O=P.reduce(r(v),{});M===!1&&(O={});const{prevResolvedValues:z={}}=x,U={...z,...O},X=j=>{k=!0,h.has(j)&&(I=!0,h.delete(j)),x.needsAnimating[j]=!0;const D=t.getValue(j);D&&(D.liveStyle=!1)};for(const j in U){const D=O[j],B=z[j];if(m.hasOwnProperty(j))continue;let $=!1;NA(D)&&NA(B)?$=!N7(D,B):$=D!==B,$?D!=null?X(j):h.add(j):D!==void 0&&h.has(j)?X(j):x.protectedKeys[j]=!0}x.prevProp=b,x.prevResolvedValues=O,x.isActive&&(m={...m,...O}),i&&t.blockInitialAnimation&&(k=!1),k&&(!(C&&R)||I)&&d.push(...P.map(j=>({animation:j,options:{type:v}})))}if(h.size){const _={};h.forEach(v=>{const x=t.getBaseTarget(v),b=t.getValue(v);b&&(b.liveStyle=!0),_[v]=x??null}),d.push({animation:_})}let y=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=UF(),i=!0}}}function J_e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N7(e,t):!1}function Iu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UF(){return{animate:Iu(!0),whileInView:Iu(),whileHover:Iu(),whileTap:Iu(),whileDrag:Iu(),whileFocus:Iu(),exit:Iu()}}class fu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Q_e extends fu{constructor(e){super(e),e.animationState||(e.animationState=K_e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ew(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Z_e=0;class e1e extends fu{constructor(){super(...arguments),this.id=Z_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t1e={animation:{Feature:Q_e},exit:{Feature:e1e}};function Gv(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Vy(t){return{point:{x:t.pageX,y:t.pageY}}}const n1e=t=>e=>kk(e)&&t(e,Vy(e));function Wg(t,e,n,i){return Gv(t,e,n1e(n),i)}const VF=(t,e)=>Math.abs(t-e);function i1e(t,e){const n=VF(t.x,e.x),i=VF(t.y,e.y);return Math.sqrt(n**2+i**2)}class b9{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=LC(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=i1e(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=d,{timestamp:y}=qi;this.history.push({...g,timestamp:y});const{onStart:_,onMove:v}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=NC(h,this.transformPagePoint),Cn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=LC(d.type==="pointercancel"?this.lastMoveEventInfo:NC(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,_),g&&g(d,_)},!kk(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Vy(e),a=NC(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=qi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,LC(a,this.history)),this.removeListeners=Uy(Wg(this.contextWindow,"pointermove",this.handlePointerMove),Wg(this.contextWindow,"pointerup",this.handlePointerUp),Wg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eu(this.updatePoint)}}function NC(t,e){return e?{point:e(t.point)}:t}function jF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function LC({point:t},e){return{point:t,delta:jF(t,S9(e)),offset:jF(t,r1e(e)),velocity:s1e(e,.1)}}function r1e(t){return t[0]}function S9(t){return t[t.length-1]}function s1e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=S9(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>_l(e)));)n--;if(!i)return{x:0,y:0};const s=bl(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const w9=1e-4,o1e=1-w9,a1e=1+w9,E9=.01,l1e=0-E9,c1e=0+E9;function Ns(t){return t.max-t.min}function u1e(t,e,n){return Math.abs(t-e)<=n}function HF(t,e,n,i=.5){t.origin=i,t.originPoint=Fn(e.min,e.max,t.origin),t.scale=Ns(n)/Ns(e),t.translate=Fn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=o1e&&t.scale<=a1e||isNaN(t.scale))&&(t.scale=1),(t.translate>=l1e&&t.translate<=c1e||isNaN(t.translate))&&(t.translate=0)}function Gg(t,e,n,i){HF(t.x,e.x,n.x,i?i.originX:void 0),HF(t.y,e.y,n.y,i?i.originY:void 0)}function WF(t,e,n){t.min=n.min+e.min,t.max=t.min+Ns(e)}function d1e(t,e,n){WF(t.x,e.x,n.x),WF(t.y,e.y,n.y)}function GF(t,e,n){t.min=e.min-n.min,t.max=t.min+Ns(e)}function $g(t,e,n){GF(t.x,e.x,n.x),GF(t.y,e.y,n.y)}function f1e(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Fn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Fn(n,t,i.max):Math.min(t,n)),t}function $F(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function h1e(t,{top:e,left:n,bottom:i,right:r}){return{x:$F(t.x,n,r),y:$F(t.y,e,i)}}function qF(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function p1e(t,e){return{x:qF(t.x,e.x),y:qF(t.y,e.y)}}function m1e(t,e){let n=.5;const i=Ns(t),r=Ns(e);return r>i?n=pp(e.min,e.max-i,t.min):i>r&&(n=pp(t.min,t.max-r,e.min)),kl(0,1,n)}function g1e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const WA=.35;function v1e(t=WA){return t===!1?t=0:t===!0&&(t=WA),{x:XF(t,"left","right"),y:XF(t,"top","bottom")}}function XF(t,e,n){return{min:YF(t,e),max:YF(t,n)}}function YF(t,e){return typeof t=="number"?t:t[e]||0}const KF=()=>({translate:0,scale:1,origin:0,originPoint:0}),wh=()=>({x:KF(),y:KF()}),JF=()=>({min:0,max:0}),Jn=()=>({x:JF(),y:JF()});function Zs(t){return[t("x"),t("y")]}function T9({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function y1e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x1e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function DC(t){return t===void 0||t===1}function GA({scale:t,scaleX:e,scaleY:n}){return!DC(t)||!DC(e)||!DC(n)}function Ku(t){return GA(t)||C9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function C9(t){return QF(t.x)||QF(t.y)}function QF(t){return t&&t!=="0%"}function zb(t,e,n){const i=t-n,r=e*i;return n+r}function ZF(t,e,n,i,r){return r!==void 0&&(t=zb(t,r,i)),zb(t,n,i)+e}function $A(t,e=0,n=1,i,r){t.min=ZF(t.min,e,n,i,r),t.max=ZF(t.max,e,n,i,r)}function M9(t,{x:e,y:n}){$A(t.x,e.translate,e.scale,e.originPoint),$A(t.y,n.translate,n.scale,n.originPoint)}const ez=.999999999999,tz=1.0000000000001;function _1e(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Th(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,M9(t,o)),i&&Ku(s.latestValues)&&Th(t,s.latestValues))}e.x<tz&&e.x>ez&&(e.x=1),e.y<tz&&e.y>ez&&(e.y=1)}function Eh(t,e){t.min=t.min+e,t.max=t.max+e}function nz(t,e,n,i,r=.5){const s=Fn(t.min,t.max,r);$A(t,e,n,s,i)}function Th(t,e){nz(t.x,e.x,e.scaleX,e.scale,e.originX),nz(t.y,e.y,e.scaleY,e.scale,e.originY)}function P9(t,e){return T9(x1e(t.getBoundingClientRect(),e))}function b1e(t,e,n){const i=P9(t,n),{scroll:r}=e;return r&&(Eh(i.x,r.offset.x),Eh(i.y,r.offset.y)),i}const A9=({current:t})=>t?t.ownerDocument.defaultView:null,S1e=new WeakMap;class w1e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vy(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gxe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zs(_=>{let v=this.getAxisMotionValue(_).get()||0;if(Ta.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[_];b&&(v=Ns(b)*(parseFloat(v)/100))}}this.originPoint[_]=v}),g&&Cn.postRender(()=>g(u,d)),OA(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:_}=d;if(m&&this.currentDirection===null){this.currentDirection=E1e(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Zs(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new b9(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:A9(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Cn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Fx(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=f1e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&bh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=h1e(r.layoutBox,n):this.constraints=!1,this.elastic=v1e(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=g1e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bh(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=b1e(i,r.root,this.visualElement.getTransformPagePoint());let o=p1e(r.layout.layoutBox,s);if(n){const a=n(y1e(o));this.hasMutatedConstraints=!!a,a&&(o=T9(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Zs(u=>{if(!Fx(u,n,this.currentDirection))return;let d=l[u]||{};o&&(d={min:0,max:0});const h=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:i?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return OA(this.visualElement,e),i.start(Wk(e,i,0,n,this.visualElement,!1))}stopAnimation(){Zs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Zs(n=>{const{drag:i}=this.getProps();if(!Fx(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Fn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!bh(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Zs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=m1e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zs(o=>{if(!Fx(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;S1e.set(this.visualElement,this);const e=this.visualElement.current,n=Wg(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();bh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Cn.read(i);const o=Gv(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Zs(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=WA,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function E1e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class T1e extends fu{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new w1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}const iz=t=>(e,n)=>{t&&Cn.postRender(()=>t(e,n))};class C1e extends fu{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new b9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:iz(e),onStart:iz(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Cn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Wg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const x1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rz(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ft.test(t))t=parseFloat(t);else return t;const n=rz(t,e.target.x),i=rz(t,e.target.y);return`${n}% ${i}%`}},M1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=tu.parse(t);if(r.length>5)return i;const s=tu.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Fn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class P1e extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Y0e(A1e),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),x1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Cn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function I9(t){const[e,n]=u0e(),i=L.useContext(h7);return w.jsx(P1e,{...t,layoutGroup:i,switchLayoutGroup:L.useContext(_7),isPresent:e,safeToRemove:n})}const A1e={borderRadius:{...Dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dm,borderTopRightRadius:Dm,borderBottomLeftRadius:Dm,borderBottomRightRadius:Dm,boxShadow:M1e};function I1e(t,e,n){const i=yr(t)?t:Hv(t);return i.start(Wk("",i,e,n)),i.animation}function R1e(t){return t instanceof SVGElement&&t.tagName!=="svg"}const k1e=(t,e)=>t.depth-e.depth;class N1e{constructor(){this.children=[],this.isDirty=!1}add(e){Nk(this.children,e),this.isDirty=!0}remove(e){Lk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k1e),this.isDirty=!1,this.children.forEach(e)}}function L1e(t,e){const n=Ca.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(eu(i),t(s-e))};return Cn.read(i,!0),()=>eu(i)}const R9=["TopLeft","TopRight","BottomLeft","BottomRight"],D1e=R9.length,sz=t=>typeof t=="string"?parseFloat(t):t,oz=t=>typeof t=="number"||ft.test(t);function O1e(t,e,n,i,r,s){r?(t.opacity=Fn(0,n.opacity!==void 0?n.opacity:1,F1e(i)),t.opacityExit=Fn(e.opacity!==void 0?e.opacity:1,0,z1e(i))):s&&(t.opacity=Fn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<D1e;o++){const a=`border${R9[o]}Radius`;let l=az(e,a),c=az(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||oz(l)===oz(c)?(t[a]=Math.max(Fn(sz(l),sz(c),i),0),(Ta.test(c)||Ta.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fn(e.rotate||0,n.rotate||0,i))}function az(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F1e=k9(0,.5,K7),z1e=k9(.5,.95,As);function k9(t,e,n){return i=>i<t?0:i>e?1:n(pp(t,e,i))}function lz(t,e){t.min=e.min,t.max=e.max}function Xs(t,e){lz(t.x,e.x),lz(t.y,e.y)}function cz(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uz(t,e,n,i,r){return t-=e,t=zb(t,1/n,i),r!==void 0&&(t=zb(t,1/r,i)),t}function B1e(t,e=0,n=1,i=.5,r,s=t,o=t){if(Ta.test(e)&&(e=parseFloat(e),e=Fn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fn(s.min,s.max,i);t===s&&(a-=e),t.min=uz(t.min,e,n,a,r),t.max=uz(t.max,e,n,a,r)}function dz(t,e,[n,i,r],s,o){B1e(t,e[n],e[i],e[r],e.scale,s,o)}const U1e=["x","scaleX","originX"],V1e=["y","scaleY","originY"];function fz(t,e,n,i){dz(t.x,e,U1e,n?n.x:void 0,i?i.x:void 0),dz(t.y,e,V1e,n?n.y:void 0,i?i.y:void 0)}function hz(t){return t.translate===0&&t.scale===1}function N9(t){return hz(t.x)&&hz(t.y)}function pz(t,e){return t.min===e.min&&t.max===e.max}function j1e(t,e){return pz(t.x,e.x)&&pz(t.y,e.y)}function mz(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function L9(t,e){return mz(t.x,e.x)&&mz(t.y,e.y)}function gz(t){return Ns(t.x)/Ns(t.y)}function vz(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class H1e{constructor(){this.members=[]}add(e){Nk(this.members,e),e.scheduleRender()}remove(e){if(Lk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W1e(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:m,skewY:g}=n;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),h&&(i+=`rotateY(${h}deg) `),m&&(i+=`skewX(${m}deg) `),g&&(i+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Ju={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_g=typeof window<"u"&&window.MotionDebug!==void 0,OC=["","X","Y","Z"],G1e={visibility:"hidden"},yz=1e3;let $1e=0;function FC(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function D9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=H7(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Cn,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&D9(i)}function O9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$1e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_g&&(Ju.totalNodes=Ju.resolvedTargetDeltas=Ju.recalculatedProjection=0),this.nodes.forEach(Y1e),this.nodes.forEach(ebe),this.nodes.forEach(tbe),this.nodes.forEach(K1e),_g&&window.MotionDebug.record(Ju)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new N1e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dk),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=R1e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=L1e(h,250),x1.hasAnimatedSinceResize&&(x1.hasAnimatedSinceResize=!1,this.nodes.forEach(_z))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||obe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!L9(this.targetLayout,g)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const E={...Ak(y,"layout"),onPlay:_,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||_z(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nbe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xz);return}this.isUpdating||this.nodes.forEach(Q1e),this.isUpdating=!1,this.nodes.forEach(Z1e),this.nodes.forEach(q1e),this.nodes.forEach(X1e),this.clearAllSnapshots();const a=Ca.now();qi.delta=kl(0,1e3/60,a-qi.timestamp),qi.timestamp=a,qi.isProcessing=!0,MC.update.process(qi),MC.preRender.process(qi),MC.render.process(qi),qi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J1e),this.sharedNodes.forEach(ibe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!N9(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ku(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),abe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Jn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(lbe))){const{scroll:u}=this.root;u&&(Eh(l.x,u.offset.x),Eh(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Jn();if(Xs(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Xs(l,o),Eh(l.x,d.offset.x),Eh(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Jn();Xs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Th(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ku(u.latestValues)&&Th(l,u.latestValues)}return Ku(this.latestValues)&&Th(l,this.latestValues),l}removeTransform(o){const a=Jn();Xs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ku(c.latestValues))continue;GA(c.latestValues)&&c.updateSnapshot();const u=Jn(),d=c.measurePageBox();Xs(u,d),fz(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ku(this.latestValues)&&fz(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=qi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),$g(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xs(this.target,this.layout.layoutBox),M9(this.target,this.targetDelta)):Xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),$g(this.relativeTargetOrigin,this.target,m.target),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_g&&Ju.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||GA(this.parent.latestValues)||C9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===qi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Xs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;_1e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Jn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cz(this.prevProjectionDelta.x,this.projectionDelta.x),cz(this.prevProjectionDelta.y,this.projectionDelta.y)),Gg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!vz(this.projectionDelta.x,this.prevProjectionDelta.x)||!vz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),_g&&Ju.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wh(),this.projectionDelta=wh(),this.projectionDeltaWithTransform=wh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=wh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Jn(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,_=this.getStack(),v=!_||_.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(sbe));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const M=E/1e3;bz(d.x,o.x,M),bz(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($g(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rbe(this.relativeTarget,this.relativeTargetOrigin,h,M),b&&j1e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Jn()),Xs(b,this.relativeTarget)),y&&(this.animationValues=u,O1e(u,c,this.latestValues,M,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cn.update(()=>{x1.hasAnimatedSinceResize=!0,this.currentAnimation=I1e(0,yz,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&F9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Jn();const d=Ns(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Ns(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Xs(a,l),Th(a,u),Gg(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new H1e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&FC("z",o,c,this.animationValues);for(let u=0;u<OC.length;u++)FC(`rotate${OC[u]}`,o,c,this.animationValues),FC(`skew${OC[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return G1e;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=v1(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=v1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ku(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=W1e(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Nb){if(h[y]===void 0)continue;const{correct:_,applyTo:v}=Nb[y],x=c.transform==="none"?h[y]:_(h[y],d);if(v){const b=v.length;for(let E=0;E<b;E++)c[v[E]]=x}else c[y]=x}return this.options.layoutId&&(c.pointerEvents=d===this?v1(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(xz),this.root.sharedNodes.clear()}}}function q1e(t){t.updateLayout()}function X1e(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Zs(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],m=Ns(h);h.min=i[d].min,h.max=h.min+m}):F9(s,n.layoutBox,i)&&Zs(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],m=Ns(i[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=wh();Gg(a,i,n.layoutBox);const l=wh();o?Gg(l,t.applyTransform(r,!0),n.measuredBox):Gg(l,i,n.layoutBox);const c=!N9(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const g=Jn();$g(g,n.layoutBox,h.layoutBox);const y=Jn();$g(y,i,m.layoutBox),L9(g,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Y1e(t){_g&&Ju.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K1e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function J1e(t){t.clearSnapshot()}function xz(t){t.clearMeasurements()}function Q1e(t){t.isLayoutDirty=!1}function Z1e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _z(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ebe(t){t.resolveTargetDelta()}function tbe(t){t.calcProjection()}function nbe(t){t.resetSkewAndRotation()}function ibe(t){t.removeLeadSnapshot()}function bz(t,e,n){t.translate=Fn(e.translate,0,n),t.scale=Fn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Sz(t,e,n,i){t.min=Fn(e.min,n.min,i),t.max=Fn(e.max,n.max,i)}function rbe(t,e,n,i){Sz(t.x,e.x,n.x,i),Sz(t.y,e.y,n.y,i)}function sbe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const obe={duration:.45,ease:[.4,0,.1,1]},wz=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ez=wz("applewebkit/")&&!wz("chrome/")?Math.round:As;function Tz(t){t.min=Ez(t.min),t.max=Ez(t.max)}function abe(t){Tz(t.x),Tz(t.y)}function F9(t,e,n){return t==="position"||t==="preserve-aspect"&&!u1e(gz(e),gz(n),.2)}function lbe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const cbe=O9({attachResizeListener:(t,e)=>Gv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zC={current:void 0},z9=O9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zC.current){const t=new cbe({});t.mount(window),t.setOptions({layoutScroll:!0}),zC.current=t}return zC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ube={pan:{Feature:C1e},drag:{Feature:T1e,ProjectionNode:z9,MeasureLayout:I9}};function Cz(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Cn.postRender(()=>s(e,Vy(e)))}class dbe extends fu{mount(){const{current:e}=this.node;e&&(this.unmount=dxe(e,n=>(Cz(this.node,n,"Start"),i=>Cz(this.node,i,"End"))))}unmount(){}}class fbe extends fu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uy(Gv(this.node.current,"focus",()=>this.onFocus()),Gv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mz(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Cn.postRender(()=>s(e,Vy(e)))}class hbe extends fu{mount(){const{current:e}=this.node;e&&(this.unmount=mxe(e,n=>(Mz(this.node,n,"Start"),(i,{success:r})=>Mz(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qA=new WeakMap,BC=new WeakMap,pbe=t=>{const e=qA.get(t.target);e&&e(t)},mbe=t=>{t.forEach(pbe)};function gbe({root:t,...e}){const n=t||document;BC.has(n)||BC.set(n,{});const i=BC.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(mbe,{root:t,...e})),i[r]}function vbe(t,e,n){const i=gbe(e);return qA.set(t,n),i.observe(t),()=>{qA.delete(t),i.unobserve(t)}}const ybe={some:0,all:1};class xbe extends fu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:ybe[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return vbe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_be(e,n))&&this.startObserver()}unmount(){}}function _be({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bbe={inView:{Feature:xbe},tap:{Feature:hbe},focus:{Feature:fbe},hover:{Feature:dbe}},Sbe={layout:{ProjectionNode:z9,MeasureLayout:I9}},XA={current:null},B9={current:!1};function wbe(){if(B9.current=!0,!!pk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>XA.current=t.matches;t.addListener(e),e()}else XA.current=!1}const Ebe=[...u9,mr,tu],Tbe=t=>Ebe.find(c9(t)),Pz=new WeakMap;function Cbe(t,e,n){for(const i in e){const r=e[i],s=n[i];if(yr(r))t.addValue(i,r);else if(yr(s))t.addValue(i,Hv(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Hv(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Az=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mbe{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ca.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Cn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Tw(n),this.isVariantNode=y7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];l[m]!==void 0&&yr(g)&&g.set(l[m],!1)}}mount(e){this.current=e,Pz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),B9.current||wbe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:XA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Pz.delete(this.current),this.projection&&this.projection.unmount(),eu(this.notifyUpdate),eu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=tf.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Cn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mp){const n=mp[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Az.length;i++){const r=Az[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Cbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Hv(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(a9(r)||Q7(r))?r=parseFloat(r):!Tbe(r)&&tu.test(n)&&(r=r9(e,n)),this.setBaseTarget(e,yr(r)?r.get():r)),yr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=bk(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!yr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dk),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U9 extends Mbe{constructor(){super(...arguments),this.KeyframeResolver=d9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pbe(t){return window.getComputedStyle(t)}class Abe extends U9{constructor(){super(...arguments),this.type="html",this.renderInstance=M7}readValueFromInstance(e,n){if(tf.has(n)){const i=Uk(n);return i&&i.default||0}else{const i=Pbe(e),r=(E7(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P9(e,n)}build(e,n,i){Ek(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Pk(e,n,i)}}class Ibe extends U9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(tf.has(n)){const i=Uk(n);return i&&i.default||0}return n=P7.has(n)?n:yk(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return R7(e,n,i)}build(e,n,i){Tk(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){A7(e,n,i,r)}mount(e){this.isSVGTag=Mk(e.tagName),super.mount(e)}}const Rbe=(t,e)=>_k(t)?new Ibe(e):new Abe(e,{allowProjection:t!==L.Fragment}),kbe=rxe({...t1e,...bbe,...ube,...Sbe},Rbe),Li=x0e(kbe),rl=({imageUrl:t,place:e,address:n,price:i,startDate:r,endDate:s,mapData:o})=>w.jsx(Qn,{to:"/tour_details",className:"item-link",state:{imageUrl:t,place:e,address:n,price:i,startDate:r,endDate:s,mapData:o},onClick:()=>window.scrollTo(0,0),children:w.jsx(Li.div,{className:"event-container",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:.5},transition:{duration:.8},children:w.jsxs(oce,{maxW:"md",overflow:"hidden",p:"4",children:[w.jsx(Bh,{src:t,alt:"Event Image",borderRadius:"md"}),w.jsxs(ace,{gap:"2",children:[w.jsx("div",{style:{height:3}}),w.jsxs(cce,{fontSize:20,fontFamily:"Sansation",fontWeight:700,children:["Stage Fright: ",e]}),w.jsxs(uce,{fontSize:20,fontFamily:"Sansation",fontWeight:700,children:[w.jsx(bce,{boxSize:6,children:w.jsx(l0e,{})}),n]}),w.jsxs(Pn,{fontFamily:"Sansation",fontWeight:700,fontSize:20,mt:"2",children:["Starting Price: $",i]}),w.jsx("hr",{}),w.jsxs(Pn,{fontFamily:"Sansation",fontWeight:700,fontSize:20,mt:"2",children:["Start Date: ",r.toDateString()]}),w.jsxs(Pn,{fontFamily:"Sansation",fontWeight:700,fontSize:20,mt:"2",children:["End Date: ",s.toDateString()]})]}),w.jsx(lce,{gap:"2",children:w.jsx(a0e,{variant:"solid",p:3,children:"Learn More"})})]})})});function jl(){return w.jsx(fn,{bg:"#09090b",py:4,fontFamily:"Sansation",fontWeight:"700",fontSize:"14px",position:"relative",width:"100%",height:"auto",pt:8,children:w.jsxs(ko,{direction:"column",align:"center",justify:"center",maxW:"1200px",mx:"auto",px:6,gap:4,height:"auto",children:[w.jsxs(ko,{justify:"center",gap:6,mb:4,children:[w.jsx(Rf,{href:"https://spotify.com",children:w.jsx(Bh,{src:"/BPA-435-Project/images/Spotify.png",alt:"Spotify",height:"24px"})}),w.jsx(Rf,{href:"https://music.apple.com",children:w.jsx(Bh,{src:"/BPA-435-Project/images/Apple.png",alt:"Apple Music",height:"24px"})}),w.jsx(Rf,{href:"https://music.youtube.com",children:w.jsx(Bh,{src:"/BPA-435-Project/images/Youtube.png",alt:"Youtube",height:"24px"})})]}),w.jsx(Pn,{color:"white",mb:2,children:"© 2025 Stage Fright"}),w.jsxs(ko,{gap:4,justify:"center",align:"center",direction:"row",children:[w.jsx(Qn,{to:"/contact-us",color:"white",onClick:()=>window.scrollTo(0,0),children:w.jsx(Rf,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Contact Us"})}),w.jsx(Pn,{color:"white",children:"|"}),w.jsx(Qn,{to:"/terms",color:"white",onClick:()=>window.scrollTo(0,0),children:w.jsx(Rf,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Terms"})}),w.jsx(Pn,{color:"white",children:"|"}),w.jsx(Qn,{to:"/privacy",color:"white",onClick:()=>window.scrollTo(0,0),children:w.jsx(Rf,{_hover:{textDecoration:"underline",color:"red",transition:"color 0.3s ease"},children:"Privacy"})})]})]})})}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const jy="168",Nbe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lbe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},V9=0,YA=1,j9=2,Dbe=3,H9=0,Pw=1,qg=2,Co=3,Nl=0,zr=1,No=2,Sl=0,xd=1,KA=2,JA=3,QA=4,W9=5,Mc=100,G9=101,$9=102,q9=103,X9=104,Y9=200,K9=201,J9=202,Q9=203,Bb=204,Ub=205,Z9=206,eq=207,tq=208,nq=209,iq=210,rq=211,sq=212,oq=213,aq=214,lq=0,cq=1,uq=2,$v=3,dq=4,fq=5,hq=6,pq=7,Hy=0,mq=1,gq=2,Ma=0,vq=1,yq=2,xq=3,Gk=4,_q=5,bq=6,Sq=7,ZA="attached",wq="detached",Aw=300,Ll=301,nu=302,qv=303,Xv=304,Vp=306,Yv=1e3,so=1001,Kv=1002,Bi=1003,$k=1004,Obe=1004,Ch=1005,Fbe=1005,ci=1006,Xg=1007,zbe=1007,ga=1008,Bbe=1008,jo=1009,qk=1010,Xk=1011,vp=1012,Iw=1013,Dl=1014,ns=1015,jp=1016,Rw=1017,kw=1018,Bd=1020,Yk=35902,Kk=1021,Jk=1022,xr=1023,Qk=1024,Zk=1025,_d=1026,Ud=1027,Nw=1028,Wy=1029,eN=1030,Lw=1031,Ube=1032,Dw=1033,Yg=33776,Kg=33777,Jg=33778,Qg=33779,Vb=35840,jb=35841,Hb=35842,Wb=35843,Gb=36196,$b=37492,qb=37496,Xb=37808,Yb=37809,Kb=37810,Jb=37811,Qb=37812,Zb=37813,eS=37814,tS=37815,nS=37816,iS=37817,rS=37818,sS=37819,oS=37820,aS=37821,Zg=36492,lS=36494,cS=36495,tN=36283,uS=36284,dS=36285,fS=36286,Eq=2200,Tq=2201,Cq=2202,Jv=2300,hS=2301,_1=2302,ld=2400,cd=2401,Qv=2402,Ow=2500,nN=2501,Vbe=0,jbe=1,Hbe=2,Mq=3200,Pq=3201,Wbe=3202,Gbe=3203,hu=0,Aq=1,sl="",eo="srgb",Hl="srgb-linear",Fw="display-p3",Gy="display-p3-linear",Zv="linear",yn="srgb",ey="rec709",ty="p3",$be=0,Qu=7680,qbe=7681,Xbe=7682,Ybe=7683,Kbe=34055,Jbe=34056,Qbe=5386,Zbe=512,eSe=513,tSe=514,nSe=515,iSe=516,rSe=517,sSe=518,eI=519,Iq=512,Rq=513,kq=514,iN=515,Nq=516,Lq=517,Dq=518,Oq=519,ny=35044,oSe=35048,aSe=35040,lSe=35045,cSe=35049,uSe=35041,dSe=35046,fSe=35050,hSe=35042,pSe="100",tI="300 es",va=2e3,iy=2001;class Oa{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const dr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Iz=1234567;const bd=Math.PI/180,yp=180/Math.PI;function Is(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(dr[t&255]+dr[t>>8&255]+dr[t>>16&255]+dr[t>>24&255]+"-"+dr[e&255]+dr[e>>8&255]+"-"+dr[e>>16&15|64]+dr[e>>24&255]+"-"+dr[n&63|128]+dr[n>>8&255]+"-"+dr[n>>16&255]+dr[n>>24&255]+dr[i&255]+dr[i>>8&255]+dr[i>>16&255]+dr[i>>24&255]).toLowerCase()}function $n(t,e,n){return Math.max(e,Math.min(n,t))}function rN(t,e){return(t%e+e)%e}function mSe(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function gSe(t,e,n){return t!==e?(n-t)/(e-t):0}function ev(t,e,n){return(1-n)*t+n*e}function vSe(t,e,n,i){return ev(t,e,1-Math.exp(-n*i))}function ySe(t,e=1){return e-Math.abs(rN(t,e*2)-e)}function xSe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function _Se(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function bSe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function SSe(t,e){return t+Math.random()*(e-t)}function wSe(t){return t*(.5-Math.random())}function ESe(t){t!==void 0&&(Iz=t);let e=Iz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function TSe(t){return t*bd}function CSe(t){return t*yp}function MSe(t){return(t&t-1)===0&&t!==0}function PSe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ASe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function ISe(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),h=o((e-i)/2),m=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":t.set(a*u,l*d,l*h,a*c);break;case"YZY":t.set(l*h,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*h,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Nr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Tt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Fq={DEG2RAD:bd,RAD2DEG:yp,generateUUID:Is,clamp:$n,euclideanModulo:rN,mapLinear:mSe,inverseLerp:gSe,lerp:ev,damp:vSe,pingpong:ySe,smoothstep:xSe,smootherstep:_Se,randInt:bSe,randFloat:SSe,randFloatSpread:wSe,seededRandom:ESe,degToRad:TSe,radToDeg:CSe,isPowerOfTwo:MSe,ceilPowerOfTwo:PSe,floorPowerOfTwo:ASe,setQuaternionFromProperEuler:ISe,normalize:Tt,denormalize:Nr};class ye{constructor(e=0,n=0){ye.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos($n(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Et{constructor(e,n,i,r,s,o,a,l,c){Et.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],m=i[5],g=i[8],y=r[0],_=r[3],v=r[6],x=r[1],b=r[4],E=r[7],M=r[2],C=r[5],R=r[8];return s[0]=o*y+a*x+l*M,s[3]=o*_+a*b+l*C,s[6]=o*v+a*E+l*R,s[1]=c*y+u*x+d*M,s[4]=c*_+u*b+d*C,s[7]=c*v+u*E+d*R,s[2]=h*y+m*x+g*M,s[5]=h*_+m*b+g*C,s[8]=h*v+m*E+g*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,m=c*s-o*l,g=n*d+i*h+r*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=d*y,e[1]=(r*c-u*i)*y,e[2]=(a*i-r*o)*y,e[3]=h*y,e[4]=(u*n-r*l)*y,e[5]=(r*s-a*n)*y,e[6]=m*y,e[7]=(i*l-c*n)*y,e[8]=(o*n-i*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(UC.makeScale(e,n)),this}rotate(e){return this.premultiply(UC.makeRotation(-e)),this}translate(e,n){return this.premultiply(UC.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const UC=new Et;function zq(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const RSe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Mh(t,e){return new RSe[t](e)}function ry(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Bq(){const t=ry("canvas");return t.style.display="block",t}const Rz={};function Gh(t){t in Rz||(Rz[t]=!0,console.warn(t))}function kSe(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const kz=new Et().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Nz=new Et().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Om={[Hl]:{transfer:Zv,primaries:ey,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[eo]:{transfer:yn,primaries:ey,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Gy]:{transfer:Zv,primaries:ty,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(Nz),fromReference:t=>t.applyMatrix3(kz)},[Fw]:{transfer:yn,primaries:ty,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(Nz),fromReference:t=>t.applyMatrix3(kz).convertLinearToSRGB()}},NSe=new Set([Hl,Gy]),Jt={enabled:!0,_workingColorSpace:Hl,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!NSe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Om[e].toReference,r=Om[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Om[t].primaries},getTransfer:function(t){return t===sl?Zv:Om[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(Om[e].luminanceCoefficients)}};function $h(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function VC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let kf;class Uq{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{kf===void 0&&(kf=ry("canvas")),kf.width=e.width,kf.height=e.height;const i=kf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=kf}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=ry("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=$h(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor($h(n[i]/255)*255):n[i]=$h(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let LSe=0;class ud{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:LSe++}),this.uuid=Is(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(jC(r[o].image)):s.push(jC(r[o]))}else s=jC(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function jC(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Uq.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let DSe=0;class Rn extends Oa{constructor(e=Rn.DEFAULT_IMAGE,n=Rn.DEFAULT_MAPPING,i=so,r=so,s=ci,o=ga,a=xr,l=jo,c=Rn.DEFAULT_ANISOTROPY,u=sl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:DSe++}),this.uuid=Is(),this.name="",this.source=new ud(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Aw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yv:e.x=e.x-Math.floor(e.x);break;case so:e.x=e.x<0?0:1;break;case Kv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yv:e.y=e.y-Math.floor(e.y);break;case so:e.y=e.y<0?0:1;break;case Kv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=Aw;Rn.DEFAULT_ANISOTROPY=1;class jt{constructor(e=0,n=0,i=0,r=1){jt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],m=l[5],g=l[9],y=l[2],_=l[6],v=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+y)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,E=(m+1)/2,M=(v+1)/2,C=(u+h)/4,R=(d+y)/4,k=(g+_)/4;return b>E&&b>M?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=C/i,s=R/i):E>M?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=C/r,s=k/r):M<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(M),i=R/s,r=k/s),this.set(i,r,s,n),this}let x=Math.sqrt((_-g)*(_-g)+(d-y)*(d-y)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(_-g)/x,this.y=(d-y)/x,this.z=(h-u)/x,this.w=Math.acos((c+m+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Vq extends Oa{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new jt(0,0,e,n),this.scissorTest=!1,this.viewport=new jt(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ci,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new Rn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new ud(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ho extends Vq{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class zw extends Rn{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Bi,this.minFilter=Bi,this.wrapR=so,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class OSe extends Ho{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new zw(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class sN extends Rn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Bi,this.minFilter=Bi,this.wrapR=so,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FSe extends Ho{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new sN(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class bi{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=h,e[n+1]=m,e[n+2]=g,e[n+3]=y;return}if(d!==y||l!==h||c!==m||u!==g){let _=1-a;const v=l*h+c*m+u*g+d*y,x=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const M=Math.sqrt(b),C=Math.atan2(M,v*x);_=Math.sin(_*C)/M,a=Math.sin(a*C)/M}const E=a*x;if(l=l*_+h*E,c=c*_+m*E,u=u*_+g*E,d=d*_+y*E,_===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=M,c*=M,u*=M,d*=M}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],h=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+u*d+l*m-c*h,e[n+1]=l*g+u*h+c*d-a*m,e[n+2]=c*g+u*m+a*h-l*d,e[n+3]=u*g-a*d-l*h-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),h=l(i/2),m=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*m*g,this._y=c*m*d-h*u*g,this._z=c*u*g+h*m*d,this._w=c*u*d-h*m*g;break;case"YXZ":this._x=h*u*d+c*m*g,this._y=c*m*d-h*u*g,this._z=c*u*g-h*m*d,this._w=c*u*d+h*m*g;break;case"ZXY":this._x=h*u*d-c*m*g,this._y=c*m*d+h*u*g,this._z=c*u*g+h*m*d,this._w=c*u*d-h*m*g;break;case"ZYX":this._x=h*u*d-c*m*g,this._y=c*m*d+h*u*g,this._z=c*u*g-h*m*d,this._w=c*u*d+h*m*g;break;case"YZX":this._x=h*u*d+c*m*g,this._y=c*m*d+h*u*g,this._z=c*u*g-h*m*d,this._w=c*u*d-h*m*g;break;case"XZY":this._x=h*u*d-c*m*g,this._y=c*m*d-h*u*g,this._z=c*u*g+h*m*d,this._w=c*u*d+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=i+a+d;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($n(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*i+n*this._x,this._y=m*r+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,i=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Lz.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Lz.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*n-s*r),d=2*(s*i-o*n);return this.x=n+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return HC.copy(this).projectOnVector(e),this.sub(HC)}reflect(e){return this.sub(HC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos($n(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const HC=new G,Lz=new bi;class Br{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(xo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(xo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=xo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,xo):xo.fromBufferAttribute(s,o),xo.applyMatrix4(e.matrixWorld),this.expandByPoint(xo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),zx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),zx.copy(i.boundingBox)),zx.applyMatrix4(e.matrixWorld),this.union(zx)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,xo),xo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Fm),Bx.subVectors(this.max,Fm),Nf.subVectors(e.a,Fm),Lf.subVectors(e.b,Fm),Df.subVectors(e.c,Fm),sc.subVectors(Lf,Nf),oc.subVectors(Df,Lf),Ru.subVectors(Nf,Df);let n=[0,-sc.z,sc.y,0,-oc.z,oc.y,0,-Ru.z,Ru.y,sc.z,0,-sc.x,oc.z,0,-oc.x,Ru.z,0,-Ru.x,-sc.y,sc.x,0,-oc.y,oc.x,0,-Ru.y,Ru.x,0];return!WC(n,Nf,Lf,Df,Bx)||(n=[1,0,0,0,1,0,0,0,1],!WC(n,Nf,Lf,Df,Bx))?!1:(Ux.crossVectors(sc,oc),n=[Ux.x,Ux.y,Ux.z],WC(n,Nf,Lf,Df,Bx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(xo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:($a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($a),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $a=[new G,new G,new G,new G,new G,new G,new G,new G],xo=new G,zx=new Br,Nf=new G,Lf=new G,Df=new G,sc=new G,oc=new G,Ru=new G,Fm=new G,Bx=new G,Ux=new G,ku=new G;function WC(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){ku.fromArray(t,s);const a=r.x*Math.abs(ku.x)+r.y*Math.abs(ku.y)+r.z*Math.abs(ku.z),l=e.dot(ku),c=n.dot(ku),u=i.dot(ku);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const zSe=new Br,zm=new G,GC=new G;class _r{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):zSe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zm.subVectors(e,this.center);const n=zm.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(zm,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(GC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zm.copy(e.center).add(GC)),this.expandByPoint(zm.copy(e.center).sub(GC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qa=new G,$C=new G,Vx=new G,ac=new G,qC=new G,jx=new G,XC=new G;class Hp{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qa.copy(this.origin).addScaledVector(this.direction,n),qa.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){$C.copy(e).add(n).multiplyScalar(.5),Vx.copy(n).sub(e).normalize(),ac.copy(this.origin).sub($C);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Vx),a=ac.dot(this.direction),l=-ac.dot(Vx),c=ac.lengthSq(),u=Math.abs(1-o*o);let d,h,m,g;if(u>0)if(d=o*l-a,h=o*a-l,g=s*u,d>=0)if(h>=-g)if(h<=g){const y=1/u;d*=y,h*=y,m=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*l)+c;else h<=-g?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+h*(h+2*l)+c):h<=g?(d=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy($C).addScaledVector(Vx,h),m}intersectSphere(e,n){qa.subVectors(e.center,this.origin);const i=qa.dot(this.direction),r=qa.dot(qa)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,qa)!==null}intersectTriangle(e,n,i,r,s){qC.subVectors(n,e),jx.subVectors(i,e),XC.crossVectors(qC,jx);let o=this.direction.dot(XC),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ac.subVectors(this.origin,e);const l=a*this.direction.dot(jx.crossVectors(ac,jx));if(l<0)return null;const c=a*this.direction.dot(qC.cross(ac));if(c<0||l+c>o)return null;const u=-a*ac.dot(XC);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ut{constructor(e,n,i,r,s,o,a,l,c,u,d,h,m,g,y,_){ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,u,d,h,m,g,y,_)}set(e,n,i,r,s,o,a,l,c,u,d,h,m,g,y,_){const v=this.elements;return v[0]=e,v[4]=n,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=h,v[3]=m,v[7]=g,v[11]=y,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ut().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Of.setFromMatrixColumn(e,0).length(),s=1/Of.setFromMatrixColumn(e,1).length(),o=1/Of.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*u,m=o*d,g=a*u,y=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=m+g*c,n[5]=h-y*c,n[9]=-a*l,n[2]=y-h*c,n[6]=g+m*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,m=l*d,g=c*u,y=c*d;n[0]=h+y*a,n[4]=g*a-m,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=m*a-g,n[6]=y+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,m=l*d,g=c*u,y=c*d;n[0]=h-y*a,n[4]=-o*d,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*u,n[9]=y-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,m=o*d,g=a*u,y=a*d;n[0]=l*u,n[4]=g*c-m,n[8]=h*c+y,n[1]=l*d,n[5]=y*c+h,n[9]=m*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*c,g=a*l,y=a*c;n[0]=l*u,n[4]=y-h*d,n[8]=g*d+m,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*d+g,n[10]=h-y*d}else if(e.order==="XZY"){const h=o*l,m=o*c,g=a*l,y=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+y,n[5]=o*u,n[9]=m*d-g,n[2]=g*d-m,n[6]=a*u,n[10]=y*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(BSe,e,USe)}lookAt(e,n,i){const r=this.elements;return vs.subVectors(e,n),vs.lengthSq()===0&&(vs.z=1),vs.normalize(),lc.crossVectors(i,vs),lc.lengthSq()===0&&(Math.abs(i.z)===1?vs.x+=1e-4:vs.z+=1e-4,vs.normalize(),lc.crossVectors(i,vs)),lc.normalize(),Hx.crossVectors(vs,lc),r[0]=lc.x,r[4]=Hx.x,r[8]=vs.x,r[1]=lc.y,r[5]=Hx.y,r[9]=vs.y,r[2]=lc.z,r[6]=Hx.z,r[10]=vs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],m=i[13],g=i[2],y=i[6],_=i[10],v=i[14],x=i[3],b=i[7],E=i[11],M=i[15],C=r[0],R=r[4],k=r[8],I=r[12],P=r[1],O=r[5],z=r[9],U=r[13],X=r[2],W=r[6],K=r[10],j=r[14],D=r[3],B=r[7],$=r[11],J=r[15];return s[0]=o*C+a*P+l*X+c*D,s[4]=o*R+a*O+l*W+c*B,s[8]=o*k+a*z+l*K+c*$,s[12]=o*I+a*U+l*j+c*J,s[1]=u*C+d*P+h*X+m*D,s[5]=u*R+d*O+h*W+m*B,s[9]=u*k+d*z+h*K+m*$,s[13]=u*I+d*U+h*j+m*J,s[2]=g*C+y*P+_*X+v*D,s[6]=g*R+y*O+_*W+v*B,s[10]=g*k+y*z+_*K+v*$,s[14]=g*I+y*U+_*j+v*J,s[3]=x*C+b*P+E*X+M*D,s[7]=x*R+b*O+E*W+M*B,s[11]=x*k+b*z+E*K+M*$,s[15]=x*I+b*U+E*j+M*J,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],m=e[14],g=e[3],y=e[7],_=e[11],v=e[15];return g*(+s*l*d-r*c*d-s*a*h+i*c*h+r*a*m-i*l*m)+y*(+n*l*m-n*c*h+s*o*h-r*o*m+r*c*u-s*l*u)+_*(+n*c*d-n*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+v*(-r*a*u-n*l*d+n*a*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],m=e[11],g=e[12],y=e[13],_=e[14],v=e[15],x=d*_*c-y*h*c+y*l*m-a*_*m-d*l*v+a*h*v,b=g*h*c-u*_*c-g*l*m+o*_*m+u*l*v-o*h*v,E=u*y*c-g*d*c+g*a*m-o*y*m-u*a*v+o*d*v,M=g*d*l-u*y*l-g*a*h+o*y*h+u*a*_-o*d*_,C=n*x+i*b+r*E+s*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return e[0]=x*R,e[1]=(y*h*s-d*_*s-y*r*m+i*_*m+d*r*v-i*h*v)*R,e[2]=(a*_*s-y*l*s+y*r*c-i*_*c-a*r*v+i*l*v)*R,e[3]=(d*l*s-a*h*s-d*r*c+i*h*c+a*r*m-i*l*m)*R,e[4]=b*R,e[5]=(u*_*s-g*h*s+g*r*m-n*_*m-u*r*v+n*h*v)*R,e[6]=(g*l*s-o*_*s-g*r*c+n*_*c+o*r*v-n*l*v)*R,e[7]=(o*h*s-u*l*s+u*r*c-n*h*c-o*r*m+n*l*m)*R,e[8]=E*R,e[9]=(g*d*s-u*y*s-g*i*m+n*y*m+u*i*v-n*d*v)*R,e[10]=(o*y*s-g*a*s+g*i*c-n*y*c-o*i*v+n*a*v)*R,e[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*m-n*a*m)*R,e[12]=M*R,e[13]=(u*y*r-g*d*r+g*i*h-n*y*h-u*i*_+n*d*_)*R,e[14]=(g*a*r-o*y*r-g*i*l+n*y*l+o*i*_-n*a*_)*R,e[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*h+n*a*h)*R,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,h=s*c,m=s*u,g=s*d,y=o*u,_=o*d,v=a*d,x=l*c,b=l*u,E=l*d,M=i.x,C=i.y,R=i.z;return r[0]=(1-(y+v))*M,r[1]=(m+E)*M,r[2]=(g-b)*M,r[3]=0,r[4]=(m-E)*C,r[5]=(1-(h+v))*C,r[6]=(_+x)*C,r[7]=0,r[8]=(g+b)*R,r[9]=(_-x)*R,r[10]=(1-(h+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Of.set(r[0],r[1],r[2]).length();const o=Of.set(r[4],r[5],r[6]).length(),a=Of.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],_o.copy(this);const c=1/s,u=1/o,d=1/a;return _o.elements[0]*=c,_o.elements[1]*=c,_o.elements[2]*=c,_o.elements[4]*=u,_o.elements[5]*=u,_o.elements[6]*=u,_o.elements[8]*=d,_o.elements[9]*=d,_o.elements[10]*=d,n.setFromRotationMatrix(_o),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=va){const l=this.elements,c=2*s/(n-e),u=2*s/(i-r),d=(n+e)/(n-e),h=(i+r)/(i-r);let m,g;if(a===va)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===iy)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=va){const l=this.elements,c=1/(n-e),u=1/(i-r),d=1/(o-s),h=(n+e)*c,m=(i+r)*u;let g,y;if(a===va)g=(o+s)*d,y=-2*d;else if(a===iy)g=s*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Of=new G,_o=new ut,BSe=new G(0,0,0),USe=new G(1,1,1),lc=new G,Hx=new G,vs=new G,Dz=new ut,Oz=new bi;class cs{constructor(e=0,n=0,i=0,r=cs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],h=r[6],m=r[10];switch(n){case"XYZ":this._y=Math.asin($n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-$n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin($n(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-$n(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin($n(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-$n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return Dz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Dz,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Oz.setFromEuler(this),this.setFromQuaternion(Oz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cs.DEFAULT_ORDER="XYZ";class Sd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let VSe=0;const Fz=new G,Ff=new bi,Xa=new ut,Wx=new G,Bm=new G,jSe=new G,HSe=new bi,zz=new G(1,0,0),Bz=new G(0,1,0),Uz=new G(0,0,1),Vz={type:"added"},WSe={type:"removed"},zf={type:"childadded",child:null},YC={type:"childremoved",child:null};class $t extends Oa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:VSe++}),this.uuid=Is(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$t.DEFAULT_UP.clone();const e=new G,n=new cs,i=new bi,r=new G(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ut},normalMatrix:{value:new Et}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=$t.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=$t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Sd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ff.setFromAxisAngle(e,n),this.quaternion.multiply(Ff),this}rotateOnWorldAxis(e,n){return Ff.setFromAxisAngle(e,n),this.quaternion.premultiply(Ff),this}rotateX(e){return this.rotateOnAxis(zz,e)}rotateY(e){return this.rotateOnAxis(Bz,e)}rotateZ(e){return this.rotateOnAxis(Uz,e)}translateOnAxis(e,n){return Fz.copy(e).applyQuaternion(this.quaternion),this.position.add(Fz.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(zz,e)}translateY(e){return this.translateOnAxis(Bz,e)}translateZ(e){return this.translateOnAxis(Uz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xa.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Wx.copy(e):Wx.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Bm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xa.lookAt(Bm,Wx,this.up):Xa.lookAt(Wx,Bm,this.up),this.quaternion.setFromRotationMatrix(Xa),r&&(Xa.extractRotation(r.matrixWorld),Ff.setFromRotationMatrix(Xa),this.quaternion.premultiply(Ff.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Vz),zf.child=e,this.dispatchEvent(zf),zf.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(WSe),YC.child=e,this.dispatchEvent(YC),YC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Xa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xa),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Vz),zf.child=e,this.dispatchEvent(zf),zf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bm,e,jSe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bm,HSe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),h.length>0&&(i.skeletons=h),m.length>0&&(i.animations=m),g.length>0&&(i.nodes=g)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}$t.DEFAULT_UP=new G(0,1,0);$t.DEFAULT_MATRIX_AUTO_UPDATE=!0;$t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bo=new G,Ya=new G,KC=new G,Ka=new G,Bf=new G,Uf=new G,jz=new G,JC=new G,QC=new G,ZC=new G;class ws{constructor(e=new G,n=new G,i=new G){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),bo.subVectors(e,n),r.cross(bo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){bo.subVectors(r,n),Ya.subVectors(i,n),KC.subVectors(e,n);const o=bo.dot(bo),a=bo.dot(Ya),l=bo.dot(KC),c=Ya.dot(Ya),u=Ya.dot(KC),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const h=1/d,m=(c*l-a*u)*h,g=(o*u-a*l)*h;return s.set(1-m-g,g,m)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Ka)===null?!1:Ka.x>=0&&Ka.y>=0&&Ka.x+Ka.y<=1}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,Ka)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ka.x),l.addScaledVector(o,Ka.y),l.addScaledVector(a,Ka.z),l)}static isFrontFacing(e,n,i,r){return bo.subVectors(i,n),Ya.subVectors(e,n),bo.cross(Ya).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bo.subVectors(this.c,this.b),Ya.subVectors(this.a,this.b),bo.cross(Ya).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ws.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ws.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return ws.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return ws.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ws.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Bf.subVectors(r,i),Uf.subVectors(s,i),JC.subVectors(e,i);const l=Bf.dot(JC),c=Uf.dot(JC);if(l<=0&&c<=0)return n.copy(i);QC.subVectors(e,r);const u=Bf.dot(QC),d=Uf.dot(QC);if(u>=0&&d<=u)return n.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(Bf,o);ZC.subVectors(e,s);const m=Bf.dot(ZC),g=Uf.dot(ZC);if(g>=0&&m<=g)return n.copy(s);const y=m*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(i).addScaledVector(Uf,a);const _=u*g-m*d;if(_<=0&&d-u>=0&&m-g>=0)return jz.subVectors(s,r),a=(d-u)/(d-u+(m-g)),n.copy(r).addScaledVector(jz,a);const v=1/(_+y+h);return o=y*v,a=h*v,n.copy(i).addScaledVector(Bf,o).addScaledVector(Uf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cc={h:0,s:0,l:0},Gx={h:0,s:0,l:0};function eM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class He{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=eo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Jt.workingColorSpace){return this.r=e,this.g=n,this.b=i,Jt.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Jt.workingColorSpace){if(e=rN(e,1),n=$n(n,0,1),i=$n(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=eM(o,s,e+1/3),this.g=eM(o,s,e),this.b=eM(o,s,e-1/3)}return Jt.toWorkingColorSpace(this,r),this}setStyle(e,n=eo){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=eo){const i=jq[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$h(e.r),this.g=$h(e.g),this.b=$h(e.b),this}copyLinearToSRGB(e){return this.r=VC(e.r),this.g=VC(e.g),this.b=VC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=eo){return Jt.fromWorkingColorSpace(fr.copy(this),e),Math.round($n(fr.r*255,0,255))*65536+Math.round($n(fr.g*255,0,255))*256+Math.round($n(fr.b*255,0,255))}getHexString(e=eo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Jt.workingColorSpace){Jt.fromWorkingColorSpace(fr.copy(this),n);const i=fr.r,r=fr.g,s=fr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Jt.workingColorSpace){return Jt.fromWorkingColorSpace(fr.copy(this),n),e.r=fr.r,e.g=fr.g,e.b=fr.b,e}getStyle(e=eo){Jt.fromWorkingColorSpace(fr.copy(this),e);const n=fr.r,i=fr.g,r=fr.b;return e!==eo?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(cc),this.setHSL(cc.h+e,cc.s+n,cc.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(cc),e.getHSL(Gx);const i=ev(cc.h,Gx.h,n),r=ev(cc.s,Gx.s,n),s=ev(cc.l,Gx.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const fr=new He;He.NAMES=jq;let GSe=0;class Er extends Oa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:GSe++}),this.uuid=Is(),this.name="",this.type="Material",this.blending=xd,this.side=Nl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Bb,this.blendDst=Ub,this.blendEquation=Mc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new He(0,0,0),this.blendAlpha=0,this.depthFunc=$v,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=eI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qu,this.stencilZFail=Qu,this.stencilZPass=Qu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==xd&&(i.blending=this.blending),this.side!==Nl&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Bb&&(i.blendSrc=this.blendSrc),this.blendDst!==Ub&&(i.blendDst=this.blendDst),this.blendEquation!==Mc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==$v&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==eI&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Qu&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Qu&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Qu&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class pu extends Er{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.combine=Hy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ol=$Se();function $Se(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Jr(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=$n(t,-65504,65504),ol.floatView[0]=t;const e=ol.uint32View[0],n=e>>23&511;return ol.baseTable[n]+((e&8388607)>>ol.shiftTable[n])}function bg(t){const e=t>>10;return ol.uint32View[0]=ol.mantissaTable[ol.offsetTable[e]+(t&1023)]+ol.exponentTable[e],ol.floatView[0]}const qSe={toHalfFloat:Jr,fromHalfFloat:bg},si=new G,$x=new ye;class an{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=ny,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ns,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Gh("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)$x.fromBufferAttribute(this,n),$x.applyMatrix3(e),this.setXY(n,$x.x,$x.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)si.fromBufferAttribute(this,n),si.applyMatrix3(e),this.setXYZ(n,si.x,si.y,si.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)si.fromBufferAttribute(this,n),si.applyMatrix4(e),this.setXYZ(n,si.x,si.y,si.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)si.fromBufferAttribute(this,n),si.applyNormalMatrix(e),this.setXYZ(n,si.x,si.y,si.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)si.fromBufferAttribute(this,n),si.transformDirection(e),this.setXYZ(n,si.x,si.y,si.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Nr(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Tt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Nr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Nr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Nr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Nr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array),s=Tt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ny&&(e.usage=this.usage),e}}class XSe extends an{constructor(e,n,i){super(new Int8Array(e),n,i)}}class YSe extends an{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class KSe extends an{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class JSe extends an{constructor(e,n,i){super(new Int16Array(e),n,i)}}class oN extends an{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class QSe extends an{constructor(e,n,i){super(new Int32Array(e),n,i)}}class aN extends an{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class ZSe extends an{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=bg(this.array[e*this.itemSize]);return this.normalized&&(n=Nr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize]=Jr(n),this}getY(e){let n=bg(this.array[e*this.itemSize+1]);return this.normalized&&(n=Nr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+1]=Jr(n),this}getZ(e){let n=bg(this.array[e*this.itemSize+2]);return this.normalized&&(n=Nr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+2]=Jr(n),this}getW(e){let n=bg(this.array[e*this.itemSize+3]);return this.normalized&&(n=Nr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+3]=Jr(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array)),this.array[e+0]=Jr(n),this.array[e+1]=Jr(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array)),this.array[e+0]=Jr(n),this.array[e+1]=Jr(i),this.array[e+2]=Jr(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array),s=Tt(s,this.array)),this.array[e+0]=Jr(n),this.array[e+1]=Jr(i),this.array[e+2]=Jr(r),this.array[e+3]=Jr(s),this}}class et extends an{constructor(e,n,i){super(new Float32Array(e),n,i)}}let ewe=0;const Ys=new ut,tM=new $t,Vf=new G,ys=new Br,Um=new Br,ki=new G;class Rt extends Oa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ewe++}),this.uuid=Is(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zq(e)?aN:oN)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Et().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ys.makeRotationFromQuaternion(e),this.applyMatrix4(Ys),this}rotateX(e){return Ys.makeRotationX(e),this.applyMatrix4(Ys),this}rotateY(e){return Ys.makeRotationY(e),this.applyMatrix4(Ys),this}rotateZ(e){return Ys.makeRotationZ(e),this.applyMatrix4(Ys),this}translate(e,n,i){return Ys.makeTranslation(e,n,i),this.applyMatrix4(Ys),this}scale(e,n,i){return Ys.makeScale(e,n,i),this.applyMatrix4(Ys),this}lookAt(e){return tM.lookAt(e),tM.updateMatrix(),this.applyMatrix4(tM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vf).negate(),this.translate(Vf.x,Vf.y,Vf.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new et(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Br);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];ys.setFromBufferAttribute(s),this.morphTargetsRelative?(ki.addVectors(this.boundingBox.min,ys.min),this.boundingBox.expandByPoint(ki),ki.addVectors(this.boundingBox.max,ys.max),this.boundingBox.expandByPoint(ki)):(this.boundingBox.expandByPoint(ys.min),this.boundingBox.expandByPoint(ys.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _r);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new G,1/0);return}if(e){const i=this.boundingSphere.center;if(ys.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Um.setFromBufferAttribute(a),this.morphTargetsRelative?(ki.addVectors(ys.min,Um.min),ys.expandByPoint(ki),ki.addVectors(ys.max,Um.max),ys.expandByPoint(ki)):(ys.expandByPoint(Um.min),ys.expandByPoint(Um.max))}ys.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)ki.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ki));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ki.fromBufferAttribute(a,c),l&&(Vf.fromBufferAttribute(e,c),ki.add(Vf)),r=Math.max(r,i.distanceToSquared(ki))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new an(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<i.count;k++)a[k]=new G,l[k]=new G;const c=new G,u=new G,d=new G,h=new ye,m=new ye,g=new ye,y=new G,_=new G;function v(k,I,P){c.fromBufferAttribute(i,k),u.fromBufferAttribute(i,I),d.fromBufferAttribute(i,P),h.fromBufferAttribute(s,k),m.fromBufferAttribute(s,I),g.fromBufferAttribute(s,P),u.sub(c),d.sub(c),m.sub(h),g.sub(h);const O=1/(m.x*g.y-g.x*m.y);isFinite(O)&&(y.copy(u).multiplyScalar(g.y).addScaledVector(d,-m.y).multiplyScalar(O),_.copy(d).multiplyScalar(m.x).addScaledVector(u,-g.x).multiplyScalar(O),a[k].add(y),a[I].add(y),a[P].add(y),l[k].add(_),l[I].add(_),l[P].add(_))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let k=0,I=x.length;k<I;++k){const P=x[k],O=P.start,z=P.count;for(let U=O,X=O+z;U<X;U+=3)v(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const b=new G,E=new G,M=new G,C=new G;function R(k){M.fromBufferAttribute(r,k),C.copy(M);const I=a[k];b.copy(I),b.sub(M.multiplyScalar(M.dot(I))).normalize(),E.crossVectors(C,I);const O=E.dot(l[k])<0?-1:1;o.setXYZW(k,b.x,b.y,b.z,O)}for(let k=0,I=x.length;k<I;++k){const P=x[k],O=P.start,z=P.count;for(let U=O,X=O+z;U<X;U+=3)R(e.getX(U+0)),R(e.getX(U+1)),R(e.getX(U+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new an(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,m=i.count;h<m;h++)i.setXYZ(h,0,0,0);const r=new G,s=new G,o=new G,a=new G,l=new G,c=new G,u=new G,d=new G;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),y=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(n,g),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,_),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,y),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,m=n.count;h<m;h+=3)r.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)ki.fromBufferAttribute(e,n),ki.normalize(),e.setXYZ(n,ki.x,ki.y,ki.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let m=0,g=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let v=0;v<u;v++)h[g++]=c[m++]}return new an(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Rt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=c[u],m=e(h,i);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,m=d.length;h<m;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Hz=new ut,Nu=new Hp,qx=new _r,Wz=new G,jf=new G,Hf=new G,Wf=new G,nM=new G,Xx=new G,Yx=new ye,Kx=new ye,Jx=new ye,Gz=new G,$z=new G,qz=new G,Qx=new G,Zx=new G;class ui extends $t{constructor(e=new Rt,n=new pu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Xx.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(nM.fromBufferAttribute(d,e),o?Xx.addScaledVector(nM,u):Xx.addScaledVector(nM.sub(n),u))}n.add(Xx)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),qx.copy(i.boundingSphere),qx.applyMatrix4(s),Nu.copy(e.ray).recast(e.near),!(qx.containsPoint(Nu.origin)===!1&&(Nu.intersectSphere(qx,Wz)===null||Nu.origin.distanceToSquared(Wz)>(e.far-e.near)**2))&&(Hz.copy(s).invert(),Nu.copy(e.ray).applyMatrix4(Hz),!(i.boundingBox!==null&&Nu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Nu)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,h=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=h.length;g<y;g++){const _=h[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),b=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let E=x,M=b;E<M;E+=3){const C=a.getX(E),R=a.getX(E+1),k=a.getX(E+2);r=e_(this,v,e,i,c,u,d,C,R,k),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=_.materialIndex,n.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=a.getX(_),b=a.getX(_+1),E=a.getX(_+2);r=e_(this,o,e,i,c,u,d,x,b,E),r&&(r.faceIndex=Math.floor(_/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=h.length;g<y;g++){const _=h[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),b=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let E=x,M=b;E<M;E+=3){const C=E,R=E+1,k=E+2;r=e_(this,v,e,i,c,u,d,C,R,k),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=_.materialIndex,n.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=_,b=_+1,E=_+2;r=e_(this,o,e,i,c,u,d,x,b,E),r&&(r.faceIndex=Math.floor(_/3),n.push(r))}}}}function twe(t,e,n,i,r,s,o,a){let l;if(e.side===zr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Nl,a),l===null)return null;Zx.copy(a),Zx.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Zx);return c<n.near||c>n.far?null:{distance:c,point:Zx.clone(),object:t}}function e_(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,jf),t.getVertexPosition(l,Hf),t.getVertexPosition(c,Wf);const u=twe(t,e,n,i,jf,Hf,Wf,Qx);if(u){r&&(Yx.fromBufferAttribute(r,a),Kx.fromBufferAttribute(r,l),Jx.fromBufferAttribute(r,c),u.uv=ws.getInterpolation(Qx,jf,Hf,Wf,Yx,Kx,Jx,new ye)),s&&(Yx.fromBufferAttribute(s,a),Kx.fromBufferAttribute(s,l),Jx.fromBufferAttribute(s,c),u.uv1=ws.getInterpolation(Qx,jf,Hf,Wf,Yx,Kx,Jx,new ye)),o&&(Gz.fromBufferAttribute(o,a),$z.fromBufferAttribute(o,l),qz.fromBufferAttribute(o,c),u.normal=ws.getInterpolation(Qx,jf,Hf,Wf,Gz,$z,qz,new G),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new G,materialIndex:0};ws.getNormal(jf,Hf,Wf,d.normal),u.face=d}return u}class nf extends Rt{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,m=0;g("z","y","x",-1,-1,i,n,e,o,s,0),g("z","y","x",1,-1,i,n,-e,o,s,1),g("x","z","y",1,1,e,i,n,r,o,2),g("x","z","y",1,-1,e,i,-n,r,o,3),g("x","y","z",1,-1,e,n,i,r,s,4),g("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new et(c,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(d,2));function g(y,_,v,x,b,E,M,C,R,k,I){const P=E/R,O=M/k,z=E/2,U=M/2,X=C/2,W=R+1,K=k+1;let j=0,D=0;const B=new G;for(let $=0;$<K;$++){const J=$*O-U;for(let ce=0;ce<W;ce++){const Ne=ce*P-z;B[y]=Ne*x,B[_]=J*b,B[v]=X,c.push(B.x,B.y,B.z),B[y]=0,B[_]=0,B[v]=C>0?1:-1,u.push(B.x,B.y,B.z),d.push(ce/R),d.push(1-$/k),j+=1}}for(let $=0;$<k;$++)for(let J=0;J<R;J++){const ce=h+J+W*$,Ne=h+J+W*($+1),ie=h+(J+1)+W*($+1),pe=h+(J+1)+W*$;l.push(ce,Ne,pe),l.push(Ne,ie,pe),D+=6}a.addGroup(m,D,I),m+=D,h+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xp(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ir(t){const e={};for(let n=0;n<t.length;n++){const i=xp(t[n]);for(const r in i)e[r]=i[r]}return e}function nwe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Hq(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jt.workingColorSpace}const lN={clone:xp,merge:Ir};var iwe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rwe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fo extends Er{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=iwe,this.fragmentShader=rwe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xp(e.uniforms),this.uniformsGroups=nwe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class $y extends $t{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut,this.coordinateSystem=va}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const uc=new G,Xz=new ye,Yz=new ye;class zi extends $y{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=yp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return yp*2*Math.atan(Math.tan(bd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){uc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(uc.x,uc.y).multiplyScalar(-e/uc.z),uc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(uc.x,uc.y).multiplyScalar(-e/uc.z)}getViewSize(e,n){return this.getViewBounds(e,Xz,Yz),n.subVectors(Yz,Xz)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(bd*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Gf=-90,$f=1;class Wq extends $t{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new zi(Gf,$f,e,n);r.layers=this.layers,this.add(r);const s=new zi(Gf,$f,e,n);s.layers=this.layers,this.add(s);const o=new zi(Gf,$f,e,n);o.layers=this.layers,this.add(o);const a=new zi(Gf,$f,e,n);a.layers=this.layers,this.add(a);const l=new zi(Gf,$f,e,n);l.layers=this.layers,this.add(l);const c=new zi(Gf,$f,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===va)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===iy)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=y,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(d,h,m),e.xr.enabled=g,i.texture.needsPMREMUpdate=!0}}class qy extends Rn{constructor(e,n,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ll,super(e,n,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Gq extends Ho{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new qy(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ci}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new nf(5,5,5),s=new fo({name:"CubemapFromEquirect",uniforms:xp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:zr,blending:Sl});s.uniforms.tEquirect.value=n;const o=new ui(r,s),a=n.minFilter;return n.minFilter===ga&&(n.minFilter=ci),new Wq(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const iM=new G,swe=new G,owe=new Et;class _c{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=iM.subVectors(i,n).cross(swe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(iM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||owe.getNormalMatrix(e),r=this.coplanarPoint(iM).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lu=new _r,t_=new G;class Xy{constructor(e=new _c,n=new _c,i=new _c,r=new _c,s=new _c,o=new _c){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=va){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],h=r[7],m=r[8],g=r[9],y=r[10],_=r[11],v=r[12],x=r[13],b=r[14],E=r[15];if(i[0].setComponents(l-s,h-c,_-m,E-v).normalize(),i[1].setComponents(l+s,h+c,_+m,E+v).normalize(),i[2].setComponents(l+o,h+u,_+g,E+x).normalize(),i[3].setComponents(l-o,h-u,_-g,E-x).normalize(),i[4].setComponents(l-a,h-d,_-y,E-b).normalize(),n===va)i[5].setComponents(l+a,h+d,_+y,E+b).normalize();else if(n===iy)i[5].setComponents(a,d,y,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Lu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lu)}intersectsSprite(e){return Lu.center.set(0,0,0),Lu.radius=.7071067811865476,Lu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lu)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(t_.x=r.normal.x>0?e.max.x:e.min.x,t_.y=r.normal.y>0?e.max.y:e.min.y,t_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(t_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $q(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function awe(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const u=l.array,d=l._updateRange,h=l.updateRanges;if(t.bindBuffer(c,a),d.count===-1&&h.length===0&&t.bufferSubData(c,0,u),h.length!==0){for(let m=0,g=h.length;m<g;m++){const y=h[m];t.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class Wp extends Rt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=n/l,m=[],g=[],y=[],_=[];for(let v=0;v<u;v++){const x=v*h-o;for(let b=0;b<c;b++){const E=b*d-s;g.push(E,-x,0),y.push(0,0,1),_.push(b/a),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<a;x++){const b=x+c*v,E=x+c*(v+1),M=x+1+c*(v+1),C=x+1+c*v;m.push(b,E,C),m.push(E,M,C)}this.setIndex(m),this.setAttribute("position",new et(g,3)),this.setAttribute("normal",new et(y,3)),this.setAttribute("uv",new et(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wp(e.width,e.height,e.widthSegments,e.heightSegments)}}var lwe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cwe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,uwe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dwe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fwe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hwe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pwe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mwe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gwe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,vwe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,ywe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,xwe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_we=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,bwe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Swe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,wwe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Ewe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Twe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Cwe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mwe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Pwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Awe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Iwe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Rwe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,kwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Nwe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Lwe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Dwe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Owe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Fwe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zwe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Bwe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Uwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Vwe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jwe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Hwe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Wwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Gwe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$we=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qwe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xwe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ywe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Jwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Qwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Zwe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eEe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tEe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nEe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iEe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rEe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sEe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,oEe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,aEe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lEe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cEe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uEe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dEe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fEe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hEe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pEe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mEe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gEe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vEe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yEe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xEe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_Ee=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,bEe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,SEe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wEe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,EEe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,TEe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,CEe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,MEe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PEe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,AEe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,IEe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,REe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,kEe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,NEe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,LEe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,DEe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,OEe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,FEe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,zEe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,BEe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UEe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,VEe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jEe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,HEe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,WEe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,GEe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$Ee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qEe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XEe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,YEe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,KEe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JEe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,QEe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ZEe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eTe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tTe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nTe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,iTe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rTe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sTe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,oTe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const aTe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lTe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uTe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fTe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hTe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pTe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,mTe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gTe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,yTe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xTe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_Te=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bTe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,STe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wTe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ETe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TTe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CTe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MTe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,PTe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ATe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ITe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RTe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kTe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NTe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LTe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DTe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,OTe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FTe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zTe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,BTe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UTe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mt={alphahash_fragment:lwe,alphahash_pars_fragment:cwe,alphamap_fragment:uwe,alphamap_pars_fragment:dwe,alphatest_fragment:fwe,alphatest_pars_fragment:hwe,aomap_fragment:pwe,aomap_pars_fragment:mwe,batching_pars_vertex:gwe,batching_vertex:vwe,begin_vertex:ywe,beginnormal_vertex:xwe,bsdfs:_we,iridescence_fragment:bwe,bumpmap_pars_fragment:Swe,clipping_planes_fragment:wwe,clipping_planes_pars_fragment:Ewe,clipping_planes_pars_vertex:Twe,clipping_planes_vertex:Cwe,color_fragment:Mwe,color_pars_fragment:Pwe,color_pars_vertex:Awe,color_vertex:Iwe,common:Rwe,cube_uv_reflection_fragment:kwe,defaultnormal_vertex:Nwe,displacementmap_pars_vertex:Lwe,displacementmap_vertex:Dwe,emissivemap_fragment:Owe,emissivemap_pars_fragment:Fwe,colorspace_fragment:zwe,colorspace_pars_fragment:Bwe,envmap_fragment:Uwe,envmap_common_pars_fragment:Vwe,envmap_pars_fragment:jwe,envmap_pars_vertex:Hwe,envmap_physical_pars_fragment:eEe,envmap_vertex:Wwe,fog_vertex:Gwe,fog_pars_vertex:$we,fog_fragment:qwe,fog_pars_fragment:Xwe,gradientmap_pars_fragment:Ywe,lightmap_pars_fragment:Kwe,lights_lambert_fragment:Jwe,lights_lambert_pars_fragment:Qwe,lights_pars_begin:Zwe,lights_toon_fragment:tEe,lights_toon_pars_fragment:nEe,lights_phong_fragment:iEe,lights_phong_pars_fragment:rEe,lights_physical_fragment:sEe,lights_physical_pars_fragment:oEe,lights_fragment_begin:aEe,lights_fragment_maps:lEe,lights_fragment_end:cEe,logdepthbuf_fragment:uEe,logdepthbuf_pars_fragment:dEe,logdepthbuf_pars_vertex:fEe,logdepthbuf_vertex:hEe,map_fragment:pEe,map_pars_fragment:mEe,map_particle_fragment:gEe,map_particle_pars_fragment:vEe,metalnessmap_fragment:yEe,metalnessmap_pars_fragment:xEe,morphinstance_vertex:_Ee,morphcolor_vertex:bEe,morphnormal_vertex:SEe,morphtarget_pars_vertex:wEe,morphtarget_vertex:EEe,normal_fragment_begin:TEe,normal_fragment_maps:CEe,normal_pars_fragment:MEe,normal_pars_vertex:PEe,normal_vertex:AEe,normalmap_pars_fragment:IEe,clearcoat_normal_fragment_begin:REe,clearcoat_normal_fragment_maps:kEe,clearcoat_pars_fragment:NEe,iridescence_pars_fragment:LEe,opaque_fragment:DEe,packing:OEe,premultiplied_alpha_fragment:FEe,project_vertex:zEe,dithering_fragment:BEe,dithering_pars_fragment:UEe,roughnessmap_fragment:VEe,roughnessmap_pars_fragment:jEe,shadowmap_pars_fragment:HEe,shadowmap_pars_vertex:WEe,shadowmap_vertex:GEe,shadowmask_pars_fragment:$Ee,skinbase_vertex:qEe,skinning_pars_vertex:XEe,skinning_vertex:YEe,skinnormal_vertex:KEe,specularmap_fragment:JEe,specularmap_pars_fragment:QEe,tonemapping_fragment:ZEe,tonemapping_pars_fragment:eTe,transmission_fragment:tTe,transmission_pars_fragment:nTe,uv_pars_fragment:iTe,uv_pars_vertex:rTe,uv_vertex:sTe,worldpos_vertex:oTe,background_vert:aTe,background_frag:lTe,backgroundCube_vert:cTe,backgroundCube_frag:uTe,cube_vert:dTe,cube_frag:fTe,depth_vert:hTe,depth_frag:pTe,distanceRGBA_vert:mTe,distanceRGBA_frag:gTe,equirect_vert:vTe,equirect_frag:yTe,linedashed_vert:xTe,linedashed_frag:_Te,meshbasic_vert:bTe,meshbasic_frag:STe,meshlambert_vert:wTe,meshlambert_frag:ETe,meshmatcap_vert:TTe,meshmatcap_frag:CTe,meshnormal_vert:MTe,meshnormal_frag:PTe,meshphong_vert:ATe,meshphong_frag:ITe,meshphysical_vert:RTe,meshphysical_frag:kTe,meshtoon_vert:NTe,meshtoon_frag:LTe,points_vert:DTe,points_frag:OTe,shadow_vert:FTe,shadow_frag:zTe,sprite_vert:BTe,sprite_frag:UTe},Ue={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Et}},envmap:{envMap:{value:null},envMapRotation:{value:new Et},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Et}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Et}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Et},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Et},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Et},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Et}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Et}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Et}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0},uvTransform:{value:new Et}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}}},Ro={basic:{uniforms:Ir([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Ir([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Ir([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Ir([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Ir([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Ir([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Ir([Ue.points,Ue.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Ir([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Ir([Ue.common,Ue.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Ir([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Ir([Ue.sprite,Ue.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Et}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Ir([Ue.common,Ue.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Ir([Ue.lights,Ue.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Ro.physical={uniforms:Ir([Ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Et},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Et},clearcoatNormalScale:{value:new ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Et},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Et},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Et},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Et},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Et},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Et},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Et},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Et},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Et},anisotropyVector:{value:new ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Et}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const n_={r:0,b:0,g:0},Du=new cs,VTe=new ut;function jTe(t,e,n,i,r,s,o){const a=new He(0);let l=s===!0?0:1,c,u,d=null,h=0,m=null;function g(x){let b=x.isScene===!0?x.background:null;return b&&b.isTexture&&(b=(x.backgroundBlurriness>0?n:e).get(b)),b}function y(x){let b=!1;const E=g(x);E===null?v(a,l):E&&E.isColor&&(v(E,1),b=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?i.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function _(x,b){const E=g(b);E&&(E.isCubeTexture||E.mapping===Vp)?(u===void 0&&(u=new ui(new nf(1,1,1),new fo({name:"BackgroundCubeMaterial",uniforms:xp(Ro.backgroundCube.uniforms),vertexShader:Ro.backgroundCube.vertexShader,fragmentShader:Ro.backgroundCube.fragmentShader,side:zr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,C,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Du.copy(b.backgroundRotation),Du.x*=-1,Du.y*=-1,Du.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Du.y*=-1,Du.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(VTe.makeRotationFromEuler(Du)),u.material.toneMapped=Jt.getTransfer(E.colorSpace)!==yn,(d!==E||h!==E.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=E,h=E.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new ui(new Wp(2,2),new fo({name:"BackgroundMaterial",uniforms:xp(Ro.background.uniforms),vertexShader:Ro.background.vertexShader,fragmentShader:Ro.background.fragmentShader,side:Nl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Jt.getTransfer(E.colorSpace)!==yn,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(d!==E||h!==E.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=E,h=E.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function v(x,b){x.getRGB(n_,Hq(t)),i.buffers.color.setClear(n_.r,n_.g,n_.b,b,o)}return{getClearColor:function(){return a},setClearColor:function(x,b=1){a.set(x),l=b,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:y,addToRenderList:_}}function HTe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=h(null);let s=r,o=!1;function a(P,O,z,U,X){let W=!1;const K=d(U,z,O);s!==K&&(s=K,c(s.object)),W=m(P,U,z,X),W&&g(P,U,z,X),X!==null&&e.update(X,t.ELEMENT_ARRAY_BUFFER),(W||o)&&(o=!1,E(P,O,z,U),X!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return t.createVertexArray()}function c(P){return t.bindVertexArray(P)}function u(P){return t.deleteVertexArray(P)}function d(P,O,z){const U=z.wireframe===!0;let X=i[P.id];X===void 0&&(X={},i[P.id]=X);let W=X[O.id];W===void 0&&(W={},X[O.id]=W);let K=W[U];return K===void 0&&(K=h(l()),W[U]=K),K}function h(P){const O=[],z=[],U=[];for(let X=0;X<n;X++)O[X]=0,z[X]=0,U[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:z,attributeDivisors:U,object:P,attributes:{},index:null}}function m(P,O,z,U){const X=s.attributes,W=O.attributes;let K=0;const j=z.getAttributes();for(const D in j)if(j[D].location>=0){const $=X[D];let J=W[D];if(J===void 0&&(D==="instanceMatrix"&&P.instanceMatrix&&(J=P.instanceMatrix),D==="instanceColor"&&P.instanceColor&&(J=P.instanceColor)),$===void 0||$.attribute!==J||J&&$.data!==J.data)return!0;K++}return s.attributesNum!==K||s.index!==U}function g(P,O,z,U){const X={},W=O.attributes;let K=0;const j=z.getAttributes();for(const D in j)if(j[D].location>=0){let $=W[D];$===void 0&&(D==="instanceMatrix"&&P.instanceMatrix&&($=P.instanceMatrix),D==="instanceColor"&&P.instanceColor&&($=P.instanceColor));const J={};J.attribute=$,$&&$.data&&(J.data=$.data),X[D]=J,K++}s.attributes=X,s.attributesNum=K,s.index=U}function y(){const P=s.newAttributes;for(let O=0,z=P.length;O<z;O++)P[O]=0}function _(P){v(P,0)}function v(P,O){const z=s.newAttributes,U=s.enabledAttributes,X=s.attributeDivisors;z[P]=1,U[P]===0&&(t.enableVertexAttribArray(P),U[P]=1),X[P]!==O&&(t.vertexAttribDivisor(P,O),X[P]=O)}function x(){const P=s.newAttributes,O=s.enabledAttributes;for(let z=0,U=O.length;z<U;z++)O[z]!==P[z]&&(t.disableVertexAttribArray(z),O[z]=0)}function b(P,O,z,U,X,W,K){K===!0?t.vertexAttribIPointer(P,O,z,X,W):t.vertexAttribPointer(P,O,z,U,X,W)}function E(P,O,z,U){y();const X=U.attributes,W=z.getAttributes(),K=O.defaultAttributeValues;for(const j in W){const D=W[j];if(D.location>=0){let B=X[j];if(B===void 0&&(j==="instanceMatrix"&&P.instanceMatrix&&(B=P.instanceMatrix),j==="instanceColor"&&P.instanceColor&&(B=P.instanceColor)),B!==void 0){const $=B.normalized,J=B.itemSize,ce=e.get(B);if(ce===void 0)continue;const Ne=ce.buffer,ie=ce.type,pe=ce.bytesPerElement,Ee=ie===t.INT||ie===t.UNSIGNED_INT||B.gpuType===Iw;if(B.isInterleavedBufferAttribute){const Te=B.data,ue=Te.stride,fe=B.offset;if(Te.isInstancedInterleavedBuffer){for(let Ie=0;Ie<D.locationSize;Ie++)v(D.location+Ie,Te.meshPerAttribute);P.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let Ie=0;Ie<D.locationSize;Ie++)_(D.location+Ie);t.bindBuffer(t.ARRAY_BUFFER,Ne);for(let Ie=0;Ie<D.locationSize;Ie++)b(D.location+Ie,J/D.locationSize,ie,$,ue*pe,(fe+J/D.locationSize*Ie)*pe,Ee)}else{if(B.isInstancedBufferAttribute){for(let Te=0;Te<D.locationSize;Te++)v(D.location+Te,B.meshPerAttribute);P.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let Te=0;Te<D.locationSize;Te++)_(D.location+Te);t.bindBuffer(t.ARRAY_BUFFER,Ne);for(let Te=0;Te<D.locationSize;Te++)b(D.location+Te,J/D.locationSize,ie,$,J*pe,J/D.locationSize*Te*pe,Ee)}}else if(K!==void 0){const $=K[j];if($!==void 0)switch($.length){case 2:t.vertexAttrib2fv(D.location,$);break;case 3:t.vertexAttrib3fv(D.location,$);break;case 4:t.vertexAttrib4fv(D.location,$);break;default:t.vertexAttrib1fv(D.location,$)}}}}x()}function M(){k();for(const P in i){const O=i[P];for(const z in O){const U=O[z];for(const X in U)u(U[X].object),delete U[X];delete O[z]}delete i[P]}}function C(P){if(i[P.id]===void 0)return;const O=i[P.id];for(const z in O){const U=O[z];for(const X in U)u(U[X].object),delete U[X];delete O[z]}delete i[P.id]}function R(P){for(const O in i){const z=i[O];if(z[P.id]===void 0)continue;const U=z[P.id];for(const X in U)u(U[X].object),delete U[X];delete z[P.id]}}function k(){I(),o=!0,s!==r&&(s=r,c(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:k,resetDefaultState:I,dispose:M,releaseStatesOfGeometry:C,releaseStatesOfProgram:R,initAttributes:y,enableAttribute:_,disableUnusedAttributes:x}}function WTe(t,e,n){let i;function r(c){i=c}function s(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function o(c,u,d){d!==0&&(t.drawArraysInstanced(i,c,u,d),n.update(u,i,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let m=0;for(let g=0;g<d;g++)m+=u[g];n.update(m,i,1)}function l(c,u,d,h){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<c.length;g++)o(c[g],u[g],h[g]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,d);let g=0;for(let y=0;y<d;y++)g+=u[y];for(let y=0;y<h.length;y++)n.update(g,i,h[y])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function GTe(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(C){return!(C!==xr&&i.convert(C)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(C){const R=C===jp&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==jo&&i.convert(C)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==ns&&!R)}function l(C){if(C==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),x=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,M=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:b,vertexTextures:E,maxSamples:M}}function $Te(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new _c,a=new Et,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const m=d.length!==0||h||i!==0||r;return r=h,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,m){const g=d.clippingPlanes,y=d.clipIntersection,_=d.clipShadows,v=t.get(d);if(!r||g===null||g.length===0||s&&!_)s?u(null):c();else{const x=s?0:i,b=x*4;let E=v.clippingState||null;l.value=E,E=u(g,h,b,m);for(let M=0;M!==b;++M)E[M]=n[M];v.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,h,m,g){const y=d!==null?d.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const v=m+y*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<v)&&(_=new Float32Array(v));for(let b=0,E=m;b!==y;++b,E+=4)o.copy(d[b]).applyMatrix4(x,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function qTe(t){let e=new WeakMap;function n(o,a){return a===qv?o.mapping=Ll:a===Xv&&(o.mapping=nu),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===qv||a===Xv)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Gq(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Yy extends $y{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Ph=4,Kz=[.125,.215,.35,.446,.526,.582],td=20,rM=new Yy,Jz=new He;let sM=null,oM=0,aM=0,lM=!1;const Zu=(1+Math.sqrt(5))/2,qf=1/Zu,Qz=[new G(-Zu,qf,0),new G(Zu,qf,0),new G(-qf,0,Zu),new G(qf,0,Zu),new G(0,Zu,-qf),new G(0,Zu,qf),new G(-1,1,-1),new G(1,1,-1),new G(-1,1,1),new G(1,1,1)];class nI{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){sM=this._renderer.getRenderTarget(),oM=this._renderer.getActiveCubeFace(),aM=this._renderer.getActiveMipmapLevel(),lM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=tB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=eB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sM,oM,aM),this._renderer.xr.enabled=lM,e.scissorTest=!1,i_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ll||e.mapping===nu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sM=this._renderer.getRenderTarget(),oM=this._renderer.getActiveCubeFace(),aM=this._renderer.getActiveMipmapLevel(),lM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:ci,minFilter:ci,generateMipmaps:!1,type:jp,format:xr,colorSpace:Hl,depthBuffer:!1},r=Zz(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Zz(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=XTe(s)),this._blurMaterial=YTe(s,e,n)}return r}_compileMaterial(e){const n=new ui(this._lodPlanes[0],e);this._renderer.compile(n,rM)}_sceneToCubeUV(e,n,i,r){const a=new zi(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(Jz),u.toneMapping=Ma,u.autoClear=!1;const m=new pu({name:"PMREM.Background",side:zr,depthWrite:!1,depthTest:!1}),g=new ui(new nf,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(Jz),y=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):x===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const b=this._cubeSize;i_(r,x*b,v>2?b:0,b,b),u.setRenderTarget(r),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=_}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Ll||e.mapping===nu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=tB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=eB());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new ui(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;i_(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,rM)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=Qz[(r-s-1)%Qz.length];this._blur(e,s-1,s,o,a)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new ui(this._lodPlanes[r],c),h=c.uniforms,m=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*td-1),y=s/g,_=isFinite(s)?1+Math.floor(u*y):td;_>td&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${td}`);const v=[];let x=0;for(let R=0;R<td;++R){const k=R/y,I=Math.exp(-k*k/2);v.push(I),R===0?x+=I:R<_&&(x+=2*I)}for(let R=0;R<v.length;R++)v[R]=v[R]/x;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=v,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:b}=this;h.dTheta.value=g,h.mipInt.value=b-i;const E=this._sizeLods[r],M=3*E*(r>b-Ph?r-b+Ph:0),C=4*(this._cubeSize-E);i_(n,M,C,3*E,2*E),l.setRenderTarget(n),l.render(d,rM)}}function XTe(t){const e=[],n=[],i=[];let r=t;const s=t-Ph+1+Kz.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-Ph?l=Kz[o-t+Ph-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,g=6,y=3,_=2,v=1,x=new Float32Array(y*g*m),b=new Float32Array(_*g*m),E=new Float32Array(v*g*m);for(let C=0;C<m;C++){const R=C%3*2/3-1,k=C>2?0:-1,I=[R,k,0,R+2/3,k,0,R+2/3,k+1,0,R,k,0,R+2/3,k+1,0,R,k+1,0];x.set(I,y*g*C),b.set(h,_*g*C);const P=[C,C,C,C,C,C];E.set(P,v*g*C)}const M=new Rt;M.setAttribute("position",new an(x,y)),M.setAttribute("uv",new an(b,_)),M.setAttribute("faceIndex",new an(E,v)),e.push(M),r>Ph&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function Zz(t,e,n){const i=new Ho(t,e,n);return i.texture.mapping=Vp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function i_(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function YTe(t,e,n){const i=new Float32Array(td),r=new G(0,1,0);return new fo({name:"SphericalGaussianBlur",defines:{n:td,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:cN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Sl,depthTest:!1,depthWrite:!1})}function eB(){return new fo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:cN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Sl,depthTest:!1,depthWrite:!1})}function tB(){return new fo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:cN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Sl,depthTest:!1,depthWrite:!1})}function cN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KTe(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===qv||l===Xv,u=l===Ll||l===nu;if(c||u){let d=e.get(a);const h=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return n===null&&(n=new nI(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&r(m)?(n===null&&(n=new nI(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function JTe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&Gh("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function QTe(t,e,n,i){const r={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const y=h.morphAttributes[g];for(let _=0,v=y.length;_<v;_++)e.remove(y[_])}h.removeEventListener("dispose",o),delete r[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(d,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const g in m){const y=m[g];for(let _=0,v=y.length;_<v;_++)e.update(y[_],t.ARRAY_BUFFER)}}function c(d){const h=[],m=d.index,g=d.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let b=0,E=x.length;b<E;b+=3){const M=x[b+0],C=x[b+1],R=x[b+2];h.push(M,C,C,R,R,M)}}else if(g!==void 0){const x=g.array;y=g.version;for(let b=0,E=x.length/3-1;b<E;b+=3){const M=b+0,C=b+1,R=b+2;h.push(M,C,C,R,R,M)}}else return;const _=new(zq(h)?aN:oN)(h,1);_.version=y;const v=s.get(d);v&&e.remove(v),s.set(d,_)}function u(d){const h=s.get(d);if(h){const m=d.index;m!==null&&h.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function ZTe(t,e,n){let i;function r(h){i=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,m){t.drawElements(i,m,s,h*o),n.update(m,i,1)}function c(h,m,g){g!==0&&(t.drawElementsInstanced(i,m,s,h*o,g),n.update(m,i,g))}function u(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,s,h,0,g);let _=0;for(let v=0;v<g;v++)_+=m[v];n.update(_,i,1)}function d(h,m,g,y){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let v=0;v<h.length;v++)c(h[v]/o,m[v],y[v]);else{_.multiDrawElementsInstancedWEBGL(i,m,0,s,h,0,y,0,g);let v=0;for(let x=0;x<g;x++)v+=m[x];for(let x=0;x<y.length;x++)n.update(v,i,y[x])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function eCe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function tCe(t,e,n){const i=new WeakMap,r=new jt;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let h=i.get(a);if(h===void 0||h.count!==d){let P=function(){k.dispose(),i.delete(a),a.removeEventListener("dispose",P)};var m=P;h!==void 0&&h.texture.dispose();const g=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,v=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let E=0;g===!0&&(E=1),y===!0&&(E=2),_===!0&&(E=3);let M=a.attributes.position.count*E,C=1;M>e.maxTextureSize&&(C=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const R=new Float32Array(M*C*4*d),k=new zw(R,M,C,d);k.type=ns,k.needsUpdate=!0;const I=E*4;for(let O=0;O<d;O++){const z=v[O],U=x[O],X=b[O],W=M*C*4*O;for(let K=0;K<z.count;K++){const j=K*I;g===!0&&(r.fromBufferAttribute(z,K),R[W+j+0]=r.x,R[W+j+1]=r.y,R[W+j+2]=r.z,R[W+j+3]=0),y===!0&&(r.fromBufferAttribute(U,K),R[W+j+4]=r.x,R[W+j+5]=r.y,R[W+j+6]=r.z,R[W+j+7]=0),_===!0&&(r.fromBufferAttribute(X,K),R[W+j+8]=r.x,R[W+j+9]=r.y,R[W+j+10]=r.z,R[W+j+11]=X.itemSize===4?r.w:1)}}h={count:d,texture:k,size:new ye(M,C)},i.set(a,h),a.addEventListener("dispose",P)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let _=0;_<c.length;_++)g+=c[_];const y=a.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function nCe(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class uN extends Rn{constructor(e,n,i,r,s,o,a,l,c,u=_d){if(u!==_d&&u!==Ud)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===_d&&(i=Dl),i===void 0&&u===Ud&&(i=Bd),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Bi,this.minFilter=l!==void 0?l:Bi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const qq=new Rn,nB=new uN(1,1),Xq=new zw,Yq=new sN,Kq=new qy,iB=[],rB=[],sB=new Float32Array(16),oB=new Float32Array(9),aB=new Float32Array(4);function Gp(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=iB[r];if(s===void 0&&(s=new Float32Array(r),iB[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Si(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function wi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Bw(t,e){let n=rB[e];n===void 0&&(n=new Int32Array(e),rB[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function iCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function rCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Si(n,e))return;t.uniform2fv(this.addr,e),wi(n,e)}}function sCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Si(n,e))return;t.uniform3fv(this.addr,e),wi(n,e)}}function oCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Si(n,e))return;t.uniform4fv(this.addr,e),wi(n,e)}}function aCe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Si(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),wi(n,e)}else{if(Si(n,i))return;aB.set(i),t.uniformMatrix2fv(this.addr,!1,aB),wi(n,i)}}function lCe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Si(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),wi(n,e)}else{if(Si(n,i))return;oB.set(i),t.uniformMatrix3fv(this.addr,!1,oB),wi(n,i)}}function cCe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Si(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),wi(n,e)}else{if(Si(n,i))return;sB.set(i),t.uniformMatrix4fv(this.addr,!1,sB),wi(n,i)}}function uCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function dCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Si(n,e))return;t.uniform2iv(this.addr,e),wi(n,e)}}function fCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Si(n,e))return;t.uniform3iv(this.addr,e),wi(n,e)}}function hCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Si(n,e))return;t.uniform4iv(this.addr,e),wi(n,e)}}function pCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function mCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Si(n,e))return;t.uniform2uiv(this.addr,e),wi(n,e)}}function gCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Si(n,e))return;t.uniform3uiv(this.addr,e),wi(n,e)}}function vCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Si(n,e))return;t.uniform4uiv(this.addr,e),wi(n,e)}}function yCe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(nB.compareFunction=iN,s=nB):s=qq,n.setTexture2D(e||s,r)}function xCe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Yq,r)}function _Ce(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||Kq,r)}function bCe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Xq,r)}function SCe(t){switch(t){case 5126:return iCe;case 35664:return rCe;case 35665:return sCe;case 35666:return oCe;case 35674:return aCe;case 35675:return lCe;case 35676:return cCe;case 5124:case 35670:return uCe;case 35667:case 35671:return dCe;case 35668:case 35672:return fCe;case 35669:case 35673:return hCe;case 5125:return pCe;case 36294:return mCe;case 36295:return gCe;case 36296:return vCe;case 35678:case 36198:case 36298:case 36306:case 35682:return yCe;case 35679:case 36299:case 36307:return xCe;case 35680:case 36300:case 36308:case 36293:return _Ce;case 36289:case 36303:case 36311:case 36292:return bCe}}function wCe(t,e){t.uniform1fv(this.addr,e)}function ECe(t,e){const n=Gp(e,this.size,2);t.uniform2fv(this.addr,n)}function TCe(t,e){const n=Gp(e,this.size,3);t.uniform3fv(this.addr,n)}function CCe(t,e){const n=Gp(e,this.size,4);t.uniform4fv(this.addr,n)}function MCe(t,e){const n=Gp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function PCe(t,e){const n=Gp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ACe(t,e){const n=Gp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ICe(t,e){t.uniform1iv(this.addr,e)}function RCe(t,e){t.uniform2iv(this.addr,e)}function kCe(t,e){t.uniform3iv(this.addr,e)}function NCe(t,e){t.uniform4iv(this.addr,e)}function LCe(t,e){t.uniform1uiv(this.addr,e)}function DCe(t,e){t.uniform2uiv(this.addr,e)}function OCe(t,e){t.uniform3uiv(this.addr,e)}function FCe(t,e){t.uniform4uiv(this.addr,e)}function zCe(t,e,n){const i=this.cache,r=e.length,s=Bw(n,r);Si(i,s)||(t.uniform1iv(this.addr,s),wi(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||qq,s[o])}function BCe(t,e,n){const i=this.cache,r=e.length,s=Bw(n,r);Si(i,s)||(t.uniform1iv(this.addr,s),wi(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||Yq,s[o])}function UCe(t,e,n){const i=this.cache,r=e.length,s=Bw(n,r);Si(i,s)||(t.uniform1iv(this.addr,s),wi(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||Kq,s[o])}function VCe(t,e,n){const i=this.cache,r=e.length,s=Bw(n,r);Si(i,s)||(t.uniform1iv(this.addr,s),wi(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||Xq,s[o])}function jCe(t){switch(t){case 5126:return wCe;case 35664:return ECe;case 35665:return TCe;case 35666:return CCe;case 35674:return MCe;case 35675:return PCe;case 35676:return ACe;case 5124:case 35670:return ICe;case 35667:case 35671:return RCe;case 35668:case 35672:return kCe;case 35669:case 35673:return NCe;case 5125:return LCe;case 36294:return DCe;case 36295:return OCe;case 36296:return FCe;case 35678:case 36198:case 36298:case 36306:case 35682:return zCe;case 35679:case 36299:case 36307:return BCe;case 35680:case 36300:case 36308:case 36293:return UCe;case 36289:case 36303:case 36311:case 36292:return VCe}}class HCe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=SCe(n.type)}}class WCe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=jCe(n.type)}}class GCe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const cM=/(\w+)(\])?(\[|\.)?/g;function lB(t,e){t.seq.push(e),t.map[e.id]=e}function $Ce(t,e,n){const i=t.name,r=i.length;for(cM.lastIndex=0;;){const s=cM.exec(i),o=cM.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){lB(n,c===void 0?new HCe(a,t,e):new WCe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new GCe(a),lB(n,d)),n=d}}}class b1{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);$Ce(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function cB(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const qCe=37297;let XCe=0;function YCe(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function KCe(t){const e=Jt.getPrimaries(Jt.workingColorSpace),n=Jt.getPrimaries(t);let i;switch(e===n?i="":e===ty&&n===ey?i="LinearDisplayP3ToLinearSRGB":e===ey&&n===ty&&(i="LinearSRGBToLinearDisplayP3"),t){case Hl:case Gy:return[i,"LinearTransferOETF"];case eo:case Fw:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function uB(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+YCe(t.getShaderSource(e),o)}else return r}function JCe(t,e){const n=KCe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function QCe(t,e){let n;switch(e){case vq:n="Linear";break;case yq:n="Reinhard";break;case xq:n="Cineon";break;case Gk:n="ACESFilmic";break;case bq:n="AgX";break;case Sq:n="Neutral";break;case _q:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const r_=new G;function ZCe(){Jt.getLuminanceCoefficients(r_);const t=r_.x.toFixed(4),e=r_.y.toFixed(4),n=r_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function eMe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Sg).join(`
`)}function tMe(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function nMe(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Sg(t){return t!==""}function dB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const iMe=/^[ \t]*#include +<([\w\d./]+)>/gm;function iI(t){return t.replace(iMe,sMe)}const rMe=new Map;function sMe(t,e){let n=Mt[e];if(n===void 0){const i=rMe.get(e);if(i!==void 0)n=Mt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return iI(n)}const oMe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hB(t){return t.replace(oMe,aMe)}function aMe(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function pB(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lMe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Pw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===qg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Co&&(e="SHADOWMAP_TYPE_VSM"),e}function cMe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ll:case nu:e="ENVMAP_TYPE_CUBE";break;case Vp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function uMe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case nu:e="ENVMAP_MODE_REFRACTION";break}return e}function dMe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Hy:e="ENVMAP_BLENDING_MULTIPLY";break;case mq:e="ENVMAP_BLENDING_MIX";break;case gq:e="ENVMAP_BLENDING_ADD";break}return e}function fMe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function hMe(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=lMe(n),c=cMe(n),u=uMe(n),d=dMe(n),h=fMe(n),m=eMe(n),g=tMe(s),y=r.createProgram();let _,v,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Sg).join(`
`),_.length>0&&(_+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Sg).join(`
`),v.length>0&&(v+=`
`)):(_=[pB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sg).join(`
`),v=[pB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ma?"#define TONE_MAPPING":"",n.toneMapping!==Ma?Mt.tonemapping_pars_fragment:"",n.toneMapping!==Ma?QCe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mt.colorspace_pars_fragment,JCe("linearToOutputTexel",n.outputColorSpace),ZCe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Sg).join(`
`)),o=iI(o),o=dB(o,n),o=fB(o,n),a=iI(a),a=dB(a,n),a=fB(a,n),o=hB(o),a=hB(a),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,v=["#define varying in",n.glslVersion===tI?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===tI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=x+_+o,E=x+v+a,M=cB(r,r.VERTEX_SHADER,b),C=cB(r,r.FRAGMENT_SHADER,E);r.attachShader(y,M),r.attachShader(y,C),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function R(O){if(t.debug.checkShaderErrors){const z=r.getProgramInfoLog(y).trim(),U=r.getShaderInfoLog(M).trim(),X=r.getShaderInfoLog(C).trim();let W=!0,K=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(W=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,y,M,C);else{const j=uB(r,M,"vertex"),D=uB(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+z+`
`+j+`
`+D)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(U===""||X==="")&&(K=!1);K&&(O.diagnostics={runnable:W,programLog:z,vertexShader:{log:U,prefix:_},fragmentShader:{log:X,prefix:v}})}r.deleteShader(M),r.deleteShader(C),k=new b1(r,y),I=nMe(r,y)}let k;this.getUniforms=function(){return k===void 0&&R(this),k};let I;this.getAttributes=function(){return I===void 0&&R(this),I};let P=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=r.getProgramParameter(y,qCe)),P},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=XCe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=C,this}let pMe=0;class mMe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new gMe(e),n.set(e,i)),i}}class gMe{constructor(e){this.id=pMe++,this.code=e,this.usedTimes=0}}function vMe(t,e,n,i,r,s,o){const a=new Sd,l=new mMe,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(I){return c.add(I),I===0?"uv":`uv${I}`}function _(I,P,O,z,U){const X=z.fog,W=U.geometry,K=I.isMeshStandardMaterial?z.environment:null,j=(I.isMeshStandardMaterial?n:e).get(I.envMap||K),D=j&&j.mapping===Vp?j.image.height:null,B=g[I.type];I.precision!==null&&(m=r.getMaxPrecision(I.precision),m!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));const $=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,J=$!==void 0?$.length:0;let ce=0;W.morphAttributes.position!==void 0&&(ce=1),W.morphAttributes.normal!==void 0&&(ce=2),W.morphAttributes.color!==void 0&&(ce=3);let Ne,ie,pe,Ee;if(B){const Ht=Ro[B];Ne=Ht.vertexShader,ie=Ht.fragmentShader}else Ne=I.vertexShader,ie=I.fragmentShader,l.update(I),pe=l.getVertexShaderID(I),Ee=l.getFragmentShaderID(I);const Te=t.getRenderTarget(),ue=U.isInstancedMesh===!0,fe=U.isBatchedMesh===!0,Ie=!!I.map,Ge=!!I.matcap,H=!!j,ve=!!I.aoMap,we=!!I.lightMap,Oe=!!I.bumpMap,me=!!I.normalMap,ot=!!I.displacementMap,Fe=!!I.emissiveMap,qe=!!I.metalnessMap,Y=!!I.roughnessMap,F=I.anisotropy>0,se=I.clearcoat>0,xe=I.dispersion>0,ge=I.iridescence>0,Se=I.sheen>0,at=I.transmission>0,Be=F&&!!I.anisotropyMap,Xe=se&&!!I.clearcoatMap,_t=se&&!!I.clearcoatNormalMap,Me=se&&!!I.clearcoatRoughnessMap,$e=ge&&!!I.iridescenceMap,Ft=ge&&!!I.iridescenceThicknessMap,gt=Se&&!!I.sheenColorMap,Ke=Se&&!!I.sheenRoughnessMap,yt=!!I.specularMap,At=!!I.specularColorMap,hn=!!I.specularIntensityMap,Z=at&&!!I.transmissionMap,Re=at&&!!I.thicknessMap,_e=!!I.gradientMap,be=!!I.alphaMap,De=I.alphaTest>0,ht=!!I.alphaHash,zt=!!I.extensions;let kn=Ma;I.toneMapped&&(Te===null||Te.isXRRenderTarget===!0)&&(kn=t.toneMapping);const pi={shaderID:B,shaderType:I.type,shaderName:I.name,vertexShader:Ne,fragmentShader:ie,defines:I.defines,customVertexShaderID:pe,customFragmentShaderID:Ee,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:fe,batchingColor:fe&&U._colorsTexture!==null,instancing:ue,instancingColor:ue&&U.instanceColor!==null,instancingMorph:ue&&U.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:Te===null?t.outputColorSpace:Te.isXRRenderTarget===!0?Te.texture.colorSpace:Hl,alphaToCoverage:!!I.alphaToCoverage,map:Ie,matcap:Ge,envMap:H,envMapMode:H&&j.mapping,envMapCubeUVHeight:D,aoMap:ve,lightMap:we,bumpMap:Oe,normalMap:me,displacementMap:h&&ot,emissiveMap:Fe,normalMapObjectSpace:me&&I.normalMapType===Aq,normalMapTangentSpace:me&&I.normalMapType===hu,metalnessMap:qe,roughnessMap:Y,anisotropy:F,anisotropyMap:Be,clearcoat:se,clearcoatMap:Xe,clearcoatNormalMap:_t,clearcoatRoughnessMap:Me,dispersion:xe,iridescence:ge,iridescenceMap:$e,iridescenceThicknessMap:Ft,sheen:Se,sheenColorMap:gt,sheenRoughnessMap:Ke,specularMap:yt,specularColorMap:At,specularIntensityMap:hn,transmission:at,transmissionMap:Z,thicknessMap:Re,gradientMap:_e,opaque:I.transparent===!1&&I.blending===xd&&I.alphaToCoverage===!1,alphaMap:be,alphaTest:De,alphaHash:ht,combine:I.combine,mapUv:Ie&&y(I.map.channel),aoMapUv:ve&&y(I.aoMap.channel),lightMapUv:we&&y(I.lightMap.channel),bumpMapUv:Oe&&y(I.bumpMap.channel),normalMapUv:me&&y(I.normalMap.channel),displacementMapUv:ot&&y(I.displacementMap.channel),emissiveMapUv:Fe&&y(I.emissiveMap.channel),metalnessMapUv:qe&&y(I.metalnessMap.channel),roughnessMapUv:Y&&y(I.roughnessMap.channel),anisotropyMapUv:Be&&y(I.anisotropyMap.channel),clearcoatMapUv:Xe&&y(I.clearcoatMap.channel),clearcoatNormalMapUv:_t&&y(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Me&&y(I.clearcoatRoughnessMap.channel),iridescenceMapUv:$e&&y(I.iridescenceMap.channel),iridescenceThicknessMapUv:Ft&&y(I.iridescenceThicknessMap.channel),sheenColorMapUv:gt&&y(I.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&y(I.sheenRoughnessMap.channel),specularMapUv:yt&&y(I.specularMap.channel),specularColorMapUv:At&&y(I.specularColorMap.channel),specularIntensityMapUv:hn&&y(I.specularIntensityMap.channel),transmissionMapUv:Z&&y(I.transmissionMap.channel),thicknessMapUv:Re&&y(I.thicknessMap.channel),alphaMapUv:be&&y(I.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(me||F),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:U.isPoints===!0&&!!W.attributes.uv&&(Ie||be),fog:!!X,useFog:I.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:U.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:ce,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:kn,decodeVideoTexture:Ie&&I.map.isVideoTexture===!0&&Jt.getTransfer(I.map.colorSpace)===yn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===No,flipSided:I.side===zr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:zt&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(zt&&I.extensions.multiDraw===!0||fe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return pi.vertexUv1s=c.has(1),pi.vertexUv2s=c.has(2),pi.vertexUv3s=c.has(3),c.clear(),pi}function v(I){const P=[];if(I.shaderID?P.push(I.shaderID):(P.push(I.customVertexShaderID),P.push(I.customFragmentShaderID)),I.defines!==void 0)for(const O in I.defines)P.push(O),P.push(I.defines[O]);return I.isRawShaderMaterial===!1&&(x(P,I),b(P,I),P.push(t.outputColorSpace)),P.push(I.customProgramCacheKey),P.join()}function x(I,P){I.push(P.precision),I.push(P.outputColorSpace),I.push(P.envMapMode),I.push(P.envMapCubeUVHeight),I.push(P.mapUv),I.push(P.alphaMapUv),I.push(P.lightMapUv),I.push(P.aoMapUv),I.push(P.bumpMapUv),I.push(P.normalMapUv),I.push(P.displacementMapUv),I.push(P.emissiveMapUv),I.push(P.metalnessMapUv),I.push(P.roughnessMapUv),I.push(P.anisotropyMapUv),I.push(P.clearcoatMapUv),I.push(P.clearcoatNormalMapUv),I.push(P.clearcoatRoughnessMapUv),I.push(P.iridescenceMapUv),I.push(P.iridescenceThicknessMapUv),I.push(P.sheenColorMapUv),I.push(P.sheenRoughnessMapUv),I.push(P.specularMapUv),I.push(P.specularColorMapUv),I.push(P.specularIntensityMapUv),I.push(P.transmissionMapUv),I.push(P.thicknessMapUv),I.push(P.combine),I.push(P.fogExp2),I.push(P.sizeAttenuation),I.push(P.morphTargetsCount),I.push(P.morphAttributeCount),I.push(P.numDirLights),I.push(P.numPointLights),I.push(P.numSpotLights),I.push(P.numSpotLightMaps),I.push(P.numHemiLights),I.push(P.numRectAreaLights),I.push(P.numDirLightShadows),I.push(P.numPointLightShadows),I.push(P.numSpotLightShadows),I.push(P.numSpotLightShadowsWithMaps),I.push(P.numLightProbes),I.push(P.shadowMapType),I.push(P.toneMapping),I.push(P.numClippingPlanes),I.push(P.numClipIntersection),I.push(P.depthPacking)}function b(I,P){a.disableAll(),P.supportsVertexTextures&&a.enable(0),P.instancing&&a.enable(1),P.instancingColor&&a.enable(2),P.instancingMorph&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),P.dispersion&&a.enable(20),P.batchingColor&&a.enable(21),I.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.doubleSided&&a.enable(10),P.flipSided&&a.enable(11),P.useDepthPacking&&a.enable(12),P.dithering&&a.enable(13),P.transmission&&a.enable(14),P.sheen&&a.enable(15),P.opaque&&a.enable(16),P.pointsUvs&&a.enable(17),P.decodeVideoTexture&&a.enable(18),P.alphaToCoverage&&a.enable(19),I.push(a.mask)}function E(I){const P=g[I.type];let O;if(P){const z=Ro[P];O=lN.clone(z.uniforms)}else O=I.uniforms;return O}function M(I,P){let O;for(let z=0,U=u.length;z<U;z++){const X=u[z];if(X.cacheKey===P){O=X,++O.usedTimes;break}}return O===void 0&&(O=new hMe(t,P,I,s),u.push(O)),O}function C(I){if(--I.usedTimes===0){const P=u.indexOf(I);u[P]=u[u.length-1],u.pop(),I.destroy()}}function R(I){l.remove(I)}function k(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:E,acquireProgram:M,releaseProgram:C,releaseShaderCache:R,programs:u,dispose:k}}function yMe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function r(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function xMe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function mB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function gB(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(d,h,m,g,y,_){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:h,material:m,groupOrder:g,renderOrder:d.renderOrder,z:y,group:_},t[e]=v):(v.id=d.id,v.object=d,v.geometry=h,v.material=m,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=y,v.group=_),e++,v}function a(d,h,m,g,y,_){const v=o(d,h,m,g,y,_);m.transmission>0?i.push(v):m.transparent===!0?r.push(v):n.push(v)}function l(d,h,m,g,y,_){const v=o(d,h,m,g,y,_);m.transmission>0?i.unshift(v):m.transparent===!0?r.unshift(v):n.unshift(v)}function c(d,h){n.length>1&&n.sort(d||xMe),i.length>1&&i.sort(h||mB),r.length>1&&r.sort(h||mB)}function u(){for(let d=e,h=t.length;d<h;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function _Me(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new gB,t.set(i,[o])):r>=s.length?(o=new gB,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function bMe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new He};break;case"SpotLight":n={position:new G,direction:new G,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new He,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new He,groundColor:new He};break;case"RectAreaLight":n={color:new He,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function SMe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let wMe=0;function EMe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function TMe(t){const e=new bMe,n=SMe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new G);const r=new G,s=new ut,o=new ut;function a(c){let u=0,d=0,h=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let m=0,g=0,y=0,_=0,v=0,x=0,b=0,E=0,M=0,C=0,R=0;c.sort(EMe);for(let I=0,P=c.length;I<P;I++){const O=c[I],z=O.color,U=O.intensity,X=O.distance,W=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=z.r*U,d+=z.g*U,h+=z.b*U;else if(O.isLightProbe){for(let K=0;K<9;K++)i.probe[K].addScaledVector(O.sh.coefficients[K],U);R++}else if(O.isDirectionalLight){const K=e.get(O);if(K.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const j=O.shadow,D=n.get(O);D.shadowIntensity=j.intensity,D.shadowBias=j.bias,D.shadowNormalBias=j.normalBias,D.shadowRadius=j.radius,D.shadowMapSize=j.mapSize,i.directionalShadow[m]=D,i.directionalShadowMap[m]=W,i.directionalShadowMatrix[m]=O.shadow.matrix,x++}i.directional[m]=K,m++}else if(O.isSpotLight){const K=e.get(O);K.position.setFromMatrixPosition(O.matrixWorld),K.color.copy(z).multiplyScalar(U),K.distance=X,K.coneCos=Math.cos(O.angle),K.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),K.decay=O.decay,i.spot[y]=K;const j=O.shadow;if(O.map&&(i.spotLightMap[M]=O.map,M++,j.updateMatrices(O),O.castShadow&&C++),i.spotLightMatrix[y]=j.matrix,O.castShadow){const D=n.get(O);D.shadowIntensity=j.intensity,D.shadowBias=j.bias,D.shadowNormalBias=j.normalBias,D.shadowRadius=j.radius,D.shadowMapSize=j.mapSize,i.spotShadow[y]=D,i.spotShadowMap[y]=W,E++}y++}else if(O.isRectAreaLight){const K=e.get(O);K.color.copy(z).multiplyScalar(U),K.halfWidth.set(O.width*.5,0,0),K.halfHeight.set(0,O.height*.5,0),i.rectArea[_]=K,_++}else if(O.isPointLight){const K=e.get(O);if(K.color.copy(O.color).multiplyScalar(O.intensity),K.distance=O.distance,K.decay=O.decay,O.castShadow){const j=O.shadow,D=n.get(O);D.shadowIntensity=j.intensity,D.shadowBias=j.bias,D.shadowNormalBias=j.normalBias,D.shadowRadius=j.radius,D.shadowMapSize=j.mapSize,D.shadowCameraNear=j.camera.near,D.shadowCameraFar=j.camera.far,i.pointShadow[g]=D,i.pointShadowMap[g]=W,i.pointShadowMatrix[g]=O.shadow.matrix,b++}i.point[g]=K,g++}else if(O.isHemisphereLight){const K=e.get(O);K.skyColor.copy(O.color).multiplyScalar(U),K.groundColor.copy(O.groundColor).multiplyScalar(U),i.hemi[v]=K,v++}}_>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_FLOAT_1,i.rectAreaLTC2=Ue.LTC_FLOAT_2):(i.rectAreaLTC1=Ue.LTC_HALF_1,i.rectAreaLTC2=Ue.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=h;const k=i.hash;(k.directionalLength!==m||k.pointLength!==g||k.spotLength!==y||k.rectAreaLength!==_||k.hemiLength!==v||k.numDirectionalShadows!==x||k.numPointShadows!==b||k.numSpotShadows!==E||k.numSpotMaps!==M||k.numLightProbes!==R)&&(i.directional.length=m,i.spot.length=y,i.rectArea.length=_,i.point.length=g,i.hemi.length=v,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=E+M-C,i.spotLightMap.length=M,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=R,k.directionalLength=m,k.pointLength=g,k.spotLength=y,k.rectAreaLength=_,k.hemiLength=v,k.numDirectionalShadows=x,k.numPointShadows=b,k.numSpotShadows=E,k.numSpotMaps=M,k.numLightProbes=R,i.version=wMe++)}function l(c,u){let d=0,h=0,m=0,g=0,y=0;const _=u.matrixWorldInverse;for(let v=0,x=c.length;v<x;v++){const b=c[v];if(b.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),E.direction.sub(r),E.direction.transformDirection(_),d++}else if(b.isSpotLight){const E=i.spot[m];E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(_),E.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),E.direction.sub(r),E.direction.transformDirection(_),m++}else if(b.isRectAreaLight){const E=i.rectArea[g];E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(_),o.identity(),s.copy(b.matrixWorld),s.premultiply(_),o.extractRotation(s),E.halfWidth.set(b.width*.5,0,0),E.halfHeight.set(0,b.height*.5,0),E.halfWidth.applyMatrix4(o),E.halfHeight.applyMatrix4(o),g++}else if(b.isPointLight){const E=i.point[h];E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(_),h++}else if(b.isHemisphereLight){const E=i.hemi[y];E.direction.setFromMatrixPosition(b.matrixWorld),E.direction.transformDirection(_),y++}}}return{setup:a,setupView:l,state:i}}function vB(t){const e=new TMe(t),n=[],i=[];function r(u){c.camera=u,n.length=0,i.length=0}function s(u){n.push(u)}function o(u){i.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function CMe(t){let e=new WeakMap;function n(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new vB(t),e.set(r,[a])):s>=o.length?(a=new vB(t),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:n,dispose:i}}class dN extends Er{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Mq,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fN extends Er{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const MMe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,PMe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function AMe(t,e,n){let i=new Xy;const r=new ye,s=new ye,o=new jt,a=new dN({depthPacking:Pq}),l=new fN,c={},u=n.maxTextureSize,d={[Nl]:zr,[zr]:Nl,[No]:No},h=new fo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:MMe,fragmentShader:PMe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new Rt;g.setAttribute("position",new an(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new ui(g,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Pw;let v=this.type;this.render=function(C,R,k){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||C.length===0)return;const I=t.getRenderTarget(),P=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),z=t.state;z.setBlending(Sl),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const U=v!==Co&&this.type===Co,X=v===Co&&this.type!==Co;for(let W=0,K=C.length;W<K;W++){const j=C[W],D=j.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const B=D.getFrameExtents();if(r.multiply(B),s.copy(D.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/B.x),r.x=s.x*B.x,D.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/B.y),r.y=s.y*B.y,D.mapSize.y=s.y)),D.map===null||U===!0||X===!0){const J=this.type!==Co?{minFilter:Bi,magFilter:Bi}:{};D.map!==null&&D.map.dispose(),D.map=new Ho(r.x,r.y,J),D.map.texture.name=j.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const $=D.getViewportCount();for(let J=0;J<$;J++){const ce=D.getViewport(J);o.set(s.x*ce.x,s.y*ce.y,s.x*ce.z,s.y*ce.w),z.viewport(o),D.updateMatrices(j,J),i=D.getFrustum(),E(R,k,D.camera,j,this.type)}D.isPointLightShadow!==!0&&this.type===Co&&x(D,k),D.needsUpdate=!1}v=this.type,_.needsUpdate=!1,t.setRenderTarget(I,P,O)};function x(C,R){const k=e.update(y);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ho(r.x,r.y)),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(R,null,k,h,y,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(R,null,k,m,y,null)}function b(C,R,k,I){let P=null;const O=k.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(O!==void 0)P=O;else if(P=k.isPointLight===!0?l:a,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const z=P.uuid,U=R.uuid;let X=c[z];X===void 0&&(X={},c[z]=X);let W=X[U];W===void 0&&(W=P.clone(),X[U]=W,R.addEventListener("dispose",M)),P=W}if(P.visible=R.visible,P.wireframe=R.wireframe,I===Co?P.side=R.shadowSide!==null?R.shadowSide:R.side:P.side=R.shadowSide!==null?R.shadowSide:d[R.side],P.alphaMap=R.alphaMap,P.alphaTest=R.alphaTest,P.map=R.map,P.clipShadows=R.clipShadows,P.clippingPlanes=R.clippingPlanes,P.clipIntersection=R.clipIntersection,P.displacementMap=R.displacementMap,P.displacementScale=R.displacementScale,P.displacementBias=R.displacementBias,P.wireframeLinewidth=R.wireframeLinewidth,P.linewidth=R.linewidth,k.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const z=t.properties.get(P);z.light=k}return P}function E(C,R,k,I,P){if(C.visible===!1)return;if(C.layers.test(R.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&P===Co)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,C.matrixWorld);const U=e.update(C),X=C.material;if(Array.isArray(X)){const W=U.groups;for(let K=0,j=W.length;K<j;K++){const D=W[K],B=X[D.materialIndex];if(B&&B.visible){const $=b(C,B,I,P);C.onBeforeShadow(t,C,R,k,U,$,D),t.renderBufferDirect(k,null,U,$,C,D),C.onAfterShadow(t,C,R,k,U,$,D)}}}else if(X.visible){const W=b(C,X,I,P);C.onBeforeShadow(t,C,R,k,U,W,null),t.renderBufferDirect(k,null,U,W,C,null),C.onAfterShadow(t,C,R,k,U,W,null)}}const z=C.children;for(let U=0,X=z.length;U<X;U++)E(z[U],R,k,I,P)}function M(C){C.target.removeEventListener("dispose",M);for(const k in c){const I=c[k],P=C.target.uuid;P in I&&(I[P].dispose(),delete I[P])}}}function IMe(t){function e(){let Z=!1;const Re=new jt;let _e=null;const be=new jt(0,0,0,0);return{setMask:function(De){_e!==De&&!Z&&(t.colorMask(De,De,De,De),_e=De)},setLocked:function(De){Z=De},setClear:function(De,ht,zt,kn,pi){pi===!0&&(De*=kn,ht*=kn,zt*=kn),Re.set(De,ht,zt,kn),be.equals(Re)===!1&&(t.clearColor(De,ht,zt,kn),be.copy(Re))},reset:function(){Z=!1,_e=null,be.set(-1,0,0,0)}}}function n(){let Z=!1,Re=null,_e=null,be=null;return{setTest:function(De){De?Ee(t.DEPTH_TEST):Te(t.DEPTH_TEST)},setMask:function(De){Re!==De&&!Z&&(t.depthMask(De),Re=De)},setFunc:function(De){if(_e!==De){switch(De){case lq:t.depthFunc(t.NEVER);break;case cq:t.depthFunc(t.ALWAYS);break;case uq:t.depthFunc(t.LESS);break;case $v:t.depthFunc(t.LEQUAL);break;case dq:t.depthFunc(t.EQUAL);break;case fq:t.depthFunc(t.GEQUAL);break;case hq:t.depthFunc(t.GREATER);break;case pq:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}_e=De}},setLocked:function(De){Z=De},setClear:function(De){be!==De&&(t.clearDepth(De),be=De)},reset:function(){Z=!1,Re=null,_e=null,be=null}}}function i(){let Z=!1,Re=null,_e=null,be=null,De=null,ht=null,zt=null,kn=null,pi=null;return{setTest:function(Ht){Z||(Ht?Ee(t.STENCIL_TEST):Te(t.STENCIL_TEST))},setMask:function(Ht){Re!==Ht&&!Z&&(t.stencilMask(Ht),Re=Ht)},setFunc:function(Ht,zs,ds){(_e!==Ht||be!==zs||De!==ds)&&(t.stencilFunc(Ht,zs,ds),_e=Ht,be=zs,De=ds)},setOp:function(Ht,zs,ds){(ht!==Ht||zt!==zs||kn!==ds)&&(t.stencilOp(Ht,zs,ds),ht=Ht,zt=zs,kn=ds)},setLocked:function(Ht){Z=Ht},setClear:function(Ht){pi!==Ht&&(t.clearStencil(Ht),pi=Ht)},reset:function(){Z=!1,Re=null,_e=null,be=null,De=null,ht=null,zt=null,kn=null,pi=null}}}const r=new e,s=new n,o=new i,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,h=[],m=null,g=!1,y=null,_=null,v=null,x=null,b=null,E=null,M=null,C=new He(0,0,0),R=0,k=!1,I=null,P=null,O=null,z=null,U=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,K=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(j)[1]),W=K>=1):j.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),W=K>=2);let D=null,B={};const $=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),ce=new jt().fromArray($),Ne=new jt().fromArray(J);function ie(Z,Re,_e,be){const De=new Uint8Array(4),ht=t.createTexture();t.bindTexture(Z,ht),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let zt=0;zt<_e;zt++)Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY?t.texImage3D(Re,0,t.RGBA,1,1,be,0,t.RGBA,t.UNSIGNED_BYTE,De):t.texImage2D(Re+zt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,De);return ht}const pe={};pe[t.TEXTURE_2D]=ie(t.TEXTURE_2D,t.TEXTURE_2D,1),pe[t.TEXTURE_CUBE_MAP]=ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[t.TEXTURE_2D_ARRAY]=ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),pe[t.TEXTURE_3D]=ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Ee(t.DEPTH_TEST),s.setFunc($v),Oe(!1),me(YA),Ee(t.CULL_FACE),ve(Sl);function Ee(Z){c[Z]!==!0&&(t.enable(Z),c[Z]=!0)}function Te(Z){c[Z]!==!1&&(t.disable(Z),c[Z]=!1)}function ue(Z,Re){return u[Z]!==Re?(t.bindFramebuffer(Z,Re),u[Z]=Re,Z===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Re),Z===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Re),!0):!1}function fe(Z,Re){let _e=h,be=!1;if(Z){_e=d.get(Re),_e===void 0&&(_e=[],d.set(Re,_e));const De=Z.textures;if(_e.length!==De.length||_e[0]!==t.COLOR_ATTACHMENT0){for(let ht=0,zt=De.length;ht<zt;ht++)_e[ht]=t.COLOR_ATTACHMENT0+ht;_e.length=De.length,be=!0}}else _e[0]!==t.BACK&&(_e[0]=t.BACK,be=!0);be&&t.drawBuffers(_e)}function Ie(Z){return m!==Z?(t.useProgram(Z),m=Z,!0):!1}const Ge={[Mc]:t.FUNC_ADD,[G9]:t.FUNC_SUBTRACT,[$9]:t.FUNC_REVERSE_SUBTRACT};Ge[q9]=t.MIN,Ge[X9]=t.MAX;const H={[Y9]:t.ZERO,[K9]:t.ONE,[J9]:t.SRC_COLOR,[Bb]:t.SRC_ALPHA,[iq]:t.SRC_ALPHA_SATURATE,[tq]:t.DST_COLOR,[Z9]:t.DST_ALPHA,[Q9]:t.ONE_MINUS_SRC_COLOR,[Ub]:t.ONE_MINUS_SRC_ALPHA,[nq]:t.ONE_MINUS_DST_COLOR,[eq]:t.ONE_MINUS_DST_ALPHA,[rq]:t.CONSTANT_COLOR,[sq]:t.ONE_MINUS_CONSTANT_COLOR,[oq]:t.CONSTANT_ALPHA,[aq]:t.ONE_MINUS_CONSTANT_ALPHA};function ve(Z,Re,_e,be,De,ht,zt,kn,pi,Ht){if(Z===Sl){g===!0&&(Te(t.BLEND),g=!1);return}if(g===!1&&(Ee(t.BLEND),g=!0),Z!==W9){if(Z!==y||Ht!==k){if((_!==Mc||b!==Mc)&&(t.blendEquation(t.FUNC_ADD),_=Mc,b=Mc),Ht)switch(Z){case xd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case KA:t.blendFunc(t.ONE,t.ONE);break;case JA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case QA:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case xd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case KA:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case JA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case QA:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}v=null,x=null,E=null,M=null,C.set(0,0,0),R=0,y=Z,k=Ht}return}De=De||Re,ht=ht||_e,zt=zt||be,(Re!==_||De!==b)&&(t.blendEquationSeparate(Ge[Re],Ge[De]),_=Re,b=De),(_e!==v||be!==x||ht!==E||zt!==M)&&(t.blendFuncSeparate(H[_e],H[be],H[ht],H[zt]),v=_e,x=be,E=ht,M=zt),(kn.equals(C)===!1||pi!==R)&&(t.blendColor(kn.r,kn.g,kn.b,pi),C.copy(kn),R=pi),y=Z,k=!1}function we(Z,Re){Z.side===No?Te(t.CULL_FACE):Ee(t.CULL_FACE);let _e=Z.side===zr;Re&&(_e=!_e),Oe(_e),Z.blending===xd&&Z.transparent===!1?ve(Sl):ve(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),s.setFunc(Z.depthFunc),s.setTest(Z.depthTest),s.setMask(Z.depthWrite),r.setMask(Z.colorWrite);const be=Z.stencilWrite;o.setTest(be),be&&(o.setMask(Z.stencilWriteMask),o.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),o.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Fe(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?Ee(t.SAMPLE_ALPHA_TO_COVERAGE):Te(t.SAMPLE_ALPHA_TO_COVERAGE)}function Oe(Z){I!==Z&&(Z?t.frontFace(t.CW):t.frontFace(t.CCW),I=Z)}function me(Z){Z!==V9?(Ee(t.CULL_FACE),Z!==P&&(Z===YA?t.cullFace(t.BACK):Z===j9?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Te(t.CULL_FACE),P=Z}function ot(Z){Z!==O&&(W&&t.lineWidth(Z),O=Z)}function Fe(Z,Re,_e){Z?(Ee(t.POLYGON_OFFSET_FILL),(z!==Re||U!==_e)&&(t.polygonOffset(Re,_e),z=Re,U=_e)):Te(t.POLYGON_OFFSET_FILL)}function qe(Z){Z?Ee(t.SCISSOR_TEST):Te(t.SCISSOR_TEST)}function Y(Z){Z===void 0&&(Z=t.TEXTURE0+X-1),D!==Z&&(t.activeTexture(Z),D=Z)}function F(Z,Re,_e){_e===void 0&&(D===null?_e=t.TEXTURE0+X-1:_e=D);let be=B[_e];be===void 0&&(be={type:void 0,texture:void 0},B[_e]=be),(be.type!==Z||be.texture!==Re)&&(D!==_e&&(t.activeTexture(_e),D=_e),t.bindTexture(Z,Re||pe[Z]),be.type=Z,be.texture=Re)}function se(){const Z=B[D];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function xe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ge(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Se(){try{t.texSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function at(){try{t.texSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Be(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Xe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function _t(){try{t.texStorage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Me(){try{t.texStorage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function $e(){try{t.texImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ft(){try{t.texImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function gt(Z){ce.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),ce.copy(Z))}function Ke(Z){Ne.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),Ne.copy(Z))}function yt(Z,Re){let _e=l.get(Re);_e===void 0&&(_e=new WeakMap,l.set(Re,_e));let be=_e.get(Z);be===void 0&&(be=t.getUniformBlockIndex(Re,Z.name),_e.set(Z,be))}function At(Z,Re){const be=l.get(Re).get(Z);a.get(Re)!==be&&(t.uniformBlockBinding(Re,be,Z.__bindingPointIndex),a.set(Re,be))}function hn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},D=null,B={},u={},d=new WeakMap,h=[],m=null,g=!1,y=null,_=null,v=null,x=null,b=null,E=null,M=null,C=new He(0,0,0),R=0,k=!1,I=null,P=null,O=null,z=null,U=null,ce.set(0,0,t.canvas.width,t.canvas.height),Ne.set(0,0,t.canvas.width,t.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Ee,disable:Te,bindFramebuffer:ue,drawBuffers:fe,useProgram:Ie,setBlending:ve,setMaterial:we,setFlipSided:Oe,setCullFace:me,setLineWidth:ot,setPolygonOffset:Fe,setScissorTest:qe,activeTexture:Y,bindTexture:F,unbindTexture:se,compressedTexImage2D:xe,compressedTexImage3D:ge,texImage2D:$e,texImage3D:Ft,updateUBOMapping:yt,uniformBlockBinding:At,texStorage2D:_t,texStorage3D:Me,texSubImage2D:Se,texSubImage3D:at,compressedTexSubImage2D:Be,compressedTexSubImage3D:Xe,scissor:gt,viewport:Ke,reset:hn}}function RMe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function kMe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function NMe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function rI(t,e,n,i){const r=LMe(i);switch(n){case Kk:return t*e;case Qk:return t*e;case Zk:return t*e*2;case Nw:return t*e/r.components*r.byteLength;case Wy:return t*e/r.components*r.byteLength;case eN:return t*e*2/r.components*r.byteLength;case Lw:return t*e*2/r.components*r.byteLength;case Jk:return t*e*3/r.components*r.byteLength;case xr:return t*e*4/r.components*r.byteLength;case Dw:return t*e*4/r.components*r.byteLength;case Yg:case Kg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Jg:case Qg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case jb:case Wb:return Math.max(t,16)*Math.max(e,8)/4;case Vb:case Hb:return Math.max(t,8)*Math.max(e,8)/2;case Gb:case $b:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case qb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Xb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Yb:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Kb:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Jb:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Qb:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Zb:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case eS:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case tS:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case nS:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case iS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case rS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case sS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case oS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case aS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Zg:case lS:case cS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case tN:case uS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case dS:case fS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function LMe(t){switch(t){case jo:case qk:return{byteLength:1,components:1};case vp:case Xk:case jp:return{byteLength:2,components:1};case Rw:case kw:return{byteLength:2,components:4};case Dl:case Iw:case ns:return{byteLength:4,components:1};case Yk:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const DMe={contain:RMe,cover:kMe,fill:NMe,getByteLength:rI};function OMe(t,e,n,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ye,u=new WeakMap;let d;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(Y,F){return m?new OffscreenCanvas(Y,F):ry("canvas")}function y(Y,F,se){let xe=1;const ge=qe(Y);if((ge.width>se||ge.height>se)&&(xe=se/Math.max(ge.width,ge.height)),xe<1)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap||typeof VideoFrame<"u"&&Y instanceof VideoFrame){const Se=Math.floor(xe*ge.width),at=Math.floor(xe*ge.height);d===void 0&&(d=g(Se,at));const Be=F?g(Se,at):d;return Be.width=Se,Be.height=at,Be.getContext("2d").drawImage(Y,0,0,Se,at),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ge.width+"x"+ge.height+") to ("+Se+"x"+at+")."),Be}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ge.width+"x"+ge.height+")."),Y;return Y}function _(Y){return Y.generateMipmaps&&Y.minFilter!==Bi&&Y.minFilter!==ci}function v(Y){t.generateMipmap(Y)}function x(Y,F,se,xe,ge=!1){if(Y!==null){if(t[Y]!==void 0)return t[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let Se=F;if(F===t.RED&&(se===t.FLOAT&&(Se=t.R32F),se===t.HALF_FLOAT&&(Se=t.R16F),se===t.UNSIGNED_BYTE&&(Se=t.R8)),F===t.RED_INTEGER&&(se===t.UNSIGNED_BYTE&&(Se=t.R8UI),se===t.UNSIGNED_SHORT&&(Se=t.R16UI),se===t.UNSIGNED_INT&&(Se=t.R32UI),se===t.BYTE&&(Se=t.R8I),se===t.SHORT&&(Se=t.R16I),se===t.INT&&(Se=t.R32I)),F===t.RG&&(se===t.FLOAT&&(Se=t.RG32F),se===t.HALF_FLOAT&&(Se=t.RG16F),se===t.UNSIGNED_BYTE&&(Se=t.RG8)),F===t.RG_INTEGER&&(se===t.UNSIGNED_BYTE&&(Se=t.RG8UI),se===t.UNSIGNED_SHORT&&(Se=t.RG16UI),se===t.UNSIGNED_INT&&(Se=t.RG32UI),se===t.BYTE&&(Se=t.RG8I),se===t.SHORT&&(Se=t.RG16I),se===t.INT&&(Se=t.RG32I)),F===t.RGB&&se===t.UNSIGNED_INT_5_9_9_9_REV&&(Se=t.RGB9_E5),F===t.RGBA){const at=ge?Zv:Jt.getTransfer(xe);se===t.FLOAT&&(Se=t.RGBA32F),se===t.HALF_FLOAT&&(Se=t.RGBA16F),se===t.UNSIGNED_BYTE&&(Se=at===yn?t.SRGB8_ALPHA8:t.RGBA8),se===t.UNSIGNED_SHORT_4_4_4_4&&(Se=t.RGBA4),se===t.UNSIGNED_SHORT_5_5_5_1&&(Se=t.RGB5_A1)}return(Se===t.R16F||Se===t.R32F||Se===t.RG16F||Se===t.RG32F||Se===t.RGBA16F||Se===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Se}function b(Y,F){let se;return Y?F===null||F===Dl||F===Bd?se=t.DEPTH24_STENCIL8:F===ns?se=t.DEPTH32F_STENCIL8:F===vp&&(se=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===Dl||F===Bd?se=t.DEPTH_COMPONENT24:F===ns?se=t.DEPTH_COMPONENT32F:F===vp&&(se=t.DEPTH_COMPONENT16),se}function E(Y,F){return _(Y)===!0||Y.isFramebufferTexture&&Y.minFilter!==Bi&&Y.minFilter!==ci?Math.log2(Math.max(F.width,F.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?F.mipmaps.length:1}function M(Y){const F=Y.target;F.removeEventListener("dispose",M),R(F),F.isVideoTexture&&u.delete(F)}function C(Y){const F=Y.target;F.removeEventListener("dispose",C),I(F)}function R(Y){const F=i.get(Y);if(F.__webglInit===void 0)return;const se=Y.source,xe=h.get(se);if(xe){const ge=xe[F.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&k(Y),Object.keys(xe).length===0&&h.delete(se)}i.remove(Y)}function k(Y){const F=i.get(Y);t.deleteTexture(F.__webglTexture);const se=Y.source,xe=h.get(se);delete xe[F.__cacheKey],o.memory.textures--}function I(Y){const F=i.get(Y);if(Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(F.__webglFramebuffer[xe]))for(let ge=0;ge<F.__webglFramebuffer[xe].length;ge++)t.deleteFramebuffer(F.__webglFramebuffer[xe][ge]);else t.deleteFramebuffer(F.__webglFramebuffer[xe]);F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer[xe])}else{if(Array.isArray(F.__webglFramebuffer))for(let xe=0;xe<F.__webglFramebuffer.length;xe++)t.deleteFramebuffer(F.__webglFramebuffer[xe]);else t.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&t.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let xe=0;xe<F.__webglColorRenderbuffer.length;xe++)F.__webglColorRenderbuffer[xe]&&t.deleteRenderbuffer(F.__webglColorRenderbuffer[xe]);F.__webglDepthRenderbuffer&&t.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const se=Y.textures;for(let xe=0,ge=se.length;xe<ge;xe++){const Se=i.get(se[xe]);Se.__webglTexture&&(t.deleteTexture(Se.__webglTexture),o.memory.textures--),i.remove(se[xe])}i.remove(Y)}let P=0;function O(){P=0}function z(){const Y=P;return Y>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+r.maxTextures),P+=1,Y}function U(Y){const F=[];return F.push(Y.wrapS),F.push(Y.wrapT),F.push(Y.wrapR||0),F.push(Y.magFilter),F.push(Y.minFilter),F.push(Y.anisotropy),F.push(Y.internalFormat),F.push(Y.format),F.push(Y.type),F.push(Y.generateMipmaps),F.push(Y.premultiplyAlpha),F.push(Y.flipY),F.push(Y.unpackAlignment),F.push(Y.colorSpace),F.join()}function X(Y,F){const se=i.get(Y);if(Y.isVideoTexture&&ot(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&se.__version!==Y.version){const xe=Y.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ne(se,Y,F);return}}n.bindTexture(t.TEXTURE_2D,se.__webglTexture,t.TEXTURE0+F)}function W(Y,F){const se=i.get(Y);if(Y.version>0&&se.__version!==Y.version){Ne(se,Y,F);return}n.bindTexture(t.TEXTURE_2D_ARRAY,se.__webglTexture,t.TEXTURE0+F)}function K(Y,F){const se=i.get(Y);if(Y.version>0&&se.__version!==Y.version){Ne(se,Y,F);return}n.bindTexture(t.TEXTURE_3D,se.__webglTexture,t.TEXTURE0+F)}function j(Y,F){const se=i.get(Y);if(Y.version>0&&se.__version!==Y.version){ie(se,Y,F);return}n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture,t.TEXTURE0+F)}const D={[Yv]:t.REPEAT,[so]:t.CLAMP_TO_EDGE,[Kv]:t.MIRRORED_REPEAT},B={[Bi]:t.NEAREST,[$k]:t.NEAREST_MIPMAP_NEAREST,[Ch]:t.NEAREST_MIPMAP_LINEAR,[ci]:t.LINEAR,[Xg]:t.LINEAR_MIPMAP_NEAREST,[ga]:t.LINEAR_MIPMAP_LINEAR},$={[Iq]:t.NEVER,[Oq]:t.ALWAYS,[Rq]:t.LESS,[iN]:t.LEQUAL,[kq]:t.EQUAL,[Dq]:t.GEQUAL,[Nq]:t.GREATER,[Lq]:t.NOTEQUAL};function J(Y,F){if(F.type===ns&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===ci||F.magFilter===Xg||F.magFilter===Ch||F.magFilter===ga||F.minFilter===ci||F.minFilter===Xg||F.minFilter===Ch||F.minFilter===ga)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Y,t.TEXTURE_WRAP_S,D[F.wrapS]),t.texParameteri(Y,t.TEXTURE_WRAP_T,D[F.wrapT]),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,D[F.wrapR]),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,B[F.magFilter]),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,B[F.minFilter]),F.compareFunction&&(t.texParameteri(Y,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Y,t.TEXTURE_COMPARE_FUNC,$[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Bi||F.minFilter!==Ch&&F.minFilter!==ga||F.type===ns&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Y,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function ce(Y,F){let se=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,F.addEventListener("dispose",M));const xe=F.source;let ge=h.get(xe);ge===void 0&&(ge={},h.set(xe,ge));const Se=U(F);if(Se!==Y.__cacheKey){ge[Se]===void 0&&(ge[Se]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,se=!0),ge[Se].usedTimes++;const at=ge[Y.__cacheKey];at!==void 0&&(ge[Y.__cacheKey].usedTimes--,at.usedTimes===0&&k(F)),Y.__cacheKey=Se,Y.__webglTexture=ge[Se].texture}return se}function Ne(Y,F,se){let xe=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(xe=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(xe=t.TEXTURE_3D);const ge=ce(Y,F),Se=F.source;n.bindTexture(xe,Y.__webglTexture,t.TEXTURE0+se);const at=i.get(Se);if(Se.version!==at.__version||ge===!0){n.activeTexture(t.TEXTURE0+se);const Be=Jt.getPrimaries(Jt.workingColorSpace),Xe=F.colorSpace===sl?null:Jt.getPrimaries(F.colorSpace),_t=F.colorSpace===sl||Be===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);let Me=y(F.image,!1,r.maxTextureSize);Me=Fe(F,Me);const $e=s.convert(F.format,F.colorSpace),Ft=s.convert(F.type);let gt=x(F.internalFormat,$e,Ft,F.colorSpace,F.isVideoTexture);J(xe,F);let Ke;const yt=F.mipmaps,At=F.isVideoTexture!==!0,hn=at.__version===void 0||ge===!0,Z=Se.dataReady,Re=E(F,Me);if(F.isDepthTexture)gt=b(F.format===Ud,F.type),hn&&(At?n.texStorage2D(t.TEXTURE_2D,1,gt,Me.width,Me.height):n.texImage2D(t.TEXTURE_2D,0,gt,Me.width,Me.height,0,$e,Ft,null));else if(F.isDataTexture)if(yt.length>0){At&&hn&&n.texStorage2D(t.TEXTURE_2D,Re,gt,yt[0].width,yt[0].height);for(let _e=0,be=yt.length;_e<be;_e++)Ke=yt[_e],At?Z&&n.texSubImage2D(t.TEXTURE_2D,_e,0,0,Ke.width,Ke.height,$e,Ft,Ke.data):n.texImage2D(t.TEXTURE_2D,_e,gt,Ke.width,Ke.height,0,$e,Ft,Ke.data);F.generateMipmaps=!1}else At?(hn&&n.texStorage2D(t.TEXTURE_2D,Re,gt,Me.width,Me.height),Z&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Me.width,Me.height,$e,Ft,Me.data)):n.texImage2D(t.TEXTURE_2D,0,gt,Me.width,Me.height,0,$e,Ft,Me.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){At&&hn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,gt,yt[0].width,yt[0].height,Me.depth);for(let _e=0,be=yt.length;_e<be;_e++)if(Ke=yt[_e],F.format!==xr)if($e!==null)if(At){if(Z)if(F.layerUpdates.size>0){const De=rI(Ke.width,Ke.height,F.format,F.type);for(const ht of F.layerUpdates){const zt=Ke.data.subarray(ht*De/Ke.data.BYTES_PER_ELEMENT,(ht+1)*De/Ke.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,ht,Ke.width,Ke.height,1,$e,zt,0,0)}F.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,Ke.width,Ke.height,Me.depth,$e,Ke.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,_e,gt,Ke.width,Ke.height,Me.depth,0,Ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else At?Z&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,Ke.width,Ke.height,Me.depth,$e,Ft,Ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,_e,gt,Ke.width,Ke.height,Me.depth,0,$e,Ft,Ke.data)}else{At&&hn&&n.texStorage2D(t.TEXTURE_2D,Re,gt,yt[0].width,yt[0].height);for(let _e=0,be=yt.length;_e<be;_e++)Ke=yt[_e],F.format!==xr?$e!==null?At?Z&&n.compressedTexSubImage2D(t.TEXTURE_2D,_e,0,0,Ke.width,Ke.height,$e,Ke.data):n.compressedTexImage2D(t.TEXTURE_2D,_e,gt,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):At?Z&&n.texSubImage2D(t.TEXTURE_2D,_e,0,0,Ke.width,Ke.height,$e,Ft,Ke.data):n.texImage2D(t.TEXTURE_2D,_e,gt,Ke.width,Ke.height,0,$e,Ft,Ke.data)}else if(F.isDataArrayTexture)if(At){if(hn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,gt,Me.width,Me.height,Me.depth),Z)if(F.layerUpdates.size>0){const _e=rI(Me.width,Me.height,F.format,F.type);for(const be of F.layerUpdates){const De=Me.data.subarray(be*_e/Me.data.BYTES_PER_ELEMENT,(be+1)*_e/Me.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,be,Me.width,Me.height,1,$e,Ft,De)}F.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,$e,Ft,Me.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,gt,Me.width,Me.height,Me.depth,0,$e,Ft,Me.data);else if(F.isData3DTexture)At?(hn&&n.texStorage3D(t.TEXTURE_3D,Re,gt,Me.width,Me.height,Me.depth),Z&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,$e,Ft,Me.data)):n.texImage3D(t.TEXTURE_3D,0,gt,Me.width,Me.height,Me.depth,0,$e,Ft,Me.data);else if(F.isFramebufferTexture){if(hn)if(At)n.texStorage2D(t.TEXTURE_2D,Re,gt,Me.width,Me.height);else{let _e=Me.width,be=Me.height;for(let De=0;De<Re;De++)n.texImage2D(t.TEXTURE_2D,De,gt,_e,be,0,$e,Ft,null),_e>>=1,be>>=1}}else if(yt.length>0){if(At&&hn){const _e=qe(yt[0]);n.texStorage2D(t.TEXTURE_2D,Re,gt,_e.width,_e.height)}for(let _e=0,be=yt.length;_e<be;_e++)Ke=yt[_e],At?Z&&n.texSubImage2D(t.TEXTURE_2D,_e,0,0,$e,Ft,Ke):n.texImage2D(t.TEXTURE_2D,_e,gt,$e,Ft,Ke);F.generateMipmaps=!1}else if(At){if(hn){const _e=qe(Me);n.texStorage2D(t.TEXTURE_2D,Re,gt,_e.width,_e.height)}Z&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e,Ft,Me)}else n.texImage2D(t.TEXTURE_2D,0,gt,$e,Ft,Me);_(F)&&v(xe),at.__version=Se.version,F.onUpdate&&F.onUpdate(F)}Y.__version=F.version}function ie(Y,F,se){if(F.image.length!==6)return;const xe=ce(Y,F),ge=F.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture,t.TEXTURE0+se);const Se=i.get(ge);if(ge.version!==Se.__version||xe===!0){n.activeTexture(t.TEXTURE0+se);const at=Jt.getPrimaries(Jt.workingColorSpace),Be=F.colorSpace===sl?null:Jt.getPrimaries(F.colorSpace),Xe=F.colorSpace===sl||at===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const _t=F.isCompressedTexture||F.image[0].isCompressedTexture,Me=F.image[0]&&F.image[0].isDataTexture,$e=[];for(let be=0;be<6;be++)!_t&&!Me?$e[be]=y(F.image[be],!0,r.maxCubemapSize):$e[be]=Me?F.image[be].image:F.image[be],$e[be]=Fe(F,$e[be]);const Ft=$e[0],gt=s.convert(F.format,F.colorSpace),Ke=s.convert(F.type),yt=x(F.internalFormat,gt,Ke,F.colorSpace),At=F.isVideoTexture!==!0,hn=Se.__version===void 0||xe===!0,Z=ge.dataReady;let Re=E(F,Ft);J(t.TEXTURE_CUBE_MAP,F);let _e;if(_t){At&&hn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Re,yt,Ft.width,Ft.height);for(let be=0;be<6;be++){_e=$e[be].mipmaps;for(let De=0;De<_e.length;De++){const ht=_e[De];F.format!==xr?gt!==null?At?Z&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De,0,0,ht.width,ht.height,gt,ht.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De,yt,ht.width,ht.height,0,ht.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):At?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De,0,0,ht.width,ht.height,gt,Ke,ht.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De,yt,ht.width,ht.height,0,gt,Ke,ht.data)}}}else{if(_e=F.mipmaps,At&&hn){_e.length>0&&Re++;const be=qe($e[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Re,yt,be.width,be.height)}for(let be=0;be<6;be++)if(Me){At?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,$e[be].width,$e[be].height,gt,Ke,$e[be].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,yt,$e[be].width,$e[be].height,0,gt,Ke,$e[be].data);for(let De=0;De<_e.length;De++){const zt=_e[De].image[be].image;At?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De+1,0,0,zt.width,zt.height,gt,Ke,zt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De+1,yt,zt.width,zt.height,0,gt,Ke,zt.data)}}else{At?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,gt,Ke,$e[be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,yt,gt,Ke,$e[be]);for(let De=0;De<_e.length;De++){const ht=_e[De];At?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De+1,0,0,gt,Ke,ht.image[be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,De+1,yt,gt,Ke,ht.image[be])}}}_(F)&&v(t.TEXTURE_CUBE_MAP),Se.__version=ge.version,F.onUpdate&&F.onUpdate(F)}Y.__version=F.version}function pe(Y,F,se,xe,ge,Se){const at=s.convert(se.format,se.colorSpace),Be=s.convert(se.type),Xe=x(se.internalFormat,at,Be,se.colorSpace);if(!i.get(F).__hasExternalTextures){const Me=Math.max(1,F.width>>Se),$e=Math.max(1,F.height>>Se);ge===t.TEXTURE_3D||ge===t.TEXTURE_2D_ARRAY?n.texImage3D(ge,Se,Xe,Me,$e,F.depth,0,at,Be,null):n.texImage2D(ge,Se,Xe,Me,$e,0,at,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,Y),me(F)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,xe,ge,i.get(se).__webglTexture,0,Oe(F)):(ge===t.TEXTURE_2D||ge>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ge<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,xe,ge,i.get(se).__webglTexture,Se),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ee(Y,F,se){if(t.bindRenderbuffer(t.RENDERBUFFER,Y),F.depthBuffer){const xe=F.depthTexture,ge=xe&&xe.isDepthTexture?xe.type:null,Se=b(F.stencilBuffer,ge),at=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=Oe(F);me(F)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,Se,F.width,F.height):se?t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,Se,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,Se,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,at,t.RENDERBUFFER,Y)}else{const xe=F.textures;for(let ge=0;ge<xe.length;ge++){const Se=xe[ge],at=s.convert(Se.format,Se.colorSpace),Be=s.convert(Se.type),Xe=x(Se.internalFormat,at,Be,Se.colorSpace),_t=Oe(F);se&&me(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_t,Xe,F.width,F.height):me(F)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_t,Xe,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,Xe,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Te(Y,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Y),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),X(F.depthTexture,0);const xe=i.get(F.depthTexture).__webglTexture,ge=Oe(F);if(F.depthTexture.format===_d)me(F)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0);else if(F.depthTexture.format===Ud)me(F)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function ue(Y){const F=i.get(Y),se=Y.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==Y.depthTexture){const xe=Y.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),xe){const ge=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,xe.removeEventListener("dispose",ge)};xe.addEventListener("dispose",ge),F.__depthDisposeCallback=ge}F.__boundDepthTexture=xe}if(Y.depthTexture&&!F.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");Te(F.__webglFramebuffer,Y)}else if(se){F.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)if(n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[xe]),F.__webglDepthbuffer[xe]===void 0)F.__webglDepthbuffer[xe]=t.createRenderbuffer(),Ee(F.__webglDepthbuffer[xe],Y,!1);else{const ge=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Se=F.__webglDepthbuffer[xe];t.bindRenderbuffer(t.RENDERBUFFER,Se),t.framebufferRenderbuffer(t.FRAMEBUFFER,ge,t.RENDERBUFFER,Se)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=t.createRenderbuffer(),Ee(F.__webglDepthbuffer,Y,!1);else{const xe=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=F.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,xe,t.RENDERBUFFER,ge)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function fe(Y,F,se){const xe=i.get(Y);F!==void 0&&pe(xe.__webglFramebuffer,Y,Y.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),se!==void 0&&ue(Y)}function Ie(Y){const F=Y.texture,se=i.get(Y),xe=i.get(F);Y.addEventListener("dispose",C);const ge=Y.textures,Se=Y.isWebGLCubeRenderTarget===!0,at=ge.length>1;if(at||(xe.__webglTexture===void 0&&(xe.__webglTexture=t.createTexture()),xe.__version=F.version,o.memory.textures++),Se){se.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(F.mipmaps&&F.mipmaps.length>0){se.__webglFramebuffer[Be]=[];for(let Xe=0;Xe<F.mipmaps.length;Xe++)se.__webglFramebuffer[Be][Xe]=t.createFramebuffer()}else se.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){se.__webglFramebuffer=[];for(let Be=0;Be<F.mipmaps.length;Be++)se.__webglFramebuffer[Be]=t.createFramebuffer()}else se.__webglFramebuffer=t.createFramebuffer();if(at)for(let Be=0,Xe=ge.length;Be<Xe;Be++){const _t=i.get(ge[Be]);_t.__webglTexture===void 0&&(_t.__webglTexture=t.createTexture(),o.memory.textures++)}if(Y.samples>0&&me(Y)===!1){se.__webglMultisampledFramebuffer=t.createFramebuffer(),se.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let Be=0;Be<ge.length;Be++){const Xe=ge[Be];se.__webglColorRenderbuffer[Be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,se.__webglColorRenderbuffer[Be]);const _t=s.convert(Xe.format,Xe.colorSpace),Me=s.convert(Xe.type),$e=x(Xe.internalFormat,_t,Me,Xe.colorSpace,Y.isXRRenderTarget===!0),Ft=Oe(Y);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ft,$e,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Be,t.RENDERBUFFER,se.__webglColorRenderbuffer[Be])}t.bindRenderbuffer(t.RENDERBUFFER,null),Y.depthBuffer&&(se.__webglDepthRenderbuffer=t.createRenderbuffer(),Ee(se.__webglDepthRenderbuffer,Y,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Se){n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture),J(t.TEXTURE_CUBE_MAP,F);for(let Be=0;Be<6;Be++)if(F.mipmaps&&F.mipmaps.length>0)for(let Xe=0;Xe<F.mipmaps.length;Xe++)pe(se.__webglFramebuffer[Be][Xe],Y,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Xe);else pe(se.__webglFramebuffer[Be],Y,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);_(F)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(at){for(let Be=0,Xe=ge.length;Be<Xe;Be++){const _t=ge[Be],Me=i.get(_t);n.bindTexture(t.TEXTURE_2D,Me.__webglTexture),J(t.TEXTURE_2D,_t),pe(se.__webglFramebuffer,Y,_t,t.COLOR_ATTACHMENT0+Be,t.TEXTURE_2D,0),_(_t)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(Be=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,xe.__webglTexture),J(Be,F),F.mipmaps&&F.mipmaps.length>0)for(let Xe=0;Xe<F.mipmaps.length;Xe++)pe(se.__webglFramebuffer[Xe],Y,F,t.COLOR_ATTACHMENT0,Be,Xe);else pe(se.__webglFramebuffer,Y,F,t.COLOR_ATTACHMENT0,Be,0);_(F)&&v(Be),n.unbindTexture()}Y.depthBuffer&&ue(Y)}function Ge(Y){const F=Y.textures;for(let se=0,xe=F.length;se<xe;se++){const ge=F[se];if(_(ge)){const Se=Y.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,at=i.get(ge).__webglTexture;n.bindTexture(Se,at),v(Se),n.unbindTexture()}}}const H=[],ve=[];function we(Y){if(Y.samples>0){if(me(Y)===!1){const F=Y.textures,se=Y.width,xe=Y.height;let ge=t.COLOR_BUFFER_BIT;const Se=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,at=i.get(Y),Be=F.length>1;if(Be)for(let Xe=0;Xe<F.length;Xe++)n.bindFramebuffer(t.FRAMEBUFFER,at.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,at.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let Xe=0;Xe<F.length;Xe++){if(Y.resolveDepthBuffer&&(Y.depthBuffer&&(ge|=t.DEPTH_BUFFER_BIT),Y.stencilBuffer&&Y.resolveStencilBuffer&&(ge|=t.STENCIL_BUFFER_BIT)),Be){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,at.__webglColorRenderbuffer[Xe]);const _t=i.get(F[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_t,0)}t.blitFramebuffer(0,0,se,xe,0,0,se,xe,ge,t.NEAREST),l===!0&&(H.length=0,ve.length=0,H.push(t.COLOR_ATTACHMENT0+Xe),Y.depthBuffer&&Y.resolveDepthBuffer===!1&&(H.push(Se),ve.push(Se),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ve)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,H))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Be)for(let Xe=0;Xe<F.length;Xe++){n.bindFramebuffer(t.FRAMEBUFFER,at.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,at.__webglColorRenderbuffer[Xe]);const _t=i.get(F[Xe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,at.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,_t,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(Y.depthBuffer&&Y.resolveDepthBuffer===!1&&l){const F=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[F])}}}function Oe(Y){return Math.min(r.maxSamples,Y.samples)}function me(Y){const F=i.get(Y);return Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function ot(Y){const F=o.render.frame;u.get(Y)!==F&&(u.set(Y,F),Y.update())}function Fe(Y,F){const se=Y.colorSpace,xe=Y.format,ge=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||se!==Hl&&se!==sl&&(Jt.getTransfer(se)===yn?(xe!==xr||ge!==jo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),F}function qe(Y){return typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement?(c.width=Y.naturalWidth||Y.width,c.height=Y.naturalHeight||Y.height):typeof VideoFrame<"u"&&Y instanceof VideoFrame?(c.width=Y.displayWidth,c.height=Y.displayHeight):(c.width=Y.width,c.height=Y.height),c}this.allocateTextureUnit=z,this.resetTextureUnits=O,this.setTexture2D=X,this.setTexture2DArray=W,this.setTexture3D=K,this.setTextureCube=j,this.rebindTextures=fe,this.setupRenderTarget=Ie,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=we,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=me}function Jq(t,e){function n(i,r=sl){let s;const o=Jt.getTransfer(r);if(i===jo)return t.UNSIGNED_BYTE;if(i===Rw)return t.UNSIGNED_SHORT_4_4_4_4;if(i===kw)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Yk)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===qk)return t.BYTE;if(i===Xk)return t.SHORT;if(i===vp)return t.UNSIGNED_SHORT;if(i===Iw)return t.INT;if(i===Dl)return t.UNSIGNED_INT;if(i===ns)return t.FLOAT;if(i===jp)return t.HALF_FLOAT;if(i===Kk)return t.ALPHA;if(i===Jk)return t.RGB;if(i===xr)return t.RGBA;if(i===Qk)return t.LUMINANCE;if(i===Zk)return t.LUMINANCE_ALPHA;if(i===_d)return t.DEPTH_COMPONENT;if(i===Ud)return t.DEPTH_STENCIL;if(i===Nw)return t.RED;if(i===Wy)return t.RED_INTEGER;if(i===eN)return t.RG;if(i===Lw)return t.RG_INTEGER;if(i===Dw)return t.RGBA_INTEGER;if(i===Yg||i===Kg||i===Jg||i===Qg)if(o===yn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Yg)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Kg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Jg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Qg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Yg)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Kg)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Jg)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Qg)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Vb||i===jb||i===Hb||i===Wb)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===Vb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===jb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Hb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Wb)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Gb||i===$b||i===qb)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Gb||i===$b)return o===yn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===qb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Xb||i===Yb||i===Kb||i===Jb||i===Qb||i===Zb||i===eS||i===tS||i===nS||i===iS||i===rS||i===sS||i===oS||i===aS)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Xb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Yb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Kb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Jb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Qb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Zb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===eS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===tS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===nS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===iS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===rS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===sS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===oS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===aS)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Zg||i===lS||i===cS)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Zg)return o===yn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===lS)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===cS)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===tN||i===uS||i===dS||i===fS)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Zg)return s.COMPRESSED_RED_RGTC1_EXT;if(i===uS)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===dS)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===fS)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Bd?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class Qq extends zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ah extends $t{constructor(){super(),this.isGroup=!0,this.type="Group"}}const FMe={type:"move"};class uM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ah,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ah,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ah,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=n.getJointPose(y,i),v=this._getHandJoint(c,y);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),m=.02,g=.005;c.inputState.pinching&&h>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(FMe)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Ah;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const zMe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,BMe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class UMe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new Rn,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new fo({vertexShader:zMe,fragmentShader:BMe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ui(new Wp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class VMe extends Oa{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,m=null,g=null;const y=new UMe,_=n.getContextAttributes();let v=null,x=null;const b=[],E=[],M=new ye;let C=null;const R=new zi;R.layers.enable(1),R.viewport=new jt;const k=new zi;k.layers.enable(2),k.viewport=new jt;const I=[R,k],P=new Qq;P.layers.enable(1),P.layers.enable(2);let O=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let pe=b[ie];return pe===void 0&&(pe=new uM,b[ie]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ie){let pe=b[ie];return pe===void 0&&(pe=new uM,b[ie]=pe),pe.getGripSpace()},this.getHand=function(ie){let pe=b[ie];return pe===void 0&&(pe=new uM,b[ie]=pe),pe.getHandSpace()};function U(ie){const pe=E.indexOf(ie.inputSource);if(pe===-1)return;const Ee=b[pe];Ee!==void 0&&(Ee.update(ie.inputSource,ie.frame,c||o),Ee.dispatchEvent({type:ie.type,data:ie.inputSource}))}function X(){r.removeEventListener("select",U),r.removeEventListener("selectstart",U),r.removeEventListener("selectend",U),r.removeEventListener("squeeze",U),r.removeEventListener("squeezestart",U),r.removeEventListener("squeezeend",U),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",W);for(let ie=0;ie<b.length;ie++){const pe=E[ie];pe!==null&&(E[ie]=null,b[ie].disconnect(pe))}O=null,z=null,y.reset(),e.setRenderTarget(v),m=null,h=null,d=null,r=null,x=null,Ne.stop(),i.isPresenting=!1,e.setPixelRatio(C),e.setSize(M.width,M.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){s=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){a=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ie){c=ie},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(ie){if(r=ie,r!==null){if(v=e.getRenderTarget(),r.addEventListener("select",U),r.addEventListener("selectstart",U),r.addEventListener("selectend",U),r.addEventListener("squeeze",U),r.addEventListener("squeezestart",U),r.addEventListener("squeezeend",U),r.addEventListener("end",X),r.addEventListener("inputsourceschange",W),_.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(M),r.renderState.layers===void 0){const pe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,n,pe),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),x=new Ho(m.framebufferWidth,m.framebufferHeight,{format:xr,type:jo,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let pe=null,Ee=null,Te=null;_.depth&&(Te=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,pe=_.stencil?Ud:_d,Ee=_.stencil?Bd:Dl);const ue={colorFormat:n.RGBA8,depthFormat:Te,scaleFactor:s};d=new XRWebGLBinding(r,n),h=d.createProjectionLayer(ue),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),x=new Ho(h.textureWidth,h.textureHeight,{format:xr,type:jo,depthTexture:new uN(h.textureWidth,h.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Ne.setContext(r),Ne.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function W(ie){for(let pe=0;pe<ie.removed.length;pe++){const Ee=ie.removed[pe],Te=E.indexOf(Ee);Te>=0&&(E[Te]=null,b[Te].disconnect(Ee))}for(let pe=0;pe<ie.added.length;pe++){const Ee=ie.added[pe];let Te=E.indexOf(Ee);if(Te===-1){for(let fe=0;fe<b.length;fe++)if(fe>=E.length){E.push(Ee),Te=fe;break}else if(E[fe]===null){E[fe]=Ee,Te=fe;break}if(Te===-1)break}const ue=b[Te];ue&&ue.connect(Ee)}}const K=new G,j=new G;function D(ie,pe,Ee){K.setFromMatrixPosition(pe.matrixWorld),j.setFromMatrixPosition(Ee.matrixWorld);const Te=K.distanceTo(j),ue=pe.projectionMatrix.elements,fe=Ee.projectionMatrix.elements,Ie=ue[14]/(ue[10]-1),Ge=ue[14]/(ue[10]+1),H=(ue[9]+1)/ue[5],ve=(ue[9]-1)/ue[5],we=(ue[8]-1)/ue[0],Oe=(fe[8]+1)/fe[0],me=Ie*we,ot=Ie*Oe,Fe=Te/(-we+Oe),qe=Fe*-we;if(pe.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(qe),ie.translateZ(Fe),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),ue[10]===-1)ie.projectionMatrix.copy(pe.projectionMatrix),ie.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const Y=Ie+Fe,F=Ge+Fe,se=me-qe,xe=ot+(Te-qe),ge=H*Ge/F*Y,Se=ve*Ge/F*Y;ie.projectionMatrix.makePerspective(se,xe,ge,Se,Y,F),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}function B(ie,pe){pe===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(pe.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(r===null)return;let pe=ie.near,Ee=ie.far;y.texture!==null&&(y.depthNear>0&&(pe=y.depthNear),y.depthFar>0&&(Ee=y.depthFar)),P.near=k.near=R.near=pe,P.far=k.far=R.far=Ee,(O!==P.near||z!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),O=P.near,z=P.far);const Te=ie.parent,ue=P.cameras;B(P,Te);for(let fe=0;fe<ue.length;fe++)B(ue[fe],Te);ue.length===2?D(P,R,k):P.projectionMatrix.copy(R.projectionMatrix),$(ie,P,Te)};function $(ie,pe,Ee){Ee===null?ie.matrix.copy(pe.matrixWorld):(ie.matrix.copy(Ee.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(pe.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(pe.projectionMatrix),ie.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=yp*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(ie){l=ie,h!==null&&(h.fixedFoveation=ie),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ie)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(P)};let J=null;function ce(ie,pe){if(u=pe.getViewerPose(c||o),g=pe,u!==null){const Ee=u.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let Te=!1;Ee.length!==P.cameras.length&&(P.cameras.length=0,Te=!0);for(let fe=0;fe<Ee.length;fe++){const Ie=Ee[fe];let Ge=null;if(m!==null)Ge=m.getViewport(Ie);else{const ve=d.getViewSubImage(h,Ie);Ge=ve.viewport,fe===0&&(e.setRenderTargetTextures(x,ve.colorTexture,h.ignoreDepthValues?void 0:ve.depthStencilTexture),e.setRenderTarget(x))}let H=I[fe];H===void 0&&(H=new zi,H.layers.enable(fe),H.viewport=new jt,I[fe]=H),H.matrix.fromArray(Ie.transform.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale),H.projectionMatrix.fromArray(Ie.projectionMatrix),H.projectionMatrixInverse.copy(H.projectionMatrix).invert(),H.viewport.set(Ge.x,Ge.y,Ge.width,Ge.height),fe===0&&(P.matrix.copy(H.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Te===!0&&P.cameras.push(H)}const ue=r.enabledFeatures;if(ue&&ue.includes("depth-sensing")){const fe=d.getDepthInformation(Ee[0]);fe&&fe.isValid&&fe.texture&&y.init(e,fe,r.renderState)}}for(let Ee=0;Ee<b.length;Ee++){const Te=E[Ee],ue=b[Ee];Te!==null&&ue!==void 0&&ue.update(Te,pe,c||o)}J&&J(ie,pe),pe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:pe}),g=null}const Ne=new $q;Ne.setAnimationLoop(ce),this.setAnimationLoop=function(ie){J=ie},this.dispose=function(){}}}const Ou=new cs,jMe=new ut;function HMe(t,e){function n(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function i(_,v){v.color.getRGB(_.fogColor.value,Hq(t)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function r(_,v,x,b,E){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),d(_,v)):v.isMeshPhongMaterial?(s(_,v),u(_,v)):v.isMeshStandardMaterial?(s(_,v),h(_,v),v.isMeshPhysicalMaterial&&m(_,v,E)):v.isMeshMatcapMaterial?(s(_,v),g(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),y(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(o(_,v),v.isLineDashedMaterial&&a(_,v)):v.isPointsMaterial?l(_,v,x,b):v.isSpriteMaterial?c(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,n(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,n(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,n(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===zr&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,n(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===zr&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,n(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,n(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const x=e.get(v),b=x.envMap,E=x.envMapRotation;b&&(_.envMap.value=b,Ou.copy(E),Ou.x*=-1,Ou.y*=-1,Ou.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Ou.y*=-1,Ou.z*=-1),_.envMapRotation.value.setFromMatrix4(jMe.makeRotationFromEuler(Ou)),_.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap&&(_.lightMap.value=v.lightMap,_.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,_.lightMapTransform)),v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,_.aoMapTransform))}function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,n(v.map,_.mapTransform))}function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,x,b){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*x,_.scale.value=b*.5,v.map&&(_.map.value=v.map,n(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,n(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,n(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,n(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function u(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function d(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function h(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,_.roughnessMapTransform)),v.envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,x){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===zr&&_.clearcoatNormalScale.value.negate())),v.dispersion>0&&(_.dispersion.value=v.dispersion),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function y(_,v){const x=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function WMe(t,e,n,i){let r={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,b){const E=b.program;i.uniformBlockBinding(x,E)}function c(x,b){let E=r[x.id];E===void 0&&(g(x),E=u(x),r[x.id]=E,x.addEventListener("dispose",_));const M=b.program;i.updateUBOMapping(x,M);const C=e.render.frame;s[x.id]!==C&&(h(x),s[x.id]=C)}function u(x){const b=d();x.__bindingPointIndex=b;const E=t.createBuffer(),M=x.__size,C=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,M,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,E),E}function d(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const b=r[x.id],E=x.uniforms,M=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let C=0,R=E.length;C<R;C++){const k=Array.isArray(E[C])?E[C]:[E[C]];for(let I=0,P=k.length;I<P;I++){const O=k[I];if(m(O,C,I,M)===!0){const z=O.__offset,U=Array.isArray(O.value)?O.value:[O.value];let X=0;for(let W=0;W<U.length;W++){const K=U[W],j=y(K);typeof K=="number"||typeof K=="boolean"?(O.__data[0]=K,t.bufferSubData(t.UNIFORM_BUFFER,z+X,O.__data)):K.isMatrix3?(O.__data[0]=K.elements[0],O.__data[1]=K.elements[1],O.__data[2]=K.elements[2],O.__data[3]=0,O.__data[4]=K.elements[3],O.__data[5]=K.elements[4],O.__data[6]=K.elements[5],O.__data[7]=0,O.__data[8]=K.elements[6],O.__data[9]=K.elements[7],O.__data[10]=K.elements[8],O.__data[11]=0):(K.toArray(O.__data,X),X+=j.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,z,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(x,b,E,M){const C=x.value,R=b+"_"+E;if(M[R]===void 0)return typeof C=="number"||typeof C=="boolean"?M[R]=C:M[R]=C.clone(),!0;{const k=M[R];if(typeof C=="number"||typeof C=="boolean"){if(k!==C)return M[R]=C,!0}else if(k.equals(C)===!1)return k.copy(C),!0}return!1}function g(x){const b=x.uniforms;let E=0;const M=16;for(let R=0,k=b.length;R<k;R++){const I=Array.isArray(b[R])?b[R]:[b[R]];for(let P=0,O=I.length;P<O;P++){const z=I[P],U=Array.isArray(z.value)?z.value:[z.value];for(let X=0,W=U.length;X<W;X++){const K=U[X],j=y(K),D=E%M,B=D%j.boundary,$=D+B;E+=B,$!==0&&M-$<j.storage&&(E+=M-$),z.__data=new Float32Array(j.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=E,E+=j.storage}}}const C=E%M;return C>0&&(E+=M-C),x.__size=E,x.__cache={},this}function y(x){const b={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),b}function _(x){const b=x.target;b.removeEventListener("dispose",_);const E=o.indexOf(b.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}function v(){for(const x in r)t.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}class Zq{constructor(e={}){const{canvas:n=Bq(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let h;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=i.getContextAttributes().alpha}else h=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,_=null;const v=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=eo,this.toneMapping=Ma,this.toneMappingExposure=1;const b=this;let E=!1,M=0,C=0,R=null,k=-1,I=null;const P=new jt,O=new jt;let z=null;const U=new He(0);let X=0,W=n.width,K=n.height,j=1,D=null,B=null;const $=new jt(0,0,W,K),J=new jt(0,0,W,K);let ce=!1;const Ne=new Xy;let ie=!1,pe=!1;const Ee=new ut,Te=new G,ue=new jt,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ie=!1;function Ge(){return R===null?j:1}let H=i;function ve(V,ee){return n.getContext(V,ee)}try{const V={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${jy}`),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",be,!1),n.addEventListener("webglcontextcreationerror",De,!1),H===null){const ee="webgl2";if(H=ve(ee,V),H===null)throw ve(ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let we,Oe,me,ot,Fe,qe,Y,F,se,xe,ge,Se,at,Be,Xe,_t,Me,$e,Ft,gt,Ke,yt,At,hn;function Z(){we=new JTe(H),we.init(),yt=new Jq(H,we),Oe=new GTe(H,we,e,yt),me=new IMe(H),ot=new eCe(H),Fe=new yMe,qe=new OMe(H,we,me,Fe,Oe,yt,ot),Y=new qTe(b),F=new KTe(b),se=new awe(H),At=new HTe(H,se),xe=new QTe(H,se,ot,At),ge=new nCe(H,xe,se,ot),Ft=new tCe(H,Oe,qe),_t=new $Te(Fe),Se=new vMe(b,Y,F,we,Oe,At,_t),at=new HMe(b,Fe),Be=new _Me,Xe=new CMe(we),$e=new jTe(b,Y,F,me,ge,h,l),Me=new AMe(b,ge,Oe),hn=new WMe(H,ot,Oe,me),gt=new WTe(H,we,ot),Ke=new ZTe(H,we,ot),ot.programs=Se.programs,b.capabilities=Oe,b.extensions=we,b.properties=Fe,b.renderLists=Be,b.shadowMap=Me,b.state=me,b.info=ot}Z();const Re=new VMe(b,H);this.xr=Re,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const V=we.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=we.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(V){V!==void 0&&(j=V,this.setSize(W,K,!1))},this.getSize=function(V){return V.set(W,K)},this.setSize=function(V,ee,oe=!0){if(Re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=V,K=ee,n.width=Math.floor(V*j),n.height=Math.floor(ee*j),oe===!0&&(n.style.width=V+"px",n.style.height=ee+"px"),this.setViewport(0,0,V,ee)},this.getDrawingBufferSize=function(V){return V.set(W*j,K*j).floor()},this.setDrawingBufferSize=function(V,ee,oe){W=V,K=ee,j=oe,n.width=Math.floor(V*oe),n.height=Math.floor(ee*oe),this.setViewport(0,0,V,ee)},this.getCurrentViewport=function(V){return V.copy(P)},this.getViewport=function(V){return V.copy($)},this.setViewport=function(V,ee,oe,ae){V.isVector4?$.set(V.x,V.y,V.z,V.w):$.set(V,ee,oe,ae),me.viewport(P.copy($).multiplyScalar(j).round())},this.getScissor=function(V){return V.copy(J)},this.setScissor=function(V,ee,oe,ae){V.isVector4?J.set(V.x,V.y,V.z,V.w):J.set(V,ee,oe,ae),me.scissor(O.copy(J).multiplyScalar(j).round())},this.getScissorTest=function(){return ce},this.setScissorTest=function(V){me.setScissorTest(ce=V)},this.setOpaqueSort=function(V){D=V},this.setTransparentSort=function(V){B=V},this.getClearColor=function(V){return V.copy($e.getClearColor())},this.setClearColor=function(){$e.setClearColor.apply($e,arguments)},this.getClearAlpha=function(){return $e.getClearAlpha()},this.setClearAlpha=function(){$e.setClearAlpha.apply($e,arguments)},this.clear=function(V=!0,ee=!0,oe=!0){let ae=0;if(V){let ne=!1;if(R!==null){const ke=R.texture.format;ne=ke===Dw||ke===Lw||ke===Wy}if(ne){const ke=R.texture.type,We=ke===jo||ke===Dl||ke===vp||ke===Bd||ke===Rw||ke===kw,Ze=$e.getClearColor(),Je=$e.getClearAlpha(),lt=Ze.r,dt=Ze.g,tt=Ze.b;We?(m[0]=lt,m[1]=dt,m[2]=tt,m[3]=Je,H.clearBufferuiv(H.COLOR,0,m)):(g[0]=lt,g[1]=dt,g[2]=tt,g[3]=Je,H.clearBufferiv(H.COLOR,0,g))}else ae|=H.COLOR_BUFFER_BIT}ee&&(ae|=H.DEPTH_BUFFER_BIT),oe&&(ae|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",be,!1),n.removeEventListener("webglcontextcreationerror",De,!1),Be.dispose(),Xe.dispose(),Fe.dispose(),Y.dispose(),F.dispose(),ge.dispose(),At.dispose(),hn.dispose(),Se.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",ds),Re.removeEventListener("sessionend",c0),za.stop()};function _e(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function be(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const V=ot.autoReset,ee=Me.enabled,oe=Me.autoUpdate,ae=Me.needsUpdate,ne=Me.type;Z(),ot.autoReset=V,Me.enabled=ee,Me.autoUpdate=oe,Me.needsUpdate=ae,Me.type=ne}function De(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function ht(V){const ee=V.target;ee.removeEventListener("dispose",ht),zt(ee)}function zt(V){kn(V),Fe.remove(V)}function kn(V){const ee=Fe.get(V).programs;ee!==void 0&&(ee.forEach(function(oe){Se.releaseProgram(oe)}),V.isShaderMaterial&&Se.releaseShaderCache(V))}this.renderBufferDirect=function(V,ee,oe,ae,ne,ke){ee===null&&(ee=fe);const We=ne.isMesh&&ne.matrixWorld.determinant()<0,Ze=xE(V,ee,oe,ae,ne);me.setMaterial(ae,We);let Je=oe.index,lt=1;if(ae.wireframe===!0){if(Je=xe.getWireframeAttribute(oe),Je===void 0)return;lt=2}const dt=oe.drawRange,tt=oe.attributes.position;let qt=dt.start*lt,pn=(dt.start+dt.count)*lt;ke!==null&&(qt=Math.max(qt,ke.start*lt),pn=Math.min(pn,(ke.start+ke.count)*lt)),Je!==null?(qt=Math.max(qt,0),pn=Math.min(pn,Je.count)):tt!=null&&(qt=Math.max(qt,0),pn=Math.min(pn,tt.count));const nn=pn-qt;if(nn<0||nn===1/0)return;At.setup(ne,ae,Ze,oe,Je);let Vn,st=gt;if(Je!==null&&(Vn=se.get(Je),st=Ke,st.setIndex(Vn)),ne.isMesh)ae.wireframe===!0?(me.setLineWidth(ae.wireframeLinewidth*Ge()),st.setMode(H.LINES)):st.setMode(H.TRIANGLES);else if(ne.isLine){let Le=ae.linewidth;Le===void 0&&(Le=1),me.setLineWidth(Le*Ge()),ne.isLineSegments?st.setMode(H.LINES):ne.isLineLoop?st.setMode(H.LINE_LOOP):st.setMode(H.LINE_STRIP)}else ne.isPoints?st.setMode(H.POINTS):ne.isSprite&&st.setMode(H.TRIANGLES);if(ne.isBatchedMesh)if(ne._multiDrawInstances!==null)st.renderMultiDrawInstances(ne._multiDrawStarts,ne._multiDrawCounts,ne._multiDrawCount,ne._multiDrawInstances);else if(we.get("WEBGL_multi_draw"))st.renderMultiDraw(ne._multiDrawStarts,ne._multiDrawCounts,ne._multiDrawCount);else{const Le=ne._multiDrawStarts,mn=ne._multiDrawCounts,vt=ne._multiDrawCount,gn=Je?se.get(Je).bytesPerElement:1,Wr=Fe.get(ae).currentProgram.getUniforms();for(let ni=0;ni<vt;ni++)Wr.setValue(H,"_gl_DrawID",ni),st.render(Le[ni]/gn,mn[ni])}else if(ne.isInstancedMesh)st.renderInstances(qt,nn,ne.count);else if(oe.isInstancedBufferGeometry){const Le=oe._maxInstanceCount!==void 0?oe._maxInstanceCount:1/0,mn=Math.min(oe.instanceCount,Le);st.renderInstances(qt,nn,mn)}else st.render(qt,nn)};function pi(V,ee,oe){V.transparent===!0&&V.side===No&&V.forceSinglePass===!1?(V.side=zr,V.needsUpdate=!0,cf(V,ee,oe),V.side=Nl,V.needsUpdate=!0,cf(V,ee,oe),V.side=No):cf(V,ee,oe)}this.compile=function(V,ee,oe=null){oe===null&&(oe=V),_=Xe.get(oe),_.init(ee),x.push(_),oe.traverseVisible(function(ne){ne.isLight&&ne.layers.test(ee.layers)&&(_.pushLight(ne),ne.castShadow&&_.pushShadow(ne))}),V!==oe&&V.traverseVisible(function(ne){ne.isLight&&ne.layers.test(ee.layers)&&(_.pushLight(ne),ne.castShadow&&_.pushShadow(ne))}),_.setupLights();const ae=new Set;return V.traverse(function(ne){const ke=ne.material;if(ke)if(Array.isArray(ke))for(let We=0;We<ke.length;We++){const Ze=ke[We];pi(Ze,oe,ne),ae.add(Ze)}else pi(ke,oe,ne),ae.add(ke)}),x.pop(),_=null,ae},this.compileAsync=function(V,ee,oe=null){const ae=this.compile(V,ee,oe);return new Promise(ne=>{function ke(){if(ae.forEach(function(We){Fe.get(We).currentProgram.isReady()&&ae.delete(We)}),ae.size===0){ne(V);return}setTimeout(ke,10)}we.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let Ht=null;function zs(V){Ht&&Ht(V)}function ds(){za.stop()}function c0(){za.start()}const za=new $q;za.setAnimationLoop(zs),typeof self<"u"&&za.setContext(self),this.setAnimationLoop=function(V){Ht=V,Re.setAnimationLoop(V),V===null?za.stop():za.start()},Re.addEventListener("sessionstart",ds),Re.addEventListener("sessionend",c0),this.render=function(V,ee){if(ee!==void 0&&ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ee.parent===null&&ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(Re.cameraAutoUpdate===!0&&Re.updateCamera(ee),ee=Re.getCamera()),V.isScene===!0&&V.onBeforeRender(b,V,ee,R),_=Xe.get(V,x.length),_.init(ee),x.push(_),Ee.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),Ne.setFromProjectionMatrix(Ee),pe=this.localClippingEnabled,ie=_t.init(this.clippingPlanes,pe),y=Be.get(V,v.length),y.init(),v.push(y),Re.enabled===!0&&Re.isPresenting===!0){const ke=b.xr.getDepthSensingMesh();ke!==null&&Yp(ke,ee,-1/0,b.sortObjects)}Yp(V,ee,0,b.sortObjects),y.finish(),b.sortObjects===!0&&y.sort(D,B),Ie=Re.enabled===!1||Re.isPresenting===!1||Re.hasDepthSensing()===!1,Ie&&$e.addToRenderList(y,V),this.info.render.frame++,ie===!0&&_t.beginShadows();const oe=_.state.shadowsArray;Me.render(oe,V,ee),ie===!0&&_t.endShadows(),this.info.autoReset===!0&&this.info.reset();const ae=y.opaque,ne=y.transmissive;if(_.setupLights(),ee.isArrayCamera){const ke=ee.cameras;if(ne.length>0)for(let We=0,Ze=ke.length;We<Ze;We++){const Je=ke[We];af(ae,ne,V,Je)}Ie&&$e.render(V);for(let We=0,Ze=ke.length;We<Ze;We++){const Je=ke[We];Kp(y,V,Je,Je.viewport)}}else ne.length>0&&af(ae,ne,V,ee),Ie&&$e.render(V),Kp(y,V,ee);R!==null&&(qe.updateMultisampleRenderTarget(R),qe.updateRenderTargetMipmap(R)),V.isScene===!0&&V.onAfterRender(b,V,ee),At.resetDefaultState(),k=-1,I=null,x.pop(),x.length>0?(_=x[x.length-1],ie===!0&&_t.setGlobalState(b.clippingPlanes,_.state.camera)):_=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Yp(V,ee,oe,ae){if(V.visible===!1)return;if(V.layers.test(ee.layers)){if(V.isGroup)oe=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ee);else if(V.isLight)_.pushLight(V),V.castShadow&&_.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||Ne.intersectsSprite(V)){ae&&ue.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Ee);const We=ge.update(V),Ze=V.material;Ze.visible&&y.push(V,We,Ze,oe,ue.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||Ne.intersectsObject(V))){const We=ge.update(V),Ze=V.material;if(ae&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),ue.copy(V.boundingSphere.center)):(We.boundingSphere===null&&We.computeBoundingSphere(),ue.copy(We.boundingSphere.center)),ue.applyMatrix4(V.matrixWorld).applyMatrix4(Ee)),Array.isArray(Ze)){const Je=We.groups;for(let lt=0,dt=Je.length;lt<dt;lt++){const tt=Je[lt],qt=Ze[tt.materialIndex];qt&&qt.visible&&y.push(V,We,qt,oe,ue.z,tt)}}else Ze.visible&&y.push(V,We,Ze,oe,ue.z,null)}}const ke=V.children;for(let We=0,Ze=ke.length;We<Ze;We++)Yp(ke[We],ee,oe,ae)}function Kp(V,ee,oe,ae){const ne=V.opaque,ke=V.transmissive,We=V.transparent;_.setupLightsView(oe),ie===!0&&_t.setGlobalState(b.clippingPlanes,oe),ae&&me.viewport(P.copy(ae)),ne.length>0&&lf(ne,ee,oe),ke.length>0&&lf(ke,ee,oe),We.length>0&&lf(We,ee,oe),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function af(V,ee,oe,ae){if((oe.isScene===!0?oe.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[ae.id]===void 0&&(_.state.transmissionRenderTarget[ae.id]=new Ho(1,1,{generateMipmaps:!0,type:we.has("EXT_color_buffer_half_float")||we.has("EXT_color_buffer_float")?jp:jo,minFilter:ga,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Jt.workingColorSpace}));const ke=_.state.transmissionRenderTarget[ae.id],We=ae.viewport||P;ke.setSize(We.z,We.w);const Ze=b.getRenderTarget();b.setRenderTarget(ke),b.getClearColor(U),X=b.getClearAlpha(),X<1&&b.setClearColor(16777215,.5),b.clear(),Ie&&$e.render(oe);const Je=b.toneMapping;b.toneMapping=Ma;const lt=ae.viewport;if(ae.viewport!==void 0&&(ae.viewport=void 0),_.setupLightsView(ae),ie===!0&&_t.setGlobalState(b.clippingPlanes,ae),lf(V,oe,ae),qe.updateMultisampleRenderTarget(ke),qe.updateRenderTargetMipmap(ke),we.has("WEBGL_multisampled_render_to_texture")===!1){let dt=!1;for(let tt=0,qt=ee.length;tt<qt;tt++){const pn=ee[tt],nn=pn.object,Vn=pn.geometry,st=pn.material,Le=pn.group;if(st.side===No&&nn.layers.test(ae.layers)){const mn=st.side;st.side=zr,st.needsUpdate=!0,Gl(nn,oe,ae,Vn,st,Le),st.side=mn,st.needsUpdate=!0,dt=!0}}dt===!0&&(qe.updateMultisampleRenderTarget(ke),qe.updateRenderTargetMipmap(ke))}b.setRenderTarget(Ze),b.setClearColor(U,X),lt!==void 0&&(ae.viewport=lt),b.toneMapping=Je}function lf(V,ee,oe){const ae=ee.isScene===!0?ee.overrideMaterial:null;for(let ne=0,ke=V.length;ne<ke;ne++){const We=V[ne],Ze=We.object,Je=We.geometry,lt=ae===null?We.material:ae,dt=We.group;Ze.layers.test(oe.layers)&&Gl(Ze,ee,oe,Je,lt,dt)}}function Gl(V,ee,oe,ae,ne,ke){V.onBeforeRender(b,ee,oe,ae,ne,ke),V.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),ne.onBeforeRender(b,ee,oe,ae,V,ke),ne.transparent===!0&&ne.side===No&&ne.forceSinglePass===!1?(ne.side=zr,ne.needsUpdate=!0,b.renderBufferDirect(oe,ee,ae,ne,V,ke),ne.side=Nl,ne.needsUpdate=!0,b.renderBufferDirect(oe,ee,ae,ne,V,ke),ne.side=No):b.renderBufferDirect(oe,ee,ae,ne,V,ke),V.onAfterRender(b,ee,oe,ae,ne,ke)}function cf(V,ee,oe){ee.isScene!==!0&&(ee=fe);const ae=Fe.get(V),ne=_.state.lights,ke=_.state.shadowsArray,We=ne.state.version,Ze=Se.getParameters(V,ne.state,ke,ee,oe),Je=Se.getProgramCacheKey(Ze);let lt=ae.programs;ae.environment=V.isMeshStandardMaterial?ee.environment:null,ae.fog=ee.fog,ae.envMap=(V.isMeshStandardMaterial?F:Y).get(V.envMap||ae.environment),ae.envMapRotation=ae.environment!==null&&V.envMap===null?ee.environmentRotation:V.envMapRotation,lt===void 0&&(V.addEventListener("dispose",ht),lt=new Map,ae.programs=lt);let dt=lt.get(Je);if(dt!==void 0){if(ae.currentProgram===dt&&ae.lightsStateVersion===We)return d0(V,Ze),dt}else Ze.uniforms=Se.getUniforms(V),V.onBeforeCompile(Ze,b),dt=Se.acquireProgram(Ze,Je),lt.set(Je,dt),ae.uniforms=Ze.uniforms;const tt=ae.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(tt.clippingPlanes=_t.uniform),d0(V,Ze),ae.needsLights=bE(V),ae.lightsStateVersion=We,ae.needsLights&&(tt.ambientLightColor.value=ne.state.ambient,tt.lightProbe.value=ne.state.probe,tt.directionalLights.value=ne.state.directional,tt.directionalLightShadows.value=ne.state.directionalShadow,tt.spotLights.value=ne.state.spot,tt.spotLightShadows.value=ne.state.spotShadow,tt.rectAreaLights.value=ne.state.rectArea,tt.ltc_1.value=ne.state.rectAreaLTC1,tt.ltc_2.value=ne.state.rectAreaLTC2,tt.pointLights.value=ne.state.point,tt.pointLightShadows.value=ne.state.pointShadow,tt.hemisphereLights.value=ne.state.hemi,tt.directionalShadowMap.value=ne.state.directionalShadowMap,tt.directionalShadowMatrix.value=ne.state.directionalShadowMatrix,tt.spotShadowMap.value=ne.state.spotShadowMap,tt.spotLightMatrix.value=ne.state.spotLightMatrix,tt.spotLightMap.value=ne.state.spotLightMap,tt.pointShadowMap.value=ne.state.pointShadowMap,tt.pointShadowMatrix.value=ne.state.pointShadowMatrix),ae.currentProgram=dt,ae.uniformsList=null,dt}function u0(V){if(V.uniformsList===null){const ee=V.currentProgram.getUniforms();V.uniformsList=b1.seqWithValue(ee.seq,V.uniforms)}return V.uniformsList}function d0(V,ee){const oe=Fe.get(V);oe.outputColorSpace=ee.outputColorSpace,oe.batching=ee.batching,oe.batchingColor=ee.batchingColor,oe.instancing=ee.instancing,oe.instancingColor=ee.instancingColor,oe.instancingMorph=ee.instancingMorph,oe.skinning=ee.skinning,oe.morphTargets=ee.morphTargets,oe.morphNormals=ee.morphNormals,oe.morphColors=ee.morphColors,oe.morphTargetsCount=ee.morphTargetsCount,oe.numClippingPlanes=ee.numClippingPlanes,oe.numIntersection=ee.numClipIntersection,oe.vertexAlphas=ee.vertexAlphas,oe.vertexTangents=ee.vertexTangents,oe.toneMapping=ee.toneMapping}function xE(V,ee,oe,ae,ne){ee.isScene!==!0&&(ee=fe),qe.resetTextureUnits();const ke=ee.fog,We=ae.isMeshStandardMaterial?ee.environment:null,Ze=R===null?b.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Hl,Je=(ae.isMeshStandardMaterial?F:Y).get(ae.envMap||We),lt=ae.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,dt=!!oe.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),tt=!!oe.morphAttributes.position,qt=!!oe.morphAttributes.normal,pn=!!oe.morphAttributes.color;let nn=Ma;ae.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(nn=b.toneMapping);const Vn=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,st=Vn!==void 0?Vn.length:0,Le=Fe.get(ae),mn=_.state.lights;if(ie===!0&&(pe===!0||V!==I)){const ji=V===I&&ae.id===k;_t.setState(ae,V,ji)}let vt=!1;ae.version===Le.__version?(Le.needsLights&&Le.lightsStateVersion!==mn.state.version||Le.outputColorSpace!==Ze||ne.isBatchedMesh&&Le.batching===!1||!ne.isBatchedMesh&&Le.batching===!0||ne.isBatchedMesh&&Le.batchingColor===!0&&ne.colorTexture===null||ne.isBatchedMesh&&Le.batchingColor===!1&&ne.colorTexture!==null||ne.isInstancedMesh&&Le.instancing===!1||!ne.isInstancedMesh&&Le.instancing===!0||ne.isSkinnedMesh&&Le.skinning===!1||!ne.isSkinnedMesh&&Le.skinning===!0||ne.isInstancedMesh&&Le.instancingColor===!0&&ne.instanceColor===null||ne.isInstancedMesh&&Le.instancingColor===!1&&ne.instanceColor!==null||ne.isInstancedMesh&&Le.instancingMorph===!0&&ne.morphTexture===null||ne.isInstancedMesh&&Le.instancingMorph===!1&&ne.morphTexture!==null||Le.envMap!==Je||ae.fog===!0&&Le.fog!==ke||Le.numClippingPlanes!==void 0&&(Le.numClippingPlanes!==_t.numPlanes||Le.numIntersection!==_t.numIntersection)||Le.vertexAlphas!==lt||Le.vertexTangents!==dt||Le.morphTargets!==tt||Le.morphNormals!==qt||Le.morphColors!==pn||Le.toneMapping!==nn||Le.morphTargetsCount!==st)&&(vt=!0):(vt=!0,Le.__version=ae.version);let gn=Le.currentProgram;vt===!0&&(gn=cf(ae,ee,ne));let Wr=!1,ni=!1,Mi=!1;const wn=gn.getUniforms(),po=Le.uniforms;if(me.useProgram(gn.program)&&(Wr=!0,ni=!0,Mi=!0),ae.id!==k&&(k=ae.id,ni=!0),Wr||I!==V){wn.setValue(H,"projectionMatrix",V.projectionMatrix),wn.setValue(H,"viewMatrix",V.matrixWorldInverse);const ji=wn.map.cameraPosition;ji!==void 0&&ji.setValue(H,Te.setFromMatrixPosition(V.matrixWorld)),Oe.logarithmicDepthBuffer&&wn.setValue(H,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&wn.setValue(H,"isOrthographic",V.isOrthographicCamera===!0),I!==V&&(I=V,ni=!0,Mi=!0)}if(ne.isSkinnedMesh){wn.setOptional(H,ne,"bindMatrix"),wn.setOptional(H,ne,"bindMatrixInverse");const ji=ne.skeleton;ji&&(ji.boneTexture===null&&ji.computeBoneTexture(),wn.setValue(H,"boneTexture",ji.boneTexture,qe))}ne.isBatchedMesh&&(wn.setOptional(H,ne,"batchingTexture"),wn.setValue(H,"batchingTexture",ne._matricesTexture,qe),wn.setOptional(H,ne,"batchingIdTexture"),wn.setValue(H,"batchingIdTexture",ne._indirectTexture,qe),wn.setOptional(H,ne,"batchingColorTexture"),ne._colorsTexture!==null&&wn.setValue(H,"batchingColorTexture",ne._colorsTexture,qe));const uf=oe.morphAttributes;if((uf.position!==void 0||uf.normal!==void 0||uf.color!==void 0)&&Ft.update(ne,oe,gn),(ni||Le.receiveShadow!==ne.receiveShadow)&&(Le.receiveShadow=ne.receiveShadow,wn.setValue(H,"receiveShadow",ne.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(po.envMap.value=Je,po.flipEnvMap.value=Je.isCubeTexture&&Je.isRenderTargetTexture===!1?-1:1),ae.isMeshStandardMaterial&&ae.envMap===null&&ee.environment!==null&&(po.envMapIntensity.value=ee.environmentIntensity),ni&&(wn.setValue(H,"toneMappingExposure",b.toneMappingExposure),Le.needsLights&&_E(po,Mi),ke&&ae.fog===!0&&at.refreshFogUniforms(po,ke),at.refreshMaterialUniforms(po,ae,j,K,_.state.transmissionRenderTarget[V.id]),b1.upload(H,u0(Le),po,qe)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(b1.upload(H,u0(Le),po,qe),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&wn.setValue(H,"center",ne.center),wn.setValue(H,"modelViewMatrix",ne.modelViewMatrix),wn.setValue(H,"normalMatrix",ne.normalMatrix),wn.setValue(H,"modelMatrix",ne.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const ji=ae.uniformsGroups;for(let df=0,fs=ji.length;df<fs;df++){const f0=ji[df];hn.update(f0,gn),hn.bind(f0,gn)}}return gn}function _E(V,ee){V.ambientLightColor.needsUpdate=ee,V.lightProbe.needsUpdate=ee,V.directionalLights.needsUpdate=ee,V.directionalLightShadows.needsUpdate=ee,V.pointLights.needsUpdate=ee,V.pointLightShadows.needsUpdate=ee,V.spotLights.needsUpdate=ee,V.spotLightShadows.needsUpdate=ee,V.rectAreaLights.needsUpdate=ee,V.hemisphereLights.needsUpdate=ee}function bE(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(V,ee,oe){Fe.get(V.texture).__webglTexture=ee,Fe.get(V.depthTexture).__webglTexture=oe;const ae=Fe.get(V);ae.__hasExternalTextures=!0,ae.__autoAllocateDepthBuffer=oe===void 0,ae.__autoAllocateDepthBuffer||we.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(V,ee){const oe=Fe.get(V);oe.__webglFramebuffer=ee,oe.__useDefaultFramebuffer=ee===void 0},this.setRenderTarget=function(V,ee=0,oe=0){R=V,M=ee,C=oe;let ae=!0,ne=null,ke=!1,We=!1;if(V){const Je=Fe.get(V);if(Je.__useDefaultFramebuffer!==void 0)me.bindFramebuffer(H.FRAMEBUFFER,null),ae=!1;else if(Je.__webglFramebuffer===void 0)qe.setupRenderTarget(V);else if(Je.__hasExternalTextures)qe.rebindTextures(V,Fe.get(V.texture).__webglTexture,Fe.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const tt=V.depthTexture;if(Je.__boundDepthTexture!==tt){if(tt!==null&&Fe.has(tt)&&(V.width!==tt.image.width||V.height!==tt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");qe.setupDepthRenderbuffer(V)}}const lt=V.texture;(lt.isData3DTexture||lt.isDataArrayTexture||lt.isCompressedArrayTexture)&&(We=!0);const dt=Fe.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(dt[ee])?ne=dt[ee][oe]:ne=dt[ee],ke=!0):V.samples>0&&qe.useMultisampledRTT(V)===!1?ne=Fe.get(V).__webglMultisampledFramebuffer:Array.isArray(dt)?ne=dt[oe]:ne=dt,P.copy(V.viewport),O.copy(V.scissor),z=V.scissorTest}else P.copy($).multiplyScalar(j).floor(),O.copy(J).multiplyScalar(j).floor(),z=ce;if(me.bindFramebuffer(H.FRAMEBUFFER,ne)&&ae&&me.drawBuffers(V,ne),me.viewport(P),me.scissor(O),me.setScissorTest(z),ke){const Je=Fe.get(V.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Je.__webglTexture,oe)}else if(We){const Je=Fe.get(V.texture),lt=ee||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,Je.__webglTexture,oe||0,lt)}k=-1},this.readRenderTargetPixels=function(V,ee,oe,ae,ne,ke,We){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=Fe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&We!==void 0&&(Ze=Ze[We]),Ze){me.bindFramebuffer(H.FRAMEBUFFER,Ze);try{const Je=V.texture,lt=Je.format,dt=Je.type;if(!Oe.textureFormatReadable(lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Oe.textureTypeReadable(dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ee>=0&&ee<=V.width-ae&&oe>=0&&oe<=V.height-ne&&H.readPixels(ee,oe,ae,ne,yt.convert(lt),yt.convert(dt),ke)}finally{const Je=R!==null?Fe.get(R).__webglFramebuffer:null;me.bindFramebuffer(H.FRAMEBUFFER,Je)}}},this.readRenderTargetPixelsAsync=async function(V,ee,oe,ae,ne,ke,We){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ze=Fe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&We!==void 0&&(Ze=Ze[We]),Ze){me.bindFramebuffer(H.FRAMEBUFFER,Ze);try{const Je=V.texture,lt=Je.format,dt=Je.type;if(!Oe.textureFormatReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Oe.textureTypeReadable(dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ee>=0&&ee<=V.width-ae&&oe>=0&&oe<=V.height-ne){const tt=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,tt),H.bufferData(H.PIXEL_PACK_BUFFER,ke.byteLength,H.STREAM_READ),H.readPixels(ee,oe,ae,ne,yt.convert(lt),yt.convert(dt),0),H.flush();const qt=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);await kSe(H,qt,4);try{H.bindBuffer(H.PIXEL_PACK_BUFFER,tt),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,ke)}finally{H.deleteBuffer(tt),H.deleteSync(qt)}return ke}}finally{const Je=R!==null?Fe.get(R).__webglFramebuffer:null;me.bindFramebuffer(H.FRAMEBUFFER,Je)}}},this.copyFramebufferToTexture=function(V,ee=null,oe=0){V.isTexture!==!0&&(Gh("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ee=arguments[0]||null,V=arguments[1]);const ae=Math.pow(2,-oe),ne=Math.floor(V.image.width*ae),ke=Math.floor(V.image.height*ae),We=ee!==null?ee.x:0,Ze=ee!==null?ee.y:0;qe.setTexture2D(V,0),H.copyTexSubImage2D(H.TEXTURE_2D,oe,0,0,We,Ze,ne,ke),me.unbindTexture()},this.copyTextureToTexture=function(V,ee,oe=null,ae=null,ne=0){V.isTexture!==!0&&(Gh("WebGLRenderer: copyTextureToTexture function signature has changed."),ae=arguments[0]||null,V=arguments[1],ee=arguments[2],ne=arguments[3]||0,oe=null);let ke,We,Ze,Je,lt,dt;oe!==null?(ke=oe.max.x-oe.min.x,We=oe.max.y-oe.min.y,Ze=oe.min.x,Je=oe.min.y):(ke=V.image.width,We=V.image.height,Ze=0,Je=0),ae!==null?(lt=ae.x,dt=ae.y):(lt=0,dt=0);const tt=yt.convert(ee.format),qt=yt.convert(ee.type);qe.setTexture2D(ee,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,ee.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,ee.unpackAlignment);const pn=H.getParameter(H.UNPACK_ROW_LENGTH),nn=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Vn=H.getParameter(H.UNPACK_SKIP_PIXELS),st=H.getParameter(H.UNPACK_SKIP_ROWS),Le=H.getParameter(H.UNPACK_SKIP_IMAGES),mn=V.isCompressedTexture?V.mipmaps[ne]:V.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,mn.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,mn.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Ze),H.pixelStorei(H.UNPACK_SKIP_ROWS,Je),V.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,ne,lt,dt,ke,We,tt,qt,mn.data):V.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,ne,lt,dt,mn.width,mn.height,tt,mn.data):H.texSubImage2D(H.TEXTURE_2D,ne,lt,dt,ke,We,tt,qt,mn),H.pixelStorei(H.UNPACK_ROW_LENGTH,pn),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,nn),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Vn),H.pixelStorei(H.UNPACK_SKIP_ROWS,st),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Le),ne===0&&ee.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),me.unbindTexture()},this.copyTextureToTexture3D=function(V,ee,oe=null,ae=null,ne=0){V.isTexture!==!0&&(Gh("WebGLRenderer: copyTextureToTexture3D function signature has changed."),oe=arguments[0]||null,ae=arguments[1]||null,V=arguments[2],ee=arguments[3],ne=arguments[4]||0);let ke,We,Ze,Je,lt,dt,tt,qt,pn;const nn=V.isCompressedTexture?V.mipmaps[ne]:V.image;oe!==null?(ke=oe.max.x-oe.min.x,We=oe.max.y-oe.min.y,Ze=oe.max.z-oe.min.z,Je=oe.min.x,lt=oe.min.y,dt=oe.min.z):(ke=nn.width,We=nn.height,Ze=nn.depth,Je=0,lt=0,dt=0),ae!==null?(tt=ae.x,qt=ae.y,pn=ae.z):(tt=0,qt=0,pn=0);const Vn=yt.convert(ee.format),st=yt.convert(ee.type);let Le;if(ee.isData3DTexture)qe.setTexture3D(ee,0),Le=H.TEXTURE_3D;else if(ee.isDataArrayTexture||ee.isCompressedArrayTexture)qe.setTexture2DArray(ee,0),Le=H.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,ee.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,ee.unpackAlignment);const mn=H.getParameter(H.UNPACK_ROW_LENGTH),vt=H.getParameter(H.UNPACK_IMAGE_HEIGHT),gn=H.getParameter(H.UNPACK_SKIP_PIXELS),Wr=H.getParameter(H.UNPACK_SKIP_ROWS),ni=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,nn.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,nn.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Je),H.pixelStorei(H.UNPACK_SKIP_ROWS,lt),H.pixelStorei(H.UNPACK_SKIP_IMAGES,dt),V.isDataTexture||V.isData3DTexture?H.texSubImage3D(Le,ne,tt,qt,pn,ke,We,Ze,Vn,st,nn.data):ee.isCompressedArrayTexture?H.compressedTexSubImage3D(Le,ne,tt,qt,pn,ke,We,Ze,Vn,nn.data):H.texSubImage3D(Le,ne,tt,qt,pn,ke,We,Ze,Vn,st,nn),H.pixelStorei(H.UNPACK_ROW_LENGTH,mn),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,vt),H.pixelStorei(H.UNPACK_SKIP_PIXELS,gn),H.pixelStorei(H.UNPACK_SKIP_ROWS,Wr),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ni),ne===0&&ee.generateMipmaps&&H.generateMipmap(Le),me.unbindTexture()},this.initRenderTarget=function(V){Fe.get(V).__webglFramebuffer===void 0&&qe.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?qe.setTextureCube(V,0):V.isData3DTexture?qe.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?qe.setTexture2DArray(V,0):qe.setTexture2D(V,0),me.unbindTexture()},this.resetState=function(){M=0,C=0,R=null,me.reset(),At.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return va}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Fw?"display-p3":"srgb",n.unpackColorSpace=Jt.workingColorSpace===Gy?"display-p3":"srgb"}}class Uw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=n}clone(){return new Uw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Vw{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=n,this.far=i}clone(){return new Vw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class hN extends $t{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cs,this.environmentIntensity=1,this.environmentRotation=new cs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class jw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=ny,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Is()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Gh("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Pr=new G;class Vd{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix4(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyNormalMatrix(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.transformDirection(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Nr(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Tt(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Nr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Nr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Nr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Nr(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array),s=Tt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new an(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Vd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pN extends Er{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xf;const Vm=new G,Yf=new G,Kf=new G,Jf=new ye,jm=new ye,eX=new ut,s_=new G,Hm=new G,o_=new G,yB=new ye,dM=new ye,xB=new ye;class tX extends $t{constructor(e=new pN){if(super(),this.isSprite=!0,this.type="Sprite",Xf===void 0){Xf=new Rt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new jw(n,5);Xf.setIndex([0,1,2,0,2,3]),Xf.setAttribute("position",new Vd(i,3,0,!1)),Xf.setAttribute("uv",new Vd(i,2,3,!1))}this.geometry=Xf,this.material=e,this.center=new ye(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yf.setFromMatrixScale(this.matrixWorld),eX.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Kf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yf.multiplyScalar(-Kf.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;a_(s_.set(-.5,-.5,0),Kf,o,Yf,r,s),a_(Hm.set(.5,-.5,0),Kf,o,Yf,r,s),a_(o_.set(.5,.5,0),Kf,o,Yf,r,s),yB.set(0,0),dM.set(1,0),xB.set(1,1);let a=e.ray.intersectTriangle(s_,Hm,o_,!1,Vm);if(a===null&&(a_(Hm.set(-.5,.5,0),Kf,o,Yf,r,s),dM.set(0,1),a=e.ray.intersectTriangle(s_,o_,Hm,!1,Vm),a===null))return;const l=e.ray.origin.distanceTo(Vm);l<e.near||l>e.far||n.push({distance:l,point:Vm.clone(),uv:ws.getInterpolation(Vm,s_,Hm,o_,yB,dM,xB,new ye),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function a_(t,e,n,i,r,s){Jf.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(jm.x=s*Jf.x-r*Jf.y,jm.y=r*Jf.x+s*Jf.y):jm.copy(Jf),t.copy(e),t.x+=jm.x,t.y+=jm.y,t.applyMatrix4(eX)}const l_=new G,_B=new G;class nX extends $t{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){l_.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(l_);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){l_.setFromMatrixPosition(e.matrixWorld),_B.setFromMatrixPosition(this.matrixWorld);const i=l_.distanceTo(_B)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const bB=new G,SB=new jt,wB=new jt,GMe=new G,EB=new ut,c_=new G,fM=new _r,TB=new ut,hM=new Hp;class iX extends ui{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ZA,this.bindMatrix=new ut,this.bindMatrixInverse=new ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Br),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,c_),this.boundingBox.expandByPoint(c_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new _r),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,c_),this.boundingSphere.expandByPoint(c_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fM.copy(this.boundingSphere),fM.applyMatrix4(r),e.ray.intersectsSphere(fM)!==!1&&(TB.copy(r).invert(),hM.copy(e.ray).applyMatrix4(TB),!(this.boundingBox!==null&&hM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,hM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new jt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ZA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===wq?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;SB.fromBufferAttribute(r.attributes.skinIndex,e),wB.fromBufferAttribute(r.attributes.skinWeight,e),bB.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=wB.getComponent(s);if(o!==0){const a=SB.getComponent(s);EB.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(GMe.copy(bB).applyMatrix4(EB),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class mN extends $t{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pa extends Rn{constructor(e=null,n=1,i=1,r,s,o,a,l,c=Bi,u=Bi,d,h){super(null,o,a,l,c,u,r,s,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const CB=new ut,$Me=new ut;class Hw{constructor(e=[],n=[]){this.uuid=Is(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new ut;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:$Me;CB.multiplyMatrices(a,n[s]),CB.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Hw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Pa(n,e,e,xr,ns);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new mN),this.bones.push(o),this.boneInverses.push(new ut().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class _p extends an{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Qf=new ut,MB=new ut,u_=[],PB=new Br,qMe=new ut,Wm=new ui,Gm=new _r;class rX extends ui{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new _p(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,qMe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Br),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Qf),PB.copy(e.boundingBox).applyMatrix4(Qf),this.boundingBox.union(PB)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new _r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Qf),Gm.copy(e.boundingSphere).applyMatrix4(Qf),this.boundingSphere.union(Gm)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Wm.geometry=this.geometry,Wm.material=this.material,Wm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Gm.copy(this.boundingSphere),Gm.applyMatrix4(i),e.ray.intersectsSphere(Gm)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Qf),MB.multiplyMatrices(i,Qf),Wm.matrixWorld=MB,Wm.raycast(e,u_);for(let o=0,a=u_.length;o<a;o++){const l=u_[o];l.instanceId=s,l.object=this,n.push(l)}u_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new _p(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Pa(new Float32Array(r*this.count),r,this.count,Nw,ns));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function XMe(t,e){return t.z-e.z}function YMe(t,e){return e.z-t.z}class KMe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const dc=new ut,pM=new ut,JMe=new ut,QMe=new He(1,1,1),AB=new ut,mM=new Xy,d_=new Br,Fu=new _r,$m=new G,IB=new G,ZMe=new G,gM=new KMe,hr=new ui,f_=[];function ePe(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class sX extends ui{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,i=n*2,r){super(new Rt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Pa(n,e,e,xr,ns);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Pa(n,e,e,Wy,Dl);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Pa(n,e,e,xr,ns);i.colorSpace=Jt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,u=new a.constructor(i*l),d=new an(u,l,c);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new an(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Br);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,dc),this.getBoundingBoxAt(s,d_).applyMatrix4(dc),e.union(d_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _r);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,dc),this.getBoundingSphereAt(s,Fu).applyMatrix4(dc),e.union(Fu)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const n=this._drawInfo.length-1,i=this._matricesTexture,r=i.image.data;JMe.toArray(r,n*16),i.needsUpdate=!0;const s=this._colorsTexture;return s&&(QMe.toArray(s.image.data,n*4),s.needsUpdate=!0),n}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=n,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._geometryCount;return this._geometryCount++,o.push(r),a.push({start:u?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Br,sphereInitialized:!1,sphere:new _r}),this.setGeometryAt(d,e),d}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){const g=n.getAttribute(m),y=i.getAttribute(m);ePe(g,y,l);const _=g.itemSize;for(let v=g.count,x=c;v<x;v++){const b=l+v;for(let E=0;E<_;E++)y.setComponent(b,E,0)}y.needsUpdate=!0,y.addUpdateRange(l*_,c*_)}if(r){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,y=a.indexCount;g<y;g++)s.setX(m+g,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],h=n.getAttribute("position");return d.count=r?o.count:h.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.box,s=this.geometry;if(i.boxInitialized===!1){r.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let c=l.start,u=l.start+l.count;c<u;c++){let d=c;o&&(d=o.getX(d)),r.expandByPoint($m.fromBufferAttribute(a,d))}i.boxInitialized=!0}return n.copy(r),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,d_),d_.getCenter(r.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let c=0;for(let u=l.start,d=l.start+l.count;u<d;u++){let h=u;o&&(h=o.getX(h)),$m.fromBufferAttribute(a,h),c=Math.max(c,r.center.distanceToSquared($m))}r.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(r),n}setMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture,s=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(n.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,r=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(r,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const i=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const i=this._drawInfo;return e>=i.length||i[e].active===!1||i[e].visible===n?this:(i[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}raycast(e,n){const i=this._drawInfo,r=this._drawRanges,s=this.matrixWorld,o=this.geometry;hr.material=this.material,hr.geometry.index=o.index,hr.geometry.attributes=o.attributes,hr.geometry.boundingBox===null&&(hr.geometry.boundingBox=new Br),hr.geometry.boundingSphere===null&&(hr.geometry.boundingSphere=new _r);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const c=i[a].geometryIndex,u=r[c];hr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,hr.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,hr.geometry.boundingBox),this.getBoundingSphereAt(c,hr.geometry.boundingSphere),hr.raycast(e,f_);for(let d=0,h=f_.length;d<h;d++){const m=f_[d];m.object=this,m.batchId=a,n.push(m)}f_.length=0}hr.material=null,hr.geometry.index=null,hr.geometry.attributes={},hr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._drawInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._drawRanges,h=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data;h&&(AB.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),mM.setFromProjectionMatrix(AB,e.coordinateSystem));let y=0;if(this.sortObjects){pM.copy(this.matrixWorld).invert(),$m.setFromMatrixPosition(i.matrixWorld).applyMatrix4(pM),IB.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(pM);for(let x=0,b=l.length;x<b;x++)if(l[x].visible&&l[x].active){const E=l[x].geometryIndex;this.getMatrixAt(x,dc),this.getBoundingSphereAt(E,Fu).applyMatrix4(dc);let M=!1;if(h&&(M=!mM.intersectsSphere(Fu)),!M){const C=ZMe.subVectors(Fu.center,$m).dot(IB);gM.push(d[E],C,x)}}const _=gM.list,v=this.customSort;v===null?_.sort(s.transparent?YMe:XMe):v.call(this,_,i);for(let x=0,b=_.length;x<b;x++){const E=_[x];c[y]=E.start*a,u[y]=E.count,g[y]=E.index,y++}gM.reset()}else for(let _=0,v=l.length;_<v;_++)if(l[_].visible&&l[_].active){const x=l[_].geometryIndex;let b=!1;if(h&&(this.getMatrixAt(_,dc),this.getBoundingSphereAt(x,Fu).applyMatrix4(dc),b=!mM.intersectsSphere(Fu)),!b){const E=d[x];c[y]=E.start*a,u[y]=E.count,g[y]=_,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Hr extends Er{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pS=new G,mS=new G,RB=new ut,qm=new Hp,h_=new _r,vM=new G,kB=new G;class iu extends $t{constructor(e=new Rt,n=new Hr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)pS.fromBufferAttribute(n,r-1),mS.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=pS.distanceTo(mS);e.setAttribute("lineDistance",new et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),h_.copy(i.boundingSphere),h_.applyMatrix4(r),h_.radius+=s,e.ray.intersectsSphere(h_)===!1)return;RB.copy(r).invert(),qm.copy(e.ray).applyMatrix4(RB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(u!==null){const m=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let y=m,_=g-1;y<_;y+=c){const v=u.getX(y),x=u.getX(y+1),b=p_(this,e,qm,l,v,x);b&&n.push(b)}if(this.isLineLoop){const y=u.getX(g-1),_=u.getX(m),v=p_(this,e,qm,l,y,_);v&&n.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let y=m,_=g-1;y<_;y+=c){const v=p_(this,e,qm,l,y,y+1);v&&n.push(v)}if(this.isLineLoop){const y=p_(this,e,qm,l,g-1,m);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function p_(t,e,n,i,r,s){const o=t.geometry.attributes.position;if(pS.fromBufferAttribute(o,r),mS.fromBufferAttribute(o,s),n.distanceSqToSegment(pS,mS,vM,kB)>i)return;vM.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(vM);if(!(l<e.near||l>e.far))return{distance:l,point:kB.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,object:t}}const NB=new G,LB=new G;class Fa extends iu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)NB.fromBufferAttribute(n,r),LB.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+NB.distanceTo(LB);e.setAttribute("lineDistance",new et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class oX extends iu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class gN extends Er{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const DB=new ut,sI=new Hp,m_=new _r,g_=new G;class aX extends $t{constructor(e=new Rt,n=new gN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),m_.copy(i.boundingSphere),m_.applyMatrix4(r),m_.radius+=s,e.ray.intersectsSphere(m_)===!1)return;DB.copy(r).invert(),sI.copy(e.ray).applyMatrix4(DB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const h=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=h,y=m;g<y;g++){const _=c.getX(g);g_.fromBufferAttribute(d,_),OB(g_,_,l,r,e,n,this)}}else{const h=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=h,y=m;g<y;g++)g_.fromBufferAttribute(d,g),OB(g_,g,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function OB(t,e,n,i,r,s,o){const a=sI.distanceSqToPoint(t);if(a<n){const l=new G;sI.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class tPe extends Rn{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ci,this.magFilter=s!==void 0?s:ci,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class nPe extends Rn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Bi,this.minFilter=Bi,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ww extends Rn{constructor(e,n,i,r,s,o,a,l,c,u,d,h){super(null,o,a,l,c,u,r,s,d,h),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class iPe extends Ww{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=so,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rPe extends Ww{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Ll),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class sPe extends Rn{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $o{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],h=i[r+1]-u,m=(o-u)/h;return(r+m)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new ye:new G);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new G,r=[],s=[],o=[],a=new G,l=new ut;for(let m=0;m<=e;m++){const g=m/e;r[m]=this.getTangentAt(g,new G)}s[0]=new G,o[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),h<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos($n(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(r[m],s[m])}if(n===!0){let m=Math.acos($n(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gw extends $o{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new ye){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,m=c-this.aY;l=h*u-m*d+this.aX,c=h*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lX extends Gw{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function vN(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;h*=u,m*=u,r(o,a,h,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const v_=new G,yM=new vN,xM=new vN,_M=new vN;class cX extends $o{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new G){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(v_.subVectors(r[0],r[1]).add(r[0]),c=v_);const d=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(v_.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=v_),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(u),m);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),yM.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,g,y,_),xM.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,g,y,_),_M.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,g,y,_)}else this.curveType==="catmullrom"&&(yM.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),xM.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),_M.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return i.set(yM.calc(l),xM.calc(l),_M.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new G().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function FB(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function oPe(t,e){const n=1-t;return n*n*e}function aPe(t,e){return 2*(1-t)*t*e}function lPe(t,e){return t*t*e}function tv(t,e,n,i){return oPe(t,e)+aPe(t,n)+lPe(t,i)}function cPe(t,e){const n=1-t;return n*n*n*e}function uPe(t,e){const n=1-t;return 3*n*n*t*e}function dPe(t,e){return 3*(1-t)*t*t*e}function fPe(t,e){return t*t*t*e}function nv(t,e,n,i,r){return cPe(t,e)+uPe(t,n)+dPe(t,i)+fPe(t,r)}class yN extends $o{constructor(e=new ye,n=new ye,i=new ye,r=new ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ye){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(nv(e,r.x,s.x,o.x,a.x),nv(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uX extends $o{constructor(e=new G,n=new G,i=new G,r=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new G){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(nv(e,r.x,s.x,o.x,a.x),nv(e,r.y,s.y,o.y,a.y),nv(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xN extends $o{constructor(e=new ye,n=new ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ye){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ye){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dX extends $o{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _N extends $o{constructor(e=new ye,n=new ye,i=new ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ye){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(tv(e,r.x,s.x,o.x),tv(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bN extends $o{constructor(e=new G,n=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new G){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(tv(e,r.x,s.x,o.x),tv(e,r.y,s.y,o.y),tv(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SN extends $o{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ye){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(FB(a,l.x,c.x,u.x,d.x),FB(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ye().fromArray(r))}return this}}var gS=Object.freeze({__proto__:null,ArcCurve:lX,CatmullRomCurve3:cX,CubicBezierCurve:yN,CubicBezierCurve3:uX,EllipseCurve:Gw,LineCurve:xN,LineCurve3:dX,QuadraticBezierCurve:_N,QuadraticBezierCurve3:bN,SplineCurve:SN});class fX extends $o{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new gS[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new gS[r.type]().fromJSON(r))}return this}}class sy extends fX{constructor(e){super(),this.type="Path",this.currentPoint=new ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new xN(this.currentPoint.clone(),new ye(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new _N(this.currentPoint.clone(),new ye(e,n),new ye(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new yN(this.currentPoint.clone(),new ye(e,n),new ye(i,r),new ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new SN(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new Gw(e,n,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ky extends Rt{constructor(e=[new ye(0,-.5),new ye(.5,0),new ye(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=$n(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new G,h=new ye,m=new G,g=new G,y=new G;let _=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let x=0;x<=n;x++){const b=i+x*u*r,E=Math.sin(b),M=Math.cos(b);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*E,d.y=e[C].y,d.z=e[C].x*M,o.push(d.x,d.y,d.z),h.x=x/n,h.y=C/(e.length-1),a.push(h.x,h.y);const R=l[3*C+0]*E,k=l[3*C+1],I=l[3*C+0]*M;c.push(R,k,I)}}for(let x=0;x<n;x++)for(let b=0;b<e.length-1;b++){const E=b+x*e.length,M=E,C=E+e.length,R=E+e.length+1,k=E+1;s.push(M,C,k),s.push(R,k,C)}this.setIndex(s),this.setAttribute("position",new et(o,3)),this.setAttribute("uv",new et(a,2)),this.setAttribute("normal",new et(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ky(e.points,e.segments,e.phiStart,e.phiLength)}}class $w extends Ky{constructor(e=1,n=1,i=4,r=8){const s=new sy;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new $w(e.radius,e.length,e.capSegments,e.radialSegments)}}class qw extends Rt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new G,u=new ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const m=i+d/n*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new et(o,3)),this.setAttribute("normal",new et(a,3)),this.setAttribute("uv",new et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $p extends Rt{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],h=[],m=[];let g=0;const y=[],_=i/2;let v=0;x(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new et(d,3)),this.setAttribute("normal",new et(h,3)),this.setAttribute("uv",new et(m,2));function x(){const E=new G,M=new G;let C=0;const R=(n-e)/i;for(let k=0;k<=s;k++){const I=[],P=k/s,O=P*(n-e)+e;for(let z=0;z<=r;z++){const U=z/r,X=U*l+a,W=Math.sin(X),K=Math.cos(X);M.x=O*W,M.y=-P*i+_,M.z=O*K,d.push(M.x,M.y,M.z),E.set(W,R,K).normalize(),h.push(E.x,E.y,E.z),m.push(U,1-P),I.push(g++)}y.push(I)}for(let k=0;k<r;k++)for(let I=0;I<s;I++){const P=y[I][k],O=y[I+1][k],z=y[I+1][k+1],U=y[I][k+1];u.push(P,O,U),u.push(O,z,U),C+=6}c.addGroup(v,C,0),v+=C}function b(E){const M=g,C=new ye,R=new G;let k=0;const I=E===!0?e:n,P=E===!0?1:-1;for(let z=1;z<=r;z++)d.push(0,_*P,0),h.push(0,P,0),m.push(.5,.5),g++;const O=g;for(let z=0;z<=r;z++){const X=z/r*l+a,W=Math.cos(X),K=Math.sin(X);R.x=I*K,R.y=_*P,R.z=I*W,d.push(R.x,R.y,R.z),h.push(0,P,0),C.x=W*.5+.5,C.y=K*.5*P+.5,m.push(C.x,C.y),g++}for(let z=0;z<r;z++){const U=M+z,X=O+z;E===!0?u.push(X,X+1,U):u.push(X+1,X,U),k+=3}c.addGroup(v,k,E===!0?1:2),v+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $p(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xw extends $p{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Xw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mu extends Rt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new et(s,3)),this.setAttribute("normal",new et(s.slice(),3)),this.setAttribute("uv",new et(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const b=new G,E=new G,M=new G;for(let C=0;C<n.length;C+=3)m(n[C+0],b),m(n[C+1],E),m(n[C+2],M),l(b,E,M,x)}function l(x,b,E,M){const C=M+1,R=[];for(let k=0;k<=C;k++){R[k]=[];const I=x.clone().lerp(E,k/C),P=b.clone().lerp(E,k/C),O=C-k;for(let z=0;z<=O;z++)z===0&&k===C?R[k][z]=I:R[k][z]=I.clone().lerp(P,z/O)}for(let k=0;k<C;k++)for(let I=0;I<2*(C-k)-1;I++){const P=Math.floor(I/2);I%2===0?(h(R[k][P+1]),h(R[k+1][P]),h(R[k][P])):(h(R[k][P+1]),h(R[k+1][P+1]),h(R[k+1][P]))}}function c(x){const b=new G;for(let E=0;E<s.length;E+=3)b.x=s[E+0],b.y=s[E+1],b.z=s[E+2],b.normalize().multiplyScalar(x),s[E+0]=b.x,s[E+1]=b.y,s[E+2]=b.z}function u(){const x=new G;for(let b=0;b<s.length;b+=3){x.x=s[b+0],x.y=s[b+1],x.z=s[b+2];const E=_(x)/2/Math.PI+.5,M=v(x)/Math.PI+.5;o.push(E,1-M)}g(),d()}function d(){for(let x=0;x<o.length;x+=6){const b=o[x+0],E=o[x+2],M=o[x+4],C=Math.max(b,E,M),R=Math.min(b,E,M);C>.9&&R<.1&&(b<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),M<.2&&(o[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function m(x,b){const E=x*3;b.x=e[E+0],b.y=e[E+1],b.z=e[E+2]}function g(){const x=new G,b=new G,E=new G,M=new G,C=new ye,R=new ye,k=new ye;for(let I=0,P=0;I<s.length;I+=9,P+=6){x.set(s[I+0],s[I+1],s[I+2]),b.set(s[I+3],s[I+4],s[I+5]),E.set(s[I+6],s[I+7],s[I+8]),C.set(o[P+0],o[P+1]),R.set(o[P+2],o[P+3]),k.set(o[P+4],o[P+5]),M.copy(x).add(b).add(E).divideScalar(3);const O=_(M);y(C,P+0,x,O),y(R,P+2,b,O),y(k,P+4,E,O)}}function y(x,b,E,M){M<0&&x.x===1&&(o[b]=x.x-1),E.x===0&&E.z===0&&(o[b]=M/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mu(e.vertices,e.indices,e.radius,e.details)}}class Yw extends mu{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Yw(e.radius,e.detail)}}const y_=new G,x_=new G,bM=new G,__=new ws;class hX extends Rt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(bd*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:_,c:v}=__;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),__.getNormal(bM),d[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const b=(x+1)%3,E=d[x],M=d[b],C=__[u[x]],R=__[u[b]],k=`${E}_${M}`,I=`${M}_${E}`;I in h&&h[I]?(bM.dot(h[I].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(R.x,R.y,R.z)),h[I]=null):k in h||(h[k]={index0:c[x],index1:c[b],normal:bM.clone()})}}for(const g in h)if(h[g]){const{index0:y,index1:_}=h[g];y_.fromBufferAttribute(a,y),x_.fromBufferAttribute(a,_),m.push(y_.x,y_.y,y_.z),m.push(x_.x,x_.y,x_.z)}this.setAttribute("position",new et(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wd extends sy{constructor(e){super(e),this.uuid=Is(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new sy().fromJSON(r))}return this}}const hPe={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=pX(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,h,m;if(i&&(s=yPe(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<r;g+=n)d=t[g],h=t[g+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return oy(s,o,n,a,l,m,0),o}};function pX(t,e,n,i,r){let s,o;if(r===APe(t,e,n,i)>0)for(s=e;s<n;s+=i)o=zB(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=zB(s,t[s],t[s+1],o);return o&&Kw(o,o.next)&&(ly(o),o=o.next),o}function jd(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Kw(n,n.next)||zn(n.prev,n,n.next)===0)){if(ly(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function oy(t,e,n,i,r,s,o){if(!t)return;!o&&s&&wPe(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?mPe(t,i,r,s):pPe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),ly(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=gPe(jd(t),e,n),oy(t,e,n,i,r,s,2)):o===2&&vPe(t,e,n,i,r,s):oy(jd(t),e,n,i,r,s,1);break}}}function pPe(t){const e=t.prev,n=t,i=t.next;if(zn(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,h=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=i.next;for(;g!==e;){if(g.x>=u&&g.x<=h&&g.y>=d&&g.y<=m&&Ih(r,a,s,l,o,c,g.x,g.y)&&zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function mPe(t,e,n,i){const r=t.prev,s=t,o=t.next;if(zn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,h=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<d?u<h?u:h:d<h?d:h,y=a>l?a>c?a:c:l>c?l:c,_=u>d?u>h?u:h:d>h?d:h,v=oI(m,g,e,n,i),x=oI(y,_,e,n,i);let b=t.prevZ,E=t.nextZ;for(;b&&b.z>=v&&E&&E.z<=x;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=_&&b!==r&&b!==o&&Ih(a,u,l,d,c,h,b.x,b.y)&&zn(b.prev,b,b.next)>=0||(b=b.prevZ,E.x>=m&&E.x<=y&&E.y>=g&&E.y<=_&&E!==r&&E!==o&&Ih(a,u,l,d,c,h,E.x,E.y)&&zn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;b&&b.z>=v;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=_&&b!==r&&b!==o&&Ih(a,u,l,d,c,h,b.x,b.y)&&zn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=y&&E.y>=g&&E.y<=_&&E!==r&&E!==o&&Ih(a,u,l,d,c,h,E.x,E.y)&&zn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function gPe(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!Kw(r,s)&&mX(r,i,i.next,s)&&ay(r,s)&&ay(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),ly(i),ly(i.next),i=t=s),i=i.next}while(i!==t);return jd(i)}function vPe(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&CPe(o,a)){let l=gX(o,a);o=jd(o,o.next),l=jd(l,l.next),oy(o,e,n,i,r,s,0),oy(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function yPe(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=pX(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(TPe(c));for(r.sort(xPe),s=0;s<r.length;s++)n=_Pe(r[s],n);return n}function xPe(t,e){return t.x-e.x}function _Pe(t,e){const n=bPe(t,e);if(!n)return e;const i=gX(n,t);return jd(i,i.next),jd(n,n.next)}function bPe(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>i&&(i=h,r=n.x<n.next.x?n:n.next,h===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&Ih(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),ay(n,t)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&SPe(r,n)))&&(r=n,u=d)),n=n.next;while(n!==a);return r}function SPe(t,e){return zn(t.prev,t,e.prev)<0&&zn(e.next,t,t.next)<0}function wPe(t,e,n,i){let r=t;do r.z===0&&(r.z=oI(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,EPe(r)}function EPe(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function oI(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function TPe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ih(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function CPe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!MPe(t,e)&&(ay(t,e)&&ay(e,t)&&PPe(t,e)&&(zn(t.prev,t,e.prev)||zn(t,e.prev,e))||Kw(t,e)&&zn(t.prev,t,t.next)>0&&zn(e.prev,e,e.next)>0)}function zn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Kw(t,e){return t.x===e.x&&t.y===e.y}function mX(t,e,n,i){const r=S_(zn(t,e,n)),s=S_(zn(t,e,i)),o=S_(zn(n,i,t)),a=S_(zn(n,i,e));return!!(r!==s&&o!==a||r===0&&b_(t,n,e)||s===0&&b_(t,i,e)||o===0&&b_(n,t,i)||a===0&&b_(n,e,i))}function b_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function S_(t){return t>0?1:t<0?-1:0}function MPe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mX(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ay(t,e){return zn(t.prev,t,t.next)<0?zn(t,e,t.next)>=0&&zn(t,t.prev,e)>=0:zn(t,e,t.prev)<0||zn(t,t.next,e)<0}function PPe(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function gX(t,e){const n=new aI(t.i,t.x,t.y),i=new aI(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function zB(t,e,n,i){const r=new aI(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ly(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function aI(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function APe(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class Aa{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Aa.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];BB(e),UB(i,e);let o=e.length;n.forEach(BB);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,UB(i,n[l]);const a=hPe.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function BB(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function UB(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Jw extends Rt{constructor(e=new wd([new ye(.5,.5),new ye(-.5,.5),new ye(-.5,-.5),new ye(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new et(r,3)),this.setAttribute("uv",new et(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,_=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:IPe;let b,E=!1,M,C,R,k;v&&(b=v.getSpacedPoints(u),E=!0,h=!1,M=v.computeFrenetFrames(u,!1),C=new G,R=new G,k=new G),h||(_=0,m=0,g=0,y=0);const I=a.extractPoints(c);let P=I.shape;const O=I.holes;if(!Aa.isClockWise(P)){P=P.reverse();for(let H=0,ve=O.length;H<ve;H++){const we=O[H];Aa.isClockWise(we)&&(O[H]=we.reverse())}}const U=Aa.triangulateShape(P,O),X=P;for(let H=0,ve=O.length;H<ve;H++){const we=O[H];P=P.concat(we)}function W(H,ve,we){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(ve,we)}const K=P.length,j=U.length;function D(H,ve,we){let Oe,me,ot;const Fe=H.x-ve.x,qe=H.y-ve.y,Y=we.x-H.x,F=we.y-H.y,se=Fe*Fe+qe*qe,xe=Fe*F-qe*Y;if(Math.abs(xe)>Number.EPSILON){const ge=Math.sqrt(se),Se=Math.sqrt(Y*Y+F*F),at=ve.x-qe/ge,Be=ve.y+Fe/ge,Xe=we.x-F/Se,_t=we.y+Y/Se,Me=((Xe-at)*F-(_t-Be)*Y)/(Fe*F-qe*Y);Oe=at+Fe*Me-H.x,me=Be+qe*Me-H.y;const $e=Oe*Oe+me*me;if($e<=2)return new ye(Oe,me);ot=Math.sqrt($e/2)}else{let ge=!1;Fe>Number.EPSILON?Y>Number.EPSILON&&(ge=!0):Fe<-Number.EPSILON?Y<-Number.EPSILON&&(ge=!0):Math.sign(qe)===Math.sign(F)&&(ge=!0),ge?(Oe=-qe,me=Fe,ot=Math.sqrt(se)):(Oe=Fe,me=qe,ot=Math.sqrt(se/2))}return new ye(Oe/ot,me/ot)}const B=[];for(let H=0,ve=X.length,we=ve-1,Oe=H+1;H<ve;H++,we++,Oe++)we===ve&&(we=0),Oe===ve&&(Oe=0),B[H]=D(X[H],X[we],X[Oe]);const $=[];let J,ce=B.concat();for(let H=0,ve=O.length;H<ve;H++){const we=O[H];J=[];for(let Oe=0,me=we.length,ot=me-1,Fe=Oe+1;Oe<me;Oe++,ot++,Fe++)ot===me&&(ot=0),Fe===me&&(Fe=0),J[Oe]=D(we[Oe],we[ot],we[Fe]);$.push(J),ce=ce.concat(J)}for(let H=0;H<_;H++){const ve=H/_,we=m*Math.cos(ve*Math.PI/2),Oe=g*Math.sin(ve*Math.PI/2)+y;for(let me=0,ot=X.length;me<ot;me++){const Fe=W(X[me],B[me],Oe);Te(Fe.x,Fe.y,-we)}for(let me=0,ot=O.length;me<ot;me++){const Fe=O[me];J=$[me];for(let qe=0,Y=Fe.length;qe<Y;qe++){const F=W(Fe[qe],J[qe],Oe);Te(F.x,F.y,-we)}}}const Ne=g+y;for(let H=0;H<K;H++){const ve=h?W(P[H],ce[H],Ne):P[H];E?(R.copy(M.normals[0]).multiplyScalar(ve.x),C.copy(M.binormals[0]).multiplyScalar(ve.y),k.copy(b[0]).add(R).add(C),Te(k.x,k.y,k.z)):Te(ve.x,ve.y,0)}for(let H=1;H<=u;H++)for(let ve=0;ve<K;ve++){const we=h?W(P[ve],ce[ve],Ne):P[ve];E?(R.copy(M.normals[H]).multiplyScalar(we.x),C.copy(M.binormals[H]).multiplyScalar(we.y),k.copy(b[H]).add(R).add(C),Te(k.x,k.y,k.z)):Te(we.x,we.y,d/u*H)}for(let H=_-1;H>=0;H--){const ve=H/_,we=m*Math.cos(ve*Math.PI/2),Oe=g*Math.sin(ve*Math.PI/2)+y;for(let me=0,ot=X.length;me<ot;me++){const Fe=W(X[me],B[me],Oe);Te(Fe.x,Fe.y,d+we)}for(let me=0,ot=O.length;me<ot;me++){const Fe=O[me];J=$[me];for(let qe=0,Y=Fe.length;qe<Y;qe++){const F=W(Fe[qe],J[qe],Oe);E?Te(F.x,F.y+b[u-1].y,b[u-1].x+we):Te(F.x,F.y,d+we)}}}ie(),pe();function ie(){const H=r.length/3;if(h){let ve=0,we=K*ve;for(let Oe=0;Oe<j;Oe++){const me=U[Oe];ue(me[2]+we,me[1]+we,me[0]+we)}ve=u+_*2,we=K*ve;for(let Oe=0;Oe<j;Oe++){const me=U[Oe];ue(me[0]+we,me[1]+we,me[2]+we)}}else{for(let ve=0;ve<j;ve++){const we=U[ve];ue(we[2],we[1],we[0])}for(let ve=0;ve<j;ve++){const we=U[ve];ue(we[0]+K*u,we[1]+K*u,we[2]+K*u)}}i.addGroup(H,r.length/3-H,0)}function pe(){const H=r.length/3;let ve=0;Ee(X,ve),ve+=X.length;for(let we=0,Oe=O.length;we<Oe;we++){const me=O[we];Ee(me,ve),ve+=me.length}i.addGroup(H,r.length/3-H,1)}function Ee(H,ve){let we=H.length;for(;--we>=0;){const Oe=we;let me=we-1;me<0&&(me=H.length-1);for(let ot=0,Fe=u+_*2;ot<Fe;ot++){const qe=K*ot,Y=K*(ot+1),F=ve+Oe+qe,se=ve+me+qe,xe=ve+me+Y,ge=ve+Oe+Y;fe(F,se,xe,ge)}}}function Te(H,ve,we){l.push(H),l.push(ve),l.push(we)}function ue(H,ve,we){Ie(H),Ie(ve),Ie(we);const Oe=r.length/3,me=x.generateTopUV(i,r,Oe-3,Oe-2,Oe-1);Ge(me[0]),Ge(me[1]),Ge(me[2])}function fe(H,ve,we,Oe){Ie(H),Ie(ve),Ie(Oe),Ie(ve),Ie(we),Ie(Oe);const me=r.length/3,ot=x.generateSideWallUV(i,r,me-6,me-3,me-2,me-1);Ge(ot[0]),Ge(ot[1]),Ge(ot[3]),Ge(ot[1]),Ge(ot[2]),Ge(ot[3])}function Ie(H){r.push(l[H*3+0]),r.push(l[H*3+1]),r.push(l[H*3+2])}function Ge(H){s.push(H.x),s.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return RPe(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new gS[r.type]().fromJSON(r)),new Jw(i,e.options)}}const IPe={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new ye(s,o),new ye(a,l),new ye(c,u)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],h=e[r*3],m=e[r*3+1],g=e[r*3+2],y=e[s*3],_=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new ye(o,1-l),new ye(c,1-d),new ye(h,1-g),new ye(y,1-v)]:[new ye(a,1-l),new ye(u,1-d),new ye(m,1-g),new ye(_,1-v)]}};function RPe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Qw extends mu{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Qw(e.radius,e.detail)}}class Jy extends mu{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Jy(e.radius,e.detail)}}class Zw extends Rt{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const h=(n-e)/r,m=new G,g=new ye;for(let y=0;y<=r;y++){for(let _=0;_<=i;_++){const v=s+_/i*o;m.x=d*Math.cos(v),m.y=d*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,u.push(g.x,g.y)}d+=h}for(let y=0;y<r;y++){const _=y*(i+1);for(let v=0;v<i;v++){const x=v+_,b=x,E=x+i+1,M=x+i+2,C=x+1;a.push(b,E,C),a.push(E,M,C)}}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(c,3)),this.setAttribute("uv",new et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class eE extends Rt{constructor(e=new wd([new ye(0,.5),new ye(-.5,-.5),new ye(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new et(r,3)),this.setAttribute("normal",new et(s,3)),this.setAttribute("uv",new et(o,2));function c(u){const d=r.length/3,h=u.extractPoints(n);let m=h.shape;const g=h.holes;Aa.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const x=g[_];Aa.isClockWise(x)===!0&&(g[_]=x.reverse())}const y=Aa.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const x=g[_];m=m.concat(x)}for(let _=0,v=m.length;_<v;_++){const x=m[_];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,v=y.length;_<v;_++){const x=y[_],b=x[0]+d,E=x[1]+d,M=x[2]+d;i.push(b,E,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return kPe(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new eE(i,e.curveSegments)}}function kPe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Qy extends Rt{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new G,h=new G,m=[],g=[],y=[],_=[];for(let v=0;v<=i;v++){const x=[],b=v/i;let E=0;v===0&&o===0?E=.5/n:v===i&&l===Math.PI&&(E=-.5/n);for(let M=0;M<=n;M++){const C=M/n;d.x=-e*Math.cos(r+C*s)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(r+C*s)*Math.sin(o+b*a),g.push(d.x,d.y,d.z),h.copy(d).normalize(),y.push(h.x,h.y,h.z),_.push(C+E,1-b),x.push(c++)}u.push(x)}for(let v=0;v<i;v++)for(let x=0;x<n;x++){const b=u[v][x+1],E=u[v][x],M=u[v+1][x],C=u[v+1][x+1];(v!==0||o>0)&&m.push(b,E,C),(v!==i-1||l<Math.PI)&&m.push(E,M,C)}this.setIndex(m),this.setAttribute("position",new et(g,3)),this.setAttribute("normal",new et(y,3)),this.setAttribute("uv",new et(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class tE extends mu{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tE(e.radius,e.detail)}}class nE extends Rt{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new G,d=new G,h=new G;for(let m=0;m<=i;m++)for(let g=0;g<=r;g++){const y=g/r*s,_=m/i*Math.PI*2;d.x=(e+n*Math.cos(_))*Math.cos(y),d.y=(e+n*Math.cos(_))*Math.sin(y),d.z=n*Math.sin(_),a.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(g/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let g=1;g<=r;g++){const y=(r+1)*m+g-1,_=(r+1)*(m-1)+g-1,v=(r+1)*(m-1)+g,x=(r+1)*m+g;o.push(y,_,x),o.push(_,v,x)}this.setIndex(o),this.setAttribute("position",new et(a,3)),this.setAttribute("normal",new et(l,3)),this.setAttribute("uv",new et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class iE extends Rt{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new G,h=new G,m=new G,g=new G,y=new G,_=new G,v=new G;for(let b=0;b<=i;++b){const E=b/i*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,g),_.subVectors(g,m),v.addVectors(g,m),y.crossVectors(_,v),v.crossVectors(y,_),y.normalize(),v.normalize();for(let M=0;M<=r;++M){const C=M/r*Math.PI*2,R=-n*Math.cos(C),k=n*Math.sin(C);d.x=m.x+(R*v.x+k*y.x),d.y=m.y+(R*v.y+k*y.y),d.z=m.z+(R*v.z+k*y.z),l.push(d.x,d.y,d.z),h.subVectors(d,m).normalize(),c.push(h.x,h.y,h.z),u.push(b/i),u.push(M/r)}}for(let b=1;b<=i;b++)for(let E=1;E<=r;E++){const M=(r+1)*(b-1)+(E-1),C=(r+1)*b+(E-1),R=(r+1)*b+E,k=(r+1)*(b-1)+E;a.push(M,C,k),a.push(C,R,k)}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(c,3)),this.setAttribute("uv",new et(u,2));function x(b,E,M,C,R){const k=Math.cos(b),I=Math.sin(b),P=M/E*b,O=Math.cos(P);R.x=C*(2+O)*.5*k,R.y=C*(2+O)*I*.5,R.z=C*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rE extends Rt{constructor(e=new bN(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new G,l=new G,c=new ye;let u=new G;const d=[],h=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new et(d,3)),this.setAttribute("normal",new et(h,3)),this.setAttribute("uv",new et(m,2));function y(){for(let b=0;b<n;b++)_(b);_(s===!1?n:0),x(),v()}function _(b){u=e.getPointAt(b/n,u);const E=o.normals[b],M=o.binormals[b];for(let C=0;C<=r;C++){const R=C/r*Math.PI*2,k=Math.sin(R),I=-Math.cos(R);l.x=I*E.x+k*M.x,l.y=I*E.y+k*M.y,l.z=I*E.z+k*M.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let b=1;b<=n;b++)for(let E=1;E<=r;E++){const M=(r+1)*(b-1)+(E-1),C=(r+1)*b+(E-1),R=(r+1)*b+E,k=(r+1)*(b-1)+E;g.push(M,C,k),g.push(C,R,k)}}function x(){for(let b=0;b<=n;b++)for(let E=0;E<=r;E++)c.x=b/n,c.y=E/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rE(new gS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class vX extends Rt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new G,s=new G;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,m=d.count;for(let g=h,y=h+m;g<y;g+=3)for(let _=0;_<3;_++){const v=a.getX(g+_),x=a.getX(g+(_+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,x),VB(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),VB(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function VB(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var jB=Object.freeze({__proto__:null,BoxGeometry:nf,CapsuleGeometry:$w,CircleGeometry:qw,ConeGeometry:Xw,CylinderGeometry:$p,DodecahedronGeometry:Yw,EdgesGeometry:hX,ExtrudeGeometry:Jw,IcosahedronGeometry:Qw,LatheGeometry:Ky,OctahedronGeometry:Jy,PlaneGeometry:Wp,PolyhedronGeometry:mu,RingGeometry:Zw,ShapeGeometry:eE,SphereGeometry:Qy,TetrahedronGeometry:tE,TorusGeometry:nE,TorusKnotGeometry:iE,TubeGeometry:rE,WireframeGeometry:vX});class yX extends Er{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xX extends fo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class wN extends Er{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hu,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _X extends wN{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $n(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class bX extends Er{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hu,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.combine=Hy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SX extends Er{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hu,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wX extends Er{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hu,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class EX extends Er{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hu,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cs,this.combine=Hy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TX extends Er{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hu,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CX extends Hr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function dd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function MX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PX(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function lI(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function EN(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function NPe(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*r;if(!(g<n||g>=i)){d.push(c.times[m]);for(let y=0;y<u;++y)h.push(c.values[m*u+y])}}d.length!==0&&(c.times=dd(d,c.times.constructor),c.values=dd(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function LPe(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=u,x=d-u;y=a.values.slice(v,x)}else if(s>=a.times[g]){const v=g*d+u,x=v+d-u;y=a.values.slice(v,x)}else{const v=a.createInterpolant(),x=u,b=d-u;v.evaluate(s),y=v.resultBuffer.slice(x,b)}l==="quaternion"&&new bi().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let v=0;v<_;++v){const x=v*m+h;if(l==="quaternion")bi.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const b=m-h*2;for(let E=0;E<b;++E)c.values[x+E]-=y[E]}}}return t.blendMode=nN,t}const DPe={convertArray:dd,isTypedArray:MX,getKeyframeOrder:PX,sortedArray:lI,flattenJSON:EN,subclip:NPe,makeClipAdditive:LPe};class Zy{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class AX extends Zy{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ld,endingEnd:ld}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case cd:s=e,a=2*n-i;break;case Qv:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case cd:o=e,l=2*i-n;break;case Qv:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(i-n)/(r-n),y=g*g,_=y*g,v=-h*_+2*h*y-h*g,x=(1+h)*_+(-1.5-2*h)*y+(-.5+h)*g+1,b=(-1-m)*_+(1.5+m)*y+.5*g,E=m*_-m*y;for(let M=0;M!==a;++M)s[M]=v*o[u+M]+x*o[c+M]+b*o[l+M]+E*o[d+M];return s}}class TN extends Zy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-n)/(r-n),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class IX extends Zy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class qo{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=dd(n,this.TimeBufferType),this.values=dd(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:dd(e.times,Array),values:dd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new IX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new TN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new AX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Jv:n=this.InterpolantFactoryMethodDiscrete;break;case hS:n=this.InterpolantFactoryMethodLinear;break;case _1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jv;case this.InterpolantFactoryMethodLinear:return hS;case this.InterpolantFactoryMethodSmooth:return _1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&MX(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===_1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,h=d-i,m=d+i;for(let g=0;g!==i;++g){const y=n[d+g];if(y!==n[h+g]||y!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,h=o*i;for(let m=0;m!==i;++m)n[h+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}qo.prototype.TimeBufferType=Float32Array;qo.prototype.ValueBufferType=Float32Array;qo.prototype.DefaultInterpolation=hS;class rf extends qo{constructor(e,n,i){super(e,n,i)}}rf.prototype.ValueTypeName="bool";rf.prototype.ValueBufferType=Array;rf.prototype.DefaultInterpolation=Jv;rf.prototype.InterpolantFactoryMethodLinear=void 0;rf.prototype.InterpolantFactoryMethodSmooth=void 0;class CN extends qo{}CN.prototype.ValueTypeName="color";class cy extends qo{}cy.prototype.ValueTypeName="number";class RX extends Zy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let u=c+a;c!==u;c+=4)bi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class e0 extends qo{InterpolantFactoryMethodLinear(e){return new RX(this.times,this.values,this.getValueSize(),e)}}e0.prototype.ValueTypeName="quaternion";e0.prototype.InterpolantFactoryMethodSmooth=void 0;class sf extends qo{constructor(e,n,i){super(e,n,i)}}sf.prototype.ValueTypeName="string";sf.prototype.ValueBufferType=Array;sf.prototype.DefaultInterpolation=Jv;sf.prototype.InterpolantFactoryMethodLinear=void 0;sf.prototype.InterpolantFactoryMethodSmooth=void 0;class uy extends qo{}uy.prototype.ValueTypeName="vector";class dy{constructor(e="",n=-1,i=[],r=Ow){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Is(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(FPe(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(qo.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=PX(l);l=lI(l,1,u),c=lI(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new cy(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,m,g,y){if(m.length!==0){const _=[],v=[];EN(m,_,v,g),_.length!==0&&y.push(new d(h,_,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let y=0;y<h[g].morphTargets.length;y++)m[h[g].morphTargets[y]]=-1;for(const y in m){const _=[],v=[];for(let x=0;x!==h[g].morphTargets.length;++x){const b=h[g];_.push(b.time),v.push(b.morphTarget===y?1:0)}r.push(new cy(".morphTargetInfluence["+y+"]",_,v))}l=m.length*o}else{const m=".bones["+n[d].name+"]";i(uy,m+".position",h,"pos",r),i(e0,m+".quaternion",h,"rot",r),i(uy,m+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function OPe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cy;case"vector":case"vector2":case"vector3":case"vector4":return uy;case"color":return CN;case"quaternion":return e0;case"bool":case"boolean":return rf;case"string":return sf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function FPe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=OPe(t.type);if(t.times===void 0){const n=[],i=[];EN(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ml={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class MN{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const m=c[d],g=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const kX=new MN;class us{constructor(e){this.manager=e!==void 0?e:kX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}us.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ja={};class zPe extends Error{constructor(e,n){super(e),this.response=n}}class Ol extends us{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ml.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ja[e]!==void 0){Ja[e].push({onLoad:n,onProgress:i,onError:r});return}Ja[e]=[],Ja[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ja[e],d=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let y=0;const _=new ReadableStream({start(v){x();function x(){d.read().then(({done:b,value:E})=>{if(b)v.close();else{y+=E.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let C=0,R=u.length;C<R;C++){const k=u[C];k.onProgress&&k.onProgress(M)}v.enqueue(E),x()}},b=>{v.error(b)})}}});return new Response(_)}else throw new zPe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(h);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{ml.add(e,c);const u=Ja[e];delete Ja[e];for(let d=0,h=u.length;d<h;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ja[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ja[e];for(let d=0,h=u.length;d<h;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class BPe extends us{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ol(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=dy.parse(e[i]);n.push(r)}return n}}class UPe extends us{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new Ww,l=new Ol(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const m=s.parse(h,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=ci),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+y]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=ci),a.format=h.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class fy extends us{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ml.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=ry("img");function l(){u(),ml.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class VPe extends us{constructor(e){super(e)}load(e,n,i,r){const s=new qy;s.colorSpace=eo;const o=new fy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class jPe extends us{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Pa,a=new Ol(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:so,o.wrapT=c.wrapT!==void 0?c.wrapT:so,o.magFilter=c.magFilter!==void 0?c.magFilter:ci,o.minFilter=c.minFilter!==void 0?c.minFilter:ci,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ga),c.mipmapCount===1&&(o.minFilter=ci),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,r),o}}class sE extends us{constructor(e){super(e)}load(e,n,i,r){const s=new Rn,o=new fy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class gu extends $t{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class NX extends gu{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy($t.DEFAULT_UP),this.updateMatrix(),this.groundColor=new He(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const SM=new ut,HB=new G,WB=new G;class PN{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Xy,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new jt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;HB.setFromMatrixPosition(e.matrixWorld),n.position.copy(HB),WB.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(WB),n.updateMatrixWorld(),SM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(SM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class HPe extends PN{constructor(){super(new zi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=yp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class LX extends gu{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy($t.DEFAULT_UP),this.updateMatrix(),this.target=new $t,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new HPe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const GB=new ut,Xm=new G,wM=new G;class WPe extends PN{constructor(){super(new zi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new jt(2,1,1,1),new jt(0,1,1,1),new jt(3,1,1,1),new jt(1,1,1,1),new jt(3,0,1,1),new jt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Xm.setFromMatrixPosition(e.matrixWorld),i.position.copy(Xm),wM.copy(i.position),wM.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(wM),i.updateMatrixWorld(),r.makeTranslation(-Xm.x,-Xm.y,-Xm.z),GB.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GB)}}class DX extends gu{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new WPe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class GPe extends PN{constructor(){super(new Yy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class OX extends gu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy($t.DEFAULT_UP),this.updateMatrix(),this.target=new $t,this.shadow=new GPe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class FX extends gu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class zX extends gu{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class BX{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class UX extends gu{constructor(e=new BX,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class oE extends us{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new Ol(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=oE.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new He().setHex(o.value);break;case"v2":r.uniforms[s].value=new ye().fromArray(o.value);break;case"v3":r.uniforms[s].value=new G().fromArray(o.value);break;case"v4":r.uniforms[s].value=new jt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Et().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ut().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ye().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:yX,SpriteMaterial:pN,RawShaderMaterial:xX,ShaderMaterial:fo,PointsMaterial:gN,MeshPhysicalMaterial:_X,MeshStandardMaterial:wN,MeshPhongMaterial:bX,MeshToonMaterial:SX,MeshNormalMaterial:wX,MeshLambertMaterial:EX,MeshDepthMaterial:dN,MeshDistanceMaterial:fN,MeshBasicMaterial:pu,MeshMatcapMaterial:TX,LineDashedMaterial:CX,LineBasicMaterial:Hr,Material:Er};return new n[e]}}class cI{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class VX extends Rt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class jX extends us{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ol(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(m,g){if(n[g]!==void 0)return n[g];const _=m.interleavedBuffers[g],v=s(m,_.buffer),x=Mh(_.type,v),b=new jw(x,_.stride);return b.uuid=_.uuid,n[g]=b,b}function s(m,g){if(i[g]!==void 0)return i[g];const _=m.arrayBuffers[g],v=new Uint32Array(_).buffer;return i[g]=v,v}const o=e.isInstancedBufferGeometry?new VX:new Rt,a=e.data.index;if(a!==void 0){const m=Mh(a.type,a.array);o.setIndex(new an(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const _=r(e.data,g.data);y=new Vd(_,g.itemSize,g.offset,g.normalized)}else{const _=Mh(g.type,g.array),v=g.isInstancedBufferAttribute?_p:an;y=new v(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],y=[];for(let _=0,v=g.length;_<v;_++){const x=g[_];let b;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);b=new Vd(E,x.itemSize,x.offset,x.normalized)}else{const E=Mh(x.type,x.array);b=new an(E,x.itemSize,x.normalized)}x.name!==void 0&&(b.name=x.name),y.push(b)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const y=d[m];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new G;h.center!==void 0&&m.fromArray(h.center),o.boundingSphere=new _r(m,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class $Pe extends us{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?cI.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ol(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?cI.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ol(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let d=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new wd().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Hw().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new jX;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in jB?a=jB[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new oE;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=dy.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:Mh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new MN(n);s=new fy(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const _=h[g],v=a(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Pa(v.data,v.width,v.height)))}r[d.uuid]=new ud(m)}else{const m=a(d.url);r[d.uuid]=new ud(m)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Mh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new fy(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,h=c.length;d<h;d++){const m=c[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Pa(g.data,g.width,g.height)))}i[l.uuid]=new ud(u)}else{const u=await s(l.url);i[l.uuid]=new ud(u)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new qy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Pa:u=new Rn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,qPe)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],$B),u.wrapT=i(a.wrap[1],$B)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,qB)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,qB)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,n,i,r,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const _=h[g];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let u,d;switch(e.type){case"Scene":o=new hN,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Vw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Uw(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new zi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Yy(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new FX(e.color,e.intensity);break;case"DirectionalLight":o=new OX(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new DX(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new zX(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new LX(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new NX(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new UX().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new iX(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new ui(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new rX(u,d,h),o.instanceMatrix=new _p(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new _p(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new sX(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const _=new Br;_.min.fromArray(y.boxMin),_.max.fromArray(y.boxMax);const v=new _r;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:_,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new nX;break;case"Line":o=new iu(a(e.geometry),l(e.material));break;case"LineLoop":o=new oX(a(e.geometry),l(e.material));break;case"LineSegments":o=new Fa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new aX(a(e.geometry),l(e.material));break;case"Sprite":o=new tX(l(e.material));break;case"Group":o=new Ah;break;case"Bone":o=new mN;break;default:o=new $t}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],n,i,r,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new $t}})}}const qPe={UVMapping:Aw,CubeReflectionMapping:Ll,CubeRefractionMapping:nu,EquirectangularReflectionMapping:qv,EquirectangularRefractionMapping:Xv,CubeUVReflectionMapping:Vp},$B={RepeatWrapping:Yv,ClampToEdgeWrapping:so,MirroredRepeatWrapping:Kv},qB={NearestFilter:Bi,NearestMipmapNearestFilter:$k,NearestMipmapLinearFilter:Ch,LinearFilter:ci,LinearMipmapNearestFilter:Xg,LinearMipmapLinearFilter:ga};class XPe extends us{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ml.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return ml.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),ml.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});ml.add(e,l),s.manager.itemStart(e)}}let w_;class AN{static getContext(){return w_===void 0&&(w_=new(window.AudioContext||window.webkitAudioContext)),w_}static setContext(e){w_=e}}class YPe extends us{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ol(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);AN.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const XB=new ut,YB=new ut,zu=new ut;class KPe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,zu.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(bd*n.fov*.5)/n.zoom;let a,l;YB.elements[12]=-r,XB.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,zu.elements[0]=2*n.near/(l-a),zu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(zu),a=-o*n.aspect-s,l=o*n.aspect-s,zu.elements[0]=2*n.near/(l-a),zu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(zu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(YB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(XB)}}class IN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=KB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=KB();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function KB(){return(typeof performance>"u"?Date:performance).now()}const Bu=new G,JB=new bi,JPe=new G,Uu=new G;class QPe extends $t{constructor(){super(),this.type="AudioListener",this.context=AN.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new IN}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bu,JB,JPe),Uu.set(0,0,-1).applyQuaternion(JB),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Bu.x,r),n.positionY.linearRampToValueAtTime(Bu.y,r),n.positionZ.linearRampToValueAtTime(Bu.z,r),n.forwardX.linearRampToValueAtTime(Uu.x,r),n.forwardY.linearRampToValueAtTime(Uu.y,r),n.forwardZ.linearRampToValueAtTime(Uu.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(Bu.x,Bu.y,Bu.z),n.setOrientation(Uu.x,Uu.y,Uu.z,i.x,i.y,i.z)}}class HX extends $t{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Vu=new G,QB=new bi,ZPe=new G,ju=new G;class eAe extends HX{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Vu,QB,ZPe),ju.set(0,0,1).applyQuaternion(QB);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Vu.x,i),n.positionY.linearRampToValueAtTime(Vu.y,i),n.positionZ.linearRampToValueAtTime(Vu.z,i),n.orientationX.linearRampToValueAtTime(ju.x,i),n.orientationY.linearRampToValueAtTime(ju.y,i),n.orientationZ.linearRampToValueAtTime(ju.z,i)}else n.setPosition(Vu.x,Vu.y,Vu.z),n.setOrientation(ju.x,ju.y,ju.z)}}class tAe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class WX{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){bi.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;bi.multiplyQuaternionsFlat(e,o,e,n,e,i),bi.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const RN="\\[\\]\\.:\\/",nAe=new RegExp("["+RN+"]","g"),kN="[^"+RN+"]",iAe="[^"+RN.replace("\\.","")+"]",rAe=/((?:WC+[\/:])*)/.source.replace("WC",kN),sAe=/(WCOD+)?/.source.replace("WCOD",iAe),oAe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kN),aAe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kN),lAe=new RegExp("^"+rAe+sAe+oAe+aAe+"$"),cAe=["material","materials","bones","map"];class uAe{constructor(e,n,i){const r=i||Wt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Wt{constructor(e,n,i){this.path=n,this.parsedPath=i||Wt.parseTrackName(n),this.node=Wt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Wt.Composite(e,n,i):new Wt(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(nAe,"")}static parseTrackName(e){const n=lAe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);cAe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Wt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Wt.Composite=uAe;Wt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Wt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Wt.prototype.GetterByBindingType=[Wt.prototype._getValue_direct,Wt.prototype._getValue_array,Wt.prototype._getValue_arrayElement,Wt.prototype._getValue_toArray];Wt.prototype.SetterByBindingTypeAndVersioning=[[Wt.prototype._setValue_direct,Wt.prototype._setValue_direct_setNeedsUpdate,Wt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wt.prototype._setValue_array,Wt.prototype._setValue_array_setNeedsUpdate,Wt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wt.prototype._setValue_arrayElement,Wt.prototype._setValue_arrayElement_setNeedsUpdate,Wt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wt.prototype._setValue_fromArray,Wt.prototype._setValue_fromArray_setNeedsUpdate,Wt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class dAe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Is(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],m=h.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(h);for(let y=0,_=o;y!==_;++y)s[y].push(new Wt(h,i[y],r[y]))}else if(g<c){a=e[g];const y=--c,_=e[y];n[_.uuid]=g,e[g]=_,n[m]=y,e[y]=h;for(let v=0,x=o;v!==x;++v){const b=s[v],E=b[y];let M=b[g];b[g]=E,M===void 0&&(M=new Wt(h,i[v],r[v])),b[y]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,h=e[d];n[h.uuid]=u,e[u]=h,n[c]=d,e[d]=l;for(let m=0,g=r;m!==g;++m){const y=i[m],_=y[d],v=y[u];y[u]=_,y[d]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const h=--s,m=e[h],g=--o,y=e[g];n[m.uuid]=d,e[d]=m,n[y.uuid]=h,e[h]=y,e.pop();for(let _=0,v=r;_!==v;++_){const x=i[_],b=x[h],E=x[g];x[d]=b,x[h]=E,x.pop()}}else{const h=--o,m=e[h];h>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let g=0,y=r;g!==y;++g){const _=i[g];_[d]=_[h],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(d);for(let h=u,m=l.length;h!==m;++h){const g=l[h];d[h]=new Wt(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class GX{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:ld,endingEnd:ld};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Tq,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case nN:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Ow:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===Cq;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===Eq){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=cd,r.endingEnd=cd):(e?r.endingStart=this.zeroSlopeAtStart?cd:ld:r.endingStart=Qv,n?r.endingEnd=this.zeroSlopeAtEnd?cd:ld:r.endingEnd=Qv)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const fAe=new Float32Array(1);class hAe extends Oa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const h=r[d],m=h.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=n&&n._propertyBindings[d].binding.parsedPath;g=new WX(Wt.create(i,m,y),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new TN(new Float32Array(2),new Float32Array(2),1,fAe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?dy.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Ow),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new GX(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?dy.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class NN{constructor(e){this.value=e}clone(){return new NN(this.value.clone===void 0?this.value:this.value.clone())}}let pAe=0;class mAe extends Oa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:pAe++}),this.name="",this.usage=ny,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class gAe extends jw{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class vAe{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const ZB=new ut;class $X{constructor(e,n,i=0,r=1/0){this.ray=new Hp(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Sd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return ZB.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(ZB),this}intersectObject(e,n=!0,i=[]){return uI(e,this,i,n),i.sort(e5),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)uI(e[r],this,i,n);return i.sort(e5),i}}function e5(t,e){return t.distance-e.distance}function uI(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)uI(s[o],e,n,!0)}}class qX{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos($n(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class yAe{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class LN{constructor(e,n,i,r){LN.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const s=this.elements;return s[0]=e,s[2]=n,s[1]=i,s[3]=r,this}}const t5=new ye;class xAe{constructor(e=new ye(1/0,1/0),n=new ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=t5.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,t5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const n5=new G,E_=new G;class _Ae{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){n5.subVectors(e,this.start),E_.subVectors(this.end,this.start);const i=E_.dot(E_);let s=E_.dot(n5)/i;return n&&(s=$n(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const i5=new G;class bAe extends $t{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new Rt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new et(r,3));const s=new Hr({fog:!1,toneMapped:!1});this.cone=new Fa(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),i5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(i5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const fc=new G,T_=new ut,EM=new ut;class SAe extends Fa{constructor(e){const n=XX(e),i=new Rt,r=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new et(r,3)),i.setAttribute("color",new et(s,3));const l=new Hr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");EM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(T_.multiplyMatrices(EM,a.matrixWorld),fc.setFromMatrixPosition(T_),r.setXYZ(o,fc.x,fc.y,fc.z),T_.multiplyMatrices(EM,a.parent.matrixWorld),fc.setFromMatrixPosition(T_),r.setXYZ(o+1,fc.x,fc.y,fc.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function XX(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,XX(t.children[n]));return e}class wAe extends ui{constructor(e,n,i){const r=new Qy(n,4,2),s=new pu({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const EAe=new G,r5=new He,s5=new He;class TAe extends $t{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Jy(n);r.rotateY(Math.PI*.5),this.material=new pu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new an(o,3)),this.add(new ui(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");r5.copy(this.light.color),s5.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?r5:s5;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(EAe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class CAe extends Fa{constructor(e=10,n=10,i=4473924,r=8947848){i=new He(i),r=new He(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let h=0,m=0,g=-a;h<=n;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=h===s?i:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Rt;u.setAttribute("position",new et(l,3)),u.setAttribute("color",new et(c,3));const d=new Hr({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class MAe extends Fa{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const h=d/n*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,g);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<i;d++){const h=d&1?s:o,m=e-e/i*d;for(let g=0;g<r;g++){let y=g/r*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m;a.push(_,0,v),l.push(h.r,h.g,h.b),y=(g+1)/r*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m,a.push(_,0,v),l.push(h.r,h.g,h.b)}}const c=new Rt;c.setAttribute("position",new et(a,3)),c.setAttribute("color",new et(l,3));const u=new Hr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const o5=new G,C_=new G,a5=new G;class PAe extends $t{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new Rt;r.setAttribute("position",new et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Hr({fog:!1,toneMapped:!1});this.lightPlane=new iu(r,s),this.add(this.lightPlane),r=new Rt,r.setAttribute("position",new et([0,0,0,0,0,1],3)),this.targetLine=new iu(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),o5.setFromMatrixPosition(this.light.matrixWorld),C_.setFromMatrixPosition(this.light.target.matrixWorld),a5.subVectors(C_,o5),this.lightPlane.lookAt(C_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(C_),this.targetLine.scale.z=a5.length()}}const M_=new G,Hn=new $y;class AAe extends Fa{constructor(e){const n=new Rt,i=new Hr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}n.setAttribute("position",new et(r,3)),n.setAttribute("color",new et(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),u=new He(16711680),d=new He(43775),h=new He(16777215),m=new He(3355443);this.setColors(c,u,d,h,m)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Hn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Kn("c",n,e,Hn,0,0,-1),Kn("t",n,e,Hn,0,0,1),Kn("n1",n,e,Hn,-i,-r,-1),Kn("n2",n,e,Hn,i,-r,-1),Kn("n3",n,e,Hn,-i,r,-1),Kn("n4",n,e,Hn,i,r,-1),Kn("f1",n,e,Hn,-i,-r,1),Kn("f2",n,e,Hn,i,-r,1),Kn("f3",n,e,Hn,-i,r,1),Kn("f4",n,e,Hn,i,r,1),Kn("u1",n,e,Hn,i*.7,r*1.1,-1),Kn("u2",n,e,Hn,-i*.7,r*1.1,-1),Kn("u3",n,e,Hn,0,r*2,-1),Kn("cf1",n,e,Hn,-i,0,1),Kn("cf2",n,e,Hn,i,0,1),Kn("cf3",n,e,Hn,0,-r,1),Kn("cf4",n,e,Hn,0,r,1),Kn("cn1",n,e,Hn,-i,0,-1),Kn("cn2",n,e,Hn,i,0,-1),Kn("cn3",n,e,Hn,0,-r,-1),Kn("cn4",n,e,Hn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Kn(t,e,n,i,r,s,o){M_.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],M_.x,M_.y,M_.z)}}const P_=new Br;class IAe extends Fa{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Rt;s.setIndex(new an(i,1)),s.setAttribute("position",new an(r,3)),super(s,new Hr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&P_.setFromObject(this.object),P_.isEmpty())return;const n=P_.min,i=P_.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class RAe extends Fa{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Rt;s.setIndex(new an(i,1)),s.setAttribute("position",new et(r,3)),super(s,new Hr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class kAe extends iu{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Rt;o.setAttribute("position",new et(s,3)),o.computeBoundingSphere(),super(o,new Hr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rt;l.setAttribute("position",new et(a,3)),l.computeBoundingSphere(),this.add(new ui(l,new pu({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const l5=new G;let A_,TM;class NAe extends $t{constructor(e=new G(0,0,1),n=new G(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",A_===void 0&&(A_=new Rt,A_.setAttribute("position",new et([0,0,0,0,1,0],3)),TM=new $p(0,.5,1,5,1),TM.translate(0,-.5,0)),this.position.copy(n),this.line=new iu(A_,new Hr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ui(TM,new pu({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{l5.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(l5,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class LAe extends Fa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Rt;r.setAttribute("position",new et(n,3)),r.setAttribute("color",new et(i,3));const s=new Hr({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new He,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class DAe{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new sy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const x=[];for(let b=0,E=v.length;b<E;b++){const M=v[b],C=new wd;C.curves=M.curves,x.push(C)}return x}function i(v,x){const b=x.length;let E=!1;for(let M=b-1,C=0;C<b;M=C++){let R=x[M],k=x[C],I=k.x-R.x,P=k.y-R.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(R=x[C],I=-I,k=x[M],P=-P),v.y<R.y||v.y>k.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const O=P*(v.x-R.x)-I*(v.y-R.y);if(O===0)return!0;if(O<0)continue;E=!E}}else{if(v.y!==R.y)continue;if(k.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=k.x)return!0}}return E}const r=Aa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new wd,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],h=[];let m=[],g=0,y;h[g]=void 0,m[g]=[];for(let v=0,x=s.length;v<x;v++)a=s[v],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!u&&h[g]&&g++,h[g]={s:new wd,p:y},h[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!h[0])return n(s);if(h.length>1){let v=!1,x=0;for(let b=0,E=h.length;b<E;b++)d[b]=[];for(let b=0,E=h.length;b<E;b++){const M=m[b];for(let C=0;C<M.length;C++){const R=M[C];let k=!0;for(let I=0;I<h.length;I++)i(R.p,h[I].p)&&(b!==I&&x++,k?(k=!1,d[I].push(R)):v=!0);k&&d[b].push(R)}}x>0&&v===!1&&(m=d)}let _;for(let v=0,x=h.length;v<x;v++){l=h[v].s,c.push(l),_=m[v];for(let b=0,E=_.length;b<E;b++)l.holes.push(_[b].h)}return c}}class OAe extends Oa{constructor(e,n){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class FAe extends Ho{constructor(e=1,n=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jy);const zAe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Gk,AddEquation:Mc,AddOperation:gq,AdditiveAnimationBlendMode:nN,AdditiveBlending:KA,AgXToneMapping:bq,AlphaFormat:Kk,AlwaysCompare:Oq,AlwaysDepth:cq,AlwaysStencilFunc:eI,AmbientLight:FX,AnimationAction:GX,AnimationClip:dy,AnimationLoader:BPe,AnimationMixer:hAe,AnimationObjectGroup:dAe,AnimationUtils:DPe,ArcCurve:lX,ArrayCamera:Qq,ArrowHelper:NAe,AttachedBindMode:ZA,Audio:HX,AudioAnalyser:tAe,AudioContext:AN,AudioListener:QPe,AudioLoader:YPe,AxesHelper:LAe,BackSide:zr,BasicDepthPacking:Mq,BasicShadowMap:H9,BatchedMesh:sX,Bone:mN,BooleanKeyframeTrack:rf,Box2:xAe,Box3:Br,Box3Helper:RAe,BoxGeometry:nf,BoxHelper:IAe,BufferAttribute:an,BufferGeometry:Rt,BufferGeometryLoader:jX,ByteType:qk,Cache:ml,Camera:$y,CameraHelper:AAe,CanvasTexture:sPe,CapsuleGeometry:$w,CatmullRomCurve3:cX,CineonToneMapping:xq,CircleGeometry:qw,ClampToEdgeWrapping:so,Clock:IN,Color:He,ColorKeyframeTrack:CN,ColorManagement:Jt,CompressedArrayTexture:iPe,CompressedCubeTexture:rPe,CompressedTexture:Ww,CompressedTextureLoader:UPe,ConeGeometry:Xw,ConstantAlphaFactor:oq,ConstantColorFactor:rq,Controls:OAe,CubeCamera:Wq,CubeReflectionMapping:Ll,CubeRefractionMapping:nu,CubeTexture:qy,CubeTextureLoader:VPe,CubeUVReflectionMapping:Vp,CubicBezierCurve:yN,CubicBezierCurve3:uX,CubicInterpolant:AX,CullFaceBack:YA,CullFaceFront:j9,CullFaceFrontBack:Dbe,CullFaceNone:V9,Curve:$o,CurvePath:fX,CustomBlending:W9,CustomToneMapping:_q,CylinderGeometry:$p,Cylindrical:yAe,Data3DTexture:sN,DataArrayTexture:zw,DataTexture:Pa,DataTextureLoader:jPe,DataUtils:qSe,DecrementStencilOp:Ybe,DecrementWrapStencilOp:Jbe,DefaultLoadingManager:kX,DepthFormat:_d,DepthStencilFormat:Ud,DepthTexture:uN,DetachedBindMode:wq,DirectionalLight:OX,DirectionalLightHelper:PAe,DiscreteInterpolant:IX,DisplayP3ColorSpace:Fw,DodecahedronGeometry:Yw,DoubleSide:No,DstAlphaFactor:Z9,DstColorFactor:tq,DynamicCopyUsage:fSe,DynamicDrawUsage:oSe,DynamicReadUsage:cSe,EdgesGeometry:hX,EllipseCurve:Gw,EqualCompare:kq,EqualDepth:dq,EqualStencilFunc:tSe,EquirectangularReflectionMapping:qv,EquirectangularRefractionMapping:Xv,Euler:cs,EventDispatcher:Oa,ExtrudeGeometry:Jw,FileLoader:Ol,Float16BufferAttribute:ZSe,Float32BufferAttribute:et,FloatType:ns,Fog:Vw,FogExp2:Uw,FramebufferTexture:nPe,FrontSide:Nl,Frustum:Xy,GLBufferAttribute:vAe,GLSL1:pSe,GLSL3:tI,GreaterCompare:Nq,GreaterDepth:hq,GreaterEqualCompare:Dq,GreaterEqualDepth:fq,GreaterEqualStencilFunc:sSe,GreaterStencilFunc:iSe,GridHelper:CAe,Group:Ah,HalfFloatType:jp,HemisphereLight:NX,HemisphereLightHelper:TAe,IcosahedronGeometry:Qw,ImageBitmapLoader:XPe,ImageLoader:fy,ImageUtils:Uq,IncrementStencilOp:Xbe,IncrementWrapStencilOp:Kbe,InstancedBufferAttribute:_p,InstancedBufferGeometry:VX,InstancedInterleavedBuffer:gAe,InstancedMesh:rX,Int16BufferAttribute:JSe,Int32BufferAttribute:QSe,Int8BufferAttribute:XSe,IntType:Iw,InterleavedBuffer:jw,InterleavedBufferAttribute:Vd,Interpolant:Zy,InterpolateDiscrete:Jv,InterpolateLinear:hS,InterpolateSmooth:_1,InvertStencilOp:Qbe,KeepStencilOp:Qu,KeyframeTrack:qo,LOD:nX,LatheGeometry:Ky,Layers:Sd,LessCompare:Rq,LessDepth:uq,LessEqualCompare:iN,LessEqualDepth:$v,LessEqualStencilFunc:nSe,LessStencilFunc:eSe,Light:gu,LightProbe:UX,Line:iu,Line3:_Ae,LineBasicMaterial:Hr,LineCurve:xN,LineCurve3:dX,LineDashedMaterial:CX,LineLoop:oX,LineSegments:Fa,LinearDisplayP3ColorSpace:Gy,LinearFilter:ci,LinearInterpolant:TN,LinearMipMapLinearFilter:Bbe,LinearMipMapNearestFilter:zbe,LinearMipmapLinearFilter:ga,LinearMipmapNearestFilter:Xg,LinearSRGBColorSpace:Hl,LinearToneMapping:vq,LinearTransfer:Zv,Loader:us,LoaderUtils:cI,LoadingManager:MN,LoopOnce:Eq,LoopPingPong:Cq,LoopRepeat:Tq,LuminanceAlphaFormat:Zk,LuminanceFormat:Qk,MOUSE:Nbe,Material:Er,MaterialLoader:oE,MathUtils:Fq,Matrix2:LN,Matrix3:Et,Matrix4:ut,MaxEquation:X9,Mesh:ui,MeshBasicMaterial:pu,MeshDepthMaterial:dN,MeshDistanceMaterial:fN,MeshLambertMaterial:EX,MeshMatcapMaterial:TX,MeshNormalMaterial:wX,MeshPhongMaterial:bX,MeshPhysicalMaterial:_X,MeshStandardMaterial:wN,MeshToonMaterial:SX,MinEquation:q9,MirroredRepeatWrapping:Kv,MixOperation:mq,MultiplyBlending:QA,MultiplyOperation:Hy,NearestFilter:Bi,NearestMipMapLinearFilter:Fbe,NearestMipMapNearestFilter:Obe,NearestMipmapLinearFilter:Ch,NearestMipmapNearestFilter:$k,NeutralToneMapping:Sq,NeverCompare:Iq,NeverDepth:lq,NeverStencilFunc:Zbe,NoBlending:Sl,NoColorSpace:sl,NoToneMapping:Ma,NormalAnimationBlendMode:Ow,NormalBlending:xd,NotEqualCompare:Lq,NotEqualDepth:pq,NotEqualStencilFunc:rSe,NumberKeyframeTrack:cy,Object3D:$t,ObjectLoader:$Pe,ObjectSpaceNormalMap:Aq,OctahedronGeometry:Jy,OneFactor:K9,OneMinusConstantAlphaFactor:aq,OneMinusConstantColorFactor:sq,OneMinusDstAlphaFactor:eq,OneMinusDstColorFactor:nq,OneMinusSrcAlphaFactor:Ub,OneMinusSrcColorFactor:Q9,OrthographicCamera:Yy,P3Primaries:ty,PCFShadowMap:Pw,PCFSoftShadowMap:qg,PMREMGenerator:nI,Path:sy,PerspectiveCamera:zi,Plane:_c,PlaneGeometry:Wp,PlaneHelper:kAe,PointLight:DX,PointLightHelper:wAe,Points:aX,PointsMaterial:gN,PolarGridHelper:MAe,PolyhedronGeometry:mu,PositionalAudio:eAe,PropertyBinding:Wt,PropertyMixer:WX,QuadraticBezierCurve:_N,QuadraticBezierCurve3:bN,Quaternion:bi,QuaternionKeyframeTrack:e0,QuaternionLinearInterpolant:RX,RED_GREEN_RGTC2_Format:dS,RED_RGTC1_Format:tN,REVISION:jy,RGBADepthPacking:Pq,RGBAFormat:xr,RGBAIntegerFormat:Dw,RGBA_ASTC_10x10_Format:sS,RGBA_ASTC_10x5_Format:nS,RGBA_ASTC_10x6_Format:iS,RGBA_ASTC_10x8_Format:rS,RGBA_ASTC_12x10_Format:oS,RGBA_ASTC_12x12_Format:aS,RGBA_ASTC_4x4_Format:Xb,RGBA_ASTC_5x4_Format:Yb,RGBA_ASTC_5x5_Format:Kb,RGBA_ASTC_6x5_Format:Jb,RGBA_ASTC_6x6_Format:Qb,RGBA_ASTC_8x5_Format:Zb,RGBA_ASTC_8x6_Format:eS,RGBA_ASTC_8x8_Format:tS,RGBA_BPTC_Format:Zg,RGBA_ETC2_EAC_Format:qb,RGBA_PVRTC_2BPPV1_Format:Wb,RGBA_PVRTC_4BPPV1_Format:Hb,RGBA_S3TC_DXT1_Format:Kg,RGBA_S3TC_DXT3_Format:Jg,RGBA_S3TC_DXT5_Format:Qg,RGBDepthPacking:Wbe,RGBFormat:Jk,RGBIntegerFormat:Ube,RGB_BPTC_SIGNED_Format:lS,RGB_BPTC_UNSIGNED_Format:cS,RGB_ETC1_Format:Gb,RGB_ETC2_Format:$b,RGB_PVRTC_2BPPV1_Format:jb,RGB_PVRTC_4BPPV1_Format:Vb,RGB_S3TC_DXT1_Format:Yg,RGDepthPacking:Gbe,RGFormat:eN,RGIntegerFormat:Lw,RawShaderMaterial:xX,Ray:Hp,Raycaster:$X,Rec709Primaries:ey,RectAreaLight:zX,RedFormat:Nw,RedIntegerFormat:Wy,ReinhardToneMapping:yq,RenderTarget:Vq,RepeatWrapping:Yv,ReplaceStencilOp:qbe,ReverseSubtractEquation:$9,RingGeometry:Zw,SIGNED_RED_GREEN_RGTC2_Format:fS,SIGNED_RED_RGTC1_Format:uS,SRGBColorSpace:eo,SRGBTransfer:yn,Scene:hN,ShaderChunk:Mt,ShaderLib:Ro,ShaderMaterial:fo,ShadowMaterial:yX,Shape:wd,ShapeGeometry:eE,ShapePath:DAe,ShapeUtils:Aa,ShortType:Xk,Skeleton:Hw,SkeletonHelper:SAe,SkinnedMesh:iX,Source:ud,Sphere:_r,SphereGeometry:Qy,Spherical:qX,SphericalHarmonics3:BX,SplineCurve:SN,SpotLight:LX,SpotLightHelper:bAe,Sprite:tX,SpriteMaterial:pN,SrcAlphaFactor:Bb,SrcAlphaSaturateFactor:iq,SrcColorFactor:J9,StaticCopyUsage:dSe,StaticDrawUsage:ny,StaticReadUsage:lSe,StereoCamera:KPe,StreamCopyUsage:hSe,StreamDrawUsage:aSe,StreamReadUsage:uSe,StringKeyframeTrack:sf,SubtractEquation:G9,SubtractiveBlending:JA,TOUCH:Lbe,TangentSpaceNormalMap:hu,TetrahedronGeometry:tE,Texture:Rn,TextureLoader:sE,TextureUtils:DMe,TorusGeometry:nE,TorusKnotGeometry:iE,Triangle:ws,TriangleFanDrawMode:Hbe,TriangleStripDrawMode:jbe,TrianglesDrawMode:Vbe,TubeGeometry:rE,UVMapping:Aw,Uint16BufferAttribute:oN,Uint32BufferAttribute:aN,Uint8BufferAttribute:YSe,Uint8ClampedBufferAttribute:KSe,Uniform:NN,UniformsGroup:mAe,UniformsLib:Ue,UniformsUtils:lN,UnsignedByteType:jo,UnsignedInt248Type:Bd,UnsignedInt5999Type:Yk,UnsignedIntType:Dl,UnsignedShort4444Type:Rw,UnsignedShort5551Type:kw,UnsignedShortType:vp,VSMShadowMap:Co,Vector2:ye,Vector3:G,Vector4:jt,VectorKeyframeTrack:uy,VideoTexture:tPe,WebGL3DRenderTarget:FSe,WebGLArrayRenderTarget:OSe,WebGLCoordinateSystem:va,WebGLCubeRenderTarget:Gq,WebGLMultipleRenderTargets:FAe,WebGLRenderTarget:Ho,WebGLRenderer:Zq,WebGLUtils:Jq,WebGPUCoordinateSystem:iy,WireframeGeometry:vX,WrapAroundEnding:Qv,ZeroCurvatureEnding:ld,ZeroFactor:Y9,ZeroSlopeEnding:cd,ZeroStencilOp:$be,createCanvasElement:Bq},Symbol.toStringTag,{value:"Module"}));var YX={exports:{}},of={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */of.ConcurrentRoot=1;of.ContinuousEventPriority=4;of.DefaultEventPriority=16;of.DiscreteEventPriority=1;of.IdleEventPriority=536870912;of.LegacyRoot=0;YX.exports=of;var wg=YX.exports;function BAe(t){let e;const n=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const h=e;e=u?d:Object.assign({},e,d),n.forEach(m=>m(e,h))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function m(){const g=u(e);if(!d(h,g)){const y=h;c(h=g,y)}}return n.add(m),()=>n.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const UAe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),c5=UAe?L.useEffect:L.useLayoutEffect;function VAe(t){const e=typeof t=="function"?BAe(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=L.useReducer(_=>_+1,0),o=e.getState(),a=L.useRef(o),l=L.useRef(i),c=L.useRef(r),u=L.useRef(!1),d=L.useRef();d.current===void 0&&(d.current=i(o));let h,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(h=i(o),m=!r(d.current,h)),c5(()=>{m&&(d.current=h),a.current=o,l.current=i,c.current=r,u.current=!1});const g=L.useRef(o);c5(()=>{const _=()=>{try{const x=e.getState(),b=l.current(x);c.current(d.current,b)||(a.current=x,d.current=b,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?h:d.current;return L.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}const jAe=t=>typeof t=="object"&&typeof t.then=="function",fd=[];function KX(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function JX(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of fd)if(KX(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=fd.indexOf(r);s!==-1&&fd.splice(s,1)},promise:(jAe(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(fd.push(r),!n)throw r.promise}const HAe=(t,e,n)=>JX(t,e,!1,n),WAe=(t,e,n)=>void JX(t,e,!0,n),GAe=t=>{if(t===void 0||t.length===0)fd.splice(0,fd.length);else{const e=fd.find(n=>KX(t,n.keys,n.equal));e&&e.remove()}};var QX={exports:{}},CM={exports:{}},MM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function $Ae(){return u5||(u5=1,function(t){function e(D,B){var $=D.length;D.push(B);e:for(;0<$;){var J=$-1>>>1,ce=D[J];if(0<r(ce,B))D[J]=B,D[$]=ce,$=J;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var B=D[0],$=D.pop();if($!==B){D[0]=$;e:for(var J=0,ce=D.length,Ne=ce>>>1;J<Ne;){var ie=2*(J+1)-1,pe=D[ie],Ee=ie+1,Te=D[Ee];if(0>r(pe,$))Ee<ce&&0>r(Te,pe)?(D[J]=Te,D[Ee]=$,J=Ee):(D[J]=pe,D[ie]=$,J=ie);else if(Ee<ce&&0>r(Te,$))D[J]=Te,D[Ee]=$,J=Ee;else break e}}return B}function r(D,B){var $=D.sortIndex-B.sortIndex;return $!==0?$:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=D)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function E(D){if(y=!1,b(D),!g)if(n(l)!==null)g=!0,K(M);else{var B=n(c);B!==null&&j(E,B.startTime-D)}}function M(D,B){g=!1,y&&(y=!1,v(k),k=-1),m=!0;var $=h;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||D&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var ce=J(d.expirationTime<=B);B=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&i(l),b(B)}else i(l);d=n(l)}if(d!==null)var Ne=!0;else{var ie=n(c);ie!==null&&j(E,ie.startTime-B),Ne=!1}return Ne}finally{d=null,h=$,m=!1}}var C=!1,R=null,k=-1,I=5,P=-1;function O(){return!(t.unstable_now()-P<I)}function z(){if(R!==null){var D=t.unstable_now();P=D;var B=!0;try{B=R(!0,D)}finally{B?U():(C=!1,R=null)}}else C=!1}var U;if(typeof x=="function")U=function(){x(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=z,U=function(){W.postMessage(null)}}else U=function(){_(z,0)};function K(D){R=D,C||(C=!0,U())}function j(D,B){k=_(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(M))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var $=h;h=B;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return B()}finally{h=$}},t.unstable_scheduleCallback=function(D,B,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=$+ce,D={id:u++,callback:B,priorityLevel:D,startTime:$,expirationTime:ce,sortIndex:-1},$>J?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(v(k),k=-1):y=!0,j(E,$-J))):(D.sortIndex=ce,e(l,D),g||m||(g=!0,K(M))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var B=h;return function(){var $=h;h=B;try{return D.apply(this,arguments)}finally{h=$}}}}(MM)),MM}var d5;function qAe(){return d5||(d5=1,CM.exports=$Ae()),CM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XAe=function(e){var n={},i=L,r=qAe(),s=Object.assign;function o(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),M=Symbol.iterator;function C(f){return f===null||typeof f!="object"?null:(f=M&&f[M]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case y:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case x:return p=f.displayName||null,p!==null?p:R(f.type)||"Memo";case b:p=f._payload,f=f._init;try{return R(f(p))}catch{}}return null}function k(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function I(f){var p=f,S=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(S=p.return),f=p.return;while(f)}return p.tag===3?S:null}function P(f){if(I(f)!==f)throw Error(o(188))}function O(f){var p=f.alternate;if(!p){if(p=I(f),p===null)throw Error(o(188));return p!==f?null:f}for(var S=f,T=p;;){var A=S.return;if(A===null)break;var N=A.alternate;if(N===null){if(T=A.return,T!==null){S=T;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===S)return P(A),f;if(N===T)return P(A),p;N=N.sibling}throw Error(o(188))}if(S.return!==T.return)S=A,T=N;else{for(var q=!1,Q=A.child;Q;){if(Q===S){q=!0,S=A,T=N;break}if(Q===T){q=!0,T=A,S=N;break}Q=Q.sibling}if(!q){for(Q=N.child;Q;){if(Q===S){q=!0,S=N,T=A;break}if(Q===T){q=!0,T=N,S=A;break}Q=Q.sibling}if(!q)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?f:p}function z(f){return f=O(f),f!==null?U(f):null}function U(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=U(f);if(p!==null)return p;f=f.sibling}return null}function X(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var p=X(f);if(p!==null)return p}f=f.sibling}return null}var W=Array.isArray,K=e.getPublicInstance,j=e.getRootHostContext,D=e.getChildHostContext,B=e.prepareForCommit,$=e.resetAfterCommit,J=e.createInstance,ce=e.appendInitialChild,Ne=e.finalizeInitialChildren,ie=e.prepareUpdate,pe=e.shouldSetTextContent,Ee=e.createTextInstance,Te=e.scheduleTimeout,ue=e.cancelTimeout,fe=e.noTimeout,Ie=e.isPrimaryRenderer,Ge=e.supportsMutation,H=e.supportsPersistence,ve=e.supportsHydration,we=e.getInstanceFromNode,Oe=e.preparePortalMount,me=e.getCurrentEventPriority,ot=e.detachDeletedInstance,Fe=e.supportsMicrotasks,qe=e.scheduleMicrotask,Y=e.supportsTestSelectors,F=e.findFiberRoot,se=e.getBoundingRect,xe=e.getTextContent,ge=e.isHiddenSubtree,Se=e.matchAccessibilityRole,at=e.setFocusIfFocusable,Be=e.setupIntersectionObserver,Xe=e.appendChild,_t=e.appendChildToContainer,Me=e.commitTextUpdate,$e=e.commitMount,Ft=e.commitUpdate,gt=e.insertBefore,Ke=e.insertInContainerBefore,yt=e.removeChild,At=e.removeChildFromContainer,hn=e.resetTextContent,Z=e.hideInstance,Re=e.hideTextInstance,_e=e.unhideInstance,be=e.unhideTextInstance,De=e.clearContainer,ht=e.cloneInstance,zt=e.createContainerChildSet,kn=e.appendChildToContainerChildSet,pi=e.finalizeContainerChildren,Ht=e.replaceContainerChildren,zs=e.cloneHiddenInstance,ds=e.cloneHiddenTextInstance,c0=e.canHydrateInstance,za=e.canHydrateTextInstance,Yp=e.canHydrateSuspenseInstance,Kp=e.isSuspenseInstancePending,af=e.isSuspenseInstanceFallback,lf=e.registerSuspenseInstanceRetry,Gl=e.getNextHydratableSibling,cf=e.getFirstHydratableChild,u0=e.getFirstHydratableChildWithinContainer,d0=e.getFirstHydratableChildWithinSuspenseInstance,xE=e.hydrateInstance,_E=e.hydrateTextInstance,bE=e.hydrateSuspenseInstance,V=e.getNextHydratableInstanceAfterSuspenseInstance,ee=e.commitHydratedContainer,oe=e.commitHydratedSuspenseInstance,ae=e.clearSuspenseBoundary,ne=e.clearSuspenseBoundaryFromContainer,ke=e.shouldDeleteUnhydratedTailInstances,We=e.didNotMatchHydratedContainerTextInstance,Ze=e.didNotMatchHydratedTextInstance,Je;function lt(f){if(Je===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);Je=p&&p[1]||""}return`
`+Je+f}var dt=!1;function tt(f,p){if(!f||dt)return"";dt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Pe){var T=Pe}Reflect.construct(f,[],p)}else{try{p.call()}catch(Pe){T=Pe}f.call(p.prototype)}else{try{throw Error()}catch(Pe){T=Pe}f()}}catch(Pe){if(Pe&&T&&typeof Pe.stack=="string"){for(var A=Pe.stack.split(`
`),N=T.stack.split(`
`),q=A.length-1,Q=N.length-1;1<=q&&0<=Q&&A[q]!==N[Q];)Q--;for(;1<=q&&0<=Q;q--,Q--)if(A[q]!==N[Q]){if(q!==1||Q!==1)do if(q--,Q--,0>Q||A[q]!==N[Q]){var he=`
`+A[q].replace(" at new "," at ");return f.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",f.displayName)),he}while(1<=q&&0<=Q);break}}}finally{dt=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?lt(f):""}var qt=Object.prototype.hasOwnProperty,pn=[],nn=-1;function Vn(f){return{current:f}}function st(f){0>nn||(f.current=pn[nn],pn[nn]=null,nn--)}function Le(f,p){nn++,pn[nn]=f.current,f.current=p}var mn={},vt=Vn(mn),gn=Vn(!1),Wr=mn;function ni(f,p){var S=f.type.contextTypes;if(!S)return mn;var T=f.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===p)return T.__reactInternalMemoizedMaskedChildContext;var A={},N;for(N in S)A[N]=p[N];return T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=A),A}function Mi(f){return f=f.childContextTypes,f!=null}function wn(){st(gn),st(vt)}function po(f,p,S){if(vt.current!==mn)throw Error(o(168));Le(vt,p),Le(gn,S)}function uf(f,p,S){var T=f.stateNode;if(p=p.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var A in T)if(!(A in p))throw Error(o(108,k(f)||"Unknown",A));return s({},S,T)}function ji(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||mn,Wr=vt.current,Le(vt,f),Le(gn,gn.current),!0}function df(f,p,S){var T=f.stateNode;if(!T)throw Error(o(169));S?(f=uf(f,p,Wr),T.__reactInternalMemoizedMergedChildContext=f,st(gn),st(vt),Le(vt,f)):st(gn),Le(gn,S)}var fs=Math.clz32?Math.clz32:$K,f0=Math.log,GK=Math.LN2;function $K(f){return f>>>=0,f===0?32:31-(f0(f)/GK|0)|0}var h0=64,p0=4194304;function Jp(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function m0(f,p){var S=f.pendingLanes;if(S===0)return 0;var T=0,A=f.suspendedLanes,N=f.pingedLanes,q=S&268435455;if(q!==0){var Q=q&~A;Q!==0?T=Jp(Q):(N&=q,N!==0&&(T=Jp(N)))}else q=S&~A,q!==0?T=Jp(q):N!==0&&(T=Jp(N));if(T===0)return 0;if(p!==0&&p!==T&&!(p&A)&&(A=T&-T,N=p&-p,A>=N||A===16&&(N&4194240)!==0))return p;if(T&4&&(T|=S&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=T;0<p;)S=31-fs(p),A=1<<S,T|=f[S],p&=~A;return T}function qK(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XK(f,p){for(var S=f.suspendedLanes,T=f.pingedLanes,A=f.expirationTimes,N=f.pendingLanes;0<N;){var q=31-fs(N),Q=1<<q,he=A[q];he===-1?(!(Q&S)||Q&T)&&(A[q]=qK(Q,p)):he<=p&&(f.expiredLanes|=Q),N&=~Q}}function SE(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function wE(f){for(var p=[],S=0;31>S;S++)p.push(f);return p}function Qp(f,p,S){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-fs(p),f[p]=S}function YK(f,p){var S=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var T=f.eventTimes;for(f=f.expirationTimes;0<S;){var A=31-fs(S),N=1<<A;p[A]=0,T[A]=-1,f[A]=-1,S&=~N}}function EE(f,p){var S=f.entangledLanes|=p;for(f=f.entanglements;S;){var T=31-fs(S),A=1<<T;A&p|f[T]&p&&(f[T]|=p),S&=~A}}var Xt=0;function YN(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var TE=r.unstable_scheduleCallback,KN=r.unstable_cancelCallback,KK=r.unstable_shouldYield,JK=r.unstable_requestPaint,Pi=r.unstable_now,CE=r.unstable_ImmediatePriority,QK=r.unstable_UserBlockingPriority,ME=r.unstable_NormalPriority,ZK=r.unstable_IdlePriority,g0=null,Yo=null;function eJ(f){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(g0,f,void 0,(f.current.flags&128)===128)}catch{}}function tJ(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ko=typeof Object.is=="function"?Object.is:tJ,Ba=null,v0=!1,PE=!1;function JN(f){Ba===null?Ba=[f]:Ba.push(f)}function nJ(f){v0=!0,JN(f)}function Jo(){if(!PE&&Ba!==null){PE=!0;var f=0,p=Xt;try{var S=Ba;for(Xt=1;f<S.length;f++){var T=S[f];do T=T(!0);while(T!==null)}Ba=null,v0=!1}catch(A){throw Ba!==null&&(Ba=Ba.slice(f+1)),TE(CE,Jo),A}finally{Xt=p,PE=!1}}return null}var iJ=a.ReactCurrentBatchConfig;function y0(f,p){if(Ko(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var S=Object.keys(f),T=Object.keys(p);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var A=S[T];if(!qt.call(p,A)||!Ko(f[A],p[A]))return!1}return!0}function rJ(f){switch(f.tag){case 5:return lt(f.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 2:case 15:return f=tt(f.type,!1),f;case 11:return f=tt(f.type.render,!1),f;case 1:return f=tt(f.type,!0),f;default:return""}}function mo(f,p){if(f&&f.defaultProps){p=s({},p),f=f.defaultProps;for(var S in f)p[S]===void 0&&(p[S]=f[S]);return p}return p}var x0=Vn(null),_0=null,ff=null,AE=null;function IE(){AE=ff=_0=null}function QN(f,p,S){Ie?(Le(x0,p._currentValue),p._currentValue=S):(Le(x0,p._currentValue2),p._currentValue2=S)}function RE(f){var p=x0.current;st(x0),Ie?f._currentValue=p:f._currentValue2=p}function kE(f,p,S){for(;f!==null;){var T=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),f===S)break;f=f.return}}function hf(f,p){_0=f,AE=ff=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(ms=!0),f.firstContext=null)}function Bs(f){var p=Ie?f._currentValue:f._currentValue2;if(AE!==f)if(f={context:f,memoizedValue:p,next:null},ff===null){if(_0===null)throw Error(o(308));ff=f,_0.dependencies={lanes:0,firstContext:f}}else ff=ff.next=f;return p}var Qo=null,$l=!1;function NE(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZN(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ua(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function ql(f,p){var S=f.updateQueue;S!==null&&(S=S.shared,ii!==null&&f.mode&1&&!(kt&2)?(f=S.interleaved,f===null?(p.next=p,Qo===null?Qo=[S]:Qo.push(S)):(p.next=f.next,f.next=p),S.interleaved=p):(f=S.pending,f===null?p.next=p:(p.next=f.next,f.next=p),S.pending=p))}function b0(f,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var T=p.lanes;T&=f.pendingLanes,S|=T,p.lanes=S,EE(f,S)}}function eL(f,p){var S=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var A=null,N=null;if(S=S.firstBaseUpdate,S!==null){do{var q={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};N===null?A=N=q:N=N.next=q,S=S.next}while(S!==null);N===null?A=N=p:N=N.next=p}else A=N=p;S={baseState:T.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:T.shared,effects:T.effects},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=p:f.next=p,S.lastBaseUpdate=p}function S0(f,p,S,T){var A=f.updateQueue;$l=!1;var N=A.firstBaseUpdate,q=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var he=Q,Pe=he.next;he.next=null,q===null?N=Pe:q.next=Pe,q=he;var Qe=f.alternate;Qe!==null&&(Qe=Qe.updateQueue,Q=Qe.lastBaseUpdate,Q!==q&&(Q===null?Qe.firstBaseUpdate=Pe:Q.next=Pe,Qe.lastBaseUpdate=he))}if(N!==null){var St=A.baseState;q=0,Qe=Pe=he=null,Q=N;do{var ct=Q.lane,cn=Q.eventTime;if((T&ct)===ct){Qe!==null&&(Qe=Qe.next={eventTime:cn,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var rt=f,or=Q;switch(ct=p,cn=S,or.tag){case 1:if(rt=or.payload,typeof rt=="function"){St=rt.call(cn,St,ct);break e}St=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=or.payload,ct=typeof rt=="function"?rt.call(cn,St,ct):rt,ct==null)break e;St=s({},St,ct);break e;case 2:$l=!0}}Q.callback!==null&&Q.lane!==0&&(f.flags|=64,ct=A.effects,ct===null?A.effects=[Q]:ct.push(Q))}else cn={eventTime:cn,lane:ct,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Qe===null?(Pe=Qe=cn,he=St):Qe=Qe.next=cn,q|=ct;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;ct=Q,Q=ct.next,ct.next=null,A.lastBaseUpdate=ct,A.shared.pending=null}}while(!0);if(Qe===null&&(he=St),A.baseState=he,A.firstBaseUpdate=Pe,A.lastBaseUpdate=Qe,p=A.shared.interleaved,p!==null){A=p;do q|=A.lane,A=A.next;while(A!==p)}else N===null&&(A.shared.lanes=0);Sf|=q,f.lanes=q,f.memoizedState=St}}function tL(f,p,S){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var T=f[p],A=T.callback;if(A!==null){if(T.callback=null,T=S,typeof A!="function")throw Error(o(191,A));A.call(T)}}}var nL=new i.Component().refs;function LE(f,p,S,T){p=f.memoizedState,S=S(T,p),S=S==null?p:s({},p,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var w0={isMounted:function(f){return(f=f._reactInternals)?I(f)===f:!1},enqueueSetState:function(f,p,S){f=f._reactInternals;var T=Mr(),A=Kl(f),N=Ua(T,A);N.payload=p,S!=null&&(N.callback=S),ql(f,N),p=Ws(f,A,T),p!==null&&b0(p,f,A)},enqueueReplaceState:function(f,p,S){f=f._reactInternals;var T=Mr(),A=Kl(f),N=Ua(T,A);N.tag=1,N.payload=p,S!=null&&(N.callback=S),ql(f,N),p=Ws(f,A,T),p!==null&&b0(p,f,A)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var S=Mr(),T=Kl(f),A=Ua(S,T);A.tag=2,p!=null&&(A.callback=p),ql(f,A),p=Ws(f,T,S),p!==null&&b0(p,f,T)}};function iL(f,p,S,T,A,N,q){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,N,q):p.prototype&&p.prototype.isPureReactComponent?!y0(S,T)||!y0(A,N):!0}function rL(f,p,S){var T=!1,A=mn,N=p.contextType;return typeof N=="object"&&N!==null?N=Bs(N):(A=Mi(p)?Wr:vt.current,T=p.contextTypes,N=(T=T!=null)?ni(f,A):mn),p=new p(S,N),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=w0,f.stateNode=p,p._reactInternals=f,T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=A,f.__reactInternalMemoizedMaskedChildContext=N),p}function sL(f,p,S,T){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,T),p.state!==f&&w0.enqueueReplaceState(p,p.state,null)}function DE(f,p,S,T){var A=f.stateNode;A.props=S,A.state=f.memoizedState,A.refs=nL,NE(f);var N=p.contextType;typeof N=="object"&&N!==null?A.context=Bs(N):(N=Mi(p)?Wr:vt.current,A.context=ni(f,N)),A.state=f.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(LE(f,p,N,S),A.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(p=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),p!==A.state&&w0.enqueueReplaceState(A,A.state,null),S0(f,S,A,T),A.state=f.memoizedState),typeof A.componentDidMount=="function"&&(f.flags|=4194308)}var pf=[],mf=0,E0=null,T0=0,Us=[],Vs=0,yu=null,Va=1,ja="";function xu(f,p){pf[mf++]=T0,pf[mf++]=E0,E0=f,T0=p}function oL(f,p,S){Us[Vs++]=Va,Us[Vs++]=ja,Us[Vs++]=yu,yu=f;var T=Va;f=ja;var A=32-fs(T)-1;T&=~(1<<A),S+=1;var N=32-fs(p)+A;if(30<N){var q=A-A%5;N=(T&(1<<q)-1).toString(32),T>>=q,A-=q,Va=1<<32-fs(p)+A|S<<A|T,ja=N+f}else Va=1<<N|S<<A|T,ja=f}function OE(f){f.return!==null&&(xu(f,1),oL(f,1,0))}function FE(f){for(;f===E0;)E0=pf[--mf],pf[mf]=null,T0=pf[--mf],pf[mf]=null;for(;f===yu;)yu=Us[--Vs],Us[Vs]=null,ja=Us[--Vs],Us[Vs]=null,Va=Us[--Vs],Us[Vs]=null}var hs=null,ps=null,Mn=!1,Zp=!1,go=null;function aL(f,p){var S=Gs(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=f,p=f.deletions,p===null?(f.deletions=[S],f.flags|=16):p.push(S)}function lL(f,p){switch(f.tag){case 5:return p=c0(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,hs=f,ps=cf(p),!0):!1;case 6:return p=za(p,f.pendingProps),p!==null?(f.stateNode=p,hs=f,ps=null,!0):!1;case 13:if(p=Yp(p),p!==null){var S=yu!==null?{id:Va,overflow:ja}:null;return f.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=Gs(18,null,null,0),S.stateNode=p,S.return=f,f.child=S,hs=f,ps=null,!0}return!1;default:return!1}}function zE(f){return(f.mode&1)!==0&&(f.flags&128)===0}function BE(f){if(Mn){var p=ps;if(p){var S=p;if(!lL(f,p)){if(zE(f))throw Error(o(418));p=Gl(S);var T=hs;p&&lL(f,p)?aL(T,S):(f.flags=f.flags&-4097|2,Mn=!1,hs=f)}}else{if(zE(f))throw Error(o(418));f.flags=f.flags&-4097|2,Mn=!1,hs=f}}}function cL(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;hs=f}function em(f){if(!ve||f!==hs)return!1;if(!Mn)return cL(f),Mn=!0,!1;if(f.tag!==3&&(f.tag!==5||ke(f.type)&&!pe(f.type,f.memoizedProps))){var p=ps;if(p){if(zE(f)){for(f=ps;f;)f=Gl(f);throw Error(o(418))}for(;p;)aL(f,p),p=Gl(p)}}if(cL(f),f.tag===13){if(!ve)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));ps=V(f)}else ps=hs?Gl(f.stateNode):null;return!0}function gf(){ve&&(ps=hs=null,Zp=Mn=!1)}function UE(f){go===null?go=[f]:go.push(f)}function tm(f,p,S){if(f=S.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,f));var A=T,N=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(q){var Q=A.refs;Q===nL&&(Q=A.refs={}),q===null?delete Q[N]:Q[N]=q},p._stringRef=N,p)}if(typeof f!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,f))}return f}function C0(f,p){throw f=Object.prototype.toString.call(p),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function uL(f){var p=f._init;return p(f._payload)}function dL(f){function p(re,te){if(f){var le=re.deletions;le===null?(re.deletions=[te],re.flags|=16):le.push(te)}}function S(re,te){if(!f)return null;for(;te!==null;)p(re,te),te=te.sibling;return null}function T(re,te){for(re=new Map;te!==null;)te.key!==null?re.set(te.key,te):re.set(te.index,te),te=te.sibling;return re}function A(re,te){return re=Ql(re,te),re.index=0,re.sibling=null,re}function N(re,te,le){return re.index=le,f?(le=re.alternate,le!==null?(le=le.index,le<te?(re.flags|=2,te):le):(re.flags|=2,te)):(re.flags|=1048576,te)}function q(re){return f&&re.alternate===null&&(re.flags|=2),re}function Q(re,te,le,je){return te===null||te.tag!==6?(te=wT(le,re.mode,je),te.return=re,te):(te=A(te,le),te.return=re,te)}function he(re,te,le,je){var it=le.type;return it===u?Qe(re,te,le.props.children,je,le.key):te!==null&&(te.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===b&&uL(it)===te.type)?(je=A(te,le.props),je.ref=tm(re,te,le),je.return=re,je):(je=ix(le.type,le.key,le.props,null,re.mode,je),je.ref=tm(re,te,le),je.return=re,je)}function Pe(re,te,le,je){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=ET(le,re.mode,je),te.return=re,te):(te=A(te,le.children||[]),te.return=re,te)}function Qe(re,te,le,je,it){return te===null||te.tag!==7?(te=Cu(le,re.mode,je,it),te.return=re,te):(te=A(te,le),te.return=re,te)}function St(re,te,le){if(typeof te=="string"&&te!==""||typeof te=="number")return te=wT(""+te,re.mode,le),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return le=ix(te.type,te.key,te.props,null,re.mode,le),le.ref=tm(re,null,te),le.return=re,le;case c:return te=ET(te,re.mode,le),te.return=re,te;case b:var je=te._init;return St(re,je(te._payload),le)}if(W(te)||C(te))return te=Cu(te,re.mode,le,null),te.return=re,te;C0(re,te)}return null}function ct(re,te,le,je){var it=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return it!==null?null:Q(re,te,""+le,je);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return le.key===it?he(re,te,le,je):null;case c:return le.key===it?Pe(re,te,le,je):null;case b:return it=le._init,ct(re,te,it(le._payload),je)}if(W(le)||C(le))return it!==null?null:Qe(re,te,le,je,null);C0(re,le)}return null}function cn(re,te,le,je,it){if(typeof je=="string"&&je!==""||typeof je=="number")return re=re.get(le)||null,Q(te,re,""+je,it);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return re=re.get(je.key===null?le:je.key)||null,he(te,re,je,it);case c:return re=re.get(je.key===null?le:je.key)||null,Pe(te,re,je,it);case b:var It=je._init;return cn(re,te,le,It(je._payload),it)}if(W(je)||C(je))return re=re.get(le)||null,Qe(te,re,je,it,null);C0(te,je)}return null}function rt(re,te,le,je){for(var it=null,It=null,wt=te,Yt=te=0,Ii=null;wt!==null&&Yt<le.length;Yt++){wt.index>Yt?(Ii=wt,wt=null):Ii=wt.sibling;var Kt=ct(re,wt,le[Yt],je);if(Kt===null){wt===null&&(wt=Ii);break}f&&wt&&Kt.alternate===null&&p(re,wt),te=N(Kt,te,Yt),It===null?it=Kt:It.sibling=Kt,It=Kt,wt=Ii}if(Yt===le.length)return S(re,wt),Mn&&xu(re,Yt),it;if(wt===null){for(;Yt<le.length;Yt++)wt=St(re,le[Yt],je),wt!==null&&(te=N(wt,te,Yt),It===null?it=wt:It.sibling=wt,It=wt);return Mn&&xu(re,Yt),it}for(wt=T(re,wt);Yt<le.length;Yt++)Ii=cn(wt,re,Yt,le[Yt],je),Ii!==null&&(f&&Ii.alternate!==null&&wt.delete(Ii.key===null?Yt:Ii.key),te=N(Ii,te,Yt),It===null?it=Ii:It.sibling=Ii,It=Ii);return f&&wt.forEach(function(Zl){return p(re,Zl)}),Mn&&xu(re,Yt),it}function or(re,te,le,je){var it=C(le);if(typeof it!="function")throw Error(o(150));if(le=it.call(le),le==null)throw Error(o(151));for(var It=it=null,wt=te,Yt=te=0,Ii=null,Kt=le.next();wt!==null&&!Kt.done;Yt++,Kt=le.next()){wt.index>Yt?(Ii=wt,wt=null):Ii=wt.sibling;var Zl=ct(re,wt,Kt.value,je);if(Zl===null){wt===null&&(wt=Ii);break}f&&wt&&Zl.alternate===null&&p(re,wt),te=N(Zl,te,Yt),It===null?it=Zl:It.sibling=Zl,It=Zl,wt=Ii}if(Kt.done)return S(re,wt),Mn&&xu(re,Yt),it;if(wt===null){for(;!Kt.done;Yt++,Kt=le.next())Kt=St(re,Kt.value,je),Kt!==null&&(te=N(Kt,te,Yt),It===null?it=Kt:It.sibling=Kt,It=Kt);return Mn&&xu(re,Yt),it}for(wt=T(re,wt);!Kt.done;Yt++,Kt=le.next())Kt=cn(wt,re,Yt,Kt.value,je),Kt!==null&&(f&&Kt.alternate!==null&&wt.delete(Kt.key===null?Yt:Kt.key),te=N(Kt,te,Yt),It===null?it=Kt:It.sibling=Kt,It=Kt);return f&&wt.forEach(function(LJ){return p(re,LJ)}),Mn&&xu(re,Yt),it}function $s(re,te,le,je){if(typeof le=="object"&&le!==null&&le.type===u&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case l:e:{for(var it=le.key,It=te;It!==null;){if(It.key===it){if(it=le.type,it===u){if(It.tag===7){S(re,It.sibling),te=A(It,le.props.children),te.return=re,re=te;break e}}else if(It.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===b&&uL(it)===It.type){S(re,It.sibling),te=A(It,le.props),te.ref=tm(re,It,le),te.return=re,re=te;break e}S(re,It);break}else p(re,It);It=It.sibling}le.type===u?(te=Cu(le.props.children,re.mode,je,le.key),te.return=re,re=te):(je=ix(le.type,le.key,le.props,null,re.mode,je),je.ref=tm(re,te,le),je.return=re,re=je)}return q(re);case c:e:{for(It=le.key;te!==null;){if(te.key===It)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){S(re,te.sibling),te=A(te,le.children||[]),te.return=re,re=te;break e}else{S(re,te);break}else p(re,te);te=te.sibling}te=ET(le,re.mode,je),te.return=re,re=te}return q(re);case b:return It=le._init,$s(re,te,It(le._payload),je)}if(W(le))return rt(re,te,le,je);if(C(le))return or(re,te,le,je);C0(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,te!==null&&te.tag===6?(S(re,te.sibling),te=A(te,le),te.return=re,re=te):(S(re,te),te=wT(le,re.mode,je),te.return=re,re=te),q(re)):S(re,te)}return $s}var vf=dL(!0),fL=dL(!1),nm={},js=Vn(nm),im=Vn(nm),yf=Vn(nm);function Zo(f){if(f===nm)throw Error(o(174));return f}function VE(f,p){Le(yf,p),Le(im,f),Le(js,nm),f=j(p),st(js),Le(js,f)}function xf(){st(js),st(im),st(yf)}function hL(f){var p=Zo(yf.current),S=Zo(js.current);p=D(S,f.type,p),S!==p&&(Le(im,f),Le(js,p))}function jE(f){im.current===f&&(st(js),st(im))}var Nn=Vn(0);function M0(f){for(var p=f;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Kp(S)||af(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var HE=[];function WE(){for(var f=0;f<HE.length;f++){var p=HE[f];Ie?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}HE.length=0}var P0=a.ReactCurrentDispatcher,Hs=a.ReactCurrentBatchConfig,_f=0,jn=null,ir=null,Ai=null,A0=!1,rm=!1,sm=0,sJ=0;function rr(){throw Error(o(321))}function GE(f,p){if(p===null)return!1;for(var S=0;S<p.length&&S<f.length;S++)if(!Ko(f[S],p[S]))return!1;return!0}function $E(f,p,S,T,A,N){if(_f=N,jn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,P0.current=f===null||f.memoizedState===null?cJ:uJ,f=S(T,A),rm){N=0;do{if(rm=!1,sm=0,25<=N)throw Error(o(301));N+=1,Ai=ir=null,p.updateQueue=null,P0.current=dJ,f=S(T,A)}while(rm)}if(P0.current=L0,p=ir!==null&&ir.next!==null,_f=0,Ai=ir=jn=null,A0=!1,p)throw Error(o(300));return f}function qE(){var f=sm!==0;return sm=0,f}function Ha(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?jn.memoizedState=Ai=f:Ai=Ai.next=f,Ai}function ea(){if(ir===null){var f=jn.alternate;f=f!==null?f.memoizedState:null}else f=ir.next;var p=Ai===null?jn.memoizedState:Ai.next;if(p!==null)Ai=p,ir=f;else{if(f===null)throw Error(o(310));ir=f,f={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},Ai===null?jn.memoizedState=Ai=f:Ai=Ai.next=f}return Ai}function _u(f,p){return typeof p=="function"?p(f):p}function I0(f){var p=ea(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=f;var T=ir,A=T.baseQueue,N=S.pending;if(N!==null){if(A!==null){var q=A.next;A.next=N.next,N.next=q}T.baseQueue=A=N,S.pending=null}if(A!==null){N=A.next,T=T.baseState;var Q=q=null,he=null,Pe=N;do{var Qe=Pe.lane;if((_f&Qe)===Qe)he!==null&&(he=he.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),T=Pe.hasEagerState?Pe.eagerState:f(T,Pe.action);else{var St={lane:Qe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};he===null?(Q=he=St,q=T):he=he.next=St,jn.lanes|=Qe,Sf|=Qe}Pe=Pe.next}while(Pe!==null&&Pe!==N);he===null?q=T:he.next=Q,Ko(T,p.memoizedState)||(ms=!0),p.memoizedState=T,p.baseState=q,p.baseQueue=he,S.lastRenderedState=T}if(f=S.interleaved,f!==null){A=f;do N=A.lane,jn.lanes|=N,Sf|=N,A=A.next;while(A!==f)}else A===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function R0(f){var p=ea(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=f;var T=S.dispatch,A=S.pending,N=p.memoizedState;if(A!==null){S.pending=null;var q=A=A.next;do N=f(N,q.action),q=q.next;while(q!==A);Ko(N,p.memoizedState)||(ms=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),S.lastRenderedState=N}return[N,T]}function pL(){}function mL(f,p){var S=jn,T=ea(),A=p(),N=!Ko(T.memoizedState,A);if(N&&(T.memoizedState=A,ms=!0),T=T.queue,am(yL.bind(null,S,T,f),[f]),T.getSnapshot!==p||N||Ai!==null&&Ai.memoizedState.tag&1){if(S.flags|=2048,om(9,vL.bind(null,S,T,A,p),void 0,null),ii===null)throw Error(o(349));_f&30||gL(S,p,A)}return A}function gL(f,p,S){f.flags|=16384,f={getSnapshot:p,value:S},p=jn.updateQueue,p===null?(p={lastEffect:null,stores:null},jn.updateQueue=p,p.stores=[f]):(S=p.stores,S===null?p.stores=[f]:S.push(f))}function vL(f,p,S,T){p.value=S,p.getSnapshot=T,xL(p)&&Ws(f,1,-1)}function yL(f,p,S){return S(function(){xL(p)&&Ws(f,1,-1)})}function xL(f){var p=f.getSnapshot;f=f.value;try{var S=p();return!Ko(f,S)}catch{return!0}}function XE(f){var p=Ha();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:f},p.queue=f,f=f.dispatch=lJ.bind(null,jn,f),[p.memoizedState,f]}function om(f,p,S,T){return f={tag:f,create:p,destroy:S,deps:T,next:null},p=jn.updateQueue,p===null?(p={lastEffect:null,stores:null},jn.updateQueue=p,p.lastEffect=f.next=f):(S=p.lastEffect,S===null?p.lastEffect=f.next=f:(T=S.next,S.next=f,f.next=T,p.lastEffect=f)),f}function _L(){return ea().memoizedState}function k0(f,p,S,T){var A=Ha();jn.flags|=f,A.memoizedState=om(1|p,S,void 0,T===void 0?null:T)}function N0(f,p,S,T){var A=ea();T=T===void 0?null:T;var N=void 0;if(ir!==null){var q=ir.memoizedState;if(N=q.destroy,T!==null&&GE(T,q.deps)){A.memoizedState=om(p,S,N,T);return}}jn.flags|=f,A.memoizedState=om(1|p,S,N,T)}function YE(f,p){return k0(8390656,8,f,p)}function am(f,p){return N0(2048,8,f,p)}function bL(f,p){return N0(4,2,f,p)}function SL(f,p){return N0(4,4,f,p)}function wL(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function EL(f,p,S){return S=S!=null?S.concat([f]):null,N0(4,4,wL.bind(null,p,f),S)}function KE(){}function TL(f,p){var S=ea();p=p===void 0?null:p;var T=S.memoizedState;return T!==null&&p!==null&&GE(p,T[1])?T[0]:(S.memoizedState=[f,p],f)}function CL(f,p){var S=ea();p=p===void 0?null:p;var T=S.memoizedState;return T!==null&&p!==null&&GE(p,T[1])?T[0]:(f=f(),S.memoizedState=[f,p],f)}function oJ(f,p){var S=Xt;Xt=S!==0&&4>S?S:4,f(!0);var T=Hs.transition;Hs.transition={};try{f(!1),p()}finally{Xt=S,Hs.transition=T}}function ML(){return ea().memoizedState}function aJ(f,p,S){var T=Kl(f);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},PL(f)?AL(p,S):(IL(f,p,S),S=Mr(),f=Ws(f,T,S),f!==null&&RL(f,p,T))}function lJ(f,p,S){var T=Kl(f),A={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(PL(f))AL(p,A);else{IL(f,p,A);var N=f.alternate;if(f.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var q=p.lastRenderedState,Q=N(q,S);if(A.hasEagerState=!0,A.eagerState=Q,Ko(Q,q))return}catch{}finally{}S=Mr(),f=Ws(f,T,S),f!==null&&RL(f,p,T)}}function PL(f){var p=f.alternate;return f===jn||p!==null&&p===jn}function AL(f,p){rm=A0=!0;var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}function IL(f,p,S){ii!==null&&f.mode&1&&!(kt&2)?(f=p.interleaved,f===null?(S.next=S,Qo===null?Qo=[p]:Qo.push(p)):(S.next=f.next,f.next=S),p.interleaved=S):(f=p.pending,f===null?S.next=S:(S.next=f.next,f.next=S),p.pending=S)}function RL(f,p,S){if(S&4194240){var T=p.lanes;T&=f.pendingLanes,S|=T,p.lanes=S,EE(f,S)}}var L0={readContext:Bs,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},cJ={readContext:Bs,useCallback:function(f,p){return Ha().memoizedState=[f,p===void 0?null:p],f},useContext:Bs,useEffect:YE,useImperativeHandle:function(f,p,S){return S=S!=null?S.concat([f]):null,k0(4194308,4,wL.bind(null,p,f),S)},useLayoutEffect:function(f,p){return k0(4194308,4,f,p)},useInsertionEffect:function(f,p){return k0(4,2,f,p)},useMemo:function(f,p){var S=Ha();return p=p===void 0?null:p,f=f(),S.memoizedState=[f,p],f},useReducer:function(f,p,S){var T=Ha();return p=S!==void 0?S(p):p,T.memoizedState=T.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},T.queue=f,f=f.dispatch=aJ.bind(null,jn,f),[T.memoizedState,f]},useRef:function(f){var p=Ha();return f={current:f},p.memoizedState=f},useState:XE,useDebugValue:KE,useDeferredValue:function(f){var p=XE(f),S=p[0],T=p[1];return YE(function(){var A=Hs.transition;Hs.transition={};try{T(f)}finally{Hs.transition=A}},[f]),S},useTransition:function(){var f=XE(!1),p=f[0];return f=oJ.bind(null,f[1]),Ha().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,S){var T=jn,A=Ha();if(Mn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),ii===null)throw Error(o(349));_f&30||gL(T,p,S)}A.memoizedState=S;var N={value:S,getSnapshot:p};return A.queue=N,YE(yL.bind(null,T,N,f),[f]),T.flags|=2048,om(9,vL.bind(null,T,N,S,p),void 0,null),S},useId:function(){var f=Ha(),p=ii.identifierPrefix;if(Mn){var S=ja,T=Va;S=(T&~(1<<32-fs(T)-1)).toString(32)+S,p=":"+p+"R"+S,S=sm++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=sJ++,p=":"+p+"r"+S.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},uJ={readContext:Bs,useCallback:TL,useContext:Bs,useEffect:am,useImperativeHandle:EL,useInsertionEffect:bL,useLayoutEffect:SL,useMemo:CL,useReducer:I0,useRef:_L,useState:function(){return I0(_u)},useDebugValue:KE,useDeferredValue:function(f){var p=I0(_u),S=p[0],T=p[1];return am(function(){var A=Hs.transition;Hs.transition={};try{T(f)}finally{Hs.transition=A}},[f]),S},useTransition:function(){var f=I0(_u)[0],p=ea().memoizedState;return[f,p]},useMutableSource:pL,useSyncExternalStore:mL,useId:ML,unstable_isNewReconciler:!1},dJ={readContext:Bs,useCallback:TL,useContext:Bs,useEffect:am,useImperativeHandle:EL,useInsertionEffect:bL,useLayoutEffect:SL,useMemo:CL,useReducer:R0,useRef:_L,useState:function(){return R0(_u)},useDebugValue:KE,useDeferredValue:function(f){var p=R0(_u),S=p[0],T=p[1];return am(function(){var A=Hs.transition;Hs.transition={};try{T(f)}finally{Hs.transition=A}},[f]),S},useTransition:function(){var f=R0(_u)[0],p=ea().memoizedState;return[f,p]},useMutableSource:pL,useSyncExternalStore:mL,useId:ML,unstable_isNewReconciler:!1};function JE(f,p){try{var S="",T=p;do S+=rJ(T),T=T.return;while(T);var A=S}catch(N){A=`
Error generating stack: `+N.message+`
`+N.stack}return{value:f,source:p,stack:A}}function QE(f,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var fJ=typeof WeakMap=="function"?WeakMap:Map;function kL(f,p,S){S=Ua(-1,S),S.tag=3,S.payload={element:null};var T=p.value;return S.callback=function(){K0||(K0=!0,gT=T),QE(f,p)},S}function NL(f,p,S){S=Ua(-1,S),S.tag=3;var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var A=p.value;S.payload=function(){return T(A)},S.callback=function(){QE(f,p)}}var N=f.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(S.callback=function(){QE(f,p),typeof T!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})}),S}function LL(f,p,S){var T=f.pingCache;if(T===null){T=f.pingCache=new fJ;var A=new Set;T.set(p,A)}else A=T.get(p),A===void 0&&(A=new Set,T.set(p,A));A.has(S)||(A.add(S),f=CJ.bind(null,f,p,S),p.then(f,f))}function DL(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function OL(f,p,S,T,A){return f.mode&1?(f.flags|=65536,f.lanes=A,f):(f===p?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=Ua(-1,1),p.tag=2,ql(S,p))),S.lanes|=1),f)}function ta(f){f.flags|=4}function FL(f,p){if(f!==null&&f.child===p.child)return!0;if(p.flags&16)return!1;for(f=p.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var lm,cm,D0,O0;if(Ge)lm=function(f,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)ce(f,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},cm=function(){},D0=function(f,p,S,T,A){if(f=f.memoizedProps,f!==T){var N=p.stateNode,q=Zo(js.current);S=ie(N,S,f,T,A,q),(p.updateQueue=S)&&ta(p)}},O0=function(f,p,S,T){S!==T&&ta(p)};else if(H){lm=function(f,p,S,T){for(var A=p.child;A!==null;){if(A.tag===5){var N=A.stateNode;S&&T&&(N=zs(N,A.type,A.memoizedProps,A)),ce(f,N)}else if(A.tag===6)N=A.stateNode,S&&T&&(N=ds(N,A.memoizedProps,A)),ce(f,N);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)N=A.child,N!==null&&(N.return=A),lm(f,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var zL=function(f,p,S,T){for(var A=p.child;A!==null;){if(A.tag===5){var N=A.stateNode;S&&T&&(N=zs(N,A.type,A.memoizedProps,A)),kn(f,N)}else if(A.tag===6)N=A.stateNode,S&&T&&(N=ds(N,A.memoizedProps,A)),kn(f,N);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)N=A.child,N!==null&&(N.return=A),zL(f,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};cm=function(f,p){var S=p.stateNode;if(!FL(f,p)){f=S.containerInfo;var T=zt(f);zL(T,p,!1,!1),S.pendingChildren=T,ta(p),pi(f,T)}},D0=function(f,p,S,T,A){var N=f.stateNode,q=f.memoizedProps;if((f=FL(f,p))&&q===T)p.stateNode=N;else{var Q=p.stateNode,he=Zo(js.current),Pe=null;q!==T&&(Pe=ie(Q,S,q,T,A,he)),f&&Pe===null?p.stateNode=N:(N=ht(N,Pe,S,q,T,p,f,Q),Ne(N,S,T,A,he)&&ta(p),p.stateNode=N,f?ta(p):lm(N,p,!1,!1))}},O0=function(f,p,S,T){S!==T?(f=Zo(yf.current),S=Zo(js.current),p.stateNode=Ee(T,f,S,p),ta(p)):p.stateNode=f.stateNode}}else cm=function(){},D0=function(){},O0=function(){};function um(f,p){if(!Mn)switch(f.tailMode){case"hidden":p=f.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function sr(f){var p=f.alternate!==null&&f.alternate.child===f.child,S=0,T=0;if(p)for(var A=f.child;A!==null;)S|=A.lanes|A.childLanes,T|=A.subtreeFlags&14680064,T|=A.flags&14680064,A.return=f,A=A.sibling;else for(A=f.child;A!==null;)S|=A.lanes|A.childLanes,T|=A.subtreeFlags,T|=A.flags,A.return=f,A=A.sibling;return f.subtreeFlags|=T,f.childLanes=S,p}function hJ(f,p,S){var T=p.pendingProps;switch(FE(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(p),null;case 1:return Mi(p.type)&&wn(),sr(p),null;case 3:return T=p.stateNode,xf(),st(gn),st(vt),WE(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(em(p)?ta(p):f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,go!==null&&(xT(go),go=null))),cm(f,p),sr(p),null;case 5:jE(p),S=Zo(yf.current);var A=p.type;if(f!==null&&p.stateNode!=null)D0(f,p,A,T,S),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!T){if(p.stateNode===null)throw Error(o(166));return sr(p),null}if(f=Zo(js.current),em(p)){if(!ve)throw Error(o(175));f=xE(p.stateNode,p.type,p.memoizedProps,S,f,p,!Zp),p.updateQueue=f,f!==null&&ta(p)}else{var N=J(A,T,S,f,p);lm(N,p,!1,!1),p.stateNode=N,Ne(N,A,T,S,f)&&ta(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return sr(p),null;case 6:if(f&&p.stateNode!=null)O0(f,p,f.memoizedProps,T);else{if(typeof T!="string"&&p.stateNode===null)throw Error(o(166));if(f=Zo(yf.current),S=Zo(js.current),em(p)){if(!ve)throw Error(o(176));if(f=p.stateNode,T=p.memoizedProps,(S=_E(f,T,p,!Zp))&&(A=hs,A!==null))switch(N=(A.mode&1)!==0,A.tag){case 3:We(A.stateNode.containerInfo,f,T,N);break;case 5:Ze(A.type,A.memoizedProps,A.stateNode,f,T,N)}S&&ta(p)}else p.stateNode=Ee(T,f,S,p)}return sr(p),null;case 13:if(st(Nn),T=p.memoizedState,Mn&&ps!==null&&p.mode&1&&!(p.flags&128)){for(f=ps;f;)f=Gl(f);return gf(),p.flags|=98560,p}if(T!==null&&T.dehydrated!==null){if(T=em(p),f===null){if(!T)throw Error(o(318));if(!ve)throw Error(o(344));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));bE(f,p)}else gf(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return sr(p),null}return go!==null&&(xT(go),go=null),p.flags&128?(p.lanes=S,p):(T=T!==null,S=!1,f===null?em(p):S=f.memoizedState!==null,T&&!S&&(p.child.flags|=8192,p.mode&1&&(f===null||Nn.current&1?mi===0&&(mi=3):bT())),p.updateQueue!==null&&(p.flags|=4),sr(p),null);case 4:return xf(),cm(f,p),f===null&&Oe(p.stateNode.containerInfo),sr(p),null;case 10:return RE(p.type._context),sr(p),null;case 17:return Mi(p.type)&&wn(),sr(p),null;case 19:if(st(Nn),A=p.memoizedState,A===null)return sr(p),null;if(T=(p.flags&128)!==0,N=A.rendering,N===null)if(T)um(A,!1);else{if(mi!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(N=M0(f),N!==null){for(p.flags|=128,um(A,!1),f=N.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),p.subtreeFlags=0,f=S,T=p.child;T!==null;)S=T,A=f,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=A,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,A=N.dependencies,S.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),T=T.sibling;return Le(Nn,Nn.current&1|2),p.child}f=f.sibling}A.tail!==null&&Pi()>mT&&(p.flags|=128,T=!0,um(A,!1),p.lanes=4194304)}else{if(!T)if(f=M0(N),f!==null){if(p.flags|=128,T=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),um(A,!0),A.tail===null&&A.tailMode==="hidden"&&!N.alternate&&!Mn)return sr(p),null}else 2*Pi()-A.renderingStartTime>mT&&S!==1073741824&&(p.flags|=128,T=!0,um(A,!1),p.lanes=4194304);A.isBackwards?(N.sibling=p.child,p.child=N):(f=A.last,f!==null?f.sibling=N:p.child=N,A.last=N)}return A.tail!==null?(p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=Pi(),p.sibling=null,f=Nn.current,Le(Nn,T?f&1|2:f&1),p):(sr(p),null);case 22:case 23:return _T(),T=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==T&&(p.flags|=8192),T&&p.mode&1?gs&1073741824&&(sr(p),Ge&&p.subtreeFlags&6&&(p.flags|=8192)):sr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var pJ=a.ReactCurrentOwner,ms=!1;function Cr(f,p,S,T){p.child=f===null?fL(p,null,S,T):vf(p,f.child,S,T)}function BL(f,p,S,T,A){S=S.render;var N=p.ref;return hf(p,A),T=$E(f,p,S,T,N,A),S=qE(),f!==null&&!ms?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~A,Wa(f,p,A)):(Mn&&S&&OE(p),p.flags|=1,Cr(f,p,T,A),p.child)}function UL(f,p,S,T,A){if(f===null){var N=S.type;return typeof N=="function"&&!ST(N)&&N.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=N,VL(f,p,N,T,A)):(f=ix(S.type,null,T,p,p.mode,A),f.ref=p.ref,f.return=p,p.child=f)}if(N=f.child,!(f.lanes&A)){var q=N.memoizedProps;if(S=S.compare,S=S!==null?S:y0,S(q,T)&&f.ref===p.ref)return Wa(f,p,A)}return p.flags|=1,f=Ql(N,T),f.ref=p.ref,f.return=p,p.child=f}function VL(f,p,S,T,A){if(f!==null&&y0(f.memoizedProps,T)&&f.ref===p.ref)if(ms=!1,(f.lanes&A)!==0)f.flags&131072&&(ms=!0);else return p.lanes=f.lanes,Wa(f,p,A);return ZE(f,p,S,T,A)}function jL(f,p,S){var T=p.pendingProps,A=T.children,N=f!==null?f.memoizedState:null;if(T.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Le(bf,gs),gs|=S;else if(S&1073741824)p.memoizedState={baseLanes:0,cachePool:null},T=N!==null?N.baseLanes:S,Le(bf,gs),gs|=T;else return f=N!==null?N.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null},p.updateQueue=null,Le(bf,gs),gs|=f,null;else N!==null?(T=N.baseLanes|S,p.memoizedState=null):T=S,Le(bf,gs),gs|=T;return Cr(f,p,A,S),p.child}function HL(f,p){var S=p.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function ZE(f,p,S,T,A){var N=Mi(S)?Wr:vt.current;return N=ni(p,N),hf(p,A),S=$E(f,p,S,T,N,A),T=qE(),f!==null&&!ms?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~A,Wa(f,p,A)):(Mn&&T&&OE(p),p.flags|=1,Cr(f,p,S,A),p.child)}function WL(f,p,S,T,A){if(Mi(S)){var N=!0;ji(p)}else N=!1;if(hf(p,A),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),rL(p,S,T),DE(p,S,T,A),T=!0;else if(f===null){var q=p.stateNode,Q=p.memoizedProps;q.props=Q;var he=q.context,Pe=S.contextType;typeof Pe=="object"&&Pe!==null?Pe=Bs(Pe):(Pe=Mi(S)?Wr:vt.current,Pe=ni(p,Pe));var Qe=S.getDerivedStateFromProps,St=typeof Qe=="function"||typeof q.getSnapshotBeforeUpdate=="function";St||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==T||he!==Pe)&&sL(p,q,T,Pe),$l=!1;var ct=p.memoizedState;q.state=ct,S0(p,T,q,A),he=p.memoizedState,Q!==T||ct!==he||gn.current||$l?(typeof Qe=="function"&&(LE(p,S,Qe,T),he=p.memoizedState),(Q=$l||iL(p,S,Q,T,ct,he,Pe))?(St||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(p.flags|=4194308)):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=he),q.props=T,q.state=he,q.context=Pe,T=Q):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{q=p.stateNode,ZN(f,p),Q=p.memoizedProps,Pe=p.type===p.elementType?Q:mo(p.type,Q),q.props=Pe,St=p.pendingProps,ct=q.context,he=S.contextType,typeof he=="object"&&he!==null?he=Bs(he):(he=Mi(S)?Wr:vt.current,he=ni(p,he));var cn=S.getDerivedStateFromProps;(Qe=typeof cn=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==St||ct!==he)&&sL(p,q,T,he),$l=!1,ct=p.memoizedState,q.state=ct,S0(p,T,q,A);var rt=p.memoizedState;Q!==St||ct!==rt||gn.current||$l?(typeof cn=="function"&&(LE(p,S,cn,T),rt=p.memoizedState),(Pe=$l||iL(p,S,Pe,T,ct,rt,he)||!1)?(Qe||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(T,rt,he),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(T,rt,he)),typeof q.componentDidUpdate=="function"&&(p.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof q.componentDidUpdate!="function"||Q===f.memoizedProps&&ct===f.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===f.memoizedProps&&ct===f.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=rt),q.props=T,q.state=rt,q.context=he,T=Pe):(typeof q.componentDidUpdate!="function"||Q===f.memoizedProps&&ct===f.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===f.memoizedProps&&ct===f.memoizedState||(p.flags|=1024),T=!1)}return eT(f,p,S,T,N,A)}function eT(f,p,S,T,A,N){HL(f,p);var q=(p.flags&128)!==0;if(!T&&!q)return A&&df(p,S,!1),Wa(f,p,N);T=p.stateNode,pJ.current=p;var Q=q&&typeof S.getDerivedStateFromError!="function"?null:T.render();return p.flags|=1,f!==null&&q?(p.child=vf(p,f.child,null,N),p.child=vf(p,null,Q,N)):Cr(f,p,Q,N),p.memoizedState=T.state,A&&df(p,S,!0),p.child}function GL(f){var p=f.stateNode;p.pendingContext?po(f,p.pendingContext,p.pendingContext!==p.context):p.context&&po(f,p.context,!1),VE(f,p.containerInfo)}function $L(f,p,S,T,A){return gf(),UE(A),p.flags|=256,Cr(f,p,S,T),p.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function z0(f){return{baseLanes:f,cachePool:null}}function qL(f,p,S){var T=p.pendingProps,A=Nn.current,N=!1,q=(p.flags&128)!==0,Q;if((Q=q)||(Q=f!==null&&f.memoizedState===null?!1:(A&2)!==0),Q?(N=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(A|=1),Le(Nn,A&1),f===null)return BE(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?af(f)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(A=T.children,f=T.fallback,N?(T=p.mode,N=p.child,A={mode:"hidden",children:A},!(T&1)&&N!==null?(N.childLanes=0,N.pendingProps=A):N=rx(A,T,0,null),f=Cu(f,T,S,null),N.return=p,f.return=p,N.sibling=f,p.child=N,p.child.memoizedState=z0(S),p.memoizedState=F0,f):tT(p,A));if(A=f.memoizedState,A!==null){if(Q=A.dehydrated,Q!==null){if(q)return p.flags&256?(p.flags&=-257,B0(f,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(N=T.fallback,A=p.mode,T=rx({mode:"visible",children:T.children},A,0,null),N=Cu(N,A,S,null),N.flags|=2,T.return=p,N.return=p,T.sibling=N,p.child=T,p.mode&1&&vf(p,f.child,null,S),p.child.memoizedState=z0(S),p.memoizedState=F0,N);if(!(p.mode&1))p=B0(f,p,S,null);else if(af(Q))p=B0(f,p,S,Error(o(419)));else if(T=(S&f.childLanes)!==0,ms||T){if(T=ii,T!==null){switch(S&-S){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}T=N&(T.suspendedLanes|S)?0:N,T!==0&&T!==A.retryLane&&(A.retryLane=T,Ws(f,T,-1))}bT(),p=B0(f,p,S,Error(o(421)))}else Kp(Q)?(p.flags|=128,p.child=f.child,p=MJ.bind(null,f),lf(Q,p),p=null):(S=A.treeContext,ve&&(ps=d0(Q),hs=p,Mn=!0,go=null,Zp=!1,S!==null&&(Us[Vs++]=Va,Us[Vs++]=ja,Us[Vs++]=yu,Va=S.id,ja=S.overflow,yu=p)),p=tT(p,p.pendingProps.children),p.flags|=4096);return p}return N?(T=YL(f,p,T.children,T.fallback,S),N=p.child,A=f.child.memoizedState,N.memoizedState=A===null?z0(S):{baseLanes:A.baseLanes|S,cachePool:null},N.childLanes=f.childLanes&~S,p.memoizedState=F0,T):(S=XL(f,p,T.children,S),p.memoizedState=null,S)}return N?(T=YL(f,p,T.children,T.fallback,S),N=p.child,A=f.child.memoizedState,N.memoizedState=A===null?z0(S):{baseLanes:A.baseLanes|S,cachePool:null},N.childLanes=f.childLanes&~S,p.memoizedState=F0,T):(S=XL(f,p,T.children,S),p.memoizedState=null,S)}function tT(f,p){return p=rx({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function XL(f,p,S,T){var A=f.child;return f=A.sibling,S=Ql(A,{mode:"visible",children:S}),!(p.mode&1)&&(S.lanes=T),S.return=p,S.sibling=null,f!==null&&(T=p.deletions,T===null?(p.deletions=[f],p.flags|=16):T.push(f)),p.child=S}function YL(f,p,S,T,A){var N=p.mode;f=f.child;var q=f.sibling,Q={mode:"hidden",children:S};return!(N&1)&&p.child!==f?(S=p.child,S.childLanes=0,S.pendingProps=Q,p.deletions=null):(S=Ql(f,Q),S.subtreeFlags=f.subtreeFlags&14680064),q!==null?T=Ql(q,T):(T=Cu(T,N,A,null),T.flags|=2),T.return=p,S.return=p,S.sibling=T,p.child=S,T}function B0(f,p,S,T){return T!==null&&UE(T),vf(p,f.child,null,S),f=tT(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function KL(f,p,S){f.lanes|=p;var T=f.alternate;T!==null&&(T.lanes|=p),kE(f.return,p,S)}function nT(f,p,S,T,A){var N=f.memoizedState;N===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:A}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=T,N.tail=S,N.tailMode=A)}function JL(f,p,S){var T=p.pendingProps,A=T.revealOrder,N=T.tail;if(Cr(f,p,T.children,S),T=Nn.current,T&2)T=T&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&KL(f,S,p);else if(f.tag===19)KL(f,S,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}if(Le(Nn,T),!(p.mode&1))p.memoizedState=null;else switch(A){case"forwards":for(S=p.child,A=null;S!==null;)f=S.alternate,f!==null&&M0(f)===null&&(A=S),S=S.sibling;S=A,S===null?(A=p.child,p.child=null):(A=S.sibling,S.sibling=null),nT(p,!1,A,S,N);break;case"backwards":for(S=null,A=p.child,p.child=null;A!==null;){if(f=A.alternate,f!==null&&M0(f)===null){p.child=A;break}f=A.sibling,A.sibling=S,S=A,A=f}nT(p,!0,S,null,N);break;case"together":nT(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Wa(f,p,S){if(f!==null&&(p.dependencies=f.dependencies),Sf|=p.lanes,!(S&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(o(153));if(p.child!==null){for(f=p.child,S=Ql(f,f.pendingProps),p.child=S,S.return=p;f.sibling!==null;)f=f.sibling,S=S.sibling=Ql(f,f.pendingProps),S.return=p;S.sibling=null}return p.child}function mJ(f,p,S){switch(p.tag){case 3:GL(p),gf();break;case 5:hL(p);break;case 1:Mi(p.type)&&ji(p);break;case 4:VE(p,p.stateNode.containerInfo);break;case 10:QN(p,p.type._context,p.memoizedProps.value);break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(Le(Nn,Nn.current&1),p.flags|=128,null):S&p.child.childLanes?qL(f,p,S):(Le(Nn,Nn.current&1),f=Wa(f,p,S),f!==null?f.sibling:null);Le(Nn,Nn.current&1);break;case 19:if(T=(S&p.childLanes)!==0,f.flags&128){if(T)return JL(f,p,S);p.flags|=128}var A=p.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Le(Nn,Nn.current),T)break;return null;case 22:case 23:return p.lanes=0,jL(f,p,S)}return Wa(f,p,S)}function gJ(f,p){switch(FE(p),p.tag){case 1:return Mi(p.type)&&wn(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return xf(),st(gn),st(vt),WE(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return jE(p),null;case 13:if(st(Nn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(o(340));gf()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return st(Nn),null;case 4:return xf(),null;case 10:return RE(p.type._context),null;case 22:case 23:return _T(),null;case 24:return null;default:return null}}var U0=!1,bu=!1,vJ=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function V0(f,p){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){qr(f,p,T)}else S.current=null}function iT(f,p,S){try{S()}catch(T){qr(f,p,T)}}var QL=!1;function yJ(f,p){for(B(f.containerInfo),Ve=p;Ve!==null;)if(f=Ve,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,Ve=p;else for(;Ve!==null;){f=Ve;try{var S=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,A=S.memoizedState,N=f.stateNode,q=N.getSnapshotBeforeUpdate(f.elementType===f.type?T:mo(f.type,T),A);N.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Ge&&De(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){qr(f,f.return,Q)}if(p=f.sibling,p!==null){p.return=f.return,Ve=p;break}Ve=f.return}return S=QL,QL=!1,S}function Su(f,p,S){var T=p.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var A=T=T.next;do{if((A.tag&f)===f){var N=A.destroy;A.destroy=void 0,N!==void 0&&iT(p,S,N)}A=A.next}while(A!==T)}}function dm(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&f)===f){var T=S.create;S.destroy=T()}S=S.next}while(S!==p)}}function rT(f){var p=f.ref;if(p!==null){var S=f.stateNode;switch(f.tag){case 5:f=K(S);break;default:f=S}typeof p=="function"?p(f):p.current=f}}function ZL(f,p,S){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(g0,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var T=f=f.next;do{var A=T,N=A.destroy;A=A.tag,N!==void 0&&(A&2||A&4)&&iT(p,S,N),T=T.next}while(T!==f)}break;case 1:if(V0(p,S),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(q){qr(p,S,q)}break;case 5:V0(p,S);break;case 4:Ge?s3(f,p,S):H&&H&&(p=p.stateNode.containerInfo,S=zt(p),Ht(p,S))}}function e3(f,p,S){for(var T=p;;)if(ZL(f,T,S),T.child===null||Ge&&T.tag===4){if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function t3(f){var p=f.alternate;p!==null&&(f.alternate=null,t3(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&ot(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function n3(f){return f.tag===5||f.tag===3||f.tag===4}function i3(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||n3(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function r3(f){if(Ge){e:{for(var p=f.return;p!==null;){if(n3(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(hn(p),S.flags&=-33),S=i3(f),oT(f,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=i3(f),sT(f,S,p);break;default:throw Error(o(161))}}}function sT(f,p,S){var T=f.tag;if(T===5||T===6)f=f.stateNode,p?Ke(S,f,p):_t(S,f);else if(T!==4&&(f=f.child,f!==null))for(sT(f,p,S),f=f.sibling;f!==null;)sT(f,p,S),f=f.sibling}function oT(f,p,S){var T=f.tag;if(T===5||T===6)f=f.stateNode,p?gt(S,f,p):Xe(S,f);else if(T!==4&&(f=f.child,f!==null))for(oT(f,p,S),f=f.sibling;f!==null;)oT(f,p,S),f=f.sibling}function s3(f,p,S){for(var T=p,A=!1,N,q;;){if(!A){A=T.return;e:for(;;){if(A===null)throw Error(o(160));switch(N=A.stateNode,A.tag){case 5:q=!1;break e;case 3:N=N.containerInfo,q=!0;break e;case 4:N=N.containerInfo,q=!0;break e}A=A.return}A=!0}if(T.tag===5||T.tag===6)e3(f,T,S),q?At(N,T.stateNode):yt(N,T.stateNode);else if(T.tag===18)q?ne(N,T.stateNode):ae(N,T.stateNode);else if(T.tag===4){if(T.child!==null){N=T.stateNode.containerInfo,q=!0,T.child.return=T,T=T.child;continue}}else if(ZL(f,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return,T.tag===4&&(A=!1)}T.sibling.return=T.return,T=T.sibling}}function aT(f,p){if(Ge){switch(p.tag){case 0:case 11:case 14:case 15:Su(3,p,p.return),dm(3,p),Su(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var T=p.memoizedProps;f=f!==null?f.memoizedProps:T;var A=p.type,N=p.updateQueue;p.updateQueue=null,N!==null&&Ft(S,N,A,f,T,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,Me(p.stateNode,f!==null?f.memoizedProps:S,S);return;case 3:ve&&f!==null&&f.memoizedState.isDehydrated&&ee(p.stateNode.containerInfo);return;case 12:return;case 13:j0(p);return;case 19:j0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Su(3,p,p.return),dm(3,p),Su(5,p,p.return);return;case 12:return;case 13:j0(p);return;case 19:j0(p);return;case 3:ve&&f!==null&&f.memoizedState.isDehydrated&&ee(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(H){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Ht(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function j0(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new vJ),p.forEach(function(T){var A=PJ.bind(null,f,T);S.has(T)||(S.add(T),T.then(A,A))})}}function xJ(f,p){for(Ve=p;Ve!==null;){p=Ve;var S=p.deletions;if(S!==null)for(var T=0;T<S.length;T++){var A=S[T];try{var N=f;Ge?s3(N,A,p):e3(N,A,p);var q=A.alternate;q!==null&&(q.return=null),A.return=null}catch(it){qr(A,p,it)}}if(S=p.child,p.subtreeFlags&12854&&S!==null)S.return=p,Ve=S;else for(;Ve!==null;){p=Ve;try{var Q=p.flags;if(Q&32&&Ge&&hn(p.stateNode),Q&512){var he=p.alternate;if(he!==null){var Pe=he.ref;Pe!==null&&(typeof Pe=="function"?Pe(null):Pe.current=null)}}if(Q&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Qe=p.alternate;(Qe===null||Qe.memoizedState===null)&&(pT=Pi())}break;case 22:var St=p.memoizedState!==null,ct=p.alternate,cn=ct!==null&&ct.memoizedState!==null;if(S=p,Ge){e:if(T=S,A=St,N=null,Ge)for(var rt=T;;){if(rt.tag===5){if(N===null){N=rt;var or=rt.stateNode;A?Z(or):_e(rt.stateNode,rt.memoizedProps)}}else if(rt.tag===6){if(N===null){var $s=rt.stateNode;A?Re($s):be($s,rt.memoizedProps)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===T)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===T)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===T)break e;N===rt&&(N=null),rt=rt.return}N===rt&&(N=null),rt.sibling.return=rt.return,rt=rt.sibling}}if(St&&!cn&&S.mode&1){Ve=S;for(var re=S.child;re!==null;){for(S=Ve=re;Ve!==null;){T=Ve;var te=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Su(4,T,T.return);break;case 1:V0(T,T.return);var le=T.stateNode;if(typeof le.componentWillUnmount=="function"){var je=T.return;try{le.props=T.memoizedProps,le.state=T.memoizedState,le.componentWillUnmount()}catch(it){qr(T,je,it)}}break;case 5:V0(T,T.return);break;case 22:if(T.memoizedState!==null){l3(S);continue}}te!==null?(te.return=T,Ve=te):l3(S)}re=re.sibling}}}switch(Q&4102){case 2:r3(p),p.flags&=-3;break;case 6:r3(p),p.flags&=-3,aT(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,aT(p.alternate,p);break;case 4:aT(p.alternate,p)}}catch(it){qr(p,p.return,it)}if(S=p.sibling,S!==null){S.return=p.return,Ve=S;break}Ve=p.return}}}function _J(f,p,S){Ve=f,o3(f)}function o3(f,p,S){for(var T=(f.mode&1)!==0;Ve!==null;){var A=Ve,N=A.child;if(A.tag===22&&T){var q=A.memoizedState!==null||U0;if(!q){var Q=A.alternate,he=Q!==null&&Q.memoizedState!==null||bu;Q=U0;var Pe=bu;if(U0=q,(bu=he)&&!Pe)for(Ve=A;Ve!==null;)q=Ve,he=q.child,q.tag===22&&q.memoizedState!==null?c3(A):he!==null?(he.return=q,Ve=he):c3(A);for(;N!==null;)Ve=N,o3(N),N=N.sibling;Ve=A,U0=Q,bu=Pe}a3(f)}else A.subtreeFlags&8772&&N!==null?(N.return=A,Ve=N):a3(f)}}function a3(f){for(;Ve!==null;){var p=Ve;if(p.flags&8772){var S=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:bu||dm(5,p);break;case 1:var T=p.stateNode;if(p.flags&4&&!bu)if(S===null)T.componentDidMount();else{var A=p.elementType===p.type?S.memoizedProps:mo(p.type,S.memoizedProps);T.componentDidUpdate(A,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&tL(p,N,T);break;case 3:var q=p.updateQueue;if(q!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=K(p.child.stateNode);break;case 1:S=p.child.stateNode}tL(p,q,S)}break;case 5:var Q=p.stateNode;S===null&&p.flags&4&&$e(Q,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&p.memoizedState===null){var he=p.alternate;if(he!==null){var Pe=he.memoizedState;if(Pe!==null){var Qe=Pe.dehydrated;Qe!==null&&oe(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}bu||p.flags&512&&rT(p)}catch(St){qr(p,p.return,St)}}if(p===f){Ve=null;break}if(S=p.sibling,S!==null){S.return=p.return,Ve=S;break}Ve=p.return}}function l3(f){for(;Ve!==null;){var p=Ve;if(p===f){Ve=null;break}var S=p.sibling;if(S!==null){S.return=p.return,Ve=S;break}Ve=p.return}}function c3(f){for(;Ve!==null;){var p=Ve;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{dm(4,p)}catch(he){qr(p,S,he)}break;case 1:var T=p.stateNode;if(typeof T.componentDidMount=="function"){var A=p.return;try{T.componentDidMount()}catch(he){qr(p,A,he)}}var N=p.return;try{rT(p)}catch(he){qr(p,N,he)}break;case 5:var q=p.return;try{rT(p)}catch(he){qr(p,q,he)}}}catch(he){qr(p,p.return,he)}if(p===f){Ve=null;break}var Q=p.sibling;if(Q!==null){Q.return=p.return,Ve=Q;break}Ve=p.return}}var H0=0,W0=1,G0=2,$0=3,q0=4;if(typeof Symbol=="function"&&Symbol.for){var fm=Symbol.for;H0=fm("selector.component"),W0=fm("selector.has_pseudo_class"),G0=fm("selector.role"),$0=fm("selector.test_id"),q0=fm("selector.text")}function lT(f){var p=we(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(f=F(f),f===null)throw Error(o(362));return f.stateNode.current}function cT(f,p){switch(p.$$typeof){case H0:if(f.type===p.value)return!0;break;case W0:e:{p=p.value,f=[f,0];for(var S=0;S<f.length;){var T=f[S++],A=f[S++],N=p[A];if(T.tag!==5||!ge(T)){for(;N!=null&&cT(T,N);)A++,N=p[A];if(A===p.length){p=!0;break e}else for(T=T.child;T!==null;)f.push(T,A),T=T.sibling}}p=!1}return p;case G0:if(f.tag===5&&Se(f.stateNode,p.value))return!0;break;case q0:if((f.tag===5||f.tag===6)&&(f=xe(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case $0:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function uT(f){switch(f.$$typeof){case H0:return"<"+(R(f.value)||"Unknown")+">";case W0:return":has("+(uT(f)||"")+")";case G0:return'[role="'+f.value+'"]';case q0:return'"'+f.value+'"';case $0:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function u3(f,p){var S=[];f=[f,0];for(var T=0;T<f.length;){var A=f[T++],N=f[T++],q=p[N];if(A.tag!==5||!ge(A)){for(;q!=null&&cT(A,q);)N++,q=p[N];if(N===p.length)S.push(A);else for(A=A.child;A!==null;)f.push(A,N),A=A.sibling}}return S}function dT(f,p){if(!Y)throw Error(o(363));f=lT(f),f=u3(f,p),p=[],f=Array.from(f);for(var S=0;S<f.length;){var T=f[S++];if(T.tag===5)ge(T)||p.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return p}var bJ=Math.ceil,X0=a.ReactCurrentDispatcher,fT=a.ReactCurrentOwner,Yn=a.ReactCurrentBatchConfig,kt=0,ii=null,ri=null,Hi=0,gs=0,bf=Vn(0),mi=0,hm=null,Sf=0,Y0=0,hT=0,pm=null,Gr=null,pT=0,mT=1/0;function wf(){mT=Pi()+500}var K0=!1,gT=null,Xl=null,J0=!1,Yl=null,Q0=0,mm=0,vT=null,Z0=-1,ex=0;function Mr(){return kt&6?Pi():Z0!==-1?Z0:Z0=Pi()}function Kl(f){return f.mode&1?kt&2&&Hi!==0?Hi&-Hi:iJ.transition!==null?(ex===0&&(f=h0,h0<<=1,!(h0&4194240)&&(h0=64),ex=f),ex):(f=Xt,f!==0?f:me()):1}function Ws(f,p,S){if(50<mm)throw mm=0,vT=null,Error(o(185));var T=tx(f,p);return T===null?null:(Qp(T,p,S),(!(kt&2)||T!==ii)&&(T===ii&&(!(kt&2)&&(Y0|=p),mi===4&&Jl(T,Hi)),$r(T,S),p===1&&kt===0&&!(f.mode&1)&&(wf(),v0&&Jo())),T)}function tx(f,p){f.lanes|=p;var S=f.alternate;for(S!==null&&(S.lanes|=p),S=f,f=f.return;f!==null;)f.childLanes|=p,S=f.alternate,S!==null&&(S.childLanes|=p),S=f,f=f.return;return S.tag===3?S.stateNode:null}function $r(f,p){var S=f.callbackNode;XK(f,p);var T=m0(f,f===ii?Hi:0);if(T===0)S!==null&&KN(S),f.callbackNode=null,f.callbackPriority=0;else if(p=T&-T,f.callbackPriority!==p){if(S!=null&&KN(S),p===1)f.tag===0?nJ(f3.bind(null,f)):JN(f3.bind(null,f)),Fe?qe(function(){kt===0&&Jo()}):TE(CE,Jo),S=null;else{switch(YN(T)){case 1:S=CE;break;case 4:S=QK;break;case 16:S=ME;break;case 536870912:S=ZK;break;default:S=ME}S=b3(S,d3.bind(null,f))}f.callbackPriority=p,f.callbackNode=S}}function d3(f,p){if(Z0=-1,ex=0,kt&6)throw Error(o(327));var S=f.callbackNode;if(Tu()&&f.callbackNode!==S)return null;var T=m0(f,f===ii?Hi:0);if(T===0)return null;if(T&30||T&f.expiredLanes||p)p=nx(f,T);else{p=T;var A=kt;kt|=2;var N=m3();(ii!==f||Hi!==p)&&(wf(),wu(f,p));do try{EJ();break}catch(Q){p3(f,Q)}while(!0);IE(),X0.current=N,kt=A,ri!==null?p=0:(ii=null,Hi=0,p=mi)}if(p!==0){if(p===2&&(A=SE(f),A!==0&&(T=A,p=yT(f,A))),p===1)throw S=hm,wu(f,0),Jl(f,T),$r(f,Pi()),S;if(p===6)Jl(f,T);else{if(A=f.current.alternate,!(T&30)&&!SJ(A)&&(p=nx(f,T),p===2&&(N=SE(f),N!==0&&(T=N,p=yT(f,N))),p===1))throw S=hm,wu(f,0),Jl(f,T),$r(f,Pi()),S;switch(f.finishedWork=A,f.finishedLanes=T,p){case 0:case 1:throw Error(o(345));case 2:Eu(f,Gr);break;case 3:if(Jl(f,T),(T&130023424)===T&&(p=pT+500-Pi(),10<p)){if(m0(f,0)!==0)break;if(A=f.suspendedLanes,(A&T)!==T){Mr(),f.pingedLanes|=f.suspendedLanes&A;break}f.timeoutHandle=Te(Eu.bind(null,f,Gr),p);break}Eu(f,Gr);break;case 4:if(Jl(f,T),(T&4194240)===T)break;for(p=f.eventTimes,A=-1;0<T;){var q=31-fs(T);N=1<<q,q=p[q],q>A&&(A=q),T&=~N}if(T=A,T=Pi()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*bJ(T/1960))-T,10<T){f.timeoutHandle=Te(Eu.bind(null,f,Gr),T);break}Eu(f,Gr);break;case 5:Eu(f,Gr);break;default:throw Error(o(329))}}}return $r(f,Pi()),f.callbackNode===S?d3.bind(null,f):null}function yT(f,p){var S=pm;return f.current.memoizedState.isDehydrated&&(wu(f,p).flags|=256),f=nx(f,p),f!==2&&(p=Gr,Gr=S,p!==null&&xT(p)),f}function xT(f){Gr===null?Gr=f:Gr.push.apply(Gr,f)}function SJ(f){for(var p=f;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var A=S[T],N=A.getSnapshot;A=A.value;try{if(!Ko(N(),A))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Jl(f,p){for(p&=~hT,p&=~Y0,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var S=31-fs(p),T=1<<S;f[S]=-1,p&=~T}}function f3(f){if(kt&6)throw Error(o(327));Tu();var p=m0(f,0);if(!(p&1))return $r(f,Pi()),null;var S=nx(f,p);if(f.tag!==0&&S===2){var T=SE(f);T!==0&&(p=T,S=yT(f,T))}if(S===1)throw S=hm,wu(f,0),Jl(f,p),$r(f,Pi()),S;if(S===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Eu(f,Gr),$r(f,Pi()),null}function h3(f){Yl!==null&&Yl.tag===0&&!(kt&6)&&Tu();var p=kt;kt|=1;var S=Yn.transition,T=Xt;try{if(Yn.transition=null,Xt=1,f)return f()}finally{Xt=T,Yn.transition=S,kt=p,!(kt&6)&&Jo()}}function _T(){gs=bf.current,st(bf)}function wu(f,p){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==fe&&(f.timeoutHandle=fe,ue(S)),ri!==null)for(S=ri.return;S!==null;){var T=S;switch(FE(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&wn();break;case 3:xf(),st(gn),st(vt),WE();break;case 5:jE(T);break;case 4:xf();break;case 13:st(Nn);break;case 19:st(Nn);break;case 10:RE(T.type._context);break;case 22:case 23:_T()}S=S.return}if(ii=f,ri=f=Ql(f.current,null),Hi=gs=p,mi=0,hm=null,hT=Y0=Sf=0,Gr=pm=null,Qo!==null){for(p=0;p<Qo.length;p++)if(S=Qo[p],T=S.interleaved,T!==null){S.interleaved=null;var A=T.next,N=S.pending;if(N!==null){var q=N.next;N.next=A,T.next=q}S.pending=T}Qo=null}return f}function p3(f,p){do{var S=ri;try{if(IE(),P0.current=L0,A0){for(var T=jn.memoizedState;T!==null;){var A=T.queue;A!==null&&(A.pending=null),T=T.next}A0=!1}if(_f=0,Ai=ir=jn=null,rm=!1,sm=0,fT.current=null,S===null||S.return===null){mi=1,hm=p,ri=null;break}e:{var N=f,q=S.return,Q=S,he=p;if(p=Hi,Q.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Pe=he,Qe=Q,St=Qe.tag;if(!(Qe.mode&1)&&(St===0||St===11||St===15)){var ct=Qe.alternate;ct?(Qe.updateQueue=ct.updateQueue,Qe.memoizedState=ct.memoizedState,Qe.lanes=ct.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var cn=DL(q);if(cn!==null){cn.flags&=-257,OL(cn,q,Q,N,p),cn.mode&1&&LL(N,Pe,p),p=cn,he=Pe;var rt=p.updateQueue;if(rt===null){var or=new Set;or.add(he),p.updateQueue=or}else rt.add(he);break e}else{if(!(p&1)){LL(N,Pe,p),bT();break e}he=Error(o(426))}}else if(Mn&&Q.mode&1){var $s=DL(q);if($s!==null){!($s.flags&65536)&&($s.flags|=256),OL($s,q,Q,N,p),UE(he);break e}}N=he,mi!==4&&(mi=2),pm===null?pm=[N]:pm.push(N),he=JE(he,Q),Q=q;do{switch(Q.tag){case 3:Q.flags|=65536,p&=-p,Q.lanes|=p;var re=kL(Q,he,p);eL(Q,re);break e;case 1:N=he;var te=Q.type,le=Q.stateNode;if(!(Q.flags&128)&&(typeof te.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Xl===null||!Xl.has(le)))){Q.flags|=65536,p&=-p,Q.lanes|=p;var je=NL(Q,N,p);eL(Q,je);break e}}Q=Q.return}while(Q!==null)}v3(S)}catch(it){p=it,ri===S&&S!==null&&(ri=S=S.return);continue}break}while(!0)}function m3(){var f=X0.current;return X0.current=L0,f===null?L0:f}function bT(){(mi===0||mi===3||mi===2)&&(mi=4),ii===null||!(Sf&268435455)&&!(Y0&268435455)||Jl(ii,Hi)}function nx(f,p){var S=kt;kt|=2;var T=m3();ii===f&&Hi===p||wu(f,p);do try{wJ();break}catch(A){p3(f,A)}while(!0);if(IE(),kt=S,X0.current=T,ri!==null)throw Error(o(261));return ii=null,Hi=0,mi}function wJ(){for(;ri!==null;)g3(ri)}function EJ(){for(;ri!==null&&!KK();)g3(ri)}function g3(f){var p=_3(f.alternate,f,gs);f.memoizedProps=f.pendingProps,p===null?v3(f):ri=p,fT.current=null}function v3(f){var p=f;do{var S=p.alternate;if(f=p.return,p.flags&32768){if(S=gJ(S,p),S!==null){S.flags&=32767,ri=S;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{mi=6,ri=null;return}}else if(S=hJ(S,p,gs),S!==null){ri=S;return}if(p=p.sibling,p!==null){ri=p;return}ri=p=f}while(p!==null);mi===0&&(mi=5)}function Eu(f,p){var S=Xt,T=Yn.transition;try{Yn.transition=null,Xt=1,TJ(f,p,S)}finally{Yn.transition=T,Xt=S}return null}function TJ(f,p,S){do Tu();while(Yl!==null);if(kt&6)throw Error(o(327));var T=f.finishedWork,A=f.finishedLanes;if(T===null)return null;if(f.finishedWork=null,f.finishedLanes=0,T===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var N=T.lanes|T.childLanes;if(YK(f,N),f===ii&&(ri=ii=null,Hi=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||J0||(J0=!0,b3(ME,function(){return Tu(),null})),N=(T.flags&15990)!==0,T.subtreeFlags&15990||N){N=Yn.transition,Yn.transition=null;var q=Xt;Xt=1;var Q=kt;kt|=4,fT.current=null,yJ(f,T),xJ(f,T),$(f.containerInfo),f.current=T,_J(T),JK(),kt=Q,Xt=q,Yn.transition=N}else f.current=T;if(J0&&(J0=!1,Yl=f,Q0=A),N=f.pendingLanes,N===0&&(Xl=null),eJ(T.stateNode),$r(f,Pi()),p!==null)for(S=f.onRecoverableError,T=0;T<p.length;T++)S(p[T]);if(K0)throw K0=!1,f=gT,gT=null,f;return Q0&1&&f.tag!==0&&Tu(),N=f.pendingLanes,N&1?f===vT?mm++:(mm=0,vT=f):mm=0,Jo(),null}function Tu(){if(Yl!==null){var f=YN(Q0),p=Yn.transition,S=Xt;try{if(Yn.transition=null,Xt=16>f?16:f,Yl===null)var T=!1;else{if(f=Yl,Yl=null,Q0=0,kt&6)throw Error(o(331));var A=kt;for(kt|=4,Ve=f.current;Ve!==null;){var N=Ve,q=N.child;if(Ve.flags&16){var Q=N.deletions;if(Q!==null){for(var he=0;he<Q.length;he++){var Pe=Q[he];for(Ve=Pe;Ve!==null;){var Qe=Ve;switch(Qe.tag){case 0:case 11:case 15:Su(8,Qe,N)}var St=Qe.child;if(St!==null)St.return=Qe,Ve=St;else for(;Ve!==null;){Qe=Ve;var ct=Qe.sibling,cn=Qe.return;if(t3(Qe),Qe===Pe){Ve=null;break}if(ct!==null){ct.return=cn,Ve=ct;break}Ve=cn}}}var rt=N.alternate;if(rt!==null){var or=rt.child;if(or!==null){rt.child=null;do{var $s=or.sibling;or.sibling=null,or=$s}while(or!==null)}}Ve=N}}if(N.subtreeFlags&2064&&q!==null)q.return=N,Ve=q;else e:for(;Ve!==null;){if(N=Ve,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Su(9,N,N.return)}var re=N.sibling;if(re!==null){re.return=N.return,Ve=re;break e}Ve=N.return}}var te=f.current;for(Ve=te;Ve!==null;){q=Ve;var le=q.child;if(q.subtreeFlags&2064&&le!==null)le.return=q,Ve=le;else e:for(q=te;Ve!==null;){if(Q=Ve,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:dm(9,Q)}}catch(it){qr(Q,Q.return,it)}if(Q===q){Ve=null;break e}var je=Q.sibling;if(je!==null){je.return=Q.return,Ve=je;break e}Ve=Q.return}}if(kt=A,Jo(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(g0,f)}catch{}T=!0}return T}finally{Xt=S,Yn.transition=p}}return!1}function y3(f,p,S){p=JE(S,p),p=kL(f,p,1),ql(f,p),p=Mr(),f=tx(f,1),f!==null&&(Qp(f,1,p),$r(f,p))}function qr(f,p,S){if(f.tag===3)y3(f,f,S);else for(;p!==null;){if(p.tag===3){y3(p,f,S);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Xl===null||!Xl.has(T))){f=JE(S,f),f=NL(p,f,1),ql(p,f),f=Mr(),p=tx(p,1),p!==null&&(Qp(p,1,f),$r(p,f));break}}p=p.return}}function CJ(f,p,S){var T=f.pingCache;T!==null&&T.delete(p),p=Mr(),f.pingedLanes|=f.suspendedLanes&S,ii===f&&(Hi&S)===S&&(mi===4||mi===3&&(Hi&130023424)===Hi&&500>Pi()-pT?wu(f,0):hT|=S),$r(f,p)}function x3(f,p){p===0&&(f.mode&1?(p=p0,p0<<=1,!(p0&130023424)&&(p0=4194304)):p=1);var S=Mr();f=tx(f,p),f!==null&&(Qp(f,p,S),$r(f,S))}function MJ(f){var p=f.memoizedState,S=0;p!==null&&(S=p.retryLane),x3(f,S)}function PJ(f,p){var S=0;switch(f.tag){case 13:var T=f.stateNode,A=f.memoizedState;A!==null&&(S=A.retryLane);break;case 19:T=f.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(p),x3(f,S)}var _3;_3=function(f,p,S){if(f!==null)if(f.memoizedProps!==p.pendingProps||gn.current)ms=!0;else{if(!(f.lanes&S)&&!(p.flags&128))return ms=!1,mJ(f,p,S);ms=!!(f.flags&131072)}else ms=!1,Mn&&p.flags&1048576&&oL(p,T0,p.index);switch(p.lanes=0,p.tag){case 2:var T=p.type;f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps;var A=ni(p,vt.current);hf(p,S),A=$E(null,p,T,f,A,S);var N=qE();return p.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Mi(T)?(N=!0,ji(p)):N=!1,p.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,NE(p),A.updater=w0,p.stateNode=A,A._reactInternals=p,DE(p,T,f,S),p=eT(null,p,T,!0,N,S)):(p.tag=0,Mn&&N&&OE(p),Cr(null,p,A,S),p=p.child),p;case 16:T=p.elementType;e:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,A=T._init,T=A(T._payload),p.type=T,A=p.tag=IJ(T),f=mo(T,f),A){case 0:p=ZE(null,p,T,f,S);break e;case 1:p=WL(null,p,T,f,S);break e;case 11:p=BL(null,p,T,f,S);break e;case 14:p=UL(null,p,T,mo(T.type,f),S);break e}throw Error(o(306,T,""))}return p;case 0:return T=p.type,A=p.pendingProps,A=p.elementType===T?A:mo(T,A),ZE(f,p,T,A,S);case 1:return T=p.type,A=p.pendingProps,A=p.elementType===T?A:mo(T,A),WL(f,p,T,A,S);case 3:e:{if(GL(p),f===null)throw Error(o(387));T=p.pendingProps,N=p.memoizedState,A=N.element,ZN(f,p),S0(p,T,null,S);var q=p.memoizedState;if(T=q.element,ve&&N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:q.cache,transitions:q.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){A=Error(o(423)),p=$L(f,p,T,S,A);break e}else if(T!==A){A=Error(o(424)),p=$L(f,p,T,S,A);break e}else for(ve&&(ps=u0(p.stateNode.containerInfo),hs=p,Mn=!0,go=null,Zp=!1),S=fL(p,null,T,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(gf(),T===A){p=Wa(f,p,S);break e}Cr(f,p,T,S)}p=p.child}return p;case 5:return hL(p),f===null&&BE(p),T=p.type,A=p.pendingProps,N=f!==null?f.memoizedProps:null,q=A.children,pe(T,A)?q=null:N!==null&&pe(T,N)&&(p.flags|=32),HL(f,p),Cr(f,p,q,S),p.child;case 6:return f===null&&BE(p),null;case 13:return qL(f,p,S);case 4:return VE(p,p.stateNode.containerInfo),T=p.pendingProps,f===null?p.child=vf(p,null,T,S):Cr(f,p,T,S),p.child;case 11:return T=p.type,A=p.pendingProps,A=p.elementType===T?A:mo(T,A),BL(f,p,T,A,S);case 7:return Cr(f,p,p.pendingProps,S),p.child;case 8:return Cr(f,p,p.pendingProps.children,S),p.child;case 12:return Cr(f,p,p.pendingProps.children,S),p.child;case 10:e:{if(T=p.type._context,A=p.pendingProps,N=p.memoizedProps,q=A.value,QN(p,T,q),N!==null)if(Ko(N.value,q)){if(N.children===A.children&&!gn.current){p=Wa(f,p,S);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var Q=N.dependencies;if(Q!==null){q=N.child;for(var he=Q.firstContext;he!==null;){if(he.context===T){if(N.tag===1){he=Ua(-1,S&-S),he.tag=2;var Pe=N.updateQueue;if(Pe!==null){Pe=Pe.shared;var Qe=Pe.pending;Qe===null?he.next=he:(he.next=Qe.next,Qe.next=he),Pe.pending=he}}N.lanes|=S,he=N.alternate,he!==null&&(he.lanes|=S),kE(N.return,S,p),Q.lanes|=S;break}he=he.next}}else if(N.tag===10)q=N.type===p.type?null:N.child;else if(N.tag===18){if(q=N.return,q===null)throw Error(o(341));q.lanes|=S,Q=q.alternate,Q!==null&&(Q.lanes|=S),kE(q,S,p),q=N.sibling}else q=N.child;if(q!==null)q.return=N;else for(q=N;q!==null;){if(q===p){q=null;break}if(N=q.sibling,N!==null){N.return=q.return,q=N;break}q=q.return}N=q}Cr(f,p,A.children,S),p=p.child}return p;case 9:return A=p.type,T=p.pendingProps.children,hf(p,S),A=Bs(A),T=T(A),p.flags|=1,Cr(f,p,T,S),p.child;case 14:return T=p.type,A=mo(T,p.pendingProps),A=mo(T.type,A),UL(f,p,T,A,S);case 15:return VL(f,p,p.type,p.pendingProps,S);case 17:return T=p.type,A=p.pendingProps,A=p.elementType===T?A:mo(T,A),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Mi(T)?(f=!0,ji(p)):f=!1,hf(p,S),rL(p,T,A),DE(p,T,A,S),eT(null,p,T,!0,f,S);case 19:return JL(f,p,S);case 22:return jL(f,p,S)}throw Error(o(156,p.tag))};function b3(f,p){return TE(f,p)}function AJ(f,p,S,T){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(f,p,S,T){return new AJ(f,p,S,T)}function ST(f){return f=f.prototype,!(!f||!f.isReactComponent)}function IJ(f){if(typeof f=="function")return ST(f)?1:0;if(f!=null){if(f=f.$$typeof,f===y)return 11;if(f===x)return 14}return 2}function Ql(f,p){var S=f.alternate;return S===null?(S=Gs(f.tag,p,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=p,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&14680064,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,p=f.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function ix(f,p,S,T,A,N){var q=2;if(T=f,typeof f=="function")ST(f)&&(q=1);else if(typeof f=="string")q=5;else e:switch(f){case u:return Cu(S.children,A,N,p);case d:q=8,A|=8;break;case h:return f=Gs(12,S,p,A|2),f.elementType=h,f.lanes=N,f;case _:return f=Gs(13,S,p,A),f.elementType=_,f.lanes=N,f;case v:return f=Gs(19,S,p,A),f.elementType=v,f.lanes=N,f;case E:return rx(S,A,N,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:q=10;break e;case g:q=9;break e;case y:q=11;break e;case x:q=14;break e;case b:q=16,T=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return p=Gs(q,S,p,A),p.elementType=f,p.type=T,p.lanes=N,p}function Cu(f,p,S,T){return f=Gs(7,f,T,p),f.lanes=S,f}function rx(f,p,S,T){return f=Gs(22,f,T,p),f.elementType=E,f.lanes=S,f.stateNode={},f}function wT(f,p,S){return f=Gs(6,f,null,p),f.lanes=S,f}function ET(f,p,S){return p=Gs(4,f.children!==null?f.children:[],f.key,p),p.lanes=S,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function RJ(f,p,S,T,A){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wE(0),this.expirationTimes=wE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wE(0),this.identifierPrefix=T,this.onRecoverableError=A,ve&&(this.mutableSourceEagerHydrationData=null)}function S3(f,p,S,T,A,N,q,Q,he){return f=new RJ(f,p,S,Q,he),p===1?(p=1,N===!0&&(p|=8)):p=0,N=Gs(3,null,null,p),f.current=N,N.stateNode=f,N.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},NE(N),f}function w3(f){if(!f)return mn;f=f._reactInternals;e:{if(I(f)!==f||f.tag!==1)throw Error(o(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Mi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(f.tag===1){var S=f.type;if(Mi(S))return uf(f,S,p)}return p}function E3(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=z(p),f===null?null:f.stateNode}function T3(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<p?S:p}}function TT(f,p){T3(f,p),(f=f.alternate)&&T3(f,p)}function kJ(f){return f=z(f),f===null?null:f.stateNode}function NJ(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var p=Mr();Ws(f,134217728,p),TT(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=Mr(),S=Kl(f);Ws(f,S,p),TT(f,S)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var S=Jp(p.pendingLanes);S!==0&&(EE(p,S|1),$r(p,Pi()),!(kt&6)&&(wf(),Jo()))}break;case 13:var T=Mr();h3(function(){return Ws(f,1,T)}),TT(f,1)}},n.batchedUpdates=function(f,p){var S=kt;kt|=1;try{return f(p)}finally{kt=S,kt===0&&(wf(),v0&&Jo())}},n.createComponentSelector=function(f){return{$$typeof:H0,value:f}},n.createContainer=function(f,p,S,T,A,N,q){return S3(f,p,!1,null,S,T,A,N,q)},n.createHasPseudoClassSelector=function(f){return{$$typeof:W0,value:f}},n.createHydrationContainer=function(f,p,S,T,A,N,q,Q,he){return f=S3(S,T,!0,f,A,N,q,Q,he),f.context=w3(null),S=f.current,T=Mr(),A=Kl(S),N=Ua(T,A),N.callback=p??null,ql(S,N),f.current.lanes=A,Qp(f,A,T),$r(f,T),f},n.createPortal=function(f,p,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:f,containerInfo:p,implementation:S}},n.createRoleSelector=function(f){return{$$typeof:G0,value:f}},n.createTestNameSelector=function(f){return{$$typeof:$0,value:f}},n.createTextSelector=function(f){return{$$typeof:q0,value:f}},n.deferredUpdates=function(f){var p=Xt,S=Yn.transition;try{return Yn.transition=null,Xt=16,f()}finally{Xt=p,Yn.transition=S}},n.discreteUpdates=function(f,p,S,T,A){var N=Xt,q=Yn.transition;try{return Yn.transition=null,Xt=1,f(p,S,T,A)}finally{Xt=N,Yn.transition=q,kt===0&&wf()}},n.findAllNodes=dT,n.findBoundingRects=function(f,p){if(!Y)throw Error(o(363));p=dT(f,p),f=[];for(var S=0;S<p.length;S++)f.push(se(p[S]));for(p=f.length-1;0<p;p--){S=f[p];for(var T=S.x,A=T+S.width,N=S.y,q=N+S.height,Q=p-1;0<=Q;Q--)if(p!==Q){var he=f[Q],Pe=he.x,Qe=Pe+he.width,St=he.y,ct=St+he.height;if(T>=Pe&&N>=St&&A<=Qe&&q<=ct){f.splice(p,1);break}else if(T!==Pe||S.width!==he.width||ct<N||St>q){if(!(N!==St||S.height!==he.height||Qe<T||Pe>A)){Pe>T&&(he.width+=Pe-T,he.x=T),Qe<A&&(he.width=A-Pe),f.splice(p,1);break}}else{St>N&&(he.height+=St-N,he.y=N),ct<q&&(he.height=q-St),f.splice(p,1);break}}}return f},n.findHostInstance=E3,n.findHostInstanceWithNoPortals=function(f){return f=O(f),f=f!==null?X(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return E3(f)},n.flushControlled=function(f){var p=kt;kt|=1;var S=Yn.transition,T=Xt;try{Yn.transition=null,Xt=1,f()}finally{Xt=T,Yn.transition=S,kt=p,kt===0&&(wf(),Jo())}},n.flushPassiveEffects=Tu,n.flushSync=h3,n.focusWithin=function(f,p){if(!Y)throw Error(o(363));for(f=lT(f),p=u3(f,p),p=Array.from(p),f=0;f<p.length;){var S=p[f++];if(!ge(S)){if(S.tag===5&&at(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Xt},n.getFindAllNodesFailureDescription=function(f,p){if(!Y)throw Error(o(363));var S=0,T=[];f=[lT(f),0];for(var A=0;A<f.length;){var N=f[A++],q=f[A++],Q=p[q];if((N.tag!==5||!ge(N))&&(cT(N,Q)&&(T.push(uT(Q)),q++,q>S&&(S=q)),q<p.length))for(N=N.child;N!==null;)f.push(N,q),N=N.sibling}if(S<p.length){for(f=[];S<p.length;S++)f.push(uT(p[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return K(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:kJ,findFiberByHostInstance:f.findFiberByHostInstance||NJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{g0=p.inject(f),Yo=p}catch{}f=!!p.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,p,S,T){if(!Y)throw Error(o(363));f=dT(f,p);var A=Be(f,S,T).disconnect;return{disconnect:function(){A()}}},n.registerMutableSourceForHydration=function(f,p){var S=p._getVersion;S=S(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,S]:f.mutableSourceEagerHydrationData.push(p,S)},n.runWithPriority=function(f,p){var S=Xt;try{return Xt=f,p()}finally{Xt=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,p,S,T){var A=p.current,N=Mr(),q=Kl(A);return S=w3(S),p.context===null?p.context=S:p.pendingContext=S,p=Ua(N,q),p.payload={element:f},T=T===void 0?null:T,T!==null&&(p.callback=T),ql(A,p),f=Ws(A,q,N),f!==null&&b0(f,A,q),q},n};QX.exports=XAe;var YAe=QX.exports;const KAe=TS(YAe);var ZX={exports:{}},eY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var $=D.length;D.push(B);e:for(;0<$;){var J=$-1>>>1,ce=D[J];if(0<r(ce,B))D[J]=B,D[$]=ce,$=J;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var B=D[0],$=D.pop();if($!==B){D[0]=$;e:for(var J=0,ce=D.length,Ne=ce>>>1;J<Ne;){var ie=2*(J+1)-1,pe=D[ie],Ee=ie+1,Te=D[Ee];if(0>r(pe,$))Ee<ce&&0>r(Te,pe)?(D[J]=Te,D[Ee]=$,J=Ee):(D[J]=pe,D[ie]=$,J=ie);else if(Ee<ce&&0>r(Te,$))D[J]=Te,D[Ee]=$,J=Ee;else break e}}return B}function r(D,B){var $=D.sortIndex-B.sortIndex;return $!==0?$:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=D)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function E(D){if(y=!1,b(D),!g)if(n(l)!==null)g=!0,K(M);else{var B=n(c);B!==null&&j(E,B.startTime-D)}}function M(D,B){g=!1,y&&(y=!1,v(k),k=-1),m=!0;var $=h;try{for(b(B),d=n(l);d!==null&&(!(d.expirationTime>B)||D&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var ce=J(d.expirationTime<=B);B=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&i(l),b(B)}else i(l);d=n(l)}if(d!==null)var Ne=!0;else{var ie=n(c);ie!==null&&j(E,ie.startTime-B),Ne=!1}return Ne}finally{d=null,h=$,m=!1}}var C=!1,R=null,k=-1,I=5,P=-1;function O(){return!(t.unstable_now()-P<I)}function z(){if(R!==null){var D=t.unstable_now();P=D;var B=!0;try{B=R(!0,D)}finally{B?U():(C=!1,R=null)}}else C=!1}var U;if(typeof x=="function")U=function(){x(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=z,U=function(){W.postMessage(null)}}else U=function(){_(z,0)};function K(D){R=D,C||(C=!0,U())}function j(D,B){k=_(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(M))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var $=h;h=B;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return B()}finally{h=$}},t.unstable_scheduleCallback=function(D,B,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=$+ce,D={id:u++,callback:B,priorityLevel:D,startTime:$,expirationTime:ce,sortIndex:-1},$>J?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(v(k),k=-1):y=!0,j(E,$-J))):(D.sortIndex=ce,e(l,D),g||m||(g=!0,K(M))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var B=h;return function(){var $=h;h=B;try{return D.apply(this,arguments)}finally{h=$}}}})(eY);ZX.exports=eY;var f5=ZX.exports;const DN={},tY=t=>void Object.assign(DN,t);function JAe(t,e){function n(u,{args:d=[],attach:h,...m},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;_=rh(v,{type:u,root:g,attach:h,primitive:!0})}else{const v=DN[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=rh(new v(...d),{type:u,root:g,attach:h,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_.isBufferGeometry?_.__r3f.attach="geometry":_.isMaterial&&(_.__r3f.attach="material")),y!=="inject"&&IM(_,m),_}function i(u,d){let h=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?AM(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),h=!0),h||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||rh(d,{}),d.__r3f.parent=u,fI(d),sh(d)}}function r(u,d,h){let m=!1;if(d){var g,y;if((g=d.__r3f)!=null&&g.attach)AM(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const _=u.children.filter(x=>x!==d),v=_.indexOf(h);u.children=[..._.slice(0,v),d,..._.slice(v)],m=!0}m||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||rh(d,{}),d.__r3f.parent=u,fI(d),sh(d)}}function s(u,d,h=!1){u&&[...u].forEach(m=>o(d,m,h))}function o(u,d,h){if(d){var m,g,y;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==d)),(g=d.__r3f)!=null&&g.attach)v5(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var _;u.remove(d),(_=d.__r3f)!=null&&_.root&&sIe(S1(d),d)}const x=(y=d.__r3f)==null?void 0:y.primitive,b=!x&&(h===void 0?d.dispose!==null:h);if(!x){var v;s((v=d.__r3f)==null?void 0:v.objects,d,b),s(d.children,d,b)}if(delete d.__r3f,b&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?f5.unstable_scheduleCallback(f5.unstable_IdlePriority,E):E()}sh(u)}}function a(u,d,h,m){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const _=n(d,h,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&i(_,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>i(_,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(y,_),_.raycast&&_.__r3f.eventCount&&S1(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=_,v.ref&&(typeof v.ref=="function"?v.ref(_):v.ref.current=_))})}const l=()=>{};return{reconciler:KAe({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,i(h,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,h)=>{if(!d||!h)return;const m=u.getState().scene;m.__r3f&&r(m,d,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,h,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:v,...x}=m,{args:b=[],children:E,...M}=h;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((R,k)=>R!==b[k]))return[!0];const C=lY(u,x,M,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[d,h],m,g,y,_){d?a(u,m,y,_):IM(u,h)},commitMount(u,d,h,m){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&S1(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>rh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:h,parent:m}=(d=u.__r3f)!=null?d:{};h&&m&&v5(m,u,h),u.isObject3D&&(u.visible=!1),sh(u)},unhideInstance(u,d){var h;const{attach:m,parent:g}=(h=u.__r3f)!=null?h:{};m&&g&&AM(g,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),sh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&_n.fun(performance.now)?performance.now:_n.fun(Date.now)?Date.now:()=>0,scheduleTimeout:_n.fun(setTimeout)?setTimeout:void 0,cancelTimeout:_n.fun(clearTimeout)?clearTimeout:void 0}),applyProps:IM}}var h5,p5;const PM=t=>"colorSpace"in t||"outputColorSpace"in t,nY=()=>{var t;return(t=DN.ColorManagement)!=null?t:null},iY=t=>t&&t.isOrthographicCamera,QAe=t=>t&&t.hasOwnProperty("current"),t0=typeof window<"u"&&((h5=window.document)!=null&&h5.createElement||((p5=window.navigator)==null?void 0:p5.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function rY(t){const e=L.useRef(t);return t0(()=>void(e.current=t),[t]),e}function ZAe({set:t}){return t0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class sY extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}sY.getDerivedStateFromError=()=>({error:!0});const oY="__default",m5=new Map,eIe=t=>t&&!!t.memoized&&!!t.changes;function aY(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Ym=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function S1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const _n={obj:t=>t===Object(t)&&!_n.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(_n.str(t)||_n.num(t)||_n.boo(t))return t===e;const s=_n.obj(t);if(s&&i==="reference")return t===e;const o=_n.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!_n.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(_n.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function tIe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function nIe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function rh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function dI(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const g5=/-\d+$/;function AM(t,e,n){if(_n.str(n)){if(g5.test(n)){const s=n.replace(g5,""),{target:o,key:a}=dI(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=dI(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function v5(t,e,n){var i,r;if(_n.str(n)){const{target:s,key:o}=dI(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function lY(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,d=Object.entries(r),h=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)r.hasOwnProperty(g[y])||d.unshift([g[y],oY+"remove"])}d.forEach(([g,y])=>{var _;if((_=t.__r3f)!=null&&_.primitive&&g==="object"||_n.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,y,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),h.push([g,y,!1,v]);for(const x in r){const b=r[x];x.startsWith(`${g}-`)&&h.push([x,b,!1,x.split("-")])}});const m={...r};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:h}}function IM(t,e){var n;const i=t.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=eIe(e)?e:lY(t,e),l=i==null?void 0:i.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[m,g,y,_]=a[h];if(PM(t)){const E="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?E:M):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?E:M)}let v=t,x=v[m];if(_.length&&(x=_.reduce((b,E)=>b[E],t),!(x&&x.set))){const[b,...E]=_.reverse();v=E.reverse().reduce((M,C)=>M[C],t),m=b}if(g===oY+"remove")if(v.constructor){let b=m5.get(v.constructor);b||(b=new v.constructor,m5.set(v.constructor,b)),g=b[m]}else g=0;if(y&&i)g?i.handlers[m]=g:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Sd)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&x.constructor===g.constructor)x.copy(g);else if(g!==void 0){var c;const b=(c=x)==null?void 0:c.isColor;!b&&x.setScalar?x.setScalar(g):x instanceof Sd&&g instanceof Sd?x.mask=g.mask:x.set(g),!nY()&&s&&!s.linear&&b&&x.convertSRGBToLinear()}}else{var u;if(v[m]=g,(u=v[m])!=null&&u.isTexture&&v[m].format===xr&&v[m].type===jo&&s){const b=v[m];PM(b)&&PM(s.gl)?b.colorSpace=s.gl.outputColorSpace:b.encoding=s.gl.outputEncoding}}sh(t)}if(i&&i.parent&&t.raycast&&l!==i.eventCount){const h=S1(t).getState().internal,m=h.interaction.indexOf(t);m>-1&&h.interaction.splice(m,1),i.eventCount&&h.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&fI(t),t}function sh(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function fI(t){t.onUpdate==null||t.onUpdate(t)}function iIe(t,e){t.manual||(iY(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function I_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function rIe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return wg.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wg.ContinuousEventPriority;default:return wg.DefaultEventPriority}}function cY(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function sIe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{cY(n.capturedMap,e,i,r)})}function oIe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=t.getState(),d=new Set,h=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const x=Ym(m[v]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const x=Ym(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var b;x.events.compute==null||x.events.compute(l,x,(b=x.previousRoot)==null?void 0:b.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,x)=>{const b=Ym(v.object),E=Ym(x.object);return!b||!E?v.distance-x.distance:E.events.priority-b.events.priority||v.distance-x.distance}).filter(v=>{const x=I_(v);return d.has(x)?!1:(d.add(x),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let x=v.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&h.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())d.has(I_(v.intersection))||h.push(v.intersection);return h}function r(l,c,u,d){const h=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=Ym(g.object)||h,{raycaster:_,pointer:v,camera:x,internal:b}=y,E=new G(v.x,v.y,0).unproject(x),M=P=>{var O,z;return(O=(z=b.capturedMap.get(P))==null?void 0:z.has(g.eventObject))!=null?O:!1},C=P=>{const O={intersection:g,target:c.target};b.capturedMap.has(P)?b.capturedMap.get(P).set(g.eventObject,O):b.capturedMap.set(P,new Map([[g.eventObject,O]])),c.target.setPointerCapture(P)},R=P=>{const O=b.capturedMap.get(P);O&&cY(b.capturedMap,g.eventObject,O,P)};let k={};for(let P in c){let O=c[P];typeof O!="function"&&(k[P]=O)}let I={...g,...k,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:E,ray:_.ray,camera:x,stopPropagation(){const P="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!P||P.has(g.eventObject))&&(I.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===g.eventObject))){const O=l.slice(0,l.indexOf(g));s([...O,g])}},target:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:R},nativeEvent:c};if(d(I),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const h=u.eventObject.__r3f,m=h==null?void 0:h.handlers;if(c.hovered.delete(I_(u)),h!=null&&h.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:h}=t.getState();h.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(u,m?n:void 0),v=g?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=_.map(b=>b.eventObject)),g&&!_.length&&v<=2&&(o(u,h.interaction),d&&d(u)),m&&s(_);function x(b){const E=b.eventObject,M=E.__r3f,C=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const R=I_(b),k=h.hovered.get(R);k?k.stopped&&b.stopPropagation():(h.hovered.set(R,b),C.onPointerOver==null||C.onPointerOver(b),C.onPointerEnter==null||C.onPointerEnter(b))}C.onPointerMove==null||C.onPointerMove(b)}else{const R=C[l];R?(!g||h.initialHits.includes(E))&&(o(u,h.interaction.filter(k=>!h.initialHits.includes(k))),R(b)):g&&h.initialHits.includes(E)&&o(u,h.interaction.filter(k=>!h.initialHits.includes(k)))}}r(_,u,v,x)}}return{handlePointer:a}}const uY=t=>!!(t!=null&&t.render),dY=L.createContext(null),aIe=(t,e)=>{const n=VAe((a,l)=>{const c=new G,u=new G,d=new G;function h(v=l().camera,x=u,b=l().size){const{width:E,height:M,top:C,left:R}=b,k=E/M;x.isVector3?d.copy(x):d.set(...x);const I=v.getWorldPosition(c).distanceTo(d);if(iY(v))return{width:E/v.zoom,height:M/v.zoom,top:C,left:R,factor:1,distance:I,aspect:k};{const P=v.fov*Math.PI/180,O=2*Math.tan(P/2)*I,z=O*(E/M);return{width:z,height:O,top:C,left:R,factor:E/z,distance:I,aspect:k}}}let m;const g=v=>a(x=>({performance:{...x.performance,current:v}})),y=new ye;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new IN,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>a(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,b,E,M)=>{const C=l().camera,R={width:v,height:x,top:E||0,left:M||0,updateStyle:b};a(k=>({size:R,viewport:{...k.viewport,...h(C,u,R)}}))},setDpr:v=>a(x=>{const b=aY(v);return{viewport:{...x.viewport,dpr:b,initialDpr:x.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,b)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:v,priority:x,store:b}),E.subscribers=E.subscribers.sort((M,C)=>M.priority-C.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(x>0?1:0),M.subscribers=M.subscribers.filter(C=>C.ref!==v))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var h;r=l,s=c.dpr,iIe(a,l),u.setPixelRatio(c.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let R_,lIe=new Set,cIe=new Set,uIe=new Set;function RM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Km(t,e){switch(t){case"before":return RM(lIe,e);case"after":return RM(cIe,e);case"tail":return RM(uIe,e)}}let kM,NM;function LM(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),kM=e.internal.subscribers,R_=0;R_<kM.length;R_++)NM=kM[R_],NM.ref.current(NM.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dIe(t){let e=!1,n=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Km("before",c),n=!0;for(const d of t.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(i+=LM(c,s))}if(n=!1,Km("after",c),i===0)return Km("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,u=1){var d;if(!c)return t.forEach(h=>a(h.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,h){if(u&&Km("before",c),d)LM(c,d,h);else for(const m of t.values())LM(c,m.store.getState());u&&Km("after",c)}return{loop:o,invalidate:a,advance:l}}function fY(){const t=L.useContext(dY);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function hY(t=n=>n,e){return fY()(t,e)}function pY(t,e=0){const n=fY(),i=n.getState().internal.subscribe,r=rY(t);return t0(()=>i(r,e,n),[e,i,n]),null}const y5=new WeakMap;function mY(t,e){return function(n,...i){let r=y5.get(n);return r||(r=new n,y5.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,tIe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function n0(t,e,n,i){const r=Array.isArray(e)?e:[e],s=HAe(mY(n,i),[t,...r],{equal:_n.equ});return Array.isArray(e)?s:s[0]}n0.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return WAe(mY(n),[t,...i])};n0.clear=function(t,e){const n=Array.isArray(e)?e:[e];return GAe([t,...n])};const bp=new Map,{invalidate:x5,advance:_5}=dIe(bp),{reconciler:vS,applyProps:Zf}=JAe(bp,rIe),eh={objects:"shallow",strict:!1},fIe=(t,e)=>{const n=typeof t=="function"?t(e):t;return uY(n)?n:new Zq({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function hIe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function pIe(t){const e=bp.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||aIe(x5,_5),o=n||vS.createContainer(s,wg.ConcurrentRoot,null,!1,null,"",r,null);e||bp.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:h,scene:m,events:g,onCreated:y,shadows:_=!1,linear:v=!1,flat:x=!1,legacy:b=!1,orthographic:E=!1,frameloop:M="always",dpr:C=[1,2],performance:R,raycaster:k,camera:I,onPointerMissed:P}=u,O=s.getState(),z=O.gl;O.gl||O.set({gl:z=fIe(d,t)});let U=O.raycaster;U||O.set({raycaster:U=new $X});const{params:X,...W}=k||{};if(_n.equ(W,U,eh)||Zf(U,{...W}),_n.equ(X,U.params,eh)||Zf(U,{params:{...U.params,...X}}),!O.camera||O.camera===c&&!_n.equ(c,I,eh)){c=I;const $=I instanceof $y,J=$?I:E?new Yy(0,0,0,0,.1,1e3):new zi(75,0,.1,1e3);$||(J.position.z=5,I&&(Zf(J,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(J.manual=!0,J.updateProjectionMatrix())),!O.camera&&!(I!=null&&I.rotation)&&J.lookAt(0,0,0)),O.set({camera:J}),U.camera=J}if(!O.scene){let $;m!=null&&m.isScene?$=m:($=new hN,m&&Zf($,m)),O.set({scene:rh($)})}if(!O.xr){var K;const $=(Ne,ie)=>{const pe=s.getState();pe.frameloop!=="never"&&_5(Ne,!0,pe,ie)},J=()=>{const Ne=s.getState();Ne.gl.xr.enabled=Ne.gl.xr.isPresenting,Ne.gl.xr.setAnimationLoop(Ne.gl.xr.isPresenting?$:null),Ne.gl.xr.isPresenting||x5(Ne)},ce={connect(){const Ne=s.getState().gl;Ne.xr.addEventListener("sessionstart",J),Ne.xr.addEventListener("sessionend",J)},disconnect(){const Ne=s.getState().gl;Ne.xr.removeEventListener("sessionstart",J),Ne.xr.removeEventListener("sessionend",J)}};typeof((K=z.xr)==null?void 0:K.addEventListener)=="function"&&ce.connect(),O.set({xr:ce})}if(z.shadowMap){const $=z.shadowMap.enabled,J=z.shadowMap.type;if(z.shadowMap.enabled=!!_,_n.boo(_))z.shadowMap.type=qg;else if(_n.str(_)){var j;const ce={basic:H9,percentage:Pw,soft:qg,variance:Co};z.shadowMap.type=(j=ce[_])!=null?j:qg}else _n.obj(_)&&Object.assign(z.shadowMap,_);($!==z.shadowMap.enabled||J!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const D=nY();D&&("enabled"in D?D.enabled=!b:"legacyMode"in D&&(D.legacyMode=b)),l||Zf(z,{outputEncoding:v?3e3:3001,toneMapping:x?Ma:Gk}),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==v&&O.set(()=>({linear:v})),O.flat!==x&&O.set(()=>({flat:x})),d&&!_n.fun(d)&&!uY(d)&&!_n.equ(d,z,eh)&&Zf(z,d),g&&!O.events.handlers&&O.set({events:g(s)});const B=hIe(t,h);return _n.equ(B,O.size,eh)||O.setSize(B.width,B.height,B.updateStyle,B.top,B.left),C&&O.viewport.dpr!==aY(C)&&O.setDpr(C),O.frameloop!==M&&O.setFrameloop(M),O.onPointerMissed||O.set({onPointerMissed:P}),R&&!_n.equ(R,O.performance,eh)&&O.set($=>({performance:{...$.performance,...R}})),a=y,l=!0,this},render(u){return l||this.configure(),vS.updateContainer(w.jsx(mIe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){gY(t)}}}function mIe({store:t,children:e,onCreated:n,rootElement:i}){return t0(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),w.jsx(dY.Provider,{value:t,children:e})}function gY(t,e){const n=bp.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),vS.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),nIe(r),bp.delete(t)}catch{}},500)})}}vS.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});const DM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function gIe(t){const{handlePointer:e}=oIe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(DM).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=DM[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=DM[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function hI(t,e,n){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}hI.debounce=hI;var vIe=hI;const b5=TS(vIe);var yIe=Object.defineProperty,xIe=Object.defineProperties,_Ie=Object.getOwnPropertyDescriptors,S5=Object.getOwnPropertySymbols,bIe=Object.prototype.hasOwnProperty,SIe=Object.prototype.propertyIsEnumerable,w5=(t,e,n)=>e in t?yIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E5=(t,e)=>{for(var n in e||(e={}))bIe.call(e,n)&&w5(t,n,e[n]);if(S5)for(var n of S5(e))SIe.call(e,n)&&w5(t,n,e[n]);return t},wIe=(t,e)=>xIe(t,_Ie(e)),T5,C5;typeof window<"u"&&((T5=window.document)!=null&&T5.createElement||((C5=window.navigator)==null?void 0:C5.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function vY(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=vY(i,e,n);if(r)return r;i=i.sibling}}function yY(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const M5=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=M5;return}return M5.apply(this,arguments)};const ON=yY(L.createContext(null));class xY extends L.Component{render(){return L.createElement(ON.Provider,{value:this._reactInternals},this.props.children)}}function EIe(){const t=L.useContext(ON);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=vY(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function TIe(){const t=EIe(),[e]=L.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==ON&&!e.has(r)&&e.set(r,L.useContext(yY(r)))}n=n.return}return e}function CIe(){const t=TIe();return L.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>L.createElement(e,null,L.createElement(n.Provider,wIe(E5({},i),{value:t.get(n)}))),e=>L.createElement(xY,E5({},e))),[t])}function MIe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||typeof window<"u"&&window.ResizeObserver,[s,o]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=L.useRef(!1);L.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,h,m]=L.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:x,top:b,width:E,height:M,bottom:C,right:R,x:k,y:I}=a.current.element.getBoundingClientRect(),P={left:x,top:b,width:E,height:M,bottom:C,right:R,x:k,y:I};a.current.element instanceof HTMLElement&&i&&(P.height=a.current.element.offsetHeight,P.width=a.current.element.offsetWidth),Object.freeze(P),u.current&&!RIe(a.current.lastBounds,P)&&o(a.current.lastBounds=P)};return[v,c?b5(v,c):v,l?b5(v,l):v]},[o,i,l,c]);function g(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){var v;a.current.element&&(a.current.resizeObserver=new r(h),(v=a.current.resizeObserver)==null||v.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const _=v=>{!v||v===a.current.element||(g(),a.current.element=v,a.current.scrollContainers=_Y(v),y())};return AIe(m,!!e),PIe(h),L.useEffect(()=>{g(),y()},[e,m,h]),L.useEffect(()=>g,[]),[_,s,d]}function PIe(t){L.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function AIe(t,e){L.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function _Y(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,..._Y(t.parentElement)]}const IIe=["x","y","top","bottom","left","right","width","height"],RIe=(t,e)=>IIe.every(n=>t[n]===e[n]),kIe=L.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=gIe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:h,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,scene:b,onPointerMissed:E,onCreated:M,...C},R){L.useMemo(()=>tY(zAe),[]);const k=CIe(),[I,P]=MIe({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=L.useRef(null),z=L.useRef(null);L.useImperativeHandle(R,()=>O.current);const U=rY(E),[X,W]=L.useState(!1),[K,j]=L.useState(!1);if(X)throw X;if(K)throw K;const D=L.useRef(null);t0(()=>{const $=O.current;P.width>0&&P.height>0&&$&&(D.current||(D.current=pIe($)),D.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:h,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,scene:b,size:P,onPointerMissed:(...J)=>U.current==null?void 0:U.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(a?QAe(a)?a.current:a:z.current),l&&J.setEvents({compute:(ce,Ne)=>{const ie=ce[l+"X"],pe=ce[l+"Y"];Ne.pointer.set(ie/Ne.size.width*2-1,-(pe/Ne.size.height)*2+1),Ne.raycaster.setFromCamera(Ne.pointer,Ne.camera)}}),M==null||M(J)}}),D.current.render(w.jsx(k,{children:w.jsx(sY,{set:j,children:w.jsx(L.Suspense,{fallback:w.jsx(ZAe,{set:W}),children:e})})})))}),L.useEffect(()=>{const $=O.current;if($)return()=>gY($)},[]);const B=a?"none":"auto";return w.jsx("div",{ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...r},...C,children:w.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:w.jsx("canvas",{ref:O,style:{display:"block"},children:n})})})}),NIe=L.forwardRef(function(e,n){return w.jsx(xY,{children:w.jsx(kIe,{...e,ref:n})})});function iv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function LIe(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function DIe(t){if(Array.isArray(t))return pI(t)}function OIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zIe(t){return DIe(t)||OIe(t)||LIe(t)||FIe()}new ye;new ye;function BIe(t,e,n){return Math.max(e,Math.min(n,t))}function UIe(t,e){return BIe(t-Math.floor(t/e)*e,0,e)}function VIe(t,e){var n=UIe(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function bY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ks=function t(e,n,i){var r=this;bY(this,t),iv(this,"dot2",function(s,o){return r.x*s+r.y*o}),iv(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},jIe=[new Ks(1,1,0),new Ks(-1,1,0),new Ks(1,-1,0),new Ks(-1,-1,0),new Ks(1,0,1),new Ks(-1,0,1),new Ks(1,0,-1),new Ks(-1,0,-1),new Ks(0,1,1),new Ks(0,-1,1),new Ks(0,1,-1),new Ks(0,-1,-1)],P5=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],A5=new Array(512),I5=new Array(512),HIe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=P5[n]^e&255:i=P5[n]^e>>8&255,A5[n]=A5[n+256]=i,I5[n]=I5[n+256]=jIe[i%12]}};HIe(0);function WIe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function R5(t){var e=WIe(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var GIe=function t(e){var n=this;bY(this,t),iv(this,"seed",0),iv(this,"init",function(i){n.seed=i,n.value=R5(i)}),iv(this,"value",R5(this.seed)),this.init(e)};new GIe(Math.random());var $Ie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*r)/n)},SY=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},qIe=function(e){return e},XIe={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},YIe={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},KIe={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},JIe={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},QIe={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},ZIe={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function _i(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:SY,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;i=Math.max(1e-4,i);var c=2/i,u=o(c*r),d=t[e]-n,h=n,m=s*i;d=Math.min(Math.max(d,-m),m),n=t[e]-d;var g=(t.__damp[l]+c*d)*r;t.__damp[l]=(t.__damp[l]-c*g)*u;var y=n+(d+g)*u;return h-t[e]>0==y>h&&(y=h,t.__damp[l]=(y-h)/r),t[e]=y,!0}var eRe=function(e){return e&&e.isCamera},tRe=function(e){return e&&e.isLight},Jm=new G,k5=new bi,N5=new bi,Qm=new ut,OM=new G;function nRe(t,e,n,i,r,s,o){typeof e=="number"?Jm.setScalar(e):Array.isArray(e)?Jm.set(e[0],e[1],e[2]):Jm.copy(e);var a=t.parent;t.updateWorldMatrix(!0,!1),OM.setFromMatrixPosition(t.matrixWorld),eRe(t)||tRe(t)?Qm.lookAt(OM,Jm,t.up):Qm.lookAt(Jm,OM,t.up),yS(t.quaternion,N5.setFromRotationMatrix(Qm),n,i,r,s,o),a&&(Qm.extractRotation(a.matrixWorld),k5.setFromRotationMatrix(Qm),yS(t.quaternion,N5.copy(t.quaternion).premultiply(k5.invert()),n,i,r,s,o))}function qh(t,e,n,i,r,s,o,a){return _i(t,e,t[e]+VIe(t[e],n),i,r,s,o,a)}var Zm=new ye,L5,D5;function iRe(t,e,n,i,r,s,o){return typeof e=="number"?Zm.setScalar(e):Array.isArray(e)?Zm.set(e[0],e[1]):Zm.copy(e),L5=_i(t,"x",Zm.x,n,i,r,s,o),D5=_i(t,"y",Zm.y,n,i,r,s,o),L5||D5}var th=new G,O5,F5,z5;function mI(t,e,n,i,r,s,o){return typeof e=="number"?th.setScalar(e):Array.isArray(e)?th.set(e[0],e[1],e[2]):th.copy(e),O5=_i(t,"x",th.x,n,i,r,s,o),F5=_i(t,"y",th.y,n,i,r,s,o),z5=_i(t,"z",th.z,n,i,r,s,o),O5||F5||z5}var Hu=new jt,B5,U5,V5,j5;function rRe(t,e,n,i,r,s,o){return typeof e=="number"?Hu.setScalar(e):Array.isArray(e)?Hu.set(e[0],e[1],e[2],e[3]):Hu.copy(e),B5=_i(t,"x",Hu.x,n,i,r,s,o),U5=_i(t,"y",Hu.y,n,i,r,s,o),V5=_i(t,"z",Hu.z,n,i,r,s,o),j5=_i(t,"w",Hu.w,n,i,r,s,o),B5||U5||V5||j5}var eg=new cs,H5,W5,G5;function sRe(t,e,n,i,r,s,o){return Array.isArray(e)?eg.set(e[0],e[1],e[2],e[3]):eg.copy(e),H5=qh(t,"x",eg.x,n,i,r,s,o),W5=qh(t,"y",eg.y,n,i,r,s,o),G5=qh(t,"z",eg.z,n,i,r,s,o),H5||W5||G5}var nh=new He,$5,q5,X5;function oRe(t,e,n,i,r,s,o){return e instanceof He?nh.copy(e):Array.isArray(e)?nh.setRGB(e[0],e[1],e[2]):nh.set(e),$5=_i(t,"r",nh.r,n,i,r,s,o),q5=_i(t,"g",nh.g,n,i,r,s,o),X5=_i(t,"b",nh.b,n,i,r,s,o),$5||q5||X5}var So=new bi,Qa=new jt,Y5=new jt,tg=new jt,K5,J5,Q5,Z5;function yS(t,e,n,i,r,s,o){var a=t;Array.isArray(e)?So.set(e[0],e[1],e[2],e[3]):So.copy(e);var l=t.dot(So)>0?1:-1;return So.x*=l,So.y*=l,So.z*=l,So.w*=l,K5=_i(t,"x",So.x,n,i,r,s,o),J5=_i(t,"y",So.y,n,i,r,s,o),Q5=_i(t,"z",So.z,n,i,r,s,o),Z5=_i(t,"w",So.w,n,i,r,s,o),Qa.set(t.x,t.y,t.z,t.w).normalize(),Y5.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),tg.copy(Qa).multiplyScalar(Y5.dot(Qa)/Qa.dot(Qa)),a.__damp.velocity_x-=tg.x,a.__damp.velocity_y-=tg.y,a.__damp.velocity_z-=tg.z,a.__damp.velocity_w-=tg.w,t.set(Qa.x,Qa.y,Qa.z,Qa.w),K5||J5||Q5||Z5}var ng=new qX,eU,tU,nU;function aRe(t,e,n,i,r,s,o){return Array.isArray(e)?ng.set(e[0],e[1],e[2]):ng.copy(e),eU=_i(t,"radius",ng.radius,n,i,r,s,o),tU=qh(t,"phi",ng.phi,n,i,r,s,o),nU=qh(t,"theta",ng.theta,n,i,r,s,o),eU||tU||nU}var k_=new ut,iU=new G,rU=new bi,sU=new G,oU,aU,lU;function lRe(t,e,n,i,r,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new G,rotation:new bi,scale:new G},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?k_.set.apply(k_,zIe(e)):k_.copy(e),k_.decompose(iU,rU,sU),oU=mI(a.__damp.position,iU,n,i,r,s,o),aU=yS(a.__damp.rotation,rU,n,i,r,s,o),lU=mI(a.__damp.scale,sU,n,i,r,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),oU||aU||lU}var w1=Object.freeze({__proto__:null,rsqw:$Ie,exp:SY,linear:qIe,sine:XIe,cubic:YIe,quint:KIe,circ:JIe,quart:QIe,expo:ZIe,damp:_i,dampLookAt:nRe,dampAngle:qh,damp2:iRe,damp3:mI,damp4:rRe,dampE:sRe,dampC:oRe,dampQ:yS,dampS:aRe,dampM:lRe});function cRe(t,e,n,i){const r=class extends fo{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,u])=>{const d=lN.clone({[c]:{value:u}});return{...l,...d}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return r.key=Fq.generateUUID(),r}const FM=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function FN(t,e){const n=hY(s=>s.gl),i=n0(sE,FM(t)?Object.values(t):t);return L.useLayoutEffect(()=>{e==null||e(i)},[e]),L.useEffect(()=>{if("initTexture"in n){let s=[];Array.isArray(i)?s=i:i instanceof Rn?s=[i]:FM(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof Rn&&n.initTexture(o)})}},[n,i]),L.useMemo(()=>{if(FM(t)){const s={};let o=0;for(const a in t)s[a]=i[o++];return s}else return i},[t,i])}FN.preload=t=>n0.preload(sE,t);FN.clear=t=>n0.clear(sE,t);const uRe=()=>parseInt(jy.replace(/\D+/g,"")),dRe=uRe(),cU=cRe({color:new He("white"),scale:new ye(1,1),imageBounds:new ye(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${dRe>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),wY=L.forwardRef(({children:t,color:e,segments:n=1,scale:i=1,zoom:r=1,grayscale:s=0,opacity:o=1,radius:a=0,texture:l,toneMapped:c,transparent:u,side:d,...h},m)=>{tY({ImageMaterial:cU});const g=L.useRef(null),y=hY(b=>b.size),_=Array.isArray(i)?[i[0],i[1]]:[i,i],v=[l.image.width,l.image.height],x=Math.max(y.width,y.height);return L.useImperativeHandle(m,()=>g.current,[]),L.useLayoutEffect(()=>{g.current.geometry.parameters&&g.current.material.scale.set(_[0]*g.current.geometry.parameters.width,_[1]*g.current.geometry.parameters.height)},[_[0],_[1]]),L.createElement("mesh",Rd({ref:g,scale:Array.isArray(i)?[...i,1]:i},h),L.createElement("planeGeometry",{args:[1,1,n,n]}),L.createElement("imageMaterial",{color:e,map:l,zoom:r,grayscale:s,opacity:o,scale:_,imageBounds:v,resolution:x,radius:a,toneMapped:c,transparent:u,side:d,key:cU.key}),t)}),fRe=L.forwardRef(({url:t,...e},n)=>{const i=FN(t);return L.createElement(wY,Rd({},e,{texture:i,ref:n}))}),hRe=L.forwardRef(({url:t,...e},n)=>L.createElement(wY,Rd({},e,{ref:n}))),pRe=L.forwardRef((t,e)=>{if(t.url)return L.createElement(fRe,Rd({},t,{ref:e}));if(t.texture)return L.createElement(hRe,Rd({},t,{ref:e}));throw new Error("<Image /> requires a url or texture")});var EY={exports:{}},mRe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gRe=mRe,vRe=gRe;function TY(){}function CY(){}CY.resetWarningCache=TY;var yRe=function(){function t(i,r,s,o,a,l){if(l!==vRe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CY,resetWarningCache:TY};return n.PropTypes=n,n};EY.exports=yRe();var zN=EY.exports;const Dn=TS(zN);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xRe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MY=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _Re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bRe=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>L.createElement("svg",{ref:l,..._Re,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:MY("lucide",r),...a},[...o.map(([c,u])=>L.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=(t,e)=>{const n=L.forwardRef(({className:i,...r},s)=>L.createElement(bRe,{ref:s,iconNode:e,className:MY(`lucide-${xRe(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SRe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wRe=Wl("ChevronLeft",SRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ERe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TRe=Wl("ChevronRight",ERe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CRe=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z",key:"1u8q3z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}]],MRe=Wl("Guitar",CRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PRe=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ARe=Wl("LogOut",PRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IRe=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],uU=Wl("Mail",IRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RRe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kRe=Wl("Package",RRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NRe=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],dU=Wl("Phone",NRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LRe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],N_=Wl("Shield",LRe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DRe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zM=Wl("User",DRe),L_=[{id:1,title:"Kinematics",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1629276301820-0f3eedc29fd0?w=800&auto=format&fit=crop",songs:[{title:"Momentum",duration:"3:42"},{title:"Velocity",duration:"4:20"},{title:"Angular Shift",duration:"3:18"},{title:"Dynamic Motion",duration:"4:12"},{title:"Torque",duration:"3:45"},{title:"Centrifugal Dreams",duration:"4:30"},{title:"Gravity's Call",duration:"3:33"},{title:"Inertia",duration:"4:05"},{title:"Harmonic Swings",duration:"3:55"},{title:"Kinetic Bliss",duration:"3:28"}]},{id:2,title:"Soaring",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=800&auto=format&fit=crop",songs:[{title:"Lift Off",duration:"4:05"},{title:"Cloud Nine",duration:"3:47"},{title:"Skyward Dreams",duration:"4:10"},{title:"Aerial Horizon",duration:"3:57"},{title:"Thermal Currents",duration:"3:22"},{title:"High Altitude",duration:"4:15"},{title:"Featherlight",duration:"3:48"},{title:"Wings of Gold",duration:"4:02"},{title:"Ascending Thoughts",duration:"4:18"},{title:"Echoes Above",duration:"3:45"}]},{id:3,title:"Resounding",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613534852-13c6e6034e0c?w=800&auto=format&fit=crop",songs:[{title:"Echo Chamber",duration:"3:55"},{title:"Sonic Boom",duration:"4:25"},{title:"Harmonic Waves",duration:"3:41"},{title:"Rhythmic Pulse",duration:"3:37"},{title:"Resonant Chords",duration:"4:20"},{title:"Vibrations",duration:"3:50"},{title:"Frequency Shift",duration:"4:18"},{title:"Acoustic Reflections",duration:"4:10"},{title:"Timbre Trails",duration:"4:01"},{title:"Soundscape",duration:"3:59"}]},{id:4,title:"Equilibrium",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1557672172-298e090bd0f1?w=800&auto=format&fit=crop",songs:[{title:"Balanced Forces",duration:"3:50"},{title:"Duality",duration:"4:07"},{title:"The Tipping Point",duration:"4:15"},{title:"Stillness in Motion",duration:"3:40"},{title:"Counterbalance",duration:"4:03"},{title:"Static Bliss",duration:"3:58"},{title:"Steady Streams",duration:"4:08"},{title:"Equal Opposites",duration:"4:20"},{title:"Center of Mass",duration:"4:00"},{title:"Resting State",duration:"3:45"}]},{id:5,title:"Reverberation",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1629276301837-8840dc1c51ba?w=800&auto=format&fit=crop",songs:[{title:"Echoes of the Past",duration:"3:57"},{title:"Distant Calls",duration:"4:05"},{title:"Resonant Peaks",duration:"4:20"},{title:"Eternal Ripples",duration:"4:00"},{title:"Acoustic Dreams",duration:"3:48"},{title:"Fading Waves",duration:"4:15"},{title:"Sustained Note",duration:"4:03"},{title:"Deep Reverbs",duration:"4:10"},{title:"Echo Chamber Blues",duration:"3:55"},{title:"Whispered Tones",duration:"4:25"}]},{id:6,title:"Horizon",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613535697-e890fd7de12d?w=800&auto=format&fit=crop",songs:[{title:"Breaking Dawn",duration:"3:30"},{title:"Eternal Sunset",duration:"4:00"},{title:"Golden Glow",duration:"3:42"},{title:"Chasing Horizons",duration:"4:10"},{title:"Fleeting Light",duration:"3:58"},{title:"Skylines",duration:"3:50"},{title:"Endless Dusk",duration:"4:15"},{title:"Twilight Trails",duration:"4:20"},{title:"Shifting Views",duration:"4:00"},{title:"Onward",duration:"3:45"}]},{id:7,title:"Radiance",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=800&auto=format&fit=crop",songs:[{title:"Shimmering Lights",duration:"4:00"},{title:"Blinding Brilliance",duration:"3:57"},{title:"Sunlit Glow",duration:"3:48"},{title:"Ethereal Gleam",duration:"4:05"},{title:"Reflective Rays",duration:"4:15"},{title:"Bright Horizons",duration:"4:02"},{title:"Illuminated Paths",duration:"3:50"},{title:"Crystal Clear",duration:"3:58"},{title:"Aurora Dreams",duration:"4:25"},{title:"Celestial Shine",duration:"4:10"}]},{id:8,title:"Ascension",artist:"Stage Fright",coverUrl:"https://images.unsplash.com/photo-1629276301820-0f3eedc29fd0?w=800&auto=format&fit=crop",songs:[{title:"Rising Tide",duration:"4:18"},{title:"Reaching Peaks",duration:"4:02"},{title:"Climbing Heights",duration:"3:50"},{title:"Above the Clouds",duration:"3:45"},{title:"Summit Dreams",duration:"4:00"},{title:"Skyline Views",duration:"4:10"},{title:"Eternal Climb",duration:"3:55"},{title:"Lifting Spirits",duration:"4:20"},{title:"Ascending Grace",duration:"3:48"},{title:"On Top of the World",duration:"4:15"}]}];function ORe({rotationY:t,...e}){const n=L.useRef(null);return pY(()=>{n.current&&w1.damp(n.current.rotation,"y",t,.1,.005)}),w.jsx("group",{ref:n,...e})}function FRe({radius:t=1.4,count:e=8}){return Array.from({length:e},(n,i)=>w.jsx(zRe,{url:`/BPA-435-Project/img${Math.floor(i%10)+1}_.jpg`,position:[Math.sin(i/e*Math.PI*2)*t,0,Math.cos(i/e*Math.PI*2)*t],rotation:[0,Math.PI+i/e*Math.PI*2,0]},i))}function zRe({url:t,...e}){const n=L.useRef(null),[i,r]=L.useState(!1),s=a=>(a.stopPropagation(),r(!0)),o=()=>r(!1);return pY((a,l)=>{a.clock.getElapsedTime(),n.current&&(w1.damp3(n.current.scale,i?1.15:1,.1,l),w1.damp(n.current.material,"radius",i?.25:.1,.2,l),w1.damp(n.current.material,"zoom",i?1:1.5,.2,l))}),w.jsx(pRe,{ref:n,url:t,transparent:!0,side:No,onPointerOver:s,onPointerOut:o,...e,children:w.jsx("planeGeometry",{args:[1,1,1,20]})})}const BRe=()=>{const[t,e]=L.useState(0),[n,i]=L.useState(0),r=L_[t],s=()=>{e(c=>(c+1)%L_.length),i(c=>c-Math.PI/4)},o=()=>{e(c=>(c-1+L_.length)%L_.length),i(c=>c+Math.PI/4)},[a,l]=L.useState(0);return L.useEffect(()=>{const c=()=>{const u=window.scrollY,d=window.innerHeight,h=d*.5,m=d*.8;if(u>h&&u<m){const g=(u-h)/(m-h);l(g)}else u>=m?(l(1),window.removeEventListener("scroll",c)):l(0)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),w.jsxs("div",{style:{minHeight:"100vh",backgroundImage:"linear-gradient(to top, #000000, #330000, #000000)",color:"#ffffff",paddingTop:"100px",opacity:a,transition:"opacity 0.5s",width:"100%",padding:"10px"},children:[w.jsxs("div",{style:{maxWidth:"1600px",margin:"0 auto",display:"grid",gridTemplateColumns:window.innerWidth>=768?"1fr 1fr":"1fr",gap:"4rem"},children:[w.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[w.jsxs("div",{className:"album-info",children:[w.jsx("h1",{className:"album-title",children:r.title}),w.jsxs("div",{className:"album-artist-section",children:[w.jsx("h2",{className:"album-artist",children:r.artist}),w.jsxs("div",{className:"social-links",children:[w.jsx("a",{href:"https://spotify.com",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{src:"/BPA-435-Project/images/Spotify.png",alt:"Spotify",className:"social-icon"})}),w.jsx("a",{href:"https://music.apple.com",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{src:"/BPA-435-Project/images/Apple.png",alt:"Apple Music",className:"social-icon"})}),w.jsx("a",{href:"https://music.youtube.com",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{src:"/BPA-435-Project/images/Youtube.png",alt:"YouTube",className:"social-icon"})})]})]})]}),w.jsxs("div",{className:"tracklist-container",children:[w.jsx("h3",{className:"tracklist-title",children:"Tracklist"}),r.songs.map((c,u)=>w.jsxs("div",{className:"track-item",children:[w.jsxs("div",{className:"track-info",children:[w.jsx("span",{className:"track-number",children:(u+1).toString().padStart(2,"0")}),w.jsx("span",{className:"track-title",children:c.title})]}),w.jsxs("div",{className:"track-actions",children:[w.jsx("span",{className:"track-duration",children:c.duration}),w.jsx(Ps,{"aria-label":"Play",className:"play-button",children:w.jsx(s0e,{})})]})]},u))]})]}),w.jsx("div",{className:"canvas-container",children:w.jsxs(NIe,{className:"canvas",children:[w.jsx("ambientLight",{}),w.jsx(ORe,{scale:[2.04,2.04,2.04],rotationY:n,children:w.jsx(FRe,{})})]})})]}),w.jsxs("div",{className:"album-navigation",children:[w.jsxs("button",{onClick:o,className:"nav-button prev-button",children:[w.jsx(wRe,{size:20}),"Previous"]}),w.jsxs("button",{onClick:s,className:"nav-button next-button",children:["Next",w.jsx(TRe,{size:20})]})]})]})};function URe(){return w.jsxs("div",{children:[w.jsx("div",{style:{position:"relative",width:"100%",height:"100vh"},children:w.jsx("img",{src:"/BPA-435-Project/images/Stage_Fright_Main_Page_Image.png",alt:"Full Screen",style:{width:"100%",height:"100%",objectFit:"cover"}})}),w.jsx("div",{style:{height:"100vh",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:w.jsx(BRe,{})}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#09090b",paddingTop:"20px",paddingBottom:"20px"},children:[w.jsx("h1",{style:{fontFamily:"Sansation",color:"white",fontSize:"50px",fontWeight:"700",textAlign:"center"},children:"Upcoming Shows"}),w.jsx(Qn,{to:"/tour",onClick:()=>window.scrollTo(0,0),children:w.jsx(Io,{variant:"solid",p:2,fontFamily:"Sansation",fontWeight:"700",fontSize:15,children:"View All"})}),w.jsx("div",{style:{height:"50px"}}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",width:"100%",padding:"0 5%",justifyItems:"center",gap:"20px",marginBottom:"20px"},children:[w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/HuntingtonBankPav.png",place:"Huntington Bank Pavilion",address:"1300 S Linn White Dr, Chicago, IL 60605",price:500,startDate:new Date("2025-06-01"),endDate:new Date("2025-06-02"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7420.551380478309!2d-87.61154152339903!3d41.86455426626153!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2b7aa5e5a88b%3A0x2b1be8f520a766ba!2s1300%20S%20Linn%20White%20Dr%2C%20Chicago%2C%20IL%2060605!5e1!3m2!1sen!2sus!4v1735970585409!5m2!1sen!2sus"}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/Credit1Pav.png",place:"Credit Union 1 Arena",address:"525 S Racine Ave, Chicago, IL 60607",price:500,startDate:new Date("2025-06-01"),endDate:new Date("2025-06-02"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3477.591274925742!2d-87.65885062357913!3d41.87467056562848!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2ce067db1ecd%3A0x73faf6b37b26e279!2s525%20S%20Racine%20Ave%2C%20Chicago%2C%20IL%2060607!5e1!3m2!1sen!2sus!4v1736049280628!5m2!1sen!2sus"}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/Credit1Amp.png",place:"Credit Union 1 Amphitheater",address:"19100 Ridgeland Ave, Tinley Park, IL 60477",price:500,startDate:new Date("2025-06-01"),endDate:new Date("2025-06-02"),mapData:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3495.5194221513725!2d-87.77817272359236!3d41.544106886258966!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e167c293f99b1%3A0x49ae1068b1696c7e!2sCredit%20Union%201%20Amphitheatre!5e1!3m2!1sen!2sus!4v1736049372248!5m2!1sen!2sus"})]})]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#09090b",paddingTop:"40px",paddingBottom:"40px"},children:w.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[w.jsx("img",{src:"/BPA-435-Project/images/contact-home.jpg",alt:"Description",style:{width:"100%",height:"100%",objectFit:"cover"}}),w.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",textAlign:"center",padding:"20px"},children:[w.jsx("h1",{style:{fontFamily:"Sansation",fontSize:"40px",fontWeight:"700",color:"white",textShadow:"2px 2px 0 black, -2px -2px 0 black, -2px 2px 0 black, 2px -2px 0 black"},children:"Want your event to be loud? Have a crazy night with us"}),w.jsx(Qn,{to:"/contact-us",style:{textDecoration:"none"},children:w.jsx(Io,{variant:"solid",p:8,fontFamily:"Sansation",fontWeight:"700",fontSize:20,background:"#E9204F",color:"white",children:"Contact Us"})})]})]})}),w.jsx(jl,{})]})}const VRe="_canvas_u5uol_1",jRe={canvas:VRe},D_=({imageUrl:t,name:e,position:n,description:i})=>{const r=L.useRef(null);return L.useEffect(()=>{const s=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&a.target.classList.add("fade-in")})},{threshold:.2});return r.current&&s.observe(r.current),()=>{r.current&&s.unobserve(r.current)}},[]),w.jsxs("div",{ref:r,className:"member_container fade-section",children:[w.jsx("img",{src:t,alt:"item picture",className:"member_image"}),w.jsx("div",{className:"member_name",children:w.jsx("h2",{style:{fontWeight:"bold"},children:e})}),w.jsx("div",{className:"member_position",children:w.jsx("h2",{children:n})}),w.jsx("div",{className:"member_description",children:w.jsx("h5",{children:i})})]})};function HRe(){return w.jsxs("div",{className:`${jRe.canvas} responsive-container`,children:[w.jsx(Li.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1},style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"black",marginTop:"20px",position:"relative"},children:w.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[w.jsx("img",{src:"/BPA-435-Project/images/aboutus.jpg",alt:"Stage Fright Tour",style:{width:"100%",height:"100%",objectFit:"cover"}}),w.jsx("div",{className:"hero2-overlay",children:w.jsx("h1",{children:"About Us"})})]})}),w.jsxs("div",{className:"background_lore_background",children:[w.jsxs(Li.div,{className:"video_container",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:1},viewport:{once:!0},children:[w.jsx("video",{src:"/BPA-435-Project/images/OutofFocus.mp4",controls:!0,poster:"/BPA-435-Project/images/concertThumbnail.jpeg",className:"video",children:"Your browser does not support the video tag."}),w.jsx("h3",{className:"video_caption",children:"What it's like to Experience a Stage Fright Concert"})]}),w.jsxs("div",{className:"background_info",children:[w.jsx(Li.h2,{className:"background_title",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1},viewport:{once:!0},children:"How the Band got Started"}),w.jsx(Li.div,{className:"background_description1",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:"Stage Fright was born in 2010 when best friends Ryan Blake (guitarist) and Liam Carter (drummer) teamed up with vocalist Sophia Reed and bassist Emily Hayes after meeting at a local open mic night. Their shared love for classic rock and energetic performances brought them together, and they quickly began writing original songs."}),w.jsx(Li.div,{className:"background_description2",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.3},viewport:{once:!0},children:"The band’s name, Stage Fright, came from the nerves they all felt before their first show—a battle of the bands that they unexpectedly won. That moment cemented their bond and set them on a path to pursue music full-time."}),w.jsx(Li.div,{className:"background_description3",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:"Since then, Stage Fright has been lighting up stages across the country with their dynamic sound and electric chemistry. From garage sessions to packed venues, they’ve built a loyal fanbase while staying true to their roots and passion for making music."})]})]}),w.jsxs("div",{className:"members_page",children:[w.jsx("h2",{className:"member_title",children:"Meet the Band"}),w.jsxs("div",{className:"members_page_sub",children:[w.jsx(D_,{imageUrl:"/BPA-435-Project/images/People/VocalistImage.jpg",name:"Sophia Reed",position:"Vocalist",description:"Sophia Reed, a captivating vocalist, possesses a powerful and soulful voice that effortlessly blends raw emotion with technical precision."}),w.jsx(D_,{imageUrl:"/BPA-435-Project/images/People/GuitaristImage.jpg",name:"Ryan Blake",position:"Guitarist",description:"Ryan Blake, a gifted guitarist with a fiery stage presence, delivers electrifying solos and intricate riffs that ignite the energy of every performance."}),w.jsx(D_,{imageUrl:"/BPA-435-Project/images/People/BassistImage.jpg",name:"Emily Hayes",position:"Bassist",description:"Emily Hayes, a bassist renowned for her powerful and driving grooves, provides the solid foundation that anchors the band’s sound."}),w.jsx(D_,{imageUrl:"/BPA-435-Project/images/People/DrummerImage.jpg",name:"Liam Carter",position:"Drummer",description:"Liam Carter, a dynamic drummer with impeccable timing and explosive energy, provides the driving force behind the band’s powerful sound."})]}),w.jsx(jl,{})]})]})}const WRe=({imageUrl:t,price:e,title:n,description:i,orange:r,blue:s,black:o,grey:a})=>w.jsx(Qn,{to:"/checkout",className:"item-link",state:{imageUrl:t,price:e,title:n,description:i,orange:r,blue:s,black:o,grey:a},onClick:()=>window.scrollTo(0,0),children:w.jsxs(Li.div,{className:"item-container",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:.5},transition:{duration:.8},children:[w.jsx("div",{className:"image-container",children:w.jsx("img",{src:t,alt:"item picture",className:"item-image"})}),w.jsx("div",{className:"price-container",children:w.jsxs("h2",{className:"price",children:["$",e]})}),w.jsx("div",{className:"title-container",children:w.jsx("h3",{className:"title",children:n})}),w.jsx("div",{className:"description-container",children:w.jsx("p",{className:"description",children:i})})]})}),GRe=[{imageUrl:"/images/Merch/Vinyls/Soaring Vinyl.png",price:37.99,title:"Soaring Vinyl",description:"Physical Vinyl of the album Soaring crafted by the Stage Fright team",category:"Vinyl"},{imageUrl:"/images/Merch/Vinyls/Resounding Vinyl.png",price:40.99,title:"Resounding Vinyl",description:"Physical Vinyl of the album Resounding crafted by the Stage Fright team",category:"Vinyl"},{imageUrl:"/images/Merch/Vinyls/Kinematics Vinyl.png",price:35.99,title:"Kinematics Vinyl",description:"Physical Vinyl of the album Kinematics crafted by the Stage Fright team",category:"Vinyl"},{imageUrl:"/images/Merch/Hoodies/Black/Main.png",price:29.99,title:"Stage Fright Hoodie",description:"Every stitch in this garment tells the story of a master craftsperson’s dedication to perfection.",category:"Hoodies",orange:["/BPA-435-Project/images/Merch/Hoodies/Orange/Main.png","/BPA-435-Project/images/Merch/Hoodies/Orange/Back.png","/BPA-435-Project/images/Merch/Hoodies/Orange/Male.png","/BPA-435-Project/images/Merch/Hoodies/Orange/Female.png"],blue:["/BPA-435-Project/images/Merch/Hoodies/Blue/Main.png","/BPA-435-Project/images/Merch/Hoodies/Blue/Back.png","/BPA-435-Project/images/Merch/Hoodies/Blue/Male.png","/BPA-435-Project/images/Merch/Hoodies/Blue/Female.png"],black:["/BPA-435-Project/images/Merch/Hoodies/Black/Main.png","/BPA-435-Project/images/Merch/Hoodies/Black/Back.png","/BPA-435-Project/images/Merch/Hoodies/Black/Male.png","/BPA-435-Project/images/Merch/Hoodies/Black/Female.png"],grey:["/BPA-435-Project/images/Merch/Hoodies/Gray/Main.png","/BPA-435-Project/images/Merch/Hoodies/Gray/Back.png","/BPA-435-Project/images/Merch/Hoodies/Gray/Male.png","/BPA-435-Project/images/Merch/Hoodies/Gray/Female.png"]},{imageUrl:"/images/Merch/Shirts/Black/Main.png",price:19.99,title:"Stage Fright T-Shirt",description:"Every stitch in this garment tells the story of a master craftsperson’s dedication to perfection.",category:"T-Shirts",orange:["/BPA-435-Project/images/Merch/Shirts/Orange/Main.png","/BPA-435-Project/images/Merch/Shirts/Orange/Folded.png","/BPA-435-Project/images/Merch/Shirts/Orange/Male.png","/BPA-435-Project/images/Merch/Shirts/Orange/Female.png"],blue:["/BPA-435-Project/images/Merch/Shirts/Blue/Main.png","/BPA-435-Project/images/Merch/Shirts/Blue/Folded.png","/BPA-435-Project/images/Merch/Shirts/Blue/Male.png","/BPA-435-Project/images/Merch/Shirts/Blue/Female.png"],black:["/BPA-435-Project/images/Merch/Shirts/Black/Main.png","/BPA-435-Project/images/Merch/Shirts/Black/Folded.png","/BPA-435-Project/images/Merch/Shirts/Black/Male.png","/BPA-435-Project/images/Merch/Shirts/Black/Female.png"],grey:["/BPA-435-Project/images/Merch/Shirts/White/Main.png","/BPA-435-Project/images/Merch/Shirts/White/Folded.png","/BPA-435-Project/images/Merch/Shirts/White/Male.png","/BPA-435-Project/images/Merch/Shirts/White/Female.png"]},{imageUrl:"/images/Merch/TankTop/Black/Main.png",price:19.99,title:"Stage Fright Tank Top",description:"Every stitch in this garment tells the story of a master craftsperson’s dedication to perfection.",category:"Tank Top",orange:["/BPA-435-Project/images/Merch/TankTop/Orange/Main.png","/BPA-435-Project/images/Merch/TankTop/Orange/Female1.png","/BPA-435-Project/images/Merch/TankTop/Orange/Female2.png","/BPA-435-Project/images/Merch/TankTop/Orange/closeup.png"],blue:["/BPA-435-Project/images/Merch/TankTop/Blue/Main.png","/BPA-435-Project/images/Merch/TankTop/Blue/Female1.png","/BPA-435-Project/images/Merch/TankTop/Blue/Female2.png","/BPA-435-Project/images/Merch/TankTop/Blue/closeup.png"],black:["/BPA-435-Project/images/Merch/TankTop/Black/Main.png","/BPA-435-Project/images/Merch/TankTop/Black/Female1.png","/BPA-435-Project/images/Merch/TankTop/Black/Female2.png","/BPA-435-Project/images/Merch/TankTop/Black/closeup.png"],grey:["/BPA-435-Project/images/Merch/TankTop/Grey/Main.png","/BPA-435-Project/images/Merch/TankTop/Grey/Female1.png","/BPA-435-Project/images/Merch/TankTop/Grey/Female2.png","/BPA-435-Project/images/Merch/TankTop/Grey/closeup.png"]},{imageUrl:"/images/Merch/Stickers/sticker.png",price:35.99,title:"White Stage Fright Sticker",description:"Show off Your Stage Fright Pride with a sticker that can be placed on any surface",category:"Stickers"},{imageUrl:"/images/Merch/Candle/Candle.png",price:5.99,title:"Stage Fright Candle",description:"This hand-poured candle fills your space with a soothing, long-lasting fragrance, creating a warm and inviting atmosphere.",category:"Candle"},{imageUrl:"/images/Merch/PhoneCase/Black/Main.png",price:29.99,title:"iPhone 15 Phone Case",description:"Protect your phone in style with this durable, sleek case that offers a perfect fit and a modern design.",category:"Phone Case",orange:["/BPA-435-Project/images/Merch/PhoneCase/Orange/Main.png","/BPA-435-Project/images/Merch/PhoneCase/Orange/Dual.png","/BPA-435-Project/images/Merch/PhoneCase/Orange/Table.png","/BPA-435-Project/images/Merch/PhoneCase/Orange/Outline.png"],blue:["/BPA-435-Project/images/Merch/PhoneCase/Blue/Main.png","/BPA-435-Project/images/Merch/PhoneCase/Blue/Dual.png","/BPA-435-Project/images/Merch/PhoneCase/Blue/Table.png","/BPA-435-Project/images/Merch/PhoneCase/Blue/Outline.png"],black:["/BPA-435-Project/images/Merch/PhoneCase/Black/Main.png","/BPA-435-Project/images/Merch/PhoneCase/Black/Dual.png","/BPA-435-Project/images/Merch/PhoneCase/Black/Table.png","/BPA-435-Project/images/Merch/PhoneCase/Black/Outline.png"],grey:["/BPA-435-Project/images/Merch/PhoneCase/White/Main.png","/BPA-435-Project/images/Merch/PhoneCase/White/Dual.png","/BPA-435-Project/images/Merch/PhoneCase/White/Table.png","/BPA-435-Project/images/Merch/PhoneCase/White/Outline.png"]},{imageUrl:"/images/Merch/Hat/Black/Main.png",price:9.99,title:"Stage Fright Hat",description:"Elevate your look with this comfortable and stylish hat, designed to keep you cool and fashionable all day long.",category:"Hat",orange:["/BPA-435-Project/images/Merch/Hat/Orange/Main.png","/BPA-435-Project/images/Merch/Hat/Orange/Back.png","/BPA-435-Project/images/Merch/Hat/Orange/Male.png","/BPA-435-Project/images/Merch/Hat/Orange/Female.png"],blue:["/BPA-435-Project/images/Merch/Hat/Blue/Main.png","/BPA-435-Project/images/Merch/Hat/Blue/Back.png","/BPA-435-Project/images/Merch/Hat/Blue/Male.png","/BPA-435-Project/images/Merch/Hat/Blue/Female.png"],black:["/BPA-435-Project/images/Merch/Hat/Black/Main.png","/BPA-435-Project/images/Merch/Hat/Black/Back.png","/BPA-435-Project/images/Merch/Hat/Black/Male.png","/BPA-435-Project/images/Merch/Hat/Black/Female.png"],grey:["/BPA-435-Project/images/Merch/Hat/White/Main.png","/BPA-435-Project/images/Merch/Hat/White/Back.png","/BPA-435-Project/images/Merch/Hat/White/Male.png","/BPA-435-Project/images/Merch/Hat/White/Female.png"]},{imageUrl:"/images/Merch/Bag/Bag.png",price:24.99,title:"Stage Fright Tote Bag",description:"Carry your essentials in style with this durable and spacious tote bag, perfect for any occasion.",category:"Bag"},{imageUrl:"/images/Merch/Socks/Socks.png",price:8.99,title:"Stage Fright Socks",description:"Step into comfort with these soft, breathable socks that provide all-day support and warmth.",category:"Socks"}],$Re=()=>{const[t,e]=L.useState({category:"All",minPrice:4.99,maxPrice:100}),[n,i]=L.useState(!1),r=l=>{e(c=>({...c,category:l.target.value}))},s=l=>{const c=parseFloat(l.target.value);c<t.maxPrice&&e(u=>({...u,minPrice:c}))},o=l=>{const c=parseFloat(l.target.value);c>t.minPrice&&e(u=>({...u,maxPrice:c}))},a=GRe.filter(l=>(t.category==="All"||l.category===t.category)&&l.price>=t.minPrice&&l.price<=t.maxPrice);return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#000000",paddingTop:"100px",width:"100%",paddingBottom:"50px"},children:[w.jsx("div",{style:{marginTop:"7%"},className:"hero-store",children:w.jsx("div",{className:"hero-store-overlay",children:w.jsx("h1",{style:{fontFamily:"Sansation",color:"white",fontSize:"80px",fontWeight:"700"},children:"Shop Stage Fright"})})}),w.jsx("button",{onClick:()=>i(!n),style:{backgroundColor:"#333",color:"white",fontSize:"18px",padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"40px",alignSelf:"center",width:"auto",transform:n?"translateY(-40px)":"translateY(0)",transition:"transform 0.3s ease"},children:n?"Hide Filters":"Show Filters"}),w.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"15px",marginTop:"15px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3)",overflow:"hidden",height:n?"250px":"0px",opacity:n?"1":"0",transition:"height 0.5s ease, opacity 0.3s ease",width:n?"82%":"0%",backgroundColor:n?"#1a1a1a":"black"},children:n&&w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[w.jsxs("div",{style:{marginBottom:"15px"},children:[w.jsx("label",{style:{fontSize:"16px",color:"white",marginRight:"10px"},children:"Category"}),w.jsxs("select",{onChange:r,style:{padding:"8px",fontSize:"16px",borderRadius:"5px",border:"1px solid #444",backgroundColor:"#222",color:"white"},children:[w.jsx("option",{value:"All",children:"All"}),w.jsx("option",{value:"Vinyl",children:"Albums"}),w.jsx("option",{value:"Beanies",children:"Beanies"}),w.jsx("option",{value:"Hoodies",children:"Hoodies"}),w.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),w.jsx("option",{value:"Stickers",children:"Stickers"}),w.jsx("option",{value:"Tank Top",children:"Tank Top"}),w.jsx("option",{value:"Candle",children:"Candle"}),w.jsx("option",{value:"Phone Case",children:"Phone Case"}),w.jsx("option",{value:"Hat",children:"Hat"}),w.jsx("option",{value:"Bag",children:"Bag"}),w.jsx("option",{value:"Socks",children:"Socks"})]})]}),w.jsxs("div",{style:{width:"100%",marginBottom:"15px"},children:[w.jsx("label",{style:{fontSize:"16px",color:"white",marginRight:"10px"},children:"Price Range"}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[w.jsx("input",{type:"range",min:"10",max:"100",value:t.minPrice,onChange:s,style:{flex:1,background:"#555",borderRadius:"5px"}}),w.jsx("input",{type:"range",min:"10",max:"100",value:t.maxPrice,onChange:o,style:{flex:1,background:"#555",borderRadius:"5px"}})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[w.jsxs("span",{style:{color:"white"},children:["Min: $",t.minPrice.toFixed(2)]}),w.jsxs("span",{style:{color:"white"},children:["Max: $",t.maxPrice.toFixed(2)]})]})]})]})}),w.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",justifyContent:"center",width:"100%",marginTop:"20px"},children:a.map((l,c)=>w.jsx(WRe,{imageUrl:`/BPA-435-Project${l.imageUrl}`,price:l.price,title:l.title,description:l.description,orange:l.orange,blue:l.blue,black:l.black,grey:l.grey},c))})]}),w.jsx(jl,{})]})};function qRe(){return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:hc.tourIntroContainer,children:[w.jsx("div",{style:hc.overlay})," ",w.jsxs("div",{style:hc.overlayTextContainer,children:[w.jsx("h1",{style:hc.tourTitle,children:"Stage Fright on Tour"}),w.jsx("p",{style:hc.slogan,children:"Get ready to rock with Stage Fright. The adventure begins now!"})]})]}),w.jsxs("div",{style:hc.tourDatesContainer,children:[w.jsx("h1",{style:hc.tourDatesTitle,children:"Tour Dates"}),w.jsxs("div",{style:hc.itemsContainer,children:[w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/HuntingtonBankPav.png",place:"Huntington Bank Pavilion",address:"1300 S Linn White Dr, Chicago, IL 60605",price:500,startDate:new Date("2025-06-01"),endDate:new Date("2025-06-02"),mapData:"https://www.google.com/maps/embed?pb=!1m18..."}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/Credit1Pav.png",place:"Credit Union 1 Arena",address:"525 S Racine Ave, Chicago, IL 60607",price:500,startDate:new Date("2025-06-07"),endDate:new Date("2025-06-8"),mapData:"https://www.google.com/maps/embed?pb=!1m18..."}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/Credit1Amp.png",place:"Credit Union 1 Amphitheater",address:"19100 Ridgeland Ave, Tinley Park, IL 60477",price:500,startDate:new Date("2025-06-14"),endDate:new Date("2025-06-15"),mapData:"https://www.google.com/maps/embed?pb=!1m18..."}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/Riviera.png",place:"Riviera Theatre",address:"4746 N Racine Ave, Chicago, IL 60640",price:500,startDate:new Date("2025-06-21"),endDate:new Date("2025-06-22"),mapData:"https://www.google.com/maps/embed?pb=!1m18..."}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/SaltShed.png",place:"Salt Shed",address:"1357 N Elston Ave, Chicago, IL 60642",price:500,startDate:new Date("2025-06-28"),endDate:new Date("2025-06-29"),mapData:"https://www.google.com/maps/embed?pb=!1m18..."}),w.jsx(rl,{imageUrl:"/BPA-435-Project/images/Shows/UnitedCenter.png",place:"United Center",address:"1901 W Madison St, Chicago, IL 60612",price:500,startDate:new Date("2025-07-5"),endDate:new Date("2025-07-06"),mapData:"https://www.google.com/maps/embed?pb=!1m18..."})]})]}),w.jsx("br",{}),w.jsx(jl,{})]})}const hc={tourIntroContainer:{display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url(/BPA-435-Project/images/tour-page-cover.jpg)",backgroundSize:"cover",backgroundPosition:"center",height:"100vh",position:"relative",overflow:"hidden",animation:"fadeIn 3s ease-in-out"},overlay:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1},overlayTextContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",zIndex:2,width:"90%"},tourTitle:{fontSize:"80px",fontWeight:"bold",fontFamily:"Rock Salt, sans-serif",textTransform:"uppercase",letterSpacing:"15px",animation:"textZoom 2s ease-out",textShadow:"2px 2px 10px rgba(0, 0, 0, 0.7)"},slogan:{fontSize:"24px",fontWeight:"400",fontFamily:"Arial, sans-serif",marginTop:"10px",fontStyle:"italic",animation:"fadeIn 3s ease-in-out",textShadow:"1px 1px 5px rgba(0, 0, 0, 0.7)"},tourDatesContainer:{backgroundColor:"#000",paddingTop:"70px",paddingBottom:"70px",textAlign:"center",padding:"30px 0",color:"white"},tourDatesTitle:{fontSize:"50px",fontWeight:"700",fontFamily:"Helvetica, sans-serif",textTransform:"uppercase",letterSpacing:"5px",animation:"fadeIn 3s ease-in-out"},itemsContainer:{display:"flex",flexWrap:"wrap",gap:"20px",justifyContent:"center",marginTop:"30px"}};function PY(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=PY(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Ed(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=PY(t))&&(i&&(i+=" "),i+=e);return i}function XRe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}XRe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var i0=t=>typeof t=="number"&&!isNaN(t),Hd=t=>typeof t=="string",Fl=t=>typeof t=="function",YRe=t=>Hd(t)||i0(t),gI=t=>Hd(t)||Fl(t)?t:null,KRe=(t,e)=>t===!1||i0(t)&&t>0?t:e,vI=t=>L.isValidElement(t)||Hd(t)||Fl(t)||i0(t);function JRe(t,e,n=300){let{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function QRe({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:d}){let h=n?`${t}--${o}`:t,m=n?`${e}--${o}`:e,g=L.useRef(0);return L.useLayoutEffect(()=>{let y=c.current,_=h.split(" "),v=x=>{x.target===c.current&&(d(),y.removeEventListener("animationend",v),y.removeEventListener("animationcancel",v),g.current===0&&x.type!=="animationcancel"&&y.classList.remove(..._))};y.classList.add(..._),y.addEventListener("animationend",v),y.addEventListener("animationcancel",v)},[]),L.useEffect(()=>{let y=c.current,_=()=>{y.removeEventListener("animationend",_),i?JRe(y,l,r):l()};u||(a?_():(g.current=1,y.className+=` ${m}`,y.addEventListener("animationend",_)))},[u]),ze.createElement(ze.Fragment,null,s)}}function fU(t,e){return{content:AY(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function AY(t,e,n=!1){return L.isValidElement(t)&&!Hd(t.type)?L.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Fl(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function ZRe({closeToast:t,theme:e,ariaLabel:n="close"}){return ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function e2e({delay:t,isRunning:e,closeToast:n,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:u}){let d=r||o&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let m=Ed("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),g=Fl(s)?s({rtl:l,type:i,defaultClassName:m}):Ed(m,s),y={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${i}`}),ze.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:g,style:h,...y}))}var t2e=1,IY=()=>`${t2e++}`;function n2e(t,e,n){let i=1,r=0,s=[],o=[],a=e,l=new Map,c=new Set,u=x=>(c.add(x),()=>c.delete(x)),d=()=>{o=Array.from(l.values()),c.forEach(x=>x())},h=({containerId:x,toastId:b,updateId:E})=>{let M=x?x!==t:t!==1,C=l.has(b)&&E==null;return M||C},m=(x,b)=>{l.forEach(E=>{var M;(b==null||b===E.props.toastId)&&((M=E.toggle)==null||M.call(E,x))})},g=x=>{var b,E;(E=(b=x.props)==null?void 0:b.onClose)==null||E.call(b,x.removalReason),x.isActive=!1},y=x=>{if(x==null)l.forEach(g);else{let b=l.get(x);b&&g(b)}d()},_=()=>{r-=s.length,s=[]},v=x=>{var b,E;let{toastId:M,updateId:C}=x.props,R=C==null;x.staleId&&l.delete(x.staleId),x.isActive=!0,l.set(M,x),d(),n(fU(x,R?"added":"updated")),R&&((E=(b=x.props).onOpen)==null||E.call(b))};return{id:t,props:a,observe:u,toggle:m,removeToast:y,toasts:l,clearQueue:_,buildToast:(x,b)=>{if(h(b))return;let{toastId:E,updateId:M,data:C,staleId:R,delay:k}=b,I=M==null;I&&r++;let P={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(b).filter(([z,U])=>U!=null)),toastId:E,updateId:M,data:C,isIn:!1,className:gI(b.className||a.toastClassName),progressClassName:gI(b.progressClassName||a.progressClassName),autoClose:b.isLoading?!1:KRe(b.autoClose,a.autoClose),closeToast(z){l.get(E).removalReason=z,y(E)},deleteToast(){let z=l.get(E);if(z!=null){if(n(fU(z,"removed")),l.delete(E),r--,r<0&&(r=0),s.length>0){v(s.shift());return}d()}}};P.closeButton=a.closeButton,b.closeButton===!1||vI(b.closeButton)?P.closeButton=b.closeButton:b.closeButton===!0&&(P.closeButton=vI(a.closeButton)?a.closeButton:!0);let O={content:x,props:P,staleId:R};a.limit&&a.limit>0&&r>a.limit&&I?s.push(O):i0(k)?setTimeout(()=>{v(O)},k):v(O)},setProps(x){a=x},setToggle:(x,b)=>{let E=l.get(x);E&&(E.toggle=b)},isToastActive:x=>{var b;return(b=l.get(x))==null?void 0:b.isActive},getSnapshot:()=>o}}var Dr=new Map,hy=[],yI=new Set,i2e=t=>yI.forEach(e=>e(t)),RY=()=>Dr.size>0;function r2e(){hy.forEach(t=>NY(t.content,t.options)),hy=[]}var s2e=(t,{containerId:e})=>{var n;return(n=Dr.get(e||1))==null?void 0:n.toasts.get(t)};function kY(t,e){var n;if(e)return!!((n=Dr.get(e))!=null&&n.isToastActive(t));let i=!1;return Dr.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function o2e(t){if(!RY()){hy=hy.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||YRe(t))Dr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Dr.get(t.containerId);e?e.removeToast(t.id):Dr.forEach(n=>{n.removeToast(t.id)})}}var a2e=(t={})=>{Dr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function NY(t,e){vI(t)&&(RY()||hy.push({content:t,options:e}),Dr.forEach(n=>{n.buildToast(t,e)}))}function l2e(t){var e;(e=Dr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function LY(t,e){Dr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function c2e(t){let e=t.containerId||1;return{subscribe(n){let i=n2e(e,t,i2e);Dr.set(e,i);let r=i.observe(n);return r2e(),()=>{r(),Dr.delete(e)}},setProps(n){var i;(i=Dr.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Dr.get(e))==null?void 0:n.getSnapshot()}}}function u2e(t){return yI.add(t),()=>{yI.delete(t)}}function d2e(t){return t&&(Hd(t.toastId)||i0(t.toastId))?t.toastId:IY()}function r0(t,e){return NY(t,e),e.toastId}function aE(t,e){return{...e,type:e&&e.type||t,toastId:d2e(e)}}function lE(t){return(e,n)=>r0(e,aE(t,n))}function Vt(t,e){return r0(t,aE("default",e))}Vt.loading=(t,e)=>r0(t,aE("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function f2e(t,{pending:e,error:n,success:i},r){let s;e&&(s=Hd(e)?Vt.loading(e,r):Vt.loading(e.render,{...r,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,d)=>{if(u==null){Vt.dismiss(s);return}let h={type:c,...o,...r,data:d},m=Hd(u)?{render:u}:u;return s?Vt.update(s,{...h,...m}):Vt(m.render,{...h,...m}),d},l=Fl(t)?t():t;return l.then(c=>a("success",i,c)).catch(c=>a("error",n,c)),l}Vt.promise=f2e;Vt.success=lE("success");Vt.info=lE("info");Vt.error=lE("error");Vt.warning=lE("warning");Vt.warn=Vt.warning;Vt.dark=(t,e)=>r0(t,aE("default",{theme:"dark",...e}));function h2e(t){o2e(t)}Vt.dismiss=h2e;Vt.clearWaitingQueue=a2e;Vt.isActive=kY;Vt.update=(t,e={})=>{let n=s2e(t,e);if(n){let{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:IY()};s.toastId!==t&&(s.staleId=t);let o=s.render||r;delete s.render,r0(o,s)}};Vt.done=t=>{Vt.update(t,{progress:1})};Vt.onChange=u2e;Vt.play=t=>LY(!0,t);Vt.pause=t=>LY(!1,t);function p2e(t){var e;let{subscribe:n,getSnapshot:i,setProps:r}=L.useRef(c2e(t)).current;r(t);let s=(e=L.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:kY,count:s==null?void 0:s.length}}function m2e(t){let[e,n]=L.useState(!1),[i,r]=L.useState(!1),s=L.useRef(null),o=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;l2e({id:t.toastId,containerId:t.containerId,fn:n}),L.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{m()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||v(),window.addEventListener("focus",_),window.addEventListener("blur",v)}function m(){window.removeEventListener("focus",_),window.removeEventListener("blur",v)}function g(R){if(t.draggable===!0||t.draggable===R.pointerType){x();let k=s.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=k.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(R){let{top:k,bottom:I,left:P,right:O}=s.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&R.clientX>=P&&R.clientX<=O&&R.clientY>=k&&R.clientY<=I?v():_()}function _(){n(!0)}function v(){n(!1)}function x(){o.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",M)}function b(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",M)}function E(R){let k=s.current;if(o.canDrag&&k){o.didMove=!0,e&&v(),t.draggableDirection==="x"?o.delta=R.clientX-o.start:o.delta=R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${I},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){b();let R=s.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let C={onPointerDown:g,onPointerUp:y};return a&&l&&(C.onMouseEnter=v,t.stacked||(C.onMouseLeave=_)),d&&(C.onClick=R=>{u&&u(R),o.canCloseOnClick&&c(!0)}),{playToast:_,pauseToast:v,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:C}}var g2e=typeof window<"u"?L.useLayoutEffect:L.useEffect,cE=({theme:t,type:e,isLoading:n,...i})=>ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function v2e(t){return ze.createElement(cE,{...t},ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function y2e(t){return ze.createElement(cE,{...t},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function x2e(t){return ze.createElement(cE,{...t},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _2e(t){return ze.createElement(cE,{...t},ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function b2e(){return ze.createElement("div",{className:"Toastify__spinner"})}var xI={info:y2e,warning:v2e,success:x2e,error:_2e,spinner:b2e},S2e=t=>t in xI;function w2e({theme:t,type:e,isLoading:n,icon:i}){let r=null,s={theme:t,type:e};return i===!1||(Fl(i)?r=i({...s,isLoading:n}):L.isValidElement(i)?r=L.cloneElement(i,s):n?r=xI.spinner():S2e(e)&&(r=xI[e](s))),r}var E2e=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=m2e(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:m,position:g,className:y,style:_,progressClassName:v,updateId:x,role:b,progress:E,rtl:M,toastId:C,deleteToast:R,isIn:k,isLoading:I,closeOnClick:P,theme:O,ariaLabel:z}=t,U=Ed("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":P}),X=Fl(y)?y({rtl:M,position:g,type:u,defaultClassName:U}):Ed(U,y),W=w2e(t),K=!!E||!l,j={closeToast:h,type:u,theme:O},D=null;return o===!1||(Fl(o)?D=o(j):L.isValidElement(o)?D=L.cloneElement(o,j):D=ZRe(j)),ze.createElement(m,{isIn:k,done:R,position:g,preventExitTransition:n,nodeRef:i,playToast:s},ze.createElement("div",{id:C,tabIndex:0,onClick:c,"data-in":k,className:X,...r,style:_,ref:i,...k&&{role:b,"aria-label":z}},W!=null&&ze.createElement("div",{className:Ed("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},W),AY(a,t,!e),D,!t.customProgressBar&&ze.createElement(e2e,{...x&&!K?{key:`p-${x}`}:{},rtl:M,theme:O,delay:l,isRunning:e,isIn:k,closeToast:h,hide:d,type:u,className:v,controlledProgress:K,progress:E||0})))},T2e=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),C2e=QRe(T2e("bounce",!0)),M2e={position:"top-right",transition:C2e,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function s0(t){let e={...M2e,...t},n=t.stacked,[i,r]=L.useState(!0),s=L.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=p2e(e),{className:c,style:u,rtl:d,containerId:h,hotKeys:m}=e;function g(_){let v=Ed("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":d});return Fl(c)?c({position:_,rtl:d,defaultClassName:v}):Ed(v,gI(c))}function y(){n&&(r(!0),Vt.play())}return g2e(()=>{var _;if(n){let v=s.current.querySelectorAll('[data-in="true"]'),x=12,b=(_=e.position)==null?void 0:_.includes("top"),E=0,M=0;Array.from(v).reverse().forEach((C,R)=>{let k=C;k.classList.add("Toastify__toast--stacked"),R>0&&(k.dataset.collapsed=`${i}`),k.dataset.pos||(k.dataset.pos=b?"top":"bot");let I=E*(i?.2:1)+(i?0:x*R);k.style.setProperty("--y",`${b?I:I*-1}px`),k.style.setProperty("--g",`${x}`),k.style.setProperty("--s",`${1-(i?M:0)}`),E+=k.offsetHeight,M+=.025})}},[i,l,n]),L.useEffect(()=>{function _(v){var x;let b=s.current;m(v)&&((x=b.querySelector('[tabIndex="0"]'))==null||x.focus(),r(!1),Vt.pause()),v.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(r(!0),Vt.play())}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[m]),ze.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(r(!1),Vt.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((_,v)=>{let x=v.length?{...u}:{...u,pointerEvents:"none"};return ze.createElement("div",{tabIndex:-1,className:g(_),"data-stacked":n,style:x,key:`c-${_}`},v.map(({content:b,props:E})=>ze.createElement(E2e,{...E,stacked:n,collapseAll:y,isIn:a(E.toastId,E.containerId),key:`t-${E.key}`},b)))}))}function P2e(){const[t,e]=L.useState(""),[n,i]=L.useState(""),[r,s]=L.useState(""),[o,a]=L.useState(""),l=()=>{e(""),i(""),s(""),a(""),Vt.success("Your message has been sent to our team, We will get back to you as soon as possible!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})};return w.jsxs("div",{children:[w.jsx(s0,{}),w.jsx("div",{className:"hero-contact",children:w.jsx("div",{className:"hero-contact-overlay",children:w.jsx("h1",{children:"Contact Us"})})}),w.jsxs("div",{className:"faq_container",children:[w.jsx("div",{className:"faq_title_container",children:w.jsx(Li.h2,{className:"faq_title",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},children:"FAQ"})}),w.jsxs("div",{className:"faq_sub",children:[w.jsxs(Li.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Does the band manage its own social media accounts?"}),w.jsx("div",{className:"faq_a",children:"Yes, we manage our social media accounts directly, so feel free to send us a message or leave a comment."})]}),w.jsxs(Li.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.2},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Does the band perform at private events or weddings?"}),w.jsx("div",{className:"faq_a",children:"Yes! We are available for private events. Contact us for availability and pricing details."})]}),w.jsxs(Li.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.4},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"What is the band’s touring schedule?"}),w.jsx("div",{className:"faq_a",children:"You can check our upcoming shows and tour dates on the Tour page."})]}),w.jsxs(Li.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Do you ship merchandise internationally?"}),w.jsx("div",{className:"faq_a",children:"Yes, we ship to all countries. Please check the Merch page to see our most updated offers."})]}),w.jsxs(Li.div,{className:"faq_content",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.8},viewport:{once:!0},children:[w.jsx("div",{className:"faq_q",children:"Can I send fan mail or gifts to the band?"}),w.jsx("div",{className:"faq_a",children:"We love hearing from fans! Coming in late 2025 we will be allowing fan mail!"})]})]})]}),w.jsxs("div",{className:"contact_info_container",children:[w.jsx(Li.div,{className:"contact_info_title",initial:{opacity:0,y:-50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:"Contact Stage Fright"}),w.jsxs(Li.div,{className:"contact_info_phone",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1},viewport:{once:!0},children:[w.jsxs("h2",{className:"contact_info_phone_title",children:[w.jsx(nue,{className:"phone_icon"}),"Phone:"]}),w.jsx("h2",{children:"Chicago: 123-456-7890"}),w.jsx("h2",{children:"Naperville: 987-654-3210"}),w.jsx("h2",{children:"Springfield: 246-810-1214"}),w.jsx("h2",{children:"Elgin: 369-121-5182"})]}),w.jsxs(Li.div,{className:"contact_info_email",initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:1,delay:.3},viewport:{once:!0},children:[w.jsxs("h2",{className:"contact_info_email_title",children:[w.jsx(Zce,{className:"email_icon"}),"Email:"]}),w.jsx("h2",{children:"Chicago: stagefri_chic@gmail.com"}),w.jsx("h2",{children:"Naperville: stagefri_np@gmail.com"}),w.jsx("h2",{children:"Springfield: stagefri.sf@gmail.com"}),w.jsx("h2",{children:"Elgin: stagefright.elgin@gmail.com"})]}),w.jsxs(Li.div,{className:"contact_info_message",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1,delay:.6},viewport:{once:!0},children:[w.jsx("h2",{className:"message_title",children:"Send a Message"}),w.jsxs("div",{className:"message_sub",children:[w.jsx("form",{className:"name_field",children:w.jsx("input",{type:"text",id:"name",placeholder:"Enter your name",value:t,onChange:c=>e(c.target.value)})}),w.jsx("form",{className:"number_field",children:w.jsx("input",{type:"tel",id:"number",placeholder:"Enter your phone number",value:n,onChange:c=>i(c.target.value)})}),w.jsx("form",{className:"email_field",children:w.jsx("input",{type:"text",id:"email",placeholder:"Enter your email",value:r,onChange:c=>s(c.target.value)})}),w.jsx("form",{className:"message_field",children:w.jsx("textarea",{id:"message",placeholder:"Enter your message",value:o,onChange:c=>a(c.target.value),style:{whiteSpace:"pre-wrap"}})}),w.jsx("button",{className:"send_button",onClick:l,children:"Send"})]})]})]}),w.jsx(jl,{})]})}function hU(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function BN(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:hU(e[n])&&hU(t[n])&&Object.keys(e[n]).length>0&&BN(t[n],e[n])})}const DY={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Wo(){const t=typeof document<"u"?document:{};return BN(t,DY),t}const A2e={document:DY,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Tr(){const t=typeof window<"u"?window:{};return BN(t,A2e),t}function vc(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function I2e(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function xS(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function _S(){return Date.now()}function R2e(t){const e=Tr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function k2e(t,e){e===void 0&&(e="x");const n=Tr();let i,r,s;const o=R2e(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function O_(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function N2e(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function bs(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!N2e(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(O_(t[a])&&O_(i[a])?i[a].__swiper__?t[a]=i[a]:bs(t[a],i[a]):!O_(t[a])&&O_(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:bs(t[a],i[a])):t[a]=i[a])}}}return t}function F_(t,e,n){t.style.setProperty(e,n)}function OY(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Tr(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",u=(h,m)=>c==="next"&&h>=m||c==="prev"&&h<=m,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(h*Math.PI)/2;let g=s+m*(n-s);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[i]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:g})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function ya(t,e){e===void 0&&(e="");const n=Tr(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function L2e(t,e){var i,r;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((i=s.shadowRoot)==null?void 0:i.children)||[],...((r=s.assignedElements)==null?void 0:r.call(s))||[])}}function D2e(t,e){const n=Tr();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=L2e(t,e))),i}function bS(t){try{console.warn(t);return}catch{}}function Sp(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:vc(e)),n}function O2e(t){const e=Tr(),n=Wo(),i=t.getBoundingClientRect(),r=n.body,s=t.clientTop||r.clientTop||0,o=t.clientLeft||r.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}function F2e(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function z2e(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Nc(t,e){return Tr().getComputedStyle(t,null).getPropertyValue(e)}function py(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function FY(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function _I(t,e,n){const i=Tr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Lt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let BM;function B2e(){const t=Tr(),e=Wo();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function zY(){return BM||(BM=B2e()),BM}let UM;function U2e(t){let{userAgent:e}=t===void 0?{}:t;const n=zY(),i=Tr(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=r==="Win32";let g=r==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!m&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function BY(t){return t===void 0&&(t={}),UM||(UM=U2e(t)),UM}let VM;function V2e(){const t=Tr(),e=BY();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function j2e(){return VM||(VM=V2e()),VM}function H2e(t){let{swiper:e,on:n,emit:i}=t;const r=Tr();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:h,height:m}=e;let g=h,y=m;d.forEach(_=>{let{contentBoxSize:v,contentRect:x,target:b}=_;b&&b!==e.el||(g=x?x.width:(v[0]||v).inlineSize,y=x?x.height:(v[0]||v).blockSize)}),(g!==h||y!==m)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function W2e(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],o=Tr(),a=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,m=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const y=function(){r("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=FY(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var G2e={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function $2e(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Nc(i,"padding-left")||0,10)-parseInt(Nc(i,"padding-right")||0,10),n=n-parseInt(Nc(i,"padding-top")||0,10)-parseInt(Nc(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function q2e(){const t=this;function e(P,O){return parseFloat(P.getPropertyValue(t.getDirectionLabel(O))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=ya(r,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let h=[];const m=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let _=n.slidesOffsetAfter;typeof _=="function"&&(_=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,x=t.slidesGrid.length;let b=n.spaceBetween,E=-y,M=0,C=0;if(typeof s>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*s:typeof b=="string"&&(b=parseFloat(b)),t.virtualSize=-b,u.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(F_(i,"--swiper-centered-offset-before",""),F_(i,"--swiper-centered-offset-after",""));const R=n.grid&&n.grid.rows>1&&t.grid;R?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let k;const I=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(P=>typeof n.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<d;P+=1){k=0;let O;if(u[P]&&(O=u[P]),R&&t.grid.updateSlide(P,O,u),!(u[P]&&Nc(O,"display")==="none")){if(n.slidesPerView==="auto"){I&&(u[P].style[t.getDirectionLabel("width")]="");const z=getComputedStyle(O),U=O.style.transform,X=O.style.webkitTransform;if(U&&(O.style.transform="none"),X&&(O.style.webkitTransform="none"),n.roundLengths)k=t.isHorizontal()?_I(O,"width"):_I(O,"height");else{const W=e(z,"width"),K=e(z,"padding-left"),j=e(z,"padding-right"),D=e(z,"margin-left"),B=e(z,"margin-right"),$=z.getPropertyValue("box-sizing");if($&&$==="border-box")k=W+D+B;else{const{clientWidth:J,offsetWidth:ce}=O;k=W+K+j+D+B+(ce-J)}}U&&(O.style.transform=U),X&&(O.style.webkitTransform=X),n.roundLengths&&(k=Math.floor(k))}else k=(s-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),u[P]&&(u[P].style[t.getDirectionLabel("width")]=`${k}px`);u[P]&&(u[P].swiperSlideSize=k),g.push(k),n.centeredSlides?(E=E+k/2+M/2+b,M===0&&P!==0&&(E=E-s/2-b),P===0&&(E=E-s/2-b),Math.abs(E)<1/1e3&&(E=0),n.roundLengths&&(E=Math.floor(E)),C%n.slidesPerGroup===0&&h.push(E),m.push(E)):(n.roundLengths&&(E=Math.floor(E)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup===0&&h.push(E),m.push(E),E=E+k+b),t.virtualSize+=k+b,M=k,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+_,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+b}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+b}px`),R&&t.grid.updateWrapperSize(k,h),!n.centeredSlides){const P=[];for(let O=0;O<h.length;O+=1){let z=h[O];n.roundLengths&&(z=Math.floor(z)),h[O]<=t.virtualSize-s&&P.push(z)}h=P,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(l&&n.loop){const P=g[0]+b;if(n.slidesPerGroup>1){const O=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),z=P*n.slidesPerGroup;for(let U=0;U<O;U+=1)h.push(h[h.length-1]+z)}for(let O=0;O<t.virtual.slidesBefore+t.virtual.slidesAfter;O+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+P),m.push(m[m.length-1]+P),t.virtualSize+=P}if(h.length===0&&(h=[0]),b!==0){const P=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((O,z)=>!n.cssMode||n.loop?!0:z!==u.length-1).forEach(O=>{O.style[P]=`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let P=0;g.forEach(z=>{P+=z+(b||0)}),P-=b;const O=P>s?P-s:0;h=h.map(z=>z<=0?-y:z>O?O+_:z)}if(n.centerInsufficientSlides){let P=0;g.forEach(z=>{P+=z+(b||0)}),P-=b;const O=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(P+O<s){const z=(s-P-O)/2;h.forEach((U,X)=>{h[X]=U-z}),m.forEach((U,X)=>{m[X]=U+z})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:m,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){F_(i,"--swiper-centered-offset-before",`${-h[0]}px`),F_(i,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const P=-t.snapGrid[0],O=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(z=>z+P),t.slidesGrid=t.slidesGrid.map(z=>z+O)}if(d!==c&&t.emit("slidesLengthChange"),h.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const P=`${n.containerModifierClass}backface-hidden`,O=t.el.classList.contains(P);d<=n.maxBackfaceHiddenSlides?O||t.el.classList.add(P):O&&t.el.classList.remove(P)}}function X2e(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Y2e(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const pU=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function K2e(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),m=-(o-u),g=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],_=m>=0&&m<e.size-1||g>1&&g<=e.size||m<=0&&g>=e.size;_&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),pU(c,_,n.slideVisibleClass),pU(c,y,n.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function J2e(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],m=e.slidesGrid[d],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=h?a=(y-h)/g:a=(y+g-m)/g,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const jM=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Q2e(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>ya(i,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(s)if(n.loop){let d=r-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.find(d=>d.column===r),u=e.find(d=>d.column===r+1),c=e.find(d=>d.column===r-1)):l=e[r];l&&(o||(u=z2e(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=F2e(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{jM(d,d===l,n.slideActiveClass),jM(d,d===u,n.slideNextClass),jM(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const E1=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},HM=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},bI=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&HM(t,c)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&HM(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&HM(t,o)};function Z2e(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function eke(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,c;const u=m=>{let g=m-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=Z2e(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const m=Math.min(r.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&r.grid&&r.grid.rows>1;let h;if(e.virtual&&r.virtual.enabled&&r.loop)h=u(l);else if(d){const m=e.slides.find(y=>y.column===l);let g=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(m),0)),h=Math.floor(g/r.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:h,previousIndex:s,activeIndex:l}),e.initialized&&bI(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function tke(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var nke={updateSize:$2e,updateSlides:q2e,updateAutoHeight:X2e,updateSlidesOffset:Y2e,updateSlidesProgress:K2e,updateProgress:J2e,updateSlidesClasses:Q2e,updateActiveIndex:eke,updateClickedSlide:tke};function ike(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=k2e(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function rke(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function ske(){return-this.snapGrid[0]}function oke(){return-this.snapGrid[this.snapGrid.length-1]}function ake(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(i&&t>l?u=l:i&&t<c?u=c:u=t,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return OY({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var lke={getTranslate:ike,setTranslate:rke,minTranslate:ske,maxTranslate:oke,translateTo:ake};function cke(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function UY(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function uke(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),UY({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function dke(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),UY({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var fke={setTransition:cke,transitionStart:uke,transitionEnd:dke};function hke(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:m,enabled:g}=s;if(!g&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let _=y+Math.floor((o-y)/s.params.slidesPerGroup);_>=l.length&&(_=l.length-1);const v=-l[_];if(a.normalizeSlideIndex)for(let M=0;M<c.length;M+=1){const C=-Math.floor(v*100),R=Math.floor(c[M]*100),k=Math.floor(c[M+1]*100);typeof c[M+1]<"u"?C>=R&&C<k-(k-R)/2?o=M:C>=R&&C<k&&(o=M+1):C>=R&&(o=M)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?v>s.translate&&v>s.minTranslate():v<s.translate&&v<s.minTranslate())||!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(v);let x;o>d?x="next":o<d?x="prev":x="reset";const b=s.virtual&&s.params.virtual.enabled;if(!(b&&r)&&(h&&-v===s.translate||!h&&v===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(v),x!=="reset"&&(s.transitionStart(n,x),s.transitionEnd(n,x)),!1;if(a.cssMode){const M=s.isHorizontal(),C=h?v:-v;if(e===0)b&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),b&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[M?"scrollLeft":"scrollTop"]=C})):m[M?"scrollLeft":"scrollTop"]=C,b&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return OY({swiper:s,targetPosition:C,side:M?"left":"top"}),!0;m.scrollTo({[M?"left":"top"]:C,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(v),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,x),e===0?s.transitionEnd(n,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function pke(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const h=o*r.params.grid.rows;a=r.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;u==="auto"?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&r.params.slidesPerView!=="auto"&&!s&&(d=!1),d){const h=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?r.realIndex:void 0})}if(s){const h=o*r.params.grid.rows;o=r.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,i)}),r}function mke(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function gke(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function h(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const m=h(d),g=s.map(v=>h(v));let y=s[g.indexOf(m)-1];if(typeof y>"u"&&r.cssMode){let v;s.forEach((x,b)=>{m>=x&&(v=b)}),typeof v<"u"&&(y=s[v>0?v-1:v])}let _=0;if(typeof y<"u"&&(_=o.indexOf(y),_<0&&(_=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(_=_-i.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),r.rewind&&i.isBeginning){const v=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(v,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(_,t,e,n)}),!0;return i.slideTo(_,t,e,n)}function vke(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function yke(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],u=r.snapGrid[a+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],u=r.snapGrid[a];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function xke(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(ya(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),xS(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(ya(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),xS(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var _ke={slideTo:hke,slideToLoop:pke,slideNext:mke,slidePrev:gke,slideReset:vke,slideToClosest:yke,slideToClickedSlide:xke};function bke(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{ya(i,`.${n.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const h=e.isElement?Sp("swiper-slide",[n.slideBlankClass]):Sp("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(h)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else bS("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else bS("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Ske(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:m}=l,{centeredSlides:g}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const _=m.slidesPerGroupAuto?y:m.slidesPerGroup;let v=_;v%_!==0&&(v+=_-v%_),v+=m.loopAdditionalSlides,l.loopedSlides=v;const x=l.grid&&m.grid&&m.grid.rows>1;c.length<y+v?bS("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&m.grid.fill==="row"&&bS("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const b=[],E=[];let M=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(c.find(U=>U.classList.contains(m.slideActiveClass))):M=s;const C=i==="next"||!i,R=i==="prev"||!i;let k=0,I=0;const P=x?Math.ceil(c.length/m.grid.rows):c.length,z=(x?c[s].column:s)+(g&&typeof r>"u"?-y/2+.5:0);if(z<v){k=Math.max(v-z,_);for(let U=0;U<v-z;U+=1){const X=U-Math.floor(U/P)*P;if(x){const W=P-X-1;for(let K=c.length-1;K>=0;K-=1)c[K].column===W&&b.push(K)}else b.push(P-X-1)}}else if(z+y>P-v){I=Math.max(z-(P-v*2),_);for(let U=0;U<I;U+=1){const X=U-Math.floor(U/P)*P;x?c.forEach((W,K)=>{W.column===X&&E.push(K)}):E.push(X)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),R&&b.forEach(U=>{c[U].swiperLoopMoveDOM=!0,h.prepend(c[U]),c[U].swiperLoopMoveDOM=!1}),C&&E.forEach(U=>{c[U].swiperLoopMoveDOM=!0,h.append(c[U]),c[U].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():x&&(b.length>0&&R||E.length>0&&C)&&l.slides.forEach((U,X)=>{l.grid.updateSlide(X,U,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(b.length>0&&R){if(typeof e>"u"){const U=l.slidesGrid[M],W=l.slidesGrid[M+k]-U;a?l.setTranslate(l.translate-W):(l.slideTo(M+Math.ceil(k),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-W,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-W))}else if(r){const U=x?b.length/m.grid.rows:b.length;l.slideTo(l.activeIndex+U,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(E.length>0&&C)if(typeof e>"u"){const U=l.slidesGrid[M],W=l.slidesGrid[M-I]-U;a?l.setTranslate(l.translate-W):(l.slideTo(M-I,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-W,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-W))}else{const U=x?E.length/m.grid.rows:E.length;l.slideTo(l.activeIndex-U,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const U={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(X=>{!X.destroyed&&X.params.loop&&X.loopFix({...U,slideTo:X.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...U,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function wke(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Eke={loopCreate:bke,loopFix:Ske,loopDestroy:wke};function Tke(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Cke(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Mke={setGrabCursor:Tke,unsetGrabCursor:Cke};function Pke(t,e){e===void 0&&(e=this);function n(i){if(!i||i===Wo()||i===Tr())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function mU(t,e,n){const i=Tr(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Ake(t){const e=this,n=Wo();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){mU(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!D2e(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(h?Pke(d,l):l.closest(d))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const m=o.currentX,g=o.currentY;if(!mU(e,i,m))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,r.touchStartTime=_S(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let y=!0;l.matches(r.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const _=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||_)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Ike(t){const e=Wo(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(C=>C.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=d;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=_S());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const h=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+m**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let C;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:h*h+m*m>=25&&(C=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,i.isScrolling=n.isHorizontal()?C>r.touchAngle:90-C>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let g=n.isHorizontal()?h:m,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=g,g*=r.touchRatio,o&&(g=-g,y=-y);const _=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const v=n.params.loop&&!r.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(v&&x&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(C)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let b;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&_!==n.touchesDirection&&v&&x&&Math.abs(g)>=1){Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=g+i.startTranslate;let E=!0,M=r.resistanceRatio;if(r.touchReleaseOnEdges&&(M=0),g>0?(v&&x&&!b&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+g)**M))):g<0&&(v&&x&&!b&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-g)**M))),E&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(g)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function Rke(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(M=>M.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=_S(),h=d-n.touchStartTime;if(e.allowClick){const M=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(M&&M[0]||i.target,M),e.emit("tap click",i),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=_S(),xS(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const g=m>=-e.maxTranslate()&&!e.params.loop;let y=0,_=e.slidesSizesGrid[0];for(let M=0;M<c.length;M+=M<o.slidesPerGroupSkip?1:o.slidesPerGroup){const C=M<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[M+C]<"u"?(g||m>=c[M]&&m<c[M+C])&&(y=M,_=c[M+C]-c[M]):(g||m>=c[M])&&(y=M,_=c[c.length-1]-c[c.length-2])}let v=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const b=(m-c[y])/_,E=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?v:y+E):e.slideTo(y)),e.swipeDirection==="prev"&&(b>1-o.longSwipesRatio?e.slideTo(y+E):x!==null&&b<0&&Math.abs(b)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(y+E):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:y+E),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function gU(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function kke(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Nke(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Lke(t){const e=this;E1(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Dke(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const VY=(t,e)=>{const n=Wo(),{params:i,el:r,wrapperEl:s,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",gU,!0):t[c]("observerUpdate",gU,!0),r[l]("load",t.onLoad,{capture:!0}))};function Oke(){const t=this,{params:e}=t;t.onTouchStart=Ake.bind(t),t.onTouchMove=Ike.bind(t),t.onTouchEnd=Rke.bind(t),t.onDocumentTouchStart=Dke.bind(t),e.cssMode&&(t.onScroll=Nke.bind(t)),t.onClick=kke.bind(t),t.onLoad=Lke.bind(t),VY(t,"on")}function Fke(){VY(this,"off")}var zke={attachEvents:Oke,detachEvents:Fke};const vU=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Bke(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Wo(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in s?s[c]:void 0)||t.originalParams,h=vU(t,i),m=vU(t,d),g=t.params.grabCursor,y=d.grabCursor,_=i.enabled;h&&!m?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&m&&(r.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof d[C]>"u")return;const R=i[C]&&i[C].enabled,k=d[C]&&d[C].enabled;R&&!k&&t[C].disable(),!R&&k&&t[C].enable()});const v=d.direction&&d.direction!==i.direction,x=i.loop&&(d.slidesPerView!==i.slidesPerView||v),b=i.loop;v&&n&&t.changeDirection(),bs(t.params,d);const E=t.params.enabled,M=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),_&&!E?t.disable():!_&&E&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(x?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!b&&M?(t.loopCreate(e),t.updateSlides()):b&&!M&&t.loopDestroy()),t.emit("breakpoint",d)}function Uke(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=Tr(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var Vke={setBreakpoint:Bke,getBreakpoint:Uke};function jke(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function Hke(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=jke(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function Wke(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Gke={addClasses:Hke,removeClasses:Wke};function $ke(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var qke={checkOverflow:$ke},SI={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Xke(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){bs(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){bs(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),bs(e,i)}}const WM={eventsEmitter:G2e,update:nke,translate:lke,transition:fke,slide:_ke,loop:Eke,grabCursor:Mke,events:zke,breakpoints:Vke,checkOverflow:qke,classes:Gke},GM={};let UN=class el{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=bs({},n),e&&!n.el&&(n.el=e);const o=Wo();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const h=bs({},n,{el:d});u.push(new el(h))}),u}const a=this;a.__swiper__=!0,a.support=zY(),a.device=BY({userAgent:n.userAgent}),a.browser=j2e(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:Xke(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=bs({},SI,l);return a.params=bs({},c,GM,n),a.originalParams=bs({},a.params),a.passedParams=bs({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=ya(n,`.${i.slideClass}, swiper-slide`),s=py(r[0]);return py(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=ya(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let m=c+1;m<s.length;m+=1)s[m]&&!h&&(d+=Math.ceil(s[m].swiperSlideSize),u+=1,d>l&&(h=!0));for(let m=c-1;m>=0;m-=1)s[m]&&!h&&(d+=s[m].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<s.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&E1(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):ya(i,r())[0];return!o&&n.params.createElements&&(o=Sp("div",n.params.wrapperClass),i.append(o),ya(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Nc(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Nc(i,"direction")==="rtl"),wrongRTL:Nc(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?E1(n,s):s.addEventListener("load",o=>{E1(n,o.target)})}),bI(n),n.initialized=!0,bI(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),I2e(i)),i.destroyed=!0),null}static extendDefaults(e){bs(GM,e)}static get extendedDefaults(){return GM}static get defaults(){return SI}static installModule(e){el.prototype.__modules__||(el.prototype.__modules__=[]);const n=el.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>el.installModule(n)),el):(el.installModule(e),el)}};Object.keys(WM).forEach(t=>{Object.keys(WM[t]).forEach(e=>{UN.prototype[e]=WM[t][e]})});UN.use([H2e,W2e]);const jY=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Wd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Xh(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Wd(e[i])&&Wd(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Xh(t[i],e[i]):t[i]=e[i]})}function HY(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function WY(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function GY(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function $Y(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function Yke(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Kke(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=r.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:m,virtual:g,thumbs:y}=e;let _,v,x,b,E,M,C,R;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(_=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(v=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(x=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&m&&!m.el&&(b=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(E=!0);const k=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),u[I].prevEl=void 0,u[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),u[I].el=void 0,e[I].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?M=!0:!u.loop&&i.loop?C=!0:R=!0),c.forEach(I=>{if(Wd(u[I])&&Wd(i[I]))Object.assign(u[I],i[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in i[I]&&!i[I].enabled&&k(I);else{const P=i[I];(P===!0||P===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?P===!1&&k(I):u[I]=i[I]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),r.includes("children")&&n&&u.loop&&(R=!0),_&&y.init()&&y.update(!0),v&&(e.controller.control=u.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),b&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),E&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(M||R)&&e.loopDestroy(),(C||R)&&e.loopCreate(),e.update()}function Jke(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};Xh(n,SI),n._emitClasses=!0,n.init=!1;const s={},o=jY.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Wd(t[l])?(n[l]={},r[l]={},Xh(n[l],t[l]),Xh(r[l],t[l])):(n[l]=t[l],r[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:s,events:i}}function Qke(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=t;HY(e)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),WY(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),GY(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Zke(t,e,n,i,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&i){const l=i.map(r),c=n.map(r);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return jY.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Wd(t[l])&&Wd(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const eNe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},SS.apply(this,arguments)}function qY(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function XY(t){const e=[];return ze.Children.toArray(t).forEach(n=>{qY(n)?e.push(n):n.props&&n.props.children&&XY(n.props.children).forEach(i=>e.push(i))}),e}function tNe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ze.Children.toArray(t).forEach(i=>{if(qY(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=XY(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function nNe(t,e,n){if(!n)return null;const i=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=o&&c.push(e[i(u)]);return c.map((u,d)=>ze.cloneElement(u,{swiper:t,style:r,key:u.props.virtualIndex||u.key||`slide-${d}`}))}function rv(t,e){return typeof window>"u"?L.useEffect(t,e):L.useLayoutEffect(t,e)}const yU=L.createContext(null),iNe=L.createContext(null),YY=L.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=L.useState("swiper"),[d,h]=L.useState(null),[m,g]=L.useState(!1),y=L.useRef(!1),_=L.useRef(null),v=L.useRef(null),x=L.useRef(null),b=L.useRef(null),E=L.useRef(null),M=L.useRef(null),C=L.useRef(null),R=L.useRef(null),{params:k,passedParams:I,rest:P,events:O}=Jke(a),{slides:z,slots:U}=tNe(s),X=()=>{g(!m)};Object.assign(k.on,{_containerClasses(B,$){u($)}});const W=()=>{Object.assign(k.on,O),l=!0;const B={...k};if(delete B.wrapperClass,v.current=new UN(B),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=z;const $={cache:!1,slides:z,renderExternal:h,renderExternalUpdate:!1};Xh(v.current.params.virtual,$),Xh(v.current.originalParams.virtual,$)}};_.current||W(),v.current&&v.current.on("_beforeBreakpoint",X);const K=()=>{l||!O||!v.current||Object.keys(O).forEach(B=>{v.current.on(B,O[B])})},j=()=>{!O||!v.current||Object.keys(O).forEach(B=>{v.current.off(B,O[B])})};L.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",X)}),L.useEffect(()=>{!y.current&&v.current&&(v.current.emitSlidesClasses(),y.current=!0)}),rv(()=>{if(e&&(e.current=_.current),!!_.current)return v.current.destroyed&&W(),Qke({el:_.current,nextEl:E.current,prevEl:M.current,paginationEl:C.current,scrollbarEl:R.current,swiper:v.current},k),o&&!v.current.destroyed&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),rv(()=>{K();const B=Zke(I,x.current,z,b.current,$=>$.key);return x.current=I,b.current=z,B.length&&v.current&&!v.current.destroyed&&Kke({swiper:v.current,slides:z,passedParams:I,changedParams:B,nextEl:E.current,prevEl:M.current,scrollbarEl:R.current,paginationEl:C.current}),()=>{j()}}),rv(()=>{eNe(v.current)},[d]);function D(){return k.virtual?nNe(v.current,z,d):z.map((B,$)=>ze.cloneElement(B,{swiper:v.current,swiperSlideIndex:$}))}return ze.createElement(i,SS({ref:_,className:$Y(`${c}${n?` ${n}`:""}`)},P),ze.createElement(iNe.Provider,{value:v.current},U["container-start"],ze.createElement(r,{className:Yke(k.wrapperClass)},U["wrapper-start"],D(),U["wrapper-end"]),HY(k)&&ze.createElement(ze.Fragment,null,ze.createElement("div",{ref:M,className:"swiper-button-prev"}),ze.createElement("div",{ref:E,className:"swiper-button-next"})),GY(k)&&ze.createElement("div",{ref:R,className:"swiper-scrollbar"}),WY(k)&&ze.createElement("div",{ref:C,className:"swiper-pagination"}),U["container-end"]))});YY.displayName="Swiper";const KY=L.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=t===void 0?{}:t;const d=L.useRef(null),[h,m]=L.useState("swiper-slide"),[g,y]=L.useState(!1);function _(E,M,C){M===d.current&&m(C)}rv(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",_),()=>{s&&s.off("_slideClass",_)}}}),rv(()=>{s&&d.current&&!s.destroyed&&m(s.getSlideClasses(d.current))},[s]);const v={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof i=="function"?i(v):i,b=()=>{y(!0)};return ze.createElement(n,SS({ref:d,className:$Y(`${h}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:b},u),o&&ze.createElement(yU.Provider,{value:v},ze.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),a&&!g&&ze.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&ze.createElement(yU.Provider,{value:v},x(),a&&!g&&ze.createElement("div",{className:"swiper-lazy-preloader"})))});KY.displayName="SwiperSlide";function VN(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=ya(t.el,`.${i[r]}`)[0];s||(s=Sp("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function rNe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function o(g,y){const _=e.params.navigation;g=Lt(g),g.forEach(v=>{v&&(v.classList[y?"add":"remove"](..._.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=y),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](_.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=VN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=s(g.nextEl),_=s(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:_}),y=Lt(y),_=Lt(_);const v=(x,b)=>{x&&x.addEventListener("click",b==="next"?c:l),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>v(x,"next")),_.forEach(x=>v(x,"prev"))}function d(){let{nextEl:g,prevEl:y}=e.navigation;g=Lt(g),y=Lt(y);const _=(v,x)=>{v.removeEventListener("click",x==="next"?c:l),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(v=>_(v,"next")),y.forEach(v=>_(v,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?m():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=Lt(g),y=Lt(y),e.enabled){a();return}[...g,...y].filter(_=>!!_).forEach(_=>_.classList.add(e.params.navigation.lockClass))}),i("click",(g,y)=>{let{nextEl:_,prevEl:v}=e.navigation;_=Lt(_),v=Lt(v);const x=y.target;let b=v.includes(x)||_.includes(x);if(e.isElement&&!b){const E=y.path||y.composedPath&&y.composedPath();E&&(b=E.find(M=>_.includes(M)||v.includes(M)))}if(e.params.navigation.hideOnClick&&!b){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let E;_.length?E=_[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(E=v[0].classList.contains(e.params.navigation.hiddenClass)),r(E===!0?"navigationShow":"navigationHide"),[..._,...v].filter(M=>!!M).forEach(M=>M.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:h,disable:m,update:a,init:u,destroy:d})}function al(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function sNe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(x,b){const{bulletActiveClass:E}=e.params.pagination;x&&(x=x[`${b==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${E}-${b}`),x=x[`${b==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${E}-${b}-${b}`)))}function u(x,b,E){if(x=x%E,b=b%E,b===x+1)return"next";if(b===x-1)return"previous"}function d(x){const b=x.target.closest(al(e.params.pagination.bulletClass));if(!b)return;x.preventDefault();const E=py(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===E)return;const M=u(e.realIndex,E,e.slides.length);M==="next"?e.slideNext():M==="previous"?e.slidePrev():e.slideToLoop(E)}else e.slideTo(E)}function h(){const x=e.rtl,b=e.params.pagination;if(l())return;let E=e.pagination.el;E=Lt(E);let M,C;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,k=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,M=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(M=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,M=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let P,O,z;if(b.dynamicBullets&&(o=_I(I[0],e.isHorizontal()?"width":"height"),E.forEach(U=>{U.style[e.isHorizontal()?"width":"height"]=`${o*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&C!==void 0&&(a+=M-(C||0),a>b.dynamicMainBullets-1?a=b.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(M-a,0),O=P+(Math.min(I.length,b.dynamicMainBullets)-1),z=(O+P)/2),I.forEach(U=>{const X=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${b.bulletActiveClass}${W}`)].map(W=>typeof W=="string"&&W.includes(" ")?W.split(" "):W).flat();U.classList.remove(...X)}),E.length>1)I.forEach(U=>{const X=py(U);X===M?U.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&U.setAttribute("part","bullet"),b.dynamicBullets&&(X>=P&&X<=O&&U.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),X===P&&c(U,"prev"),X===O&&c(U,"next"))});else{const U=I[M];if(U&&U.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&I.forEach((X,W)=>{X.setAttribute("part",W===M?"bullet-active":"bullet")}),b.dynamicBullets){const X=I[P],W=I[O];for(let K=P;K<=O;K+=1)I[K]&&I[K].classList.add(...`${b.bulletActiveClass}-main`.split(" "));c(X,"prev"),c(W,"next")}}if(b.dynamicBullets){const U=Math.min(I.length,b.dynamicMainBullets+4),X=(o*U-o)/2-z*o,W=x?"right":"left";I.forEach(K=>{K.style[e.isHorizontal()?W:"top"]=`${X}px`})}}E.forEach((I,P)=>{if(b.type==="fraction"&&(I.querySelectorAll(al(b.currentClass)).forEach(O=>{O.textContent=b.formatFractionCurrent(M+1)}),I.querySelectorAll(al(b.totalClass)).forEach(O=>{O.textContent=b.formatFractionTotal(k)})),b.type==="progressbar"){let O;b.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";const z=(M+1)/k;let U=1,X=1;O==="horizontal"?U=z:X=z,I.querySelectorAll(al(b.progressbarFillClass)).forEach(W=>{W.style.transform=`translate3d(0,0,0) scaleX(${U}) scaleY(${X})`,W.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(I.innerHTML=b.renderCustom(e,M+1,k),P===0&&r("paginationRender",I)):(P===0&&r("paginationRender",I),r("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](b.lockClass)})}function m(){const x=e.params.pagination;if(l())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let E=e.pagination.el;E=Lt(E);let M="";if(x.type==="bullets"){let C=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>b&&(C=b);for(let R=0;R<C;R+=1)x.renderBullet?M+=x.renderBullet.call(e,R,x.bulletClass):M+=`<${x.bulletElement} ${e.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?M=x.renderFraction.call(e,x.currentClass,x.totalClass):M=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?M=x.renderProgressbar.call(e,x.progressbarFillClass):M=`<span class="${x.progressbarFillClass}"></span>`),e.pagination.bullets=[],E.forEach(C=>{x.type!=="custom"&&(C.innerHTML=M||""),x.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(al(x.bulletClass)))}),x.type!=="custom"&&r("paginationRender",E[0])}function g(){e.params.pagination=VN(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const x=e.params.pagination;if(!x.el)return;let b;typeof x.el=="string"&&e.isElement&&(b=e.el.querySelector(x.el)),!b&&typeof x.el=="string"&&(b=[...document.querySelectorAll(x.el)]),b||(b=x.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(x.el)],b.length>1&&(b=b.find(E=>FY(E,".swiper")[0]===e.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=Lt(b),b.forEach(E=>{x.type==="bullets"&&x.clickable&&E.classList.add(...(x.clickableClass||"").split(" ")),E.classList.add(x.modifierClass+x.type),E.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(E.classList.add(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&E.classList.add(x.progressbarOppositeClass),x.clickable&&E.addEventListener("click",d),e.enabled||E.classList.add(x.lockClass)}))}function y(){const x=e.params.pagination;if(l())return;let b=e.pagination.el;b&&(b=Lt(b),b.forEach(E=>{E.classList.remove(x.hiddenClass),E.classList.remove(x.modifierClass+x.type),E.classList.remove(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(E.classList.remove(...(x.clickableClass||"").split(" ")),E.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(E=>E.classList.remove(...x.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const x=e.params.pagination;let{el:b}=e.pagination;b=Lt(b),b.forEach(E=>{E.classList.remove(x.horizontalClass,x.verticalClass),E.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?v():(g(),m(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{m(),h()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:x}=e.pagination;x&&(x=Lt(x),x.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(x,b)=>{const E=b.target,M=Lt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&M&&M.length>0&&!E.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&E===e.navigation.nextEl||e.navigation.prevEl&&E===e.navigation.prevEl))return;const C=M[0].classList.contains(e.params.pagination.hiddenClass);r(C===!0?"paginationShow":"paginationHide"),M.forEach(R=>R.classList.toggle(e.params.pagination.hiddenClass))}});const _=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Lt(x),x.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),g(),m(),h()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Lt(x),x.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:_,disable:v,render:m,update:h,init:g,destroy:y})}function oNe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=Wo();let o=!1,a=null,l=null,c,u,d,h;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:z,rtlTranslate:U}=e,{dragEl:X,el:W}=z,K=e.params.scrollbar,j=e.params.loop?e.progressLoop:e.progress;let D=u,B=(d-u)*j;U?(B=-B,B>0?(D=u-B,B=0):-B+u>d&&(D=d+B)):B<0?(D=u+B,B=0):B+u>d&&(D=d-B),e.isHorizontal()?(X.style.transform=`translate3d(${B}px, 0, 0)`,X.style.width=`${D}px`):(X.style.transform=`translate3d(0px, ${B}px, 0)`,X.style.height=`${D}px`),K.hide&&(clearTimeout(a),W.style.opacity=1,a=setTimeout(()=>{W.style.opacity=0,W.style.transitionDuration="400ms"},1e3))}function g(z){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${z}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:z}=e,{dragEl:U,el:X}=z;U.style.width="",U.style.height="",d=e.isHorizontal()?X.offsetWidth:X.offsetHeight,h=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=d*h:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?U.style.width=`${u}px`:U.style.height=`${u}px`,h>=1?X.style.display="none":X.style.display="",e.params.scrollbar.hide&&(X.style.opacity=0),e.params.watchOverflow&&e.enabled&&z.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function _(z){return e.isHorizontal()?z.clientX:z.clientY}function v(z){const{scrollbar:U,rtlTranslate:X}=e,{el:W}=U;let K;K=(_(z)-O2e(W)[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(d-u),K=Math.max(Math.min(K,1),0),X&&(K=1-K);const j=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*K;e.updateProgress(j),e.setTranslate(j),e.updateActiveIndex(),e.updateSlidesClasses()}function x(z){const U=e.params.scrollbar,{scrollbar:X,wrapperEl:W}=e,{el:K,dragEl:j}=X;o=!0,c=z.target===j?_(z)-z.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,z.preventDefault(),z.stopPropagation(),W.style.transitionDuration="100ms",j.style.transitionDuration="100ms",v(z),clearTimeout(l),K.style.transitionDuration="0ms",U.hide&&(K.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",z)}function b(z){const{scrollbar:U,wrapperEl:X}=e,{el:W,dragEl:K}=U;o&&(z.preventDefault&&z.cancelable?z.preventDefault():z.returnValue=!1,v(z),X.style.transitionDuration="0ms",W.style.transitionDuration="0ms",K.style.transitionDuration="0ms",r("scrollbarDragMove",z))}function E(z){const U=e.params.scrollbar,{scrollbar:X,wrapperEl:W}=e,{el:K}=X;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",W.style.transitionDuration=""),U.hide&&(clearTimeout(l),l=xS(()=>{K.style.opacity=0,K.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",z),U.snapOnRelease&&e.slideToClosest())}function M(z){const{scrollbar:U,params:X}=e,W=U.el;if(!W)return;const K=W,j=X.passiveListeners?{passive:!1,capture:!1}:!1,D=X.passiveListeners?{passive:!0,capture:!1}:!1;if(!K)return;const B=z==="on"?"addEventListener":"removeEventListener";K[B]("pointerdown",x,j),s[B]("pointermove",b,j),s[B]("pointerup",E,D)}function C(){!e.params.scrollbar.el||!e.scrollbar.el||M("on")}function R(){!e.params.scrollbar.el||!e.scrollbar.el||M("off")}function k(){const{scrollbar:z,el:U}=e;e.params.scrollbar=VN(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const X=e.params.scrollbar;if(!X.el)return;let W;if(typeof X.el=="string"&&e.isElement&&(W=e.el.querySelector(X.el)),!W&&typeof X.el=="string"){if(W=s.querySelectorAll(X.el),!W.length)return}else W||(W=X.el);e.params.uniqueNavElements&&typeof X.el=="string"&&W.length>1&&U.querySelectorAll(X.el).length===1&&(W=U.querySelector(X.el)),W.length>0&&(W=W[0]),W.classList.add(e.isHorizontal()?X.horizontalClass:X.verticalClass);let K;W&&(K=W.querySelector(al(e.params.scrollbar.dragClass)),K||(K=Sp("div",e.params.scrollbar.dragClass),W.append(K))),Object.assign(z,{el:W,dragEl:K}),X.draggable&&C(),W&&W.classList[e.enabled?"remove":"add"](...vc(e.params.scrollbar.lockClass))}function I(){const z=e.params.scrollbar,U=e.scrollbar.el;U&&U.classList.remove(...vc(e.isHorizontal()?z.horizontalClass:z.verticalClass)),R()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const z=e.params.scrollbar;let{el:U}=e.scrollbar;U=Lt(U),U.forEach(X=>{X.classList.remove(z.horizontalClass,z.verticalClass),X.classList.add(e.isHorizontal()?z.horizontalClass:z.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?O():(k(),y(),m())}),i("update resize observerUpdate lock unlock changeDirection",()=>{y()}),i("setTranslate",()=>{m()}),i("setTransition",(z,U)=>{g(U)}),i("enable disable",()=>{const{el:z}=e.scrollbar;z&&z.classList[e.enabled?"remove":"add"](...vc(e.params.scrollbar.lockClass))}),i("destroy",()=>{I()});const P=()=>{e.el.classList.remove(...vc(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...vc(e.params.scrollbar.scrollbarDisabledClass)),k(),y(),m()},O=()=>{e.el.classList.add(...vc(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...vc(e.params.scrollbar.scrollbarDisabledClass)),I()};Object.assign(e.scrollbar,{enable:P,disable:O,updateSize:y,setTranslate:m,init:k,destroy:I})}function aNe(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function l(j){const D=r;D.length!==0&&(D.innerHTML="",D.innerHTML=j)}function c(j){const D=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(j).replace(/x/g,D)}function u(j){j=Lt(j),j.forEach(D=>{D.setAttribute("tabIndex","0")})}function d(j){j=Lt(j),j.forEach(D=>{D.setAttribute("tabIndex","-1")})}function h(j,D){j=Lt(j),j.forEach(B=>{B.setAttribute("role",D)})}function m(j,D){j=Lt(j),j.forEach(B=>{B.setAttribute("aria-roledescription",D)})}function g(j,D){j=Lt(j),j.forEach(B=>{B.setAttribute("aria-controls",D)})}function y(j,D){j=Lt(j),j.forEach(B=>{B.setAttribute("aria-label",D)})}function _(j,D){j=Lt(j),j.forEach(B=>{B.setAttribute("id",D)})}function v(j,D){j=Lt(j),j.forEach(B=>{B.setAttribute("aria-live",D)})}function x(j){j=Lt(j),j.forEach(D=>{D.setAttribute("aria-disabled",!0)})}function b(j){j=Lt(j),j.forEach(D=>{D.setAttribute("aria-disabled",!1)})}function E(j){if(j.keyCode!==13&&j.keyCode!==32)return;const D=e.params.a11y,B=j.target;if(!(e.pagination&&e.pagination.el&&(B===e.pagination.el||e.pagination.el.contains(j.target))&&!j.target.matches(al(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const $=Lt(e.navigation.prevEl);Lt(e.navigation.nextEl).includes(B)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(D.lastSlideMessage):l(D.nextSlideMessage)),$.includes(B)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(D.firstSlideMessage):l(D.prevSlideMessage))}e.pagination&&B.matches(al(e.params.pagination.bulletClass))&&B.click()}}function M(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:j,prevEl:D}=e.navigation;D&&(e.isBeginning?(x(D),d(D)):(b(D),u(D))),j&&(e.isEnd?(x(j),d(j)):(b(j),u(j)))}function C(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function R(){return C()&&e.params.pagination.clickable}function k(){const j=e.params.a11y;C()&&e.pagination.bullets.forEach(D=>{e.params.pagination.clickable&&(u(D),e.params.pagination.renderBullet||(h(D,"button"),y(D,j.paginationBulletMessage.replace(/\{\{index\}\}/,py(D)+1)))),D.matches(al(e.params.pagination.bulletActiveClass))?D.setAttribute("aria-current","true"):D.removeAttribute("aria-current")})}const I=(j,D,B)=>{u(j),j.tagName!=="BUTTON"&&(h(j,"button"),j.addEventListener("keydown",E)),y(j,B),g(j,D)},P=j=>{o&&o!==j.target&&!o.contains(j.target)&&(s=!0),e.a11y.clicked=!0},O=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},z=j=>{a=new Date().getTime()},U=j=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const D=j.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!D||!e.slides.includes(D))return;o=D;const B=e.slides.indexOf(D)===e.activeIndex,$=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(D);B||$||j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt(D.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(D),0),s=!1)}))},X=()=>{const j=e.params.a11y;j.itemRoleDescriptionMessage&&m(e.slides,j.itemRoleDescriptionMessage),j.slideRole&&h(e.slides,j.slideRole);const D=e.slides.length;j.slideLabelMessage&&e.slides.forEach((B,$)=>{const J=e.params.loop?parseInt(B.getAttribute("data-swiper-slide-index"),10):$,ce=j.slideLabelMessage.replace(/\{\{index\}\}/,J+1).replace(/\{\{slidesLength\}\}/,D);y(B,ce)})},W=()=>{const j=e.params.a11y;e.el.append(r);const D=e.el;j.containerRoleDescriptionMessage&&m(D,j.containerRoleDescriptionMessage),j.containerMessage&&y(D,j.containerMessage),j.containerRole&&h(D,j.containerRole);const B=e.wrapperEl,$=j.id||B.getAttribute("id")||`swiper-wrapper-${c(16)}`,J=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";_(B,$),v(B,J),X();let{nextEl:ce,prevEl:Ne}=e.navigation?e.navigation:{};ce=Lt(ce),Ne=Lt(Ne),ce&&ce.forEach(pe=>I(pe,$,j.nextSlideMessage)),Ne&&Ne.forEach(pe=>I(pe,$,j.prevSlideMessage)),R()&&Lt(e.pagination.el).forEach(Ee=>{Ee.addEventListener("keydown",E)}),Wo().addEventListener("visibilitychange",z),e.el.addEventListener("focus",U,!0),e.el.addEventListener("focus",U,!0),e.el.addEventListener("pointerdown",P,!0),e.el.addEventListener("pointerup",O,!0)};function K(){r&&r.remove();let{nextEl:j,prevEl:D}=e.navigation?e.navigation:{};j=Lt(j),D=Lt(D),j&&j.forEach($=>$.removeEventListener("keydown",E)),D&&D.forEach($=>$.removeEventListener("keydown",E)),R()&&Lt(e.pagination.el).forEach(J=>{J.removeEventListener("keydown",E)}),Wo().removeEventListener("visibilitychange",z),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",U,!0),e.el.removeEventListener("pointerdown",P,!0),e.el.removeEventListener("pointerup",O,!0))}i("beforeInit",()=>{r=Sp("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&W()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&X()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&M()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&k()}),i("destroy",()=>{e.params.a11y.enabled&&K()})}const lNe=({reviews:t})=>w.jsx(YY,{modules:[rNe,sNe,oNe,aNe],spaceBetween:50,slidesPerView:3,pagination:{clickable:!0},scrollbar:{draggable:!0},onSwiper:e=>console.log(e),onSlideChange:()=>console.log("slide change"),className:"review-carousel",children:t.map((e,n)=>w.jsx(KY,{className:"review-card",children:w.jsxs("div",{className:"review-card-content",children:[w.jsx("img",{src:e.imageUrl,alt:"item picture",className:"review-card-picture"}),w.jsxs("div",{className:"review-info",children:[w.jsx("h2",{className:"review-name",children:e.name}),w.jsx("h3",{className:"review-rating",children:"★".repeat(e.rating)}),w.jsx("p",{className:"review-description",children:e.description})]})]})},n))}),cNe=L.forwardRef(function(e,n){const{label:i,...r}=e;return w.jsxs(wce,{...r,unstyled:!0,ref:n,children:[i&&w.jsx(Ece,{children:i}),w.jsxs(Dce,{gap:"2",children:[w.jsx(uNe,{}),w.jsx(Mce,{textAlign:"center",fontSize:"lg",minW:"3ch"}),w.jsx(dNe,{})]})]})}),uNe=L.forwardRef(function(e,n){return w.jsx(Cce,{...e,asChild:!0,ref:n,children:w.jsx(Ps,{variant:"outline",size:"sm",children:w.jsx(eue,{})})})}),dNe=L.forwardRef(function(e,n){return w.jsx(Tce,{...e,asChild:!0,ref:n,children:w.jsx(Ps,{variant:"outline",size:"sm",children:w.jsx(iue,{})})})}),fNe=()=>{const{user:t}=L.useContext(ru),e=ho(),{imageUrl:n,price:i,title:r,description:s,orange:o,blue:a,black:l,grey:c}=e.state||{},[u,d]=L.useState(l||[]),[h,m]=L.useState(u[0]||n),[g,y]=L.useState("black"),[_,v]=L.useState("S"),[x,b]=L.useState(1),E=(R,k)=>{d(R),m(R[0]),y(k)},M=[{imageUrl:"/BPA-435-Project/images/review1.jpg",name:"David Weis",rating:5,description:"“I’ve never been more impressed with a product – it works perfectly and looks amazing!”"},{imageUrl:"/BPA-435-Project/images/review2.jpg",name:"John Doe",rating:5,description:"“This product has completely exceeded my expectations, offering both quality and great value.”"},{imageUrl:"/BPA-435-Project/images/review3.jpg",name:"Jane Smith",rating:5,description:"“I can’t believe how much this has improved my daily routine – truly a game-changer!”"}];return w.jsxs("div",{style:{paddingTop:"100px"},children:[w.jsx(s0,{}),w.jsxs("div",{className:"product-container",children:[w.jsxs("div",{className:"product-images-container",children:[w.jsx("div",{className:"add-images",children:u.map((R,k)=>w.jsx("button",{className:"add-images-btn",onClick:()=>m(R),children:w.jsx("img",{src:R,alt:`Additional image ${k}`,className:"add-images-img"})},k))}),w.jsx("div",{className:"main-image",children:w.jsx("img",{src:h,alt:r,className:"main-image-img"})})]}),w.jsxs("div",{className:"product-details-container",children:[w.jsx("h2",{className:"product-title",children:r}),w.jsx("p",{className:"product-description",children:s}),w.jsx("div",{className:"divider"}),r&&!r.toLowerCase().includes("vinyl")&&w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"product-color-title",children:"Color"}),w.jsxs("div",{className:"color-options",children:[w.jsx("button",{className:`color-btn ${g==="black"?"selected":""}`,style:{backgroundColor:"#010B13"},onClick:()=>E(l,"black")}),w.jsx("button",{className:`color-btn ${g==="grey"?"selected":""}`,style:{backgroundColor:"#bac2bc"},onClick:()=>E(c,"grey")}),w.jsx("button",{className:`color-btn ${g==="orange"?"selected":""}`,style:{backgroundColor:"#FF4500"},onClick:()=>E(o,"orange")}),w.jsx("button",{className:`color-btn ${g==="blue"?"selected":""}`,style:{backgroundColor:"#225b9c"},onClick:()=>E(a,"blue")})]})]}),r&&!r.toLowerCase().includes("vinyl")&&w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"product-size-title",children:"Size"}),w.jsxs("div",{className:"size-options",children:[w.jsx("button",{className:"size-btn",style:{fontWeight:_==="S"?"bold":"normal",outline:_==="S"?"none":"",boxShadow:_==="S"?"0 0 0 2px #FF6B6B":""},onClick:()=>v("S"),children:"S"}),w.jsx("button",{className:"size-btn",style:{fontWeight:_==="M"?"bold":"normal",outline:_==="M"?"none":"",boxShadow:_==="M"?"0 0 0 2px #FF6B6B":""},onClick:()=>v("M"),children:"M"}),w.jsx("button",{className:"size-btn",style:{fontWeight:_==="L"?"bold":"normal",outline:_==="L"?"none":"",boxShadow:_==="L"?"0 0 0 2px #FF6B6B":""},onClick:()=>v("L"),children:"L"}),w.jsx("button",{className:"size-btn",style:{fontWeight:_==="XL"?"bold":"normal",outline:_==="XL"?"none":"",boxShadow:_==="XL"?"0 0 0 2px #FF6B6B":""},onClick:()=>v("XL"),children:"XL"})]})]})]}),w.jsxs("div",{className:"checkout-container",children:[w.jsxs("h2",{className:"product-price",children:["$",i]}),w.jsx("p",{className:"product-price-note",children:"Price When Purchased Online"}),w.jsx("p",{className:"product-return-policy",children:"Free 90 Day Returns"}),w.jsx("p",{className:"product-seller",children:"Sold by Stage Fright TM"}),w.jsx("h3",{className:"quantity-title",children:"Quantity:"}),w.jsxs("div",{children:[w.jsx("span",{className:"sub2",children:"Quantity:"}),w.jsx(cNe,{defaultValue:"1",onValueChange:({value:R})=>b(Math.max(1,Number(R))),value:x.toString()})]}),w.jsx("button",{className:"add-to-cart-btn",onClick:C,children:"Add to Cart"})]})]}),w.jsxs("div",{className:"review_container",children:[w.jsx("h2",{style:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginBottom:"30px",color:"#fff",textTransform:"uppercase",letterSpacing:"2px"},children:"What Our Fans Say"}),w.jsx(lNe,{reviews:M})]})]});function C(){const R=ao();if(t&&t.email){const k=Fi(R,"users/"+t.email.replace(".",",")+"/cart/"),I=h.split("/").slice(2).join("/");Rb(k,{title:r,Size:_,color:g,imageUrl:I,price:i,description:s,quantity:x}),Vt.success(`${r} has been added to your cart!`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else Vt.error("Please login to add items to your cart!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}};function hNe(t){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(t)}const pNe=()=>{const{user:t}=L.useContext(ru),e=ho(),{address:n,place:i,price:r,startDate:s,endDate:o,mapData:a}=e.state||{},[l,c]=L.useState(new Array(30).fill({status:"none"})),[u,d]=L.useState(!1),[h,m]=L.useState(!1),[g,y]=L.useState(!1),[_,v]=L.useState(0);L.useEffect(()=>{E()},[l,u,h,g]),L.useEffect(()=>{const C=ao(),R=Fi(C,`/${i}/`);vd(R).then(k=>{if(k.exists()){const P=k.val().map(O=>({status:O?"booked":"none"}));c(P)}}).catch(k=>{console.error("Error fetching booked seats:",k)})},[]);const x=C=>{const R=[...l];R[C].status==="none"?R[C].status="selected":R[C].status==="selected"&&(R[C].status="none"),c(R)},b=C=>{const k="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(C/10)],I=C%10+1;return`${k}${I}`},E=()=>{const C=l.filter(R=>R.status==="selected");v(C.length*r+(u?50:0)+(h?100:0)+(g?75:0))};return w.jsxs("div",{children:[w.jsx(s0,{}),w.jsxs("div",{className:"tour-opener-container",children:[w.jsx("div",{className:"hero",children:w.jsxs("div",{className:"hero-overlay",children:[w.jsx("h1",{children:"Stage Fright Tour"}),w.jsxs("p",{children:["Experience an unforgettable night of music at ",i]})]})}),w.jsxs("main",{className:"tour-main",children:[w.jsxs("section",{className:"card",children:[w.jsx("h2",{children:"Event Details:"}),w.jsxs("h3",{className:"event-det",children:[w.jsxs("strong",{children:[w.jsx(uF,{}),"Start Date:"]})," ",s instanceof Date?s.toLocaleDateString():s]}),w.jsxs("h3",{className:"event-det",children:[w.jsxs("strong",{children:[" ",w.jsx(uF,{}),"End Date:"]})," ",o instanceof Date?o.toLocaleDateString():o]}),w.jsxs("h3",{className:"event-det",children:[w.jsxs("strong",{children:[w.jsx(hNe,{}),"Address:"]})," ",n]})]}),w.jsxs("section",{className:"card",children:[w.jsx("h2",{children:"Location:"}),w.jsx("iframe",{src:a,width:"100%",height:"100%",className:"map",allowFullScreen:!0,loading:"lazy"})]})]})]}),w.jsx("div",{className:"center",children:w.jsxs("div",{className:"tickets",style:{overflowX:"hidden"},children:[w.jsxs("div",{className:"ticket-selector",children:[w.jsx("div",{className:"head",children:w.jsxs("div",{className:"title_tour",children:["Seating at ",i]})}),w.jsx("div",{className:"screen",children:w.jsx("div",{className:"screen-text",children:"Concert Stage"})}),w.jsxs("div",{className:"seats",children:[w.jsxs("div",{className:"status",children:[w.jsx("div",{className:"item",children:"Available"}),w.jsx("div",{className:"item",children:"Booked"}),w.jsx("div",{className:"item",children:"Selected"})]}),w.jsx("div",{className:"all-seats",children:l.map((C,R)=>w.jsx("div",{className:"seat-container",children:w.jsx("div",{className:`seat ${C.status}`,onClick:()=>{x(R),E()},children:b(R)})},R))})]}),w.jsxs("div",{className:"vip-options",children:[w.jsx("h3",{children:"VIP Pass Options"}),w.jsxs("div",{className:"vip-item",onClick:()=>{const C=document.getElementById("vip1");C.checked=!C.checked,d(C.checked),E()},children:[w.jsx("input",{type:"checkbox",id:"vip1",onChange:C=>{d(C.target.checked),E()}}),w.jsx("label",{htmlFor:"vip1",children:"VIP Meet and Greet"})]}),w.jsxs("div",{className:"vip-item",onClick:()=>{const C=document.getElementById("vip2");C.checked=!C.checked,m(C.checked),E()},children:[w.jsx("input",{type:"checkbox",id:"vip2",onChange:C=>{m(C.target.checked),E()}}),w.jsx("label",{htmlFor:"vip2",children:"VIP Backstage Access"})]}),w.jsxs("div",{className:"vip-item",onClick:()=>{const C=document.getElementById("vip3");C.checked=!C.checked,y(C.checked),E()},children:[w.jsx("input",{type:"checkbox",id:"vip3",onChange:C=>{y(C.target.checked),E()}}),w.jsx("label",{htmlFor:"vip3",children:"VIP Lounge Access"})]})]})]}),w.jsxs("div",{className:"price_tour",children:[w.jsxs("div",{className:"total",children:[w.jsxs("span",{children:[w.jsx("span",{className:"count",children:l.filter(C=>C).length})," Tickets"]}),w.jsxs("div",{className:"amount",children:["$",_]})]}),w.jsx("button",{type:"button",onClick:M,children:"Book"})]})]})}),w.jsx(jl,{})]});function M(){const C=ao();if(t&&t.email){const R=Fi(C,"users/"+t.email.replace(".",",")+"/tours/");Rb(R,{place:i,startDate:s instanceof Date?s.toISOString().split("T")[0]:s,endDate:o instanceof Date?o.toISOString().split("T")[0]:o,address:n,realPrice:_,quantity:1,selectedSeats:l.map((k,I)=>k.status==="selected"?I:null).filter(k=>k!==null),backstage:h,lounge:g,meet:u}),Vt.success(`${i} has been added to your cart!`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else Vt.error("Please login to add items to your cart!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}};function mNe(){const[t,e]=L.useState(!1),{user:n,loginStatus:i,handleEmailChange:r,handlePasswordChange:s,handleLogin:o}=hp();return w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontSize:"1.2em",fontFamily:"Sansation",fontWeight:700},children:[w.jsxs("form",{style:{display:"flex",flexDirection:"column",width:"400px",padding:"30px",border:"1px solid #ccc",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.1)"},children:[w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"10px"},children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:r})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"10px"},children:"Password:"}),w.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[w.jsx("input",{type:"password",id:"password",name:"password",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box",paddingRight:"40px"},onChange:s}),w.jsx(Ps,{onClick:()=>{const a=document.getElementById("password");a&&a.type==="password"?(a.type="text",e(!0)):(a.type="password",e(!1))},backgroundColor:"transparent",color:"white",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:t?w.jsx(r0e,{}):w.jsx(RA,{})})]})]}),w.jsx("button",{onClick:a=>{a.preventDefault(),o()},type:"submit",style:{padding:"15px",backgroundColor:"#E9204F",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1em"},children:"Login"})]}),n&&w.jsx(J8,{to:"/"}),w.jsxs("p",{style:{marginTop:"30px",fontSize:"1em"},children:["Don't have an account? ",w.jsx(Qn,{to:"/signup",style:{color:"#007BFF"},children:"Sign up"})]}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:i})]})}function xU(t){return Ci({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(t)}function gNe(){const[t,e]=L.useState(""),[n,i]=L.useState(!1),[r,s]=L.useState(!1),{email:o,password:a,user:l,Name:c,setName:u,Phone:d,setPhone:h,DateOfBirth:m,setDateOfBirth:g,createAccountStatus:y,handleEmailChange:_,handlePasswordChange:v,handleCreateAccount:x,handleLogin:b}=hp();return w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontSize:"1.2em",marginTop:"150px",fontFamily:"Sansation",fontWeight:700},children:[w.jsxs("form",{style:{display:"flex",flexDirection:"column",width:"400px",padding:"30px",border:"1px solid #ccc",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.1)"},children:[w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"name",style:{display:"block",marginBottom:"10px"},children:"Name:"}),w.jsx("input",{type:"text",id:"name",name:"name",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:M=>u(M.target.value)})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"10px"},children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:_})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"dob",style:{display:"block",marginBottom:"10px"},children:"Date of Birth:"}),w.jsx("input",{type:"date",id:"dob",name:"dob",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:M=>g(M.target.value)})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"phone",style:{display:"block",marginBottom:"10px"},children:"Phone (optional):"}),w.jsx("input",{type:"tel",id:"phone",name:"phone",style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:M=>h(M.target.value)})]}),a.length<8&&w.jsx("div",{style:{marginBottom:"20px",color:"red",fontSize:"0.9em"},children:"Password must be at least 8 characters long."}),a!==t&&w.jsx("div",{style:{marginBottom:"20px",color:"red",fontSize:"0.9em"},children:"Passwords do not match."}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"10px"},children:"Password:"}),w.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[w.jsx("input",{type:"password",id:"password",name:"password",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:v}),w.jsx(Ps,{onClick:()=>{const M=document.getElementById("password");M&&M.type==="password"?(M.type="text",i(!0)):(M.type="password",i(!1))},backgroundColor:"transparent",color:"White",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:n?w.jsx(xU,{}):w.jsx(RA,{})})]})]}),w.jsxs("div",{style:{marginBottom:"20px"},children:[w.jsx("label",{htmlFor:"confirmPassword",style:{display:"block",marginBottom:"10px"},children:"Confirm Password:"}),w.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[w.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,style:{width:"100%",padding:"12px",boxSizing:"border-box"},onChange:M=>e(M.target.value)}),w.jsx(Ps,{onClick:()=>{const M=document.getElementById("confirmPassword");M&&M.type==="password"?(M.type="text",s(!0)):(M.type="password",s(!1))},backgroundColor:"transparent",color:"White",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:r?w.jsx(xU,{}):w.jsx(RA,{})})]})]}),w.jsx("button",{type:"submit",style:{padding:"15px",backgroundColor:"#E9204F",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1em"},onClick:M=>{E(),x(),b(),e(""),M.preventDefault()},children:"Sign Up"})]}),l&&w.jsx(J8,{to:"/"}),w.jsxs("p",{style:{marginTop:"30px",fontSize:"1em"},children:["Already have an account? ",w.jsx(Qn,{to:"/login",style:{color:"#007BFF"},children:"Login"})]}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:y}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:o}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:a}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:y}),w.jsx("p",{style:{marginTop:"30px",fontSize:"1em"},children:y})]});function E(){const M=ao(),C=Fi(M,"users/"+o.replace(".",","));dk(C,{email:o,Name:c,Phone:d,DateOfBirth:m,Cart:{}})}}function JY(t,e){return function(){return t.apply(e,arguments)}}const{toString:vNe}=Object.prototype,{getPrototypeOf:jN}=Object,uE=(t=>e=>{const n=vNe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xo=t=>(t=t.toLowerCase(),e=>uE(e)===t),dE=t=>e=>typeof e===t,{isArray:qp}=Array,my=dE("undefined");function yNe(t){return t!==null&&!my(t)&&t.constructor!==null&&!my(t.constructor)&&Rs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QY=Xo("ArrayBuffer");function xNe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QY(t.buffer),e}const _Ne=dE("string"),Rs=dE("function"),ZY=dE("number"),fE=t=>t!==null&&typeof t=="object",bNe=t=>t===!0||t===!1,T1=t=>{if(uE(t)!=="object")return!1;const e=jN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},SNe=Xo("Date"),wNe=Xo("File"),ENe=Xo("Blob"),TNe=Xo("FileList"),CNe=t=>fE(t)&&Rs(t.pipe),MNe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rs(t.append)&&((e=uE(t))==="formdata"||e==="object"&&Rs(t.toString)&&t.toString()==="[object FormData]"))},PNe=Xo("URLSearchParams"),[ANe,INe,RNe,kNe]=["ReadableStream","Request","Response","Headers"].map(Xo),NNe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function o0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),qp(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function eK(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const hd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tK=t=>!my(t)&&t!==hd;function wI(){const{caseless:t}=tK(this)&&this||{},e={},n=(i,r)=>{const s=t&&eK(e,r)||r;T1(e[s])&&T1(i)?e[s]=wI(e[s],i):T1(i)?e[s]=wI({},i):qp(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&o0(arguments[i],n);return e}const LNe=(t,e,n,{allOwnKeys:i}={})=>(o0(e,(r,s)=>{n&&Rs(r)?t[s]=JY(r,n):t[s]=r},{allOwnKeys:i}),t),DNe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ONe=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FNe=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&jN(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zNe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},BNe=t=>{if(!t)return null;if(qp(t))return t;let e=t.length;if(!ZY(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UNe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&jN(Uint8Array)),VNe=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},jNe=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},HNe=Xo("HTMLFormElement"),WNe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),_U=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GNe=Xo("RegExp"),nK=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};o0(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},$Ne=t=>{nK(t,(e,n)=>{if(Rs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Rs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},qNe=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return qp(t)?i(t):i(String(t).split(e)),n},XNe=()=>{},YNe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,$M="abcdefghijklmnopqrstuvwxyz",bU="0123456789",iK={DIGIT:bU,ALPHA:$M,ALPHA_DIGIT:$M+$M.toUpperCase()+bU},KNe=(t=16,e=iK.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function JNe(t){return!!(t&&Rs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const QNe=t=>{const e=new Array(10),n=(i,r)=>{if(fE(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=qp(i)?[]:{};return o0(i,(o,a)=>{const l=n(o,r+1);!my(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},ZNe=Xo("AsyncFunction"),eLe=t=>t&&(fE(t)||Rs(t))&&Rs(t.then)&&Rs(t.catch),rK=((t,e)=>t?setImmediate:e?((n,i)=>(hd.addEventListener("message",({source:r,data:s})=>{r===hd&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),hd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rs(hd.postMessage)),tLe=typeof queueMicrotask<"u"?queueMicrotask.bind(hd):typeof process<"u"&&process.nextTick||rK,de={isArray:qp,isArrayBuffer:QY,isBuffer:yNe,isFormData:MNe,isArrayBufferView:xNe,isString:_Ne,isNumber:ZY,isBoolean:bNe,isObject:fE,isPlainObject:T1,isReadableStream:ANe,isRequest:INe,isResponse:RNe,isHeaders:kNe,isUndefined:my,isDate:SNe,isFile:wNe,isBlob:ENe,isRegExp:GNe,isFunction:Rs,isStream:CNe,isURLSearchParams:PNe,isTypedArray:UNe,isFileList:TNe,forEach:o0,merge:wI,extend:LNe,trim:NNe,stripBOM:DNe,inherits:ONe,toFlatObject:FNe,kindOf:uE,kindOfTest:Xo,endsWith:zNe,toArray:BNe,forEachEntry:VNe,matchAll:jNe,isHTMLForm:HNe,hasOwnProperty:_U,hasOwnProp:_U,reduceDescriptors:nK,freezeMethods:$Ne,toObjectSet:qNe,toCamelCase:WNe,noop:XNe,toFiniteNumber:YNe,findKey:eK,global:hd,isContextDefined:tK,ALPHABET:iK,generateString:KNe,isSpecCompliantForm:JNe,toJSONObject:QNe,isAsyncFn:ZNe,isThenable:eLe,setImmediate:rK,asap:tLe};function Ct(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}de.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const sK=Ct.prototype,oK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oK[t]={value:t}});Object.defineProperties(Ct,oK);Object.defineProperty(sK,"isAxiosError",{value:!0});Ct.from=(t,e,n,i,r,s)=>{const o=Object.create(sK);return de.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ct.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const nLe=null;function EI(t){return de.isPlainObject(t)||de.isArray(t)}function aK(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function SU(t,e,n){return t?t.concat(e).map(function(r,s){return r=aK(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function iLe(t){return de.isArray(t)&&!t.some(EI)}const rLe=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function hE(t,e,n){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!de.isUndefined(_[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(de.isDate(g))return g.toISOString();if(!l&&de.isBlob(g))throw new Ct("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(g)||de.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,_){let v=g;if(g&&!_&&typeof g=="object"){if(de.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(de.isArray(g)&&iLe(g)||(de.isFileList(g)||de.endsWith(y,"[]"))&&(v=de.toArray(g)))return y=aK(y),v.forEach(function(b,E){!(de.isUndefined(b)||b===null)&&e.append(o===!0?SU([y],E,s):o===null?y:y+"[]",c(b))}),!1}return EI(g)?!0:(e.append(SU(_,y,s),c(g)),!1)}const d=[],h=Object.assign(rLe,{defaultVisitor:u,convertValue:c,isVisitable:EI});function m(g,y){if(!de.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),de.forEach(g,function(v,x){(!(de.isUndefined(v)||v===null)&&r.call(e,v,de.isString(x)?x.trim():x,y,h))===!0&&m(v,y?y.concat(x):[x])}),d.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return m(t),e}function wU(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function HN(t,e){this._pairs=[],t&&hE(t,this,e)}const lK=HN.prototype;lK.append=function(e,n){this._pairs.push([e,n])};lK.toString=function(e){const n=e?function(i){return e.call(this,i,wU)}:wU;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function sLe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cK(t,e,n){if(!e)return t;const i=n&&n.encode||sLe;de.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=de.isURLSearchParams(e)?e.toString():new HN(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class EU{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(i){i!==null&&e(i)})}}const uK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oLe=typeof URLSearchParams<"u"?URLSearchParams:HN,aLe=typeof FormData<"u"?FormData:null,lLe=typeof Blob<"u"?Blob:null,cLe={isBrowser:!0,classes:{URLSearchParams:oLe,FormData:aLe,Blob:lLe},protocols:["http","https","file","blob","url","data"]},WN=typeof window<"u"&&typeof document<"u",TI=typeof navigator=="object"&&navigator||void 0,uLe=WN&&(!TI||["ReactNative","NativeScript","NS"].indexOf(TI.product)<0),dLe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fLe=WN&&window.location.href||"http://localhost",hLe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WN,hasStandardBrowserEnv:uLe,hasStandardBrowserWebWorkerEnv:dLe,navigator:TI,origin:fLe},Symbol.toStringTag,{value:"Module"})),vr={...hLe,...cLe};function pLe(t,e){return hE(t,new vr.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return vr.isNode&&de.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function mLe(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gLe(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function dK(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&de.isArray(r)?r.length:o,l?(de.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!de.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&de.isArray(r[o])&&(r[o]=gLe(r[o])),!a)}if(de.isFormData(t)&&de.isFunction(t.entries)){const n={};return de.forEachEntry(t,(i,r)=>{e(mLe(i),r,n,0)}),n}return null}function vLe(t,e,n){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(t)}const a0={transitional:uK,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=de.isObject(e);if(s&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return r?JSON.stringify(dK(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return pLe(e,this.formSerializer).toString();if((a=de.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hE(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),vLe(e)):e}],transformResponse:[function(e){const n=this.transitional||a0.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ct.from(a,Ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vr.classes.FormData,Blob:vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{a0.headers[t]={}});const yLe=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xLe=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&yLe[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},TU=Symbol("internals");function ig(t){return t&&String(t).trim().toLowerCase()}function C1(t){return t===!1||t==null?t:de.isArray(t)?t.map(C1):String(t)}function _Le(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const bLe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qM(t,e,n,i,r){if(de.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!de.isString(e)){if(de.isString(i))return e.indexOf(i)!==-1;if(de.isRegExp(i))return i.test(e)}}function SLe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function wLe(t,e){const n=de.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class os{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=ig(l);if(!u)throw new Error("header name must be a non-empty string");const d=de.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=C1(a))}const o=(a,l)=>de.forEach(a,(c,u)=>s(c,u,l));if(de.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(de.isString(e)&&(e=e.trim())&&!bLe(e))o(xLe(e),n);else if(de.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=ig(e),e){const i=de.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return _Le(r);if(de.isFunction(n))return n.call(this,r,i);if(de.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ig(e),e){const i=de.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||qM(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=ig(o),o){const a=de.findKey(i,o);a&&(!n||qM(i,i[a],a,n))&&(delete i[a],r=!0)}}return de.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||qM(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return de.forEach(this,(r,s)=>{const o=de.findKey(i,s);if(o){n[o]=C1(r),delete n[s];return}const a=e?SLe(s):String(s).trim();a!==s&&delete n[s],n[a]=C1(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return de.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&de.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[TU]=this[TU]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=ig(o);i[a]||(wLe(r,o),i[a]=!0)}return de.isArray(e)?e.forEach(s):s(e),this}}os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(os.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});de.freezeMethods(os);function XM(t,e){const n=this||a0,i=e||n,r=os.from(i.headers);let s=i.data;return de.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function fK(t){return!!(t&&t.__CANCEL__)}function Xp(t,e,n){Ct.call(this,t??"canceled",Ct.ERR_CANCELED,e,n),this.name="CanceledError"}de.inherits(Xp,Ct,{__CANCEL__:!0});function hK(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ct("Request failed with status code "+n.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ELe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TLe(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=n[d++],d=d%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function CLe(t,e){let n=0,i=1e3/e,r,s;const o=(c,u=Date.now())=>{n=u,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const wS=(t,e,n=3)=>{let i=0;const r=TLe(50,250);return CLe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},CU=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},MU=t=>(...e)=>de.asap(()=>t(...e)),MLe=vr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,vr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(vr.origin),vr.navigator&&/(msie|trident)/i.test(vr.navigator.userAgent)):()=>!0,PLe=vr.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];de.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),de.isString(i)&&o.push("path="+i),de.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ALe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ILe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function pK(t,e){return t&&!ALe(e)?ILe(t,e):e}const PU=t=>t instanceof os?{...t}:t;function Gd(t,e){e=e||{};const n={};function i(c,u,d,h){return de.isPlainObject(c)&&de.isPlainObject(u)?de.merge.call({caseless:h},c,u):de.isPlainObject(u)?de.merge({},u):de.isArray(u)?u.slice():u}function r(c,u,d,h){if(de.isUndefined(u)){if(!de.isUndefined(c))return i(void 0,c,d,h)}else return i(c,u,d,h)}function s(c,u){if(!de.isUndefined(u))return i(void 0,u)}function o(c,u){if(de.isUndefined(u)){if(!de.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(PU(c),PU(u),d,!0)};return de.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||r,h=d(t[u],e[u],u);de.isUndefined(h)&&d!==a||(n[u]=h)}),n}const mK=t=>{const e=Gd({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=os.from(o),e.url=cK(pK(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(de.isFormData(n)){if(vr.hasStandardBrowserEnv||vr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(vr.hasStandardBrowserEnv&&(i&&de.isFunction(i)&&(i=i(e)),i||i!==!1&&MLe(e.url))){const c=r&&s&&PLe.read(s);c&&o.set(r,c)}return e},RLe=typeof XMLHttpRequest<"u",kLe=RLe&&function(t){return new Promise(function(n,i){const r=mK(t);let s=r.data;const o=os.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,h,m,g;function y(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function v(){if(!_)return;const b=os.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:b,config:t,request:_};hK(function(R){n(R),y()},function(R){i(R),y()},M),_=null}"onloadend"in _?_.onloadend=v:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(v)},_.onabort=function(){_&&(i(new Ct("Request aborted",Ct.ECONNABORTED,t,_)),_=null)},_.onerror=function(){i(new Ct("Network Error",Ct.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const M=r.transitional||uK;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),i(new Ct(E,M.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,t,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&de.forEach(o.toJSON(),function(E,M){_.setRequestHeader(M,E)}),de.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),a&&a!=="json"&&(_.responseType=r.responseType),c&&([h,g]=wS(c,!0),_.addEventListener("progress",h)),l&&_.upload&&([d,m]=wS(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=b=>{_&&(i(!b||b.type?new Xp(null,t,_):b),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const x=ELe(r.url);if(x&&vr.protocols.indexOf(x)===-1){i(new Ct("Unsupported protocol "+x+":",Ct.ERR_BAD_REQUEST,t));return}_.send(s||null)})},NLe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof Ct?u:new Xp(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new Ct(`timeout ${e} of ms exceeded`,Ct.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>de.asap(a),l}},LLe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},DLe=async function*(t,e){for await(const n of OLe(t))yield*LLe(n,e)},OLe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},AU=(t,e,n,i)=>{const r=DLe(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},pE=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gK=pE&&typeof ReadableStream=="function",FLe=pE&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vK=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zLe=gK&&vK(()=>{let t=!1;const e=new Request(vr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),IU=64*1024,CI=gK&&vK(()=>de.isReadableStream(new Response("").body)),ES={stream:CI&&(t=>t.body)};pE&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ES[e]&&(ES[e]=de.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ct(`Response type '${e}' is not supported`,Ct.ERR_NOT_SUPPORT,i)})})})(new Response);const BLe=async t=>{if(t==null)return 0;if(de.isBlob(t))return t.size;if(de.isSpecCompliantForm(t))return(await new Request(vr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(de.isArrayBufferView(t)||de.isArrayBuffer(t))return t.byteLength;if(de.isURLSearchParams(t)&&(t=t+""),de.isString(t))return(await FLe(t)).byteLength},ULe=async(t,e)=>{const n=de.toFiniteNumber(t.getContentLength());return n??BLe(e)},VLe=pE&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=mK(t);c=c?(c+"").toLowerCase():"text";let m=NLe([r,s&&s.toAbortSignal()],o),g;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(l&&zLe&&n!=="get"&&n!=="head"&&(_=await ULe(u,i))!==0){let M=new Request(e,{method:"POST",body:i,duplex:"half"}),C;if(de.isFormData(i)&&(C=M.headers.get("content-type"))&&u.setContentType(C),M.body){const[R,k]=CU(_,wS(MU(l)));i=AU(M.body,IU,R,k)}}de.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:v?d:void 0});let x=await fetch(g);const b=CI&&(c==="stream"||c==="response");if(CI&&(a||b&&y)){const M={};["status","statusText","headers"].forEach(I=>{M[I]=x[I]});const C=de.toFiniteNumber(x.headers.get("content-length")),[R,k]=a&&CU(C,wS(MU(a),!0))||[];x=new Response(AU(x.body,IU,R,()=>{k&&k(),y&&y()}),M)}c=c||"text";let E=await ES[de.findKey(ES,c)||"text"](x,t);return!b&&y&&y(),await new Promise((M,C)=>{hK(M,C,{data:E,headers:os.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:g})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,t,g),{cause:v.cause||v}):Ct.from(v,v&&v.code,t,g)}}),MI={http:nLe,xhr:kLe,fetch:VLe};de.forEach(MI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const RU=t=>`- ${t}`,jLe=t=>de.isFunction(t)||t===null||t===!1,yK={getAdapter:t=>{t=de.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!jLe(n)&&(i=MI[(o=String(n)).toLowerCase()],i===void 0))throw new Ct(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(RU).join(`
`):" "+RU(s[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:MI};function YM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xp(null,t)}function kU(t){return YM(t),t.headers=os.from(t.headers),t.data=XM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yK.getAdapter(t.adapter||a0.adapter)(t).then(function(i){return YM(t),i.data=XM.call(t,t.transformResponse,i),i.headers=os.from(i.headers),i},function(i){return fK(i)||(YM(t),i&&i.response&&(i.response.data=XM.call(t,t.transformResponse,i.response),i.response.headers=os.from(i.response.headers))),Promise.reject(i)})}const xK="1.7.9",mE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mE[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const NU={};mE.transitional=function(e,n,i){function r(s,o){return"[Axios v"+xK+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Ct(r(o," has been removed"+(n?" in "+n:"")),Ct.ERR_DEPRECATED);return n&&!NU[o]&&(NU[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};mE.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function HLe(t,e,n){if(typeof t!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ct("option "+s+" must be "+l,Ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ct("Unknown option "+s,Ct.ERR_BAD_OPTION)}}const M1={assertOptions:HLe,validators:mE},aa=M1.validators;class Td{constructor(e){this.defaults=e,this.interceptors={request:new EU,response:new EU}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Gd(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&M1.assertOptions(i,{silentJSONParsing:aa.transitional(aa.boolean),forcedJSONParsing:aa.transitional(aa.boolean),clarifyTimeoutError:aa.transitional(aa.boolean)},!1),r!=null&&(de.isFunction(r)?n.paramsSerializer={serialize:r}:M1.assertOptions(r,{encode:aa.function,serialize:aa.function},!0)),M1.assertOptions(n,{baseUrl:aa.spelling("baseURL"),withXsrfToken:aa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&de.merge(s.common,s[n.method]);s&&de.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=os.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,h;if(!l){const g=[kU.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let m=n;for(d=0;d<h;){const g=a[d++],y=a[d++];try{m=g(m)}catch(_){y.call(this,_);break}}try{u=kU.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Gd(this.defaults,e);const n=pK(e.baseURL,e.url);return cK(n,e.params,e.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(e){Td.prototype[e]=function(n,i){return this.request(Gd(i||{},{method:e,url:n,data:(i||{}).data}))}});de.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(Gd(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Td.prototype[e]=n(),Td.prototype[e+"Form"]=n(!0)});class GN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Xp(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new GN(function(r){e=r}),cancel:e}}}function WLe(t){return function(n){return t.apply(null,n)}}function GLe(t){return de.isObject(t)&&t.isAxiosError===!0}const PI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PI).forEach(([t,e])=>{PI[e]=t});function _K(t){const e=new Td(t),n=JY(Td.prototype.request,e);return de.extend(n,Td.prototype,e,{allOwnKeys:!0}),de.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return _K(Gd(t,r))},n}const ei=_K(a0);ei.Axios=Td;ei.CanceledError=Xp;ei.CancelToken=GN;ei.isCancel=fK;ei.VERSION=xK;ei.toFormData=hE;ei.AxiosError=Ct;ei.Cancel=ei.CanceledError;ei.all=function(e){return Promise.all(e)};ei.spread=WLe;ei.isAxiosError=GLe;ei.mergeConfig=Gd;ei.AxiosHeaders=os;ei.formToJSON=t=>dK(de.isHTMLForm(t)?new FormData(t):t);ei.getAdapter=yK.getAdapter;ei.HttpStatusCode=PI;ei.default=ei;var bK="https://js.stripe.com/v3",$Le=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var qLe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(bK,'"]')),n=0;n<e.length;n++){var i=e[n];if($Le.test(i.src))return i}return null},LU=function(e){var n="",i=document.createElement("script");i.src="".concat(bK).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},XLe=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.4.0",startTime:n})},rg=null,z_=null,B_=null,YLe=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},KLe=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},JLe=function(e){return rg!==null?rg:(rg=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var r=qLe();if(!(r&&e)){if(!r)r=LU(e);else if(r&&B_!==null&&z_!==null){var s;r.removeEventListener("load",B_),r.removeEventListener("error",z_),(s=r.parentNode)===null||s===void 0||s.removeChild(r),r=LU(e)}}B_=KLe(n,i),z_=YLe(i),r.addEventListener("load",B_),r.addEventListener("error",z_)}catch(o){i(o);return}}),rg.catch(function(n){return rg=null,Promise.reject(n)}))},QLe=function(e,n,i){if(e===null)return null;var r=e.apply(void 0,n);return XLe(r,i),r},sg,SK=!1,wK=function(){return sg||(sg=JLe(null).catch(function(e){return sg=null,Promise.reject(e)}),sg)};Promise.resolve().then(function(){return wK()}).catch(function(t){SK||console.warn(t)});var EK=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];SK=!0;var r=Date.now();return wK().then(function(s){return QLe(s,n,r)})};function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function OU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(i){TK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function P1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P1=function(e){return typeof e}:P1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P1(t)}function TK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t,e){return ZLe(t)||e3e(t,e)||t3e(t,e)||n3e()}function ZLe(t){if(Array.isArray(t))return t}function e3e(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function t3e(t,e){if(t){if(typeof t=="string")return FU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FU(t,e)}}function FU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xs=function(e,n,i){var r=!!i,s=ze.useRef(i);ze.useEffect(function(){s.current=i},[i]),ze.useEffect(function(){if(!r||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[r,n,e,s])},AI=function(e){var n=ze.useRef(e);return ze.useEffect(function(){n.current=e},[e]),n.current},wp=function(e){return e!==null&&P1(e)==="object"},i3e=function(e){return wp(e)&&typeof e.then=="function"},r3e=function(e){return wp(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},zU="[object Object]",s3e=function t(e,n){if(!wp(e)||!wp(n))return e===n;var i=Array.isArray(e),r=Array.isArray(n);if(i!==r)return!1;var s=Object.prototype.toString.call(e)===zU,o=Object.prototype.toString.call(n)===zU;if(s!==o)return!1;if(!s&&!i)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c={},u=0;u<a.length;u+=1)c[a[u]]=!0;for(var d=0;d<l.length;d+=1)c[l[d]]=!0;var h=Object.keys(c);if(h.length!==a.length)return!1;var m=e,g=n,y=function(v){return t(m[v],g[v])};return h.every(y)},MK=function(e,n,i){return wp(e)?Object.keys(e).reduce(function(r,s){var o=!wp(n)||!s3e(e[s],n[s]);return i.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),r):o?OU(OU({},r||{}),{},TK({},s,e[s])):r},null):null},PK="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",BU=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PK;if(e===null||r3e(e))return e;throw new Error(n)},o3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PK;if(i3e(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(r){return BU(r,n)})};var i=BU(e,n);return i===null?{tag:"empty"}:{tag:"sync",stripe:i}},a3e=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},gE=ze.createContext(null);gE.displayName="ElementsContext";var AK=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},$N=function(e){var n=e.stripe,i=e.options,r=e.children,s=ze.useMemo(function(){return o3e(n)},[n]),o=ze.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(i):null}}),a=CK(o,2),l=a[0],c=a[1];ze.useEffect(function(){var h=!0,m=function(y){c(function(_){return _.stripe?_:{stripe:y,elements:y.elements(i)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(g){g&&h&&m(g)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){h=!1}},[s,l,i]);var u=AI(n);ze.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var d=AI(i);return ze.useEffect(function(){if(l.elements){var h=MK(i,d,["clientSecret","fonts"]);h&&l.elements.update(h)}},[i,d,l.elements]),ze.useEffect(function(){a3e(l.stripe)},[l.stripe]),ze.createElement(gE.Provider,{value:l},r)};$N.propTypes={stripe:Dn.any,options:Dn.object};var l3e=function(e){var n=ze.useContext(gE);return AK(n,e)},IK=function(){var e=l3e("calls useElements()"),n=e.elements;return n};Dn.func.isRequired;var RK=ze.createContext(null);RK.displayName="CheckoutSdkContext";var c3e=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},u3e=ze.createContext(null);u3e.displayName="CheckoutContext";Dn.any,Dn.shape({clientSecret:Dn.string.isRequired,elementsOptions:Dn.object}).isRequired;var II=function(e){var n=ze.useContext(RK),i=ze.useContext(gE);if(n&&i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?c3e(n,e):AK(i,e)},d3e=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},fi=function(e,n){var i="".concat(d3e(e),"Element"),r=function(l){var c=l.id,u=l.className,d=l.options,h=d===void 0?{}:d,m=l.onBlur,g=l.onFocus,y=l.onReady,_=l.onChange,v=l.onEscape,x=l.onClick,b=l.onLoadError,E=l.onLoaderStart,M=l.onNetworksChange,C=l.onConfirm,R=l.onCancel,k=l.onShippingAddressChange,I=l.onShippingRateChange,P=II("mounts <".concat(i,">")),O="elements"in P?P.elements:null,z="checkoutSdk"in P?P.checkoutSdk:null,U=ze.useState(null),X=CK(U,2),W=X[0],K=X[1],j=ze.useRef(null),D=ze.useRef(null);xs(W,"blur",m),xs(W,"focus",g),xs(W,"escape",v),xs(W,"click",x),xs(W,"loaderror",b),xs(W,"loaderstart",E),xs(W,"networkschange",M),xs(W,"confirm",C),xs(W,"cancel",R),xs(W,"shippingaddresschange",k),xs(W,"shippingratechange",I),xs(W,"change",_);var B;y&&(e==="expressCheckout"?B=y:B=function(){y(W)}),xs(W,"ready",B),ze.useLayoutEffect(function(){if(j.current===null&&D.current!==null&&(O||z)){var J=null;z?J=z.createElement(e,h):O&&(J=O.create(e,h)),j.current=J,K(J),J&&J.mount(D.current)}},[O,z,h]);var $=AI(h);return ze.useEffect(function(){if(j.current){var J=MK(h,$,["paymentRequest"]);J&&"update"in j.current&&j.current.update(J)}},[h,$]),ze.useLayoutEffect(function(){return function(){if(j.current&&typeof j.current.destroy=="function")try{j.current.destroy(),j.current=null}catch{}}},[]),ze.createElement("div",{id:c,className:u,ref:D})},s=function(l){II("mounts <".concat(i,">"));var c=l.id,u=l.className;return ze.createElement("div",{id:c,className:u})},o=n?s:r;return o.propTypes={id:Dn.string,className:Dn.string,onChange:Dn.func,onBlur:Dn.func,onFocus:Dn.func,onReady:Dn.func,onEscape:Dn.func,onClick:Dn.func,onLoadError:Dn.func,onLoaderStart:Dn.func,onNetworksChange:Dn.func,onConfirm:Dn.func,onCancel:Dn.func,onShippingAddressChange:Dn.func,onShippingRateChange:Dn.func,options:Dn.object},o.displayName=i,o.__elementType=e,o},hi=typeof window>"u",f3e=ze.createContext(null);f3e.displayName="EmbeddedCheckoutProviderContext";var kK=function(){var e=II("calls useStripe()"),n=e.stripe;return n};fi("auBankAccount",hi);fi("card",hi);fi("cardNumber",hi);fi("cardExpiry",hi);fi("cardCvc",hi);fi("fpxBank",hi);fi("iban",hi);fi("idealBank",hi);fi("p24Bank",hi);fi("epsBank",hi);var NK=fi("payment",hi);fi("expressCheckout",hi);fi("currencySelector",hi);fi("paymentRequestButton",hi);fi("linkAuthentication",hi);fi("address",hi);fi("shippingAddress",hi);fi("paymentMethodMessaging",hi);fi("affirmMessage",hi);fi("afterpayClearpayMessage",hi);const UU=EK("pk_test_51Qe5S5CO8wO6DXWdN3KxfnZkuMPBmDe7InvPf6S3IqFSCipI8osSsz2KDm3b8stNDa7jub7Jxw3hyrwIVmCwUzRv00jhdmhbtX"),h3e=()=>{const[t,e]=L.useState([]),[n,i]=L.useState([]),[r,s]=L.useState(""),[o,a]=L.useState(!1),[l,c]=L.useState([]),{user:u}=L.useContext(ru);L.useEffect(()=>{const E=ao();if(u&&u.email){const M=Fi(E,"users/"+u.email.replace(".",","));vd(zd(M,"/cart/")).then(C=>{if(C.exists()){const R=C.val(),k=Object.entries(R).map(([I,P])=>{const O=P;return{key:I,title:O.title,description:O.description,Size:O.Size,color:O.color,price:O.price,quantity:O.quantity,imageUrl:O.imageUrl}});e(k)}}).catch(C=>{console.error(C)}),vd(zd(M,"/tours/")).then(C=>{if(C.exists()){const R=C.val(),k=Object.entries(R).map(([I,P])=>{const O=P,z=O.selectedSeats.map(U=>b(U));return c(z),{key:I,place:O.place,address:O.address,startDate:O.startDate,endDate:O.endDate,realPrice:O.realPrice,quantity:O.quantity,selectedSeats:O.selectedSeats,backstage:O.backstage,meet:O.meet,lounge:O.lounge}});i(k)}}).catch(C=>{console.error(C)})}},[u]);const[d,h]=L.useState(0),[m,g]=L.useState(0);L.useEffect(()=>{const E=t.reduce((R,k)=>R+k.price*k.quantity,0),M=n.reduce((R,k)=>R+k.realPrice*k.quantity,0),C=E+M;h(C),g(C*100)},[t,n]);const y=()=>{const E=t.reduce((R,k)=>R+k.price*k.quantity,0),M=n.reduce((R,k)=>R+k.realPrice*k.quantity,0),C=E+M;h(C),g(C*100)};function _(E,M){const C=ao();if(u&&u.email){if(M==="cart"){const R=[...t];R.splice(E,1);const k=Fi(C,`users/${u.email.replace(".",",")}/cart/${t[E].key}`);vg(k).catch(I=>{console.error("Error removing item from Firebase:",I)}),e(R)}else{const R=[...n];R.splice(E,1),i(R);const k=Fi(C,`users/${u.email.replace(".",",")}/tours/${n[E].key}`);vg(k).catch(I=>{console.error("Error removing item from Firebase:",I)})}y()}}function v(){ei.post("https://stripepaymentintentrequest-n7ggeoi6nq-uc.a.run.app",{email:u==null?void 0:u.email,amount:m}).then(E=>{E.status===200?s(E.data.paymentIntent):console.error("Failed to fetch payment intent")}).catch(E=>{console.error("Error:",E)}),a(!0)}function x(){const E=kK(),M=IK(),[C,R]=L.useState(null),[k,I]=L.useState(!1),{user:P}=L.useContext(ru),O=async z=>{z.preventDefault(),!(!E||!M)&&(I(!0),await E.confirmPayment({elements:M,confirmParams:{return_url:`${window.location.origin}/BPA-435-Project/#/`},redirect:"if_required"}).then(function(U){if(U.error)R(`Payment failed: ${U.error.message}`);else if(U.paymentIntent){R("Payment succeeded!");const X=ao();if(P&&P.email){a(!1),Vt.success("Payment Successful! You can view your order, shipping info, and tour tickets in the account page",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}});const W=Fi(X,`users/${P.email.replace(".",",")}/orders`);t.length>0&&Rb(W,{date:new Date().toLocaleDateString(),total:d,items:[...t]}).catch(B=>{console.error("Error adding item to Firebase:",B)});const K=Fi(X,`users/${P.email.replace(".",",")}/tourOrders`);Rb(K,{items:[...n]}).catch(B=>{console.error("Error adding item to Firebase:",B)}),n.forEach(B=>{const $=Fi(X,`${B.place}`);B.selectedSeats.forEach(J=>{f7($,{[J]:!0}).catch(ce=>{console.error("Error updating seat reservation in Firebase:",ce)})})});const j=Fi(X,`users/${P.email.replace(".",",")}/cart`);vg(j).catch(B=>{console.error("Error removing item from Firebase:",B)});const D=Fi(X,`users/${P.email.replace(".",",")}/tours`);vg(D).catch(B=>{console.error("Error removing item from Firebase:",B)}),e([]),i([])}else R("User information is missing.")}else R("Payment failed for an unknown reason.")}),I(!1))};return w.jsxs("form",{id:"payment-form",onSubmit:O,children:[w.jsx(NK,{id:"payment-element"}),w.jsx("button",{disabled:k||!E||!M,id:"submit",style:{display:"block",margin:"20px 0 0px 0",backgroundColor:"#E9204F",color:"white",padding:"10px 20px",borderRadius:"5px"},children:w.jsx("span",{id:"button-text",children:k?"Processing ... ":"Pay now"})}),C&&w.jsx("div",{id:"payment-message",children:C})]})}const b=E=>{const C="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(E/10)],R=E%10+1;return`${C}${R}`};return w.jsxs(fn,{bg:"#000000",color:"white",minH:"100vh",py:8,px:4,style:{paddingTop:"100px"},children:[w.jsx(s0,{}),w.jsx(fn,{textAlign:"center",mb:6,children:w.jsx(Pn,{fontSize:"3xl",color:"#E9204F",fontWeight:"bold",children:"Your Cart"})}),w.jsxs(ko,{alignItems:"flex-start",gap:8,flexDirection:{base:"column",md:"row"},children:[w.jsxs(fn,{textAlign:"center",bg:"gray.900",p:4,borderRadius:"md",w:{base:"100%",md:"400px"},mb:{base:4,md:0},maxW:{base:"100%",md:"500px"},ml:{base:"0",md:"auto"},order:{base:1,md:2},children:[w.jsxs(Pn,{fontSize:"2xl",fontWeight:"bold",mb:4,children:["Total: $",d.toFixed(2)]}),!o&&(t.length>0||n.length>0)&&w.jsx(Io,{as:"a",size:"lg",bg:"#E9204F",color:"white",_hover:{bg:"red.600"},w:"full",onClick:v,children:"Checkout"}),o&&r&&UU&&w.jsx("div",{style:{width:"100%",maxWidth:"600px",padding:"30px",backgroundColor:"#000000",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:w.jsx($N,{stripe:UU,options:{clientSecret:r,appearance:{theme:"night"}},children:w.jsx(x,{})})})]}),w.jsx(O8,{align:"stretch",flex:"2",gap:4,order:{base:2,md:1},children:t.length===0&&n.length===0?w.jsx(Pn,{fontSize:"xl",color:"white",textAlign:"center",children:"Your cart is empty."}):w.jsxs(w.Fragment,{children:[t.map((E,M)=>w.jsxs(ko,{bg:"gray.800",p:4,borderRadius:"md",alignItems:"flex-start",gap:4,w:"full",flexDirection:{base:"column",md:"row"},children:[w.jsx(Bh,{src:`/BPA-435-Project/${E.imageUrl}`,alt:E.title,boxSize:{base:"100%",md:"200px"},objectFit:"cover",borderRadius:"md"}),w.jsxs(fn,{flex:"1",children:[w.jsx(Pn,{fontSize:"lg",fontWeight:"bold",color:"#E9204F",children:E.title}),w.jsx(Pn,{children:E.description}),!E.title.toLowerCase().includes("vinyl")&&w.jsxs(w.Fragment,{children:[w.jsxs(Pn,{children:[w.jsx("strong",{children:"Size:"})," ",E.Size]}),w.jsxs(Pn,{children:[w.jsx("strong",{children:"Color:"})," ",E.color]})]}),w.jsxs(Pn,{children:[w.jsx("strong",{children:"Quantity:"})," ",E.quantity]})]}),w.jsxs(Pn,{fontSize:"lg",fontWeight:"bold",color:"white",children:["$",E.price.toFixed(2)]}),w.jsx(Ps,{onClick:()=>{_(M,"cart")},children:w.jsx(pF,{})})]},M)),n.length===0?w.jsx(Pn,{fontSize:"xl",color:"white",textAlign:"center",children:"You have no tours booked."}):n.map((E,M)=>w.jsxs(ko,{bg:"gray.800",p:4,borderRadius:"md",alignItems:"flex-start",gap:4,w:"full",flexDirection:{base:"column",md:"row"},children:[w.jsxs(fn,{flex:"1",children:[w.jsx(Pn,{fontSize:"lg",fontWeight:"bold",color:"#E9204F",children:E.place}),w.jsx(Pn,{children:E.address}),w.jsxs(Pn,{children:[w.jsx("strong",{children:"Start Date:"})," ",E.startDate]}),w.jsxs(Pn,{children:[w.jsx("strong",{children:"End Date:"})," ",E.endDate]}),w.jsxs(Pn,{children:[w.jsx("strong",{children:"Quantity:"})," ",E.quantity]}),E.selectedSeats.length>0&&w.jsxs(Pn,{children:[w.jsx("strong",{children:"Selected Seats:"})," ",l.join(", ")]}),(E.backstage||E.meet||E.lounge)&&w.jsxs(Pn,{children:[w.jsx("strong",{children:"Add Ons:"})," ",E.backstage&&"Backstage Access"," ",E.meet&&"Meet & Greet"," ",E.lounge&&"Lounge Access"]})]}),w.jsxs(Pn,{fontSize:"lg",fontWeight:"bold",color:"white",children:["$",E.realPrice.toFixed(2)]}),w.jsx(Ps,{onClick:()=>{_(M,"tour")},children:w.jsx(pF,{})})]},M))]})})]})]})};function p3e(){const t=kK(),e=IK(),[n,i]=L.useState(null),[r,s]=L.useState(!1),{user:o}=L.useContext(ru),a=async l=>{l.preventDefault(),!(!t||!e)&&(s(!0),await t.confirmPayment({elements:e,confirmParams:{return_url:`${window.location.origin}/BPA-435-Project/#/`},redirect:"if_required"}).then(function(c){if(c.error)i(`Payment failed: ${c.error.message}`);else if(c.paymentIntent){i("Payment succeeded!");const u=ao();if(o&&o.email){const d=Fi(u,`users/${o.email.replace(".",",")}/cart`);vg(d).catch(h=>{console.error("Error removing item from Firebase:",h)}),Vt.success("Payment Confirmed! expect a email soon containing shipping information/tour tickets",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}else i("User information is missing.")}else i("Payment failed for an unknown reason.")}),s(!1))};return w.jsxs("form",{id:"payment-form",onSubmit:a,children:[w.jsx(NK,{id:"payment-element"}),w.jsx("button",{disabled:r||!t||!e,id:"submit",style:{display:"block",margin:"20px 0 0px 0",backgroundColor:"#E9204F",color:"white",padding:"10px 20px",borderRadius:"5px"},children:w.jsx("span",{id:"button-text",children:r?"Processing ... ":"Pay now"})}),n&&w.jsx("div",{id:"payment-message",children:n})]})}const VU=EK("pk_test_51Qe5S5CO8wO6DXWdN3KxfnZkuMPBmDe7InvPf6S3IqFSCipI8osSsz2KDm3b8stNDa7jub7Jxw3hyrwIVmCwUzRv00jhdmhbtX");function m3e(){const[t,e]=L.useState(""),n=ho(),{amount:i}=n.state||{},{user:r}=hp();return L.useEffect(()=>{ei.post("https://stripepaymentintentrequest-n7ggeoi6nq-uc.a.run.app",{email:r==null?void 0:r.email,amount:i}).then(s=>{s.status===200?e(s.data.paymentIntent):console.error("Failed to fetch payment intent")}).catch(s=>{console.error("Error:",s)})},[]),w.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#000000"},children:[w.jsx("h1",{style:{color:"#333",marginBottom:"20px"},children:"React Stripe and the Payment Element"}),t&&VU&&w.jsx($N,{stripe:VU,options:{clientSecret:t},children:w.jsx("div",{style:{width:"100%",maxWidth:"500px",padding:"20px",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:w.jsx(p3e,{})})})]})}const g3e=()=>w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{padding:"20px",fontFamily:"Sansation",fontWeight:"700",lineHeight:"1.6",maxWidth:"800px",margin:"50px auto",color:"#fff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[w.jsx("h1",{style:{color:"#fff",textAlign:"center",fontSize:"2.5em",marginBottom:"20px"},children:"Terms of Service"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"Welcome to our Stage Fright's official website! By using this site and placing an order, you agree to the following terms:"}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"1. Returns"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Items can only be returned within 90 days of purchase."}),w.jsx("li",{children:"Returned items must be in their original condition (unworn, unused, and with original tags/packaging if applicable)."}),w.jsx("li",{children:"Refunds for returned items will be issued to the original payment method. Shipping costs are non-refundable unless the return is due to our error (e.g., wrong or defective item)."}),w.jsx("li",{children:"Returns outside the 90-day window will not be accepted."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"2. Order Cancellations"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Orders can only be canceled within 24 hours of being placed."}),w.jsx("li",{children:"To cancel your order, you must email our support team at support.stagefright@gmail.com with your order number and the reason for cancellation."}),w.jsx("li",{children:"Cancellations requested after the 24-hour period cannot be accommodated as the order may already be processed or shipped."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"3. Shipping and Delivery"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"We strive to ship all orders promptly, but delivery times may vary based on location and shipping method."}),w.jsx("li",{children:"Please ensure your shipping address is accurate when placing your order, as we are not responsible for lost packages due to incorrect information."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"4. Contact Us"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"For any questions, issues, or concerns regarding your order, please reach out to us at support.stagefright@gmail.com. We’re here to help!"}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"5. Changes to These Terms"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may update these Terms of Service from time to time. Please check back periodically to stay informed of any changes."}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"By using our website and placing an order, you acknowledge that you have read and agree to these terms. Thank you for supporting our band!"})]}),w.jsx(jl,{})]}),v3e=()=>w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{padding:"20px",fontFamily:"Sansation",fontWeight:"700",lineHeight:"1.6",maxWidth:"800px",margin:"50px auto",color:"#fff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[w.jsx("h1",{style:{color:"#fff",textAlign:"center",fontSize:"2.5em",marginBottom:"20px"},children:"Privacy Policy"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We value your privacy and are committed to protecting your personal information. This Privacy Policy outlines how we collect, use, and protect the information you provide when visiting our website or placing an order."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"1. Information We Collect"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Personal Information: When you place an order or contact us, we may collect personal information such as your name, email address, shipping address, and payment details."}),w.jsx("li",{children:"Non-Personal Information: We may also collect non-personal information like your browser type, device information, and website usage data to improve your experience on our site."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"2. How We Use Your Information"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"To process and fulfill your orders, including shipping and payment."}),w.jsx("li",{children:"To provide customer support and respond to your inquiries."}),w.jsx("li",{children:"To improve our website, products, and services."}),w.jsx("li",{children:"To send you updates about your order or promotional offers (only if you’ve opted in)."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"3. How We Protect Your Information"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"Your information is stored securely, and we use encryption and other security measures to protect it."}),w.jsx("li",{children:"We do not share your personal information with third parties, except as necessary to fulfill your order (e.g., sharing your address with a shipping provider)."}),w.jsx("li",{children:"We do not sell, rent, or trade your personal data."})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"4. Cookies"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"Our website uses cookies to improve functionality and enhance your experience. Cookies allow us to track website usage and remember your preferences. You can disable cookies in your browser settings, but some features of the site may not work properly."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"5. Third-Party Services"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may use trusted third-party services (e.g., payment processors or analytics providers) to help run our website. These providers are only given the information necessary to perform their services and are required to protect your data."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"6. Your Rights"}),w.jsxs("ul",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:[w.jsx("li",{children:"You have the right to access, update, or delete your personal information. To request changes, please email us at support.stagefright@gmail.com."}),w.jsx("li",{children:'You can opt out of receiving promotional emails by clicking the "unsubscribe" link at the bottom of any marketing email.'})]}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"7. Changes to This Policy"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"We may update this Privacy Policy as needed. Any changes will be posted on this page, and the updated policy will take effect immediately upon posting."}),w.jsx("h2",{style:{color:"#fff",fontSize:"2em",marginBottom:"10px"},children:"8. Contact Us"}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"If you have questions or concerns about this Privacy Policy, please reach out to us at support.stagefright@gmail.com."}),w.jsx("p",{style:{color:"#fff",fontSize:"1.2em",marginBottom:"20px"},children:"By using our website, you agree to the terms of this Privacy Policy. Thank you for trusting us with your information!"})]}),w.jsx(jl,{})]});var vE={},LK={L:1,M:0,Q:3,H:2},DK={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},y3e=DK;function OK(t){this.mode=y3e.MODE_8BIT_BYTE,this.data=t}OK.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var x3e=OK,U_=LK;function ha(t,e){this.totalCount=t,this.dataCount=e}ha.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ha.getRSBlocks=function(t,e){var n=ha.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,r=new Array,s=0;s<i;s++)for(var o=n[s*3+0],a=n[s*3+1],l=n[s*3+2],c=0;c<o;c++)r.push(new ha(a,l));return r};ha.getRsBlockTable=function(t,e){switch(e){case U_.L:return ha.RS_BLOCK_TABLE[(t-1)*4+0];case U_.M:return ha.RS_BLOCK_TABLE[(t-1)*4+1];case U_.Q:return ha.RS_BLOCK_TABLE[(t-1)*4+2];case U_.H:return ha.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var _3e=ha;function FK(){this.buffer=new Array,this.length=0}FK.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var b3e=FK,Lo={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Lo.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Lo.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ji=0;Ji<8;Ji++)Lo.EXP_TABLE[Ji]=1<<Ji;for(var Ji=8;Ji<256;Ji++)Lo.EXP_TABLE[Ji]=Lo.EXP_TABLE[Ji-4]^Lo.EXP_TABLE[Ji-5]^Lo.EXP_TABLE[Ji-6]^Lo.EXP_TABLE[Ji-8];for(var Ji=0;Ji<255;Ji++)Lo.LOG_TABLE[Lo.EXP_TABLE[Ji]]=Ji;var zK=Lo,Wu=zK;function A1(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}A1.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=Wu.gexp(Wu.glog(this.get(n))+Wu.glog(t.get(i)));return new A1(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Wu.glog(this.get(0))-Wu.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<t.getLength();i++)n[i]^=Wu.gexp(Wu.glog(t.get(i))+e);return new A1(n,0).mod(t)}};var BK=A1,Js=DK,jU=BK,S3e=zK,pc={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Gi={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Gi.getBCHDigit(e)-Gi.getBCHDigit(Gi.G15)>=0;)e^=Gi.G15<<Gi.getBCHDigit(e)-Gi.getBCHDigit(Gi.G15);return(t<<10|e)^Gi.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Gi.getBCHDigit(e)-Gi.getBCHDigit(Gi.G18)>=0;)e^=Gi.G18<<Gi.getBCHDigit(e)-Gi.getBCHDigit(Gi.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Gi.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case pc.PATTERN000:return(e+n)%2==0;case pc.PATTERN001:return e%2==0;case pc.PATTERN010:return n%3==0;case pc.PATTERN011:return(e+n)%3==0;case pc.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case pc.PATTERN101:return e*n%2+e*n%3==0;case pc.PATTERN110:return(e*n%2+e*n%3)%2==0;case pc.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new jU([1],0),n=0;n<t;n++)e=e.multiply(new jU([1,S3e.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Js.MODE_NUMBER:return 10;case Js.MODE_ALPHA_NUM:return 9;case Js.MODE_8BIT_BYTE:return 8;case Js.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Js.MODE_NUMBER:return 12;case Js.MODE_ALPHA_NUM:return 11;case Js.MODE_8BIT_BYTE:return 16;case Js.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Js.MODE_NUMBER:return 14;case Js.MODE_ALPHA_NUM:return 13;case Js.MODE_8BIT_BYTE:return 16;case Js.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var r=0;r<e;r++){for(var s=0,o=t.isDark(i,r),a=-1;a<=1;a++)if(!(i+a<0||e<=i+a))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||a==0&&l==0||o==t.isDark(i+a,r+l)&&s++;s>5&&(n+=3+s-5)}for(var i=0;i<e-1;i++)for(var r=0;r<e-1;r++){var c=0;t.isDark(i,r)&&c++,t.isDark(i+1,r)&&c++,t.isDark(i,r+1)&&c++,t.isDark(i+1,r+1)&&c++,(c==0||c==4)&&(n+=3)}for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var u=0,r=0;r<e;r++)for(var i=0;i<e;i++)t.isDark(i,r)&&u++;var d=Math.abs(100*u/e/e-50)/5;return n+=d*10,n}},w3e=Gi,E3e=x3e,UK=_3e,VK=b3e,vu=w3e,T3e=BK;function xa(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Fs=xa.prototype;Fs.addData=function(t){var e=new E3e(t);this.dataList.push(e),this.dataCache=null};Fs.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};Fs.getModuleCount=function(){return this.moduleCount};Fs.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=UK.getRSBlocks(t,this.errorCorrectLevel),n=new VK,i=0,r=0;r<e.length;r++)i+=e[r].dataCount;for(var r=0;r<this.dataList.length;r++){var s=this.dataList[r];n.put(s.mode,4),n.put(s.getLength(),vu.getLengthInBits(s.mode,t)),s.write(n)}if(n.getLengthInBits()<=i*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};Fs.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=xa.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};Fs.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(0<=n&&n<=6&&(i==0||i==6)||0<=i&&i<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=i&&i<=4?this.modules[t+n][e+i]=!0:this.modules[t+n][e+i]=!1)};Fs.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=vu.getLostPoint(this);(n==0||t>i)&&(t=i,e=n)}return e};Fs.createMovieClip=function(t,e,n){var i=t.createEmptyMovieClip(e,n),r=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*r,a=0;a<this.modules[s].length;a++){var l=a*r,c=this.modules[s][a];c&&(i.beginFill(0,100),i.moveTo(l,o),i.lineTo(l+r,o),i.lineTo(l+r,o+r),i.lineTo(l,o+r),i.endFill())}return i};Fs.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};Fs.setupPositionAdjustPattern=function(){for(var t=vu.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],r=t[n];if(this.modules[i][r]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[i+s][r+o]=!0:this.modules[i+s][r+o]=!1}};Fs.setupTypeNumber=function(t){for(var e=vu.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}};Fs.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=vu.getBCHTypeInfo(n),r=0;r<15;r++){var s=!t&&(i>>r&1)==1;r<6?this.modules[r][8]=s:r<8?this.modules[r+1][8]=s:this.modules[this.moduleCount-15+r][8]=s}for(var r=0;r<15;r++){var s=!t&&(i>>r&1)==1;r<8?this.modules[8][this.moduleCount-r-1]=s:r<9?this.modules[8][15-r-1+1]=s:this.modules[8][15-r-1]=s}this.modules[this.moduleCount-8][8]=!t};Fs.mapData=function(t,e){for(var n=-1,i=this.moduleCount-1,r=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[i][o-a]==null){var l=!1;s<t.length&&(l=(t[s]>>>r&1)==1);var c=vu.getMask(e,i,o-a);c&&(l=!l),this.modules[i][o-a]=l,r--,r==-1&&(s++,r=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}};xa.PAD0=236;xa.PAD1=17;xa.createData=function(t,e,n){for(var i=UK.getRSBlocks(t,e),r=new VK,s=0;s<n.length;s++){var o=n[s];r.put(o.mode,4),r.put(o.getLength(),vu.getLengthInBits(o.mode,t)),o.write(r)}for(var a=0,s=0;s<i.length;s++)a+=i[s].dataCount;if(r.getLengthInBits()>a*8)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+a*8+")");for(r.getLengthInBits()+4<=a*8&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=a*8||(r.put(xa.PAD0,8),r.getLengthInBits()>=a*8));)r.put(xa.PAD1,8);return xa.createBytes(r,i)};xa.createBytes=function(t,e){for(var n=0,i=0,r=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,c=e[a].totalCount-l;i=Math.max(i,l),r=Math.max(r,c),s[a]=new Array(l);for(var u=0;u<s[a].length;u++)s[a][u]=255&t.buffer[u+n];n+=l;var d=vu.getErrorCorrectPolynomial(c),h=new T3e(s[a],d.getLength()-1),m=h.mod(d);o[a]=new Array(d.getLength()-1);for(var u=0;u<o[a].length;u++){var g=u+m.getLength()-o[a].length;o[a][u]=g>=0?m.get(g):0}}for(var y=0,u=0;u<e.length;u++)y+=e[u].totalCount;for(var _=new Array(y),v=0,u=0;u<i;u++)for(var a=0;a<e.length;a++)u<s[a].length&&(_[v++]=s[a][u]);for(var u=0;u<r;u++)for(var a=0;a<e.length;a++)u<o[a].length&&(_[v++]=o[a][u]);return _};var C3e=xa,qN={};Object.defineProperty(qN,"__esModule",{value:!0});var M3e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},P3e=zN,Qs=HK(P3e),jK=L,V_=HK(jK);function HK(t){return t&&t.__esModule?t:{default:t}}function A3e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var I3e={bgColor:Qs.default.oneOfType([Qs.default.object,Qs.default.string]).isRequired,bgD:Qs.default.string.isRequired,fgColor:Qs.default.oneOfType([Qs.default.object,Qs.default.string]).isRequired,fgD:Qs.default.string.isRequired,size:Qs.default.number.isRequired,title:Qs.default.string,viewBoxSize:Qs.default.number.isRequired,xmlns:Qs.default.string},XN=(0,jK.forwardRef)(function(t,e){var n=t.bgColor,i=t.bgD,r=t.fgD,s=t.fgColor,o=t.size,a=t.title,l=t.viewBoxSize,c=t.xmlns,u=c===void 0?"http://www.w3.org/2000/svg":c,d=A3e(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return V_.default.createElement("svg",M3e({},d,{height:o,ref:e,viewBox:"0 0 "+l+" "+l,width:o,xmlns:u}),a?V_.default.createElement("title",null,a):null,V_.default.createElement("path",{d:i,fill:n}),V_.default.createElement("path",{d:r,fill:s}))});XN.displayName="QRCodeSvg";XN.propTypes=I3e;qN.default=XN;Object.defineProperty(vE,"__esModule",{value:!0});vE.QRCode=void 0;var R3e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},k3e=zN,Za=l0(k3e),N3e=LK,L3e=l0(N3e),D3e=C3e,O3e=l0(D3e),WK=L,F3e=l0(WK),z3e=qN,B3e=l0(z3e);function l0(t){return t&&t.__esModule?t:{default:t}}function U3e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var V3e={bgColor:Za.default.oneOfType([Za.default.object,Za.default.string]),fgColor:Za.default.oneOfType([Za.default.object,Za.default.string]),level:Za.default.string,size:Za.default.number,value:Za.default.string.isRequired},yE=(0,WK.forwardRef)(function(t,e){var n=t.bgColor,i=n===void 0?"#FFFFFF":n,r=t.fgColor,s=r===void 0?"#000000":r,o=t.level,a=o===void 0?"L":o,l=t.size,c=l===void 0?256:l,u=t.value,d=U3e(t,["bgColor","fgColor","level","size","value"]),h=new O3e.default(-1,L3e.default[a]);h.addData(u),h.make();var m=h.modules;return F3e.default.createElement(B3e.default,R3e({},d,{bgColor:i,bgD:m.map(function(g,y){return g.map(function(_,v){return _?"":"M "+v+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:s,fgD:m.map(function(g,y){return g.map(function(_,v){return _?"M "+v+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:c,viewBoxSize:m.length}))});vE.QRCode=yE;yE.displayName="QRCode";yE.propTypes=V3e;var j3e=vE.default=yE;const H3e=()=>{const[t,e]=L.useState("profile"),{user:n}=L.useContext(ru),[i,r]=L.useState([]),[s,o]=L.useState([]),[a,l]=L.useState(!1),[c,u]=L.useState({name:null,email:null,phone:null}),[d,h]=L.useState(""),[m,g]=L.useState(""),[y,_]=L.useState(""),[v,x]=L.useState(""),[b,E]=L.useState(""),[M,C]=L.useState(""),{handleSignout:R}=hp(),k=[{id:"profile",label:"Profile",icon:w.jsx(zM,{style:{width:"20px",height:"20px"}})},{id:"security",label:"Security",icon:w.jsx(N_,{style:{width:"20px",height:"20px"}})},{id:"Orders",label:"Orders",icon:w.jsx(kRe,{style:{width:"20px",height:"20px"}})},{id:"Tour",label:"Tour",icon:w.jsx(MRe,{style:{width:"20px",height:"20px"}})}];L.useEffect(()=>{if(n){const W=ao(),K=Fi(W,"users/"+(n.email?n.email.replace(".",","):""));vd(K).then(B=>{if(B.exists()){const $=B.val();u({name:$.Name,email:n.email,phone:$.Phone}),h($.Name),g($.email),_($.Phone)}}).catch(B=>{console.error(B)});const j=Fi(W,"users/"+(n.email?n.email.replace(".",",")+"/orders":""));vd(j).then(B=>{if(B.exists()){const $=B.val(),J=Object.values($).map(ce=>({date:ce.date,items:ce.items,total:ce.total}));console.log(J),console.log(i),r(J)}}).catch(B=>{console.error(B)});const D=Fi(W,"users/"+(n.email?n.email.replace(".",",")+"/tourOrders":""));vd(D).then(B=>{if(B.exists()){const $=B.val(),J=Object.values($).map(ce=>({date:ce.date,items:ce.items}));o(J)}}).catch(B=>{console.error(B)})}},[n]);const I=()=>{if(n){const W=ao(),K=Fi(W,"users/"+(n.email?n.email.replace(".",","):""));f7(K,{Name:d,Email:m,Phone:y}).then(()=>{console.log("User data updated successfully."),u({name:d,email:m,phone:y})}).catch(j=>{console.error("Error updating user data: ",j)})}},P=W=>{const j=(""+W).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return j?`(${j[1]})-${j[2]}-${j[3]}`:W},O=W=>{const j="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(W/10)],D=W%10+1;return`${j}${D}`},{handlePasswordChange:z,handleUpdatePassword:U}=hp(),X=()=>{b===M?U().then(()=>{x(""),E(""),C(""),Vt.success("Password Change Successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{color:"#E9204F",backgroundColor:"#2C2C2C"}})}).catch(W=>{console.error("Error updating password: ",W)}):console.error("Passwords do not match.")};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:W3e,children:[w.jsx(s0,{}),n?w.jsxs("div",{style:G3e,children:[w.jsxs("div",{style:$3e,children:[w.jsx("div",{style:X3e,children:w.jsxs("div",{children:[w.jsx("h2",{style:{margin:0,fontSize:"16px"},children:c.name}),w.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#A0A0A0"},children:c.email})]})}),w.jsxs("nav",{children:[k.map(W=>w.jsxs("button",{onClick:()=>e(W.id),style:Y3e(t===W.id),children:[W.icon,w.jsx("span",{children:W.label})]},W.id)),w.jsxs("button",{onClick:()=>{R(),window.location.href="/BPA-435-Project/signin"},style:K3e,children:[w.jsx(ARe,{style:{width:"20px",height:"20px"}}),w.jsx("span",{children:"Sign out"})]})]})]}),w.jsxs("div",{style:q3e,children:[t==="profile"&&w.jsxs("div",{children:[w.jsx("h1",{style:{fontSize:"24px",marginBottom:"24px"},children:"Profile Information"}),w.jsx("div",{children:a?w.jsxs("div",{style:{marginTop:"16px"},children:[w.jsxs("div",{style:wo,children:[w.jsx(zM,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Full Name"}),w.jsx("input",{type:"text",value:d||"",onChange:W=>h(W.target.value),style:og})]})]}),w.jsxs("div",{style:wo,children:[w.jsx(uU,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Email Address"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:m||"Not set"}),w.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#FF4545"},children:"Email address cannot be updated. Please contact us to learn more."})]})]}),w.jsxs("div",{style:wo,children:[w.jsx(dU,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Phone Number"}),w.jsx("input",{type:"text",value:y||"",onChange:W=>_(W.target.value),style:og})]})]}),w.jsx("button",{style:j_,onClick:()=>{l(!1),I()},children:"Save"}),w.jsx("button",{style:{...j_,backgroundColor:"#FF4545",marginLeft:"8px"},onClick:()=>l(!1),children:"Cancel"})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:wo,children:[w.jsx(zM,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Full Name"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.name||"Not set"})]})]}),w.jsxs("div",{style:wo,children:[w.jsx(uU,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Email Address"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.email||"Not set"})]})]}),w.jsxs("div",{style:wo,children:[w.jsx(dU,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Phone Number"}),w.jsx("p",{style:{margin:0,fontWeight:500},children:c.phone?P(c.phone):"Not set"})]})]}),w.jsx("button",{style:j_,onClick:()=>l(!0),children:"Edit Profile"})]})})]}),t==="Orders"&&w.jsx(w.Fragment,{children:i.length>0?i.map((W,K)=>w.jsxs("div",{style:{marginBottom:"24px"},children:[w.jsxs("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:["Order Date: ",W.date]}),w.jsx("p",{style:{fontSize:"16px",color:"#A0A0A0"},children:"Awaiting shipping info"}),W.items.map((j,D)=>w.jsxs("div",{style:wo,children:[w.jsx("img",{src:`/BPA-435-Project/${j.imageUrl}`,alt:j.title,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"}}),w.jsxs("div",{style:{flex:1},children:[w.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#E9204F"},children:j.title}),w.jsx("p",{children:j.description}),!j.title.toLowerCase().includes("vinyl")&&w.jsxs(w.Fragment,{children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Size:"})," ",j.Size]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Color:"})," ",j.color]})]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Quantity:"})," ",j.quantity]})]}),w.jsxs("p",{style:{fontSize:"16px",fontWeight:"bold",color:"white"},children:["$",j.price.toFixed(2)]})]},D)),w.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"white",marginTop:"16px"},children:["Total: $",W.total.toFixed(2)]})]},K)):w.jsx("p",{children:"No orders found."})}),t==="Tour"&&w.jsxs(w.Fragment,{children:["                                    ",w.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"Tour Dates:"}),s.length>0?s.map((W,K)=>w.jsx("div",{style:{marginBottom:"24px"},children:W.items.map((j,D)=>w.jsxs("div",{style:wo,children:[w.jsxs("div",{style:{flex:1},children:[w.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",color:"#E9204F"},children:j.place}),w.jsxs("p",{children:[w.jsx("strong",{children:"Address:"})," ",j.address]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Start Date:"})," ",j.startDate]}),w.jsxs("p",{children:[w.jsx("strong",{children:"End Date:"})," ",j.endDate]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Seats:"})," ",j.selectedSeats.map(O).join(", ")]}),w.jsx("p",{style:{fontSize:"12px",color:"#A0A0A0",marginTop:"8px"},children:"Scan this code at the venue for admission"})]}),w.jsx(j3e,{value:`Email: ${c.email}, Place: ${j.place}, Start Date: ${j.startDate}, End Date: ${j.endDate}, Seats: ${j.selectedSeats.join(", ")}`,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"Q"})]},D))},K)):w.jsx("p",{children:"No tour orders found."})]}),t==="security"&&w.jsxs("div",{children:[w.jsx("h1",{style:{fontSize:"24px",marginBottom:"24px"},children:"Security Settings"}),w.jsx("p",{style:{color:"#A0A0A0"},children:"Manage your account security and privacy settings."}),w.jsxs("div",{style:{marginTop:"16px"},children:[w.jsxs("div",{style:wo,children:[w.jsx(N_,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Current Password"}),w.jsx("input",{type:"password",value:v,onChange:W=>x(W.target.value),style:og})]})]}),w.jsxs("div",{style:wo,children:[w.jsx(N_,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"New Password"}),w.jsx("input",{type:"password",value:b,onChange:W=>{E(W.target.value),z(W)},style:og})]})]}),w.jsxs("div",{style:wo,children:[w.jsx(N_,{style:{width:"24px",height:"24px",color:"#A0A0A0"}}),w.jsxs("div",{children:[w.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"14px",color:"#A0A0A0"},children:"Confirm New Password"}),w.jsx("input",{type:"password",value:M,onChange:W=>C(W.target.value),style:og})]})]}),w.jsx("button",{style:j_,onClick:X,children:"Update Password"})]})]})]})]}):w.jsx("div",{style:{textAlign:"center",color:"#A0A0A0"},children:w.jsx("h1",{children:"Please login to view your account information."})})]}),w.jsx(jl,{})]})},W3e={minHeight:"80vh",backgroundColor:"#121212",color:"#ffffff",padding:"32px",marginTop:"72px",display:"flex",flexDirection:"column",alignItems:"center"},G3e={backgroundColor:"#1E1E1E",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",width:"100%",maxWidth:"1200px",minHeight:"600px",overflow:"hidden"},$3e={borderRight:"1px solid #333",padding:"24px",flex:"1 1 100%",maxWidth:"300px",boxSizing:"border-box"},q3e={padding:"32px",flex:"3 1 100%",boxSizing:"border-box"},X3e={display:"flex",alignItems:"center",gap:"12px",marginBottom:"32px",flexDirection:"column",textAlign:"center"},Y3e=t=>({width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:t?"#2D2D2D":"transparent",color:t?"#ffffff":"#A0A0A0",border:"none",borderRadius:"6px",cursor:"pointer",marginBottom:"8px",transition:"all 0.2s ease",textAlign:"left",justifyContent:"center"}),wo={backgroundColor:"#2D2D2D",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px",flexDirection:"column",textAlign:"center"},j_={backgroundColor:"#007AFF",color:"white",padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},og={width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #A0A0A0",backgroundColor:"#1E1E1E",color:"#ffffff",marginBottom:"8px"},K3e={width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:"transparent",color:"#FF4545",border:"none",borderRadius:"6px",cursor:"pointer",marginTop:"16px",textAlign:"center",justifyContent:"center"},ru=L.createContext({user:null,setUser:()=>{}});function J3e(){const[t,e]=L.useState(null);return L.useEffect(()=>{const n=ca.onAuthStateChanged(i=>{e(i)});return()=>n()},[ca]),w.jsx(ru.Provider,{value:{user:t,setUser:e},children:w.jsx(V8,{children:w.jsxs(Rde,{children:[w.jsx("div",{style:{position:"fixed",top:0,width:"100%",zIndex:1e3},children:w.jsx(o0e,{})}),w.jsxs(ade,{children:[w.jsx(Ar,{path:"/",element:w.jsx(URe,{})}),w.jsx(Ar,{path:"/about-us",element:w.jsx(HRe,{})}),w.jsx(Ar,{path:"/tour",element:w.jsx(qRe,{})}),w.jsx(Ar,{path:"/store",element:w.jsx($Re,{})}),w.jsx(Ar,{path:"/contact-us",element:w.jsx(P2e,{})}),w.jsx(Ar,{path:"/checkout",element:w.jsx(fNe,{})}),w.jsx(Ar,{path:"/tour_details",element:w.jsx(pNe,{})}),w.jsx(Ar,{path:"/login",element:w.jsx(mNe,{})}),w.jsx(Ar,{path:"/signup",element:w.jsx(gNe,{})}),w.jsx(Ar,{path:"/cart",element:w.jsx(h3e,{})}),w.jsx(Ar,{path:"/payment",element:w.jsx(m3e,{})}),w.jsx(Ar,{path:"/terms",element:w.jsx(g3e,{})}),w.jsx(Ar,{path:"/privacy",element:w.jsx(v3e,{})}),w.jsx(Ar,{path:"/account",element:w.jsx(H3e,{})})]})]})})})}dH(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(V8,{children:w.jsx(J3e,{})})}));
